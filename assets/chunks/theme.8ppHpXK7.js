const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPLocalSearchBox.DoK7pjgR.js","assets/chunks/framework.DwRXKiMT.js"])))=>i.map(i=>d[i]);
var Xa=Object.defineProperty;var Pa=r=>{throw TypeError(r)};var Ja=(r,n,g)=>n in r?Xa(r,n,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[n]=g;var Pr=(r,n,g)=>Ja(r,typeof n!="symbol"?n+"":n,g),Aa=(r,n,g)=>n.has(r)||Pa("Cannot "+g);var xr=(r,n,g)=>(Aa(r,n,"read from private field"),g?g.call(r):n.get(r)),ha=(r,n,g)=>n.has(r)?Pa("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(r):n.set(r,g);var ur=(r,n,g)=>(Aa(r,n,"access private method"),g);import{M as Mt$1,r as ref$1,a as readonly,g as getCurrentScope,o as onScopeDispose,u as unref,b as onUnmounted,c as getCurrentInstance,d as computed,w as watch$1,n as nextTick$1,e as onMounted,i as inject,f as isArray$5,h as isObject$7,j as isString$3,s as shallowRef,k as watchEffect,l as customRef,m as isRef,p as hasOwn$1,q as warn,t as isFunction$3,v as provide,x as camelize,y as defineComponent,z as openBlock,A as createElementBlock,B as createBaseVNode,C as renderSlot,D as normalizeClass,E as normalizeStyle$1,N as NOOP,F as mergeProps,G as useSlots,H as createBlock,I as withCtx,J as withDirectives,K as resolveDynamicComponent,L as createCommentVNode,O as createTextVNode,P as toDisplayString,Q as Fragment,R as createVNode$1,S as vShow,T as Transition,U as toRef,V as useAttrs$1,W as withModifiers,X as onBeforeUnmount,Y as reactive,Z as onActivated,_ as onUpdated,$ as cloneVNode,a0 as Text$2,a1 as Comment,a2 as Teleport$1,a3 as onBeforeMount,a4 as onDeactivated,a5 as renderList,a6 as withKeys,a7 as createSlots,a8 as isDate,a9 as normalizeProps,aa as guardReactiveProps,ab as isVNode,ac as toRaw,ad as vModelCheckbox,ae as toRefs,af as vModelRadio,ag as h$1,ah as resolveComponent,ai as capitalize$1,aj as onBeforeUpdate,ak as isPromise,al as vModelText,am as toHandlers,an as TransitionGroup,ao as markRaw,ap as effectScope,aq as isPlainObject$2,ar as resolveDirective,as as toHandlerKey,at as render$4,au as createApp,av as hyphenate,aw as shallowReactive,ax as _export_sfc$1,ay as useData$2,az as isExternal,aA as treatAsHtml,aB as withBase,aC as isActive,aD as useMediaQuery,aE as watchPostEffect,aF as getScrollOffset,aG as onContentUpdated,aH as EXTERNAL_URL_RE,aI as useRoute,aJ as useWindowSize$1,aK as onKeyStroke,aL as useWindowScroll,aM as inBrowser,aN as defineAsyncComponent,aO as __vitePreload,aP as useScrollLock,aQ as useModel,aR as isReactive}from"./framework.DwRXKiMT.js";var Se$1=Object.defineProperty,Ze$1=Object.getOwnPropertyDescriptor,Qe$1=Object.getOwnPropertyNames,Je$1=Object.prototype.hasOwnProperty,et$1=(r,n)=>{for(var g in n)Se$1(r,g,{get:n[g],enumerable:!0})},Ee$1=(r,n,g,y)=>{if(n&&typeof n=="object"||typeof n=="function")for(let $ of Qe$1(n))!Je$1.call(r,$)&&$!==g&&Se$1(r,$,{get:()=>n[$],enumerable:!(y=Ze$1(n,$))||y.enumerable});return r},fe$1=(r,n,g)=>(Ee$1(r,n,"default"),g),tt$1=Object.prototype.toString;function N$2(r,n){return tt$1.call(r)===`[object ${n}]`}function G$1(r){return r!==null&&N$2(r,"Object")}function V(r){return typeof r<"u"}function Ae$1(r){return!V(r)}function ve$1(r){return r===null}function nt$1(r){return ve$1(r)||Ae$1(r)}function rt$2(r){return v$1(r)||O$1(r)?r.length===0:r instanceof Map||r instanceof Set?r.size===0:G$1(r)?Object.keys(r).length===0:!1}function j(r){return!!(rt$2(r)||nt$1(r))}function O$1(r){return N$2(r,"String")}function z(r){return typeof r=="function"}function v$1(r){return r&&Array.isArray(r)}var it$1=Object.prototype.toString;function at$1(r,n){return r&&r.hasOwnProperty?r.hasOwnProperty(n):!1}function ct$1(r,n,g){if(r)if(r.forEach)r.forEach(n,g);else for(let y=0,$=r.length;y<$;y++)n.call(g,r[y],y,r)}function lt$3(r,n,g){if(r)for(let y in r)at$1(r,y)&&n.call(g,r[y],y,r)}function pe(r,n){let g=r.__proto__.constructor;return n?new g(n):new g}function oe(r,n){return n?de(r,n):r}function de(r,n){if(r)switch(it$1.call(r)){case"[object Object]":{let g=Object.create(r.__proto__);return lt$3(r,function(y,$){g[$]=oe(y,n)}),g}case"[object Date]":case"[object RegExp]":return pe(r,r.valueOf());case"[object Array]":case"[object Arguments]":{let g=[];return ct$1(r,function(y){g.push(oe(y,n))}),g}case"[object Set]":{let g=pe(r);return g.forEach(function(y){g.add(oe(y,n))}),g}case"[object Map]":{let g=pe(r);return g.forEach(function(y){g.set(oe(y,n))}),g}}return r}function Cn(r){return r&&de(r,!0)}var W$1=(r,n=200,g=!1)=>{let y,$=n,L;return function(){y&&clearTimeout(y),g?(y||r.call(L,...arguments),y=setTimeout(()=>y=null,$)):y=setTimeout(()=>r.call(L,...arguments),$)}},ro=()=>{let r="",n=[];for(let g=0;g<=15;g++)n[g]=g.toString(16);for(let g=1;g<=36;g++)g===9||g===14||g===19||g===24?r+="-":g===15?r+=4:g===20?r+=n[Math.random()*4|8]:r+=n[Math.random()*16|0];return r.replace(/-/g,"")},a$2={};et$1(a$2,{Vue:()=>Mt$1});fe$1(a$2,Mt$1);function tryOnScopeDispose$1(r){return getCurrentScope()?(onScopeDispose(r),!0):!1}function toValue(r){return typeof r=="function"?r():unref(r)}const isClient$1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const isDef$2=r=>typeof r<"u",notNullish=r=>r!=null,toString$1=Object.prototype.toString,isObject$6=r=>toString$1.call(r)==="[object Object]",noop$3=()=>{};function createSingletonPromise(r){let n;function g(){return n||(n=r()),n}return g.reset=async()=>{const y=n;n=void 0,y&&await y},g}function getLifeCycleTarget(r){return getCurrentInstance()}function tryOnUnmounted(r,n){getLifeCycleTarget()&&onUnmounted(r,n)}function useTimeoutFn$1(r,n,g={}){const{immediate:y=!0}=g,$=ref$1(!1);let L=null;function re(){L&&(clearTimeout(L),L=null)}function ae(){$.value=!1,re()}function le(...ue){re(),$.value=!0,L=setTimeout(()=>{$.value=!1,L=null,r(...ue)},toValue(n))}return y&&($.value=!0,isClient$1&&le()),tryOnScopeDispose$1(ae),{isPending:readonly($),start:le,stop:ae}}function unrefElement$1(r){var n;const g=toValue(r);return(n=g==null?void 0:g.$el)!=null?n:g}const defaultWindow$1=isClient$1?window:void 0,defaultNavigator=isClient$1?window.navigator:void 0;function useEventListener$1(...r){let n,g,y,$;if(typeof r[0]=="string"||Array.isArray(r[0])?([g,y,$]=r,n=defaultWindow$1):[n,g,y,$]=r,!n)return noop$3;Array.isArray(g)||(g=[g]),Array.isArray(y)||(y=[y]);const L=[],re=()=>{L.forEach(he=>he()),L.length=0},ae=(he,_e,Ce,$e)=>(he.addEventListener(_e,Ce,$e),()=>he.removeEventListener(_e,Ce,$e)),le=watch$1(()=>[unrefElement$1(n),toValue($)],([he,_e])=>{if(re(),!he)return;const Ce=isObject$6(_e)?{..._e}:_e;L.push(...g.flatMap($e=>y.map(Oe=>ae(he,$e,Oe,Ce))))},{immediate:!0,flush:"post"}),ue=()=>{le(),re()};return tryOnScopeDispose$1(ue),ue}function useMounted(){const r=ref$1(!1),n=getCurrentInstance();return n&&onMounted(()=>{r.value=!0},n),r}function useSupported$1(r){const n=useMounted();return computed(()=>(n.value,!!r()))}function usePermission(r,n={}){const{controls:g=!1,navigator:y=defaultNavigator}=n,$=useSupported$1(()=>y&&"permissions"in y);let L;const re=typeof r=="string"?{name:r}:r,ae=ref$1(),le=()=>{L&&(ae.value=L.state)},ue=createSingletonPromise(async()=>{if($.value){if(!L)try{L=await y.permissions.query(re),useEventListener$1(L,"change",le),le()}catch{ae.value="prompt"}return L}});return ue(),g?{state:ae,isSupported:$,query:ue}:ae}function useClipboard(r={}){const{navigator:n=defaultNavigator,read:g=!1,source:y,copiedDuring:$=1500,legacy:L=!1}=r,re=useSupported$1(()=>n&&"clipboard"in n),ae=usePermission("clipboard-read"),le=usePermission("clipboard-write"),ue=computed(()=>re.value||L),he=ref$1(""),_e=ref$1(!1),Ce=useTimeoutFn$1(()=>_e.value=!1,$);function $e(){re.value&&Ie(ae.value)?n.clipboard.readText().then(Fe=>{he.value=Fe}):he.value=Ne()}ue.value&&g&&useEventListener$1(["copy","cut"],$e);async function Oe(Fe=toValue(y)){ue.value&&Fe!=null&&(re.value&&Ie(le.value)?await n.clipboard.writeText(Fe):xe(Fe),he.value=Fe,_e.value=!0,Ce.start())}function xe(Fe){const Ve=document.createElement("textarea");Ve.value=Fe??"",Ve.style.position="absolute",Ve.style.opacity="0",document.body.appendChild(Ve),Ve.select(),document.execCommand("copy"),Ve.remove()}function Ne(){var Fe,Ve,ze;return(ze=(Ve=(Fe=document==null?void 0:document.getSelection)==null?void 0:Fe.call(document))==null?void 0:Ve.toString())!=null?ze:""}function Ie(Fe){return Fe==="granted"||Fe==="prompt"}return{isSupported:ue,text:he,copied:_e,copy:Oe}}function cloneFnJSON$1(r){return JSON.parse(JSON.stringify(r))}function useIntersectionObserver(r,n,g={}){const{root:y,rootMargin:$="0px",threshold:L=.1,window:re=defaultWindow$1,immediate:ae=!0}=g,le=useSupported$1(()=>re&&"IntersectionObserver"in re),ue=computed(()=>{const Oe=toValue(r);return(Array.isArray(Oe)?Oe:[Oe]).map(unrefElement$1).filter(notNullish)});let he=noop$3;const _e=ref$1(ae),Ce=le.value?watch$1(()=>[ue.value,unrefElement$1(y),_e.value],([Oe,xe])=>{if(he(),!_e.value||!Oe.length)return;const Ne=new IntersectionObserver(n,{root:unrefElement$1(xe),rootMargin:$,threshold:L});Oe.forEach(Ie=>Ie&&Ne.observe(Ie)),he=()=>{Ne.disconnect(),he=noop$3}},{immediate:ae,flush:"post"}):noop$3,$e=()=>{he(),Ce(),_e.value=!1};return tryOnScopeDispose$1($e),{isSupported:le,isActive:_e,pause(){he(),_e.value=!1},resume(){_e.value=!0},stop:$e}}function useVModel$1(r,n,g,y={}){var $,L,re;const{clone:ae=!1,passive:le=!1,eventName:ue,deep:he=!1,defaultValue:_e,shouldEmit:Ce}=y,$e=getCurrentInstance(),Oe=g||($e==null?void 0:$e.emit)||(($=$e==null?void 0:$e.$emit)==null?void 0:$.bind($e))||((re=(L=$e==null?void 0:$e.proxy)==null?void 0:L.$emit)==null?void 0:re.bind($e==null?void 0:$e.proxy));let xe=ue;xe=xe||`update:${n.toString()}`;const Ne=Ve=>ae?typeof ae=="function"?ae(Ve):cloneFnJSON$1(Ve):Ve,Ie=()=>isDef$2(r[n])?Ne(r[n]):_e,Fe=Ve=>{Ce?Ce(Ve)&&Oe(xe,Ve):Oe(xe,Ve)};if(le){const Ve=Ie(),ze=ref$1(Ve);let Ue=!1;return watch$1(()=>r[n],qe=>{Ue||(Ue=!0,ze.value=Ne(qe),nextTick$1(()=>Ue=!1))}),watch$1(ze,qe=>{!Ue&&(qe!==r[n]||he)&&Fe(qe)},{deep:he}),ze}else return computed({get(){return Ie()},set(Ve){Fe(Ve)}})}const version$2="2.9.2",INSTALLED_KEY=Symbol("INSTALLED_KEY"),configProviderContextKey=Symbol(),defaultNamespace$1="el",statePrefix$1="is-",_bem$1=(r,n,g,y,$)=>{let L=`${r}-${n}`;return g&&(L+=`-${g}`),y&&(L+=`__${y}`),$&&(L+=`--${$}`),L},namespaceContextKey$1=Symbol("namespaceContextKey"),useGetDerivedNamespace$1=r=>{const n=r||(getCurrentInstance()?inject(namespaceContextKey$1,ref$1(defaultNamespace$1)):ref$1(defaultNamespace$1));return computed(()=>unref(n)||defaultNamespace$1)},useNamespace$1=(r,n)=>{const g=useGetDerivedNamespace$1(n);return{namespace:g,b:(xe="")=>_bem$1(g.value,r,xe,"",""),e:xe=>xe?_bem$1(g.value,r,"",xe,""):"",m:xe=>xe?_bem$1(g.value,r,"","",xe):"",be:(xe,Ne)=>xe&&Ne?_bem$1(g.value,r,xe,Ne,""):"",em:(xe,Ne)=>xe&&Ne?_bem$1(g.value,r,"",xe,Ne):"",bm:(xe,Ne)=>xe&&Ne?_bem$1(g.value,r,xe,"",Ne):"",bem:(xe,Ne,Ie)=>xe&&Ne&&Ie?_bem$1(g.value,r,xe,Ne,Ie):"",is:(xe,...Ne)=>{const Ie=Ne.length>=1?Ne[0]:!0;return xe&&Ie?`${statePrefix$1}${xe}`:""},cssVar:xe=>{const Ne={};for(const Ie in xe)xe[Ie]&&(Ne[`--${g.value}-${Ie}`]=xe[Ie]);return Ne},cssVarName:xe=>`--${g.value}-${xe}`,cssVarBlock:xe=>{const Ne={};for(const Ie in xe)xe[Ie]&&(Ne[`--${g.value}-${r}-${Ie}`]=xe[Ie]);return Ne},cssVarBlockName:xe=>`--${g.value}-${r}-${xe}`}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$2=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(r){var n=hasOwnProperty$c.call(r,symToStringTag$1),g=r[symToStringTag$1];try{r[symToStringTag$1]=void 0;var y=!0}catch{}var $=nativeObjectToString$1.call(r);return y&&(n?r[symToStringTag$1]=g:delete r[symToStringTag$1]),$}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(r){return nativeObjectToString.call(r)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(r){return r==null?r===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(r)?getRawTag(r):objectToString(r)}function isObjectLike(r){return r!=null&&typeof r=="object"}var symbolTag$3="[object Symbol]";function isSymbol(r){return typeof r=="symbol"||isObjectLike(r)&&baseGetTag(r)==symbolTag$3}function arrayMap(r,n){for(var g=-1,y=r==null?0:r.length,$=Array(y);++g<y;)$[g]=n(r[g],g,r);return $}var isArray$4=Array.isArray,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(r){if(typeof r=="string")return r;if(isArray$4(r))return arrayMap(r,baseToString)+"";if(isSymbol(r))return symbolToString?symbolToString.call(r):"";var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}var reWhitespace=/\s/;function trimmedEndIndex(r){for(var n=r.length;n--&&reWhitespace.test(r.charAt(n)););return n}var reTrimStart=/^\s+/;function baseTrim(r){return r&&r.slice(0,trimmedEndIndex(r)+1).replace(reTrimStart,"")}function isObject$5(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(r){if(typeof r=="number")return r;if(isSymbol(r))return NAN;if(isObject$5(r)){var n=typeof r.valueOf=="function"?r.valueOf():r;r=isObject$5(n)?n+"":n}if(typeof r!="string")return r===0?r:+r;r=baseTrim(r);var g=reIsBinary.test(r);return g||reIsOctal.test(r)?freeParseInt(r.slice(2),g?2:8):reIsBadHex.test(r)?NAN:+r}function identity$2(r){return r}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(r){if(!isObject$5(r))return!1;var n=baseGetTag(r);return n==funcTag$2||n==genTag$1||n==asyncTag||n==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var r=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function isMasked(r){return!!maskSrcKey&&maskSrcKey in r}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(r){if(r!=null){try{return funcToString$2.call(r)}catch{}try{return r+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(r){if(!isObject$5(r)||isMasked(r))return!1;var n=isFunction$2(r)?reIsNative:reIsHostCtor;return n.test(toSource(r))}function getValue$1(r,n){return r==null?void 0:r[n]}function getNative(r,n){var g=getValue$1(r,n);return baseIsNative(g)?g:void 0}var WeakMap$2=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function r(){}return function(n){if(!isObject$5(n))return{};if(objectCreate)return objectCreate(n);r.prototype=n;var g=new r;return r.prototype=void 0,g}}();function apply(r,n,g){switch(g.length){case 0:return r.call(n);case 1:return r.call(n,g[0]);case 2:return r.call(n,g[0],g[1]);case 3:return r.call(n,g[0],g[1],g[2])}return r.apply(n,g)}function noop$2(){}function copyArray(r,n){var g=-1,y=r.length;for(n||(n=Array(y));++g<y;)n[g]=r[g];return n}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(r){var n=0,g=0;return function(){var y=nativeNow(),$=HOT_SPAN-(y-g);if(g=y,$>0){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}function constant(r){return function(){return r}}var defineProperty=function(){try{var r=getNative(Object,"defineProperty");return r({},"",{}),r}catch{}}(),baseSetToString=defineProperty?function(r,n){return defineProperty(r,"toString",{configurable:!0,enumerable:!1,value:constant(n),writable:!0})}:identity$2,setToString=shortOut(baseSetToString);function arrayEach(r,n){for(var g=-1,y=r==null?0:r.length;++g<y&&n(r[g],g,r)!==!1;);return r}function baseFindIndex(r,n,g,y){for(var $=r.length,L=g+(y?1:-1);y?L--:++L<$;)if(n(r[L],L,r))return L;return-1}function baseIsNaN(r){return r!==r}function strictIndexOf(r,n,g){for(var y=g-1,$=r.length;++y<$;)if(r[y]===n)return y;return-1}function baseIndexOf(r,n,g){return n===n?strictIndexOf(r,n,g):baseFindIndex(r,baseIsNaN,g)}function arrayIncludes(r,n){var g=r==null?0:r.length;return!!g&&baseIndexOf(r,n,0)>-1}var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(r,n){var g=typeof r;return n=n??MAX_SAFE_INTEGER$2,!!n&&(g=="number"||g!="symbol"&&reIsUint.test(r))&&r>-1&&r%1==0&&r<n}function baseAssignValue(r,n,g){n=="__proto__"&&defineProperty?defineProperty(r,n,{configurable:!0,enumerable:!0,value:g,writable:!0}):r[n]=g}function eq(r,n){return r===n||r!==r&&n!==n}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(r,n,g){var y=r[n];(!(hasOwnProperty$a.call(r,n)&&eq(y,g))||g===void 0&&!(n in r))&&baseAssignValue(r,n,g)}function copyObject(r,n,g,y){var $=!g;g||(g={});for(var L=-1,re=n.length;++L<re;){var ae=n[L],le=void 0;le===void 0&&(le=r[ae]),$?baseAssignValue(g,ae,le):assignValue(g,ae,le)}return g}var nativeMax$1=Math.max;function overRest(r,n,g){return n=nativeMax$1(n===void 0?r.length-1:n,0),function(){for(var y=arguments,$=-1,L=nativeMax$1(y.length-n,0),re=Array(L);++$<L;)re[$]=y[n+$];$=-1;for(var ae=Array(n+1);++$<n;)ae[$]=y[$];return ae[n]=g(re),apply(r,this,ae)}}function baseRest(r,n){return setToString(overRest(r,n,identity$2),r+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER$1}function isArrayLike$1(r){return r!=null&&isLength(r.length)&&!isFunction$2(r)}function isIterateeCall(r,n,g){if(!isObject$5(g))return!1;var y=typeof n;return(y=="number"?isArrayLike$1(g)&&isIndex(n,g.length):y=="string"&&n in g)?eq(g[n],r):!1}function createAssigner(r){return baseRest(function(n,g){var y=-1,$=g.length,L=$>1?g[$-1]:void 0,re=$>2?g[2]:void 0;for(L=r.length>3&&typeof L=="function"?($--,L):void 0,re&&isIterateeCall(g[0],g[1],re)&&(L=$<3?void 0:L,$=1),n=Object(n);++y<$;){var ae=g[y];ae&&r(n,ae,y,L)}return n})}var objectProto$b=Object.prototype;function isPrototype(r){var n=r&&r.constructor,g=typeof n=="function"&&n.prototype||objectProto$b;return r===g}function baseTimes(r,n){for(var g=-1,y=Array(r);++g<r;)y[g]=n(g);return y}var argsTag$3="[object Arguments]";function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&hasOwnProperty$9.call(r,"callee")&&!propertyIsEnumerable$1.call(r,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!typedArrayTags[baseGetTag(r)]}function baseUnary(r){return function(n){return r(n)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var r=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return r||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(r,n){var g=isArray$4(r),y=!g&&isArguments(r),$=!g&&!y&&isBuffer(r),L=!g&&!y&&!$&&isTypedArray$1(r),re=g||y||$||L,ae=re?baseTimes(r.length,String):[],le=ae.length;for(var ue in r)(n||hasOwnProperty$8.call(r,ue))&&!(re&&(ue=="length"||$&&(ue=="offset"||ue=="parent")||L&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||isIndex(ue,le)))&&ae.push(ue);return ae}function overArg(r,n){return function(g){return r(n(g))}}var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(r){if(!isPrototype(r))return nativeKeys(r);var n=[];for(var g in Object(r))hasOwnProperty$7.call(r,g)&&g!="constructor"&&n.push(g);return n}function keys$2(r){return isArrayLike$1(r)?arrayLikeKeys(r):baseKeys(r)}function nativeKeysIn(r){var n=[];if(r!=null)for(var g in Object(r))n.push(g);return n}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(r){if(!isObject$5(r))return nativeKeysIn(r);var n=isPrototype(r),g=[];for(var y in r)y=="constructor"&&(n||!hasOwnProperty$6.call(r,y))||g.push(y);return g}function keysIn(r){return isArrayLike$1(r)?arrayLikeKeys(r,!0):baseKeysIn(r)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(r,n){if(isArray$4(r))return!1;var g=typeof r;return g=="number"||g=="symbol"||g=="boolean"||r==null||isSymbol(r)?!0:reIsPlainProp.test(r)||!reIsDeepProp.test(r)||n!=null&&r in Object(n)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(r){var n=this.__data__;if(nativeCreate){var g=n[r];return g===HASH_UNDEFINED$2?void 0:g}return hasOwnProperty$5.call(n,r)?n[r]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(r){var n=this.__data__;return nativeCreate?n[r]!==void 0:hasOwnProperty$4.call(n,r)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(r,n){var g=this.__data__;return this.size+=this.has(r)?0:1,g[r]=nativeCreate&&n===void 0?HASH_UNDEFINED$1:n,this}function Hash(r){var n=-1,g=r==null?0:r.length;for(this.clear();++n<g;){var y=r[n];this.set(y[0],y[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(r,n){for(var g=r.length;g--;)if(eq(r[g][0],n))return g;return-1}var arrayProto$1=Array.prototype,splice=arrayProto$1.splice;function listCacheDelete(r){var n=this.__data__,g=assocIndexOf(n,r);if(g<0)return!1;var y=n.length-1;return g==y?n.pop():splice.call(n,g,1),--this.size,!0}function listCacheGet$1(r){var n=this.__data__,g=assocIndexOf(n,r);return g<0?void 0:n[g][1]}function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1}function listCacheSet$1(r,n){var g=this.__data__,y=assocIndexOf(g,r);return y<0?(++this.size,g.push([r,n])):g[y][1]=n,this}function ListCache(r){var n=-1,g=r==null?0:r.length;for(this.clear();++n<g;){var y=r[n];this.set(y[0],y[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet$1;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet$1;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}function getMapData(r,n){var g=r.__data__;return isKeyable(n)?g[typeof n=="string"?"string":"hash"]:g.map}function mapCacheDelete(r){var n=getMapData(this,r).delete(r);return this.size-=n?1:0,n}function mapCacheGet(r){return getMapData(this,r).get(r)}function mapCacheHas(r){return getMapData(this,r).has(r)}function mapCacheSet(r,n){var g=getMapData(this,r),y=g.size;return g.set(r,n),this.size+=g.size==y?0:1,this}function MapCache(r){var n=-1,g=r==null?0:r.length;for(this.clear();++n<g;){var y=r[n];this.set(y[0],y[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var g=function(){var y=arguments,$=n?n.apply(this,y):y[0],L=g.cache;if(L.has($))return L.get($);var re=r.apply(this,y);return g.cache=L.set($,re)||L,re};return g.cache=new(memoize.Cache||MapCache),g}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(r){var n=memoize(r,function(y){return g.size===MAX_MEMOIZE_SIZE&&g.clear(),y}),g=n.cache;return n}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(r){var n=[];return r.charCodeAt(0)===46&&n.push(""),r.replace(rePropName,function(g,y,$,L){n.push($?L.replace(reEscapeChar,"$1"):y||g)}),n});function toString(r){return r==null?"":baseToString(r)}function castPath(r,n){return isArray$4(r)?r:isKey(r,n)?[r]:stringToPath(toString(r))}function toKey(r){if(typeof r=="string"||isSymbol(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}function baseGet(r,n){n=castPath(n,r);for(var g=0,y=n.length;r!=null&&g<y;)r=r[toKey(n[g++])];return g&&g==y?r:void 0}function get$1(r,n,g){var y=r==null?void 0:baseGet(r,n);return y===void 0?g:y}function arrayPush(r,n){for(var g=-1,y=n.length,$=r.length;++g<y;)r[$+g]=n[g];return r}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(r){return isArray$4(r)||isArguments(r)||!!(spreadableSymbol&&r&&r[spreadableSymbol])}function baseFlatten(r,n,g,y,$){var L=-1,re=r.length;for(g||(g=isFlattenable),$||($=[]);++L<re;){var ae=r[L];n>0&&g(ae)?n>1?baseFlatten(ae,n-1,g,y,$):arrayPush($,ae):y||($[$.length]=ae)}return $}function flatten$1(r){var n=r==null?0:r.length;return n?baseFlatten(r,1):[]}function flatRest(r){return setToString(overRest(r,void 0,flatten$1),r+"")}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(r){if(!isObjectLike(r)||baseGetTag(r)!=objectTag$3)return!1;var n=getPrototype(r);if(n===null)return!0;var g=hasOwnProperty$3.call(n,"constructor")&&n.constructor;return typeof g=="function"&&g instanceof g&&funcToString.call(g)==objectCtorString}function baseSlice(r,n,g){var y=-1,$=r.length;n<0&&(n=-n>$?0:$+n),g=g>$?$:g,g<0&&(g+=$),$=n>g?0:g-n>>>0,n>>>=0;for(var L=Array($);++y<$;)L[y]=r[y+n];return L}function castArray$1(){if(!arguments.length)return[];var r=arguments[0];return isArray$4(r)?r:[r]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(r){var n=this.__data__,g=n.delete(r);return this.size=n.size,g}function stackGet(r){return this.__data__.get(r)}function stackHas(r){return this.__data__.has(r)}var LARGE_ARRAY_SIZE$1=200;function stackSet(r,n){var g=this.__data__;if(g instanceof ListCache){var y=g.__data__;if(!Map$1||y.length<LARGE_ARRAY_SIZE$1-1)return y.push([r,n]),this.size=++g.size,this;g=this.__data__=new MapCache(y)}return g.set(r,n),this.size=g.size,this}function Stack$1(r){var n=this.__data__=new ListCache(r);this.size=n.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;function baseAssign(r,n){return r&&copyObject(n,keys$2(n),r)}function baseAssignIn(r,n){return r&&copyObject(n,keysIn(n),r)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(r,n){if(n)return r.slice();var g=r.length,y=allocUnsafe?allocUnsafe(g):new r.constructor(g);return r.copy(y),y}function arrayFilter(r,n){for(var g=-1,y=r==null?0:r.length,$=0,L=[];++g<y;){var re=r[g];n(re,g,r)&&(L[$++]=re)}return L}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(r){return r==null?[]:(r=Object(r),arrayFilter(nativeGetSymbols$1(r),function(n){return propertyIsEnumerable.call(r,n)}))}:stubArray;function copySymbols(r,n){return copyObject(r,getSymbols(r),n)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(r){for(var n=[];r;)arrayPush(n,getSymbols(r)),r=getPrototype(r);return n}:stubArray;function copySymbolsIn(r,n){return copyObject(r,getSymbolsIn(r),n)}function baseGetAllKeys(r,n,g){var y=n(r);return isArray$4(r)?y:arrayPush(y,g(r))}function getAllKeys(r){return baseGetAllKeys(r,keys$2,getSymbols)}function getAllKeysIn(r){return baseGetAllKeys(r,keysIn,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(r){var n=baseGetTag(r),g=n==objectTag$2?r.constructor:void 0,y=g?toSource(g):"";if(y)switch(y){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return n});var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(r){var n=r.length,g=new r.constructor(n);return n&&typeof r[0]=="string"&&hasOwnProperty$2.call(r,"index")&&(g.index=r.index,g.input=r.input),g}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(r){var n=new r.constructor(r.byteLength);return new Uint8Array$1(n).set(new Uint8Array$1(r)),n}function cloneDataView(r,n){var g=n?cloneArrayBuffer(r.buffer):r.buffer;return new r.constructor(g,r.byteOffset,r.byteLength)}var reFlags=/\w*$/;function cloneRegExp(r){var n=new r.constructor(r.source,reFlags.exec(r));return n.lastIndex=r.lastIndex,n}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(r){return symbolValueOf$1?Object(symbolValueOf$1.call(r)):{}}function cloneTypedArray(r,n){var g=n?cloneArrayBuffer(r.buffer):r.buffer;return new r.constructor(g,r.byteOffset,r.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(r,n,g){var y=r.constructor;switch(n){case arrayBufferTag$2:return cloneArrayBuffer(r);case boolTag$2:case dateTag$2:return new y(+r);case dataViewTag$2:return cloneDataView(r,g);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(r,g);case mapTag$3:return new y;case numberTag$2:case stringTag$2:return new y(r);case regexpTag$2:return cloneRegExp(r);case setTag$3:return new y;case symbolTag$2:return cloneSymbol(r)}}function initCloneObject(r){return typeof r.constructor=="function"&&!isPrototype(r)?baseCreate(getPrototype(r)):{}}var mapTag$2="[object Map]";function baseIsMap(r){return isObjectLike(r)&&getTag(r)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(r){return isObjectLike(r)&&getTag(r)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$3=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(r,n,g,y,$,L){var re,ae=n&CLONE_DEEP_FLAG$2,le=n&CLONE_FLAT_FLAG$1,ue=n&CLONE_SYMBOLS_FLAG$3;if(g&&(re=$?g(r,y,$,L):g(r)),re!==void 0)return re;if(!isObject$5(r))return r;var he=isArray$4(r);if(he){if(re=initCloneArray(r),!ae)return copyArray(r,re)}else{var _e=getTag(r),Ce=_e==funcTag||_e==genTag;if(isBuffer(r))return cloneBuffer(r,ae);if(_e==objectTag$1||_e==argsTag$1||Ce&&!$){if(re=le||Ce?{}:initCloneObject(r),!ae)return le?copySymbolsIn(r,baseAssignIn(re,r)):copySymbols(r,baseAssign(re,r))}else{if(!cloneableTags[_e])return $?r:{};re=initCloneByTag(r,_e,ae)}}L||(L=new Stack$1);var $e=L.get(r);if($e)return $e;L.set(r,re),isSet(r)?r.forEach(function(Ne){re.add(baseClone(Ne,n,g,Ne,r,L))}):isMap(r)&&r.forEach(function(Ne,Ie){re.set(Ie,baseClone(Ne,n,g,Ie,r,L))});var Oe=ue?le?getAllKeysIn:getAllKeys:le?keysIn:keys$2,xe=he?void 0:Oe(r);return arrayEach(xe||r,function(Ne,Ie){xe&&(Ie=Ne,Ne=r[Ie]),assignValue(re,Ie,baseClone(Ne,n,g,Ie,r,L))}),re}var CLONE_SYMBOLS_FLAG$2=4;function clone$6(r){return baseClone(r,CLONE_SYMBOLS_FLAG$2)}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(r){return baseClone(r,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(r){return this.__data__.set(r,HASH_UNDEFINED),this}function setCacheHas(r){return this.__data__.has(r)}function SetCache(r){var n=-1,g=r==null?0:r.length;for(this.__data__=new MapCache;++n<g;)this.add(r[n])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(r,n){for(var g=-1,y=r==null?0:r.length;++g<y;)if(n(r[g],g,r))return!0;return!1}function cacheHas(r,n){return r.has(n)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(r,n,g,y,$,L){var re=g&COMPARE_PARTIAL_FLAG$5,ae=r.length,le=n.length;if(ae!=le&&!(re&&le>ae))return!1;var ue=L.get(r),he=L.get(n);if(ue&&he)return ue==n&&he==r;var _e=-1,Ce=!0,$e=g&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(L.set(r,n),L.set(n,r);++_e<ae;){var Oe=r[_e],xe=n[_e];if(y)var Ne=re?y(xe,Oe,_e,n,r,L):y(Oe,xe,_e,r,n,L);if(Ne!==void 0){if(Ne)continue;Ce=!1;break}if($e){if(!arraySome(n,function(Ie,Fe){if(!cacheHas($e,Fe)&&(Oe===Ie||$(Oe,Ie,g,y,L)))return $e.push(Fe)})){Ce=!1;break}}else if(!(Oe===xe||$(Oe,xe,g,y,L))){Ce=!1;break}}return L.delete(r),L.delete(n),Ce}function mapToArray(r){var n=-1,g=Array(r.size);return r.forEach(function(y,$){g[++n]=[$,y]}),g}function setToArray(r){var n=-1,g=Array(r.size);return r.forEach(function(y){g[++n]=y}),g}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(r,n,g,y,$,L,re){switch(g){case dataViewTag:if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case arrayBufferTag:return!(r.byteLength!=n.byteLength||!L(new Uint8Array$1(r),new Uint8Array$1(n)));case boolTag:case dateTag:case numberTag:return eq(+r,+n);case errorTag:return r.name==n.name&&r.message==n.message;case regexpTag:case stringTag:return r==n+"";case mapTag:var ae=mapToArray;case setTag:var le=y&COMPARE_PARTIAL_FLAG$4;if(ae||(ae=setToArray),r.size!=n.size&&!le)return!1;var ue=re.get(r);if(ue)return ue==n;y|=COMPARE_UNORDERED_FLAG$2,re.set(r,n);var he=equalArrays(ae(r),ae(n),y,$,L,re);return re.delete(r),he;case symbolTag:if(symbolValueOf)return symbolValueOf.call(r)==symbolValueOf.call(n)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(r,n,g,y,$,L){var re=g&COMPARE_PARTIAL_FLAG$3,ae=getAllKeys(r),le=ae.length,ue=getAllKeys(n),he=ue.length;if(le!=he&&!re)return!1;for(var _e=le;_e--;){var Ce=ae[_e];if(!(re?Ce in n:hasOwnProperty$1.call(n,Ce)))return!1}var $e=L.get(r),Oe=L.get(n);if($e&&Oe)return $e==n&&Oe==r;var xe=!0;L.set(r,n),L.set(n,r);for(var Ne=re;++_e<le;){Ce=ae[_e];var Ie=r[Ce],Fe=n[Ce];if(y)var Ve=re?y(Fe,Ie,Ce,n,r,L):y(Ie,Fe,Ce,r,n,L);if(!(Ve===void 0?Ie===Fe||$(Ie,Fe,g,y,L):Ve)){xe=!1;break}Ne||(Ne=Ce=="constructor")}if(xe&&!Ne){var ze=r.constructor,Ue=n.constructor;ze!=Ue&&"constructor"in r&&"constructor"in n&&!(typeof ze=="function"&&ze instanceof ze&&typeof Ue=="function"&&Ue instanceof Ue)&&(xe=!1)}return L.delete(r),L.delete(n),xe}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(r,n,g,y,$,L){var re=isArray$4(r),ae=isArray$4(n),le=re?arrayTag:getTag(r),ue=ae?arrayTag:getTag(n);le=le==argsTag?objectTag:le,ue=ue==argsTag?objectTag:ue;var he=le==objectTag,_e=ue==objectTag,Ce=le==ue;if(Ce&&isBuffer(r)){if(!isBuffer(n))return!1;re=!0,he=!1}if(Ce&&!he)return L||(L=new Stack$1),re||isTypedArray$1(r)?equalArrays(r,n,g,y,$,L):equalByTag(r,n,le,g,y,$,L);if(!(g&COMPARE_PARTIAL_FLAG$2)){var $e=he&&hasOwnProperty.call(r,"__wrapped__"),Oe=_e&&hasOwnProperty.call(n,"__wrapped__");if($e||Oe){var xe=$e?r.value():r,Ne=Oe?n.value():n;return L||(L=new Stack$1),$(xe,Ne,g,y,L)}}return Ce?(L||(L=new Stack$1),equalObjects(r,n,g,y,$,L)):!1}function baseIsEqual(r,n,g,y,$){return r===n?!0:r==null||n==null||!isObjectLike(r)&&!isObjectLike(n)?r!==r&&n!==n:baseIsEqualDeep(r,n,g,y,baseIsEqual,$)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(r,n,g,y){var $=g.length,L=$;if(r==null)return!L;for(r=Object(r);$--;){var re=g[$];if(re[2]?re[1]!==r[re[0]]:!(re[0]in r))return!1}for(;++$<L;){re=g[$];var ae=re[0],le=r[ae],ue=re[1];if(re[2]){if(le===void 0&&!(ae in r))return!1}else{var he=new Stack$1,_e;if(!(_e===void 0?baseIsEqual(ue,le,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,y,he):_e))return!1}}return!0}function isStrictComparable(r){return r===r&&!isObject$5(r)}function getMatchData(r){for(var n=keys$2(r),g=n.length;g--;){var y=n[g],$=r[y];n[g]=[y,$,isStrictComparable($)]}return n}function matchesStrictComparable(r,n){return function(g){return g==null?!1:g[r]===n&&(n!==void 0||r in Object(g))}}function baseMatches(r){var n=getMatchData(r);return n.length==1&&n[0][2]?matchesStrictComparable(n[0][0],n[0][1]):function(g){return g===r||baseIsMatch(g,r,n)}}function baseHasIn(r,n){return r!=null&&n in Object(r)}function hasPath(r,n,g){n=castPath(n,r);for(var y=-1,$=n.length,L=!1;++y<$;){var re=toKey(n[y]);if(!(L=r!=null&&g(r,re)))break;r=r[re]}return L||++y!=$?L:($=r==null?0:r.length,!!$&&isLength($)&&isIndex(re,$)&&(isArray$4(r)||isArguments(r)))}function hasIn(r,n){return r!=null&&hasPath(r,n,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(r,n){return isKey(r)&&isStrictComparable(n)?matchesStrictComparable(toKey(r),n):function(g){var y=get$1(g,r);return y===void 0&&y===n?hasIn(g,r):baseIsEqual(n,y,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(r){return function(n){return n==null?void 0:n[r]}}function basePropertyDeep(r){return function(n){return baseGet(n,r)}}function property(r){return isKey(r)?baseProperty(toKey(r)):basePropertyDeep(r)}function baseIteratee(r){return typeof r=="function"?r:r==null?identity$2:typeof r=="object"?isArray$4(r)?baseMatchesProperty(r[0],r[1]):baseMatches(r):property(r)}function createBaseFor(r){return function(n,g,y){for(var $=-1,L=Object(n),re=y(n),ae=re.length;ae--;){var le=re[++$];if(g(L[le],le,L)===!1)break}return n}}var baseFor=createBaseFor();function baseForOwn(r,n){return r&&baseFor(r,n,keys$2)}function createBaseEach(r,n){return function(g,y){if(g==null)return g;if(!isArrayLike$1(g))return r(g,y);for(var $=g.length,L=-1,re=Object(g);++L<$&&y(re[L],L,re)!==!1;);return g}}var baseEach=createBaseEach(baseForOwn),now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$2(r,n,g){var y,$,L,re,ae,le,ue=0,he=!1,_e=!1,Ce=!0;if(typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT$1);n=toNumber(n)||0,isObject$5(g)&&(he=!!g.leading,_e="maxWait"in g,L=_e?nativeMax(toNumber(g.maxWait)||0,n):L,Ce="trailing"in g?!!g.trailing:Ce);function $e(qe){var kt=y,Et=$;return y=$=void 0,ue=qe,re=r.apply(Et,kt),re}function Oe(qe){return ue=qe,ae=setTimeout(Ie,n),he?$e(qe):re}function xe(qe){var kt=qe-le,Et=qe-ue,Pt=n-kt;return _e?nativeMin(Pt,L-Et):Pt}function Ne(qe){var kt=qe-le,Et=qe-ue;return le===void 0||kt>=n||kt<0||_e&&Et>=L}function Ie(){var qe=now();if(Ne(qe))return Fe(qe);ae=setTimeout(Ie,xe(qe))}function Fe(qe){return ae=void 0,Ce&&y?$e(qe):(y=$=void 0,re)}function Ve(){ae!==void 0&&clearTimeout(ae),ue=0,y=le=$=ae=void 0}function ze(){return ae===void 0?re:Fe(now())}function Ue(){var qe=now(),kt=Ne(qe);if(y=arguments,$=this,le=qe,kt){if(ae===void 0)return Oe(le);if(_e)return clearTimeout(ae),ae=setTimeout(Ie,n),$e(le)}return ae===void 0&&(ae=setTimeout(Ie,n)),re}return Ue.cancel=Ve,Ue.flush=ze,Ue}function assignMergeValue(r,n,g){(g!==void 0&&!eq(r[n],g)||g===void 0&&!(n in r))&&baseAssignValue(r,n,g)}function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike$1(r)}function safeGet(r,n){if(!(n==="constructor"&&typeof r[n]=="function")&&n!="__proto__")return r[n]}function toPlainObject(r){return copyObject(r,keysIn(r))}function baseMergeDeep(r,n,g,y,$,L,re){var ae=safeGet(r,g),le=safeGet(n,g),ue=re.get(le);if(ue){assignMergeValue(r,g,ue);return}var he=L?L(ae,le,g+"",r,n,re):void 0,_e=he===void 0;if(_e){var Ce=isArray$4(le),$e=!Ce&&isBuffer(le),Oe=!Ce&&!$e&&isTypedArray$1(le);he=le,Ce||$e||Oe?isArray$4(ae)?he=ae:isArrayLikeObject(ae)?he=copyArray(ae):$e?(_e=!1,he=cloneBuffer(le,!0)):Oe?(_e=!1,he=cloneTypedArray(le,!0)):he=[]:isPlainObject$1(le)||isArguments(le)?(he=ae,isArguments(ae)?he=toPlainObject(ae):(!isObject$5(ae)||isFunction$2(ae))&&(he=initCloneObject(le))):_e=!1}_e&&(re.set(le,he),$(he,le,y,L,re),re.delete(le)),assignMergeValue(r,g,he)}function baseMerge(r,n,g,y,$){r!==n&&baseFor(n,function(L,re){if($||($=new Stack$1),isObject$5(L))baseMergeDeep(r,n,re,g,baseMerge,y,$);else{var ae=y?y(safeGet(r,re),L,re+"",r,n,$):void 0;ae===void 0&&(ae=L),assignMergeValue(r,re,ae)}},keysIn)}function last(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}function findLastIndex(r,n,g){var y=r==null?0:r.length;if(!y)return-1;var $=y-1;return baseFindIndex(r,baseIteratee(n),$,!0)}function baseMap(r,n){var g=-1,y=isArrayLike$1(r)?Array(r.length):[];return baseEach(r,function($,L,re){y[++g]=n($,L,re)}),y}function map$2(r,n){var g=isArray$4(r)?arrayMap:baseMap;return g(r,baseIteratee(n))}function flatMap(r,n){return baseFlatten(map$2(r,n),1)}var INFINITY$1=1/0;function flattenDeep(r){var n=r==null?0:r.length;return n?baseFlatten(r,INFINITY$1):[]}function fromPairs(r){for(var n=-1,g=r==null?0:r.length,y={};++n<g;){var $=r[n];y[$[0]]=$[1]}return y}function parent(r,n){return n.length<2?r:baseGet(r,baseSlice(n,0,-1))}function isEqual$1(r,n){return baseIsEqual(r,n)}function isNil(r){return r==null}function isNull(r){return r===null}function isUndefined$1(r){return r===void 0}var merge$2=createAssigner(function(r,n,g){baseMerge(r,n,g)});function baseUnset(r,n){return n=castPath(n,r),r=parent(r,n),r==null||delete r[toKey(last(n))]}function customOmitClone(r){return isPlainObject$1(r)?void 0:r}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(r,n){var g={};if(r==null)return g;var y=!1;n=arrayMap(n,function(L){return L=castPath(L,r),y||(y=L.length>1),L}),copyObject(r,getAllKeysIn(r),g),y&&(g=baseClone(g,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var $=n.length;$--;)baseUnset(g,n[$]);return g});function baseSet(r,n,g,y){if(!isObject$5(r))return r;n=castPath(n,r);for(var $=-1,L=n.length,re=L-1,ae=r;ae!=null&&++$<L;){var le=toKey(n[$]),ue=g;if(le==="__proto__"||le==="constructor"||le==="prototype")return r;if($!=re){var he=ae[le];ue=void 0,ue===void 0&&(ue=isObject$5(he)?he:isIndex(n[$+1])?[]:{})}assignValue(ae,le,ue),ae=ae[le]}return r}function basePickBy(r,n,g){for(var y=-1,$=n.length,L={};++y<$;){var re=n[y],ae=baseGet(r,re);g(ae,re)&&baseSet(L,castPath(re,r),ae)}return L}function basePick(r,n){return basePickBy(r,n,function(g,y){return hasIn(r,y)})}var pick=flatRest(function(r,n){return r==null?{}:basePick(r,n)});function set$2(r,n,g){return r==null?r:baseSet(r,n,g)}var FUNC_ERROR_TEXT="Expected a function";function throttle$1(r,n,g){var y=!0,$=!0;if(typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$5(g)&&(y="leading"in g?!!g.leading:y,$="trailing"in g?!!g.trailing:$),debounce$2(r,n,{leading:y,maxWait:n,trailing:$})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(r){return new Set$1(r)}:noop$2,LARGE_ARRAY_SIZE=200;function baseUniq(r,n,g){var y=-1,$=arrayIncludes,L=r.length,re=!0,ae=[],le=ae;if(L>=LARGE_ARRAY_SIZE){var ue=createSet(r);if(ue)return setToArray(ue);re=!1,$=cacheHas,le=new SetCache}else le=ae;e:for(;++y<L;){var he=r[y],_e=he;if(he=he!==0?he:0,re&&_e===_e){for(var Ce=le.length;Ce--;)if(le[Ce]===_e)continue e;ae.push(he)}else $(le,_e,g)||(le!==ae&&le.push(_e),ae.push(he))}return ae}var union=baseRest(function(r){return baseUniq(baseFlatten(r,1,isArrayLikeObject,!0))});const isUndefined=r=>r===void 0,isBoolean=r=>typeof r=="boolean",isNumber$2=r=>typeof r=="number",isEmpty=r=>!r&&r!==0||isArray$5(r)&&r.length===0||isObject$7(r)&&!Object.keys(r).length,isElement$3=r=>typeof Element>"u"?!1:r instanceof Element,isPropAbsent=r=>isNil(r),isStringNumber=r=>isString$3(r)?!Number.isNaN(Number(r)):!1,isWindow=r=>r===window;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(r,n,g)=>n in r?__defProp$9(r,n,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[n]=g,__spreadValues$9=(r,n)=>{for(var g in n||(n={}))__hasOwnProp$b.call(n,g)&&__defNormalProp$9(r,g,n[g]);if(__getOwnPropSymbols$b)for(var g of __getOwnPropSymbols$b(n))__propIsEnum$b.call(n,g)&&__defNormalProp$9(r,g,n[g]);return r},__spreadProps$6=(r,n)=>__defProps$6(r,__getOwnPropDescs$6(n));function computedEager(r,n){var g;const y=shallowRef();return watchEffect(()=>{y.value=r()},__spreadProps$6(__spreadValues$9({},n),{flush:(g=void 0)!=null?g:"sync"})),readonly(y)}var _a$3;const isClient=typeof window<"u",isDef$1=r=>typeof r<"u",isFunction$1=r=>typeof r=="function",isString$2=r=>typeof r=="string",noop$1=()=>{},isIOS=isClient&&((_a$3=window==null?void 0:window.navigator)==null?void 0:_a$3.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(r){return typeof r=="function"?r():unref(r)}function createFilterWrapper(r,n){function g(...y){return new Promise(($,L)=>{Promise.resolve(r(()=>n.apply(this,y),{fn:n,thisArg:this,args:y})).then($).catch(L)})}return g}function debounceFilter(r,n={}){let g,y,$=noop$1;const L=ae=>{clearTimeout(ae),$(),$=noop$1};return ae=>{const le=resolveUnref(r),ue=resolveUnref(n.maxWait);return g&&L(g),le<=0||ue!==void 0&&ue<=0?(y&&(L(y),y=null),Promise.resolve(ae())):new Promise((he,_e)=>{$=n.rejectOnCancel?_e:he,ue&&!y&&(y=setTimeout(()=>{g&&L(g),y=null,he(ae())},ue)),g=setTimeout(()=>{y&&L(y),y=null,he(ae())},le)})}}function throttleFilter(r,n=!0,g=!0,y=!1){let $=0,L,re=!0,ae=noop$1,le;const ue=()=>{L&&(clearTimeout(L),L=void 0,ae(),ae=noop$1)};return _e=>{const Ce=resolveUnref(r),$e=Date.now()-$,Oe=()=>le=_e();return ue(),Ce<=0?($=Date.now(),Oe()):($e>Ce&&(g||!re)?($=Date.now(),Oe()):n&&(le=new Promise((xe,Ne)=>{ae=y?Ne:xe,L=setTimeout(()=>{$=Date.now(),re=!0,xe(Oe()),ue()},Math.max(0,Ce-$e))})),!g&&!L&&(L=setTimeout(()=>re=!0,Ce)),re=!1,le)}}function identity$1(r){return r}function computedWithControl(r,n){let g,y,$;const L=ref$1(!0),re=()=>{L.value=!0,$()};watch$1(r,re,{flush:"sync"});const ae=isFunction$1(n)?n:n.get,le=isFunction$1(n)?void 0:n.set,ue=customRef((he,_e)=>(y=he,$=_e,{get(){return L.value&&(g=ae(),L.value=!1),y(),g},set(Ce){le==null||le(Ce)}}));return Object.isExtensible(ue)&&(ue.trigger=re),ue}function tryOnScopeDispose(r){return getCurrentScope()?(onScopeDispose(r),!0):!1}function useDebounceFn(r,n=200,g={}){return createFilterWrapper(debounceFilter(n,g),r)}function refDebounced(r,n=200,g={}){const y=ref$1(r.value),$=useDebounceFn(()=>{y.value=r.value},n,g);return watch$1(r,()=>$()),y}function useThrottleFn(r,n=200,g=!1,y=!0,$=!1){return createFilterWrapper(throttleFilter(n,g,y,$),r)}function tryOnMounted(r,n=!0){getCurrentInstance()?onMounted(r):n?r():nextTick$1(r)}function useTimeoutFn(r,n,g={}){const{immediate:y=!0}=g,$=ref$1(!1);let L=null;function re(){L&&(clearTimeout(L),L=null)}function ae(){$.value=!1,re()}function le(...ue){re(),$.value=!0,L=setTimeout(()=>{$.value=!1,L=null,r(...ue)},resolveUnref(n))}return y&&($.value=!0,isClient&&le()),tryOnScopeDispose(ae),{isPending:readonly($),start:le,stop:ae}}function unrefElement(r){var n;const g=resolveUnref(r);return(n=g==null?void 0:g.$el)!=null?n:g}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...r){let n,g,y,$;if(isString$2(r[0])||Array.isArray(r[0])?([g,y,$]=r,n=defaultWindow):[n,g,y,$]=r,!n)return noop$1;Array.isArray(g)||(g=[g]),Array.isArray(y)||(y=[y]);const L=[],re=()=>{L.forEach(he=>he()),L.length=0},ae=(he,_e,Ce,$e)=>(he.addEventListener(_e,Ce,$e),()=>he.removeEventListener(_e,Ce,$e)),le=watch$1(()=>[unrefElement(n),resolveUnref($)],([he,_e])=>{re(),he&&L.push(...g.flatMap(Ce=>y.map($e=>ae(he,Ce,$e,_e))))},{immediate:!0,flush:"post"}),ue=()=>{le(),re()};return tryOnScopeDispose(ue),ue}let _iOSWorkaround=!1;function onClickOutside(r,n,g={}){const{window:y=defaultWindow,ignore:$=[],capture:L=!0,detectIframe:re=!1}=g;if(!y)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(y.document.body.children).forEach(Ce=>Ce.addEventListener("click",noop$1)));let ae=!0;const le=Ce=>$.some($e=>{if(typeof $e=="string")return Array.from(y.document.querySelectorAll($e)).some(Oe=>Oe===Ce.target||Ce.composedPath().includes(Oe));{const Oe=unrefElement($e);return Oe&&(Ce.target===Oe||Ce.composedPath().includes(Oe))}}),he=[useEventListener(y,"click",Ce=>{const $e=unrefElement(r);if(!(!$e||$e===Ce.target||Ce.composedPath().includes($e))){if(Ce.detail===0&&(ae=!le(Ce)),!ae){ae=!0;return}n(Ce)}},{passive:!0,capture:L}),useEventListener(y,"pointerdown",Ce=>{const $e=unrefElement(r);$e&&(ae=!Ce.composedPath().includes($e)&&!le(Ce))},{passive:!0}),re&&useEventListener(y,"blur",Ce=>{var $e;const Oe=unrefElement(r);(($e=y.document.activeElement)==null?void 0:$e.tagName)==="IFRAME"&&!(Oe!=null&&Oe.contains(y.document.activeElement))&&n(Ce)})].filter(Boolean);return()=>he.forEach(Ce=>Ce())}function useActiveElement(r={}){var n;const{window:g=defaultWindow}=r,y=(n=r.document)!=null?n:g==null?void 0:g.document,$=computedWithControl(()=>null,()=>y==null?void 0:y.activeElement);return g&&(useEventListener(g,"blur",L=>{L.relatedTarget===null&&$.trigger()},!0),useEventListener(g,"focus",$.trigger,!0)),$}function useSupported(r,n=!1){const g=ref$1(),y=()=>g.value=!!r();return y(),tryOnMounted(y,n),g}function cloneFnJSON(r){return JSON.parse(JSON.stringify(r))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};function useCssVar(r,n,{window:g=defaultWindow,initialValue:y=""}={}){const $=ref$1(y),L=computed(()=>{var re;return unrefElement(n)||((re=g==null?void 0:g.document)==null?void 0:re.documentElement)});return watch$1([L,()=>resolveUnref(r)],([re,ae])=>{var le;if(re&&g){const ue=(le=g.getComputedStyle(re).getPropertyValue(ae))==null?void 0:le.trim();$.value=ue||y}},{immediate:!0}),watch$1($,re=>{var ae;(ae=L.value)!=null&&ae.style&&L.value.style.setProperty(resolveUnref(r),re)}),$}function useDocumentVisibility({document:r=defaultDocument}={}){if(!r)return ref$1("visible");const n=ref$1(r.visibilityState);return useEventListener(r,"visibilitychange",()=>{n.value=r.visibilityState}),n}var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(r,n)=>{var g={};for(var y in r)__hasOwnProp$g.call(r,y)&&n.indexOf(y)<0&&(g[y]=r[y]);if(r!=null&&__getOwnPropSymbols$g)for(var y of __getOwnPropSymbols$g(r))n.indexOf(y)<0&&__propIsEnum$g.call(r,y)&&(g[y]=r[y]);return g};function useResizeObserver(r,n,g={}){const y=g,{window:$=defaultWindow}=y,L=__objRest$2(y,["window"]);let re;const ae=useSupported(()=>$&&"ResizeObserver"in $),le=()=>{re&&(re.disconnect(),re=void 0)},ue=watch$1(()=>unrefElement(r),_e=>{le(),ae.value&&$&&_e&&(re=new ResizeObserver(n),re.observe(_e,L))},{immediate:!0,flush:"post"}),he=()=>{le(),ue()};return tryOnScopeDispose(he),{isSupported:ae,stop:he}}function useElementBounding(r,n={}){const{reset:g=!0,windowResize:y=!0,windowScroll:$=!0,immediate:L=!0}=n,re=ref$1(0),ae=ref$1(0),le=ref$1(0),ue=ref$1(0),he=ref$1(0),_e=ref$1(0),Ce=ref$1(0),$e=ref$1(0);function Oe(){const xe=unrefElement(r);if(!xe){g&&(re.value=0,ae.value=0,le.value=0,ue.value=0,he.value=0,_e.value=0,Ce.value=0,$e.value=0);return}const Ne=xe.getBoundingClientRect();re.value=Ne.height,ae.value=Ne.bottom,le.value=Ne.left,ue.value=Ne.right,he.value=Ne.top,_e.value=Ne.width,Ce.value=Ne.x,$e.value=Ne.y}return useResizeObserver(r,Oe),watch$1(()=>unrefElement(r),xe=>!xe&&Oe()),$&&useEventListener("scroll",Oe,{capture:!0,passive:!0}),y&&useEventListener("resize",Oe,{passive:!0}),tryOnMounted(()=>{L&&Oe()}),{height:re,bottom:ae,left:le,right:ue,top:he,width:_e,x:Ce,y:$e,update:Oe}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(r,n)=>{var g={};for(var y in r)__hasOwnProp$8.call(r,y)&&n.indexOf(y)<0&&(g[y]=r[y]);if(r!=null&&__getOwnPropSymbols$8)for(var y of __getOwnPropSymbols$8(r))n.indexOf(y)<0&&__propIsEnum$8.call(r,y)&&(g[y]=r[y]);return g};function useMutationObserver(r,n,g={}){const y=g,{window:$=defaultWindow}=y,L=__objRest$1(y,["window"]);let re;const ae=useSupported(()=>$&&"MutationObserver"in $),le=()=>{re&&(re.disconnect(),re=void 0)},ue=watch$1(()=>unrefElement(r),_e=>{le(),ae.value&&$&&_e&&(re=new MutationObserver(n),re.observe(_e,L))},{immediate:!0}),he=()=>{le(),ue()};return tryOnScopeDispose(he),{isSupported:ae,stop:he}}var SwipeDirection;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp$2=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(r,n,g)=>n in r?__defProp$2(r,n,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[n]=g,__spreadValues=(r,n)=>{for(var g in n)__hasOwnProp.call(n,g)&&__defNormalProp$2(r,g,n[g]);if(__getOwnPropSymbols)for(var g of __getOwnPropSymbols(n))__propIsEnum.call(n,g)&&__defNormalProp$2(r,g,n[g]);return r};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);function useVModel(r,n,g,y={}){var $,L,re;const{clone:ae=!1,passive:le=!1,eventName:ue,deep:he=!1,defaultValue:_e}=y,Ce=getCurrentInstance(),$e=g||(Ce==null?void 0:Ce.emit)||(($=Ce==null?void 0:Ce.$emit)==null?void 0:$.bind(Ce))||((re=(L=Ce==null?void 0:Ce.proxy)==null?void 0:L.$emit)==null?void 0:re.bind(Ce==null?void 0:Ce.proxy));let Oe=ue;n||(n="modelValue"),Oe=ue||Oe||`update:${n.toString()}`;const xe=Ie=>ae?isFunction$1(ae)?ae(Ie):cloneFnJSON(Ie):Ie,Ne=()=>isDef$1(r[n])?xe(r[n]):_e;if(le){const Ie=Ne(),Fe=ref$1(Ie);return watch$1(()=>r[n],Ve=>Fe.value=xe(Ve)),watch$1(Fe,Ve=>{(Ve!==r[n]||he)&&$e(Oe,Ve)},{deep:he}),Fe}else return computed({get(){return Ne()},set(Ie){$e(Oe,Ie)}})}function useWindowFocus({window:r=defaultWindow}={}){if(!r)return ref$1(!1);const n=ref$1(r.document.hasFocus());return useEventListener(r,"blur",()=>{n.value=!1}),useEventListener(r,"focus",()=>{n.value=!0}),n}function useWindowSize(r={}){const{window:n=defaultWindow,initialWidth:g=1/0,initialHeight:y=1/0,listenOrientation:$=!0,includeScrollbar:L=!0}=r,re=ref$1(g),ae=ref$1(y),le=()=>{n&&(L?(re.value=n.innerWidth,ae.value=n.innerHeight):(re.value=n.document.documentElement.clientWidth,ae.value=n.document.documentElement.clientHeight))};return le(),tryOnMounted(le),useEventListener("resize",le,{passive:!0}),$&&useEventListener("orientationchange",le,{passive:!0}),{width:re,height:ae}}class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function throwError$1(r,n){throw new ElementPlusError(`[${r}] ${n}`)}function debugWarn(r,n){}const initial={current:0},zIndex=ref$1(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=r=>{const n=getCurrentInstance()?inject(ZINDEX_INJECTION_KEY,initial):initial,g=r||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),y=computed(()=>{const re=unref(g);return isNumber$2(re)?re:defaultInitialZIndex}),$=computed(()=>y.value+zIndex.value),L=()=>(n.current++,zIndex.value=n.current,$.value);return!isClient&&inject(ZINDEX_INJECTION_KEY),{initialZIndex:y,currentZIndex:$,nextZIndex:L}};var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const buildTranslator=r=>(n,g)=>translate$1(n,g,unref(r)),translate$1=(r,n,g)=>get$1(g,r,r).replace(/\{(\w+)\}/g,(y,$)=>{var L;return`${(L=n==null?void 0:n[$])!=null?L:`{${$}}`}`}),buildLocaleContext=r=>{const n=computed(()=>unref(r).name),g=isRef(r)?r:ref$1(r);return{lang:n,locale:g,t:buildTranslator(r)}},localeContextKey=Symbol("localeContextKey"),useLocale=r=>{const n=r||inject(localeContextKey,ref$1());return buildLocaleContext(computed(()=>n.value||English))},epPropKey="__epPropKey",definePropType=r=>r,isEpProp=r=>isObject$7(r)&&!!r[epPropKey],buildProp=(r,n)=>{if(!isObject$7(r)||isEpProp(r))return r;const{values:g,required:y,default:$,type:L,validator:re}=r,le={type:L,required:!!y,validator:g||re?ue=>{let he=!1,_e=[];if(g&&(_e=Array.from(g),hasOwn$1(r,"default")&&_e.push($),he||(he=_e.includes(ue))),re&&(he||(he=re(ue))),!he&&_e.length>0){const Ce=[...new Set(_e)].map($e=>JSON.stringify($e)).join(", ");warn(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${Ce}], got value ${JSON.stringify(ue)}.`)}return he}:void 0,[epPropKey]:!0};return hasOwn$1(r,"default")&&(le.default=$),le},buildProps=r=>fromPairs(Object.entries(r).map(([n,g])=>[n,buildProp(g,n)])),componentSizes=["","default","small","large"],useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const r=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(r.size)||"")},emptyValuesContextKey=Symbol("emptyValuesContextKey"),DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:r=>isFunction$3(r)?!r():!r}}),useEmptyValues=(r,n)=>{const g=getCurrentInstance()?inject(emptyValuesContextKey,ref$1({})):ref$1({}),y=computed(()=>r.emptyValues||g.value.emptyValues||DEFAULT_EMPTY_VALUES),$=computed(()=>isFunction$3(r.valueOnClear)?r.valueOnClear():r.valueOnClear!==void 0?r.valueOnClear:isFunction$3(g.value.valueOnClear)?g.value.valueOnClear():g.value.valueOnClear!==void 0?g.value.valueOnClear:n!==void 0?n:DEFAULT_VALUE_ON_CLEAR),L=re=>y.value.includes(re);return y.value.includes($.value),{emptyValues:y,valueOnClear:$,isEmptyValue:L}},keysOf=r=>Object.keys(r),entriesOf=r=>Object.entries(r),getProp=(r,n,g)=>({get value(){return get$1(r,n,g)},set value(y){set$2(r,n,y)}}),globalConfig=ref$1();function useGlobalConfig(r,n=void 0){const g=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return r?computed(()=>{var y,$;return($=(y=g.value)==null?void 0:y[r])!=null?$:n}):g}function useGlobalComponentSettings(r,n){const g=useGlobalConfig(),y=useNamespace$1(r,computed(()=>{var ae;return((ae=g.value)==null?void 0:ae.namespace)||defaultNamespace$1})),$=useLocale(computed(()=>{var ae;return(ae=g.value)==null?void 0:ae.locale})),L=useZIndex(computed(()=>{var ae;return((ae=g.value)==null?void 0:ae.zIndex)||defaultInitialZIndex})),re=computed(()=>{var ae;return unref(n)||((ae=g.value)==null?void 0:ae.size)||""});return provideGlobalConfig(computed(()=>unref(g)||{})),{ns:y,locale:$,zIndex:L,size:re}}const provideGlobalConfig=(r,n,g=!1)=>{var y;const $=!!getCurrentInstance(),L=$?useGlobalConfig():void 0,re=(y=n==null?void 0:n.provide)!=null?y:$?provide:void 0;if(!re)return;const ae=computed(()=>{const le=unref(r);return L!=null&&L.value?mergeConfig(L.value,le):le});return re(configProviderContextKey,ae),re(localeContextKey,computed(()=>ae.value.locale)),re(namespaceContextKey$1,computed(()=>ae.value.namespace)),re(zIndexContextKey,computed(()=>ae.value.zIndex)),re(SIZE_INJECTION_KEY,{size:computed(()=>ae.value.size||"")}),re(emptyValuesContextKey,computed(()=>({emptyValues:ae.value.emptyValues,valueOnClear:ae.value.valueOnClear}))),(g||!globalConfig.value)&&(globalConfig.value=ae.value),ae},mergeConfig=(r,n)=>{const g=[...new Set([...keysOf(r),...keysOf(n)])],y={};for(const $ of g)y[$]=n[$]!==void 0?n[$]:r[$];return y},makeInstaller=(r=[])=>({version:version$2,install:(g,y)=>{g[INSTALLED_KEY]||(g[INSTALLED_KEY]=!0,r.forEach($=>g.use($)),y&&provideGlobalConfig(y,g,!0))}}),UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",affixProps=buildProps({zIndex:{type:definePropType([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),affixEmits={scroll:({scrollTop:r,fixed:n})=>isNumber$2(r)&&isBoolean(n),[CHANGE_EVENT]:r=>isBoolean(r)};var _export_sfc=(r,n)=>{const g=r.__vccOpts||r;for(const[y,$]of n)g[y]=$;return g};function easeInOutCubic(r,n,g,y){const $=g-n;return r/=y/2,r<1?$/2*r*r*r+n:$/2*((r-=2)*r*r+2)+n}const rAF=r=>isClient?window.requestAnimationFrame(r):setTimeout(r,16),cAF=r=>isClient?window.cancelAnimationFrame(r):clearTimeout(r),classNameToArray=(r="")=>r.split(" ").filter(n=>!!n.trim()),hasClass=(r,n)=>{if(!r||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return r.classList.contains(n)},addClass=(r,n)=>{!r||!n.trim()||r.classList.add(...classNameToArray(n))},removeClass=(r,n)=>{!r||!n.trim()||r.classList.remove(...classNameToArray(n))},getStyle$1=(r,n)=>{var g;if(!isClient||!r||!n)return"";let y=camelize(n);y==="float"&&(y="cssFloat");try{const $=r.style[y];if($)return $;const L=(g=document.defaultView)==null?void 0:g.getComputedStyle(r,"");return L?L[y]:""}catch{return r.style[y]}},setStyle=(r,n,g)=>{if(!(!r||!n))if(isObject$7(n))entriesOf(n).forEach(([y,$])=>setStyle(r,y,$));else{const y=camelize(n);r.style[y]=g}};function addUnit(r,n="px"){if(!r)return"";if(isNumber$2(r)||isStringNumber(r))return`${r}${n}`;if(isString$3(r))return r}const isScroll=(r,n)=>{if(!isClient)return!1;const g={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],y=getStyle$1(r,g);return["scroll","auto","overlay"].some($=>y.includes($))},getScrollContainer=(r,n)=>{if(!isClient)return;let g=r;for(;g;){if([window,document,document.documentElement].includes(g))return window;if(isScroll(g,n))return g;g=g.parentNode}return g};let scrollBarWidth;const getScrollBarWidth=r=>{var n;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const g=document.createElement("div");g.className=`${r}-scrollbar__wrap`,g.style.visibility="hidden",g.style.width="100px",g.style.position="absolute",g.style.top="-9999px",document.body.appendChild(g);const y=g.offsetWidth;g.style.overflow="scroll";const $=document.createElement("div");$.style.width="100%",g.appendChild($);const L=$.offsetWidth;return(n=g.parentNode)==null||n.removeChild(g),scrollBarWidth=y-L,scrollBarWidth};function scrollIntoView$2(r,n){if(!isClient)return;if(!n){r.scrollTop=0;return}const g=[];let y=n.offsetParent;for(;y!==null&&r!==y&&r.contains(y);)g.push(y),y=y.offsetParent;const $=n.offsetTop+g.reduce((le,ue)=>le+ue.offsetTop,0),L=$+n.offsetHeight,re=r.scrollTop,ae=re+r.clientHeight;$<re?r.scrollTop=$:L>ae&&(r.scrollTop=L-r.clientHeight)}function animateScrollTo(r,n,g,y,$){const L=Date.now();let re;const ae=()=>{const ue=Date.now()-L,he=easeInOutCubic(ue>y?y:ue,n,g,y);isWindow(r)?r.scrollTo(window.pageXOffset,he):r.scrollTop=he,ue<y?re=rAF(ae):isFunction$3($)&&$()};return ae(),()=>{re&&cAF(re)}}const getScrollElement=(r,n)=>isWindow(n)?r.ownerDocument.documentElement:n,getScrollTop=r=>isWindow(r)?window.scrollY:r.scrollTop,COMPONENT_NAME$n="ElAffix",__default__$1R=defineComponent({name:COMPONENT_NAME$n}),_sfc_main$3S=defineComponent({...__default__$1R,props:affixProps,emits:affixEmits,setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("affix"),L=shallowRef(),re=shallowRef(),ae=shallowRef(),{height:le}=useWindowSize(),{height:ue,width:he,top:_e,bottom:Ce,update:$e}=useElementBounding(re,{windowScroll:!1}),Oe=useElementBounding(L),xe=ref$1(!1),Ne=ref$1(0),Ie=ref$1(0),Fe=computed(()=>({height:xe.value?`${ue.value}px`:"",width:xe.value?`${he.value}px`:""})),Ve=computed(()=>{if(!xe.value)return{};const qe=y.offset?addUnit(y.offset):0;return{height:`${ue.value}px`,width:`${he.value}px`,top:y.position==="top"?qe:"",bottom:y.position==="bottom"?qe:"",transform:Ie.value?`translateY(${Ie.value}px)`:"",zIndex:y.zIndex}}),ze=()=>{if(!ae.value)return;Ne.value=ae.value instanceof Window?document.documentElement.scrollTop:ae.value.scrollTop||0;const{position:qe,target:kt,offset:Et}=y,Pt=Et+ue.value;if(qe==="top")if(kt){const At=Oe.bottom.value-Pt;xe.value=Et>_e.value&&Oe.bottom.value>0,Ie.value=At<0?At:0}else xe.value=Et>_e.value;else if(kt){const At=le.value-Oe.top.value-Pt;xe.value=le.value-Et<Ce.value&&le.value>Oe.top.value,Ie.value=At<0?-At:0}else xe.value=le.value-Et<Ce.value},Ue=()=>{$e(),g("scroll",{scrollTop:Ne.value,fixed:xe.value})};return watch$1(xe,qe=>g("change",qe)),onMounted(()=>{var qe;y.target?(L.value=(qe=document.querySelector(y.target))!=null?qe:void 0,L.value||throwError$1(COMPONENT_NAME$n,`Target does not exist: ${y.target}`)):L.value=document.documentElement,ae.value=getScrollContainer(re.value,!0),$e()}),useEventListener(ae,"scroll",Ue),watchEffect(ze),n({update:ze,updateRoot:$e}),(qe,kt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:re,class:normalizeClass(unref($).b()),style:normalizeStyle$1(unref(Fe))},[createBaseVNode("div",{class:normalizeClass({[unref($).m("fixed")]:xe.value}),style:normalizeStyle$1(unref(Ve))},[renderSlot(qe.$slots,"default")],6)],6))}});var Affix=_export_sfc(_sfc_main$3S,[["__file","affix.vue"]]);const withInstall=(r,n)=>{if(r.install=g=>{for(const y of[r,...Object.values(n??{})])g.component(y.name,y)},n)for(const[g,y]of Object.entries(n))r[g]=y;return r},withInstallFunction=(r,n)=>(r.install=g=>{r._context=g._context,g.config.globalProperties[n]=r},r),withInstallDirective=(r,n)=>(r.install=g=>{g.directive(n,r)},r),withNoopInstall=r=>(r.install=NOOP,r),ElAffix=withInstall(Affix),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$1Q=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$3R=defineComponent({...__default__$1Q,props:iconProps,setup(r){const n=r,g=useNamespace$1("icon"),y=computed(()=>{const{size:$,color:L}=n;return!$&&!L?{}:{fontSize:isUndefined($)?void 0:addUnit($),"--color":L}});return($,L)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(g).b(),style:unref(y)},$.$attrs),[renderSlot($.$slots,"default")],16))}});var Icon$2=_export_sfc(_sfc_main$3R,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon$2);/*! Element Plus Icons Vue v2.3.1 */var arrow_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowDown",__name:"arrow-down",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowLeft",__name:"arrow-left",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_left_default=arrow_left_vue_vue_type_script_setup_true_lang_default,arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowRight",__name:"arrow-right",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_right_default=arrow_right_vue_vue_type_script_setup_true_lang_default,arrow_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowUp",__name:"arrow-up",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),arrow_up_default=arrow_up_vue_vue_type_script_setup_true_lang_default,back_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Back",__name:"back",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),createBaseVNode("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),back_default=back_vue_vue_type_script_setup_true_lang_default,calendar_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Calendar",__name:"calendar",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),calendar_default=calendar_vue_vue_type_script_setup_true_lang_default,caret_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretRight",__name:"caret-right",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),caret_right_default=caret_right_vue_vue_type_script_setup_true_lang_default,caret_top_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretTop",__name:"caret-top",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),caret_top_default=caret_top_vue_vue_type_script_setup_true_lang_default,check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Check",__name:"check",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),check_default=check_vue_vue_type_script_setup_true_lang_default,circle_check_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheckFilled",__name:"circle-check-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),circle_check_filled_default=circle_check_filled_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheck",__name:"circle-check",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),circle_close_filled_default=circle_close_filled_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleClose",__name:"circle-close",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,clock_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Clock",__name:"clock",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),clock_default=clock_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Close",__name:"close",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=close_vue_vue_type_script_setup_true_lang_default,d_arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowLeft",__name:"d-arrow-left",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),d_arrow_left_default=d_arrow_left_vue_vue_type_script_setup_true_lang_default,d_arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowRight",__name:"d-arrow-right",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),d_arrow_right_default=d_arrow_right_vue_vue_type_script_setup_true_lang_default,delete_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Delete",__name:"delete",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),delete_default=delete_vue_vue_type_script_setup_true_lang_default,document_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Document",__name:"document",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),document_default=document_vue_vue_type_script_setup_true_lang_default,full_screen_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"FullScreen",__name:"full-screen",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),full_screen_default=full_screen_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Hide",__name:"hide",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,info_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"InfoFilled",__name:"info-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),info_filled_default=info_filled_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,minus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Minus",__name:"minus",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),minus_default=minus_vue_vue_type_script_setup_true_lang_default,more_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"MoreFilled",__name:"more-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),more_filled_default=more_filled_vue_vue_type_script_setup_true_lang_default,more_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"More",__name:"more",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),more_default=more_vue_vue_type_script_setup_true_lang_default,picture_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"PictureFilled",__name:"picture-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),picture_filled_default=picture_filled_vue_vue_type_script_setup_true_lang_default,plus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Plus",__name:"plus",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),plus_default=plus_vue_vue_type_script_setup_true_lang_default,question_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"QuestionFilled",__name:"question-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),question_filled_default=question_filled_vue_vue_type_script_setup_true_lang_default,refresh_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshLeft",__name:"refresh-left",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),refresh_left_default=refresh_left_vue_vue_type_script_setup_true_lang_default,refresh_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshRight",__name:"refresh-right",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),refresh_right_default=refresh_right_vue_vue_type_script_setup_true_lang_default,scale_to_original_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ScaleToOriginal",__name:"scale-to-original",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),scale_to_original_default=scale_to_original_vue_vue_type_script_setup_true_lang_default,search_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Search",__name:"search",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),search_default=search_vue_vue_type_script_setup_true_lang_default,sort_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SortDown",__name:"sort-down",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),sort_down_default=sort_down_vue_vue_type_script_setup_true_lang_default,sort_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SortUp",__name:"sort-up",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),sort_up_default=sort_up_vue_vue_type_script_setup_true_lang_default,star_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"StarFilled",__name:"star-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),star_filled_default=star_filled_vue_vue_type_script_setup_true_lang_default,star_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Star",__name:"star",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),star_default=star_vue_vue_type_script_setup_true_lang_default,success_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),success_filled_default=success_filled_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"View",__name:"view",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=view_vue_vue_type_script_setup_true_lang_default,warning_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),warning_filled_default=warning_filled_vue_vue_type_script_setup_true_lang_default,zoom_in_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomIn",__name:"zoom-in",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),zoom_in_default=zoom_in_vue_vue_type_script_setup_true_lang_default,zoom_out_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomOut",__name:"zoom-out",setup(r){return(n,g)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),zoom_out_default=zoom_out_vue_vue_type_script_setup_true_lang_default;const iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"}}),alertEmits={close:r=>r instanceof MouseEvent},__default__$1P=defineComponent({name:"ElAlert"}),_sfc_main$3Q=defineComponent({...__default__$1P,props:alertProps,emits:alertEmits,setup(r,{emit:n}){const g=r,{Close:y}=TypeComponents,$=useSlots(),L=useNamespace$1("alert"),re=ref$1(!0),ae=computed(()=>TypeComponentsMap[g.type]),le=computed(()=>!!(g.description||$.default)),ue=he=>{re.value=!1,n("close",he)};return(he,_e)=>(openBlock(),createBlock(Transition,{name:unref(L).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref(L).b(),unref(L).m(he.type),unref(L).is("center",he.center),unref(L).is(he.effect)]),role:"alert"},[he.showIcon&&unref(ae)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(L).e("icon"),{[unref(L).is("big")]:unref(le)}])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ae))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(L).e("content"))},[he.title||he.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(L).e("title"),{"with-description":unref(le)}])},[renderSlot(he.$slots,"title",{},()=>[createTextVNode(toDisplayString(he.title),1)])],2)):createCommentVNode("v-if",!0),unref(le)?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref(L).e("description"))},[renderSlot(he.$slots,"default",{},()=>[createTextVNode(toDisplayString(he.description),1)])],2)):createCommentVNode("v-if",!0),he.closable?(openBlock(),createElementBlock(Fragment,{key:2},[he.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(L).e("close-btn"),unref(L).is("customed")]),onClick:ue},toDisplayString(he.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(L).e("close-btn")),onClick:ue},{default:withCtx(()=>[createVNode$1(unref(y))]),_:1},8,["class"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,re.value]])]),_:3},8,["name"]))}});var Alert=_export_sfc(_sfc_main$3Q,[["__file","alert.vue"]]);const ElAlert=withInstall(Alert),isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(r){const n=window.getComputedStyle(r),g=n.getPropertyValue("box-sizing"),y=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),$=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(re=>`${re}:${n.getPropertyValue(re)}`).join(";"),paddingSize:y,borderSize:$,boxSizing:g}}function calcTextareaHeight(r,n=1,g){var y;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:$,borderSize:L,boxSizing:re,contextStyle:ae}=calculateNodeStyling(r);hiddenTextarea.setAttribute("style",`${ae};${HIDDEN_STYLE}`),hiddenTextarea.value=r.value||r.placeholder||"";let le=hiddenTextarea.scrollHeight;const ue={};re==="border-box"?le=le+L:re==="content-box"&&(le=le-$),hiddenTextarea.value="";const he=hiddenTextarea.scrollHeight-$;if(isNumber$2(n)){let _e=he*n;re==="border-box"&&(_e=_e+$+L),le=Math.max(_e,le),ue.minHeight=`${_e}px`}if(isNumber$2(g)){let _e=he*g;re==="border-box"&&(_e=_e+$+L),le=Math.min(_e,le)}return ue.height=`${le}px`,(y=hiddenTextarea.parentNode)==null||y.removeChild(hiddenTextarea),hiddenTextarea=void 0,ue}const mutable=r=>r,ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=r=>pick(ariaProps,r),inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:Boolean,rows:{type:Number,default:2},...useAriaProps(["ariaLabel"])}),inputEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r),input:r=>isString$3(r),change:r=>isString$3(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,mouseleave:r=>r instanceof MouseEvent,mouseenter:r=>r instanceof MouseEvent,keydown:r=>r instanceof Event,compositionstart:r=>r instanceof CompositionEvent,compositionupdate:r=>r instanceof CompositionEvent,compositionend:r=>r instanceof CompositionEvent},DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(r={})=>{const{excludeListeners:n=!1,excludeKeys:g}=r,y=computed(()=>((g==null?void 0:g.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),$=getCurrentInstance();return $?computed(()=>{var L;return fromPairs(Object.entries((L=$.proxy)==null?void 0:L.$attrs).filter(([re])=>!y.value.includes(re)&&!(n&&LISTENER_PREFIX.test(re))))}):computed(()=>({}))},formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=r=>{const n=useIdInjection(),g=useGetDerivedNamespace$1();return computedEager(()=>unref(r)||`${g.value}-id-${n.prefix}-${n.current++}`)},useFormItem=()=>{const r=inject(formContextKey,void 0),n=inject(formItemContextKey,void 0);return{form:r,formItem:n}},useFormItemInputId=(r,{formItemContext:n,disableIdGeneration:g,disableIdManagement:y})=>{g||(g=ref$1(!1)),y||(y=ref$1(!1));const $=ref$1();let L;const re=computed(()=>{var ae;return!!(!(r.label||r.ariaLabel)&&n&&n.inputIds&&((ae=n.inputIds)==null?void 0:ae.length)<=1)});return onMounted(()=>{L=watch$1([toRef(r,"id"),g],([ae,le])=>{const ue=ae??(le?void 0:useId().value);ue!==$.value&&(n!=null&&n.removeInputId&&($.value&&n.removeInputId($.value),!(y!=null&&y.value)&&!le&&ue&&n.addInputId(ue)),$.value=ue)},{immediate:!0})}),onUnmounted(()=>{L&&L(),n!=null&&n.removeInputId&&$.value&&n.removeInputId($.value)}),{isLabeledByFormItem:re,inputId:$}},useProp=r=>{const n=getCurrentInstance();return computed(()=>{var g,y;return(y=(g=n==null?void 0:n.proxy)==null?void 0:g.$props)==null?void 0:y[r]})},useFormSize=(r,n={})=>{const g=ref$1(void 0),y=n.prop?g:useProp("size"),$=n.global?g:useGlobalSize(),L=n.form?{size:void 0}:inject(formContextKey,void 0),re=n.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>y.value||unref(r)||(re==null?void 0:re.size)||(L==null?void 0:L.size)||$.value||"")},useFormDisabled=r=>{const n=useProp("disabled"),g=inject(formContextKey,void 0);return computed(()=>n.value||unref(r)||(g==null?void 0:g.disabled)||!1)};function useFocusController(r,{beforeFocus:n,afterFocus:g,beforeBlur:y,afterBlur:$}={}){const L=getCurrentInstance(),{emit:re}=L,ae=shallowRef(),le=ref$1(!1),ue=Ce=>{isFunction$3(n)&&n(Ce)||le.value||(le.value=!0,re("focus",Ce),g==null||g())},he=Ce=>{var $e;isFunction$3(y)&&y(Ce)||Ce.relatedTarget&&(($e=ae.value)!=null&&$e.contains(Ce.relatedTarget))||(le.value=!1,re("blur",Ce),$==null||$())},_e=()=>{var Ce,$e;(Ce=ae.value)!=null&&Ce.contains(document.activeElement)&&ae.value!==document.activeElement||($e=r.value)==null||$e.focus()};return watch$1(ae,Ce=>{Ce&&Ce.setAttribute("tabindex","-1")}),useEventListener(ae,"focus",ue,!0),useEventListener(ae,"blur",he,!0),useEventListener(ae,"click",_e,!0),{isFocused:le,wrapperRef:ae,handleFocus:ue,handleBlur:he}}const isKorean=r=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r);function useComposition({afterComposition:r,emit:n}){const g=ref$1(!1),y=ae=>{n==null||n("compositionstart",ae),g.value=!0},$=ae=>{var le;n==null||n("compositionupdate",ae);const ue=(le=ae.target)==null?void 0:le.value,he=ue[ue.length-1]||"";g.value=!isKorean(he)},L=ae=>{n==null||n("compositionend",ae),g.value&&(g.value=!1,nextTick$1(()=>r(ae)))};return{isComposing:g,handleComposition:ae=>{ae.type==="compositionend"?L(ae):$(ae)},handleCompositionStart:y,handleCompositionUpdate:$,handleCompositionEnd:L}}function useCursor(r){let n;function g(){if(r.value==null)return;const{selectionStart:$,selectionEnd:L,value:re}=r.value;if($==null||L==null)return;const ae=re.slice(0,Math.max(0,$)),le=re.slice(Math.max(0,L));n={selectionStart:$,selectionEnd:L,value:re,beforeTxt:ae,afterTxt:le}}function y(){if(r.value==null||n==null)return;const{value:$}=r.value,{beforeTxt:L,afterTxt:re,selectionStart:ae}=n;if(L==null||re==null||ae==null)return;let le=$.length;if($.endsWith(re))le=$.length-re.length;else if($.startsWith(L))le=L.length;else{const ue=L[ae-1],he=$.indexOf(ue,ae-1);he!==-1&&(le=he+1)}r.value.setSelectionRange(le,le)}return[g,y]}const __default__$1O=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$3P=defineComponent({...__default__$1O,props:inputProps,emits:inputEmits,setup(r,{expose:n,emit:g}){const y=r,$=useAttrs$1(),L=useAttrs(),re=useSlots(),ae=computed(()=>[y.type==="textarea"?xe.b():Oe.b(),Oe.m(Ce.value),Oe.is("disabled",$e.value),Oe.is("exceed",Tn.value),{[Oe.b("group")]:re.prepend||re.append,[Oe.m("prefix")]:re.prefix||y.prefixIcon,[Oe.m("suffix")]:re.suffix||y.suffixIcon||y.clearable||y.showPassword,[Oe.bm("suffix","password-clear")]:Sn.value&&bn.value,[Oe.b("hidden")]:y.type==="hidden"},$.class]),le=computed(()=>[Oe.e("wrapper"),Oe.is("focus",Et.value)]),{form:ue,formItem:he}=useFormItem(),{inputId:_e}=useFormItemInputId(y,{formItemContext:he}),Ce=useFormSize(),$e=useFormDisabled(),Oe=useNamespace$1("input"),xe=useNamespace$1("textarea"),Ne=shallowRef(),Ie=shallowRef(),Fe=ref$1(!1),Ve=ref$1(!1),ze=ref$1(),Ue=shallowRef(y.inputStyle),qe=computed(()=>Ne.value||Ie.value),{wrapperRef:kt,isFocused:Et,handleFocus:Pt,handleBlur:At}=useFocusController(qe,{beforeFocus(){return $e.value},afterBlur(){var Qn;y.validateEvent&&((Qn=he==null?void 0:he.validate)==null||Qn.call(he,"blur").catch(rr=>void 0))}}),Dt=computed(()=>{var Qn;return(Qn=ue==null?void 0:ue.statusIcon)!=null?Qn:!1}),Lt=computed(()=>(he==null?void 0:he.validateState)||""),hn=computed(()=>Lt.value&&ValidateComponentsMap[Lt.value]),_n=computed(()=>Ve.value?view_default:hide_default),vn=computed(()=>[$.style]),jt=computed(()=>[y.inputStyle,Ue.value,{resize:y.resize}]),$n=computed(()=>isNil(y.modelValue)?"":String(y.modelValue)),Sn=computed(()=>y.clearable&&!$e.value&&!y.readonly&&!!$n.value&&(Et.value||Fe.value)),bn=computed(()=>y.showPassword&&!$e.value&&!!$n.value&&(!!$n.value||Et.value)),wn=computed(()=>y.showWordLimit&&!!y.maxlength&&(y.type==="text"||y.type==="textarea")&&!$e.value&&!y.readonly&&!y.showPassword),On=computed(()=>$n.value.length),Tn=computed(()=>!!wn.value&&On.value>Number(y.maxlength)),xn=computed(()=>!!re.suffix||!!y.suffixIcon||Sn.value||y.showPassword||wn.value||!!Lt.value&&Dt.value),[Pn,An]=useCursor(Ne);useResizeObserver(Ie,Qn=>{if(Dn(),!wn.value||y.resize!=="both")return;const rr=Qn[0],{width:cr}=rr.contentRect;ze.value={right:`calc(100% - ${cr+15+6}px)`}});const Rn=()=>{const{type:Qn,autosize:rr}=y;if(!(!isClient||Qn!=="textarea"||!Ie.value))if(rr){const cr=isObject$7(rr)?rr.minRows:void 0,vr=isObject$7(rr)?rr.maxRows:void 0,hr=calcTextareaHeight(Ie.value,cr,vr);Ue.value={overflowY:"hidden",...hr},nextTick$1(()=>{Ie.value.offsetHeight,Ue.value=hr})}else Ue.value={minHeight:calcTextareaHeight(Ie.value).minHeight}},Dn=(Qn=>{let rr=!1;return()=>{var cr;if(rr||!y.autosize)return;((cr=Ie.value)==null?void 0:cr.offsetParent)===null||(Qn(),rr=!0)}})(Rn),In=()=>{const Qn=qe.value,rr=y.formatter?y.formatter($n.value):$n.value;!Qn||Qn.value===rr||(Qn.value=rr)},Fn=async Qn=>{Pn();let{value:rr}=Qn.target;if(y.formatter&&(rr=y.parser?y.parser(rr):rr),!Mn.value){if(rr===$n.value){In();return}g(UPDATE_MODEL_EVENT,rr),g("input",rr),await nextTick$1(),In(),An()}},Bn=Qn=>{g("change",Qn.target.value)},{isComposing:Mn,handleCompositionStart:Hn,handleCompositionUpdate:Yn,handleCompositionEnd:qn}=useComposition({emit:g,afterComposition:Fn}),Xn=()=>{Pn(),Ve.value=!Ve.value,setTimeout(An)},jn=()=>{var Qn;return(Qn=qe.value)==null?void 0:Qn.focus()},Zn=()=>{var Qn;return(Qn=qe.value)==null?void 0:Qn.blur()},Un=Qn=>{Fe.value=!1,g("mouseleave",Qn)},Jn=Qn=>{Fe.value=!0,g("mouseenter",Qn)},tr=Qn=>{g("keydown",Qn)},sr=()=>{var Qn;(Qn=qe.value)==null||Qn.select()},or=()=>{g(UPDATE_MODEL_EVENT,""),g("change",""),g("clear"),g("input","")};return watch$1(()=>y.modelValue,()=>{var Qn;nextTick$1(()=>Rn()),y.validateEvent&&((Qn=he==null?void 0:he.validate)==null||Qn.call(he,"change").catch(rr=>void 0))}),watch$1($n,()=>In()),watch$1(()=>y.type,async()=>{await nextTick$1(),In(),Rn()}),onMounted(()=>{!y.formatter&&y.parser,In(),nextTick$1(Rn)}),n({input:Ne,textarea:Ie,ref:qe,textareaStyle:jt,autosize:toRef(y,"autosize"),isComposing:Mn,focus:jn,blur:Zn,select:sr,clear:or,resizeTextarea:Rn}),(Qn,rr)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(ae),{[unref(Oe).bm("group","append")]:Qn.$slots.append,[unref(Oe).bm("group","prepend")]:Qn.$slots.prepend}]),style:normalizeStyle$1(unref(vn)),onMouseenter:Jn,onMouseleave:Un},[createCommentVNode(" input "),Qn.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),Qn.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).be("group","prepend"))},[renderSlot(Qn.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:kt,class:normalizeClass(unref(le))},[createCommentVNode(" prefix slot "),Qn.$slots.prefix||Qn.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Oe).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("prefix-inner"))},[renderSlot(Qn.$slots,"prefix"),Qn.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Oe).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Qn.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(_e),ref_key:"input",ref:Ne,class:unref(Oe).e("inner")},unref(L),{minlength:Qn.minlength,maxlength:Qn.maxlength,type:Qn.showPassword?Ve.value?"text":"password":Qn.type,disabled:unref($e),readonly:Qn.readonly,autocomplete:Qn.autocomplete,tabindex:Qn.tabindex,"aria-label":Qn.ariaLabel,placeholder:Qn.placeholder,style:Qn.inputStyle,form:Qn.form,autofocus:Qn.autofocus,role:Qn.containerRole,onCompositionstart:unref(Hn),onCompositionupdate:unref(Yn),onCompositionend:unref(qn),onInput:Fn,onChange:Bn,onKeydown:tr}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),createCommentVNode(" suffix slot "),unref(xn)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(Oe).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("suffix-inner"))},[!unref(Sn)||!unref(bn)||!unref(wn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(Qn.$slots,"suffix"),Qn.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(Oe).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Qn.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Sn)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(Oe).e("icon"),unref(Oe).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:or},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(bn)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(Oe).e("icon"),unref(Oe).e("password")]),onClick:Xn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(_n))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(wn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(Oe).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(Oe).e("count-inner"))},toDisplayString(unref(On))+" / "+toDisplayString(Qn.maxlength),3)],2)):createCommentVNode("v-if",!0),unref(Lt)&&unref(hn)&&unref(Dt)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(Oe).e("icon"),unref(Oe).e("validateIcon"),unref(Oe).is("loading",unref(Lt)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(hn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Qn.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(Oe).be("group","append"))},[renderSlot(Qn.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(_e),ref_key:"textarea",ref:Ie,class:[unref(xe).e("inner"),unref(Oe).is("focus",unref(Et))]},unref(L),{minlength:Qn.minlength,maxlength:Qn.maxlength,tabindex:Qn.tabindex,disabled:unref($e),readonly:Qn.readonly,autocomplete:Qn.autocomplete,style:unref(jt),"aria-label":Qn.ariaLabel,placeholder:Qn.placeholder,form:Qn.form,autofocus:Qn.autofocus,rows:Qn.rows,role:Qn.containerRole,onCompositionstart:unref(Hn),onCompositionupdate:unref(Yn),onCompositionend:unref(qn),onInput:Fn,onFocus:unref(Pt),onBlur:unref(At),onChange:Bn,onKeydown:tr}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),unref(wn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle$1(ze.value),class:normalizeClass(unref(Oe).e("count"))},toDisplayString(unref(On))+" / "+toDisplayString(Qn.maxlength),7)):createCommentVNode("v-if",!0)],64))],38))}});var Input=_export_sfc(_sfc_main$3P,[["__file","input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle$1=({move:r,size:n,bar:g})=>({[g.size]:n,transform:`translate${g.axis}(${r}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$m="Thumb",_sfc_main$3O=defineComponent({__name:"thumb",props:thumbProps,setup(r){const n=r,g=inject(scrollbarContextKey),y=useNamespace$1("scrollbar");g||throwError$1(COMPONENT_NAME$m,"can not inject scrollbar context");const $=ref$1(),L=ref$1(),re=ref$1({}),ae=ref$1(!1);let le=!1,ue=!1,he=isClient?document.onselectstart:null;const _e=computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),Ce=computed(()=>renderThumbStyle$1({size:n.size,move:n.move,bar:_e.value})),$e=computed(()=>$.value[_e.value.offset]**2/g.wrapElement[_e.value.scrollSize]/n.ratio/L.value[_e.value.offset]),Oe=qe=>{var kt;if(qe.stopPropagation(),qe.ctrlKey||[1,2].includes(qe.button))return;(kt=window.getSelection())==null||kt.removeAllRanges(),Ne(qe);const Et=qe.currentTarget;Et&&(re.value[_e.value.axis]=Et[_e.value.offset]-(qe[_e.value.client]-Et.getBoundingClientRect()[_e.value.direction]))},xe=qe=>{if(!L.value||!$.value||!g.wrapElement)return;const kt=Math.abs(qe.target.getBoundingClientRect()[_e.value.direction]-qe[_e.value.client]),Et=L.value[_e.value.offset]/2,Pt=(kt-Et)*100*$e.value/$.value[_e.value.offset];g.wrapElement[_e.value.scroll]=Pt*g.wrapElement[_e.value.scrollSize]/100},Ne=qe=>{qe.stopImmediatePropagation(),le=!0,document.addEventListener("mousemove",Ie),document.addEventListener("mouseup",Fe),he=document.onselectstart,document.onselectstart=()=>!1},Ie=qe=>{if(!$.value||!L.value||le===!1)return;const kt=re.value[_e.value.axis];if(!kt)return;const Et=($.value.getBoundingClientRect()[_e.value.direction]-qe[_e.value.client])*-1,Pt=L.value[_e.value.offset]-kt,At=(Et-Pt)*100*$e.value/$.value[_e.value.offset];g.wrapElement[_e.value.scroll]=At*g.wrapElement[_e.value.scrollSize]/100},Fe=()=>{le=!1,re.value[_e.value.axis]=0,document.removeEventListener("mousemove",Ie),document.removeEventListener("mouseup",Fe),Ue(),ue&&(ae.value=!1)},Ve=()=>{ue=!1,ae.value=!!n.size},ze=()=>{ue=!0,ae.value=le};onBeforeUnmount(()=>{Ue(),document.removeEventListener("mouseup",Fe)});const Ue=()=>{document.onselectstart!==he&&(document.onselectstart=he)};return useEventListener(toRef(g,"scrollbarElement"),"mousemove",Ve),useEventListener(toRef(g,"scrollbarElement"),"mouseleave",ze),(qe,kt)=>(openBlock(),createBlock(Transition,{name:unref(y).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:$,class:normalizeClass([unref(y).e("bar"),unref(y).is(unref(_e).key)]),onMousedown:xe},[createBaseVNode("div",{ref_key:"thumb",ref:L,class:normalizeClass(unref(y).e("thumb")),style:normalizeStyle$1(unref(Ce)),onMousedown:Oe},null,38)],34),[[vShow,qe.always||ae.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$3O,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$3N=defineComponent({__name:"bar",props:barProps,setup(r,{expose:n}){const g=r,y=inject(scrollbarContextKey),$=ref$1(0),L=ref$1(0),re=ref$1(""),ae=ref$1(""),le=ref$1(1),ue=ref$1(1);return n({handleScroll:Ce=>{if(Ce){const $e=Ce.offsetHeight-GAP,Oe=Ce.offsetWidth-GAP;L.value=Ce.scrollTop*100/$e*le.value,$.value=Ce.scrollLeft*100/Oe*ue.value}},update:()=>{const Ce=y==null?void 0:y.wrapElement;if(!Ce)return;const $e=Ce.offsetHeight-GAP,Oe=Ce.offsetWidth-GAP,xe=$e**2/Ce.scrollHeight,Ne=Oe**2/Ce.scrollWidth,Ie=Math.max(xe,g.minSize),Fe=Math.max(Ne,g.minSize);le.value=xe/($e-xe)/(Ie/($e-Ie)),ue.value=Ne/(Oe-Ne)/(Fe/(Oe-Fe)),ae.value=Ie+GAP<$e?`${Ie}px`:"",re.value=Fe+GAP<Oe?`${Fe}px`:""}}),(Ce,$e)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$1(Thumb,{move:$.value,ratio:ue.value,size:re.value,always:Ce.always},null,8,["move","ratio","size","always"]),createVNode$1(Thumb,{move:L.value,ratio:le.value,size:ae.value,vertical:"",always:Ce.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$3N,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={scroll:({scrollTop:r,scrollLeft:n})=>[r,n].every(isNumber$2)},COMPONENT_NAME$l="ElScrollbar",__default__$1N=defineComponent({name:COMPONENT_NAME$l}),_sfc_main$3M=defineComponent({...__default__$1N,props:scrollbarProps,emits:scrollbarEmits,setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("scrollbar");let L,re,ae=0,le=0;const ue=ref$1(),he=ref$1(),_e=ref$1(),Ce=ref$1(),$e=computed(()=>{const Ue={};return y.height&&(Ue.height=addUnit(y.height)),y.maxHeight&&(Ue.maxHeight=addUnit(y.maxHeight)),[y.wrapStyle,Ue]}),Oe=computed(()=>[y.wrapClass,$.e("wrap"),{[$.em("wrap","hidden-default")]:!y.native}]),xe=computed(()=>[$.e("view"),y.viewClass]),Ne=()=>{var Ue;he.value&&((Ue=Ce.value)==null||Ue.handleScroll(he.value),ae=he.value.scrollTop,le=he.value.scrollLeft,g("scroll",{scrollTop:he.value.scrollTop,scrollLeft:he.value.scrollLeft}))};function Ie(Ue,qe){isObject$7(Ue)?he.value.scrollTo(Ue):isNumber$2(Ue)&&isNumber$2(qe)&&he.value.scrollTo(Ue,qe)}const Fe=Ue=>{isNumber$2(Ue)&&(he.value.scrollTop=Ue)},Ve=Ue=>{isNumber$2(Ue)&&(he.value.scrollLeft=Ue)},ze=()=>{var Ue;(Ue=Ce.value)==null||Ue.update()};return watch$1(()=>y.noresize,Ue=>{Ue?(L==null||L(),re==null||re()):({stop:L}=useResizeObserver(_e,ze),re=useEventListener("resize",ze))},{immediate:!0}),watch$1(()=>[y.maxHeight,y.height],()=>{y.native||nextTick$1(()=>{var Ue;ze(),he.value&&((Ue=Ce.value)==null||Ue.handleScroll(he.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:ue,wrapElement:he})),onActivated(()=>{he.value&&(he.value.scrollTop=ae,he.value.scrollLeft=le)}),onMounted(()=>{y.native||nextTick$1(()=>{ze()})}),onUpdated(()=>ze()),n({wrapRef:he,update:ze,scrollTo:Ie,setScrollTop:Fe,setScrollLeft:Ve,handleScroll:Ne}),(Ue,qe)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:ue,class:normalizeClass(unref($).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:he,class:normalizeClass(unref(Oe)),style:normalizeStyle$1(unref($e)),tabindex:Ue.tabindex,onScroll:Ne},[(openBlock(),createBlock(resolveDynamicComponent(Ue.tag),{id:Ue.id,ref_key:"resizeRef",ref:_e,class:normalizeClass(unref(xe)),style:normalizeStyle$1(Ue.viewStyle),role:Ue.role,"aria-label":Ue.ariaLabel,"aria-orientation":Ue.ariaOrientation},{default:withCtx(()=>[renderSlot(Ue.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),Ue.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:Ce,always:Ue.always,"min-size":Ue.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$3M,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$1M=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$3L=defineComponent({...__default__$1M,props:popperProps,setup(r,{expose:n}){const g=r,y=ref$1(),$=ref$1(),L=ref$1(),re=ref$1(),ae=computed(()=>g.role),le={triggerRef:y,popperInstanceRef:$,contentRef:L,referenceRef:re,role:ae};return n(le),provide(POPPER_INJECTION_KEY,le),(ue,he)=>renderSlot(ue.$slots,"default")}});var Popper=_export_sfc(_sfc_main$3L,[["__file","popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$1L=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$3K=defineComponent({...__default__$1L,props:popperArrowProps,setup(r,{expose:n}){const g=r,y=useNamespace$1("popper"),{arrowOffset:$,arrowRef:L,arrowStyle:re}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch$1(()=>g.arrowOffset,ae=>{$.value=ae}),onBeforeUnmount(()=>{L.value=void 0}),n({arrowRef:L}),(ae,le)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:L,class:normalizeClass(unref(y).e("arrow")),style:normalizeStyle$1(unref(re)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$3K,[["__file","arrow.vue"]]);const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=r=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:g=>{r.value=g}})},useForwardRefDirective=r=>({mounted(n){r(n)},updated(n){r(n)},unmounted(){r(null)}}),FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=r=>getComputedStyle(r).position==="fixed"?!1:r.offsetParent!==null,obtainAllFocusableElements$1=r=>Array.from(r.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(n=>isFocusable(n)&&isVisible(n)),isFocusable=r=>{if(r.tabIndex>0||r.tabIndex===0&&r.getAttribute("tabIndex")!==null)return!0;if(r.tabIndex<0||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true")return!1;switch(r.nodeName){case"A":return!!r.href&&r.rel!=="ignore";case"INPUT":return!(r.type==="hidden"||r.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(r,n,...g){let y;n.includes("mouse")||n.includes("click")?y="MouseEvents":n.includes("key")?y="KeyboardEvent":y="HTMLEvents";const $=document.createEvent(y);return $.initEvent(n,...g),r.dispatchEvent($),r},isLeaf=r=>!r.getAttribute("aria-owns"),getSibling=(r,n,g)=>{const{parentNode:y}=r;if(!y)return null;const $=y.querySelectorAll(g),L=Array.prototype.indexOf.call($,r);return $[L+n]||null},focusNode=r=>{r&&(r.focus(),!isLeaf(r)&&r.click())},NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(r,{slots:n,attrs:g}){var y;const $=inject(FORWARD_REF_INJECTION_KEY),L=useForwardRefDirective((y=$==null?void 0:$.setForwardRef)!=null?y:NOOP);return()=>{var re;const ae=(re=n.default)==null?void 0:re.call(n,g);if(!ae||ae.length>1)return null;const le=findFirstLegitChild(ae);return le?withDirectives(cloneVNode(le,g),[[L]]):null}}});function findFirstLegitChild(r){if(!r)return null;const n=r;for(const g of n){if(isObject$7(g))switch(g.type){case Comment:continue;case Text$2:case"svg":return wrapTextContent(g);case Fragment:return findFirstLegitChild(g.children);default:return g}return wrapTextContent(g)}return null}function wrapTextContent(r){const n=useNamespace$1("only-child");return createVNode$1("span",{class:n.e("content")},[r])}const __default__$1K=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$3J=defineComponent({...__default__$1K,props:popperTriggerProps,setup(r,{expose:n}){const g=r,{role:y,triggerRef:$}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef($);const L=computed(()=>ae.value?g.id:void 0),re=computed(()=>{if(y&&y.value==="tooltip")return g.open&&g.id?g.id:void 0}),ae=computed(()=>{if(y&&y.value!=="tooltip")return y.value}),le=computed(()=>ae.value?`${g.open}`:void 0);let ue;const he=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return onMounted(()=>{watch$1(()=>g.virtualRef,_e=>{_e&&($.value=unrefElement(_e))},{immediate:!0}),watch$1($,(_e,Ce)=>{ue==null||ue(),ue=void 0,isElement$3(_e)&&(he.forEach($e=>{var Oe;const xe=g[$e];xe&&(_e.addEventListener($e.slice(2).toLowerCase(),xe),(Oe=Ce==null?void 0:Ce.removeEventListener)==null||Oe.call(Ce,$e.slice(2).toLowerCase(),xe))}),isFocusable(_e)&&(ue=watch$1([L,re,ae,le],$e=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((Oe,xe)=>{isNil($e[xe])?_e.removeAttribute(Oe):_e.setAttribute(Oe,$e[xe])})},{immediate:!0}))),isElement$3(Ce)&&isFocusable(Ce)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach($e=>Ce.removeAttribute($e))},{immediate:!0})}),onBeforeUnmount(()=>{if(ue==null||ue(),ue=void 0,$.value&&isElement$3($.value)){const _e=$.value;he.forEach(Ce=>{const $e=g[Ce];$e&&_e.removeEventListener(Ce.slice(2).toLowerCase(),$e)}),$.value=void 0}}),n({triggerRef:$}),(_e,Ce)=>_e.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},_e.$attrs,{"aria-controls":unref(L),"aria-describedby":unref(re),"aria-expanded":unref(le),"aria-haspopup":unref(ae)}),{default:withCtx(()=>[renderSlot(_e.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$3J,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref$1(),lastUserFocusTimestamp=ref$1(0),lastAutomatedFocusTimestamp=ref$1(0);let focusReasonUserCount=0;const obtainAllFocusableElements=r=>{const n=[],g=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:y=>{const $=y.tagName==="INPUT"&&y.type==="hidden";return y.disabled||y.hidden||$?NodeFilter.FILTER_SKIP:y.tabIndex>=0||y===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;g.nextNode();)n.push(g.currentNode);return n},getVisibleElement=(r,n)=>{for(const g of r)if(!isHidden(g,n))return g},isHidden=(r,n)=>{if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(n&&r===n)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1},getEdges=r=>{const n=obtainAllFocusableElements(r),g=getVisibleElement(n,r),y=getVisibleElement(n.reverse(),r);return[g,y]},isSelectable=r=>r instanceof HTMLInputElement&&"select"in r,tryFocus=(r,n)=>{if(r&&r.focus){const g=document.activeElement;let y=!1;isElement$3(r)&&!isFocusable(r)&&!r.getAttribute("tabindex")&&(r.setAttribute("tabindex","-1"),y=!0),r.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),r!==g&&isSelectable(r)&&n&&r.select(),isElement$3(r)&&y&&r.removeAttribute("tabindex")}};function removeFromStack(r,n){const g=[...r],y=r.indexOf(n);return y!==-1&&g.splice(y,1),g}const createFocusableStack=()=>{let r=[];return{push:y=>{const $=r[0];$&&y!==$&&$.pause(),r=removeFromStack(r,y),r.unshift(y)},remove:y=>{var $,L;r=removeFromStack(r,y),(L=($=r[0])==null?void 0:$.resume)==null||L.call($)}}},focusFirstDescendant=(r,n=!1)=>{const g=document.activeElement;for(const y of r)if(tryFocus(y,n),document.activeElement!==g)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=r=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:r}),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let registeredEscapeHandlers=[];const cachedHandler=r=>{r.code===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(n=>n(r))},useEscapeKeydown=r=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(r)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==r),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})},_sfc_main$3I=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(r,{emit:n}){const g=ref$1();let y,$;const{focusReason:L}=useFocusReason();useEscapeKeydown(Oe=>{r.trapped&&!re.paused&&n("release-requested",Oe)});const re={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},ae=Oe=>{if(!r.loop&&!r.trapped||re.paused)return;const{code:xe,altKey:Ne,ctrlKey:Ie,metaKey:Fe,currentTarget:Ve,shiftKey:ze}=Oe,{loop:Ue}=r,qe=xe===EVENT_CODE.tab&&!Ne&&!Ie&&!Fe,kt=document.activeElement;if(qe&&kt){const Et=Ve,[Pt,At]=getEdges(Et);if(Pt&&At){if(!ze&&kt===At){const Lt=createFocusOutPreventedEvent({focusReason:L.value});n("focusout-prevented",Lt),Lt.defaultPrevented||(Oe.preventDefault(),Ue&&tryFocus(Pt,!0))}else if(ze&&[Pt,Et].includes(kt)){const Lt=createFocusOutPreventedEvent({focusReason:L.value});n("focusout-prevented",Lt),Lt.defaultPrevented||(Oe.preventDefault(),Ue&&tryFocus(At,!0))}}else if(kt===Et){const Lt=createFocusOutPreventedEvent({focusReason:L.value});n("focusout-prevented",Lt),Lt.defaultPrevented||Oe.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:g,onKeydown:ae}),watch$1(()=>r.focusTrapEl,Oe=>{Oe&&(g.value=Oe)},{immediate:!0}),watch$1([g],([Oe],[xe])=>{Oe&&(Oe.addEventListener("keydown",ae),Oe.addEventListener("focusin",he),Oe.addEventListener("focusout",_e)),xe&&(xe.removeEventListener("keydown",ae),xe.removeEventListener("focusin",he),xe.removeEventListener("focusout",_e))});const le=Oe=>{n(ON_TRAP_FOCUS_EVT,Oe)},ue=Oe=>n(ON_RELEASE_FOCUS_EVT,Oe),he=Oe=>{const xe=unref(g);if(!xe)return;const Ne=Oe.target,Ie=Oe.relatedTarget,Fe=Ne&&xe.contains(Ne);r.trapped||Ie&&xe.contains(Ie)||(y=Ie),Fe&&n("focusin",Oe),!re.paused&&r.trapped&&(Fe?$=Ne:tryFocus($,!0))},_e=Oe=>{const xe=unref(g);if(!(re.paused||!xe))if(r.trapped){const Ne=Oe.relatedTarget;!isNil(Ne)&&!xe.contains(Ne)&&setTimeout(()=>{if(!re.paused&&r.trapped){const Ie=createFocusOutPreventedEvent({focusReason:L.value});n("focusout-prevented",Ie),Ie.defaultPrevented||tryFocus($,!0)}},0)}else{const Ne=Oe.target;Ne&&xe.contains(Ne)||n("focusout",Oe)}};async function Ce(){await nextTick$1();const Oe=unref(g);if(Oe){focusableStack.push(re);const xe=Oe.contains(document.activeElement)?y:document.activeElement;if(y=xe,!Oe.contains(xe)){const Ie=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);Oe.addEventListener(FOCUS_AFTER_TRAPPED,le),Oe.dispatchEvent(Ie),Ie.defaultPrevented||nextTick$1(()=>{let Fe=r.focusStartEl;isString$3(Fe)||(tryFocus(Fe),document.activeElement!==Fe&&(Fe="first")),Fe==="first"&&focusFirstDescendant(obtainAllFocusableElements(Oe),!0),(document.activeElement===xe||Fe==="container")&&tryFocus(Oe)})}}}function $e(){const Oe=unref(g);if(Oe){Oe.removeEventListener(FOCUS_AFTER_TRAPPED,le);const xe=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:L.value}});Oe.addEventListener(FOCUS_AFTER_RELEASED,ue),Oe.dispatchEvent(xe),!xe.defaultPrevented&&(L.value=="keyboard"||!isFocusCausedByUserEvent()||Oe.contains(document.activeElement))&&tryFocus(y??document.body),Oe.removeEventListener(FOCUS_AFTER_RELEASED,ue),focusableStack.remove(re)}}return onMounted(()=>{r.trapped&&Ce(),watch$1(()=>r.trapped,Oe=>{Oe?Ce():$e()})}),onBeforeUnmount(()=>{r.trapped&&$e(),g.value&&(g.value.removeEventListener("keydown",ae),g.value.removeEventListener("focusin",he),g.value.removeEventListener("focusout",_e),g.value=void 0)}),{onKeydown:ae}}});function _sfc_render$J(r,n,g,y,$,L){return renderSlot(r.$slots,"default",{handleKeydown:r.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$3I,[["render",_sfc_render$J],["__file","focus-trap.vue"]]),E$1="top",R="bottom",W="right",P$1="left",me="auto",G=[E$1,R,W,P$1],U$1="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(r,n){return r.concat([n+"-"+U$1,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(r,n){return r.concat([n,n+"-"+U$1,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt$1="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt$1];function C$1(r){return r?(r.nodeName||"").toLowerCase():null}function H(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function Q(r){var n=H(r).Element;return r instanceof n||r instanceof Element}function B(r){var n=H(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function Pe(r){if(typeof ShadowRoot>"u")return!1;var n=H(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function Mt(r){var n=r.state;Object.keys(n.elements).forEach(function(g){var y=n.styles[g]||{},$=n.attributes[g]||{},L=n.elements[g];!B(L)||!C$1(L)||(Object.assign(L.style,y),Object.keys($).forEach(function(re){var ae=$[re];ae===!1?L.removeAttribute(re):L.setAttribute(re,ae===!0?"":ae)}))})}function Rt(r){var n=r.state,g={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,g.popper),n.styles=g,n.elements.arrow&&Object.assign(n.elements.arrow.style,g.arrow),function(){Object.keys(n.elements).forEach(function(y){var $=n.elements[y],L=n.attributes[y]||{},re=Object.keys(n.styles.hasOwnProperty(y)?n.styles[y]:g[y]),ae=re.reduce(function(le,ue){return le[ue]="",le},{});!B($)||!C$1($)||(Object.assign($.style,ae),Object.keys(L).forEach(function(le){$.removeAttribute(le)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(r){return r.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(r,n){n===void 0&&(n=!1);var g=r.getBoundingClientRect(),y=1,$=1;if(B(r)&&n){var L=r.offsetHeight,re=r.offsetWidth;re>0&&(y=Z(g.width)/re||1),L>0&&($=Z(g.height)/L||1)}return{width:g.width/y,height:g.height/$,top:g.top/$,right:g.right/y,bottom:g.bottom/$,left:g.left/y,x:g.left/y,y:g.top/$}}function ke(r){var n=ee(r),g=r.offsetWidth,y=r.offsetHeight;return Math.abs(n.width-g)<=1&&(g=n.width),Math.abs(n.height-y)<=1&&(y=n.height),{x:r.offsetLeft,y:r.offsetTop,width:g,height:y}}function it(r,n){var g=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(g&&Pe(g)){var y=n;do{if(y&&r.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function N$1(r){return H(r).getComputedStyle(r)}function Wt(r){return["table","td","th"].indexOf(C$1(r))>=0}function I$1(r){return((Q(r)?r.ownerDocument:r.document)||window.document).documentElement}function ge(r){return C$1(r)==="html"?r:r.assignedSlot||r.parentNode||(Pe(r)?r.host:null)||I$1(r)}function at(r){return!B(r)||N$1(r).position==="fixed"?null:r.offsetParent}function Bt(r){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,g=navigator.userAgent.indexOf("Trident")!==-1;if(g&&B(r)){var y=N$1(r);if(y.position==="fixed")return null}var $=ge(r);for(Pe($)&&($=$.host);B($)&&["html","body"].indexOf(C$1($))<0;){var L=N$1($);if(L.transform!=="none"||L.perspective!=="none"||L.contain==="paint"||["transform","perspective"].indexOf(L.willChange)!==-1||n&&L.willChange==="filter"||n&&L.filter&&L.filter!=="none")return $;$=$.parentNode}return null}function se(r){for(var n=H(r),g=at(r);g&&Wt(g)&&N$1(g).position==="static";)g=at(g);return g&&(C$1(g)==="html"||C$1(g)==="body"&&N$1(g).position==="static")?n:g||Bt(r)||n}function Le(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function fe(r,n,g){return X$1(r,ve(n,g))}function St(r,n,g){var y=fe(r,n,g);return y>g?g:y}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(r){return Object.assign({},st(),r)}function ct(r,n){return n.reduce(function(g,y){return g[y]=r,g},{})}var Tt=function(r,n){return r=typeof r=="function"?r(Object.assign({},n.rects,{placement:n.placement})):r,ft(typeof r!="number"?r:ct(r,G))};function Ht(r){var n,g=r.state,y=r.name,$=r.options,L=g.elements.arrow,re=g.modifiersData.popperOffsets,ae=q(g.placement),le=Le(ae),ue=[P$1,W].indexOf(ae)>=0,he=ue?"height":"width";if(!(!L||!re)){var _e=Tt($.padding,g),Ce=ke(L),$e=le==="y"?E$1:P$1,Oe=le==="y"?R:W,xe=g.rects.reference[he]+g.rects.reference[le]-re[le]-g.rects.popper[he],Ne=re[le]-g.rects.reference[le],Ie=se(L),Fe=Ie?le==="y"?Ie.clientHeight||0:Ie.clientWidth||0:0,Ve=xe/2-Ne/2,ze=_e[$e],Ue=Fe-Ce[he]-_e[Oe],qe=Fe/2-Ce[he]/2+Ve,kt=fe(ze,qe,Ue),Et=le;g.modifiersData[y]=(n={},n[Et]=kt,n.centerOffset=kt-qe,n)}}function Ct(r){var n=r.state,g=r.options,y=g.element,$=y===void 0?"[data-popper-arrow]":y;$!=null&&(typeof $=="string"&&($=n.elements.popper.querySelector($),!$)||!it(n.elements.popper,$)||(n.elements.arrow=$))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(r){return r.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(r){var n=r.x,g=r.y,y=window,$=y.devicePixelRatio||1;return{x:Z(n*$)/$||0,y:Z(g*$)/$||0}}function ut(r){var n,g=r.popper,y=r.popperRect,$=r.placement,L=r.variation,re=r.offsets,ae=r.position,le=r.gpuAcceleration,ue=r.adaptive,he=r.roundOffsets,_e=r.isFixed,Ce=re.x,$e=Ce===void 0?0:Ce,Oe=re.y,xe=Oe===void 0?0:Oe,Ne=typeof he=="function"?he({x:$e,y:xe}):{x:$e,y:xe};$e=Ne.x,xe=Ne.y;var Ie=re.hasOwnProperty("x"),Fe=re.hasOwnProperty("y"),Ve=P$1,ze=E$1,Ue=window;if(ue){var qe=se(g),kt="clientHeight",Et="clientWidth";if(qe===H(g)&&(qe=I$1(g),N$1(qe).position!=="static"&&ae==="absolute"&&(kt="scrollHeight",Et="scrollWidth")),qe=qe,$===E$1||($===P$1||$===W)&&L===J){ze=R;var Pt=_e&&qe===Ue&&Ue.visualViewport?Ue.visualViewport.height:qe[kt];xe-=Pt-y.height,xe*=le?1:-1}if($===P$1||($===E$1||$===R)&&L===J){Ve=W;var At=_e&&qe===Ue&&Ue.visualViewport?Ue.visualViewport.width:qe[Et];$e-=At-y.width,$e*=le?1:-1}}var Dt=Object.assign({position:ae},ue&&qt),Lt=he===!0?Vt({x:$e,y:xe}):{x:$e,y:xe};if($e=Lt.x,xe=Lt.y,le){var hn;return Object.assign({},Dt,(hn={},hn[ze]=Fe?"0":"",hn[Ve]=Ie?"0":"",hn.transform=(Ue.devicePixelRatio||1)<=1?"translate("+$e+"px, "+xe+"px)":"translate3d("+$e+"px, "+xe+"px, 0)",hn))}return Object.assign({},Dt,(n={},n[ze]=Fe?xe+"px":"",n[Ve]=Ie?$e+"px":"",n.transform="",n))}function Nt(r){var n=r.state,g=r.options,y=g.gpuAcceleration,$=y===void 0?!0:y,L=g.adaptive,re=L===void 0?!0:L,ae=g.roundOffsets,le=ae===void 0?!0:ae,ue={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:$,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},ue,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:re,roundOffsets:le})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},ue,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:le})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(r){var n=r.state,g=r.instance,y=r.options,$=y.scroll,L=$===void 0?!0:$,re=y.resize,ae=re===void 0?!0:re,le=H(n.elements.popper),ue=[].concat(n.scrollParents.reference,n.scrollParents.popper);return L&&ue.forEach(function(he){he.addEventListener("scroll",g.update,ye)}),ae&&le.addEventListener("resize",g.update,ye),function(){L&&ue.forEach(function(he){he.removeEventListener("scroll",g.update,ye)}),ae&&le.removeEventListener("resize",g.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(r){return r.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt$2(r){return r.replace(/start|end/g,function(n){return zt[n]})}function We(r){var n=H(r),g=n.pageXOffset,y=n.pageYOffset;return{scrollLeft:g,scrollTop:y}}function Be(r){return ee(I$1(r)).left+We(r).scrollLeft}function Ft(r){var n=H(r),g=I$1(r),y=n.visualViewport,$=g.clientWidth,L=g.clientHeight,re=0,ae=0;return y&&($=y.width,L=y.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(re=y.offsetLeft,ae=y.offsetTop)),{width:$,height:L,x:re+Be(r),y:ae}}function Ut(r){var n,g=I$1(r),y=We(r),$=(n=r.ownerDocument)==null?void 0:n.body,L=X$1(g.scrollWidth,g.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),re=X$1(g.scrollHeight,g.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),ae=-y.scrollLeft+Be(r),le=-y.scrollTop;return N$1($||g).direction==="rtl"&&(ae+=X$1(g.clientWidth,$?$.clientWidth:0)-L),{width:L,height:re,x:ae,y:le}}function Se(r){var n=N$1(r),g=n.overflow,y=n.overflowX,$=n.overflowY;return/auto|scroll|overlay|hidden/.test(g+$+y)}function dt(r){return["html","body","#document"].indexOf(C$1(r))>=0?r.ownerDocument.body:B(r)&&Se(r)?r:dt(ge(r))}function ce(r,n){var g;n===void 0&&(n=[]);var y=dt(r),$=y===((g=r.ownerDocument)==null?void 0:g.body),L=H(y),re=$?[L].concat(L.visualViewport||[],Se(y)?y:[]):y,ae=n.concat(re);return $?ae:ae.concat(ce(ge(re)))}function Te(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Xt(r){var n=ee(r);return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function ht(r,n){return n===je?Te(Ft(r)):Q(n)?Xt(n):Te(Ut(I$1(r)))}function Yt(r){var n=ce(ge(r)),g=["absolute","fixed"].indexOf(N$1(r).position)>=0,y=g&&B(r)?se(r):r;return Q(y)?n.filter(function($){return Q($)&&it($,y)&&C$1($)!=="body"}):[]}function Gt(r,n,g){var y=n==="clippingParents"?Yt(r):[].concat(n),$=[].concat(y,[g]),L=$[0],re=$.reduce(function(ae,le){var ue=ht(r,le);return ae.top=X$1(ue.top,ae.top),ae.right=ve(ue.right,ae.right),ae.bottom=ve(ue.bottom,ae.bottom),ae.left=X$1(ue.left,ae.left),ae},ht(r,L));return re.width=re.right-re.left,re.height=re.bottom-re.top,re.x=re.left,re.y=re.top,re}function mt(r){var n=r.reference,g=r.element,y=r.placement,$=y?q(y):null,L=y?te(y):null,re=n.x+n.width/2-g.width/2,ae=n.y+n.height/2-g.height/2,le;switch($){case E$1:le={x:re,y:n.y-g.height};break;case R:le={x:re,y:n.y+n.height};break;case W:le={x:n.x+n.width,y:ae};break;case P$1:le={x:n.x-g.width,y:ae};break;default:le={x:n.x,y:n.y}}var ue=$?Le($):null;if(ue!=null){var he=ue==="y"?"height":"width";switch(L){case U$1:le[ue]=le[ue]-(n[he]/2-g[he]/2);break;case J:le[ue]=le[ue]+(n[he]/2-g[he]/2);break}}return le}function ne(r,n){n===void 0&&(n={});var g=n,y=g.placement,$=y===void 0?r.placement:y,L=g.boundary,re=L===void 0?Xe:L,ae=g.rootBoundary,le=ae===void 0?je:ae,ue=g.elementContext,he=ue===void 0?K:ue,_e=g.altBoundary,Ce=_e===void 0?!1:_e,$e=g.padding,Oe=$e===void 0?0:$e,xe=ft(typeof Oe!="number"?Oe:ct(Oe,G)),Ne=he===K?Ye:K,Ie=r.rects.popper,Fe=r.elements[Ce?Ne:he],Ve=Gt(Q(Fe)?Fe:Fe.contextElement||I$1(r.elements.popper),re,le),ze=ee(r.elements.reference),Ue=mt({reference:ze,element:Ie,strategy:"absolute",placement:$}),qe=Te(Object.assign({},Ie,Ue)),kt=he===K?qe:ze,Et={top:Ve.top-kt.top+xe.top,bottom:kt.bottom-Ve.bottom+xe.bottom,left:Ve.left-kt.left+xe.left,right:kt.right-Ve.right+xe.right},Pt=r.modifiersData.offset;if(he===K&&Pt){var At=Pt[$];Object.keys(Et).forEach(function(Dt){var Lt=[W,R].indexOf(Dt)>=0?1:-1,hn=[E$1,R].indexOf(Dt)>=0?"y":"x";Et[Dt]+=At[hn]*Lt})}return Et}function Jt(r,n){n===void 0&&(n={});var g=n,y=g.placement,$=g.boundary,L=g.rootBoundary,re=g.padding,ae=g.flipVariations,le=g.allowedAutoPlacements,ue=le===void 0?Ee:le,he=te(y),_e=he?ae?De:De.filter(function(Oe){return te(Oe)===he}):G,Ce=_e.filter(function(Oe){return ue.indexOf(Oe)>=0});Ce.length===0&&(Ce=_e);var $e=Ce.reduce(function(Oe,xe){return Oe[xe]=ne(r,{placement:xe,boundary:$,rootBoundary:L,padding:re})[q(xe)],Oe},{});return Object.keys($e).sort(function(Oe,xe){return $e[Oe]-$e[xe]})}function Kt(r){if(q(r)===me)return[];var n=be(r);return[lt$2(r),n,lt$2(n)]}function Qt(r){var n=r.state,g=r.options,y=r.name;if(!n.modifiersData[y]._skip){for(var $=g.mainAxis,L=$===void 0?!0:$,re=g.altAxis,ae=re===void 0?!0:re,le=g.fallbackPlacements,ue=g.padding,he=g.boundary,_e=g.rootBoundary,Ce=g.altBoundary,$e=g.flipVariations,Oe=$e===void 0?!0:$e,xe=g.allowedAutoPlacements,Ne=n.options.placement,Ie=q(Ne),Fe=Ie===Ne,Ve=le||(Fe||!Oe?[be(Ne)]:Kt(Ne)),ze=[Ne].concat(Ve).reduce(function(Pn,An){return Pn.concat(q(An)===me?Jt(n,{placement:An,boundary:he,rootBoundary:_e,padding:ue,flipVariations:Oe,allowedAutoPlacements:xe}):An)},[]),Ue=n.rects.reference,qe=n.rects.popper,kt=new Map,Et=!0,Pt=ze[0],At=0;At<ze.length;At++){var Dt=ze[At],Lt=q(Dt),hn=te(Dt)===U$1,_n=[E$1,R].indexOf(Lt)>=0,vn=_n?"width":"height",jt=ne(n,{placement:Dt,boundary:he,rootBoundary:_e,altBoundary:Ce,padding:ue}),$n=_n?hn?W:P$1:hn?R:E$1;Ue[vn]>qe[vn]&&($n=be($n));var Sn=be($n),bn=[];if(L&&bn.push(jt[Lt]<=0),ae&&bn.push(jt[$n]<=0,jt[Sn]<=0),bn.every(function(Pn){return Pn})){Pt=Dt,Et=!1;break}kt.set(Dt,bn)}if(Et)for(var wn=Oe?3:1,On=function(Pn){var An=ze.find(function(Rn){var Nn=kt.get(Rn);if(Nn)return Nn.slice(0,Pn).every(function(Dn){return Dn})});if(An)return Pt=An,"break"},Tn=wn;Tn>0;Tn--){var xn=On(Tn);if(xn==="break")break}n.placement!==Pt&&(n.modifiersData[y]._skip=!0,n.placement=Pt,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(r,n,g){return g===void 0&&(g={x:0,y:0}),{top:r.top-n.height-g.y,right:r.right-n.width+g.x,bottom:r.bottom-n.height+g.y,left:r.left-n.width-g.x}}function yt(r){return[E$1,W,R,P$1].some(function(n){return r[n]>=0})}function Zt(r){var n=r.state,g=r.name,y=n.rects.reference,$=n.rects.popper,L=n.modifiersData.preventOverflow,re=ne(n,{elementContext:"reference"}),ae=ne(n,{altBoundary:!0}),le=gt(re,y),ue=gt(ae,$,L),he=yt(le),_e=yt(ue);n.modifiersData[g]={referenceClippingOffsets:le,popperEscapeOffsets:ue,isReferenceHidden:he,hasPopperEscaped:_e},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":he,"data-popper-escaped":_e})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(r,n,g){var y=q(r),$=[P$1,E$1].indexOf(y)>=0?-1:1,L=typeof g=="function"?g(Object.assign({},n,{placement:r})):g,re=L[0],ae=L[1];return re=re||0,ae=(ae||0)*$,[P$1,W].indexOf(y)>=0?{x:ae,y:re}:{x:re,y:ae}}function tn(r){var n=r.state,g=r.options,y=r.name,$=g.offset,L=$===void 0?[0,0]:$,re=Ee.reduce(function(he,_e){return he[_e]=en(_e,n.rects,L),he},{}),ae=re[n.placement],le=ae.x,ue=ae.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=le,n.modifiersData.popperOffsets.y+=ue),n.modifiersData[y]=re}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(r){var n=r.state,g=r.name;n.modifiersData[g]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(r){return r==="x"?"y":"x"}function on(r){var n=r.state,g=r.options,y=r.name,$=g.mainAxis,L=$===void 0?!0:$,re=g.altAxis,ae=re===void 0?!1:re,le=g.boundary,ue=g.rootBoundary,he=g.altBoundary,_e=g.padding,Ce=g.tether,$e=Ce===void 0?!0:Ce,Oe=g.tetherOffset,xe=Oe===void 0?0:Oe,Ne=ne(n,{boundary:le,rootBoundary:ue,padding:_e,altBoundary:he}),Ie=q(n.placement),Fe=te(n.placement),Ve=!Fe,ze=Le(Ie),Ue=rn(ze),qe=n.modifiersData.popperOffsets,kt=n.rects.reference,Et=n.rects.popper,Pt=typeof xe=="function"?xe(Object.assign({},n.rects,{placement:n.placement})):xe,At=typeof Pt=="number"?{mainAxis:Pt,altAxis:Pt}:Object.assign({mainAxis:0,altAxis:0},Pt),Dt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Lt={x:0,y:0};if(qe){if(L){var hn,_n=ze==="y"?E$1:P$1,vn=ze==="y"?R:W,jt=ze==="y"?"height":"width",$n=qe[ze],Sn=$n+Ne[_n],bn=$n-Ne[vn],wn=$e?-Et[jt]/2:0,On=Fe===U$1?kt[jt]:Et[jt],Tn=Fe===U$1?-Et[jt]:-kt[jt],xn=n.elements.arrow,Pn=$e&&xn?ke(xn):{width:0,height:0},An=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),Rn=An[_n],Nn=An[vn],Dn=fe(0,kt[jt],Pn[jt]),In=Ve?kt[jt]/2-wn-Dn-Rn-At.mainAxis:On-Dn-Rn-At.mainAxis,Fn=Ve?-kt[jt]/2+wn+Dn+Nn+At.mainAxis:Tn+Dn+Nn+At.mainAxis,Bn=n.elements.arrow&&se(n.elements.arrow),Mn=Bn?ze==="y"?Bn.clientTop||0:Bn.clientLeft||0:0,Hn=(hn=Dt==null?void 0:Dt[ze])!=null?hn:0,Yn=$n+In-Hn-Mn,qn=$n+Fn-Hn,Xn=fe($e?ve(Sn,Yn):Sn,$n,$e?X$1(bn,qn):bn);qe[ze]=Xn,Lt[ze]=Xn-$n}if(ae){var jn,Zn=ze==="x"?E$1:P$1,Un=ze==="x"?R:W,Jn=qe[Ue],tr=Ue==="y"?"height":"width",sr=Jn+Ne[Zn],or=Jn-Ne[Un],Qn=[E$1,P$1].indexOf(Ie)!==-1,rr=(jn=Dt==null?void 0:Dt[Ue])!=null?jn:0,cr=Qn?sr:Jn-kt[tr]-Et[tr]-rr+At.altAxis,vr=Qn?Jn+kt[tr]+Et[tr]-rr-At.altAxis:or,hr=$e&&Qn?St(cr,Jn,vr):fe($e?cr:sr,Jn,$e?vr:or);qe[Ue]=hr,Lt[Ue]=hr-Jn}n.modifiersData[y]=Lt}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function sn(r){return r===H(r)||!B(r)?We(r):an(r)}function fn(r){var n=r.getBoundingClientRect(),g=Z(n.width)/r.offsetWidth||1,y=Z(n.height)/r.offsetHeight||1;return g!==1||y!==1}function cn(r,n,g){g===void 0&&(g=!1);var y=B(n),$=B(n)&&fn(n),L=I$1(n),re=ee(r,$),ae={scrollLeft:0,scrollTop:0},le={x:0,y:0};return(y||!y&&!g)&&((C$1(n)!=="body"||Se(L))&&(ae=sn(n)),B(n)?(le=ee(n,!0),le.x+=n.clientLeft,le.y+=n.clientTop):L&&(le.x=Be(L))),{x:re.left+ae.scrollLeft-le.x,y:re.top+ae.scrollTop-le.y,width:re.width,height:re.height}}function pn(r){var n=new Map,g=new Set,y=[];r.forEach(function(L){n.set(L.name,L)});function $(L){g.add(L.name);var re=[].concat(L.requires||[],L.requiresIfExists||[]);re.forEach(function(ae){if(!g.has(ae)){var le=n.get(ae);le&&$(le)}}),y.push(L)}return r.forEach(function(L){g.has(L.name)||$(L)}),y}function un(r){var n=pn(r);return ot.reduce(function(g,y){return g.concat(n.filter(function($){return $.phase===y}))},[])}function ln(r){var n;return function(){return n||(n=new Promise(function(g){Promise.resolve().then(function(){n=void 0,g(r())})})),n}}function dn(r){var n=r.reduce(function(g,y){var $=g[y.name];return g[y.name]=$?Object.assign({},$,y,{options:Object.assign({},$.options,y.options),data:Object.assign({},$.data,y.data)}):y,g},{});return Object.keys(n).map(function(g){return n[g]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return!n.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function we(r){r===void 0&&(r={});var n=r,g=n.defaultModifiers,y=g===void 0?[]:g,$=n.defaultOptions,L=$===void 0?Ot:$;return function(re,ae,le){le===void 0&&(le=L);var ue={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,L),modifiersData:{},elements:{reference:re,popper:ae},attributes:{},styles:{}},he=[],_e=!1,Ce={state:ue,setOptions:function(xe){var Ne=typeof xe=="function"?xe(ue.options):xe;Oe(),ue.options=Object.assign({},L,ue.options,Ne),ue.scrollParents={reference:Q(re)?ce(re):re.contextElement?ce(re.contextElement):[],popper:ce(ae)};var Ie=un(dn([].concat(y,ue.options.modifiers)));return ue.orderedModifiers=Ie.filter(function(Fe){return Fe.enabled}),$e(),Ce.update()},forceUpdate:function(){if(!_e){var xe=ue.elements,Ne=xe.reference,Ie=xe.popper;if($t(Ne,Ie)){ue.rects={reference:cn(Ne,se(Ie),ue.options.strategy==="fixed"),popper:ke(Ie)},ue.reset=!1,ue.placement=ue.options.placement,ue.orderedModifiers.forEach(function(Et){return ue.modifiersData[Et.name]=Object.assign({},Et.data)});for(var Fe=0;Fe<ue.orderedModifiers.length;Fe++){if(ue.reset===!0){ue.reset=!1,Fe=-1;continue}var Ve=ue.orderedModifiers[Fe],ze=Ve.fn,Ue=Ve.options,qe=Ue===void 0?{}:Ue,kt=Ve.name;typeof ze=="function"&&(ue=ze({state:ue,options:qe,name:kt,instance:Ce})||ue)}}}},update:ln(function(){return new Promise(function(xe){Ce.forceUpdate(),xe(ue)})}),destroy:function(){Oe(),_e=!0}};if(!$t(re,ae))return Ce;Ce.setOptions(le).then(function(xe){!_e&&le.onFirstUpdate&&le.onFirstUpdate(xe)});function $e(){ue.orderedModifiers.forEach(function(xe){var Ne=xe.name,Ie=xe.options,Fe=Ie===void 0?{}:Ie,Ve=xe.effect;if(typeof Ve=="function"){var ze=Ve({state:ue,name:Ne,instance:Ce,options:Fe}),Ue=function(){};he.push(ze||Ue)}})}function Oe(){he.forEach(function(xe){return xe()}),he=[]}return Ce}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:definePropType(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"])}),popperContentEmits={mouseenter:r=>r instanceof MouseEvent,mouseleave:r=>r instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},usePopperContentFocusTrap=(r,n)=>{const g=ref$1(!1),y=ref$1();return{focusStartRef:y,trapped:g,onFocusAfterReleased:ue=>{var he;((he=ue.detail)==null?void 0:he.focusReason)!=="pointer"&&(y.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:ue=>{r.visible&&!g.value&&(ue.target&&(y.value=ue.target),g.value=!0)},onFocusoutPrevented:ue=>{r.trapping||(ue.detail.focusReason==="pointer"&&ue.preventDefault(),g.value=!1)},onReleaseRequested:()=>{g.value=!1,n("close")}}},buildPopperOptions=(r,n=[])=>{const{placement:g,strategy:y,popperOptions:$}=r,L={placement:g,strategy:y,...$,modifiers:[...genModifiers(r),...n]};return deriveExtraModifiers(L,$==null?void 0:$.modifiers),L},unwrapMeasurableEl=r=>{if(isClient)return unrefElement(r)};function genModifiers(r){const{offset:n,gpuAcceleration:g,fallbackPlacements:y}=r;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:y}},{name:"computeStyles",options:{gpuAcceleration:g}}]}function deriveExtraModifiers(r,n){n&&(r.modifiers=[...r.modifiers,...n??[]])}const usePopper=(r,n,g={})=>{const y={name:"updateState",enabled:!0,phase:"write",fn:({state:le})=>{const ue=deriveState(le);Object.assign(re.value,ue)},requires:["computeStyles"]},$=computed(()=>{const{onFirstUpdate:le,placement:ue,strategy:he,modifiers:_e}=unref(g);return{onFirstUpdate:le,placement:ue||"bottom",strategy:he||"absolute",modifiers:[..._e||[],y,{name:"applyStyles",enabled:!1}]}}),L=shallowRef(),re=ref$1({styles:{popper:{position:unref($).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),ae=()=>{L.value&&(L.value.destroy(),L.value=void 0)};return watch$1($,le=>{const ue=unref(L);ue&&ue.setOptions(le)},{deep:!0}),watch$1([r,n],([le,ue])=>{ae(),!(!le||!ue)&&(L.value=yn(le,ue,unref($)))}),onBeforeUnmount(()=>{ae()}),{state:computed(()=>{var le;return{...((le=unref(L))==null?void 0:le.state)||{}}}),styles:computed(()=>unref(re).styles),attributes:computed(()=>unref(re).attributes),update:()=>{var le;return(le=unref(L))==null?void 0:le.update()},forceUpdate:()=>{var le;return(le=unref(L))==null?void 0:le.forceUpdate()},instanceRef:computed(()=>unref(L))}};function deriveState(r){const n=Object.keys(r.elements),g=fromPairs(n.map($=>[$,r.styles[$]||{}])),y=fromPairs(n.map($=>[$,r.attributes[$]]));return{styles:g,attributes:y}}const DEFAULT_ARROW_OFFSET=0,usePopperContent=r=>{const{popperInstanceRef:n,contentRef:g,triggerRef:y,role:$}=inject(POPPER_INJECTION_KEY,void 0),L=ref$1(),re=ref$1(),ae=computed(()=>({name:"eventListeners",enabled:!!r.visible})),le=computed(()=>{var Ie;const Fe=unref(L),Ve=(Ie=unref(re))!=null?Ie:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(Fe),options:{element:Fe,padding:Ve}}}),ue=computed(()=>({onFirstUpdate:()=>{Oe()},...buildPopperOptions(r,[unref(le),unref(ae)])})),he=computed(()=>unwrapMeasurableEl(r.referenceEl)||unref(y)),{attributes:_e,state:Ce,styles:$e,update:Oe,forceUpdate:xe,instanceRef:Ne}=usePopper(he,g,ue);return watch$1(Ne,Ie=>n.value=Ie),onMounted(()=>{watch$1(()=>{var Ie;return(Ie=unref(he))==null?void 0:Ie.getBoundingClientRect()},()=>{Oe()})}),{attributes:_e,arrowRef:L,contentRef:g,instanceRef:Ne,state:Ce,styles:$e,role:$,forceUpdate:xe,update:Oe}},usePopperContentDOM=(r,{attributes:n,styles:g,role:y})=>{const{nextZIndex:$}=useZIndex(),L=useNamespace$1("popper"),re=computed(()=>unref(n).popper),ae=ref$1(isNumber$2(r.zIndex)?r.zIndex:$()),le=computed(()=>[L.b(),L.is("pure",r.pure),L.is(r.effect),r.popperClass]),ue=computed(()=>[{zIndex:unref(ae)},unref(g).popper,r.popperStyle||{}]),he=computed(()=>y.value==="dialog"?"false":void 0),_e=computed(()=>unref(g).arrow||{});return{ariaModal:he,arrowStyle:_e,contentAttrs:re,contentClass:le,contentStyle:ue,contentZIndex:ae,updateZIndex:()=>{ae.value=isNumber$2(r.zIndex)?r.zIndex:$()}}},__default__$1J=defineComponent({name:"ElPopperContent"}),_sfc_main$3H=defineComponent({...__default__$1J,props:popperContentProps,emits:popperContentEmits,setup(r,{expose:n,emit:g}){const y=r,{focusStartRef:$,trapped:L,onFocusAfterReleased:re,onFocusAfterTrapped:ae,onFocusInTrap:le,onFocusoutPrevented:ue,onReleaseRequested:he}=usePopperContentFocusTrap(y,g),{attributes:_e,arrowRef:Ce,contentRef:$e,styles:Oe,instanceRef:xe,role:Ne,update:Ie}=usePopperContent(y),{ariaModal:Fe,arrowStyle:Ve,contentAttrs:ze,contentClass:Ue,contentStyle:qe,updateZIndex:kt}=usePopperContentDOM(y,{styles:Oe,attributes:_e,role:Ne}),Et=inject(formItemContextKey,void 0),Pt=ref$1();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:Ve,arrowRef:Ce,arrowOffset:Pt}),Et&&provide(formItemContextKey,{...Et,addInputId:NOOP,removeInputId:NOOP});let At;const Dt=(hn=!0)=>{Ie(),hn&&kt()},Lt=()=>{Dt(!1),y.visible&&y.focusOnShow?L.value=!0:y.visible===!1&&(L.value=!1)};return onMounted(()=>{watch$1(()=>y.triggerTargetEl,(hn,_n)=>{At==null||At(),At=void 0;const vn=unref(hn||$e.value),jt=unref(_n||$e.value);isElement$3(vn)&&(At=watch$1([Ne,()=>y.ariaLabel,Fe,()=>y.id],$n=>{["role","aria-label","aria-modal","id"].forEach((Sn,bn)=>{isNil($n[bn])?vn.removeAttribute(Sn):vn.setAttribute(Sn,$n[bn])})},{immediate:!0})),jt!==vn&&isElement$3(jt)&&["role","aria-label","aria-modal","id"].forEach($n=>{jt.removeAttribute($n)})},{immediate:!0}),watch$1(()=>y.visible,Lt,{immediate:!0})}),onBeforeUnmount(()=>{At==null||At(),At=void 0}),n({popperContentRef:$e,popperInstanceRef:xe,updatePopper:Dt,contentStyle:qe}),(hn,_n)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:$e},unref(ze),{style:unref(qe),class:unref(Ue),tabindex:"-1",onMouseenter:vn=>hn.$emit("mouseenter",vn),onMouseleave:vn=>hn.$emit("mouseleave",vn)}),[createVNode$1(unref(ElFocusTrap),{trapped:unref(L),"trap-on-focus-in":!0,"focus-trap-el":unref($e),"focus-start-el":unref($),onFocusAfterTrapped:unref(ae),onFocusAfterReleased:unref(re),onFocusin:unref(le),onFocusoutPrevented:unref(ue),onReleaseRequested:unref(he)},{default:withCtx(()=>[renderSlot(hn.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var ElPopperContent=_export_sfc(_sfc_main$3H,[["__file","content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip");function useTimeout(){let r;const n=(y,$)=>{g(),r=window.setTimeout(y,$)},g=()=>window.clearTimeout(r);return tryOnScopeDispose(()=>g()),{registerTimeout:n,cancelTimeout:g}}const useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:r,hideAfter:n,autoClose:g,open:y,close:$})=>{const{registerTimeout:L}=useTimeout(),{registerTimeout:re,cancelTimeout:ae}=useTimeout();return{onOpen:he=>{L(()=>{y(he);const _e=unref(g);isNumber$2(_e)&&_e>0&&re(()=>{$(he)},_e)},unref(r))},onClose:he=>{ae(),L(()=>{$(he)},unref(n))}}},useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space]}}),_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=r=>{const n=`update:${r}`,g=`onUpdate:${r}`,y=[n],$={[r]:_prop,[g]:_event};return{useModelToggle:({indicator:re,toggleReason:ae,shouldHideWhenRouteChanges:le,shouldProceed:ue,onShow:he,onHide:_e})=>{const Ce=getCurrentInstance(),{emit:$e}=Ce,Oe=Ce.props,xe=computed(()=>isFunction$3(Oe[g])),Ne=computed(()=>Oe[r]===null),Ie=kt=>{re.value!==!0&&(re.value=!0,ae&&(ae.value=kt),isFunction$3(he)&&he(kt))},Fe=kt=>{re.value!==!1&&(re.value=!1,ae&&(ae.value=kt),isFunction$3(_e)&&_e(kt))},Ve=kt=>{if(Oe.disabled===!0||isFunction$3(ue)&&!ue())return;const Et=xe.value&&isClient;Et&&$e(n,!0),(Ne.value||!Et)&&Ie(kt)},ze=kt=>{if(Oe.disabled===!0||!isClient)return;const Et=xe.value&&isClient;Et&&$e(n,!1),(Ne.value||!Et)&&Fe(kt)},Ue=kt=>{isBoolean(kt)&&(Oe.disabled&&kt?xe.value&&$e(n,!1):re.value!==kt&&(kt?Ie():Fe()))},qe=()=>{re.value?ze():Ve()};return watch$1(()=>Oe[r],Ue),le&&Ce.appContext.config.globalProperties.$route!==void 0&&watch$1(()=>({...Ce.proxy.$route}),()=>{le.value&&re.value&&ze()}),onMounted(()=>{Ue(Oe[r])}),{hide:ze,show:Ve,toggle:qe,hasUpdateHandler:xe}},useModelToggleProps:$,useModelToggleEmits:y}},{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(r,n)=>isArray$5(r)?r.includes(n):r===n,whenTrigger=(r,n,g)=>y=>{isTriggerType(unref(r),n)&&g(y)},composeEventHandlers=(r,n,{checkForDefaultPrevented:g=!0}={})=>$=>{const L=r==null?void 0:r($);if(g===!1||!L)return n==null?void 0:n($)},whenMouse=r=>n=>n.pointerType==="mouse"?r(n):void 0,__default__$1I=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$3G=defineComponent({...__default__$1I,props:useTooltipTriggerProps,setup(r,{expose:n}){const g=r,y=useNamespace$1("tooltip"),{controlled:$,id:L,open:re,onOpen:ae,onClose:le,onToggle:ue}=inject(TOOLTIP_INJECTION_KEY,void 0),he=ref$1(null),_e=()=>{if(unref($)||g.disabled)return!0},Ce=toRef(g,"trigger"),$e=composeEventHandlers(_e,whenTrigger(Ce,"hover",ae)),Oe=composeEventHandlers(_e,whenTrigger(Ce,"hover",le)),xe=composeEventHandlers(_e,whenTrigger(Ce,"click",ze=>{ze.button===0&&ue(ze)})),Ne=composeEventHandlers(_e,whenTrigger(Ce,"focus",ae)),Ie=composeEventHandlers(_e,whenTrigger(Ce,"focus",le)),Fe=composeEventHandlers(_e,whenTrigger(Ce,"contextmenu",ze=>{ze.preventDefault(),ue(ze)})),Ve=composeEventHandlers(_e,ze=>{const{code:Ue}=ze;g.triggerKeys.includes(Ue)&&(ze.preventDefault(),ue(ze))});return n({triggerRef:he}),(ze,Ue)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(L),"virtual-ref":ze.virtualRef,open:unref(re),"virtual-triggering":ze.virtualTriggering,class:normalizeClass(unref(y).e("trigger")),onBlur:unref(Ie),onClick:unref(xe),onContextmenu:unref(Fe),onFocus:unref(Ne),onMouseenter:unref($e),onMouseleave:unref(Oe),onKeydown:unref(Ve)},{default:withCtx(()=>[renderSlot(ze.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$3G,[["__file","trigger.vue"]]);const teleportProps=buildProps({to:{type:definePropType([String,Object]),required:!0},disabled:Boolean}),_sfc_main$3F=defineComponent({__name:"teleport",props:teleportProps,setup(r){return(n,g)=>n.disabled?renderSlot(n.$slots,"default",{key:0}):(openBlock(),createBlock(Teleport$1,{key:1,to:n.to},[renderSlot(n.$slots,"default")],8,["to"]))}});var Teleport=_export_sfc(_sfc_main$3F,[["__file","teleport.vue"]]);const ElTeleport=withInstall(Teleport),usePopperContainerId=()=>{const r=useGetDerivedNamespace$1(),n=useIdInjection(),g=computed(()=>`${r.value}-popper-container-${n.prefix}`),y=computed(()=>`#${g.value}`);return{id:g,selector:y}},createContainer=r=>{const n=document.createElement("div");return n.id=r,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:r,selector:n}=usePopperContainerId();return onBeforeMount(()=>{isClient&&(document.body.querySelector(n.value)||createContainer(r.value))}),{id:r,selector:n}},__default__$1H=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$3E=defineComponent({...__default__$1H,props:useTooltipContentProps,setup(r,{expose:n}){const g=r,{selector:y}=usePopperContainerId(),$=useNamespace$1("tooltip"),L=ref$1();let re;const{controlled:ae,id:le,open:ue,trigger:he,onClose:_e,onOpen:Ce,onShow:$e,onHide:Oe,onBeforeShow:xe,onBeforeHide:Ne}=inject(TOOLTIP_INJECTION_KEY,void 0),Ie=computed(()=>g.transition||`${$.namespace.value}-fade-in-linear`),Fe=computed(()=>g.persistent);onBeforeUnmount(()=>{re==null||re()});const Ve=computed(()=>unref(Fe)?!0:unref(ue)),ze=computed(()=>g.disabled?!1:unref(ue)),Ue=computed(()=>g.appendTo||y.value),qe=computed(()=>{var $n;return($n=g.style)!=null?$n:{}}),kt=ref$1(!0),Et=()=>{Oe(),jt()&&tryFocus(document.body),kt.value=!0},Pt=()=>{if(unref(ae))return!0},At=composeEventHandlers(Pt,()=>{g.enterable&&unref(he)==="hover"&&Ce()}),Dt=composeEventHandlers(Pt,()=>{unref(he)==="hover"&&_e()}),Lt=()=>{var $n,Sn;(Sn=($n=L.value)==null?void 0:$n.updatePopper)==null||Sn.call($n),xe==null||xe()},hn=()=>{Ne==null||Ne()},_n=()=>{$e(),re=onClickOutside(computed(()=>{var $n;return($n=L.value)==null?void 0:$n.popperContentRef}),()=>{if(unref(ae))return;unref(he)!=="hover"&&_e()})},vn=()=>{g.virtualTriggering||_e()},jt=$n=>{var Sn;const bn=(Sn=L.value)==null?void 0:Sn.popperContentRef,wn=($n==null?void 0:$n.relatedTarget)||document.activeElement;return bn==null?void 0:bn.contains(wn)};return watch$1(()=>unref(ue),$n=>{$n?kt.value=!1:re==null||re()},{flush:"post"}),watch$1(()=>g.content,()=>{var $n,Sn;(Sn=($n=L.value)==null?void 0:$n.updatePopper)==null||Sn.call($n)}),n({contentRef:L,isFocusInsideContent:jt}),($n,Sn)=>(openBlock(),createBlock(unref(ElTeleport),{disabled:!$n.teleported,to:unref(Ue)},{default:withCtx(()=>[createVNode$1(Transition,{name:unref(Ie),onAfterLeave:Et,onBeforeEnter:Lt,onAfterEnter:_n,onBeforeLeave:hn},{default:withCtx(()=>[unref(Ve)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(le),ref_key:"contentRef",ref:L},$n.$attrs,{"aria-label":$n.ariaLabel,"aria-hidden":kt.value,"boundaries-padding":$n.boundariesPadding,"fallback-placements":$n.fallbackPlacements,"gpu-acceleration":$n.gpuAcceleration,offset:$n.offset,placement:$n.placement,"popper-options":$n.popperOptions,strategy:$n.strategy,effect:$n.effect,enterable:$n.enterable,pure:$n.pure,"popper-class":$n.popperClass,"popper-style":[$n.popperStyle,unref(qe)],"reference-el":$n.referenceEl,"trigger-target-el":$n.triggerTargetEl,visible:unref(ze),"z-index":$n.zIndex,onMouseenter:unref(At),onMouseleave:unref(Dt),onBlur:vn,onClose:unref(_e)}),{default:withCtx(()=>[renderSlot($n.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(ze)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$3E,[["__file","content.vue"]]);const __default__$1G=defineComponent({name:"ElTooltip"}),_sfc_main$3D=defineComponent({...__default__$1G,props:useTooltipProps,emits:tooltipEmits,setup(r,{expose:n,emit:g}){const y=r;usePopperContainer();const $=useId(),L=ref$1(),re=ref$1(),ae=()=>{var Ie;const Fe=unref(L);Fe&&((Ie=Fe.popperInstanceRef)==null||Ie.update())},le=ref$1(!1),ue=ref$1(),{show:he,hide:_e,hasUpdateHandler:Ce}=useTooltipModelToggle({indicator:le,toggleReason:ue}),{onOpen:$e,onClose:Oe}=useDelayedToggle({showAfter:toRef(y,"showAfter"),hideAfter:toRef(y,"hideAfter"),autoClose:toRef(y,"autoClose"),open:he,close:_e}),xe=computed(()=>isBoolean(y.visible)&&!Ce.value);provide(TOOLTIP_INJECTION_KEY,{controlled:xe,id:$,open:readonly(le),trigger:toRef(y,"trigger"),onOpen:Ie=>{$e(Ie)},onClose:Ie=>{Oe(Ie)},onToggle:Ie=>{unref(le)?Oe(Ie):$e(Ie)},onShow:()=>{g("show",ue.value)},onHide:()=>{g("hide",ue.value)},onBeforeShow:()=>{g("before-show",ue.value)},onBeforeHide:()=>{g("before-hide",ue.value)},updatePopper:ae}),watch$1(()=>y.disabled,Ie=>{Ie&&le.value&&(le.value=!1)});const Ne=Ie=>{var Fe;return(Fe=re.value)==null?void 0:Fe.isFocusInsideContent(Ie)};return onDeactivated(()=>le.value&&_e()),n({popperRef:L,contentRef:re,isFocusInsideContent:Ne,updatePopper:ae,onOpen:$e,onClose:Oe,hide:_e}),(Ie,Fe)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:L,role:Ie.role},{default:withCtx(()=>[createVNode$1(ElTooltipTrigger,{disabled:Ie.disabled,trigger:Ie.trigger,"trigger-keys":Ie.triggerKeys,"virtual-ref":Ie.virtualRef,"virtual-triggering":Ie.virtualTriggering},{default:withCtx(()=>[Ie.$slots.default?renderSlot(Ie.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode$1(ElTooltipContent,{ref_key:"contentRef",ref:re,"aria-label":Ie.ariaLabel,"boundaries-padding":Ie.boundariesPadding,content:Ie.content,disabled:Ie.disabled,effect:Ie.effect,enterable:Ie.enterable,"fallback-placements":Ie.fallbackPlacements,"hide-after":Ie.hideAfter,"gpu-acceleration":Ie.gpuAcceleration,offset:Ie.offset,persistent:Ie.persistent,"popper-class":Ie.popperClass,"popper-style":Ie.popperStyle,placement:Ie.placement,"popper-options":Ie.popperOptions,pure:Ie.pure,"raw-content":Ie.rawContent,"reference-el":Ie.referenceEl,"trigger-target-el":Ie.triggerTargetEl,"show-after":Ie.showAfter,strategy:Ie.strategy,teleported:Ie.teleported,transition:Ie.transition,"virtual-triggering":Ie.virtualTriggering,"z-index":Ie.zIndex,"append-to":Ie.appendTo},{default:withCtx(()=>[renderSlot(Ie.$slots,"content",{},()=>[Ie.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:Ie.content},null,8,["innerHTML"])):(openBlock(),createElementBlock("span",{key:1},toDisplayString(Ie.content),1))]),Ie.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":Ie.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip$1=_export_sfc(_sfc_main$3D,[["__file","tooltip.vue"]]);const ElTooltip=withInstall(Tooltip$1),autocompleteProps=buildProps({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:definePropType(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:definePropType([Function,Array]),default:NOOP},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:useTooltipContentProps.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...useAriaProps(["ariaLabel"])}),autocompleteEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r),[INPUT_EVENT]:r=>isString$3(r),[CHANGE_EVENT]:r=>isString$3(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,select:r=>isObject$7(r)},COMPONENT_NAME$k="ElAutocomplete",__default__$1F=defineComponent({name:COMPONENT_NAME$k,inheritAttrs:!1}),_sfc_main$3C=defineComponent({...__default__$1F,props:autocompleteProps,emits:autocompleteEmits,setup(r,{expose:n,emit:g}){const y=r,$=useAttrs(),L=useAttrs$1(),re=useFormDisabled(),ae=useNamespace$1("autocomplete"),le=ref$1(),ue=ref$1(),he=ref$1(),_e=ref$1();let Ce=!1,$e=!1;const Oe=ref$1([]),xe=ref$1(-1),Ne=ref$1(""),Ie=ref$1(!1),Fe=ref$1(!1),Ve=ref$1(!1),ze=useId(),Ue=computed(()=>L.style),qe=computed(()=>(Oe.value.length>0||Ve.value)&&Ie.value),kt=computed(()=>!y.hideLoading&&Ve.value),Et=computed(()=>le.value?Array.from(le.value.$el.querySelectorAll("input")):[]),Pt=()=>{qe.value&&(Ne.value=`${le.value.$el.offsetWidth}px`)},At=()=>{xe.value=-1},Dt=async Nn=>{if(Fe.value)return;const Dn=In=>{Ve.value=!1,!Fe.value&&(isArray$5(In)?(Oe.value=In,xe.value=y.highlightFirstItem?0:-1):throwError$1(COMPONENT_NAME$k,"autocomplete suggestions must be an array"))};if(Ve.value=!0,isArray$5(y.fetchSuggestions))Dn(y.fetchSuggestions);else{const In=await y.fetchSuggestions(Nn,Dn);isArray$5(In)&&Dn(In)}},Lt=debounce$2(Dt,y.debounce),hn=Nn=>{const Dn=!!Nn;if(g(INPUT_EVENT,Nn),g(UPDATE_MODEL_EVENT,Nn),Fe.value=!1,Ie.value||(Ie.value=Dn),!y.triggerOnFocus&&!Nn){Fe.value=!0,Oe.value=[];return}Lt(Nn)},_n=Nn=>{var Dn;re.value||(((Dn=Nn.target)==null?void 0:Dn.tagName)!=="INPUT"||Et.value.includes(document.activeElement))&&(Ie.value=!0)},vn=Nn=>{g(CHANGE_EVENT,Nn)},jt=Nn=>{$e?$e=!1:(Ie.value=!0,g("focus",Nn),y.triggerOnFocus&&!Ce&&Lt(String(y.modelValue)))},$n=Nn=>{setTimeout(()=>{var Dn;if((Dn=he.value)!=null&&Dn.isFocusInsideContent()){$e=!0;return}Ie.value&&On(),g("blur",Nn)})},Sn=()=>{Ie.value=!1,g(UPDATE_MODEL_EVENT,""),g("clear")},bn=async()=>{qe.value&&xe.value>=0&&xe.value<Oe.value.length?Pn(Oe.value[xe.value]):y.selectWhenUnmatched&&(g("select",{value:y.modelValue}),Oe.value=[],xe.value=-1)},wn=Nn=>{qe.value&&(Nn.preventDefault(),Nn.stopPropagation(),On())},On=()=>{Ie.value=!1},Tn=()=>{var Nn;(Nn=le.value)==null||Nn.focus()},xn=()=>{var Nn;(Nn=le.value)==null||Nn.blur()},Pn=async Nn=>{g(INPUT_EVENT,Nn[y.valueKey]),g(UPDATE_MODEL_EVENT,Nn[y.valueKey]),g("select",Nn),Oe.value=[],xe.value=-1},An=Nn=>{if(!qe.value||Ve.value)return;if(Nn<0){xe.value=-1;return}Nn>=Oe.value.length&&(Nn=Oe.value.length-1);const Dn=ue.value.querySelector(`.${ae.be("suggestion","wrap")}`),Fn=Dn.querySelectorAll(`.${ae.be("suggestion","list")} li`)[Nn],Bn=Dn.scrollTop,{offsetTop:Mn,scrollHeight:Hn}=Fn;Mn+Hn>Bn+Dn.clientHeight&&(Dn.scrollTop+=Hn),Mn<Bn&&(Dn.scrollTop-=Hn),xe.value=Nn,le.value.ref.setAttribute("aria-activedescendant",`${ze.value}-item-${xe.value}`)},Rn=onClickOutside(_e,()=>{qe.value&&On()});return onBeforeUnmount(()=>{Rn==null||Rn()}),onMounted(()=>{le.value.ref.setAttribute("role","textbox"),le.value.ref.setAttribute("aria-autocomplete","list"),le.value.ref.setAttribute("aria-controls","id"),le.value.ref.setAttribute("aria-activedescendant",`${ze.value}-item-${xe.value}`),Ce=le.value.ref.hasAttribute("readonly")}),n({highlightedIndex:xe,activated:Ie,loading:Ve,inputRef:le,popperRef:he,suggestions:Oe,handleSelect:Pn,handleKeyEnter:bn,focus:Tn,blur:xn,close:On,highlight:An,getData:Dt}),(Nn,Dn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popperRef",ref:he,visible:unref(qe),placement:Nn.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[unref(ae).e("popper"),Nn.popperClass],teleported:Nn.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${unref(ae).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:Pt,onHide:At},{content:withCtx(()=>[createBaseVNode("div",{ref_key:"regionRef",ref:ue,class:normalizeClass([unref(ae).b("suggestion"),unref(ae).is("loading",unref(kt))]),style:normalizeStyle$1({[Nn.fitInputWidth?"width":"minWidth"]:Ne.value,outline:"none"}),role:"region"},[createVNode$1(unref(ElScrollbar),{id:unref(ze),tag:"ul","wrap-class":unref(ae).be("suggestion","wrap"),"view-class":unref(ae).be("suggestion","list"),role:"listbox"},{default:withCtx(()=>[unref(kt)?(openBlock(),createElementBlock("li",{key:0},[renderSlot(Nn.$slots,"loading",{},()=>[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(ae).is("loading"))},{default:withCtx(()=>[createVNode$1(unref(loading_default))]),_:1},8,["class"])])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(Oe.value,(In,Fn)=>(openBlock(),createElementBlock("li",{id:`${unref(ze)}-item-${Fn}`,key:Fn,class:normalizeClass({highlighted:xe.value===Fn}),role:"option","aria-selected":xe.value===Fn,onClick:Bn=>Pn(In)},[renderSlot(Nn.$slots,"default",{item:In},()=>[createTextVNode(toDisplayString(In[Nn.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"listboxRef",ref:_e,class:normalizeClass([unref(ae).b(),Nn.$attrs.class]),style:normalizeStyle$1(unref(Ue)),role:"combobox","aria-haspopup":"listbox","aria-expanded":unref(qe),"aria-owns":unref(ze)},[createVNode$1(unref(ElInput),mergeProps({ref_key:"inputRef",ref:le},unref($),{clearable:Nn.clearable,disabled:unref(re),name:Nn.name,"model-value":Nn.modelValue,"aria-label":Nn.ariaLabel,onInput:hn,onChange:vn,onFocus:jt,onBlur:$n,onClear:Sn,onKeydown:[withKeys(withModifiers(In=>An(xe.value-1),["prevent"]),["up"]),withKeys(withModifiers(In=>An(xe.value+1),["prevent"]),["down"]),withKeys(bn,["enter"]),withKeys(On,["tab"]),withKeys(wn,["esc"])],onMousedown:_n}),createSlots({_:2},[Nn.$slots.prepend?{name:"prepend",fn:withCtx(()=>[renderSlot(Nn.$slots,"prepend")])}:void 0,Nn.$slots.append?{name:"append",fn:withCtx(()=>[renderSlot(Nn.$slots,"append")])}:void 0,Nn.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Nn.$slots,"prefix")])}:void 0,Nn.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(Nn.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Autocomplete=_export_sfc(_sfc_main$3C,[["__file","autocomplete.vue"]]);const ElAutocomplete=withInstall(Autocomplete),avatarProps=buildProps({size:{type:[Number,String],values:componentSizes,default:"",validator:r=>isNumber$2(r)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:r=>r instanceof Event},__default__$1E=defineComponent({name:"ElAvatar"}),_sfc_main$3B=defineComponent({...__default__$1E,props:avatarProps,emits:avatarEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("avatar"),$=ref$1(!1),L=computed(()=>{const{size:ue,icon:he,shape:_e}=g,Ce=[y.b()];return isString$3(ue)&&Ce.push(y.m(ue)),he&&Ce.push(y.m("icon")),_e&&Ce.push(y.m(_e)),Ce}),re=computed(()=>{const{size:ue}=g;return isNumber$2(ue)?y.cssVarBlock({size:addUnit(ue)||""}):void 0}),ae=computed(()=>({objectFit:g.fit}));watch$1(()=>g.src,()=>$.value=!1);function le(ue){$.value=!0,n("error",ue)}return(ue,he)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(L)),style:normalizeStyle$1(unref(re))},[(ue.src||ue.srcSet)&&!$.value?(openBlock(),createElementBlock("img",{key:0,src:ue.src,alt:ue.alt,srcset:ue.srcSet,style:normalizeStyle$1(unref(ae)),onError:le},null,44,["src","alt","srcset"])):ue.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ue.icon)))]),_:1})):renderSlot(ue.$slots,"default",{key:2})],6))}});var Avatar=_export_sfc(_sfc_main$3B,[["__file","avatar.vue"]]);const ElAvatar=withInstall(Avatar),backtopProps={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},backtopEmits={click:r=>r instanceof MouseEvent},useBackTop=(r,n,g)=>{const y=shallowRef(),$=shallowRef(),L=ref$1(!1),re=()=>{y.value&&(L.value=y.value.scrollTop>=r.visibilityHeight)},ae=ue=>{var he;(he=y.value)==null||he.scrollTo({top:0,behavior:"smooth"}),n("click",ue)},le=useThrottleFn(re,300,!0);return useEventListener($,"scroll",le),onMounted(()=>{var ue;$.value=document,y.value=document.documentElement,r.target&&(y.value=(ue=document.querySelector(r.target))!=null?ue:void 0,y.value||throwError$1(g,`target does not exist: ${r.target}`),$.value=y.value),re()}),{visible:L,handleClick:ae}},COMPONENT_NAME$j="ElBacktop",__default__$1D=defineComponent({name:COMPONENT_NAME$j}),_sfc_main$3A=defineComponent({...__default__$1D,props:backtopProps,emits:backtopEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("backtop"),{handleClick:$,visible:L}=useBackTop(g,n,COMPONENT_NAME$j),re=computed(()=>({right:`${g.right}px`,bottom:`${g.bottom}px`}));return(ae,le)=>(openBlock(),createBlock(Transition,{name:`${unref(y).namespace.value}-fade-in`},{default:withCtx(()=>[unref(L)?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle$1(unref(re)),class:normalizeClass(unref(y).b()),onClick:withModifiers(unref($),["stop"])},[renderSlot(ae.$slots,"default",{},()=>[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(y).e("icon"))},{default:withCtx(()=>[createVNode$1(unref(caret_top_default))]),_:1},8,["class"])])],14,["onClick"])):createCommentVNode("v-if",!0)]),_:3},8,["name"]))}});var Backtop=_export_sfc(_sfc_main$3A,[["__file","backtop.vue"]]);const ElBacktop=withInstall(Backtop),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:definePropType([String,Object,Array])},offset:{type:definePropType(Array),default:[0,0]},badgeClass:{type:String}}),__default__$1C=defineComponent({name:"ElBadge"}),_sfc_main$3z=defineComponent({...__default__$1C,props:badgeProps,setup(r,{expose:n}){const g=r,y=useNamespace$1("badge"),$=computed(()=>g.isDot?"":isNumber$2(g.value)&&isNumber$2(g.max)?g.max<g.value?`${g.max}+`:`${g.value}`:`${g.value}`),L=computed(()=>{var re,ae,le,ue,he;return[{backgroundColor:g.color,marginRight:addUnit(-((ae=(re=g.offset)==null?void 0:re[0])!=null?ae:0)),marginTop:addUnit((ue=(le=g.offset)==null?void 0:le[1])!=null?ue:0)},(he=g.badgeStyle)!=null?he:{}]});return n({content:$}),(re,ae)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).b())},[renderSlot(re.$slots,"default"),createVNode$1(Transition,{name:`${unref(y).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(y).e("content"),unref(y).em("content",re.type),unref(y).is("fixed",!!re.$slots.default),unref(y).is("dot",re.isDot),unref(y).is("hide-zero",!re.showZero&&g.value===0),re.badgeClass]),style:normalizeStyle$1(unref(L))},[renderSlot(re.$slots,"content",{value:unref($)},()=>[createTextVNode(toDisplayString(unref($)),1)])],6),[[vShow,!re.hidden&&(unref($)||re.isDot||re.$slots.content)]])]),_:3},8,["name"])],2))}});var Badge=_export_sfc(_sfc_main$3z,[["__file","badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),__default__$1B=defineComponent({name:"ElBreadcrumb"}),_sfc_main$3y=defineComponent({...__default__$1B,props:breadcrumbProps,setup(r){const n=r,{t:g}=useLocale(),y=useNamespace$1("breadcrumb"),$=ref$1();return provide(breadcrumbKey,n),onMounted(()=>{const L=$.value.querySelectorAll(`.${y.e("item")}`);L.length&&L[L.length-1].setAttribute("aria-current","page")}),(L,re)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:$,class:normalizeClass(unref(y).b()),"aria-label":unref(g)("el.breadcrumb.label"),role:"navigation"},[renderSlot(L.$slots,"default")],10,["aria-label"]))}});var Breadcrumb$1=_export_sfc(_sfc_main$3y,[["__file","breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:Boolean}),__default__$1A=defineComponent({name:"ElBreadcrumbItem"}),_sfc_main$3x=defineComponent({...__default__$1A,props:breadcrumbItemProps,setup(r){const n=r,g=getCurrentInstance(),y=inject(breadcrumbKey,void 0),$=useNamespace$1("breadcrumb"),L=g.appContext.config.globalProperties.$router,re=ref$1(),ae=()=>{!n.to||!L||(n.replace?L.replace(n.to):L.push(n.to))};return(le,ue)=>{var he,_e;return openBlock(),createElementBlock("span",{class:normalizeClass(unref($).e("item"))},[createBaseVNode("span",{ref_key:"link",ref:re,class:normalizeClass([unref($).e("inner"),unref($).is("link",!!le.to)]),role:"link",onClick:ae},[renderSlot(le.$slots,"default")],2),(he=unref(y))!=null&&he.separatorIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($).e("separator"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(y).separatorIcon)))]),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref($).e("separator")),role:"presentation"},toDisplayString((_e=unref(y))==null?void 0:_e.separator),3))],2)}}});var BreadcrumbItem=_export_sfc(_sfc_main$3x,[["__file","breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb$1,{BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useDeprecated=({from:r,replacement:n,scope:g,version:y,ref:$,type:L="API"},re)=>{watch$1(()=>unref(re),ae=>{},{immediate:!0})},useButton=(r,n)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>r.type==="text"));const g=inject(buttonGroupContextKey,void 0),y=useGlobalConfig("button"),{form:$}=useFormItem(),L=useFormSize(computed(()=>g==null?void 0:g.size)),re=useFormDisabled(),ae=ref$1(),le=useSlots(),ue=computed(()=>r.type||(g==null?void 0:g.type)||""),he=computed(()=>{var Oe,xe,Ne;return(Ne=(xe=r.autoInsertSpace)!=null?xe:(Oe=y.value)==null?void 0:Oe.autoInsertSpace)!=null?Ne:!1}),_e=computed(()=>r.tag==="button"?{ariaDisabled:re.value||r.loading,disabled:re.value||r.loading,autofocus:r.autofocus,type:r.nativeType}:{}),Ce=computed(()=>{var Oe;const xe=(Oe=le.default)==null?void 0:Oe.call(le);if(he.value&&(xe==null?void 0:xe.length)===1){const Ne=xe[0];if((Ne==null?void 0:Ne.type)===Text$2){const Ie=Ne.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(Ie.trim())}}return!1});return{_disabled:re,_size:L,_type:ue,_ref:ae,_props:_e,shouldAddSpace:Ce,handleClick:Oe=>{if(re.value||r.loading){Oe.stopPropagation();return}r.nativeType==="reset"&&($==null||$.resetFields()),n("click",Oe)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:r=>r instanceof MouseEvent};function bound01$1(r,n){isOnePointZero$1(r)&&(r="100%");var g=isPercentage$1(r);return r=n===360?r:Math.min(n,Math.max(0,parseFloat(r))),g&&(r=parseInt(String(r*n),10)/100),Math.abs(r-n)<1e-6?1:(n===360?r=(r<0?r%n+n:r%n)/parseFloat(String(n)):r=r%n/parseFloat(String(n)),r)}function clamp01(r){return Math.min(1,Math.max(0,r))}function isOnePointZero$1(r){return typeof r=="string"&&r.indexOf(".")!==-1&&parseFloat(r)===1}function isPercentage$1(r){return typeof r=="string"&&r.indexOf("%")!==-1}function boundAlpha(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function convertToPercentage(r){return r<=1?"".concat(Number(r)*100,"%"):r}function pad2(r){return r.length===1?"0"+r:String(r)}function rgbToRgb(r,n,g){return{r:bound01$1(r,255)*255,g:bound01$1(n,255)*255,b:bound01$1(g,255)*255}}function rgbToHsl(r,n,g){r=bound01$1(r,255),n=bound01$1(n,255),g=bound01$1(g,255);var y=Math.max(r,n,g),$=Math.min(r,n,g),L=0,re=0,ae=(y+$)/2;if(y===$)re=0,L=0;else{var le=y-$;switch(re=ae>.5?le/(2-y-$):le/(y+$),y){case r:L=(n-g)/le+(n<g?6:0);break;case n:L=(g-r)/le+2;break;case g:L=(r-n)/le+4;break}L/=6}return{h:L,s:re,l:ae}}function hue2rgb(r,n,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?r+(n-r)*(6*g):g<1/2?n:g<2/3?r+(n-r)*(2/3-g)*6:r}function hslToRgb(r,n,g){var y,$,L;if(r=bound01$1(r,360),n=bound01$1(n,100),g=bound01$1(g,100),n===0)$=g,L=g,y=g;else{var re=g<.5?g*(1+n):g+n-g*n,ae=2*g-re;y=hue2rgb(ae,re,r+1/3),$=hue2rgb(ae,re,r),L=hue2rgb(ae,re,r-1/3)}return{r:y*255,g:$*255,b:L*255}}function rgbToHsv(r,n,g){r=bound01$1(r,255),n=bound01$1(n,255),g=bound01$1(g,255);var y=Math.max(r,n,g),$=Math.min(r,n,g),L=0,re=y,ae=y-$,le=y===0?0:ae/y;if(y===$)L=0;else{switch(y){case r:L=(n-g)/ae+(n<g?6:0);break;case n:L=(g-r)/ae+2;break;case g:L=(r-n)/ae+4;break}L/=6}return{h:L,s:le,v:re}}function hsvToRgb(r,n,g){r=bound01$1(r,360)*6,n=bound01$1(n,100),g=bound01$1(g,100);var y=Math.floor(r),$=r-y,L=g*(1-n),re=g*(1-$*n),ae=g*(1-(1-$)*n),le=y%6,ue=[g,re,L,L,ae,g][le],he=[ae,g,g,re,L,L][le],_e=[L,L,ae,g,g,re][le];return{r:ue*255,g:he*255,b:_e*255}}function rgbToHex(r,n,g,y){var $=[pad2(Math.round(r).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(g).toString(16))];return y&&$[0].startsWith($[0].charAt(1))&&$[1].startsWith($[1].charAt(1))&&$[2].startsWith($[2].charAt(1))?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0):$.join("")}function rgbaToHex(r,n,g,y,$){var L=[pad2(Math.round(r).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(y))];return $&&L[0].startsWith(L[0].charAt(1))&&L[1].startsWith(L[1].charAt(1))&&L[2].startsWith(L[2].charAt(1))&&L[3].startsWith(L[3].charAt(1))?L[0].charAt(0)+L[1].charAt(0)+L[2].charAt(0)+L[3].charAt(0):L.join("")}function convertDecimalToHex(r){return Math.round(parseFloat(r)*255).toString(16)}function convertHexToDecimal(r){return parseIntFromHex(r)/255}function parseIntFromHex(r){return parseInt(r,16)}function numberInputToObject(r){return{r:r>>16,g:(r&65280)>>8,b:r&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(r){var n={r:0,g:0,b:0},g=1,y=null,$=null,L=null,re=!1,ae=!1;return typeof r=="string"&&(r=stringInputToObject(r)),typeof r=="object"&&(isValidCSSUnit(r.r)&&isValidCSSUnit(r.g)&&isValidCSSUnit(r.b)?(n=rgbToRgb(r.r,r.g,r.b),re=!0,ae=String(r.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(r.h)&&isValidCSSUnit(r.s)&&isValidCSSUnit(r.v)?(y=convertToPercentage(r.s),$=convertToPercentage(r.v),n=hsvToRgb(r.h,y,$),re=!0,ae="hsv"):isValidCSSUnit(r.h)&&isValidCSSUnit(r.s)&&isValidCSSUnit(r.l)&&(y=convertToPercentage(r.s),L=convertToPercentage(r.l),n=hslToRgb(r.h,y,L),re=!0,ae="hsl"),Object.prototype.hasOwnProperty.call(r,"a")&&(g=r.a)),g=boundAlpha(g),{ok:re,format:r.format||ae,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:g}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(r){if(r=r.trim().toLowerCase(),r.length===0)return!1;var n=!1;if(names[r])r=names[r],n=!0;else if(r==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var g=matchers.rgb.exec(r);return g?{r:g[1],g:g[2],b:g[3]}:(g=matchers.rgba.exec(r),g?{r:g[1],g:g[2],b:g[3],a:g[4]}:(g=matchers.hsl.exec(r),g?{h:g[1],s:g[2],l:g[3]}:(g=matchers.hsla.exec(r),g?{h:g[1],s:g[2],l:g[3],a:g[4]}:(g=matchers.hsv.exec(r),g?{h:g[1],s:g[2],v:g[3]}:(g=matchers.hsva.exec(r),g?{h:g[1],s:g[2],v:g[3],a:g[4]}:(g=matchers.hex8.exec(r),g?{r:parseIntFromHex(g[1]),g:parseIntFromHex(g[2]),b:parseIntFromHex(g[3]),a:convertHexToDecimal(g[4]),format:n?"name":"hex8"}:(g=matchers.hex6.exec(r),g?{r:parseIntFromHex(g[1]),g:parseIntFromHex(g[2]),b:parseIntFromHex(g[3]),format:n?"name":"hex"}:(g=matchers.hex4.exec(r),g?{r:parseIntFromHex(g[1]+g[1]),g:parseIntFromHex(g[2]+g[2]),b:parseIntFromHex(g[3]+g[3]),a:convertHexToDecimal(g[4]+g[4]),format:n?"name":"hex8"}:(g=matchers.hex3.exec(r),g?{r:parseIntFromHex(g[1]+g[1]),g:parseIntFromHex(g[2]+g[2]),b:parseIntFromHex(g[3]+g[3]),format:n?"name":"hex"}:!1)))))))))}function isValidCSSUnit(r){return!!matchers.CSS_UNIT.exec(String(r))}var TinyColor=function(){function r(n,g){n===void 0&&(n=""),g===void 0&&(g={});var y;if(n instanceof r)return n;typeof n=="number"&&(n=numberInputToObject(n)),this.originalInput=n;var $=inputToRGB(n);this.originalInput=n,this.r=$.r,this.g=$.g,this.b=$.b,this.a=$.a,this.roundA=Math.round(100*this.a)/100,this.format=(y=g.format)!==null&&y!==void 0?y:$.format,this.gradientType=g.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=$.ok}return r.prototype.isDark=function(){return this.getBrightness()<128},r.prototype.isLight=function(){return!this.isDark()},r.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},r.prototype.getLuminance=function(){var n=this.toRgb(),g,y,$,L=n.r/255,re=n.g/255,ae=n.b/255;return L<=.03928?g=L/12.92:g=Math.pow((L+.055)/1.055,2.4),re<=.03928?y=re/12.92:y=Math.pow((re+.055)/1.055,2.4),ae<=.03928?$=ae/12.92:$=Math.pow((ae+.055)/1.055,2.4),.2126*g+.7152*y+.0722*$},r.prototype.getAlpha=function(){return this.a},r.prototype.setAlpha=function(n){return this.a=boundAlpha(n),this.roundA=Math.round(100*this.a)/100,this},r.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},r.prototype.toHsv=function(){var n=rgbToHsv(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},r.prototype.toHsvString=function(){var n=rgbToHsv(this.r,this.g,this.b),g=Math.round(n.h*360),y=Math.round(n.s*100),$=Math.round(n.v*100);return this.a===1?"hsv(".concat(g,", ").concat(y,"%, ").concat($,"%)"):"hsva(".concat(g,", ").concat(y,"%, ").concat($,"%, ").concat(this.roundA,")")},r.prototype.toHsl=function(){var n=rgbToHsl(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},r.prototype.toHslString=function(){var n=rgbToHsl(this.r,this.g,this.b),g=Math.round(n.h*360),y=Math.round(n.s*100),$=Math.round(n.l*100);return this.a===1?"hsl(".concat(g,", ").concat(y,"%, ").concat($,"%)"):"hsla(".concat(g,", ").concat(y,"%, ").concat($,"%, ").concat(this.roundA,")")},r.prototype.toHex=function(n){return n===void 0&&(n=!1),rgbToHex(this.r,this.g,this.b,n)},r.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},r.prototype.toHex8=function(n){return n===void 0&&(n=!1),rgbaToHex(this.r,this.g,this.b,this.a,n)},r.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},r.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},r.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},r.prototype.toRgbString=function(){var n=Math.round(this.r),g=Math.round(this.g),y=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(g,", ").concat(y,")"):"rgba(".concat(n,", ").concat(g,", ").concat(y,", ").concat(this.roundA,")")},r.prototype.toPercentageRgb=function(){var n=function(g){return"".concat(Math.round(bound01$1(g,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},r.prototype.toPercentageRgbString=function(){var n=function(g){return Math.round(bound01$1(g,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},r.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+rgbToHex(this.r,this.g,this.b,!1),g=0,y=Object.entries(names);g<y.length;g++){var $=y[g],L=$[0],re=$[1];if(n===re)return L}return!1},r.prototype.toString=function(n){var g=!!n;n=n??this.format;var y=!1,$=this.a<1&&this.a>=0,L=!g&&$&&(n.startsWith("hex")||n==="name");return L?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(y=this.toRgbString()),n==="prgb"&&(y=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(y=this.toHexString()),n==="hex3"&&(y=this.toHexString(!0)),n==="hex4"&&(y=this.toHex8String(!0)),n==="hex8"&&(y=this.toHex8String()),n==="name"&&(y=this.toName()),n==="hsl"&&(y=this.toHslString()),n==="hsv"&&(y=this.toHsvString()),y||this.toHexString())},r.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},r.prototype.clone=function(){return new r(this.toString())},r.prototype.lighten=function(n){n===void 0&&(n=10);var g=this.toHsl();return g.l+=n/100,g.l=clamp01(g.l),new r(g)},r.prototype.brighten=function(n){n===void 0&&(n=10);var g=this.toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(255*-(n/100)))),g.g=Math.max(0,Math.min(255,g.g-Math.round(255*-(n/100)))),g.b=Math.max(0,Math.min(255,g.b-Math.round(255*-(n/100)))),new r(g)},r.prototype.darken=function(n){n===void 0&&(n=10);var g=this.toHsl();return g.l-=n/100,g.l=clamp01(g.l),new r(g)},r.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},r.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},r.prototype.desaturate=function(n){n===void 0&&(n=10);var g=this.toHsl();return g.s-=n/100,g.s=clamp01(g.s),new r(g)},r.prototype.saturate=function(n){n===void 0&&(n=10);var g=this.toHsl();return g.s+=n/100,g.s=clamp01(g.s),new r(g)},r.prototype.greyscale=function(){return this.desaturate(100)},r.prototype.spin=function(n){var g=this.toHsl(),y=(g.h+n)%360;return g.h=y<0?360+y:y,new r(g)},r.prototype.mix=function(n,g){g===void 0&&(g=50);var y=this.toRgb(),$=new r(n).toRgb(),L=g/100,re={r:($.r-y.r)*L+y.r,g:($.g-y.g)*L+y.g,b:($.b-y.b)*L+y.b,a:($.a-y.a)*L+y.a};return new r(re)},r.prototype.analogous=function(n,g){n===void 0&&(n=6),g===void 0&&(g=30);var y=this.toHsl(),$=360/g,L=[this];for(y.h=(y.h-($*n>>1)+720)%360;--n;)y.h=(y.h+$)%360,L.push(new r(y));return L},r.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new r(n)},r.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var g=this.toHsv(),y=g.h,$=g.s,L=g.v,re=[],ae=1/n;n--;)re.push(new r({h:y,s:$,v:L})),L=(L+ae)%1;return re},r.prototype.splitcomplement=function(){var n=this.toHsl(),g=n.h;return[this,new r({h:(g+72)%360,s:n.s,l:n.l}),new r({h:(g+216)%360,s:n.s,l:n.l})]},r.prototype.onBackground=function(n){var g=this.toRgb(),y=new r(n).toRgb(),$=g.a+y.a*(1-g.a);return new r({r:(g.r*g.a+y.r*y.a*(1-g.a))/$,g:(g.g*g.a+y.g*y.a*(1-g.a))/$,b:(g.b*g.a+y.b*y.a*(1-g.a))/$,a:$})},r.prototype.triad=function(){return this.polyad(3)},r.prototype.tetrad=function(){return this.polyad(4)},r.prototype.polyad=function(n){for(var g=this.toHsl(),y=g.h,$=[this],L=360/n,re=1;re<n;re++)$.push(new r({h:(y+re*L)%360,s:g.s,l:g.l}));return $},r.prototype.equals=function(n){return this.toRgbString()===new r(n).toRgbString()},r}();function darken(r,n=20){return r.mix("#141414",n).toString()}function useButtonCustomStyle(r){const n=useFormDisabled(),g=useNamespace$1("button");return computed(()=>{let y={},$=r.color;if($){const L=$.match(/var\((.*?)\)/);L&&($=window.getComputedStyle(window.document.documentElement).getPropertyValue(L[1]));const re=new TinyColor($),ae=r.dark?re.tint(20).toString():darken(re,20);if(r.plain)y=g.cssVarBlock({"bg-color":r.dark?darken(re,90):re.tint(90).toString(),"text-color":$,"border-color":r.dark?darken(re,50):re.tint(50).toString(),"hover-text-color":`var(${g.cssVarName("color-white")})`,"hover-bg-color":$,"hover-border-color":$,"active-bg-color":ae,"active-text-color":`var(${g.cssVarName("color-white")})`,"active-border-color":ae}),n.value&&(y[g.cssVarBlockName("disabled-bg-color")]=r.dark?darken(re,90):re.tint(90).toString(),y[g.cssVarBlockName("disabled-text-color")]=r.dark?darken(re,50):re.tint(50).toString(),y[g.cssVarBlockName("disabled-border-color")]=r.dark?darken(re,80):re.tint(80).toString());else{const le=r.dark?darken(re,30):re.tint(30).toString(),ue=re.isDark()?`var(${g.cssVarName("color-white")})`:`var(${g.cssVarName("color-black")})`;if(y=g.cssVarBlock({"bg-color":$,"text-color":ue,"border-color":$,"hover-bg-color":le,"hover-text-color":ue,"hover-border-color":le,"active-bg-color":ae,"active-border-color":ae}),n.value){const he=r.dark?darken(re,50):re.tint(50).toString();y[g.cssVarBlockName("disabled-bg-color")]=he,y[g.cssVarBlockName("disabled-text-color")]=r.dark?"rgba(255, 255, 255, 0.5)":`var(${g.cssVarName("color-white")})`,y[g.cssVarBlockName("disabled-border-color")]=he}}}return y})}const __default__$1z=defineComponent({name:"ElButton"}),_sfc_main$3w=defineComponent({...__default__$1z,props:buttonProps,emits:buttonEmits,setup(r,{expose:n,emit:g}){const y=r,$=useButtonCustomStyle(y),L=useNamespace$1("button"),{_ref:re,_size:ae,_type:le,_disabled:ue,_props:he,shouldAddSpace:_e,handleClick:Ce}=useButton(y,g),$e=computed(()=>[L.b(),L.m(le.value),L.m(ae.value),L.is("disabled",ue.value),L.is("loading",y.loading),L.is("plain",y.plain),L.is("round",y.round),L.is("circle",y.circle),L.is("text",y.text),L.is("link",y.link),L.is("has-bg",y.bg)]);return n({ref:re,size:ae,type:le,disabled:ue,shouldAddSpace:_e}),(Oe,xe)=>(openBlock(),createBlock(resolveDynamicComponent(Oe.tag),mergeProps({ref_key:"_ref",ref:re},unref(he),{class:unref($e),style:unref($),onClick:unref(Ce)}),{default:withCtx(()=>[Oe.loading?(openBlock(),createElementBlock(Fragment,{key:0},[Oe.$slots.loading?renderSlot(Oe.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(L).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Oe.loadingIcon)))]),_:1},8,["class"]))],64)):Oe.icon||Oe.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[Oe.icon?(openBlock(),createBlock(resolveDynamicComponent(Oe.icon),{key:0})):renderSlot(Oe.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),Oe.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(L).em("text","expand")]:unref(_e)})},[renderSlot(Oe.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc(_sfc_main$3w,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$1y=defineComponent({name:"ElButtonGroup"}),_sfc_main$3v=defineComponent({...__default__$1y,props:buttonGroupProps,setup(r){const n=r;provide(buttonGroupContextKey,reactive({size:toRef(n,"size"),type:toRef(n,"type")}));const g=useNamespace$1("button");return(y,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b("group"))},[renderSlot(y.$slots,"default")],2))}});var ButtonGroup=_export_sfc(_sfc_main$3v,[["__file","button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dayjs_min={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){var g=1e3,y=6e4,$=36e5,L="millisecond",re="second",ae="minute",le="hour",ue="day",he="week",_e="month",Ce="quarter",$e="year",Oe="date",xe="Invalid Date",Ne=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ie=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Fe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_n){var vn=["th","st","nd","rd"],jt=_n%100;return"["+_n+(vn[(jt-20)%10]||vn[jt]||vn[0])+"]"}},Ve=function(_n,vn,jt){var $n=String(_n);return!$n||$n.length>=vn?_n:""+Array(vn+1-$n.length).join(jt)+_n},ze={s:Ve,z:function(_n){var vn=-_n.utcOffset(),jt=Math.abs(vn),$n=Math.floor(jt/60),Sn=jt%60;return(vn<=0?"+":"-")+Ve($n,2,"0")+":"+Ve(Sn,2,"0")},m:function _n(vn,jt){if(vn.date()<jt.date())return-_n(jt,vn);var $n=12*(jt.year()-vn.year())+(jt.month()-vn.month()),Sn=vn.clone().add($n,_e),bn=jt-Sn<0,wn=vn.clone().add($n+(bn?-1:1),_e);return+(-($n+(jt-Sn)/(bn?Sn-wn:wn-Sn))||0)},a:function(_n){return _n<0?Math.ceil(_n)||0:Math.floor(_n)},p:function(_n){return{M:_e,y:$e,w:he,d:ue,D:Oe,h:le,m:ae,s:re,ms:L,Q:Ce}[_n]||String(_n||"").toLowerCase().replace(/s$/,"")},u:function(_n){return _n===void 0}},Ue="en",qe={};qe[Ue]=Fe;var kt="$isDayjsObject",Et=function(_n){return _n instanceof Lt||!(!_n||!_n[kt])},Pt=function _n(vn,jt,$n){var Sn;if(!vn)return Ue;if(typeof vn=="string"){var bn=vn.toLowerCase();qe[bn]&&(Sn=bn),jt&&(qe[bn]=jt,Sn=bn);var wn=vn.split("-");if(!Sn&&wn.length>1)return _n(wn[0])}else{var On=vn.name;qe[On]=vn,Sn=On}return!$n&&Sn&&(Ue=Sn),Sn||!$n&&Ue},At=function(_n,vn){if(Et(_n))return _n.clone();var jt=typeof vn=="object"?vn:{};return jt.date=_n,jt.args=arguments,new Lt(jt)},Dt=ze;Dt.l=Pt,Dt.i=Et,Dt.w=function(_n,vn){return At(_n,{locale:vn.$L,utc:vn.$u,x:vn.$x,$offset:vn.$offset})};var Lt=function(){function _n(jt){this.$L=Pt(jt.locale,null,!0),this.parse(jt),this.$x=this.$x||jt.x||{},this[kt]=!0}var vn=_n.prototype;return vn.parse=function(jt){this.$d=function($n){var Sn=$n.date,bn=$n.utc;if(Sn===null)return new Date(NaN);if(Dt.u(Sn))return new Date;if(Sn instanceof Date)return new Date(Sn);if(typeof Sn=="string"&&!/Z$/i.test(Sn)){var wn=Sn.match(Ne);if(wn){var On=wn[2]-1||0,Tn=(wn[7]||"0").substring(0,3);return bn?new Date(Date.UTC(wn[1],On,wn[3]||1,wn[4]||0,wn[5]||0,wn[6]||0,Tn)):new Date(wn[1],On,wn[3]||1,wn[4]||0,wn[5]||0,wn[6]||0,Tn)}}return new Date(Sn)}(jt),this.init()},vn.init=function(){var jt=this.$d;this.$y=jt.getFullYear(),this.$M=jt.getMonth(),this.$D=jt.getDate(),this.$W=jt.getDay(),this.$H=jt.getHours(),this.$m=jt.getMinutes(),this.$s=jt.getSeconds(),this.$ms=jt.getMilliseconds()},vn.$utils=function(){return Dt},vn.isValid=function(){return this.$d.toString()!==xe},vn.isSame=function(jt,$n){var Sn=At(jt);return this.startOf($n)<=Sn&&Sn<=this.endOf($n)},vn.isAfter=function(jt,$n){return At(jt)<this.startOf($n)},vn.isBefore=function(jt,$n){return this.endOf($n)<At(jt)},vn.$g=function(jt,$n,Sn){return Dt.u(jt)?this[$n]:this.set(Sn,jt)},vn.unix=function(){return Math.floor(this.valueOf()/1e3)},vn.valueOf=function(){return this.$d.getTime()},vn.startOf=function(jt,$n){var Sn=this,bn=!!Dt.u($n)||$n,wn=Dt.p(jt),On=function(In,Fn){var Bn=Dt.w(Sn.$u?Date.UTC(Sn.$y,Fn,In):new Date(Sn.$y,Fn,In),Sn);return bn?Bn:Bn.endOf(ue)},Tn=function(In,Fn){return Dt.w(Sn.toDate()[In].apply(Sn.toDate("s"),(bn?[0,0,0,0]:[23,59,59,999]).slice(Fn)),Sn)},xn=this.$W,Pn=this.$M,An=this.$D,Rn="set"+(this.$u?"UTC":"");switch(wn){case $e:return bn?On(1,0):On(31,11);case _e:return bn?On(1,Pn):On(0,Pn+1);case he:var Nn=this.$locale().weekStart||0,Dn=(xn<Nn?xn+7:xn)-Nn;return On(bn?An-Dn:An+(6-Dn),Pn);case ue:case Oe:return Tn(Rn+"Hours",0);case le:return Tn(Rn+"Minutes",1);case ae:return Tn(Rn+"Seconds",2);case re:return Tn(Rn+"Milliseconds",3);default:return this.clone()}},vn.endOf=function(jt){return this.startOf(jt,!1)},vn.$set=function(jt,$n){var Sn,bn=Dt.p(jt),wn="set"+(this.$u?"UTC":""),On=(Sn={},Sn[ue]=wn+"Date",Sn[Oe]=wn+"Date",Sn[_e]=wn+"Month",Sn[$e]=wn+"FullYear",Sn[le]=wn+"Hours",Sn[ae]=wn+"Minutes",Sn[re]=wn+"Seconds",Sn[L]=wn+"Milliseconds",Sn)[bn],Tn=bn===ue?this.$D+($n-this.$W):$n;if(bn===_e||bn===$e){var xn=this.clone().set(Oe,1);xn.$d[On](Tn),xn.init(),this.$d=xn.set(Oe,Math.min(this.$D,xn.daysInMonth())).$d}else On&&this.$d[On](Tn);return this.init(),this},vn.set=function(jt,$n){return this.clone().$set(jt,$n)},vn.get=function(jt){return this[Dt.p(jt)]()},vn.add=function(jt,$n){var Sn,bn=this;jt=Number(jt);var wn=Dt.p($n),On=function(Pn){var An=At(bn);return Dt.w(An.date(An.date()+Math.round(Pn*jt)),bn)};if(wn===_e)return this.set(_e,this.$M+jt);if(wn===$e)return this.set($e,this.$y+jt);if(wn===ue)return On(1);if(wn===he)return On(7);var Tn=(Sn={},Sn[ae]=y,Sn[le]=$,Sn[re]=g,Sn)[wn]||1,xn=this.$d.getTime()+jt*Tn;return Dt.w(xn,this)},vn.subtract=function(jt,$n){return this.add(-1*jt,$n)},vn.format=function(jt){var $n=this,Sn=this.$locale();if(!this.isValid())return Sn.invalidDate||xe;var bn=jt||"YYYY-MM-DDTHH:mm:ssZ",wn=Dt.z(this),On=this.$H,Tn=this.$m,xn=this.$M,Pn=Sn.weekdays,An=Sn.months,Rn=Sn.meridiem,Nn=function(Fn,Bn,Mn,Hn){return Fn&&(Fn[Bn]||Fn($n,bn))||Mn[Bn].slice(0,Hn)},Dn=function(Fn){return Dt.s(On%12||12,Fn,"0")},In=Rn||function(Fn,Bn,Mn){var Hn=Fn<12?"AM":"PM";return Mn?Hn.toLowerCase():Hn};return bn.replace(Ie,function(Fn,Bn){return Bn||function(Mn){switch(Mn){case"YY":return String($n.$y).slice(-2);case"YYYY":return Dt.s($n.$y,4,"0");case"M":return xn+1;case"MM":return Dt.s(xn+1,2,"0");case"MMM":return Nn(Sn.monthsShort,xn,An,3);case"MMMM":return Nn(An,xn);case"D":return $n.$D;case"DD":return Dt.s($n.$D,2,"0");case"d":return String($n.$W);case"dd":return Nn(Sn.weekdaysMin,$n.$W,Pn,2);case"ddd":return Nn(Sn.weekdaysShort,$n.$W,Pn,3);case"dddd":return Pn[$n.$W];case"H":return String(On);case"HH":return Dt.s(On,2,"0");case"h":return Dn(1);case"hh":return Dn(2);case"a":return In(On,Tn,!0);case"A":return In(On,Tn,!1);case"m":return String(Tn);case"mm":return Dt.s(Tn,2,"0");case"s":return String($n.$s);case"ss":return Dt.s($n.$s,2,"0");case"SSS":return Dt.s($n.$ms,3,"0");case"Z":return wn}return null}(Fn)||wn.replace(":","")})},vn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},vn.diff=function(jt,$n,Sn){var bn,wn=this,On=Dt.p($n),Tn=At(jt),xn=(Tn.utcOffset()-this.utcOffset())*y,Pn=this-Tn,An=function(){return Dt.m(wn,Tn)};switch(On){case $e:bn=An()/12;break;case _e:bn=An();break;case Ce:bn=An()/3;break;case he:bn=(Pn-xn)/6048e5;break;case ue:bn=(Pn-xn)/864e5;break;case le:bn=Pn/$;break;case ae:bn=Pn/y;break;case re:bn=Pn/g;break;default:bn=Pn}return Sn?bn:Dt.a(bn)},vn.daysInMonth=function(){return this.endOf(_e).$D},vn.$locale=function(){return qe[this.$L]},vn.locale=function(jt,$n){if(!jt)return this.$L;var Sn=this.clone(),bn=Pt(jt,$n,!0);return bn&&(Sn.$L=bn),Sn},vn.clone=function(){return Dt.w(this.$d,this)},vn.toDate=function(){return new Date(this.valueOf())},vn.toJSON=function(){return this.isValid()?this.toISOString():null},vn.toISOString=function(){return this.$d.toISOString()},vn.toString=function(){return this.$d.toUTCString()},_n}(),hn=Lt.prototype;return At.prototype=hn,[["$ms",L],["$s",re],["$m",ae],["$H",le],["$W",ue],["$M",_e],["$y",$e],["$D",Oe]].forEach(function(_n){hn[_n[1]]=function(vn){return this.$g(vn,_n[0],_n[1])}}),At.extend=function(_n,vn){return _n.$i||(_n(vn,Lt,At),_n.$i=!0),At},At.locale=Pt,At.isDayjs=Et,At.unix=function(_n){return At(1e3*_n)},At.en=qe[Ue],At.Ls=qe,At.p={},At})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports),buildTimeList=(r,n)=>[r>0?r-1:void 0,r,r<n?r+1:void 0],rangeArr=r=>Array.from(Array.from({length:r}).keys()),extractDateFormat=r=>r.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=r=>r.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(r,n){const g=isDate(r),y=isDate(n);return g&&y?r.getTime()===n.getTime():!g&&!y?r===n:!1},valueEquals=function(r,n){const g=isArray$5(r),y=isArray$5(n);return g&&y?r.length!==n.length?!1:r.every(($,L)=>dateEquals($,n[L])):!g&&!y?dateEquals(r,n):!1},parseDate$1=function(r,n,g){const y=isEmpty(n)||n==="x"?dayjs(r).locale(g):dayjs(r,n).locale(g);return y.isValid()?y:void 0},formatter=function(r,n,g){return isEmpty(n)?r:n==="x"?+r:dayjs(r).locale(g).format(n)},makeList=(r,n)=>{var g;const y=[],$=n==null?void 0:n();for(let L=0;L<r;L++)y.push((g=$==null?void 0:$.includes(L))!=null?g:!1);return y},dayOrDaysToDate=r=>isArray$5(r)?r.map(n=>n.toDate()):r.toDate(),getPrevMonthLastDays=(r,n)=>{const g=r.subtract(1,"month").endOf("month").date();return rangeArr(n).map((y,$)=>g-(n-$-1))},getMonthDays=r=>{const n=r.daysInMonth();return rangeArr(n).map((g,y)=>y+1)},toNestedArr=r=>rangeArr(r.length/7).map(n=>{const g=n*7;return r.slice(g,g+7)}),dateTableProps=buildProps({selectedDay:{type:definePropType(Object)},range:{type:definePropType(Array)},date:{type:definePropType(Object),required:!0},hideHeader:{type:Boolean}}),dateTableEmits={pick:r=>isObject$7(r)};var localeData$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){return function(g,y,$){var L=y.prototype,re=function(_e){return _e&&(_e.indexOf?_e:_e.s)},ae=function(_e,Ce,$e,Oe,xe){var Ne=_e.name?_e:_e.$locale(),Ie=re(Ne[Ce]),Fe=re(Ne[$e]),Ve=Ie||Fe.map(function(Ue){return Ue.slice(0,Oe)});if(!xe)return Ve;var ze=Ne.weekStart;return Ve.map(function(Ue,qe){return Ve[(qe+(ze||0))%7]})},le=function(){return $.Ls[$.locale()]},ue=function(_e,Ce){return _e.formats[Ce]||function($e){return $e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Oe,xe,Ne){return xe||Ne.slice(1)})}(_e.formats[Ce.toUpperCase()])},he=function(){var _e=this;return{months:function(Ce){return Ce?Ce.format("MMMM"):ae(_e,"months")},monthsShort:function(Ce){return Ce?Ce.format("MMM"):ae(_e,"monthsShort","months",3)},firstDayOfWeek:function(){return _e.$locale().weekStart||0},weekdays:function(Ce){return Ce?Ce.format("dddd"):ae(_e,"weekdays")},weekdaysMin:function(Ce){return Ce?Ce.format("dd"):ae(_e,"weekdaysMin","weekdays",2)},weekdaysShort:function(Ce){return Ce?Ce.format("ddd"):ae(_e,"weekdaysShort","weekdays",3)},longDateFormat:function(Ce){return ue(_e.$locale(),Ce)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};L.localeData=function(){return he.bind(this)()},$.localeData=function(){var _e=le();return{firstDayOfWeek:function(){return _e.weekStart||0},weekdays:function(){return $.weekdays()},weekdaysShort:function(){return $.weekdaysShort()},weekdaysMin:function(){return $.weekdaysMin()},months:function(){return $.months()},monthsShort:function(){return $.monthsShort()},longDateFormat:function(Ce){return ue(_e,Ce)},meridiem:_e.meridiem,ordinal:_e.ordinal}},$.months=function(){return ae(le(),"months")},$.monthsShort=function(){return ae(le(),"monthsShort","months",3)},$.weekdays=function(_e){return ae(le(),"weekdays",null,null,_e)},$.weekdaysShort=function(_e){return ae(le(),"weekdaysShort","weekdays",3,_e)},$.weekdaysMin=function(_e){return ae(le(),"weekdaysMin","weekdays",2,_e)}}})})(localeData$1);var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs(localeDataExports),datePickTypes=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],useDateTable=(r,n)=>{dayjs.extend(localeData);const g=dayjs.localeData().firstDayOfWeek(),{t:y,lang:$}=useLocale(),L=dayjs().locale($.value),re=computed(()=>!!r.range&&!!r.range.length),ae=computed(()=>{let Ce=[];if(re.value){const[$e,Oe]=r.range,xe=rangeArr(Oe.date()-$e.date()+1).map(Fe=>({text:$e.date()+Fe,type:"current"}));let Ne=xe.length%7;Ne=Ne===0?0:7-Ne;const Ie=rangeArr(Ne).map((Fe,Ve)=>({text:Ve+1,type:"next"}));Ce=xe.concat(Ie)}else{const $e=r.date.startOf("month").day(),Oe=getPrevMonthLastDays(r.date,($e-g+7)%7).map(Fe=>({text:Fe,type:"prev"})),xe=getMonthDays(r.date).map(Fe=>({text:Fe,type:"current"}));Ce=[...Oe,...xe];const Ne=7-(Ce.length%7||7),Ie=rangeArr(Ne).map((Fe,Ve)=>({text:Ve+1,type:"next"}));Ce=Ce.concat(Ie)}return toNestedArr(Ce)}),le=computed(()=>{const Ce=g;return Ce===0?WEEK_DAYS.map($e=>y(`el.datepicker.weeks.${$e}`)):WEEK_DAYS.slice(Ce).concat(WEEK_DAYS.slice(0,Ce)).map($e=>y(`el.datepicker.weeks.${$e}`))}),ue=(Ce,$e)=>{switch($e){case"prev":return r.date.startOf("month").subtract(1,"month").date(Ce);case"next":return r.date.startOf("month").add(1,"month").date(Ce);case"current":return r.date.date(Ce)}};return{now:L,isInRange:re,rows:ae,weekDays:le,getFormattedDate:ue,handlePickDay:({text:Ce,type:$e})=>{const Oe=ue(Ce,$e);n("pick",Oe)},getSlotData:({text:Ce,type:$e})=>{const Oe=ue(Ce,$e);return{isSelected:Oe.isSame(r.selectedDay),type:`${$e}-month`,day:Oe.format("YYYY-MM-DD"),date:Oe.toDate()}}}},__default__$1x=defineComponent({name:"DateTable"}),_sfc_main$3u=defineComponent({...__default__$1x,props:dateTableProps,emits:dateTableEmits,setup(r,{expose:n,emit:g}){const y=r,{isInRange:$,now:L,rows:re,weekDays:ae,getFormattedDate:le,handlePickDay:ue,getSlotData:he}=useDateTable(y,g),_e=useNamespace$1("calendar-table"),Ce=useNamespace$1("calendar-day"),$e=({text:Oe,type:xe})=>{const Ne=[xe];if(xe==="current"){const Ie=le(Oe,xe);Ie.isSame(y.selectedDay,"day")&&Ne.push(Ce.is("selected")),Ie.isSame(L,"day")&&Ne.push(Ce.is("today"))}return Ne};return n({getFormattedDate:le}),(Oe,xe)=>(openBlock(),createElementBlock("table",{class:normalizeClass([unref(_e).b(),unref(_e).is("range",unref($))]),cellspacing:"0",cellpadding:"0"},[Oe.hideHeader?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("thead",{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ae),Ne=>(openBlock(),createElementBlock("th",{key:Ne,scope:"col"},toDisplayString(Ne),1))),128))])])),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(re),(Ne,Ie)=>(openBlock(),createElementBlock("tr",{key:Ie,class:normalizeClass({[unref(_e).e("row")]:!0,[unref(_e).em("row","hide-border")]:Ie===0&&Oe.hideHeader})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ne,(Fe,Ve)=>(openBlock(),createElementBlock("td",{key:Ve,class:normalizeClass($e(Fe)),onClick:ze=>unref(ue)(Fe)},[createBaseVNode("div",{class:normalizeClass(unref(Ce).b())},[renderSlot(Oe.$slots,"date-cell",{data:unref(he)(Fe)},()=>[createBaseVNode("span",null,toDisplayString(Fe.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var DateTable$1=_export_sfc(_sfc_main$3u,[["__file","date-table.vue"]]);const adjacentMonth=(r,n)=>{const g=r.endOf("month"),y=n.startOf("month"),L=g.isSame(y,"week")?y.add(1,"week"):y;return[[r,g],[L.startOf("week"),n]]},threeConsecutiveMonth=(r,n)=>{const g=r.endOf("month"),y=r.add(1,"month").startOf("month"),$=g.isSame(y,"week")?y.add(1,"week"):y,L=$.endOf("month"),re=n.startOf("month"),ae=L.isSame(re,"week")?re.add(1,"week"):re;return[[r,g],[$.startOf("week"),L],[ae.startOf("week"),n]]},useCalendar=(r,n,g)=>{const{lang:y}=useLocale(),$=ref$1(),L=dayjs().locale(y.value),re=computed({get(){return r.modelValue?le.value:$.value},set(Ne){if(!Ne)return;$.value=Ne;const Ie=Ne.toDate();n(INPUT_EVENT,Ie),n(UPDATE_MODEL_EVENT,Ie)}}),ae=computed(()=>{if(!r.range||!isArray$5(r.range)||r.range.length!==2||r.range.some(Ve=>!isDate(Ve)))return[];const Ne=r.range.map(Ve=>dayjs(Ve).locale(y.value)),[Ie,Fe]=Ne;return Ie.isAfter(Fe)?[]:Ie.isSame(Fe,"month")?$e(Ie,Fe):Ie.add(1,"month").month()!==Fe.month()?[]:$e(Ie,Fe)}),le=computed(()=>r.modelValue?dayjs(r.modelValue).locale(y.value):re.value||(ae.value.length?ae.value[0][0]:L)),ue=computed(()=>le.value.subtract(1,"month").date(1)),he=computed(()=>le.value.add(1,"month").date(1)),_e=computed(()=>le.value.subtract(1,"year").date(1)),Ce=computed(()=>le.value.add(1,"year").date(1)),$e=(Ne,Ie)=>{const Fe=Ne.startOf("week"),Ve=Ie.endOf("week"),ze=Fe.get("month"),Ue=Ve.get("month");return ze===Ue?[[Fe,Ve]]:(ze+1)%12===Ue?adjacentMonth(Fe,Ve):ze+2===Ue||(ze+1)%11===Ue?threeConsecutiveMonth(Fe,Ve):[]},Oe=Ne=>{re.value=Ne};return{calculateValidatedDateRange:$e,date:le,realSelectedDay:re,pickDay:Oe,selectDate:Ne=>{const Fe={"prev-month":ue.value,"next-month":he.value,"prev-year":_e.value,"next-year":Ce.value,today:L}[Ne];Fe.isSame(le.value,"day")||Oe(Fe)},validatedRange:ae}},isValidRange$1=r=>isArray$5(r)&&r.length===2&&r.every(n=>isDate(n)),calendarProps=buildProps({modelValue:{type:Date},range:{type:definePropType(Array),validator:isValidRange$1}}),calendarEmits={[UPDATE_MODEL_EVENT]:r=>isDate(r),[INPUT_EVENT]:r=>isDate(r)},COMPONENT_NAME$i="ElCalendar",__default__$1w=defineComponent({name:COMPONENT_NAME$i}),_sfc_main$3t=defineComponent({...__default__$1w,props:calendarProps,emits:calendarEmits,setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("calendar"),{calculateValidatedDateRange:L,date:re,pickDay:ae,realSelectedDay:le,selectDate:ue,validatedRange:he}=useCalendar(y,g),{t:_e}=useLocale(),Ce=computed(()=>{const $e=`el.datepicker.month${re.value.format("M")}`;return`${re.value.year()} ${_e("el.datepicker.year")} ${_e($e)}`});return n({selectedDay:le,pickDay:ae,selectDate:ue,calculateValidatedDateRange:L}),($e,Oe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($).b())},[createBaseVNode("div",{class:normalizeClass(unref($).e("header"))},[renderSlot($e.$slots,"header",{date:unref(Ce)},()=>[createBaseVNode("div",{class:normalizeClass(unref($).e("title"))},toDisplayString(unref(Ce)),3),unref(he).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("button-group"))},[createVNode$1(unref(ElButtonGroup$1),null,{default:withCtx(()=>[createVNode$1(unref(ElButton),{size:"small",onClick:xe=>unref(ue)("prev-month")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(_e)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),createVNode$1(unref(ElButton),{size:"small",onClick:xe=>unref(ue)("today")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(_e)("el.datepicker.today")),1)]),_:1},8,["onClick"]),createVNode$1(unref(ElButton),{size:"small",onClick:xe=>unref(ue)("next-month")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(_e)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):createCommentVNode("v-if",!0)])],2),unref(he).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("body"))},[createVNode$1(DateTable$1,{date:unref(re),"selected-day":unref(le),onPick:unref(ae)},createSlots({_:2},[$e.$slots["date-cell"]?{name:"date-cell",fn:withCtx(xe=>[renderSlot($e.$slots,"date-cell",normalizeProps(guardReactiveProps(xe)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($).e("body"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(he),(xe,Ne)=>(openBlock(),createBlock(DateTable$1,{key:Ne,date:xe[0],"selected-day":unref(le),range:xe,"hide-header":Ne!==0,onPick:unref(ae)},createSlots({_:2},[$e.$slots["date-cell"]?{name:"date-cell",fn:withCtx(Ie=>[renderSlot($e.$slots,"date-cell",normalizeProps(guardReactiveProps(Ie)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Calendar$1=_export_sfc(_sfc_main$3t,[["__file","calendar.vue"]]);const ElCalendar=withInstall(Calendar$1),cardProps=buildProps({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$1v=defineComponent({name:"ElCard"}),_sfc_main$3s=defineComponent({...__default__$1v,props:cardProps,setup(r){const n=useNamespace$1("card");return(g,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is(`${g.shadow}-shadow`)])},[g.$slots.header||g.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(n).e("header"))},[renderSlot(g.$slots,"header",{},()=>[createTextVNode(toDisplayString(g.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(n).e("body"),g.bodyClass]),style:normalizeStyle$1(g.bodyStyle)},[renderSlot(g.$slots,"default")],6),g.$slots.footer||g.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(n).e("footer"))},[renderSlot(g.$slots,"footer",{},()=>[createTextVNode(toDisplayString(g.footer),1)])],2)):createCommentVNode("v-if",!0)],2))}});var Card=_export_sfc(_sfc_main$3s,[["__file","card.vue"]]);const ElCard=withInstall(Card),carouselProps=buildProps({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),carouselEmits={change:(r,n)=>[r,n].every(isNumber$2)},carouselContextKey=Symbol("carouselContextKey"),CAROUSEL_ITEM_NAME="ElCarouselItem";var PatchFlags=(r=>(r[r.TEXT=1]="TEXT",r[r.CLASS=2]="CLASS",r[r.STYLE=4]="STYLE",r[r.PROPS=8]="PROPS",r[r.FULL_PROPS=16]="FULL_PROPS",r[r.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",r[r.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",r[r.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",r[r.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",r[r.NEED_PATCH=512]="NEED_PATCH",r[r.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",r[r.HOISTED=-1]="HOISTED",r[r.BAIL=-2]="BAIL",r))(PatchFlags||{});function isFragment(r){return isVNode(r)&&r.type===Fragment}function isComment(r){return isVNode(r)&&r.type===Comment}function isValidElementNode(r){return isVNode(r)&&!isFragment(r)&&!isComment(r)}const getNormalizedProps=r=>{if(!isVNode(r))return{};const n=r.props||{},g=(isVNode(r.type)?r.type.props:void 0)||{},y={};return Object.keys(g).forEach($=>{hasOwn$1(g[$],"default")&&(y[$]=g[$].default)}),Object.keys(n).forEach($=>{y[camelize($)]=n[$]}),y},ensureOnlyChild=r=>{if(!isArray$5(r)||r.length>1)throw new Error("expect to receive a single Vue element child");return r[0]},flattedChildren=r=>{const n=isArray$5(r)?r:[r],g=[];return n.forEach(y=>{var $;isArray$5(y)?g.push(...flattedChildren(y)):isVNode(y)&&(($=y.component)!=null&&$.subTree)?g.push(y,...flattedChildren(y.component.subTree)):isVNode(y)&&isArray$5(y.children)?g.push(...flattedChildren(y.children)):g.push(y)}),g},getOrderedChildren=(r,n,g)=>flattedChildren(r.subTree).filter(L=>{var re;return isVNode(L)&&((re=L.type)==null?void 0:re.name)===n&&!!L.component}).map(L=>L.component.uid).map(L=>g[L]).filter(L=>!!L),useOrderedChildren=(r,n)=>{const g={},y=shallowRef([]);return{children:y,addChild:re=>{g[re.uid]=re,y.value=getOrderedChildren(r,n,g)},removeChild:re=>{delete g[re],y.value=y.value.filter(ae=>ae.uid!==re)}}},THROTTLE_TIME=300,useCarousel=(r,n,g)=>{const{children:y,addChild:$,removeChild:L}=useOrderedChildren(getCurrentInstance(),CAROUSEL_ITEM_NAME),re=useSlots(),ae=ref$1(-1),le=ref$1(null),ue=ref$1(!1),he=ref$1(),_e=ref$1(0),Ce=ref$1(!0),$e=ref$1(!0),Oe=ref$1(!1),xe=computed(()=>r.arrow!=="never"&&!unref(Fe)),Ne=computed(()=>y.value.some(Rn=>Rn.props.label.toString().length>0)),Ie=computed(()=>r.type==="card"),Fe=computed(()=>r.direction==="vertical"),Ve=computed(()=>r.height!=="auto"?{height:r.height}:{height:`${_e.value}px`,overflow:"hidden"}),ze=throttle$1(Rn=>{At(Rn)},THROTTLE_TIME,{trailing:!0}),Ue=throttle$1(Rn=>{bn(Rn)},THROTTLE_TIME),qe=Rn=>Ce.value?ae.value<=1?Rn<=1:Rn>1:!0;function kt(){le.value&&(clearInterval(le.value),le.value=null)}function Et(){r.interval<=0||!r.autoplay||le.value||(le.value=setInterval(()=>Pt(),r.interval))}const Pt=()=>{$e.value||(Oe.value=!0),$e.value=!1,ae.value<y.value.length-1?ae.value=ae.value+1:r.loop?ae.value=0:Oe.value=!1};function At(Rn){if($e.value||(Oe.value=!0),$e.value=!1,isString$3(Rn)){const In=y.value.filter(Fn=>Fn.props.name===Rn);In.length>0&&(Rn=y.value.indexOf(In[0]))}if(Rn=Number(Rn),Number.isNaN(Rn)||Rn!==Math.floor(Rn))return;const Nn=y.value.length,Dn=ae.value;Rn<0?ae.value=r.loop?Nn-1:0:Rn>=Nn?ae.value=r.loop?0:Nn-1:ae.value=Rn,Dn===ae.value&&Dt(Dn),Tn()}function Dt(Rn){y.value.forEach((Nn,Dn)=>{Nn.translateItem(Dn,ae.value,Rn)})}function Lt(Rn,Nn){var Dn,In,Fn,Bn;const Mn=unref(y),Hn=Mn.length;if(Hn===0||!Rn.states.inStage)return!1;const Yn=Nn+1,qn=Nn-1,Xn=Hn-1,jn=Mn[Xn].states.active,Zn=Mn[0].states.active,Un=(In=(Dn=Mn[Yn])==null?void 0:Dn.states)==null?void 0:In.active,Jn=(Bn=(Fn=Mn[qn])==null?void 0:Fn.states)==null?void 0:Bn.active;return Nn===Xn&&Zn||Un?"left":Nn===0&&jn||Jn?"right":!1}function hn(){ue.value=!0,r.pauseOnHover&&kt()}function _n(){ue.value=!1,Et()}function vn(){Oe.value=!1}function jt(Rn){unref(Fe)||y.value.forEach((Nn,Dn)=>{Rn===Lt(Nn,Dn)&&(Nn.states.hover=!0)})}function $n(){unref(Fe)||y.value.forEach(Rn=>{Rn.states.hover=!1})}function Sn(Rn){Rn!==ae.value&&($e.value||(Oe.value=!0)),ae.value=Rn}function bn(Rn){r.trigger==="hover"&&Rn!==ae.value&&(ae.value=Rn,$e.value||(Oe.value=!0))}function wn(){At(ae.value-1)}function On(){At(ae.value+1)}function Tn(){kt(),r.pauseOnHover||Et()}function xn(Rn){r.height==="auto"&&(_e.value=Rn)}function Pn(){var Rn;const Nn=(Rn=re.default)==null?void 0:Rn.call(re);if(!Nn)return null;const In=flattedChildren(Nn).filter(Fn=>isVNode(Fn)&&Fn.type.name===CAROUSEL_ITEM_NAME);return(In==null?void 0:In.length)===2&&r.loop&&!Ie.value?(Ce.value=!0,In):(Ce.value=!1,null)}watch$1(()=>ae.value,(Rn,Nn)=>{Dt(Nn),Ce.value&&(Rn=Rn%2,Nn=Nn%2),Nn>-1&&n("change",Rn,Nn)}),watch$1(()=>r.autoplay,Rn=>{Rn?Et():kt()}),watch$1(()=>r.loop,()=>{At(ae.value)}),watch$1(()=>r.interval,()=>{Tn()});const An=shallowRef();return onMounted(()=>{watch$1(()=>y.value,()=>{y.value.length>0&&At(r.initialIndex)},{immediate:!0}),An.value=useResizeObserver(he.value,()=>{Dt()}),Et()}),onBeforeUnmount(()=>{kt(),he.value&&An.value&&An.value.stop()}),provide(carouselContextKey,{root:he,isCardType:Ie,isVertical:Fe,items:y,loop:r.loop,cardScale:r.cardScale,addItem:$,removeItem:L,setActiveItem:At,setContainerHeight:xn}),{root:he,activeIndex:ae,arrowDisplay:xe,hasLabel:Ne,hover:ue,isCardType:Ie,isTransitioning:Oe,items:y,isVertical:Fe,containerStyle:Ve,isItemsTwoLength:Ce,handleButtonEnter:jt,handleTransitionEnd:vn,handleButtonLeave:$n,handleIndicatorClick:Sn,handleMouseEnter:hn,handleMouseLeave:_n,setActiveItem:At,prev:wn,next:On,PlaceholderItem:Pn,isTwoLengthShow:qe,throttledArrowClick:ze,throttledIndicatorHover:Ue}},COMPONENT_NAME$h="ElCarousel",__default__$1u=defineComponent({name:COMPONENT_NAME$h}),_sfc_main$3r=defineComponent({...__default__$1u,props:carouselProps,emits:carouselEmits,setup(r,{expose:n,emit:g}){const y=r,{root:$,activeIndex:L,arrowDisplay:re,hasLabel:ae,hover:le,isCardType:ue,items:he,isVertical:_e,containerStyle:Ce,handleButtonEnter:$e,handleButtonLeave:Oe,isTransitioning:xe,handleIndicatorClick:Ne,handleMouseEnter:Ie,handleMouseLeave:Fe,handleTransitionEnd:Ve,setActiveItem:ze,prev:Ue,next:qe,PlaceholderItem:kt,isTwoLengthShow:Et,throttledArrowClick:Pt,throttledIndicatorHover:At}=useCarousel(y,g),Dt=useNamespace$1("carousel"),{t:Lt}=useLocale(),hn=computed(()=>{const jt=[Dt.b(),Dt.m(y.direction)];return unref(ue)&&jt.push(Dt.m("card")),jt}),_n=computed(()=>{const jt=[Dt.e("container")];return y.motionBlur&&unref(xe)&&he.value.length>1&&jt.push(unref(_e)?`${Dt.namespace.value}-transitioning-vertical`:`${Dt.namespace.value}-transitioning`),jt}),vn=computed(()=>{const jt=[Dt.e("indicators"),Dt.em("indicators",y.direction)];return unref(ae)&&jt.push(Dt.em("indicators","labels")),y.indicatorPosition==="outside"&&jt.push(Dt.em("indicators","outside")),unref(_e)&&jt.push(Dt.em("indicators","right")),jt});return n({activeIndex:L,setActiveItem:ze,prev:Ue,next:qe}),(jt,$n)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:$,class:normalizeClass(unref(hn)),onMouseenter:withModifiers(unref(Ie),["stop"]),onMouseleave:withModifiers(unref(Fe),["stop"])},[unref(re)?(openBlock(),createBlock(Transition,{key:0,name:"carousel-arrow-left",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Dt).e("arrow"),unref(Dt).em("arrow","left")]),"aria-label":unref(Lt)("el.carousel.leftArrow"),onMouseenter:Sn=>unref($e)("left"),onMouseleave:unref(Oe),onClick:withModifiers(Sn=>unref(Pt)(unref(L)-1),["stop"])},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[vShow,(jt.arrow==="always"||unref(le))&&(y.loop||unref(L)>0)]])]),_:1})):createCommentVNode("v-if",!0),unref(re)?(openBlock(),createBlock(Transition,{key:1,name:"carousel-arrow-right",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Dt).e("arrow"),unref(Dt).em("arrow","right")]),"aria-label":unref(Lt)("el.carousel.rightArrow"),onMouseenter:Sn=>unref($e)("right"),onMouseleave:unref(Oe),onClick:withModifiers(Sn=>unref(Pt)(unref(L)+1),["stop"])},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[vShow,(jt.arrow==="always"||unref(le))&&(y.loop||unref(L)<unref(he).length-1)]])]),_:1})):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(_n)),style:normalizeStyle$1(unref(Ce)),onTransitionend:unref(Ve)},[createVNode$1(unref(kt)),renderSlot(jt.$slots,"default")],46,["onTransitionend"]),jt.indicatorPosition!=="none"?(openBlock(),createElementBlock("ul",{key:2,class:normalizeClass(unref(vn))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(he),(Sn,bn)=>withDirectives((openBlock(),createElementBlock("li",{key:bn,class:normalizeClass([unref(Dt).e("indicator"),unref(Dt).em("indicator",jt.direction),unref(Dt).is("active",bn===unref(L))]),onMouseenter:wn=>unref(At)(bn),onClick:withModifiers(wn=>unref(Ne)(bn),["stop"])},[createBaseVNode("button",{class:normalizeClass(unref(Dt).e("button")),"aria-label":unref(Lt)("el.carousel.indicator",{index:bn+1})},[unref(ae)?(openBlock(),createElementBlock("span",{key:0},toDisplayString(Sn.props.label),1)):createCommentVNode("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[vShow,unref(Et)(bn)]])),128))],2)):createCommentVNode("v-if",!0),y.motionBlur?(openBlock(),createElementBlock("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[createBaseVNode("defs",null,[createBaseVNode("filter",{id:"elCarouselHorizontal"},[createBaseVNode("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),createBaseVNode("filter",{id:"elCarouselVertical"},[createBaseVNode("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):createCommentVNode("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Carousel=_export_sfc(_sfc_main$3r,[["__file","carousel.vue"]]);const carouselItemProps=buildProps({name:{type:String,default:""},label:{type:[String,Number],default:""}}),useCarouselItem=r=>{const n=inject(carouselContextKey),g=getCurrentInstance(),y=ref$1(),$=ref$1(!1),L=ref$1(0),re=ref$1(1),ae=ref$1(!1),le=ref$1(!1),ue=ref$1(!1),he=ref$1(!1),{isCardType:_e,isVertical:Ce,cardScale:$e}=n;function Oe(Ve,ze,Ue){const qe=Ue-1,kt=ze-1,Et=ze+1,Pt=Ue/2;return ze===0&&Ve===qe?-1:ze===qe&&Ve===0?Ue:Ve<kt&&ze-Ve>=Pt?Ue+1:Ve>Et&&Ve-ze>=Pt?-2:Ve}function xe(Ve,ze){var Ue,qe;const kt=unref(Ce)?((Ue=n.root.value)==null?void 0:Ue.offsetHeight)||0:((qe=n.root.value)==null?void 0:qe.offsetWidth)||0;return ue.value?kt*((2-$e)*(Ve-ze)+1)/4:Ve<ze?-(1+$e)*kt/4:(3+$e)*kt/4}function Ne(Ve,ze,Ue){const qe=n.root.value;return qe?((Ue?qe.offsetHeight:qe.offsetWidth)||0)*(Ve-ze):0}const Ie=(Ve,ze,Ue)=>{var qe;const kt=unref(_e),Et=(qe=n.items.value.length)!=null?qe:Number.NaN,Pt=Ve===ze;!kt&&!isUndefined(Ue)&&(he.value=Pt||Ve===Ue),!Pt&&Et>2&&n.loop&&(Ve=Oe(Ve,ze,Et));const At=unref(Ce);ae.value=Pt,kt?(ue.value=Math.round(Math.abs(Ve-ze))<=1,L.value=xe(Ve,ze),re.value=unref(ae)?1:$e):L.value=Ne(Ve,ze,At),le.value=!0,Pt&&y.value&&n.setContainerHeight(y.value.offsetHeight)};function Fe(){if(n&&unref(_e)){const Ve=n.items.value.findIndex(({uid:ze})=>ze===g.uid);n.setActiveItem(Ve)}}return onMounted(()=>{n.addItem({props:r,states:reactive({hover:$,translate:L,scale:re,active:ae,ready:le,inStage:ue,animating:he}),uid:g.uid,translateItem:Ie})}),onUnmounted(()=>{n.removeItem(g.uid)}),{carouselItemRef:y,active:ae,animating:he,hover:$,inStage:ue,isVertical:Ce,translate:L,isCardType:_e,scale:re,ready:le,handleItemClick:Fe}},__default__$1t=defineComponent({name:CAROUSEL_ITEM_NAME}),_sfc_main$3q=defineComponent({...__default__$1t,props:carouselItemProps,setup(r){const n=r,g=useNamespace$1("carousel"),{carouselItemRef:y,active:$,animating:L,hover:re,inStage:ae,isVertical:le,translate:ue,isCardType:he,scale:_e,ready:Ce,handleItemClick:$e}=useCarouselItem(n),Oe=computed(()=>[g.e("item"),g.is("active",$.value),g.is("in-stage",ae.value),g.is("hover",re.value),g.is("animating",L.value),{[g.em("item","card")]:he.value,[g.em("item","card-vertical")]:he.value&&le.value}]),xe=computed(()=>{const Ie=`${`translate${unref(le)?"Y":"X"}`}(${unref(ue)}px)`,Fe=`scale(${unref(_e)})`;return{transform:[Ie,Fe].join(" ")}});return(Ne,Ie)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"carouselItemRef",ref:y,class:normalizeClass(unref(Oe)),style:normalizeStyle$1(unref(xe)),onClick:unref($e)},[unref(he)?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("mask"))},null,2)),[[vShow,!unref($)]]):createCommentVNode("v-if",!0),renderSlot(Ne.$slots,"default")],14,["onClick"])),[[vShow,unref(Ce)]])}});var CarouselItem=_export_sfc(_sfc_main$3q,[["__file","carousel-item.vue"]]);const ElCarousel=withInstall(Carousel,{CarouselItem}),ElCarouselItem=withNoopInstall(CarouselItem),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaControls"])},checkboxEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r)||isNumber$2(r)||isBoolean(r),change:r=>isString$3(r)||isNumber$2(r)||isBoolean(r)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:r,isChecked:n})=>{const g=inject(checkboxGroupContextKey,void 0),y=computed(()=>{var L,re;const ae=(L=g==null?void 0:g.max)==null?void 0:L.value,le=(re=g==null?void 0:g.min)==null?void 0:re.value;return!isUndefined(ae)&&r.value.length>=ae&&!n.value||!isUndefined(le)&&r.value.length<=le&&n.value});return{isDisabled:useFormDisabled(computed(()=>(g==null?void 0:g.disabled.value)||y.value)),isLimitDisabled:y}},useCheckboxEvent=(r,{model:n,isLimitExceeded:g,hasOwnLabel:y,isDisabled:$,isLabeledByFormItem:L})=>{const re=inject(checkboxGroupContextKey,void 0),{formItem:ae}=useFormItem(),{emit:le}=getCurrentInstance();function ue(Oe){var xe,Ne,Ie,Fe;return[!0,r.trueValue,r.trueLabel].includes(Oe)?(Ne=(xe=r.trueValue)!=null?xe:r.trueLabel)!=null?Ne:!0:(Fe=(Ie=r.falseValue)!=null?Ie:r.falseLabel)!=null?Fe:!1}function he(Oe,xe){le("change",ue(Oe),xe)}function _e(Oe){if(g.value)return;const xe=Oe.target;le("change",ue(xe.checked),Oe)}async function Ce(Oe){g.value||!y.value&&!$.value&&L.value&&(Oe.composedPath().some(Ie=>Ie.tagName==="LABEL")||(n.value=ue([!1,r.falseValue,r.falseLabel].includes(n.value)),await nextTick$1(),he(n.value,Oe)))}const $e=computed(()=>(re==null?void 0:re.validateEvent)||r.validateEvent);return watch$1(()=>r.modelValue,()=>{$e.value&&(ae==null||ae.validate("change").catch(Oe=>void 0))}),{handleChange:_e,onClickRoot:Ce}},useCheckboxModel=r=>{const n=ref$1(!1),{emit:g}=getCurrentInstance(),y=inject(checkboxGroupContextKey,void 0),$=computed(()=>isUndefined(y)===!1),L=ref$1(!1),re=computed({get(){var ae,le;return $.value?(ae=y==null?void 0:y.modelValue)==null?void 0:ae.value:(le=r.modelValue)!=null?le:n.value},set(ae){var le,ue;$.value&&isArray$5(ae)?(L.value=((le=y==null?void 0:y.max)==null?void 0:le.value)!==void 0&&ae.length>(y==null?void 0:y.max.value)&&ae.length>re.value.length,L.value===!1&&((ue=y==null?void 0:y.changeEvent)==null||ue.call(y,ae))):(g(UPDATE_MODEL_EVENT,ae),n.value=ae)}});return{model:re,isGroup:$,isLimitExceeded:L}},useCheckboxStatus=(r,n,{model:g})=>{const y=inject(checkboxGroupContextKey,void 0),$=ref$1(!1),L=computed(()=>isPropAbsent(r.value)?r.label:r.value),re=computed(()=>{const he=g.value;return isBoolean(he)?he:isArray$5(he)?isObject$7(L.value)?he.map(toRaw).some(_e=>isEqual$1(_e,L.value)):he.map(toRaw).includes(L.value):he!=null?he===r.trueValue||he===r.trueLabel:!!he}),ae=useFormSize(computed(()=>{var he;return(he=y==null?void 0:y.size)==null?void 0:he.value}),{prop:!0}),le=useFormSize(computed(()=>{var he;return(he=y==null?void 0:y.size)==null?void 0:he.value})),ue=computed(()=>!!n.default||!isPropAbsent(L.value));return{checkboxButtonSize:ae,isChecked:re,isFocused:$,checkboxSize:le,hasOwnLabel:ue,actualValue:L}},useCheckbox=(r,n)=>{const{formItem:g}=useFormItem(),{model:y,isGroup:$,isLimitExceeded:L}=useCheckboxModel(r),{isFocused:re,isChecked:ae,checkboxButtonSize:le,checkboxSize:ue,hasOwnLabel:he,actualValue:_e}=useCheckboxStatus(r,n,{model:y}),{isDisabled:Ce}=useCheckboxDisabled({model:y,isChecked:ae}),{inputId:$e,isLabeledByFormItem:Oe}=useFormItemInputId(r,{formItemContext:g,disableIdGeneration:he,disableIdManagement:$}),{handleChange:xe,onClickRoot:Ne}=useCheckboxEvent(r,{model:y,isLimitExceeded:L,hasOwnLabel:he,isDisabled:Ce,isLabeledByFormItem:Oe});return(()=>{function Fe(){var Ve,ze;isArray$5(y.value)&&!y.value.includes(_e.value)?y.value.push(_e.value):y.value=(ze=(Ve=r.trueValue)!=null?Ve:r.trueLabel)!=null?ze:!0}r.checked&&Fe()})(),useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>$.value&&isPropAbsent(r.value))),useDeprecated({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!r.trueLabel)),useDeprecated({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!r.falseLabel)),{inputId:$e,isLabeledByFormItem:Oe,isChecked:ae,isDisabled:Ce,isFocused:re,checkboxButtonSize:le,checkboxSize:ue,hasOwnLabel:he,model:y,actualValue:_e,handleChange:xe,onClickRoot:Ne}},__default__$1s=defineComponent({name:"ElCheckbox"}),_sfc_main$3p=defineComponent({...__default__$1s,props:checkboxProps,emits:checkboxEmits,setup(r){const n=r,g=useSlots(),{inputId:y,isLabeledByFormItem:$,isChecked:L,isDisabled:re,isFocused:ae,checkboxSize:le,hasOwnLabel:ue,model:he,actualValue:_e,handleChange:Ce,onClickRoot:$e}=useCheckbox(n,g),Oe=useNamespace$1("checkbox"),xe=computed(()=>[Oe.b(),Oe.m(le.value),Oe.is("disabled",re.value),Oe.is("bordered",n.border),Oe.is("checked",L.value)]),Ne=computed(()=>[Oe.e("input"),Oe.is("disabled",re.value),Oe.is("checked",L.value),Oe.is("indeterminate",n.indeterminate),Oe.is("focus",ae.value)]);return(Ie,Fe)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(ue)&&unref($)?"span":"label"),{class:normalizeClass(unref(xe)),"aria-controls":Ie.indeterminate?Ie.ariaControls:null,onClick:unref($e)},{default:withCtx(()=>{var Ve,ze,Ue,qe;return[createBaseVNode("span",{class:normalizeClass(unref(Ne))},[Ie.trueValue||Ie.falseValue||Ie.trueLabel||Ie.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(y),"onUpdate:modelValue":kt=>isRef(he)?he.value=kt:null,class:normalizeClass(unref(Oe).e("original")),type:"checkbox",indeterminate:Ie.indeterminate,name:Ie.name,tabindex:Ie.tabindex,disabled:unref(re),"true-value":(ze=(Ve=Ie.trueValue)!=null?Ve:Ie.trueLabel)!=null?ze:!0,"false-value":(qe=(Ue=Ie.falseValue)!=null?Ue:Ie.falseLabel)!=null?qe:!1,onChange:unref(Ce),onFocus:kt=>ae.value=!0,onBlur:kt=>ae.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(he)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(y),"onUpdate:modelValue":kt=>isRef(he)?he.value=kt:null,class:normalizeClass(unref(Oe).e("original")),type:"checkbox",indeterminate:Ie.indeterminate,disabled:unref(re),value:unref(_e),name:Ie.name,tabindex:Ie.tabindex,onChange:unref(Ce),onFocus:kt=>ae.value=!0,onBlur:kt=>ae.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(he)]]),createBaseVNode("span",{class:normalizeClass(unref(Oe).e("inner"))},null,2)],2),unref(ue)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(Oe).e("label"))},[renderSlot(Ie.$slots,"default"),Ie.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(Ie.label),1)],64))],2)):createCommentVNode("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc(_sfc_main$3p,[["__file","checkbox.vue"]]);const __default__$1r=defineComponent({name:"ElCheckboxButton"}),_sfc_main$3o=defineComponent({...__default__$1r,props:checkboxProps,emits:checkboxEmits,setup(r){const n=r,g=useSlots(),{isFocused:y,isChecked:$,isDisabled:L,checkboxButtonSize:re,model:ae,actualValue:le,handleChange:ue}=useCheckbox(n,g),he=inject(checkboxGroupContextKey,void 0),_e=useNamespace$1("checkbox"),Ce=computed(()=>{var Oe,xe,Ne,Ie;const Fe=(xe=(Oe=he==null?void 0:he.fill)==null?void 0:Oe.value)!=null?xe:"";return{backgroundColor:Fe,borderColor:Fe,color:(Ie=(Ne=he==null?void 0:he.textColor)==null?void 0:Ne.value)!=null?Ie:"",boxShadow:Fe?`-1px 0 0 0 ${Fe}`:void 0}}),$e=computed(()=>[_e.b("button"),_e.bm("button",re.value),_e.is("disabled",L.value),_e.is("checked",$.value),_e.is("focus",y.value)]);return(Oe,xe)=>{var Ne,Ie,Fe,Ve;return openBlock(),createElementBlock("label",{class:normalizeClass(unref($e))},[Oe.trueValue||Oe.falseValue||Oe.trueLabel||Oe.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":ze=>isRef(ae)?ae.value=ze:null,class:normalizeClass(unref(_e).be("button","original")),type:"checkbox",name:Oe.name,tabindex:Oe.tabindex,disabled:unref(L),"true-value":(Ie=(Ne=Oe.trueValue)!=null?Ne:Oe.trueLabel)!=null?Ie:!0,"false-value":(Ve=(Fe=Oe.falseValue)!=null?Fe:Oe.falseLabel)!=null?Ve:!1,onChange:unref(ue),onFocus:ze=>y.value=!0,onBlur:ze=>y.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(ae)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":ze=>isRef(ae)?ae.value=ze:null,class:normalizeClass(unref(_e).be("button","original")),type:"checkbox",name:Oe.name,tabindex:Oe.tabindex,disabled:unref(L),value:unref(le),onChange:unref(ue),onFocus:ze=>y.value=!0,onBlur:ze=>y.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(ae)]]),Oe.$slots.default||Oe.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(_e).be("button","inner")),style:normalizeStyle$1(unref($)?unref(Ce):void 0)},[renderSlot(Oe.$slots,"default",{},()=>[createTextVNode(toDisplayString(Oe.label),1)])],6)):createCommentVNode("v-if",!0)],2)}}});var CheckboxButton=_export_sfc(_sfc_main$3o,[["__file","checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:r=>isArray$5(r),change:r=>isArray$5(r)},__default__$1q=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$3n=defineComponent({...__default__$1q,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("checkbox"),{formItem:$}=useFormItem(),{inputId:L,isLabeledByFormItem:re}=useFormItemInputId(g,{formItemContext:$}),ae=async ue=>{n(UPDATE_MODEL_EVENT,ue),await nextTick$1(),n("change",ue)},le=computed({get(){return g.modelValue},set(ue){ae(ue)}});return provide(checkboxGroupContextKey,{...pick(toRefs(g),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:le,changeEvent:ae}),watch$1(()=>g.modelValue,()=>{g.validateEvent&&($==null||$.validate("change").catch(ue=>void 0))}),(ue,he)=>{var _e;return openBlock(),createBlock(resolveDynamicComponent(ue.tag),{id:unref(L),class:normalizeClass(unref(y).b("group")),role:"group","aria-label":unref(re)?void 0:ue.ariaLabel||"checkbox-group","aria-labelledby":unref(re)?(_e=unref($))==null?void 0:_e.labelId:void 0},{default:withCtx(()=>[renderSlot(ue.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc(_sfc_main$3n,[["__file","checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),ElCheckboxButton=withNoopInstall(CheckboxButton),ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({modelValue:{type:[String,Number,Boolean],default:void 0},size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),radioProps=buildProps({...radioPropsBase,border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r)||isNumber$2(r)||isBoolean(r),[CHANGE_EVENT]:r=>isString$3(r)||isNumber$2(r)||isBoolean(r)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(r,n)=>{const g=ref$1(),y=inject(radioGroupKey,void 0),$=computed(()=>!!y),L=computed(()=>isPropAbsent(r.value)?r.label:r.value),re=computed({get(){return $.value?y.modelValue:r.modelValue},set(_e){$.value?y.changeEvent(_e):n&&n(UPDATE_MODEL_EVENT,_e),g.value.checked=r.modelValue===L.value}}),ae=useFormSize(computed(()=>y==null?void 0:y.size)),le=useFormDisabled(computed(()=>y==null?void 0:y.disabled)),ue=ref$1(!1),he=computed(()=>le.value||$.value&&re.value!==L.value?-1:0);return useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>$.value&&isPropAbsent(r.value))),{radioRef:g,isGroup:$,radioGroup:y,focus:ue,size:ae,disabled:le,tabIndex:he,modelValue:re,actualValue:L}},__default__$1p=defineComponent({name:"ElRadio"}),_sfc_main$3m=defineComponent({...__default__$1p,props:radioProps,emits:radioEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("radio"),{radioRef:$,radioGroup:L,focus:re,size:ae,disabled:le,modelValue:ue,actualValue:he}=useRadio(g,n);function _e(){nextTick$1(()=>n("change",ue.value))}return(Ce,$e)=>{var Oe;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(y).b(),unref(y).is("disabled",unref(le)),unref(y).is("focus",unref(re)),unref(y).is("bordered",Ce.border),unref(y).is("checked",unref(ue)===unref(he)),unref(y).m(unref(ae))])},[createBaseVNode("span",{class:normalizeClass([unref(y).e("input"),unref(y).is("disabled",unref(le)),unref(y).is("checked",unref(ue)===unref(he))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:$,"onUpdate:modelValue":xe=>isRef(ue)?ue.value=xe:null,class:normalizeClass(unref(y).e("original")),value:unref(he),name:Ce.name||((Oe=unref(L))==null?void 0:Oe.name),disabled:unref(le),checked:unref(ue)===unref(he),type:"radio",onFocus:xe=>re.value=!0,onBlur:xe=>re.value=!1,onChange:_e,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[vModelRadio,unref(ue)]]),createBaseVNode("span",{class:normalizeClass(unref(y).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(y).e("label")),onKeydown:withModifiers(()=>{},["stop"])},[renderSlot(Ce.$slots,"default",{},()=>[createTextVNode(toDisplayString(Ce.label),1)])],42,["onKeydown"])],2)}}});var Radio=_export_sfc(_sfc_main$3m,[["__file","radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase}),__default__$1o=defineComponent({name:"ElRadioButton"}),_sfc_main$3l=defineComponent({...__default__$1o,props:radioButtonProps,setup(r){const n=r,g=useNamespace$1("radio"),{radioRef:y,focus:$,size:L,disabled:re,modelValue:ae,radioGroup:le,actualValue:ue}=useRadio(n),he=computed(()=>({backgroundColor:(le==null?void 0:le.fill)||"",borderColor:(le==null?void 0:le.fill)||"",boxShadow:le!=null&&le.fill?`-1px 0 0 0 ${le.fill}`:"",color:(le==null?void 0:le.textColor)||""}));return(_e,Ce)=>{var $e;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(g).b("button"),unref(g).is("active",unref(ae)===unref(ue)),unref(g).is("disabled",unref(re)),unref(g).is("focus",unref($)),unref(g).bm("button",unref(L))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:y,"onUpdate:modelValue":Oe=>isRef(ae)?ae.value=Oe:null,class:normalizeClass(unref(g).be("button","original-radio")),value:unref(ue),type:"radio",name:_e.name||(($e=unref(le))==null?void 0:$e.name),disabled:unref(re),onFocus:Oe=>$.value=!0,onBlur:Oe=>$.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[vModelRadio,unref(ae)]]),createBaseVNode("span",{class:normalizeClass(unref(g).be("button","inner")),style:normalizeStyle$1(unref(ae)===unref(ue)?unref(he):{}),onKeydown:withModifiers(()=>{},["stop"])},[renderSlot(_e.$slots,"default",{},()=>[createTextVNode(toDisplayString(_e.label),1)])],46,["onKeydown"])],2)}}});var RadioButton=_export_sfc(_sfc_main$3l,[["__file","radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),radioGroupEmits=radioEmits,__default__$1n=defineComponent({name:"ElRadioGroup"}),_sfc_main$3k=defineComponent({...__default__$1n,props:radioGroupProps,emits:radioGroupEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("radio"),$=useId(),L=ref$1(),{formItem:re}=useFormItem(),{inputId:ae,isLabeledByFormItem:le}=useFormItemInputId(g,{formItemContext:re}),ue=_e=>{n(UPDATE_MODEL_EVENT,_e),nextTick$1(()=>n("change",_e))};onMounted(()=>{const _e=L.value.querySelectorAll("[type=radio]"),Ce=_e[0];!Array.from(_e).some($e=>$e.checked)&&Ce&&(Ce.tabIndex=0)});const he=computed(()=>g.name||$.value);return provide(radioGroupKey,reactive({...toRefs(g),changeEvent:ue,name:he})),watch$1(()=>g.modelValue,()=>{g.validateEvent&&(re==null||re.validate("change").catch(_e=>void 0))}),(_e,Ce)=>(openBlock(),createElementBlock("div",{id:unref(ae),ref_key:"radioGroupRef",ref:L,class:normalizeClass(unref(y).b("group")),role:"radiogroup","aria-label":unref(le)?void 0:_e.ariaLabel||"radio-group","aria-labelledby":unref(le)?unref(re).labelId:void 0},[renderSlot(_e.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var RadioGroup=_export_sfc(_sfc_main$3k,[["__file","radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton);var NodeContent$1=defineComponent({name:"NodeContent",setup(){return{ns:useNamespace$1("cascader-node")}},render(){const{ns:r}=this,{node:n,panel:g}=this.$parent,{data:y,label:$}=n,{renderLabelFn:L}=g;return h$1("span",{class:r.e("label")},L?L({node:n,data:y}):$)}});const CASCADER_PANEL_INJECTION_KEY=Symbol(),_sfc_main$3j=defineComponent({name:"ElCascaderNode",components:{ElCheckbox,ElRadio,NodeContent:NodeContent$1,ElIcon,Check:check_default,Loading:loading_default,ArrowRight:arrow_right_default},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(r,{emit:n}){const g=inject(CASCADER_PANEL_INJECTION_KEY),y=useNamespace$1("cascader-node"),$=computed(()=>g.isHoverMenu),L=computed(()=>g.config.multiple),re=computed(()=>g.config.checkStrictly),ae=computed(()=>{var qe;return(qe=g.checkedNodes[0])==null?void 0:qe.uid}),le=computed(()=>r.node.isDisabled),ue=computed(()=>r.node.isLeaf),he=computed(()=>re.value&&!ue.value||!le.value),_e=computed(()=>$e(g.expandingNode)),Ce=computed(()=>re.value&&g.checkedNodes.some($e)),$e=qe=>{var kt;const{level:Et,uid:Pt}=r.node;return((kt=qe==null?void 0:qe.pathNodes[Et-1])==null?void 0:kt.uid)===Pt},Oe=()=>{_e.value||g.expandNode(r.node)},xe=qe=>{const{node:kt}=r;qe!==kt.checked&&g.handleCheckChange(kt,qe)},Ne=()=>{g.lazyLoad(r.node,()=>{ue.value||Oe()})},Ie=qe=>{$.value&&(Fe(),!ue.value&&n("expand",qe))},Fe=()=>{const{node:qe}=r;!he.value||qe.loading||(qe.loaded?Oe():Ne())},Ve=()=>{$.value&&!ue.value||(ue.value&&!le.value&&!re.value&&!L.value?Ue(!0):Fe())},ze=qe=>{re.value?(xe(qe),r.node.loaded&&Oe()):Ue(qe)},Ue=qe=>{r.node.loaded?(xe(qe),!re.value&&Oe()):Ne()};return{panel:g,isHoverMenu:$,multiple:L,checkStrictly:re,checkedNodeId:ae,isDisabled:le,isLeaf:ue,expandable:he,inExpandingPath:_e,inCheckedPath:Ce,ns:y,handleHoverExpand:Ie,handleExpand:Fe,handleClick:Ve,handleCheck:Ue,handleSelectCheck:ze}}});function _sfc_render$I(r,n,g,y,$,L){const re=resolveComponent("el-checkbox"),ae=resolveComponent("el-radio"),le=resolveComponent("check"),ue=resolveComponent("el-icon"),he=resolveComponent("node-content"),_e=resolveComponent("loading"),Ce=resolveComponent("arrow-right");return openBlock(),createElementBlock("li",{id:`${r.menuId}-${r.node.uid}`,role:"menuitem","aria-haspopup":!r.isLeaf,"aria-owns":r.isLeaf?null:r.menuId,"aria-expanded":r.inExpandingPath,tabindex:r.expandable?-1:void 0,class:normalizeClass([r.ns.b(),r.ns.is("selectable",r.checkStrictly),r.ns.is("active",r.node.checked),r.ns.is("disabled",!r.expandable),r.inExpandingPath&&"in-active-path",r.inCheckedPath&&"in-checked-path"]),onMouseenter:r.handleHoverExpand,onFocus:r.handleHoverExpand,onClick:r.handleClick},[createCommentVNode(" prefix "),r.multiple?(openBlock(),createBlock(re,{key:0,"model-value":r.node.checked,indeterminate:r.node.indeterminate,disabled:r.isDisabled,onClick:withModifiers(()=>{},["stop"]),"onUpdate:modelValue":r.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):r.checkStrictly?(openBlock(),createBlock(ae,{key:1,"model-value":r.checkedNodeId,label:r.node.uid,disabled:r.isDisabled,"onUpdate:modelValue":r.handleSelectCheck,onClick:withModifiers(()=>{},["stop"])},{default:withCtx(()=>[createCommentVNode(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),createBaseVNode("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):r.isLeaf&&r.node.checked?(openBlock(),createBlock(ue,{key:2,class:normalizeClass(r.ns.e("prefix"))},{default:withCtx(()=>[createVNode$1(le)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode$1(he),createCommentVNode(" postfix "),r.isLeaf?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:3},[r.node.loading?(openBlock(),createBlock(ue,{key:0,class:normalizeClass([r.ns.is("loading"),r.ns.e("postfix")])},{default:withCtx(()=>[createVNode$1(_e)]),_:1},8,["class"])):(openBlock(),createBlock(ue,{key:1,class:normalizeClass(["arrow-right",r.ns.e("postfix")])},{default:withCtx(()=>[createVNode$1(Ce)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var ElCascaderNode=_export_sfc(_sfc_main$3j,[["render",_sfc_render$I],["__file","node.vue"]]);const _sfc_main$3i=defineComponent({name:"ElCascaderMenu",components:{Loading:loading_default,ElIcon,ElScrollbar,ElCascaderNode},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(r){const n=getCurrentInstance(),g=useNamespace$1("cascader-menu"),{t:y}=useLocale(),$=useId();let L=null,re=null;const ae=inject(CASCADER_PANEL_INJECTION_KEY),le=ref$1(null),ue=computed(()=>!r.nodes.length),he=computed(()=>!ae.initialLoaded),_e=computed(()=>`${$.value}-${r.index}`),Ce=Ne=>{L=Ne.target},$e=Ne=>{if(!(!ae.isHoverMenu||!L||!le.value))if(L.contains(Ne.target)){Oe();const Ie=n.vnode.el,{left:Fe}=Ie.getBoundingClientRect(),{offsetWidth:Ve,offsetHeight:ze}=Ie,Ue=Ne.clientX-Fe,qe=L.offsetTop,kt=qe+L.offsetHeight;le.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${Ue} ${qe} L${Ve} 0 V${qe} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${Ue} ${kt} L${Ve} ${ze} V${kt} Z" />
        `}else re||(re=window.setTimeout(xe,ae.config.hoverThreshold))},Oe=()=>{re&&(clearTimeout(re),re=null)},xe=()=>{le.value&&(le.value.innerHTML="",Oe())};return{ns:g,panel:ae,hoverZone:le,isEmpty:ue,isLoading:he,menuId:_e,t:y,handleExpand:Ce,handleMouseMove:$e,clearHoverZone:xe}}});function _sfc_render$H(r,n,g,y,$,L){const re=resolveComponent("el-cascader-node"),ae=resolveComponent("loading"),le=resolveComponent("el-icon"),ue=resolveComponent("el-scrollbar");return openBlock(),createBlock(ue,{key:r.menuId,tag:"ul",role:"menu",class:normalizeClass(r.ns.b()),"wrap-class":r.ns.e("wrap"),"view-class":[r.ns.e("list"),r.ns.is("empty",r.isEmpty)],onMousemove:r.handleMouseMove,onMouseleave:r.clearHoverZone},{default:withCtx(()=>{var he;return[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.nodes,_e=>(openBlock(),createBlock(re,{key:_e.uid,node:_e,"menu-id":r.menuId,onExpand:r.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),r.isLoading?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.ns.e("empty-text"))},[createVNode$1(le,{size:"14",class:normalizeClass(r.ns.is("loading"))},{default:withCtx(()=>[createVNode$1(ae)]),_:1},8,["class"]),createTextVNode(" "+toDisplayString(r.t("el.cascader.loading")),1)],2)):r.isEmpty?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.ns.e("empty-text"))},[renderSlot(r.$slots,"empty",{},()=>[createTextVNode(toDisplayString(r.t("el.cascader.noData")),1)])],2)):(he=r.panel)!=null&&he.isHoverMenu?(openBlock(),createElementBlock("svg",{key:2,ref:"hoverZone",class:normalizeClass(r.ns.e("hover-zone"))},null,2)):createCommentVNode("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ElCascaderMenu=_export_sfc(_sfc_main$3i,[["render",_sfc_render$H],["__file","menu.vue"]]);const escapeStringRegexp=(r="")=>r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=r=>capitalize$1(r);let uid=0;const calculatePathNodes=r=>{const n=[r];let{parent:g}=r;for(;g;)n.unshift(g),g=g.parent;return n};let Node$2=class pa{constructor(n,g,y,$=!1){this.data=n,this.config=g,this.parent=y,this.root=$,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:L,label:re,children:ae}=g,le=n[ae],ue=calculatePathNodes(this);this.level=$?0:y?y.level+1:1,this.value=n[L],this.label=n[re],this.pathNodes=ue,this.pathValues=ue.map(he=>he.value),this.pathLabels=ue.map(he=>he.label),this.childrenData=le,this.children=(le||[]).map(he=>new pa(he,g,this)),this.loaded=!g.lazy||this.isLeaf||!isEmpty(le)}get isDisabled(){const{data:n,parent:g,config:y}=this,{disabled:$,checkStrictly:L}=y;return(isFunction$3($)?$(n,this):!!n[$])||!L&&(g==null?void 0:g.isDisabled)}get isLeaf(){const{data:n,config:g,childrenData:y,loaded:$}=this,{lazy:L,leaf:re}=g,ae=isFunction$3(re)?re(n,this):n[re];return isUndefined(ae)?L&&!$?!1:!(isArray$5(y)&&y.length):!!ae}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:g,children:y}=this,$=new pa(n,this.config,this);return isArray$5(g)?g.push(n):this.childrenData=[n],y.push($),$}calcText(n,g){const y=n?this.pathLabels.join(g):this.label;return this.text=y,y}broadcast(n,...g){const y=`onParent${capitalize(n)}`;this.children.forEach($=>{$&&($.broadcast(n,...g),$[y]&&$[y](...g))})}emit(n,...g){const{parent:y}=this,$=`onChild${capitalize(n)}`;y&&(y[$]&&y[$](...g),y.emit(n,...g))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,g=n.filter($=>!$.isDisabled),y=g.length?g.every($=>$.checked):!1;this.setCheckState(y)}setCheckState(n){const g=this.children.length,y=this.children.reduce(($,L)=>{const re=L.checked?1:L.indeterminate?.5:0;return $+re},0);this.checked=this.loaded&&this.children.filter($=>!$.isDisabled).every($=>$.loaded&&$.checked)&&n,this.indeterminate=this.loaded&&y!==g&&y>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:g,multiple:y}=this.config;g||!y?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}};const flatNodes=(r,n)=>r.reduce((g,y)=>(y.isLeaf?g.push(y):(!n&&g.push(y),g=g.concat(flatNodes(y.children,n))),g),[]);class Store{constructor(n,g){this.config=g;const y=(n||[]).map($=>new Node$2($,this.config));this.nodes=y,this.allNodes=flatNodes(y,!1),this.leafNodes=flatNodes(y,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,g){const y=g?g.appendChild(n):new Node$2(n,this.config);g||this.nodes.push(y),this.allNodes.push(y),y.isLeaf&&this.leafNodes.push(y)}appendNodes(n,g){n.forEach(y=>this.appendNode(y,g))}getNodeByValue(n,g=!1){return!n&&n!==0?null:this.getFlattedNodes(g).find($=>isEqual$1($.value,n)||isEqual$1($.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:y,level:$})=>isEqual$1(n.value,y)&&n.level===$)||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},useCascaderConfig=r=>computed(()=>({...DefaultProps,...r.props})),getMenuIndex=r=>{if(!r)return 0;const n=r.id.split("-");return Number(n[n.length-2])},checkNode=r=>{if(!r)return;const n=r.querySelector("input");n?n.click():isLeaf(r)&&r.click()},sortByOriginalOrder=(r,n)=>{const g=n.slice(0),y=g.map(L=>L.uid),$=r.reduce((L,re)=>{const ae=y.indexOf(re.uid);return ae>-1&&(L.push(re),g.splice(ae,1),y.splice(ae,1)),L},[]);return $.push(...g),$},unique$1=r=>[...new Set(r)],castArray=r=>!r&&r!==0?[]:isArray$5(r)?r:[r],_sfc_main$3h=defineComponent({name:"ElCascaderPanel",components:{ElCascaderMenu},props:{...CommonProps,border:{type:Boolean,default:!0},renderLabel:Function},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"close","expand-change"],setup(r,{emit:n,slots:g}){let y=!1;const $=useNamespace$1("cascader"),L=useCascaderConfig(r);let re=null;const ae=ref$1(!0),le=ref$1([]),ue=ref$1(null),he=ref$1([]),_e=ref$1(null),Ce=ref$1([]),$e=computed(()=>L.value.expandTrigger==="hover"),Oe=computed(()=>r.renderLabel||g.default),xe=()=>{const{options:Lt}=r,hn=L.value;y=!1,re=new Store(Lt,hn),he.value=[re.getNodes()],hn.lazy&&isEmpty(r.options)?(ae.value=!1,Ne(void 0,_n=>{_n&&(re=new Store(_n,hn),he.value=[re.getNodes()]),ae.value=!0,Et(!1,!0)})):Et(!1,!0)},Ne=(Lt,hn)=>{const _n=L.value;Lt=Lt||new Node$2({},_n,void 0,!0),Lt.loading=!0;const vn=jt=>{const $n=Lt,Sn=$n.root?null:$n;jt&&(re==null||re.appendNodes(jt,Sn)),$n.loading=!1,$n.loaded=!0,$n.childrenData=$n.childrenData||[],hn&&hn(jt)};_n.lazyLoad(Lt,vn)},Ie=(Lt,hn)=>{var _n;const{level:vn}=Lt,jt=he.value.slice(0,vn);let $n;Lt.isLeaf?$n=Lt.pathNodes[vn-2]:($n=Lt,jt.push(Lt.children)),((_n=_e.value)==null?void 0:_n.uid)!==($n==null?void 0:$n.uid)&&(_e.value=Lt,he.value=jt,!hn&&n("expand-change",(Lt==null?void 0:Lt.pathValues)||[]))},Fe=(Lt,hn,_n=!0)=>{const{checkStrictly:vn,multiple:jt}=L.value,$n=Ce.value[0];y=!0,!jt&&($n==null||$n.doCheck(!1)),Lt.doCheck(hn),kt(),_n&&!jt&&!vn&&n("close"),!_n&&!jt&&!vn&&Ve(Lt)},Ve=Lt=>{Lt&&(Lt=Lt.parent,Ve(Lt),Lt&&Ie(Lt))},ze=Lt=>re==null?void 0:re.getFlattedNodes(Lt),Ue=Lt=>{var hn;return(hn=ze(Lt))==null?void 0:hn.filter(_n=>_n.checked!==!1)},qe=()=>{Ce.value.forEach(Lt=>Lt.doCheck(!1)),kt(),he.value=he.value.slice(0,1),_e.value=null,n("expand-change",[])},kt=()=>{var Lt;const{checkStrictly:hn,multiple:_n}=L.value,vn=Ce.value,jt=Ue(!hn),$n=sortByOriginalOrder(vn,jt),Sn=$n.map(bn=>bn.valueByOption);Ce.value=$n,ue.value=_n?Sn:(Lt=Sn[0])!=null?Lt:null},Et=(Lt=!1,hn=!1)=>{const{modelValue:_n}=r,{lazy:vn,multiple:jt,checkStrictly:$n}=L.value,Sn=!$n;if(!(!ae.value||y||!hn&&isEqual$1(_n,ue.value)))if(vn&&!Lt){const wn=unique$1(flattenDeep(castArray(_n))).map(On=>re==null?void 0:re.getNodeByValue(On)).filter(On=>!!On&&!On.loaded&&!On.loading);wn.length?wn.forEach(On=>{Ne(On,()=>Et(!1,hn))}):Et(!0,hn)}else{const bn=jt?castArray(_n):[_n],wn=unique$1(bn.map(On=>re==null?void 0:re.getNodeByValue(On,Sn)));Pt(wn,hn),ue.value=cloneDeep(_n)}},Pt=(Lt,hn=!0)=>{const{checkStrictly:_n}=L.value,vn=Ce.value,jt=Lt.filter(bn=>!!bn&&(_n||bn.isLeaf)),$n=re==null?void 0:re.getSameNode(_e.value),Sn=hn&&$n||jt[0];Sn?Sn.pathNodes.forEach(bn=>Ie(bn,!0)):_e.value=null,vn.forEach(bn=>bn.doCheck(!1)),reactive(jt).forEach(bn=>bn.doCheck(!0)),Ce.value=jt,nextTick$1(At)},At=()=>{isClient&&le.value.forEach(Lt=>{const hn=Lt==null?void 0:Lt.$el;if(hn){const _n=hn.querySelector(`.${$.namespace.value}-scrollbar__wrap`),vn=hn.querySelector(`.${$.b("node")}.${$.is("active")}`)||hn.querySelector(`.${$.b("node")}.in-active-path`);scrollIntoView$2(_n,vn)}})},Dt=Lt=>{const hn=Lt.target,{code:_n}=Lt;switch(_n){case EVENT_CODE.up:case EVENT_CODE.down:{Lt.preventDefault();const vn=_n===EVENT_CODE.up?-1:1;focusNode(getSibling(hn,vn,`.${$.b("node")}[tabindex="-1"]`));break}case EVENT_CODE.left:{Lt.preventDefault();const vn=le.value[getMenuIndex(hn)-1],jt=vn==null?void 0:vn.$el.querySelector(`.${$.b("node")}[aria-expanded="true"]`);focusNode(jt);break}case EVENT_CODE.right:{Lt.preventDefault();const vn=le.value[getMenuIndex(hn)+1],jt=vn==null?void 0:vn.$el.querySelector(`.${$.b("node")}[tabindex="-1"]`);focusNode(jt);break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:checkNode(hn);break}};return provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:L,expandingNode:_e,checkedNodes:Ce,isHoverMenu:$e,initialLoaded:ae,renderLabelFn:Oe,lazyLoad:Ne,expandNode:Ie,handleCheckChange:Fe})),watch$1([L,()=>r.options],xe,{deep:!0,immediate:!0}),watch$1(()=>r.modelValue,()=>{y=!1,Et()},{deep:!0}),watch$1(()=>ue.value,Lt=>{isEqual$1(Lt,r.modelValue)||(n(UPDATE_MODEL_EVENT,Lt),n(CHANGE_EVENT,Lt))}),onBeforeUpdate(()=>le.value=[]),onMounted(()=>!isEmpty(r.modelValue)&&Et()),{ns:$,menuList:le,menus:he,checkedNodes:Ce,handleKeyDown:Dt,handleCheckChange:Fe,getFlattedNodes:ze,getCheckedNodes:Ue,clearCheckedNodes:qe,calculateCheckedValue:kt,scrollToExpandingNode:At}}});function _sfc_render$G(r,n,g,y,$,L){const re=resolveComponent("el-cascader-menu");return openBlock(),createElementBlock("div",{class:normalizeClass([r.ns.b("panel"),r.ns.is("bordered",r.border)]),onKeydown:r.handleKeyDown},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.menus,(ae,le)=>(openBlock(),createBlock(re,{key:le,ref_for:!0,ref:ue=>r.menuList[le]=ue,index:le,nodes:[...ae]},{empty:withCtx(()=>[renderSlot(r.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var CascaderPanel=_export_sfc(_sfc_main$3h,[["render",_sfc_render$G],["__file","index.vue"]]);const ElCascaderPanel=withInstall(CascaderPanel),tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:r=>r instanceof MouseEvent,click:r=>r instanceof MouseEvent},__default__$1m=defineComponent({name:"ElTag"}),_sfc_main$3g=defineComponent({...__default__$1m,props:tagProps,emits:tagEmits,setup(r,{emit:n}){const g=r,y=useFormSize(),$=useNamespace$1("tag"),L=computed(()=>{const{type:ue,hit:he,effect:_e,closable:Ce,round:$e}=g;return[$.b(),$.is("closable",Ce),$.m(ue||"primary"),$.m(y.value),$.m(_e),$.is("hit",he),$.is("round",$e)]}),re=ue=>{n("close",ue)},ae=ue=>{n("click",ue)},le=ue=>{var he,_e,Ce;(Ce=(_e=(he=ue==null?void 0:ue.component)==null?void 0:he.subTree)==null?void 0:_e.component)!=null&&Ce.bum&&(ue.component.subTree.component.bum=null)};return(ue,he)=>ue.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(L)),style:normalizeStyle$1({backgroundColor:ue.color}),onClick:ae},[createBaseVNode("span",{class:normalizeClass(unref($).e("content"))},[renderSlot(ue.$slots,"default")],2),ue.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($).e("close")),onClick:withModifiers(re,["stop"])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref($).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:le},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(L)),style:normalizeStyle$1({backgroundColor:ue.color}),onClick:ae},[createBaseVNode("span",{class:normalizeClass(unref($).e("content"))},[renderSlot(ue.$slots,"default")],2),ue.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($).e("close")),onClick:withModifiers(re,["stop"])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag$3=_export_sfc(_sfc_main$3g,[["__file","tag.vue"]]);const ElTag=withInstall(Tag$3),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:definePropType(Function),default:(r,n)=>r.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:useTooltipContentProps.teleported,tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...useEmptyValuesProps}),cascaderEmits={[UPDATE_MODEL_EVENT]:r=>!0,[CHANGE_EVENT]:r=>!0,focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,visibleChange:r=>isBoolean(r),expandChange:r=>!!r,removeTag:r=>!!r},nodeList=new Map;if(isClient){let r;document.addEventListener("mousedown",n=>r=n),document.addEventListener("mouseup",n=>{if(r){for(const g of nodeList.values())for(const{documentHandler:y}of g)y(n,r);r=void 0}})}function createDocumentHandler(r,n){let g=[];return isArray$5(n.arg)?g=n.arg:isElement$3(n.arg)&&g.push(n.arg),function(y,$){const L=n.instance.popperRef,re=y.target,ae=$==null?void 0:$.target,le=!n||!n.instance,ue=!re||!ae,he=r.contains(re)||r.contains(ae),_e=r===re,Ce=g.length&&g.some(Oe=>Oe==null?void 0:Oe.contains(re))||g.length&&g.includes(ae),$e=L&&(L.contains(re)||L.contains(ae));le||ue||he||_e||Ce||$e||n.value(y,$)}}const ClickOutside={beforeMount(r,n){nodeList.has(r)||nodeList.set(r,[]),nodeList.get(r).push({documentHandler:createDocumentHandler(r,n),bindingFn:n.value})},updated(r,n){nodeList.has(r)||nodeList.set(r,[]);const g=nodeList.get(r),y=g.findIndex(L=>L.bindingFn===n.oldValue),$={documentHandler:createDocumentHandler(r,n),bindingFn:n.value};y>=0?g.splice(y,1,$):g.push($)},unmounted(r){nodeList.delete(r)}},COMPONENT_NAME$g="ElCascader",__default__$1l=defineComponent({name:COMPONENT_NAME$g}),_sfc_main$3f=defineComponent({...__default__$1l,props:cascaderProps,emits:cascaderEmits,setup(r,{expose:n,emit:g}){const y=r,$={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:kn})=>{const{modifiersData:Ln,placement:En}=kn;["right","left","bottom","top"].includes(En)||(Ln.arrow.x=35)},requires:["arrow"]}]},L=useAttrs$1();let re=0,ae=0;const le=useNamespace$1("cascader"),ue=useNamespace$1("input"),{t:he}=useLocale(),{form:_e,formItem:Ce}=useFormItem(),{valueOnClear:$e}=useEmptyValues(y),{isComposing:Oe,handleComposition:xe}=useComposition({afterComposition(kn){var Ln;const En=(Ln=kn.target)==null?void 0:Ln.value;_r(En)}}),Ne=ref$1(null),Ie=ref$1(null),Fe=ref$1(null),Ve=ref$1(null),ze=ref$1(null),Ue=ref$1(!1),qe=ref$1(!1),kt=ref$1(!1),Et=ref$1(!1),Pt=ref$1(""),At=ref$1(""),Dt=ref$1([]),Lt=ref$1([]),hn=ref$1([]),_n=computed(()=>L.style),vn=computed(()=>y.disabled||(_e==null?void 0:_e.disabled)),jt=computed(()=>y.placeholder||he("el.cascader.placeholder")),$n=computed(()=>At.value||Dt.value.length>0||Oe.value?"":jt.value),Sn=useFormSize(),bn=computed(()=>Sn.value==="small"?"small":"default"),wn=computed(()=>!!y.props.multiple),On=computed(()=>!y.filterable||wn.value),Tn=computed(()=>wn.value?At.value:Pt.value),xn=computed(()=>{var kn;return((kn=Ve.value)==null?void 0:kn.checkedNodes)||[]}),Pn=computed(()=>!y.clearable||vn.value||kt.value||!qe.value?!1:!!xn.value.length),An=computed(()=>{const{showAllLevels:kn,separator:Ln}=y,En=xn.value;return En.length?wn.value?"":En[0].calcText(kn,Ln):""}),Rn=computed(()=>(Ce==null?void 0:Ce.validateState)||""),Nn=computed({get(){return cloneDeep(y.modelValue)},set(kn){const Ln=kn??$e.value;g(UPDATE_MODEL_EVENT,Ln),g(CHANGE_EVENT,Ln),y.validateEvent&&(Ce==null||Ce.validate("change").catch(En=>void 0))}}),Dn=computed(()=>[le.b(),le.m(Sn.value),le.is("disabled",vn.value),L.class]),In=computed(()=>[ue.e("icon"),"icon-arrow-down",le.is("reverse",Ue.value)]),Fn=computed(()=>le.is("focus",Ue.value||Et.value)),Bn=computed(()=>{var kn,Ln;return(Ln=(kn=Ne.value)==null?void 0:kn.popperRef)==null?void 0:Ln.contentRef}),Mn=kn=>{var Ln,En,zn;vn.value||(kn=kn??!Ue.value,kn!==Ue.value&&(Ue.value=kn,(En=(Ln=Ie.value)==null?void 0:Ln.input)==null||En.setAttribute("aria-expanded",`${kn}`),kn?(Hn(),nextTick$1((zn=Ve.value)==null?void 0:zn.scrollToExpandingNode)):y.filterable&&rr(),g("visibleChange",kn)))},Hn=()=>{nextTick$1(()=>{var kn;(kn=Ne.value)==null||kn.updatePopper()})},Yn=()=>{kt.value=!1},qn=kn=>{const{showAllLevels:Ln,separator:En}=y;return{node:kn,key:kn.uid,text:kn.calcText(Ln,En),hitState:!1,closable:!vn.value&&!kn.isDisabled,isCollapseTag:!1}},Xn=kn=>{var Ln;const En=kn.node;En.doCheck(!1),(Ln=Ve.value)==null||Ln.calculateCheckedValue(),g("removeTag",En.valueByOption)},jn=()=>{if(!wn.value)return;const kn=xn.value,Ln=[],En=[];if(kn.forEach(zn=>En.push(qn(zn))),Lt.value=En,kn.length){kn.slice(0,y.maxCollapseTags).forEach(ir=>Ln.push(qn(ir)));const zn=kn.slice(y.maxCollapseTags),Kn=zn.length;Kn&&(y.collapseTags?Ln.push({key:-1,text:`+ ${Kn}`,closable:!1,isCollapseTag:!0}):zn.forEach(ir=>Ln.push(qn(ir))))}Dt.value=Ln},Zn=()=>{var kn,Ln;const{filterMethod:En,showAllLevels:zn,separator:Kn}=y,ir=(Ln=(kn=Ve.value)==null?void 0:kn.getFlattedNodes(!y.props.checkStrictly))==null?void 0:Ln.filter(fr=>fr.isDisabled?!1:(fr.calcText(zn,Kn),En(fr,Tn.value)));wn.value&&(Dt.value.forEach(fr=>{fr.hitState=!1}),Lt.value.forEach(fr=>{fr.hitState=!1})),kt.value=!0,hn.value=ir,Hn()},Un=()=>{var kn;let Ln;kt.value&&ze.value?Ln=ze.value.$el.querySelector(`.${le.e("suggestion-item")}`):Ln=(kn=Ve.value)==null?void 0:kn.$el.querySelector(`.${le.b("node")}[tabindex="-1"]`),Ln&&(Ln.focus(),!kt.value&&Ln.click())},Jn=()=>{var kn,Ln;const En=(kn=Ie.value)==null?void 0:kn.input,zn=Fe.value,Kn=(Ln=ze.value)==null?void 0:Ln.$el;if(!(!isClient||!En)){if(Kn){const ir=Kn.querySelector(`.${le.e("suggestion-list")}`);ir.style.minWidth=`${En.offsetWidth}px`}if(zn){const{offsetHeight:ir}=zn,fr=Dt.value.length>0?`${Math.max(ir,re)-2}px`:`${re}px`;En.style.height=fr,Hn()}}},tr=kn=>{var Ln;return(Ln=Ve.value)==null?void 0:Ln.getCheckedNodes(kn)},sr=kn=>{Hn(),g("expandChange",kn)},or=kn=>{if(!Oe.value)switch(kn.code){case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:Mn();break;case EVENT_CODE.down:Mn(!0),nextTick$1(Un),kn.preventDefault();break;case EVENT_CODE.esc:Ue.value===!0&&(kn.preventDefault(),kn.stopPropagation(),Mn(!1));break;case EVENT_CODE.tab:Mn(!1);break}},Qn=()=>{var kn;(kn=Ve.value)==null||kn.clearCheckedNodes(),!Ue.value&&y.filterable&&rr(),Mn(!1),g("clear")},rr=()=>{const{value:kn}=An;Pt.value=kn,At.value=kn},cr=kn=>{var Ln,En;const{checked:zn}=kn;wn.value?(Ln=Ve.value)==null||Ln.handleCheckChange(kn,!zn,!1):(!zn&&((En=Ve.value)==null||En.handleCheckChange(kn,!0,!1)),Mn(!1))},vr=kn=>{const Ln=kn.target,{code:En}=kn;switch(En){case EVENT_CODE.up:case EVENT_CODE.down:{const zn=En===EVENT_CODE.up?-1:1;focusNode(getSibling(Ln,zn,`.${le.e("suggestion-item")}[tabindex="-1"]`));break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:Ln.click();break}},hr=()=>{const kn=Dt.value,Ln=kn[kn.length-1];ae=At.value?0:ae+1,!(!Ln||!ae||y.collapseTags&&kn.length>1)&&(Ln.hitState?Xn(Ln):Ln.hitState=!0)},br=kn=>{const Ln=kn.target,En=le.e("search-input");Ln.className===En&&(Et.value=!0),g("focus",kn)},pr=kn=>{Et.value=!1,g("blur",kn)},Tr=debounce$2(()=>{const{value:kn}=Tn;if(!kn)return;const Ln=y.beforeFilter(kn);isPromise(Ln)?Ln.then(Zn).catch(()=>{}):Ln!==!1?Zn():Yn()},y.debounce),_r=(kn,Ln)=>{!Ue.value&&Mn(!0),!(Ln!=null&&Ln.isComposing)&&(kn?Tr():Yn())},Vn=kn=>Number.parseFloat(useCssVar(ue.cssVarName("input-height"),kn).value)-2;return watch$1(kt,Hn),watch$1([xn,vn,()=>y.collapseTags],jn),watch$1(Dt,()=>{nextTick$1(()=>Jn())}),watch$1(Sn,async()=>{await nextTick$1();const kn=Ie.value.input;re=Vn(kn)||re,Jn()}),watch$1(An,rr,{immediate:!0}),onMounted(()=>{const kn=Ie.value.input,Ln=Vn(kn);re=kn.offsetHeight||Ln,useResizeObserver(kn,Jn)}),n({getCheckedNodes:tr,cascaderPanelRef:Ve,togglePopperVisible:Mn,contentRef:Bn,presentText:An}),(kn,Ln)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:Ne,visible:Ue.value,teleported:kn.teleported,"popper-class":[unref(le).e("dropdown"),kn.popperClass],"popper-options":$,"fallback-placements":kn.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:kn.placement,transition:`${unref(le).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:kn.persistent,onHide:Yn},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(unref(Dn)),style:normalizeStyle$1(unref(_n)),onClick:()=>Mn(unref(On)?void 0:!0),onKeydown:or,onMouseenter:En=>qe.value=!0,onMouseleave:En=>qe.value=!1},[createVNode$1(unref(ElInput),{ref_key:"input",ref:Ie,modelValue:Pt.value,"onUpdate:modelValue":En=>Pt.value=En,placeholder:unref($n),readonly:unref(On),disabled:unref(vn),"validate-event":!1,size:unref(Sn),class:normalizeClass(unref(Fn)),tabindex:unref(wn)&&kn.filterable&&!unref(vn)?-1:void 0,onCompositionstart:unref(xe),onCompositionupdate:unref(xe),onCompositionend:unref(xe),onFocus:br,onBlur:pr,onInput:_r},{suffix:withCtx(()=>[unref(Pn)?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref(ue).e("icon"),"icon-circle-close"]),onClick:withModifiers(Qn,["stop"])},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onClick"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(unref(In)),onClick:withModifiers(En=>Mn(),["stop"])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),unref(wn)?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:Fe,class:normalizeClass([unref(le).e("tags"),unref(le).is("validate",!!unref(Rn))])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Dt.value,En=>(openBlock(),createBlock(unref(ElTag),{key:En.key,type:kn.tagType,size:unref(bn),effect:kn.tagEffect,hit:En.hitState,closable:En.closable,"disable-transitions":"",onClose:zn=>Xn(En)},{default:withCtx(()=>[En.isCollapseTag===!1?(openBlock(),createElementBlock("span",{key:0},toDisplayString(En.text),1)):(openBlock(),createBlock(unref(ElTooltip),{key:1,disabled:Ue.value||!kn.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(En.text),1)]),content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(le).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Lt.value.slice(kn.maxCollapseTags),(zn,Kn)=>(openBlock(),createElementBlock("div",{key:Kn,class:normalizeClass(unref(le).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:zn.key,class:"in-tooltip",type:kn.tagType,size:unref(bn),effect:kn.tagEffect,hit:zn.hitState,closable:zn.closable,"disable-transitions":"",onClose:ir=>Xn(zn)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(zn.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),kn.filterable&&!unref(vn)?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":En=>At.value=En,type:"text",class:normalizeClass(unref(le).e("search-input")),placeholder:unref(An)?"":unref(jt),onInput:En=>_r(At.value,En),onClick:withModifiers(En=>Mn(!0),["stop"]),onKeydown:withKeys(hr,["delete"]),onCompositionstart:unref(xe),onCompositionupdate:unref(xe),onCompositionend:unref(xe),onFocus:br,onBlur:pr},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[vModelText,At.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[unref(ClickOutside),()=>Mn(!1),unref(Bn)]])]),content:withCtx(()=>[withDirectives(createVNode$1(unref(ElCascaderPanel),{ref_key:"cascaderPanelRef",ref:Ve,modelValue:unref(Nn),"onUpdate:modelValue":En=>isRef(Nn)?Nn.value=En:null,options:kn.options,props:y.props,border:!1,"render-label":kn.$slots.default,onExpandChange:sr,onClose:En=>kn.$nextTick(()=>Mn(!1))},{empty:withCtx(()=>[renderSlot(kn.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[vShow,!kt.value]]),kn.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:0,ref_key:"suggestionPanel",ref:ze,tag:"ul",class:normalizeClass(unref(le).e("suggestion-panel")),"view-class":unref(le).e("suggestion-list"),onKeydown:vr},{default:withCtx(()=>[hn.value.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(hn.value,En=>(openBlock(),createElementBlock("li",{key:En.uid,class:normalizeClass([unref(le).e("suggestion-item"),unref(le).is("checked",En.checked)]),tabindex:-1,onClick:zn=>cr(En)},[createBaseVNode("span",null,toDisplayString(En.text),1),En.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[createVNode$1(unref(check_default))]),_:1})):createCommentVNode("v-if",!0)],10,["onClick"]))),128)):renderSlot(kn.$slots,"empty",{key:1},()=>[createBaseVNode("li",{class:normalizeClass(unref(le).e("empty-text"))},toDisplayString(unref(he)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vShow,kt.value]]):createCommentVNode("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var Cascader=_export_sfc(_sfc_main$3f,[["__file","cascader.vue"]]);const ElCascader=withInstall(Cascader),checkTagProps=buildProps({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),checkTagEmits={"update:checked":r=>isBoolean(r),[CHANGE_EVENT]:r=>isBoolean(r)},__default__$1k=defineComponent({name:"ElCheckTag"}),_sfc_main$3e=defineComponent({...__default__$1k,props:checkTagProps,emits:checkTagEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("check-tag"),$=computed(()=>g.disabled),L=computed(()=>[y.b(),y.is("checked",g.checked),y.is("disabled",$.value),y.m(g.type||"primary")]),re=()=>{if($.value)return;const ae=!g.checked;n(CHANGE_EVENT,ae),n("update:checked",ae)};return(ae,le)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(L)),onClick:re},[renderSlot(ae.$slots,"default")],2))}});var CheckTag=_export_sfc(_sfc_main$3e,[["__file","check-tag.vue"]]);const ElCheckTag=withInstall(CheckTag),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),rowContextKey=Symbol("rowContextKey"),__default__$1j=defineComponent({name:"ElCol"}),_sfc_main$3d=defineComponent({...__default__$1j,props:colProps,setup(r){const n=r,{gutter:g}=inject(rowContextKey,{gutter:computed(()=>0)}),y=useNamespace$1("col"),$=computed(()=>{const re={};return g.value&&(re.paddingLeft=re.paddingRight=`${g.value/2}px`),re}),L=computed(()=>{const re=[];return["span","offset","pull","push"].forEach(ue=>{const he=n[ue];isNumber$2(he)&&(ue==="span"?re.push(y.b(`${n[ue]}`)):he>0&&re.push(y.b(`${ue}-${n[ue]}`)))}),["xs","sm","md","lg","xl"].forEach(ue=>{isNumber$2(n[ue])?re.push(y.b(`${ue}-${n[ue]}`)):isObject$7(n[ue])&&Object.entries(n[ue]).forEach(([he,_e])=>{re.push(he!=="span"?y.b(`${ue}-${he}-${_e}`):y.b(`${ue}-${_e}`))})}),g.value&&re.push(y.is("guttered")),[y.b(),re]});return(re,ae)=>(openBlock(),createBlock(resolveDynamicComponent(re.tag),{class:normalizeClass(unref(L)),style:normalizeStyle$1(unref($))},{default:withCtx(()=>[renderSlot(re.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc(_sfc_main$3d,[["__file","col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=r=>isNumber$2(r)||isString$3(r)||isArray$5(r),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),useCollapse=(r,n)=>{const g=ref$1(castArray$1(r.modelValue)),y=L=>{g.value=L;const re=r.accordion?g.value[0]:g.value;n(UPDATE_MODEL_EVENT,re),n(CHANGE_EVENT,re)},$=L=>{if(r.accordion)y([g.value[0]===L?"":L]);else{const re=[...g.value],ae=re.indexOf(L);ae>-1?re.splice(ae,1):re.push(L),y(re)}};return watch$1(()=>r.modelValue,()=>g.value=castArray$1(r.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:g,handleItemClick:$}),{activeNames:g,setActiveNames:y}},useCollapseDOM=()=>{const r=useNamespace$1("collapse");return{rootKls:computed(()=>r.b())}},__default__$1i=defineComponent({name:"ElCollapse"}),_sfc_main$3c=defineComponent({...__default__$1i,props:collapseProps,emits:collapseEmits,setup(r,{expose:n,emit:g}){const y=r,{activeNames:$,setActiveNames:L}=useCollapse(y,g),{rootKls:re}=useCollapseDOM();return n({activeNames:$,setActiveNames:L}),(ae,le)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(re))},[renderSlot(ae.$slots,"default")],2))}});var Collapse=_export_sfc(_sfc_main$3c,[["__file","collapse.vue"]]);const __default__$1h=defineComponent({name:"ElCollapseTransition"}),_sfc_main$3b=defineComponent({...__default__$1h,setup(r){const n=useNamespace$1("collapse-transition"),g=$=>{$.style.maxHeight="",$.style.overflow=$.dataset.oldOverflow,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom},y={beforeEnter($){$.dataset||($.dataset={}),$.dataset.oldPaddingTop=$.style.paddingTop,$.dataset.oldPaddingBottom=$.style.paddingBottom,$.style.height&&($.dataset.elExistsHeight=$.style.height),$.style.maxHeight=0,$.style.paddingTop=0,$.style.paddingBottom=0},enter($){requestAnimationFrame(()=>{$.dataset.oldOverflow=$.style.overflow,$.dataset.elExistsHeight?$.style.maxHeight=$.dataset.elExistsHeight:$.scrollHeight!==0?$.style.maxHeight=`${$.scrollHeight}px`:$.style.maxHeight=0,$.style.paddingTop=$.dataset.oldPaddingTop,$.style.paddingBottom=$.dataset.oldPaddingBottom,$.style.overflow="hidden"})},afterEnter($){$.style.maxHeight="",$.style.overflow=$.dataset.oldOverflow},enterCancelled($){g($)},beforeLeave($){$.dataset||($.dataset={}),$.dataset.oldPaddingTop=$.style.paddingTop,$.dataset.oldPaddingBottom=$.style.paddingBottom,$.dataset.oldOverflow=$.style.overflow,$.style.maxHeight=`${$.scrollHeight}px`,$.style.overflow="hidden"},leave($){$.scrollHeight!==0&&($.style.maxHeight=0,$.style.paddingTop=0,$.style.paddingBottom=0)},afterLeave($){g($)},leaveCancelled($){g($)}};return($,L)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(n).b()},toHandlers(y)),{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition$1=_export_sfc(_sfc_main$3b,[["__file","collapse-transition.vue"]]);const ElCollapseTransition=withInstall(CollapseTransition$1),collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:void 0},icon:{type:iconPropType,default:arrow_right_default},disabled:Boolean}),useCollapseItem=r=>{const n=inject(collapseContextKey),{namespace:g}=useNamespace$1("collapse"),y=ref$1(!1),$=ref$1(!1),L=useIdInjection(),re=computed(()=>L.current++),ae=computed(()=>{var Ce;return(Ce=r.name)!=null?Ce:`${g.value}-id-${L.prefix}-${unref(re)}`}),le=computed(()=>n==null?void 0:n.activeNames.value.includes(unref(ae)));return{focusing:y,id:re,isActive:le,handleFocus:()=>{setTimeout(()=>{$.value?$.value=!1:y.value=!0},50)},handleHeaderClick:()=>{r.disabled||(n==null||n.handleItemClick(unref(ae)),y.value=!1,$.value=!0)},handleEnterClick:()=>{n==null||n.handleItemClick(unref(ae))}}},useCollapseItemDOM=(r,{focusing:n,isActive:g,id:y})=>{const $=useNamespace$1("collapse"),L=computed(()=>[$.b("item"),$.is("active",unref(g)),$.is("disabled",r.disabled)]),re=computed(()=>[$.be("item","header"),$.is("active",unref(g)),{focusing:unref(n)&&!r.disabled}]),ae=computed(()=>[$.be("item","arrow"),$.is("active",unref(g))]),le=computed(()=>$.be("item","wrap")),ue=computed(()=>$.be("item","content")),he=computed(()=>$.b(`content-${unref(y)}`)),_e=computed(()=>$.b(`head-${unref(y)}`));return{arrowKls:ae,headKls:re,rootKls:L,itemWrapperKls:le,itemContentKls:ue,scopedContentId:he,scopedHeadId:_e}},__default__$1g=defineComponent({name:"ElCollapseItem"}),_sfc_main$3a=defineComponent({...__default__$1g,props:collapseItemProps,setup(r,{expose:n}){const g=r,{focusing:y,id:$,isActive:L,handleFocus:re,handleHeaderClick:ae,handleEnterClick:le}=useCollapseItem(g),{arrowKls:ue,headKls:he,rootKls:_e,itemWrapperKls:Ce,itemContentKls:$e,scopedContentId:Oe,scopedHeadId:xe}=useCollapseItemDOM(g,{focusing:y,isActive:L,id:$});return n({isActive:L}),(Ne,Ie)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(_e))},[createBaseVNode("button",{id:unref(xe),class:normalizeClass(unref(he)),"aria-expanded":unref(L),"aria-controls":unref(Oe),"aria-describedby":unref(Oe),tabindex:Ne.disabled?-1:0,type:"button",onClick:unref(ae),onKeydown:withKeys(withModifiers(unref(le),["stop","prevent"]),["space","enter"]),onFocus:unref(re),onBlur:Fe=>y.value=!1},[renderSlot(Ne.$slots,"title",{},()=>[createTextVNode(toDisplayString(Ne.title),1)]),renderSlot(Ne.$slots,"icon",{isActive:unref(L)},()=>[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(ue))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ne.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),createVNode$1(unref(ElCollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(Oe),role:"region",class:normalizeClass(unref(Ce)),"aria-hidden":!unref(L),"aria-labelledby":unref(xe)},[createBaseVNode("div",{class:normalizeClass(unref($e))},[renderSlot(Ne.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[vShow,unref(L)]])]),_:3})],2))}});var CollapseItem=_export_sfc(_sfc_main$3a,[["__file","collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(r,n){if(!isClient)return;const g=function(L){var re;(re=n.drag)==null||re.call(n,L)},y=function(L){var re;document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",y),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(re=n.end)==null||re.call(n,L)},$=function(L){var re;isDragging||(L.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),document.addEventListener("touchmove",g),document.addEventListener("touchend",y),isDragging=!0,(re=n.start)==null||re.call(n,L))};r.addEventListener("mousedown",$),r.addEventListener("touchstart",$,{passive:!1})}const isInContainer=(r,n)=>{if(!isClient||!r||!n)return!1;const g=r.getBoundingClientRect();let y;return n instanceof Element?y=n.getBoundingClientRect():y={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},g.top<y.bottom&&g.bottom>y.top&&g.right>y.left&&g.left<y.right},getOffsetTop=r=>{let n=0,g=r;for(;g;)n+=g.offsetTop,g=g.offsetParent;return n},getOffsetTopDistance=(r,n)=>Math.abs(getOffsetTop(r)-getOffsetTop(n)),getClientXY=r=>{let n,g;return r.type==="touchend"?(g=r.changedTouches[0].clientY,n=r.changedTouches[0].clientX):r.type.startsWith("touch")?(g=r.touches[0].clientY,n=r.touches[0].clientX):(g=r.clientY,n=r.clientX),{clientX:n,clientY:g}},useAlphaSlider=r=>{const n=getCurrentInstance(),{t:g}=useLocale(),y=shallowRef(),$=shallowRef(),L=computed(()=>r.color.get("alpha")),re=computed(()=>g("el.colorpicker.alphaLabel"));function ae(_e){var Ce;_e.target!==y.value&&le(_e),(Ce=y.value)==null||Ce.focus()}function le(_e){if(!$.value||!y.value)return;const $e=n.vnode.el.getBoundingClientRect(),{clientX:Oe,clientY:xe}=getClientXY(_e);if(r.vertical){let Ne=xe-$e.top;Ne=Math.max(y.value.offsetHeight/2,Ne),Ne=Math.min(Ne,$e.height-y.value.offsetHeight/2),r.color.set("alpha",Math.round((Ne-y.value.offsetHeight/2)/($e.height-y.value.offsetHeight)*100))}else{let Ne=Oe-$e.left;Ne=Math.max(y.value.offsetWidth/2,Ne),Ne=Math.min(Ne,$e.width-y.value.offsetWidth/2),r.color.set("alpha",Math.round((Ne-y.value.offsetWidth/2)/($e.width-y.value.offsetWidth)*100))}}function ue(_e){const{code:Ce,shiftKey:$e}=_e,Oe=$e?10:1;switch(Ce){case EVENT_CODE.left:case EVENT_CODE.down:_e.preventDefault(),_e.stopPropagation(),he(-Oe);break;case EVENT_CODE.right:case EVENT_CODE.up:_e.preventDefault(),_e.stopPropagation(),he(Oe);break}}function he(_e){let Ce=L.value+_e;Ce=Ce<0?0:Ce>100?100:Ce,r.color.set("alpha",Ce)}return{thumb:y,bar:$,alpha:L,alphaLabel:re,handleDrag:le,handleClick:ae,handleKeydown:ue}},useAlphaSliderDOM=(r,{bar:n,thumb:g,handleDrag:y})=>{const $=getCurrentInstance(),L=useNamespace$1("color-alpha-slider"),re=ref$1(0),ae=ref$1(0),le=ref$1();function ue(){if(!g.value||r.vertical)return 0;const Fe=$.vnode.el,Ve=r.color.get("alpha");return Fe?Math.round(Ve*(Fe.offsetWidth-g.value.offsetWidth/2)/100):0}function he(){if(!g.value)return 0;const Fe=$.vnode.el;if(!r.vertical)return 0;const Ve=r.color.get("alpha");return Fe?Math.round(Ve*(Fe.offsetHeight-g.value.offsetHeight/2)/100):0}function _e(){if(r.color&&r.color.value){const{r:Fe,g:Ve,b:ze}=r.color.toRgb();return`linear-gradient(to right, rgba(${Fe}, ${Ve}, ${ze}, 0) 0%, rgba(${Fe}, ${Ve}, ${ze}, 1) 100%)`}return""}function Ce(){re.value=ue(),ae.value=he(),le.value=_e()}onMounted(()=>{if(!n.value||!g.value)return;const Fe={drag:Ve=>{y(Ve)},end:Ve=>{y(Ve)}};draggable(n.value,Fe),draggable(g.value,Fe),Ce()}),watch$1(()=>r.color.get("alpha"),()=>Ce()),watch$1(()=>r.color.value,()=>Ce());const $e=computed(()=>[L.b(),L.is("vertical",r.vertical)]),Oe=computed(()=>L.e("bar")),xe=computed(()=>L.e("thumb")),Ne=computed(()=>({background:le.value})),Ie=computed(()=>({left:addUnit(re.value),top:addUnit(ae.value)}));return{rootKls:$e,barKls:Oe,barStyle:Ne,thumbKls:xe,thumbStyle:Ie,update:Ce}},COMPONENT_NAME$f="ElColorAlphaSlider",__default__$1f=defineComponent({name:COMPONENT_NAME$f}),_sfc_main$39=defineComponent({...__default__$1f,props:alphaSliderProps,setup(r,{expose:n}){const g=r,{alpha:y,alphaLabel:$,bar:L,thumb:re,handleDrag:ae,handleClick:le,handleKeydown:ue}=useAlphaSlider(g),{rootKls:he,barKls:_e,barStyle:Ce,thumbKls:$e,thumbStyle:Oe,update:xe}=useAlphaSliderDOM(g,{bar:L,thumb:re,handleDrag:ae});return n({update:xe,bar:L,thumb:re}),(Ne,Ie)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(he))},[createBaseVNode("div",{ref_key:"bar",ref:L,class:normalizeClass(unref(_e)),style:normalizeStyle$1(unref(Ce)),onClick:unref(le)},null,14,["onClick"]),createBaseVNode("div",{ref_key:"thumb",ref:re,class:normalizeClass(unref($e)),style:normalizeStyle$1(unref(Oe)),"aria-label":unref($),"aria-valuenow":unref(y),"aria-orientation":Ne.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:unref(ue)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var AlphaSlider=_export_sfc(_sfc_main$39,[["__file","alpha-slider.vue"]]);const _sfc_main$38=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(r){const n=useNamespace$1("color-hue-slider"),g=getCurrentInstance(),y=ref$1(),$=ref$1(),L=ref$1(0),re=ref$1(0),ae=computed(()=>r.color.get("hue"));watch$1(()=>ae.value,()=>{Ce()});function le($e){$e.target!==y.value&&ue($e)}function ue($e){if(!$.value||!y.value)return;const xe=g.vnode.el.getBoundingClientRect(),{clientX:Ne,clientY:Ie}=getClientXY($e);let Fe;if(r.vertical){let Ve=Ie-xe.top;Ve=Math.min(Ve,xe.height-y.value.offsetHeight/2),Ve=Math.max(y.value.offsetHeight/2,Ve),Fe=Math.round((Ve-y.value.offsetHeight/2)/(xe.height-y.value.offsetHeight)*360)}else{let Ve=Ne-xe.left;Ve=Math.min(Ve,xe.width-y.value.offsetWidth/2),Ve=Math.max(y.value.offsetWidth/2,Ve),Fe=Math.round((Ve-y.value.offsetWidth/2)/(xe.width-y.value.offsetWidth)*360)}r.color.set("hue",Fe)}function he(){if(!y.value)return 0;const $e=g.vnode.el;if(r.vertical)return 0;const Oe=r.color.get("hue");return $e?Math.round(Oe*($e.offsetWidth-y.value.offsetWidth/2)/360):0}function _e(){if(!y.value)return 0;const $e=g.vnode.el;if(!r.vertical)return 0;const Oe=r.color.get("hue");return $e?Math.round(Oe*($e.offsetHeight-y.value.offsetHeight/2)/360):0}function Ce(){L.value=he(),re.value=_e()}return onMounted(()=>{if(!$.value||!y.value)return;const $e={drag:Oe=>{ue(Oe)},end:Oe=>{ue(Oe)}};draggable($.value,$e),draggable(y.value,$e),Ce()}),{bar:$,thumb:y,thumbLeft:L,thumbTop:re,hueValue:ae,handleClick:le,update:Ce,ns:n}}});function _sfc_render$F(r,n,g,y,$,L){return openBlock(),createElementBlock("div",{class:normalizeClass([r.ns.b(),r.ns.is("vertical",r.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(r.ns.e("bar")),onClick:r.handleClick},null,10,["onClick"]),createBaseVNode("div",{ref:"thumb",class:normalizeClass(r.ns.e("thumb")),style:normalizeStyle$1({left:r.thumbLeft+"px",top:r.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc(_sfc_main$38,[["render",_sfc_render$F],["__file","hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:useTooltipContentProps.teleported,predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),colorPickerEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r)||isNil(r),[CHANGE_EVENT]:r=>isString$3(r)||isNil(r),activeChange:r=>isString$3(r)||isNil(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent},colorPickerContextKey=Symbol("colorPickerContextKey"),hsv2hsl=function(r,n,g){return[r,n*g/((r=(2-n)*g)<1?r:2-r)||0,r/2]},isOnePointZero=function(r){return isString$3(r)&&r.includes(".")&&Number.parseFloat(r)===1},isPercentage=function(r){return isString$3(r)&&r.includes("%")},bound01=function(r,n){isOnePointZero(r)&&(r="100%");const g=isPercentage(r);return r=Math.min(n,Math.max(0,Number.parseFloat(`${r}`))),g&&(r=Number.parseInt(`${r*n}`,10)/100),Math.abs(r-n)<1e-6?1:r%n/Number.parseFloat(n)},INT_HEX_MAP={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},hexOne=r=>{r=Math.min(Math.round(r),255);const n=Math.floor(r/16),g=r%16;return`${INT_HEX_MAP[n]||n}${INT_HEX_MAP[g]||g}`},toHex$1=function({r,g:n,b:g}){return Number.isNaN(+r)||Number.isNaN(+n)||Number.isNaN(+g)?"":`#${hexOne(r)}${hexOne(n)}${hexOne(g)}`},HEX_INT_MAP={A:10,B:11,C:12,D:13,E:14,F:15},parseHexChannel=function(r){return r.length===2?(HEX_INT_MAP[r[0].toUpperCase()]||+r[0])*16+(HEX_INT_MAP[r[1].toUpperCase()]||+r[1]):HEX_INT_MAP[r[1].toUpperCase()]||+r[1]},hsl2hsv=function(r,n,g){n=n/100,g=g/100;let y=n;const $=Math.max(g,.01);g*=2,n*=g<=1?g:2-g,y*=$<=1?$:2-$;const L=(g+n)/2,re=g===0?2*y/($+y):2*n/(g+n);return{h:r,s:re*100,v:L*100}},rgb2hsv=(r,n,g)=>{r=bound01(r,255),n=bound01(n,255),g=bound01(g,255);const y=Math.max(r,n,g),$=Math.min(r,n,g);let L;const re=y,ae=y-$,le=y===0?0:ae/y;if(y===$)L=0;else{switch(y){case r:{L=(n-g)/ae+(n<g?6:0);break}case n:{L=(g-r)/ae+2;break}case g:{L=(r-n)/ae+4;break}}L/=6}return{h:L*360,s:le*100,v:re*100}},hsv2rgb=function(r,n,g){r=bound01(r,360)*6,n=bound01(n,100),g=bound01(g,100);const y=Math.floor(r),$=r-y,L=g*(1-n),re=g*(1-$*n),ae=g*(1-(1-$)*n),le=y%6,ue=[g,re,L,L,ae,g][le],he=[ae,g,g,re,L,L][le],_e=[L,L,ae,g,g,re][le];return{r:Math.round(ue*255),g:Math.round(he*255),b:Math.round(_e*255)}};class Color{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const g in n)hasOwn$1(n,g)&&(this[g]=n[g]);n.value?this.fromString(n.value):this.doOnChange()}set(n,g){if(arguments.length===1&&typeof n=="object"){for(const y in n)hasOwn$1(n,y)&&this.set(y,n[y]);return}this[`_${n}`]=g,this.doOnChange()}get(n){return n==="alpha"?Math.floor(this[`_${n}`]):this[`_${n}`]}toRgb(){return hsv2rgb(this._hue,this._saturation,this._value)}fromString(n){if(!n){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const g=(y,$,L)=>{this._hue=Math.max(0,Math.min(360,y)),this._saturation=Math.max(0,Math.min(100,$)),this._value=Math.max(0,Math.min(100,L)),this.doOnChange()};if(n.includes("hsl")){const y=n.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter($=>$!=="").map(($,L)=>L>2?Number.parseFloat($):Number.parseInt($,10));if(y.length===4?this._alpha=Number.parseFloat(y[3])*100:y.length===3&&(this._alpha=100),y.length>=3){const{h:$,s:L,v:re}=hsl2hsv(y[0],y[1],y[2]);g($,L,re)}}else if(n.includes("hsv")){const y=n.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter($=>$!=="").map(($,L)=>L>2?Number.parseFloat($):Number.parseInt($,10));y.length===4?this._alpha=Number.parseFloat(y[3])*100:y.length===3&&(this._alpha=100),y.length>=3&&g(y[0],y[1],y[2])}else if(n.includes("rgb")){const y=n.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter($=>$!=="").map(($,L)=>L>2?Number.parseFloat($):Number.parseInt($,10));if(y.length===4?this._alpha=Number.parseFloat(y[3])*100:y.length===3&&(this._alpha=100),y.length>=3){const{h:$,s:L,v:re}=rgb2hsv(y[0],y[1],y[2]);g($,L,re)}}else if(n.includes("#")){const y=n.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(y))return;let $,L,re;y.length===3?($=parseHexChannel(y[0]+y[0]),L=parseHexChannel(y[1]+y[1]),re=parseHexChannel(y[2]+y[2])):(y.length===6||y.length===8)&&($=parseHexChannel(y.slice(0,2)),L=parseHexChannel(y.slice(2,4)),re=parseHexChannel(y.slice(4,6))),y.length===8?this._alpha=parseHexChannel(y.slice(6))/255*100:(y.length===3||y.length===6)&&(this._alpha=100);const{h:ae,s:le,v:ue}=rgb2hsv($,L,re);g(ae,le,ue)}}compare(n){return Math.abs(n._hue-this._hue)<2&&Math.abs(n._saturation-this._saturation)<1&&Math.abs(n._value-this._value)<1&&Math.abs(n._alpha-this._alpha)<1}doOnChange(){const{_hue:n,_saturation:g,_value:y,_alpha:$,format:L}=this;if(this.enableAlpha)switch(L){case"hsl":{const re=hsv2hsl(n,g/100,y/100);this.value=`hsla(${n}, ${Math.round(re[1]*100)}%, ${Math.round(re[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${n}, ${Math.round(g)}%, ${Math.round(y)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${toHex$1(hsv2rgb(n,g,y))}${hexOne($*255/100)}`;break}default:{const{r:re,g:ae,b:le}=hsv2rgb(n,g,y);this.value=`rgba(${re}, ${ae}, ${le}, ${this.get("alpha")/100})`}}else switch(L){case"hsl":{const re=hsv2hsl(n,g/100,y/100);this.value=`hsl(${n}, ${Math.round(re[1]*100)}%, ${Math.round(re[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${n}, ${Math.round(g)}%, ${Math.round(y)}%)`;break}case"rgb":{const{r:re,g:ae,b:le}=hsv2rgb(n,g,y);this.value=`rgb(${re}, ${ae}, ${le})`;break}default:this.value=toHex$1(hsv2rgb(n,g,y))}}}const _sfc_main$37=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(r){const n=useNamespace$1("color-predefine"),{currentColor:g}=inject(colorPickerContextKey),y=ref$1(L(r.colors,r.color));watch$1(()=>g.value,re=>{const ae=new Color;ae.fromString(re),y.value.forEach(le=>{le.selected=ae.compare(le)})}),watchEffect(()=>{y.value=L(r.colors,r.color)});function $(re){r.color.fromString(r.colors[re])}function L(re,ae){return re.map(le=>{const ue=new Color;return ue.enableAlpha=r.enableAlpha,ue.format="rgba",ue.fromString(le),ue.selected=ue.value===ae.value,ue})}return{rgbaColors:y,handleSelect:$,ns:n}}});function _sfc_render$E(r,n,g,y,$,L){return openBlock(),createElementBlock("div",{class:normalizeClass(r.ns.b())},[createBaseVNode("div",{class:normalizeClass(r.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.rgbaColors,(re,ae)=>(openBlock(),createElementBlock("div",{key:r.colors[ae],class:normalizeClass([r.ns.e("color-selector"),r.ns.is("alpha",re._alpha<100),{selected:re.selected}]),onClick:le=>r.handleSelect(ae)},[createBaseVNode("div",{style:normalizeStyle$1({backgroundColor:re.value})},null,4)],10,["onClick"]))),128))],2)],2)}var Predefine=_export_sfc(_sfc_main$37,[["render",_sfc_render$E],["__file","predefine.vue"]]);const _sfc_main$36=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(r){const n=useNamespace$1("color-svpanel"),g=getCurrentInstance(),y=ref$1(0),$=ref$1(0),L=ref$1("hsl(0, 100%, 50%)"),re=computed(()=>{const ue=r.color.get("hue"),he=r.color.get("value");return{hue:ue,value:he}});function ae(){const ue=r.color.get("saturation"),he=r.color.get("value"),_e=g.vnode.el,{clientWidth:Ce,clientHeight:$e}=_e;$.value=ue*Ce/100,y.value=(100-he)*$e/100,L.value=`hsl(${r.color.get("hue")}, 100%, 50%)`}function le(ue){const _e=g.vnode.el.getBoundingClientRect(),{clientX:Ce,clientY:$e}=getClientXY(ue);let Oe=Ce-_e.left,xe=$e-_e.top;Oe=Math.max(0,Oe),Oe=Math.min(Oe,_e.width),xe=Math.max(0,xe),xe=Math.min(xe,_e.height),$.value=Oe,y.value=xe,r.color.set({saturation:Oe/_e.width*100,value:100-xe/_e.height*100})}return watch$1(()=>re.value,()=>{ae()}),onMounted(()=>{draggable(g.vnode.el,{drag:ue=>{le(ue)},end:ue=>{le(ue)}}),ae()}),{cursorTop:y,cursorLeft:$,background:L,colorValue:re,handleDrag:le,update:ae,ns:n}}});function _sfc_render$D(r,n,g,y,$,L){return openBlock(),createElementBlock("div",{class:normalizeClass(r.ns.b()),style:normalizeStyle$1({backgroundColor:r.background})},[createBaseVNode("div",{class:normalizeClass(r.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(r.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(r.ns.e("cursor")),style:normalizeStyle$1({top:r.cursorTop+"px",left:r.cursorLeft+"px"})},[createBaseVNode("div")],6)],6)}var SvPanel=_export_sfc(_sfc_main$36,[["render",_sfc_render$D],["__file","sv-panel.vue"]]);const __default__$1e=defineComponent({name:"ElColorPicker"}),_sfc_main$35=defineComponent({...__default__$1e,props:colorPickerProps,emits:colorPickerEmits,setup(r,{expose:n,emit:g}){const y=r,{t:$}=useLocale(),L=useNamespace$1("color"),{formItem:re}=useFormItem(),ae=useFormSize(),le=useFormDisabled(),{inputId:ue,isLabeledByFormItem:he}=useFormItemInputId(y,{formItemContext:re}),_e=ref$1(),Ce=ref$1(),$e=ref$1(),Oe=ref$1(),xe=ref$1(),Ne=ref$1(),{isFocused:Ie,handleFocus:Fe,handleBlur:Ve}=useFocusController(xe,{beforeFocus(){return le.value},beforeBlur(In){var Fn;return(Fn=Oe.value)==null?void 0:Fn.isFocusInsideContent(In)},afterBlur(){vn(!1),bn()}});let ze=!0;const Ue=reactive(new Color({enableAlpha:y.showAlpha,format:y.colorFormat||"",value:y.modelValue})),qe=ref$1(!1),kt=ref$1(!1),Et=ref$1(""),Pt=computed(()=>!y.modelValue&&!kt.value?"transparent":_n(Ue,y.showAlpha)),At=computed(()=>!y.modelValue&&!kt.value?"":Ue.value),Dt=computed(()=>he.value?void 0:y.ariaLabel||$("el.colorpicker.defaultLabel")),Lt=computed(()=>he.value?re==null?void 0:re.labelId:void 0),hn=computed(()=>[L.b("picker"),L.is("disabled",le.value),L.bm("picker",ae.value),L.is("focused",Ie.value)]);function _n(In,Fn){if(!(In instanceof Color))throw new TypeError("color should be instance of _color Class");const{r:Bn,g:Mn,b:Hn}=In.toRgb();return Fn?`rgba(${Bn}, ${Mn}, ${Hn}, ${In.get("alpha")/100})`:`rgb(${Bn}, ${Mn}, ${Hn})`}function vn(In){qe.value=In}const jt=debounce$2(vn,100,{leading:!0});function $n(){le.value||vn(!0)}function Sn(){jt(!1),bn()}function bn(){nextTick$1(()=>{y.modelValue?Ue.fromString(y.modelValue):(Ue.value="",nextTick$1(()=>{kt.value=!1}))})}function wn(){le.value||(qe.value&&bn(),jt(!qe.value))}function On(){Ue.fromString(Et.value)}function Tn(){const In=Ue.value;g(UPDATE_MODEL_EVENT,In),g("change",In),y.validateEvent&&(re==null||re.validate("change").catch(Fn=>void 0)),jt(!1),nextTick$1(()=>{const Fn=new Color({enableAlpha:y.showAlpha,format:y.colorFormat||"",value:y.modelValue});Ue.compare(Fn)||bn()})}function xn(){jt(!1),g(UPDATE_MODEL_EVENT,null),g("change",null),y.modelValue!==null&&y.validateEvent&&(re==null||re.validate("change").catch(In=>void 0)),bn()}function Pn(){qe.value&&(Sn(),Ie.value&&Nn())}function An(In){In.preventDefault(),In.stopPropagation(),vn(!1),bn()}function Rn(In){switch(In.code){case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:In.preventDefault(),In.stopPropagation(),$n(),Ne.value.focus();break;case EVENT_CODE.esc:An(In);break}}function Nn(){xe.value.focus()}function Dn(){xe.value.blur()}return onMounted(()=>{y.modelValue&&(Et.value=At.value)}),watch$1(()=>y.modelValue,In=>{In?In&&In!==Ue.value&&(ze=!1,Ue.fromString(In)):kt.value=!1}),watch$1(()=>[y.colorFormat,y.showAlpha],()=>{Ue.enableAlpha=y.showAlpha,Ue.format=y.colorFormat||Ue.format,Ue.doOnChange(),g(UPDATE_MODEL_EVENT,Ue.value)}),watch$1(()=>At.value,In=>{Et.value=In,ze&&g("activeChange",In),ze=!0}),watch$1(()=>Ue.value,()=>{!y.modelValue&&!kt.value&&(kt.value=!0)}),watch$1(()=>qe.value,()=>{nextTick$1(()=>{var In,Fn,Bn;(In=_e.value)==null||In.update(),(Fn=Ce.value)==null||Fn.update(),(Bn=$e.value)==null||Bn.update()})}),provide(colorPickerContextKey,{currentColor:At}),n({color:Ue,show:$n,hide:Sn,focus:Nn,blur:Dn}),(In,Fn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:Oe,visible:qe.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref(L).be("picker","panel"),unref(L).b("dropdown"),In.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:In.teleported,transition:`${unref(L).namespace.value}-zoom-in-top`,persistent:"",onHide:Bn=>vn(!1)},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{onKeydown:withKeys(An,["esc"])},[createBaseVNode("div",{class:normalizeClass(unref(L).be("dropdown","main-wrapper"))},[createVNode$1(HueSlider,{ref_key:"hue",ref:_e,class:"hue-slider",color:unref(Ue),vertical:""},null,8,["color"]),createVNode$1(SvPanel,{ref_key:"sv",ref:Ce,color:unref(Ue)},null,8,["color"])],2),In.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:$e,color:unref(Ue)},null,8,["color"])):createCommentVNode("v-if",!0),In.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine","enable-alpha":In.showAlpha,color:unref(Ue),colors:In.predefine},null,8,["enable-alpha","color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(L).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref(L).be("dropdown","value"))},[createVNode$1(unref(ElInput),{ref_key:"inputRef",ref:Ne,modelValue:Et.value,"onUpdate:modelValue":Bn=>Et.value=Bn,"validate-event":!1,size:"small",onKeyup:withKeys(On,["enter"]),onBlur:On},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),createVNode$1(unref(ElButton),{class:normalizeClass(unref(L).be("dropdown","link-btn")),text:"",size:"small",onClick:xn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(L).be("dropdown","btn")),onClick:Tn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref($)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[unref(ClickOutside),Pn,xe.value]])]),default:withCtx(()=>[createBaseVNode("div",mergeProps({id:unref(ue),ref_key:"triggerRef",ref:xe},In.$attrs,{class:unref(hn),role:"button","aria-label":unref(Dt),"aria-labelledby":unref(Lt),"aria-description":unref($)("el.colorpicker.description",{color:In.modelValue||""}),"aria-disabled":unref(le),tabindex:unref(le)?-1:In.tabindex,onKeydown:Rn,onFocus:unref(Fe),onBlur:unref(Ve)}),[unref(le)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).be("picker","mask"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(L).be("picker","trigger")),onClick:wn},[createBaseVNode("span",{class:normalizeClass([unref(L).be("picker","color"),unref(L).is("alpha",In.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref(L).be("picker","color-inner")),style:normalizeStyle$1({backgroundColor:unref(Pt)})},[withDirectives(createVNode$1(unref(ElIcon),{class:normalizeClass([unref(L).be("picker","icon"),unref(L).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,In.modelValue||kt.value]]),withDirectives(createVNode$1(unref(ElIcon),{class:normalizeClass([unref(L).be("picker","empty"),unref(L).is("icon-close")])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"]),[[vShow,!In.modelValue&&!kt.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var ColorPicker=_export_sfc(_sfc_main$35,[["__file","color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"},...useEmptyValuesProps}),messageConfig={},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(r,{slots:n}){watch$1(()=>r.message,y=>{Object.assign(messageConfig,y??{})},{immediate:!0,deep:!0});const g=provideGlobalConfig(r);return()=>renderSlot(n,"default",{config:g==null?void 0:g.value})}}),ElConfigProvider=withInstall(ConfigProvider),__default__$1d=defineComponent({name:"ElContainer"}),_sfc_main$34=defineComponent({...__default__$1d,props:{direction:{type:String}},setup(r){const n=r,g=useSlots(),y=useNamespace$1("container"),$=computed(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:g&&g.default?g.default().some(re=>{const ae=re.type.name;return ae==="ElHeader"||ae==="ElFooter"}):!1);return(L,re)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(y).b(),unref(y).is("vertical",unref($))])},[renderSlot(L.$slots,"default")],2))}});var Container=_export_sfc(_sfc_main$34,[["__file","container.vue"]]);const __default__$1c=defineComponent({name:"ElAside"}),_sfc_main$33=defineComponent({...__default__$1c,props:{width:{type:String,default:null}},setup(r){const n=r,g=useNamespace$1("aside"),y=computed(()=>n.width?g.cssVarBlock({width:n.width}):{});return($,L)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(g).b()),style:normalizeStyle$1(unref(y))},[renderSlot($.$slots,"default")],6))}});var Aside=_export_sfc(_sfc_main$33,[["__file","aside.vue"]]);const __default__$1b=defineComponent({name:"ElFooter"}),_sfc_main$32=defineComponent({...__default__$1b,props:{height:{type:String,default:null}},setup(r){const n=r,g=useNamespace$1("footer"),y=computed(()=>n.height?g.cssVarBlock({height:n.height}):{});return($,L)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(g).b()),style:normalizeStyle$1(unref(y))},[renderSlot($.$slots,"default")],6))}});var Footer$2=_export_sfc(_sfc_main$32,[["__file","footer.vue"]]);const __default__$1a=defineComponent({name:"ElHeader"}),_sfc_main$31=defineComponent({...__default__$1a,props:{height:{type:String,default:null}},setup(r){const n=r,g=useNamespace$1("header"),y=computed(()=>n.height?g.cssVarBlock({height:n.height}):{});return($,L)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(g).b()),style:normalizeStyle$1(unref(y))},[renderSlot($.$slots,"default")],6))}});var Header$2=_export_sfc(_sfc_main$31,[["__file","header.vue"]]);const __default__$19=defineComponent({name:"ElMain"}),_sfc_main$30=defineComponent({...__default__$19,setup(r){const n=useNamespace$1("main");return(g,y)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(n).b())},[renderSlot(g.$slots,"default")],2))}});var Main=_export_sfc(_sfc_main$30,[["__file","main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer:Footer$2,Header:Header$2,Main}),ElAside=withNoopInstall(Aside),ElFooter=withNoopInstall(Footer$2),ElHeader=withNoopInstall(Header$2),ElMain=withNoopInstall(Main);var customParseFormat$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){var g={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},y=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,$=/\d/,L=/\d\d/,re=/\d\d?/,ae=/\d*[^-_:/,()\s\d]+/,le={},ue=function(Ne){return(Ne=+Ne)+(Ne>68?1900:2e3)},he=function(Ne){return function(Ie){this[Ne]=+Ie}},_e=[/[+-]\d\d:?(\d\d)?|Z/,function(Ne){(this.zone||(this.zone={})).offset=function(Ie){if(!Ie||Ie==="Z")return 0;var Fe=Ie.match(/([+-]|\d\d)/g),Ve=60*Fe[1]+(+Fe[2]||0);return Ve===0?0:Fe[0]==="+"?-Ve:Ve}(Ne)}],Ce=function(Ne){var Ie=le[Ne];return Ie&&(Ie.indexOf?Ie:Ie.s.concat(Ie.f))},$e=function(Ne,Ie){var Fe,Ve=le.meridiem;if(Ve){for(var ze=1;ze<=24;ze+=1)if(Ne.indexOf(Ve(ze,0,Ie))>-1){Fe=ze>12;break}}else Fe=Ne===(Ie?"pm":"PM");return Fe},Oe={A:[ae,function(Ne){this.afternoon=$e(Ne,!1)}],a:[ae,function(Ne){this.afternoon=$e(Ne,!0)}],Q:[$,function(Ne){this.month=3*(Ne-1)+1}],S:[$,function(Ne){this.milliseconds=100*+Ne}],SS:[L,function(Ne){this.milliseconds=10*+Ne}],SSS:[/\d{3}/,function(Ne){this.milliseconds=+Ne}],s:[re,he("seconds")],ss:[re,he("seconds")],m:[re,he("minutes")],mm:[re,he("minutes")],H:[re,he("hours")],h:[re,he("hours")],HH:[re,he("hours")],hh:[re,he("hours")],D:[re,he("day")],DD:[L,he("day")],Do:[ae,function(Ne){var Ie=le.ordinal,Fe=Ne.match(/\d+/);if(this.day=Fe[0],Ie)for(var Ve=1;Ve<=31;Ve+=1)Ie(Ve).replace(/\[|\]/g,"")===Ne&&(this.day=Ve)}],w:[re,he("week")],ww:[L,he("week")],M:[re,he("month")],MM:[L,he("month")],MMM:[ae,function(Ne){var Ie=Ce("months"),Fe=(Ce("monthsShort")||Ie.map(function(Ve){return Ve.slice(0,3)})).indexOf(Ne)+1;if(Fe<1)throw new Error;this.month=Fe%12||Fe}],MMMM:[ae,function(Ne){var Ie=Ce("months").indexOf(Ne)+1;if(Ie<1)throw new Error;this.month=Ie%12||Ie}],Y:[/[+-]?\d+/,he("year")],YY:[L,function(Ne){this.year=ue(Ne)}],YYYY:[/\d{4}/,he("year")],Z:_e,ZZ:_e};function xe(Ne){var Ie,Fe;Ie=Ne,Fe=le&&le.formats;for(var Ve=(Ne=Ie.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(At,Dt,Lt){var hn=Lt&&Lt.toUpperCase();return Dt||Fe[Lt]||g[Lt]||Fe[hn].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_n,vn,jt){return vn||jt.slice(1)})})).match(y),ze=Ve.length,Ue=0;Ue<ze;Ue+=1){var qe=Ve[Ue],kt=Oe[qe],Et=kt&&kt[0],Pt=kt&&kt[1];Ve[Ue]=Pt?{regex:Et,parser:Pt}:qe.replace(/^\[|\]$/g,"")}return function(At){for(var Dt={},Lt=0,hn=0;Lt<ze;Lt+=1){var _n=Ve[Lt];if(typeof _n=="string")hn+=_n.length;else{var vn=_n.regex,jt=_n.parser,$n=At.slice(hn),Sn=vn.exec($n)[0];jt.call(Dt,Sn),At=At.replace(Sn,"")}}return function(bn){var wn=bn.afternoon;if(wn!==void 0){var On=bn.hours;wn?On<12&&(bn.hours+=12):On===12&&(bn.hours=0),delete bn.afternoon}}(Dt),Dt}}return function(Ne,Ie,Fe){Fe.p.customParseFormat=!0,Ne&&Ne.parseTwoDigitYear&&(ue=Ne.parseTwoDigitYear);var Ve=Ie.prototype,ze=Ve.parse;Ve.parse=function(Ue){var qe=Ue.date,kt=Ue.utc,Et=Ue.args;this.$u=kt;var Pt=Et[1];if(typeof Pt=="string"){var At=Et[2]===!0,Dt=Et[3]===!0,Lt=At||Dt,hn=Et[2];Dt&&(hn=Et[2]),le=this.$locale(),!At&&hn&&(le=Fe.Ls[hn]),this.$d=function($n,Sn,bn,wn){try{if(["x","X"].indexOf(Sn)>-1)return new Date((Sn==="X"?1e3:1)*$n);var On=xe(Sn)($n),Tn=On.year,xn=On.month,Pn=On.day,An=On.hours,Rn=On.minutes,Nn=On.seconds,Dn=On.milliseconds,In=On.zone,Fn=On.week,Bn=new Date,Mn=Pn||(Tn||xn?1:Bn.getDate()),Hn=Tn||Bn.getFullYear(),Yn=0;Tn&&!xn||(Yn=xn>0?xn-1:Bn.getMonth());var qn,Xn=An||0,jn=Rn||0,Zn=Nn||0,Un=Dn||0;return In?new Date(Date.UTC(Hn,Yn,Mn,Xn,jn,Zn,Un+60*In.offset*1e3)):bn?new Date(Date.UTC(Hn,Yn,Mn,Xn,jn,Zn,Un)):(qn=new Date(Hn,Yn,Mn,Xn,jn,Zn,Un),Fn&&(qn=wn(qn).week(Fn).toDate()),qn)}catch{return new Date("")}}(qe,Pt,kt,Fe),this.init(),hn&&hn!==!0&&(this.$L=this.locale(hn).$L),Lt&&qe!=this.format(Pt)&&(this.$d=new Date("")),le={}}else if(Pt instanceof Array)for(var _n=Pt.length,vn=1;vn<=_n;vn+=1){Et[1]=Pt[vn-1];var jt=Fe.apply(this,Et);if(jt.isValid()){this.$d=jt.$d,this.$L=jt.$L,this.init();break}vn===_n&&(this.$d=new Date(""))}else ze.call(this,Ue)}}})})(customParseFormat$1);var customParseFormatExports=customParseFormat$1.exports;const customParseFormat=getDefaultExportFromCjs(customParseFormatExports);var advancedFormat$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){return function(g,y){var $=y.prototype,L=$.format;$.format=function(re){var ae=this,le=this.$locale();if(!this.isValid())return L.bind(this)(re);var ue=this.$utils(),he=(re||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(_e){switch(_e){case"Q":return Math.ceil((ae.$M+1)/3);case"Do":return le.ordinal(ae.$D);case"gggg":return ae.weekYear();case"GGGG":return ae.isoWeekYear();case"wo":return le.ordinal(ae.week(),"W");case"w":case"ww":return ue.s(ae.week(),_e==="w"?1:2,"0");case"W":case"WW":return ue.s(ae.isoWeek(),_e==="W"?1:2,"0");case"k":case"kk":return ue.s(String(ae.$H===0?24:ae.$H),_e==="k"?1:2,"0");case"X":return Math.floor(ae.$d.getTime()/1e3);case"x":return ae.$d.getTime();case"z":return"["+ae.offsetName()+"]";case"zzz":return"["+ae.offsetName("long")+"]";default:return _e}});return L.bind(this)(he)}}})})(advancedFormat$1);var advancedFormatExports=advancedFormat$1.exports;const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var weekOfYear$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){var g="week",y="year";return function($,L,re){var ae=L.prototype;ae.week=function(le){if(le===void 0&&(le=null),le!==null)return this.add(7*(le-this.week()),"day");var ue=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var he=re(this).startOf(y).add(1,y).date(ue),_e=re(this).endOf(g);if(he.isBefore(_e))return 1}var Ce=re(this).startOf(y).date(ue).startOf(g).subtract(1,"millisecond"),$e=this.diff(Ce,g,!0);return $e<0?re(this).startOf("week").week():Math.ceil($e)},ae.weeks=function(le){return le===void 0&&(le=null),this.week(le)}}})})(weekOfYear$1);var weekOfYearExports=weekOfYear$1.exports;const weekOfYear=getDefaultExportFromCjs(weekOfYearExports);var weekYear$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){return function(g,y){y.prototype.weekYear=function(){var $=this.month(),L=this.week(),re=this.year();return L===1&&$===11?re+1:$===0&&L>=52?re-1:re}}})})(weekYear$1);var weekYearExports=weekYear$1.exports;const weekYear=getDefaultExportFromCjs(weekYearExports);var dayOfYear$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){return function(g,y,$){y.prototype.dayOfYear=function(L){var re=Math.round(($(this).startOf("day")-$(this).startOf("year"))/864e5)+1;return L==null?re:this.add(L-re,"day")}}})})(dayOfYear$1);var dayOfYearExports=dayOfYear$1.exports;const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);var isSameOrAfter$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){return function(g,y){y.prototype.isSameOrAfter=function($,L){return this.isSame($,L)||this.isAfter($,L)}}})})(isSameOrAfter$1);var isSameOrAfterExports=isSameOrAfter$1.exports;const isSameOrAfter=getDefaultExportFromCjs(isSameOrAfterExports);var isSameOrBefore$1={exports:{}};(function(r,n){(function(g,y){r.exports=y()})(commonjsGlobal,function(){return function(g,y){y.prototype.isSameOrBefore=function($,L){return this.isSame($,L)||this.isBefore($,L)}}})})(isSameOrBefore$1);var isSameOrBeforeExports=isSameOrBefore$1.exports;const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports),timeUnits$2=["hours","minutes","seconds"],DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:Boolean,...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:definePropType(String),values:Ee,default:"bottom"},fallbackPlacements:{type:definePropType(Array),default:["bottom","top","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),timePickerRngeTriggerProps=buildProps({id:{type:definePropType(Array)},name:{type:definePropType(Array)},modelValue:{type:definePropType([Array,String])},startPlaceholder:String,endPlaceholder:String}),__default__$18=defineComponent({name:"PickerRangeTrigger",inheritAttrs:!1}),_sfc_main$2$=defineComponent({...__default__$18,props:timePickerRngeTriggerProps,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(r,{expose:n,emit:g}){const y=useAttrs(),$=useNamespace$1("date"),L=useNamespace$1("range"),re=ref$1(),ae=ref$1(),{wrapperRef:le,isFocused:ue}=useFocusController(re),he=ze=>{g("click",ze)},_e=ze=>{g("mouseenter",ze)},Ce=ze=>{g("mouseleave",ze)},$e=ze=>{g("mouseenter",ze)},Oe=ze=>{g("startInput",ze)},xe=ze=>{g("endInput",ze)},Ne=ze=>{g("startChange",ze)},Ie=ze=>{g("endChange",ze)};return n({focus:()=>{var ze;(ze=re.value)==null||ze.focus()},blur:()=>{var ze,Ue;(ze=re.value)==null||ze.blur(),(Ue=ae.value)==null||Ue.blur()}}),(ze,Ue)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:le,class:normalizeClass([unref($).is("active",unref(ue)),ze.$attrs.class]),style:normalizeStyle$1(ze.$attrs.style),onClick:he,onMouseenter:_e,onMouseleave:Ce,onTouchstartPassive:$e},[renderSlot(ze.$slots,"prefix"),createBaseVNode("input",mergeProps(unref(y),{id:ze.id&&ze.id[0],ref_key:"inputRef",ref:re,name:ze.name&&ze.name[0],placeholder:ze.startPlaceholder,value:ze.modelValue&&ze.modelValue[0],class:unref(L).b("input"),onInput:Oe,onChange:Ne}),null,16,["id","name","placeholder","value"]),renderSlot(ze.$slots,"range-separator"),createBaseVNode("input",mergeProps(unref(y),{id:ze.id&&ze.id[1],ref_key:"endInputRef",ref:ae,name:ze.name&&ze.name[1],placeholder:ze.endPlaceholder,value:ze.modelValue&&ze.modelValue[1],class:unref(L).b("input"),onInput:xe,onChange:Ie}),null,16,["id","name","placeholder","value"]),renderSlot(ze.$slots,"suffix")],38))}});var PickerRangeTrigger=_export_sfc(_sfc_main$2$,[["__file","picker-range-trigger.vue"]]);const __default__$17=defineComponent({name:"Picker"}),_sfc_main$2_=defineComponent({...__default__$17,props:timePickerDefaultProps,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(r,{expose:n,emit:g}){const y=r,$=useAttrs$1(),{lang:L}=useLocale(),re=useNamespace$1("date"),ae=useNamespace$1("input"),le=useNamespace$1("range"),{form:ue,formItem:he}=useFormItem(),_e=inject("ElPopperOptions",{}),{valueOnClear:Ce}=useEmptyValues(y,null),$e=ref$1(),Oe=ref$1(),xe=ref$1(!1),Ne=ref$1(!1),Ie=ref$1(null);let Fe=!1;const{isFocused:Ve,handleFocus:ze,handleBlur:Ue}=useFocusController(Oe,{beforeFocus(){return y.readonly||bn.value},afterFocus(){xe.value=!0},beforeBlur(En){var zn;return!Fe&&((zn=$e.value)==null?void 0:zn.isFocusInsideContent(En))},afterBlur(){Jn(),xe.value=!1,Fe=!1,y.validateEvent&&(he==null||he.validate("blur").catch(En=>void 0))}}),qe=computed(()=>[re.b("editor"),re.bm("editor",y.type),ae.e("wrapper"),re.is("disabled",bn.value),re.is("active",xe.value),le.b("editor"),Xn?le.bm("editor",Xn.value):"",$.class]),kt=computed(()=>[ae.e("icon"),le.e("close-icon"),Dn.value?"":le.e("close-icon--hidden")]);watch$1(xe,En=>{En?nextTick$1(()=>{En&&(Ie.value=y.modelValue)}):(Un.value=null,nextTick$1(()=>{Et(y.modelValue)}))});const Et=(En,zn)=>{(zn||!valueEquals(En,Ie.value))&&(g("change",En),y.validateEvent&&(he==null||he.validate("change").catch(Kn=>void 0)))},Pt=En=>{if(!valueEquals(y.modelValue,En)){let zn;isArray$5(En)?zn=En.map(Kn=>formatter(Kn,y.valueFormat,L.value)):En&&(zn=formatter(En,y.valueFormat,L.value)),g("update:modelValue",En&&zn,L.value)}},At=En=>{g("keydown",En)},Dt=computed(()=>Oe.value?Array.from(Oe.value.$el.querySelectorAll("input")):[]),Lt=(En,zn,Kn)=>{const ir=Dt.value;ir.length&&(!Kn||Kn==="min"?(ir[0].setSelectionRange(En,zn),ir[0].focus()):Kn==="max"&&(ir[1].setSelectionRange(En,zn),ir[1].focus()))},hn=(En="",zn=!1)=>{xe.value=zn;let Kn;isArray$5(En)?Kn=En.map(ir=>ir.toDate()):Kn=En&&En.toDate(),Un.value=null,Pt(Kn)},_n=()=>{Ne.value=!0},vn=()=>{g("visible-change",!0)},jt=()=>{Ne.value=!1,xe.value=!1,g("visible-change",!1)},$n=()=>{xe.value=!0},Sn=()=>{xe.value=!1},bn=computed(()=>y.disabled||(ue==null?void 0:ue.disabled)),wn=computed(()=>{let En;if(Fn.value?pr.value.getDefaultValue&&(En=pr.value.getDefaultValue()):isArray$5(y.modelValue)?En=y.modelValue.map(zn=>parseDate$1(zn,y.valueFormat,L.value)):En=parseDate$1(y.modelValue,y.valueFormat,L.value),pr.value.getRangeAvailableTime){const zn=pr.value.getRangeAvailableTime(En);isEqual$1(zn,En)||(En=zn,Fn.value||Pt(dayOrDaysToDate(En)))}return isArray$5(En)&&En.some(zn=>!zn)&&(En=[]),En}),On=computed(()=>{if(!pr.value.panelReady)return"";const En=sr(wn.value);return isArray$5(Un.value)?[Un.value[0]||En&&En[0]||"",Un.value[1]||En&&En[1]||""]:Un.value!==null?Un.value:!xn.value&&Fn.value||!xe.value&&Fn.value?"":En?Pn.value||An.value||Rn.value?En.join(", "):En:""}),Tn=computed(()=>y.type.includes("time")),xn=computed(()=>y.type.startsWith("time")),Pn=computed(()=>y.type==="dates"),An=computed(()=>y.type==="months"),Rn=computed(()=>y.type==="years"),Nn=computed(()=>y.prefixIcon||(Tn.value?clock_default:calendar_default)),Dn=ref$1(!1),In=En=>{y.readonly||bn.value||(Dn.value&&(En.stopPropagation(),pr.value.handleClear?pr.value.handleClear():Pt(Ce.value),Et(Ce.value,!0),Dn.value=!1,jt()),g("clear"))},Fn=computed(()=>{const{modelValue:En}=y;return!En||isArray$5(En)&&!En.filter(Boolean).length}),Bn=async En=>{var zn;y.readonly||bn.value||(((zn=En.target)==null?void 0:zn.tagName)!=="INPUT"||Ve.value)&&(xe.value=!0)},Mn=()=>{y.readonly||bn.value||!Fn.value&&y.clearable&&(Dn.value=!0)},Hn=()=>{Dn.value=!1},Yn=En=>{var zn;y.readonly||bn.value||(((zn=En.touches[0].target)==null?void 0:zn.tagName)!=="INPUT"||Ve.value)&&(xe.value=!0)},qn=computed(()=>y.type.includes("range")),Xn=useFormSize(),jn=computed(()=>{var En,zn;return(zn=(En=unref($e))==null?void 0:En.popperRef)==null?void 0:zn.contentRef}),Zn=onClickOutside(Oe,En=>{const zn=unref(jn),Kn=unrefElement(Oe);zn&&(En.target===zn||En.composedPath().includes(zn))||En.target===Kn||Kn&&En.composedPath().includes(Kn)||(xe.value=!1)});onBeforeUnmount(()=>{Zn==null||Zn()});const Un=ref$1(null),Jn=()=>{if(Un.value){const En=tr(On.value);En&&or(En)&&(Pt(dayOrDaysToDate(En)),Un.value=null)}Un.value===""&&(Pt(Ce.value),Et(Ce.value),Un.value=null)},tr=En=>En?pr.value.parseUserInput(En):null,sr=En=>En?pr.value.formatToString(En):null,or=En=>pr.value.isValidValue(En),Qn=async En=>{if(y.readonly||bn.value)return;const{code:zn}=En;if(At(En),zn===EVENT_CODE.esc){xe.value===!0&&(xe.value=!1,En.preventDefault(),En.stopPropagation());return}if(zn===EVENT_CODE.down&&(pr.value.handleFocusPicker&&(En.preventDefault(),En.stopPropagation()),xe.value===!1&&(xe.value=!0,await nextTick$1()),pr.value.handleFocusPicker)){pr.value.handleFocusPicker();return}if(zn===EVENT_CODE.tab){Fe=!0;return}if(zn===EVENT_CODE.enter||zn===EVENT_CODE.numpadEnter){(Un.value===null||Un.value===""||or(tr(On.value)))&&(Jn(),xe.value=!1),En.stopPropagation();return}if(Un.value){En.stopPropagation();return}pr.value.handleKeydownInput&&pr.value.handleKeydownInput(En)},rr=En=>{Un.value=En,xe.value||(xe.value=!0)},cr=En=>{const zn=En.target;Un.value?Un.value=[zn.value,Un.value[1]]:Un.value=[zn.value,null]},vr=En=>{const zn=En.target;Un.value?Un.value=[Un.value[0],zn.value]:Un.value=[null,zn.value]},hr=()=>{var En;const zn=Un.value,Kn=tr(zn&&zn[0]),ir=unref(wn);if(Kn&&Kn.isValid()){Un.value=[sr(Kn),((En=On.value)==null?void 0:En[1])||null];const fr=[Kn,ir&&(ir[1]||null)];or(fr)&&(Pt(dayOrDaysToDate(fr)),Un.value=null)}},br=()=>{var En;const zn=unref(Un),Kn=tr(zn&&zn[1]),ir=unref(wn);if(Kn&&Kn.isValid()){Un.value=[((En=unref(On))==null?void 0:En[0])||null,sr(Kn)];const fr=[ir&&ir[0],Kn];or(fr)&&(Pt(dayOrDaysToDate(fr)),Un.value=null)}},pr=ref$1({}),Tr=En=>{pr.value[En[0]]=En[1],pr.value.panelReady=!0},_r=En=>{g("calendar-change",En)},Vn=(En,zn,Kn)=>{g("panel-change",En,zn,Kn)},kn=()=>{var En;(En=Oe.value)==null||En.focus()},Ln=()=>{var En;(En=Oe.value)==null||En.blur()};return provide("EP_PICKER_BASE",{props:y}),n({focus:kn,blur:Ln,handleOpen:$n,handleClose:Sn,onPick:hn}),(En,zn)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:$e,visible:xe.value,effect:"light",pure:"",trigger:"click"},En.$attrs,{role:"dialog",teleported:"",transition:`${unref(re).namespace.value}-zoom-in-top`,"popper-class":[`${unref(re).namespace.value}-picker__popper`,En.popperClass],"popper-options":unref(_e),"fallback-placements":En.fallbackPlacements,"gpu-acceleration":!1,placement:En.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:_n,onShow:vn,onHide:jt}),{default:withCtx(()=>[unref(qn)?(openBlock(),createBlock(PickerRangeTrigger,{key:1,id:En.id,ref_key:"inputRef",ref:Oe,"model-value":unref(On),name:En.name,disabled:unref(bn),readonly:!En.editable||En.readonly,"start-placeholder":En.startPlaceholder,"end-placeholder":En.endPlaceholder,class:normalizeClass(unref(qe)),style:normalizeStyle$1(En.$attrs.style),"aria-label":En.ariaLabel,tabindex:En.tabindex,autocomplete:"off",role:"combobox",onClick:Bn,onFocus:unref(ze),onBlur:unref(Ue),onStartInput:cr,onStartChange:hr,onEndInput:vr,onEndChange:br,onMousedown:Bn,onMouseenter:Mn,onMouseleave:Hn,onTouchstartPassive:Yn,onKeydown:Qn},{prefix:withCtx(()=>[unref(Nn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(ae).e("icon"),unref(le).e("icon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Nn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),"range-separator":withCtx(()=>[renderSlot(En.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(le).b("separator"))},toDisplayString(En.rangeSeparator),3)])]),suffix:withCtx(()=>[En.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(kt)),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:In},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(En.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(openBlock(),createBlock(unref(ElInput),{key:0,id:En.id,ref_key:"inputRef",ref:Oe,"container-role":"combobox","model-value":unref(On),name:En.name,size:unref(Xn),disabled:unref(bn),placeholder:En.placeholder,class:normalizeClass([unref(re).b("editor"),unref(re).bm("editor",En.type),En.$attrs.class]),style:normalizeStyle$1(En.$attrs.style),readonly:!En.editable||En.readonly||unref(Pn)||unref(An)||unref(Rn)||En.type==="week","aria-label":En.ariaLabel,tabindex:En.tabindex,"validate-event":!1,onInput:rr,onFocus:unref(ze),onBlur:unref(Ue),onKeydown:Qn,onChange:Jn,onMousedown:Bn,onMouseenter:Mn,onMouseleave:Hn,onTouchstartPassive:Yn,onClick:withModifiers(()=>{},["stop"])},{prefix:withCtx(()=>[unref(Nn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(ae).e("icon")),onMousedown:withModifiers(Bn,["prevent"]),onTouchstartPassive:Yn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Nn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[Dn.value&&En.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(ae).e("icon")} clear-icon`),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:In},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(En.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:withCtx(()=>[renderSlot(En.$slots,"default",{visible:xe.value,actualVisible:Ne.value,parsedValue:unref(wn),format:En.format,dateFormat:En.dateFormat,timeFormat:En.timeFormat,unlinkPanels:En.unlinkPanels,type:En.type,defaultValue:En.defaultValue,showNow:En.showNow,onPick:hn,onSelectRange:Lt,onSetPickerOption:Tr,onCalendarChange:_r,onPanelChange:Vn,onMousedown:withModifiers(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var CommonPicker=_export_sfc(_sfc_main$2_,[["__file","picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:r,getAvailableMinutes:n,getAvailableSeconds:g})=>{const y=(re,ae,le,ue)=>{const he={hour:r,minute:n,second:g};let _e=re;return["hour","minute","second"].forEach(Ce=>{if(he[Ce]){let $e;const Oe=he[Ce];switch(Ce){case"minute":{$e=Oe(_e.hour(),ae,ue);break}case"second":{$e=Oe(_e.hour(),_e.minute(),ae,ue);break}default:{$e=Oe(ae,ue);break}}if($e!=null&&$e.length&&!$e.includes(_e[Ce]())){const xe=le?0:$e.length-1;_e=_e[Ce]($e[xe])}}}),_e},$={};return{timePickerOptions:$,getAvailableTime:y,onSetOption:([re,ae])=>{$[re]=ae}}},makeAvailableArr=r=>{const n=(y,$)=>y||$,g=y=>y!==!0;return r.map(n).filter(g)},getTimeLists=(r,n,g)=>({getHoursList:(re,ae)=>makeList(24,r&&(()=>r==null?void 0:r(re,ae))),getMinutesList:(re,ae,le)=>makeList(60,n&&(()=>n==null?void 0:n(re,ae,le))),getSecondsList:(re,ae,le,ue)=>makeList(60,g&&(()=>g==null?void 0:g(re,ae,le,ue)))}),buildAvailableTimeSlotGetter=(r,n,g)=>{const{getHoursList:y,getMinutesList:$,getSecondsList:L}=getTimeLists(r,n,g);return{getAvailableHours:(ue,he)=>makeAvailableArr(y(ue,he)),getAvailableMinutes:(ue,he,_e)=>makeAvailableArr($(ue,he,_e)),getAvailableSeconds:(ue,he,_e,Ce)=>makeAvailableArr(L(ue,he,_e,Ce))}},useOldValue=r=>{const n=ref$1(r.parsedValue);return watch$1(()=>r.visible,g=>{g||(n.value=r.parsedValue)}),n},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(r,n){const g=n.value,{interval:y=REPEAT_INTERVAL,delay:$=REPEAT_DELAY}=isFunction$3(g)?{}:g;let L,re;const ae=()=>isFunction$3(g)?g():g.handler(),le=()=>{re&&(clearTimeout(re),re=void 0),L&&(clearInterval(L),L=void 0)};r.addEventListener("mousedown",ue=>{ue.button===0&&(le(),ae(),document.addEventListener("mouseup",()=>le(),{once:!0}),re=setTimeout(()=>{L=setInterval(()=>{ae()},y)},$))})}},_sfc_main$2Z=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:["change","select-range","set-option"],setup(r,{emit:n}){const g=r,y=inject("EP_PICKER_BASE"),{isRange:$}=y.props,L=useNamespace$1("time"),{getHoursList:re,getMinutesList:ae,getSecondsList:le}=getTimeLists(g.disabledHours,g.disabledMinutes,g.disabledSeconds);let ue=!1;const he=ref$1(),_e=ref$1(),Ce=ref$1(),$e=ref$1(),Oe={hours:_e,minutes:Ce,seconds:$e},xe=computed(()=>g.showSeconds?timeUnits$2:timeUnits$2.slice(0,2)),Ne=computed(()=>{const{spinnerDate:On}=g,Tn=On.hour(),xn=On.minute(),Pn=On.second();return{hours:Tn,minutes:xn,seconds:Pn}}),Ie=computed(()=>{const{hours:On,minutes:Tn}=unref(Ne),{role:xn,spinnerDate:Pn}=g,An=$?void 0:Pn;return{hours:re(xn,An),minutes:ae(On,xn,An),seconds:le(On,Tn,xn,An)}}),Fe=computed(()=>{const{hours:On,minutes:Tn,seconds:xn}=unref(Ne);return{hours:buildTimeList(On,23),minutes:buildTimeList(Tn,59),seconds:buildTimeList(xn,59)}}),Ve=debounce$2(On=>{ue=!1,qe(On)},200),ze=On=>{if(!!!g.amPmMode)return"";const xn=g.amPmMode==="A";let Pn=On<12?" am":" pm";return xn&&(Pn=Pn.toUpperCase()),Pn},Ue=On=>{let Tn;switch(On){case"hours":Tn=[0,2];break;case"minutes":Tn=[3,5];break;case"seconds":Tn=[6,8];break}const[xn,Pn]=Tn;n("select-range",xn,Pn),he.value=On},qe=On=>{Pt(On,unref(Ne)[On])},kt=()=>{qe("hours"),qe("minutes"),qe("seconds")},Et=On=>On.querySelector(`.${L.namespace.value}-scrollbar__wrap`),Pt=(On,Tn)=>{if(g.arrowControl)return;const xn=unref(Oe[On]);xn&&xn.$el&&(Et(xn.$el).scrollTop=Math.max(0,Tn*At(On)))},At=On=>{const Tn=unref(Oe[On]),xn=Tn==null?void 0:Tn.$el.querySelector("li");return xn&&Number.parseFloat(getStyle$1(xn,"height"))||0},Dt=()=>{hn(1)},Lt=()=>{hn(-1)},hn=On=>{he.value||Ue("hours");const Tn=he.value,xn=unref(Ne)[Tn],Pn=he.value==="hours"?24:60,An=_n(Tn,xn,On,Pn);vn(Tn,An),Pt(Tn,An),nextTick$1(()=>Ue(Tn))},_n=(On,Tn,xn,Pn)=>{let An=(Tn+xn+Pn)%Pn;const Rn=unref(Ie)[On];for(;Rn[An]&&An!==Tn;)An=(An+xn+Pn)%Pn;return An},vn=(On,Tn)=>{if(unref(Ie)[On][Tn])return;const{hours:An,minutes:Rn,seconds:Nn}=unref(Ne);let Dn;switch(On){case"hours":Dn=g.spinnerDate.hour(Tn).minute(Rn).second(Nn);break;case"minutes":Dn=g.spinnerDate.hour(An).minute(Tn).second(Nn);break;case"seconds":Dn=g.spinnerDate.hour(An).minute(Rn).second(Tn);break}n("change",Dn)},jt=(On,{value:Tn,disabled:xn})=>{xn||(vn(On,Tn),Ue(On),Pt(On,Tn))},$n=On=>{const Tn=unref(Oe[On]);if(!Tn)return;ue=!0,Ve(On);const xn=Math.min(Math.round((Et(Tn.$el).scrollTop-(Sn(On)*.5-10)/At(On)+3)/At(On)),On==="hours"?23:59);vn(On,xn)},Sn=On=>unref(Oe[On]).$el.offsetHeight,bn=()=>{const On=Tn=>{const xn=unref(Oe[Tn]);xn&&xn.$el&&(Et(xn.$el).onscroll=()=>{$n(Tn)})};On("hours"),On("minutes"),On("seconds")};onMounted(()=>{nextTick$1(()=>{!g.arrowControl&&bn(),kt(),g.role==="start"&&Ue("hours")})});const wn=(On,Tn)=>{Oe[Tn].value=On??void 0};return n("set-option",[`${g.role}_scrollDown`,hn]),n("set-option",[`${g.role}_emitSelectRange`,Ue]),watch$1(()=>g.spinnerDate,()=>{ue||kt()}),(On,Tn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(L).b("spinner"),{"has-seconds":On.showSeconds}])},[On.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(xe),xn=>(openBlock(),createBlock(unref(ElScrollbar),{key:xn,ref_for:!0,ref:Pn=>wn(Pn,xn),class:normalizeClass(unref(L).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(L).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Pn=>Ue(xn),onMousemove:Pn=>qe(xn)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ie)[xn],(Pn,An)=>(openBlock(),createElementBlock("li",{key:An,class:normalizeClass([unref(L).be("spinner","item"),unref(L).is("active",An===unref(Ne)[xn]),unref(L).is("disabled",Pn)]),onClick:Rn=>jt(xn,{value:An,disabled:Pn})},[xn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(On.amPmMode?An%12||12:An)).slice(-2))+toDisplayString(ze(An)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+An).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),On.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(xe),xn=>(openBlock(),createElementBlock("div",{key:xn,class:normalizeClass([unref(L).be("spinner","wrapper"),unref(L).is("arrow")]),onMouseenter:Pn=>Ue(xn)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(L).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$1(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Lt]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(L).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Dt]]),createBaseVNode("ul",{class:normalizeClass(unref(L).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Fe)[xn],(Pn,An)=>(openBlock(),createElementBlock("li",{key:An,class:normalizeClass([unref(L).be("spinner","item"),unref(L).is("active",Pn===unref(Ne)[xn]),unref(L).is("disabled",unref(Ie)[xn][Pn])])},[unref(isNumber$2)(Pn)?(openBlock(),createElementBlock(Fragment,{key:0},[xn==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(On.amPmMode?Pn%12||12:Pn)).slice(-2))+toDisplayString(ze(Pn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+Pn).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc(_sfc_main$2Z,[["__file","basic-time-spinner.vue"]]);const _sfc_main$2Y=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(r,{emit:n}){const g=r,y=inject("EP_PICKER_BASE"),{arrowControl:$,disabledHours:L,disabledMinutes:re,disabledSeconds:ae,defaultValue:le}=y.props,{getAvailableHours:ue,getAvailableMinutes:he,getAvailableSeconds:_e}=buildAvailableTimeSlotGetter(L,re,ae),Ce=useNamespace$1("time"),{t:$e,lang:Oe}=useLocale(),xe=ref$1([0,2]),Ne=useOldValue(g),Ie=computed(()=>isUndefined(g.actualVisible)?`${Ce.namespace.value}-zoom-in-top`:""),Fe=computed(()=>g.format.includes("ss")),Ve=computed(()=>g.format.includes("A")?"A":g.format.includes("a")?"a":""),ze=Sn=>{const bn=dayjs(Sn).locale(Oe.value),wn=_n(bn);return bn.isSame(wn)},Ue=()=>{n("pick",Ne.value,!1)},qe=(Sn=!1,bn=!1)=>{bn||n("pick",g.parsedValue,Sn)},kt=Sn=>{if(!g.visible)return;const bn=_n(Sn).millisecond(0);n("pick",bn,!0)},Et=(Sn,bn)=>{n("select-range",Sn,bn),xe.value=[Sn,bn]},Pt=Sn=>{const bn=[0,3].concat(Fe.value?[6]:[]),wn=["hours","minutes"].concat(Fe.value?["seconds"]:[]),Tn=(bn.indexOf(xe.value[0])+Sn+bn.length)%bn.length;Dt.start_emitSelectRange(wn[Tn])},At=Sn=>{const bn=Sn.code,{left:wn,right:On,up:Tn,down:xn}=EVENT_CODE;if([wn,On].includes(bn)){Pt(bn===wn?-1:1),Sn.preventDefault();return}if([Tn,xn].includes(bn)){const Pn=bn===Tn?-1:1;Dt.start_scrollDown(Pn),Sn.preventDefault();return}},{timePickerOptions:Dt,onSetOption:Lt,getAvailableTime:hn}=useTimePanel({getAvailableHours:ue,getAvailableMinutes:he,getAvailableSeconds:_e}),_n=Sn=>hn(Sn,g.datetimeRole||"",!0),vn=Sn=>Sn?dayjs(Sn,g.format).locale(Oe.value):null,jt=Sn=>Sn?Sn.format(g.format):null,$n=()=>dayjs(le).locale(Oe.value);return n("set-picker-option",["isValidValue",ze]),n("set-picker-option",["formatToString",jt]),n("set-picker-option",["parseUserInput",vn]),n("set-picker-option",["handleKeydownInput",At]),n("set-picker-option",["getRangeAvailableTime",_n]),n("set-picker-option",["getDefaultValue",$n]),(Sn,bn)=>(openBlock(),createBlock(Transition,{name:unref(Ie)},{default:withCtx(()=>[Sn.actualVisible||Sn.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ce).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(Ce).be("panel","content"),{"has-seconds":unref(Fe)}])},[createVNode$1(TimeSpinner,{ref:"spinner",role:Sn.datetimeRole||"start","arrow-control":unref($),"show-seconds":unref(Fe),"am-pm-mode":unref(Ve),"spinner-date":Sn.parsedValue,"disabled-hours":unref(L),"disabled-minutes":unref(re),"disabled-seconds":unref(ae),onChange:kt,onSetOption:unref(Lt),onSelectRange:Et},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(Ce).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ce).be("panel","btn"),"cancel"]),onClick:Ue},toDisplayString(unref($e)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ce).be("panel","btn"),"confirm"]),onClick:wn=>qe()},toDisplayString(unref($e)("el.datepicker.confirm")),11,["onClick"])],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc(_sfc_main$2Y,[["__file","panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_sfc_main$2X=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(r,{emit:n}){const g=r,y=(Bn,Mn)=>{const Hn=[];for(let Yn=Bn;Yn<=Mn;Yn++)Hn.push(Yn);return Hn},{t:$,lang:L}=useLocale(),re=useNamespace$1("time"),ae=useNamespace$1("picker"),le=inject("EP_PICKER_BASE"),{arrowControl:ue,disabledHours:he,disabledMinutes:_e,disabledSeconds:Ce,defaultValue:$e}=le.props,Oe=computed(()=>[re.be("range-picker","body"),re.be("panel","content"),re.is("arrow",ue),ze.value?"has-seconds":""]),xe=computed(()=>[re.be("range-picker","body"),re.be("panel","content"),re.is("arrow",ue),ze.value?"has-seconds":""]),Ne=computed(()=>g.parsedValue[0]),Ie=computed(()=>g.parsedValue[1]),Fe=useOldValue(g),Ve=()=>{n("pick",Fe.value,!1)},ze=computed(()=>g.format.includes("ss")),Ue=computed(()=>g.format.includes("A")?"A":g.format.includes("a")?"a":""),qe=(Bn=!1)=>{n("pick",[Ne.value,Ie.value],Bn)},kt=Bn=>{At(Bn.millisecond(0),Ie.value)},Et=Bn=>{At(Ne.value,Bn.millisecond(0))},Pt=Bn=>{const Mn=Bn.map(Yn=>dayjs(Yn).locale(L.value)),Hn=On(Mn);return Mn[0].isSame(Hn[0])&&Mn[1].isSame(Hn[1])},At=(Bn,Mn)=>{g.visible&&n("pick",[Bn,Mn],!0)},Dt=computed(()=>Ne.value>Ie.value),Lt=ref$1([0,2]),hn=(Bn,Mn)=>{n("select-range",Bn,Mn,"min"),Lt.value=[Bn,Mn]},_n=computed(()=>ze.value?11:8),vn=(Bn,Mn)=>{n("select-range",Bn,Mn,"max");const Hn=unref(_n);Lt.value=[Bn+Hn,Mn+Hn]},jt=Bn=>{const Mn=ze.value?[0,3,6,11,14,17]:[0,3,8,11],Hn=["hours","minutes"].concat(ze.value?["seconds"]:[]),qn=(Mn.indexOf(Lt.value[0])+Bn+Mn.length)%Mn.length,Xn=Mn.length/2;qn<Xn?An.start_emitSelectRange(Hn[qn]):An.end_emitSelectRange(Hn[qn-Xn])},$n=Bn=>{const Mn=Bn.code,{left:Hn,right:Yn,up:qn,down:Xn}=EVENT_CODE;if([Hn,Yn].includes(Mn)){jt(Mn===Hn?-1:1),Bn.preventDefault();return}if([qn,Xn].includes(Mn)){const jn=Mn===qn?-1:1,Zn=Lt.value[0]<_n.value?"start":"end";An[`${Zn}_scrollDown`](jn),Bn.preventDefault();return}},Sn=(Bn,Mn)=>{const Hn=he?he(Bn):[],Yn=Bn==="start",Xn=(Mn||(Yn?Ie.value:Ne.value)).hour(),jn=Yn?y(Xn+1,23):y(0,Xn-1);return union(Hn,jn)},bn=(Bn,Mn,Hn)=>{const Yn=_e?_e(Bn,Mn):[],qn=Mn==="start",Xn=Hn||(qn?Ie.value:Ne.value),jn=Xn.hour();if(Bn!==jn)return Yn;const Zn=Xn.minute(),Un=qn?y(Zn+1,59):y(0,Zn-1);return union(Yn,Un)},wn=(Bn,Mn,Hn,Yn)=>{const qn=Ce?Ce(Bn,Mn,Hn):[],Xn=Hn==="start",jn=Yn||(Xn?Ie.value:Ne.value),Zn=jn.hour(),Un=jn.minute();if(Bn!==Zn||Mn!==Un)return qn;const Jn=jn.second(),tr=Xn?y(Jn+1,59):y(0,Jn-1);return union(qn,tr)},On=([Bn,Mn])=>[Rn(Bn,"start",!0,Mn),Rn(Mn,"end",!1,Bn)],{getAvailableHours:Tn,getAvailableMinutes:xn,getAvailableSeconds:Pn}=buildAvailableTimeSlotGetter(Sn,bn,wn),{timePickerOptions:An,getAvailableTime:Rn,onSetOption:Nn}=useTimePanel({getAvailableHours:Tn,getAvailableMinutes:xn,getAvailableSeconds:Pn}),Dn=Bn=>Bn?isArray$5(Bn)?Bn.map(Mn=>dayjs(Mn,g.format).locale(L.value)):dayjs(Bn,g.format).locale(L.value):null,In=Bn=>Bn?isArray$5(Bn)?Bn.map(Mn=>Mn.format(g.format)):Bn.format(g.format):null,Fn=()=>{if(isArray$5($e))return $e.map(Mn=>dayjs(Mn).locale(L.value));const Bn=dayjs($e).locale(L.value);return[Bn,Bn.add(60,"m")]};return n("set-picker-option",["formatToString",In]),n("set-picker-option",["parseUserInput",Dn]),n("set-picker-option",["isValidValue",Pt]),n("set-picker-option",["handleKeydownInput",$n]),n("set-picker-option",["getDefaultValue",Fn]),n("set-picker-option",["getRangeAvailableTime",On]),(Bn,Mn)=>Bn.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(re).b("range-picker"),unref(ae).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(re).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(re).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(re).be("range-picker","header"))},toDisplayString(unref($)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(unref(Oe))},[createVNode$1(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(ze),"am-pm-mode":unref(Ue),"arrow-control":unref(ue),"spinner-date":unref(Ne),"disabled-hours":Sn,"disabled-minutes":bn,"disabled-seconds":wn,onChange:kt,onSetOption:unref(Nn),onSelectRange:hn},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(re).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(re).be("range-picker","header"))},toDisplayString(unref($)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(unref(xe))},[createVNode$1(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(ze),"am-pm-mode":unref(Ue),"arrow-control":unref(ue),"spinner-date":unref(Ie),"disabled-hours":Sn,"disabled-minutes":bn,"disabled-seconds":wn,onChange:Et,onSetOption:unref(Nn),onSelectRange:vn},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(re).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(re).be("panel","btn"),"cancel"]),onClick:Hn=>Ve()},toDisplayString(unref($)("el.datepicker.cancel")),11,["onClick"]),createBaseVNode("button",{type:"button",class:normalizeClass([unref(re).be("panel","btn"),"confirm"]),disabled:unref(Dt),onClick:Hn=>qe()},toDisplayString(unref($)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc(_sfc_main$2X,[["__file","panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,n){const g=ref$1(),[y,$]=r.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],L=re=>n.emit("update:modelValue",re);return provide("ElPopperOptions",r.popperOptions),n.expose({focus:()=>{var re;(re=g.value)==null||re.focus()},blur:()=>{var re;(re=g.value)==null||re.blur()},handleOpen:()=>{var re;(re=g.value)==null||re.handleOpen()},handleClose:()=>{var re;(re=g.value)==null||re.handleClose()}}),()=>{var re;const ae=(re=r.format)!=null?re:DEFAULT_FORMATS_TIME;return createVNode$1(CommonPicker,mergeProps(r,{ref:g,type:y,format:ae,"onUpdate:modelValue":L}),{default:le=>createVNode$1($,le,null)})}}});const ElTimePicker=withInstall(TimePicker),ROOT_PICKER_INJECTION_KEY=Symbol(),datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","years","month","months","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=r=>({type:String,values:selectionModes,default:r}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),isValidRange=r=>{if(!isArray$5(r))return!1;const[n,g]=r;return dayjs.isDayjs(n)&&dayjs.isDayjs(g)&&n.isSameOrBefore(g)},getDefaultValue=(r,{lang:n,unit:g,unlinkPanels:y})=>{let $;if(isArray$5(r)){let[L,re]=r.map(ae=>dayjs(ae).locale(n));return y||(re=L.add(1,g)),[L,re]}else r?$=dayjs(r):$=dayjs();return $=$.locale(n),[$,$.add(1,g)]},buildPickerTable=(r,n,{columnIndexOffset:g,startDate:y,nextEndDate:$,now:L,unit:re,relativeDateGetter:ae,setCellMetadata:le,setRowMetadata:ue})=>{for(let he=0;he<r.row;he++){const _e=n[he];for(let Ce=0;Ce<r.column;Ce++){let $e=_e[Ce+g];$e||($e={row:he,column:Ce,type:"normal",inRange:!1,start:!1,end:!1});const Oe=he*r.column+Ce,xe=ae(Oe);$e.dayjs=xe,$e.date=xe.toDate(),$e.timestamp=xe.valueOf(),$e.type="normal",$e.inRange=!!(y&&xe.isSameOrAfter(y,re)&&$&&xe.isSameOrBefore($,re))||!!(y&&xe.isSameOrBefore(y,re)&&$&&xe.isSameOrAfter($,re)),y!=null&&y.isSameOrAfter($)?($e.start=!!$&&xe.isSame($,re),$e.end=y&&xe.isSame(y,re)):($e.start=!!y&&xe.isSame(y,re),$e.end=!!$&&xe.isSame($,re)),xe.isSame(L,re)&&($e.type="today"),le==null||le($e,{rowIndex:he,columnIndex:Ce}),_e[Ce+g]=$e}ue==null||ue(_e)}},datesInMonth=(r,n,g)=>{const y=dayjs().locale(g).startOf("month").month(n).year(r),$=y.daysInMonth();return rangeArr($).map(L=>y.add(L,"day").toDate())},getValidDateOfMonth=(r,n,g,y)=>{const $=dayjs().year(r).month(n).startOf("month"),L=datesInMonth(r,n,g).find(re=>!(y!=null&&y(re)));return L?dayjs(L).locale(g):$.locale(g)},getValidDateOfYear=(r,n,g)=>{const y=r.year();if(!(g!=null&&g(r.toDate())))return r.locale(n);const $=r.month();if(!datesInMonth(y,$,n).every(g))return getValidDateOfMonth(y,$,n,g);for(let L=0;L<12;L++)if(!datesInMonth(y,L,n).every(g))return getValidDateOfMonth(y,L,n,g);return r},basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),basicDateTableEmits=["changerange","pick","select"],isNormalDay=(r="")=>["normal","today"].includes(r),useBasicDateTable=(r,n)=>{const{lang:g}=useLocale(),y=ref$1(),$=ref$1(),L=ref$1(),re=ref$1(),ae=ref$1([[],[],[],[],[],[]]);let le=!1;const ue=r.date.$locale().weekStart||7,he=r.date.locale("en").localeData().weekdaysShort().map(bn=>bn.toLowerCase()),_e=computed(()=>ue>3?7-ue:-ue),Ce=computed(()=>{const bn=r.date.startOf("month");return bn.subtract(bn.day()||7,"day")}),$e=computed(()=>he.concat(he).slice(ue,ue+7)),Oe=computed(()=>flatten$1(unref(ze)).some(bn=>bn.isCurrent)),xe=computed(()=>{const bn=r.date.startOf("month"),wn=bn.day()||7,On=bn.daysInMonth(),Tn=bn.subtract(1,"month").daysInMonth();return{startOfMonthDay:wn,dateCountOfMonth:On,dateCountOfLastMonth:Tn}}),Ne=computed(()=>r.selectionMode==="dates"?castArray(r.parsedValue):[]),Ie=(bn,{count:wn,rowIndex:On,columnIndex:Tn})=>{const{startOfMonthDay:xn,dateCountOfMonth:Pn,dateCountOfLastMonth:An}=unref(xe),Rn=unref(_e);if(On>=0&&On<=1){const Nn=xn+Rn<0?7+xn+Rn:xn+Rn;if(Tn+On*7>=Nn)return bn.text=wn,!0;bn.text=An-(Nn-Tn%7)+1+On*7,bn.type="prev-month"}else return wn<=Pn?bn.text=wn:(bn.text=wn-Pn,bn.type="next-month"),!0;return!1},Fe=(bn,{columnIndex:wn,rowIndex:On},Tn)=>{const{disabledDate:xn,cellClassName:Pn}=r,An=unref(Ne),Rn=Ie(bn,{count:Tn,rowIndex:On,columnIndex:wn}),Nn=bn.dayjs.toDate();return bn.selected=An.find(Dn=>Dn.isSame(bn.dayjs,"day")),bn.isSelected=!!bn.selected,bn.isCurrent=qe(bn),bn.disabled=xn==null?void 0:xn(Nn),bn.customClass=Pn==null?void 0:Pn(Nn),Rn},Ve=bn=>{if(r.selectionMode==="week"){const[wn,On]=r.showWeekNumber?[1,7]:[0,6],Tn=Sn(bn[wn+1]);bn[wn].inRange=Tn,bn[wn].start=Tn,bn[On].inRange=Tn,bn[On].end=Tn}},ze=computed(()=>{const{minDate:bn,maxDate:wn,rangeState:On,showWeekNumber:Tn}=r,xn=unref(_e),Pn=unref(ae),An="day";let Rn=1;if(Tn)for(let Nn=0;Nn<6;Nn++)Pn[Nn][0]||(Pn[Nn][0]={type:"week",text:unref(Ce).add(Nn*7+1,An).week()});return buildPickerTable({row:6,column:7},Pn,{startDate:bn,columnIndexOffset:Tn?1:0,nextEndDate:On.endDate||wn||On.selecting&&bn||null,now:dayjs().locale(unref(g)).startOf(An),unit:An,relativeDateGetter:Nn=>unref(Ce).add(Nn-xn,An),setCellMetadata:(...Nn)=>{Fe(...Nn,Rn)&&(Rn+=1)},setRowMetadata:Ve}),Pn});watch$1(()=>r.date,async()=>{var bn;(bn=unref(y))!=null&&bn.contains(document.activeElement)&&(await nextTick$1(),await Ue())});const Ue=async()=>{var bn;return(bn=unref($))==null?void 0:bn.focus()},qe=bn=>r.selectionMode==="date"&&isNormalDay(bn.type)&&kt(bn,r.parsedValue),kt=(bn,wn)=>wn?dayjs(wn).locale(unref(g)).isSame(r.date.date(Number(bn.text)),"day"):!1,Et=(bn,wn)=>{const On=bn*7+(wn-(r.showWeekNumber?1:0))-unref(_e);return unref(Ce).add(On,"day")},Pt=bn=>{var wn;if(!r.rangeState.selecting)return;let On=bn.target;if(On.tagName==="SPAN"&&(On=(wn=On.parentNode)==null?void 0:wn.parentNode),On.tagName==="DIV"&&(On=On.parentNode),On.tagName!=="TD")return;const Tn=On.parentNode.rowIndex-1,xn=On.cellIndex;unref(ze)[Tn][xn].disabled||(Tn!==unref(L)||xn!==unref(re))&&(L.value=Tn,re.value=xn,n("changerange",{selecting:!0,endDate:Et(Tn,xn)}))},At=bn=>!unref(Oe)&&(bn==null?void 0:bn.text)===1&&bn.type==="normal"||bn.isCurrent,Dt=bn=>{le||unref(Oe)||r.selectionMode!=="date"||$n(bn,!0)},Lt=bn=>{bn.target.closest("td")&&(le=!0)},hn=bn=>{bn.target.closest("td")&&(le=!1)},_n=bn=>{!r.rangeState.selecting||!r.minDate?(n("pick",{minDate:bn,maxDate:null}),n("select",!0)):(bn>=r.minDate?n("pick",{minDate:r.minDate,maxDate:bn}):n("pick",{minDate:bn,maxDate:r.minDate}),n("select",!1))},vn=bn=>{const wn=bn.week(),On=`${bn.year()}w${wn}`;n("pick",{year:bn.year(),week:wn,value:On,date:bn.startOf("week")})},jt=(bn,wn)=>{const On=wn?castArray(r.parsedValue).filter(Tn=>(Tn==null?void 0:Tn.valueOf())!==bn.valueOf()):castArray(r.parsedValue).concat([bn]);n("pick",On)},$n=(bn,wn=!1)=>{const On=bn.target.closest("td");if(!On)return;const Tn=On.parentNode.rowIndex-1,xn=On.cellIndex,Pn=unref(ze)[Tn][xn];if(Pn.disabled||Pn.type==="week")return;const An=Et(Tn,xn);switch(r.selectionMode){case"range":{_n(An);break}case"date":{n("pick",An,wn);break}case"week":{vn(An);break}case"dates":{jt(An,!!Pn.selected);break}}},Sn=bn=>{if(r.selectionMode!=="week")return!1;let wn=r.date.startOf("day");if(bn.type==="prev-month"&&(wn=wn.subtract(1,"month")),bn.type==="next-month"&&(wn=wn.add(1,"month")),wn=wn.date(Number.parseInt(bn.text,10)),r.parsedValue&&!isArray$5(r.parsedValue)){const On=(r.parsedValue.day()-ue+7)%7-1;return r.parsedValue.subtract(On,"day").isSame(wn,"day")}return!1};return{WEEKS:$e,rows:ze,tbodyRef:y,currentCellRef:$,focus:Ue,isCurrent:qe,isWeekActive:Sn,isSelectedCell:At,handlePickDate:$n,handleMouseUp:hn,handleMouseDown:Lt,handleMouseMove:Pt,handleFocus:Dt}},useBasicDateTableDOM=(r,{isCurrent:n,isWeekActive:g})=>{const y=useNamespace$1("date-table"),{t:$}=useLocale(),L=computed(()=>[y.b(),{"is-week-mode":r.selectionMode==="week"}]),re=computed(()=>$("el.datepicker.dateTablePrompt")),ae=computed(()=>$("el.datepicker.week"));return{tableKls:L,tableLabel:re,weekLabel:ae,getCellClasses:he=>{const _e=[];return isNormalDay(he.type)&&!he.disabled?(_e.push("available"),he.type==="today"&&_e.push("today")):_e.push(he.type),n(he)&&_e.push("current"),he.inRange&&(isNormalDay(he.type)||r.selectionMode==="week")&&(_e.push("in-range"),he.start&&_e.push("start-date"),he.end&&_e.push("end-date")),he.disabled&&_e.push("disabled"),he.selected&&_e.push("selected"),he.customClass&&_e.push(he.customClass),_e.join(" ")},getRowKls:he=>[y.e("row"),{current:g(he)}],t:$}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(r){const n=useNamespace$1("date-table-cell"),{slots:g}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:y}=r;return renderSlot(g,"default",{...y},()=>{var $;return[createVNode$1("div",{class:n.b()},[createVNode$1("span",{class:n.e("text")},[($=y==null?void 0:y.renderText)!=null?$:y==null?void 0:y.text])])]})}}});const _sfc_main$2W=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:basicDateTableEmits,setup(r,{expose:n,emit:g}){const y=r,{WEEKS:$,rows:L,tbodyRef:re,currentCellRef:ae,focus:le,isCurrent:ue,isWeekActive:he,isSelectedCell:_e,handlePickDate:Ce,handleMouseUp:$e,handleMouseDown:Oe,handleMouseMove:xe,handleFocus:Ne}=useBasicDateTable(y,g),{tableLabel:Ie,tableKls:Fe,weekLabel:Ve,getCellClasses:ze,getRowKls:Ue,t:qe}=useBasicDateTableDOM(y,{isCurrent:ue,isWeekActive:he});return n({focus:le}),(kt,Et)=>(openBlock(),createElementBlock("table",{"aria-label":unref(Ie),class:normalizeClass(unref(Fe)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:unref(Ce),onMousemove:unref(xe),onMousedown:withModifiers(unref(Oe),["prevent"]),onMouseup:unref($e)},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:re},[createBaseVNode("tr",null,[kt.showWeekNumber?(openBlock(),createElementBlock("th",{key:0,scope:"col"},toDisplayString(unref(Ve)),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(Pt,At)=>(openBlock(),createElementBlock("th",{key:At,"aria-label":unref(qe)("el.datepicker.weeksFull."+Pt),scope:"col"},toDisplayString(unref(qe)("el.datepicker.weeks."+Pt)),9,["aria-label"]))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(L),(Pt,At)=>(openBlock(),createElementBlock("tr",{key:At,class:normalizeClass(unref(Ue)(Pt[1]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Pt,(Dt,Lt)=>(openBlock(),createElementBlock("td",{key:`${At}.${Lt}`,ref_for:!0,ref:hn=>unref(_e)(Dt)&&(ae.value=hn),class:normalizeClass(unref(ze)(Dt)),"aria-current":Dt.isCurrent?"date":void 0,"aria-selected":Dt.isCurrent,tabindex:unref(_e)(Dt)?0:-1,onFocus:unref(Ne)},[createVNode$1(unref(ElDatePickerCell),{cell:Dt},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var DateTable=_export_sfc(_sfc_main$2W,[["__file","basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_sfc_main$2V=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("month-table"),{t:L,lang:re}=useLocale(),ae=ref$1(),le=ref$1(),ue=ref$1(y.date.locale("en").localeData().monthsShort().map(Ve=>Ve.toLowerCase())),he=ref$1([[],[],[]]),_e=ref$1(),Ce=ref$1(),$e=computed(()=>{var Ve,ze;const Ue=he.value,qe=dayjs().locale(re.value).startOf("month");for(let kt=0;kt<3;kt++){const Et=Ue[kt];for(let Pt=0;Pt<4;Pt++){const At=Et[Pt]||(Et[Pt]={row:kt,column:Pt,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});At.type="normal";const Dt=kt*4+Pt,Lt=y.date.startOf("year").month(Dt),hn=y.rangeState.endDate||y.maxDate||y.rangeState.selecting&&y.minDate||null;At.inRange=!!(y.minDate&&Lt.isSameOrAfter(y.minDate,"month")&&hn&&Lt.isSameOrBefore(hn,"month"))||!!(y.minDate&&Lt.isSameOrBefore(y.minDate,"month")&&hn&&Lt.isSameOrAfter(hn,"month")),(Ve=y.minDate)!=null&&Ve.isSameOrAfter(hn)?(At.start=!!(hn&&Lt.isSame(hn,"month")),At.end=y.minDate&&Lt.isSame(y.minDate,"month")):(At.start=!!(y.minDate&&Lt.isSame(y.minDate,"month")),At.end=!!(hn&&Lt.isSame(hn,"month"))),qe.isSame(Lt)&&(At.type="today"),At.text=Dt,At.disabled=((ze=y.disabledDate)==null?void 0:ze.call(y,Lt.toDate()))||!1}}return Ue}),Oe=()=>{var Ve;(Ve=le.value)==null||Ve.focus()},xe=Ve=>{const ze={},Ue=y.date.year(),qe=new Date,kt=Ve.text;return ze.disabled=y.disabledDate?datesInMonth(Ue,kt,re.value).every(y.disabledDate):!1,ze.current=castArray(y.parsedValue).findIndex(Et=>dayjs.isDayjs(Et)&&Et.year()===Ue&&Et.month()===kt)>=0,ze.today=qe.getFullYear()===Ue&&qe.getMonth()===kt,Ve.inRange&&(ze["in-range"]=!0,Ve.start&&(ze["start-date"]=!0),Ve.end&&(ze["end-date"]=!0)),ze},Ne=Ve=>{const ze=y.date.year(),Ue=Ve.text;return castArray(y.date).findIndex(qe=>qe.year()===ze&&qe.month()===Ue)>=0},Ie=Ve=>{var ze;if(!y.rangeState.selecting)return;let Ue=Ve.target;if(Ue.tagName==="SPAN"&&(Ue=(ze=Ue.parentNode)==null?void 0:ze.parentNode),Ue.tagName==="DIV"&&(Ue=Ue.parentNode),Ue.tagName!=="TD")return;const qe=Ue.parentNode.rowIndex,kt=Ue.cellIndex;$e.value[qe][kt].disabled||(qe!==_e.value||kt!==Ce.value)&&(_e.value=qe,Ce.value=kt,g("changerange",{selecting:!0,endDate:y.date.startOf("year").month(qe*4+kt)}))},Fe=Ve=>{var ze;const Ue=(ze=Ve.target)==null?void 0:ze.closest("td");if((Ue==null?void 0:Ue.tagName)!=="TD"||hasClass(Ue,"disabled"))return;const qe=Ue.cellIndex,Et=Ue.parentNode.rowIndex*4+qe,Pt=y.date.startOf("year").month(Et);if(y.selectionMode==="months"){if(Ve.type==="keydown"){g("pick",castArray(y.parsedValue),!1);return}const At=getValidDateOfMonth(y.date.year(),Et,re.value,y.disabledDate),Dt=hasClass(Ue,"current")?castArray(y.parsedValue).filter(Lt=>(Lt==null?void 0:Lt.month())!==At.month()):castArray(y.parsedValue).concat([dayjs(At)]);g("pick",Dt)}else y.selectionMode==="range"?y.rangeState.selecting?(y.minDate&&Pt>=y.minDate?g("pick",{minDate:y.minDate,maxDate:Pt}):g("pick",{minDate:Pt,maxDate:y.minDate}),g("select",!1)):(g("pick",{minDate:Pt,maxDate:null}),g("select",!0)):g("pick",Et)};return watch$1(()=>y.date,async()=>{var Ve,ze;(Ve=ae.value)!=null&&Ve.contains(document.activeElement)&&(await nextTick$1(),(ze=le.value)==null||ze.focus())}),n({focus:Oe}),(Ve,ze)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(L)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref($).b()),onClick:Fe,onMousemove:Ie},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:ae},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($e),(Ue,qe)=>(openBlock(),createElementBlock("tr",{key:qe},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ue,(kt,Et)=>(openBlock(),createElementBlock("td",{key:Et,ref_for:!0,ref:Pt=>Ne(kt)&&(le.value=Pt),class:normalizeClass(xe(kt)),"aria-selected":`${Ne(kt)}`,"aria-label":unref(L)(`el.datepicker.month${+kt.text+1}`),tabindex:Ne(kt)?0:-1,onKeydown:[withKeys(withModifiers(Fe,["prevent","stop"]),["space"]),withKeys(withModifiers(Fe,["prevent","stop"]),["enter"])]},[createVNode$1(unref(ElDatePickerCell),{cell:{...kt,renderText:unref(L)("el.datepicker.months."+ue.value[kt.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var MonthTable=_export_sfc(_sfc_main$2V,[["__file","basic-month-table.vue"]]);const basicYearTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("year")}),_sfc_main$2U=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["changerange","pick","select"],setup(r,{expose:n,emit:g}){const y=r,$=(ze,Ue)=>{const qe=dayjs(String(ze)).locale(Ue).startOf("year"),Et=qe.endOf("year").dayOfYear();return rangeArr(Et).map(Pt=>qe.add(Pt,"day").toDate())},L=useNamespace$1("year-table"),{t:re,lang:ae}=useLocale(),le=ref$1(),ue=ref$1(),he=computed(()=>Math.floor(y.date.year()/10)*10),_e=ref$1([[],[],[]]),Ce=ref$1(),$e=ref$1(),Oe=computed(()=>{var ze;const Ue=_e.value,qe=dayjs().locale(ae.value).startOf("year");for(let kt=0;kt<3;kt++){const Et=Ue[kt];for(let Pt=0;Pt<4&&!(kt*4+Pt>=10);Pt++){let At=Et[Pt];At||(At={row:kt,column:Pt,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),At.type="normal";const Dt=kt*4+Pt+he.value,Lt=dayjs().year(Dt),hn=y.rangeState.endDate||y.maxDate||y.rangeState.selecting&&y.minDate||null;At.inRange=!!(y.minDate&&Lt.isSameOrAfter(y.minDate,"year")&&hn&&Lt.isSameOrBefore(hn,"year"))||!!(y.minDate&&Lt.isSameOrBefore(y.minDate,"year")&&hn&&Lt.isSameOrAfter(hn,"year")),(ze=y.minDate)!=null&&ze.isSameOrAfter(hn)?(At.start=!!(hn&&Lt.isSame(hn,"year")),At.end=!!(y.minDate&&Lt.isSame(y.minDate,"year"))):(At.start=!!(y.minDate&&Lt.isSame(y.minDate,"year")),At.end=!!(hn&&Lt.isSame(hn,"year"))),qe.isSame(Lt)&&(At.type="today"),At.text=Dt;const vn=Lt.toDate();At.disabled=y.disabledDate&&y.disabledDate(vn)||!1,Et[Pt]=At}}return Ue}),xe=()=>{var ze;(ze=ue.value)==null||ze.focus()},Ne=ze=>{const Ue={},qe=dayjs().locale(ae.value),kt=ze.text;return Ue.disabled=y.disabledDate?$(kt,ae.value).every(y.disabledDate):!1,Ue.today=qe.year()===kt,Ue.current=castArray(y.parsedValue).findIndex(Et=>Et.year()===kt)>=0,ze.inRange&&(Ue["in-range"]=!0,ze.start&&(Ue["start-date"]=!0),ze.end&&(Ue["end-date"]=!0)),Ue},Ie=ze=>{const Ue=ze.text;return castArray(y.date).findIndex(qe=>qe.year()===Ue)>=0},Fe=ze=>{var Ue;const qe=(Ue=ze.target)==null?void 0:Ue.closest("td");if(!qe||!qe.textContent||hasClass(qe,"disabled"))return;const kt=qe.cellIndex,Pt=qe.parentNode.rowIndex*4+kt+he.value,At=dayjs().year(Pt);if(y.selectionMode==="range")y.rangeState.selecting?(y.minDate&&At>=y.minDate?g("pick",{minDate:y.minDate,maxDate:At}):g("pick",{minDate:At,maxDate:y.minDate}),g("select",!1)):(g("pick",{minDate:At,maxDate:null}),g("select",!0));else if(y.selectionMode==="years"){if(ze.type==="keydown"){g("pick",castArray(y.parsedValue),!1);return}const Dt=getValidDateOfYear(At.startOf("year"),ae.value,y.disabledDate),Lt=hasClass(qe,"current")?castArray(y.parsedValue).filter(hn=>(hn==null?void 0:hn.year())!==Pt):castArray(y.parsedValue).concat([Dt]);g("pick",Lt)}else g("pick",Pt)},Ve=ze=>{var Ue;if(!y.rangeState.selecting)return;const qe=(Ue=ze.target)==null?void 0:Ue.closest("td");if(!qe)return;const kt=qe.parentNode.rowIndex,Et=qe.cellIndex;Oe.value[kt][Et].disabled||(kt!==Ce.value||Et!==$e.value)&&(Ce.value=kt,$e.value=Et,g("changerange",{selecting:!0,endDate:dayjs().year(he.value).add(kt*4+Et,"year")}))};return watch$1(()=>y.date,async()=>{var ze,Ue;(ze=le.value)!=null&&ze.contains(document.activeElement)&&(await nextTick$1(),(Ue=ue.value)==null||Ue.focus())}),n({focus:xe}),(ze,Ue)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(re)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref(L).b()),onClick:Fe,onMousemove:Ve},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:le},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Oe),(qe,kt)=>(openBlock(),createElementBlock("tr",{key:kt},[(openBlock(!0),createElementBlock(Fragment,null,renderList(qe,(Et,Pt)=>(openBlock(),createElementBlock("td",{key:`${kt}_${Pt}`,ref_for:!0,ref:At=>Ie(Et)&&(ue.value=At),class:normalizeClass(["available",Ne(Et)]),"aria-selected":Ie(Et),"aria-label":String(Et.text),tabindex:Ie(Et)?0:-1,onKeydown:[withKeys(withModifiers(Fe,["prevent","stop"]),["space"]),withKeys(withModifiers(Fe,["prevent","stop"]),["enter"])]},[createVNode$1(unref(ElDatePickerCell),{cell:Et},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var YearTable=_export_sfc(_sfc_main$2U,[["__file","basic-year-table.vue"]]);const _sfc_main$2T=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(r,{emit:n}){const g=r,y=(Vn,kn,Ln)=>!0,$=useNamespace$1("picker-panel"),L=useNamespace$1("date-picker"),re=useAttrs$1(),ae=useSlots(),{t:le,lang:ue}=useLocale(),he=inject("EP_PICKER_BASE"),_e=inject(TOOLTIP_INJECTION_KEY),{shortcuts:Ce,disabledDate:$e,cellClassName:Oe,defaultTime:xe}=he.props,Ne=toRef(he.props,"defaultValue"),Ie=ref$1(),Fe=ref$1(dayjs().locale(ue.value)),Ve=ref$1(!1);let ze=!1;const Ue=computed(()=>dayjs(xe).locale(ue.value)),qe=computed(()=>Fe.value.month()),kt=computed(()=>Fe.value.year()),Et=ref$1([]),Pt=ref$1(null),At=ref$1(null),Dt=Vn=>Et.value.length>0?y(Vn,Et.value,g.format||"HH:mm:ss"):!0,Lt=Vn=>xe&&!qn.value&&!Ve.value&&!ze?Ue.value.year(Vn.year()).month(Vn.month()).date(Vn.date()):Nn.value?Vn.millisecond(0):Vn.startOf("day"),hn=(Vn,...kn)=>{if(!Vn)n("pick",Vn,...kn);else if(isArray$5(Vn)){const Ln=Vn.map(Lt);n("pick",Ln,...kn)}else n("pick",Lt(Vn),...kn);Pt.value=null,At.value=null,Ve.value=!1,ze=!1},_n=async(Vn,kn)=>{if(wn.value==="date"){Vn=Vn;let Ln=g.parsedValue?g.parsedValue.year(Vn.year()).month(Vn.month()).date(Vn.date()):Vn;Dt(Ln)||(Ln=Et.value[0][0].year(Vn.year()).month(Vn.month()).date(Vn.date())),Fe.value=Ln,hn(Ln,Nn.value||kn),g.type==="datetime"&&(await nextTick$1(),hr())}else wn.value==="week"?hn(Vn.date):wn.value==="dates"&&hn(Vn,!0)},vn=Vn=>{const kn=Vn?"add":"subtract";Fe.value=Fe.value[kn](1,"month"),_r("month")},jt=Vn=>{const kn=Fe.value,Ln=Vn?"add":"subtract";Fe.value=$n.value==="year"?kn[Ln](10,"year"):kn[Ln](1,"year"),_r("year")},$n=ref$1("date"),Sn=computed(()=>{const Vn=le("el.datepicker.year");if($n.value==="year"){const kn=Math.floor(kt.value/10)*10;return Vn?`${kn} ${Vn} - ${kn+9} ${Vn}`:`${kn} - ${kn+9}`}return`${kt.value} ${Vn}`}),bn=Vn=>{const kn=isFunction$3(Vn.value)?Vn.value():Vn.value;if(kn){ze=!0,hn(dayjs(kn).locale(ue.value));return}Vn.onClick&&Vn.onClick({attrs:re,slots:ae,emit:n})},wn=computed(()=>{const{type:Vn}=g;return["week","month","months","year","years","dates"].includes(Vn)?Vn:"date"}),On=computed(()=>wn.value==="dates"||wn.value==="months"||wn.value==="years"),Tn=computed(()=>wn.value==="date"?$n.value:wn.value),xn=computed(()=>!!Ce.length),Pn=async(Vn,kn)=>{wn.value==="month"?(Fe.value=getValidDateOfMonth(Fe.value.year(),Vn,ue.value,$e),hn(Fe.value,!1)):wn.value==="months"?hn(Vn,kn??!0):(Fe.value=getValidDateOfMonth(Fe.value.year(),Vn,ue.value,$e),$n.value="date",["month","year","date","week"].includes(wn.value)&&(hn(Fe.value,!0),await nextTick$1(),hr())),_r("month")},An=async(Vn,kn)=>{if(wn.value==="year"){const Ln=Fe.value.startOf("year").year(Vn);Fe.value=getValidDateOfYear(Ln,ue.value,$e),hn(Fe.value,!1)}else if(wn.value==="years")hn(Vn,kn??!0);else{const Ln=Fe.value.year(Vn);Fe.value=getValidDateOfYear(Ln,ue.value,$e),$n.value="month",["month","year","date","week"].includes(wn.value)&&(hn(Fe.value,!0),await nextTick$1(),hr())}_r("year")},Rn=async Vn=>{$n.value=Vn,await nextTick$1(),hr()},Nn=computed(()=>g.type==="datetime"||g.type==="datetimerange"),Dn=computed(()=>{const Vn=Nn.value||wn.value==="dates",kn=wn.value==="years",Ln=wn.value==="months",En=$n.value==="date",zn=$n.value==="year",Kn=$n.value==="month";return Vn&&En||kn&&zn||Ln&&Kn}),In=computed(()=>$e?g.parsedValue?isArray$5(g.parsedValue)?$e(g.parsedValue[0].toDate()):$e(g.parsedValue.toDate()):!0:!1),Fn=()=>{if(On.value)hn(g.parsedValue);else{let Vn=g.parsedValue;if(!Vn){const kn=dayjs(xe).locale(ue.value),Ln=vr();Vn=kn.year(Ln.year()).month(Ln.month()).date(Ln.date())}Fe.value=Vn,hn(Vn)}},Bn=computed(()=>$e?$e(dayjs().locale(ue.value).toDate()):!1),Mn=()=>{const kn=dayjs().locale(ue.value).toDate();Ve.value=!0,(!$e||!$e(kn))&&Dt(kn)&&(Fe.value=dayjs().locale(ue.value),hn(Fe.value))},Hn=computed(()=>g.timeFormat||extractTimeFormat(g.format)),Yn=computed(()=>g.dateFormat||extractDateFormat(g.format)),qn=computed(()=>{if(At.value)return At.value;if(!(!g.parsedValue&&!Ne.value))return(g.parsedValue||Fe.value).format(Hn.value)}),Xn=computed(()=>{if(Pt.value)return Pt.value;if(!(!g.parsedValue&&!Ne.value))return(g.parsedValue||Fe.value).format(Yn.value)}),jn=ref$1(!1),Zn=()=>{jn.value=!0},Un=()=>{jn.value=!1},Jn=Vn=>({hour:Vn.hour(),minute:Vn.minute(),second:Vn.second(),year:Vn.year(),month:Vn.month(),date:Vn.date()}),tr=(Vn,kn,Ln)=>{const{hour:En,minute:zn,second:Kn}=Jn(Vn),ir=g.parsedValue?g.parsedValue.hour(En).minute(zn).second(Kn):Vn;Fe.value=ir,hn(Fe.value,!0),Ln||(jn.value=kn)},sr=Vn=>{const kn=dayjs(Vn,Hn.value).locale(ue.value);if(kn.isValid()&&Dt(kn)){const{year:Ln,month:En,date:zn}=Jn(Fe.value);Fe.value=kn.year(Ln).month(En).date(zn),At.value=null,jn.value=!1,hn(Fe.value,!0)}},or=Vn=>{const kn=dayjs(Vn,Yn.value).locale(ue.value);if(kn.isValid()){if($e&&$e(kn.toDate()))return;const{hour:Ln,minute:En,second:zn}=Jn(Fe.value);Fe.value=kn.hour(Ln).minute(En).second(zn),Pt.value=null,hn(Fe.value,!0)}},Qn=Vn=>dayjs.isDayjs(Vn)&&Vn.isValid()&&($e?!$e(Vn.toDate()):!0),rr=Vn=>isArray$5(Vn)?Vn.map(kn=>kn.format(g.format)):Vn.format(g.format),cr=Vn=>dayjs(Vn,g.format).locale(ue.value),vr=()=>{const Vn=dayjs(Ne.value).locale(ue.value);if(!Ne.value){const kn=Ue.value;return dayjs().hour(kn.hour()).minute(kn.minute()).second(kn.second()).locale(ue.value)}return Vn},hr=()=>{var Vn;["week","month","year","date"].includes(wn.value)&&((Vn=Ie.value)==null||Vn.focus())},br=()=>{hr(),wn.value==="week"&&Tr(EVENT_CODE.down)},pr=Vn=>{const{code:kn}=Vn;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(kn)&&(Tr(kn),Vn.stopPropagation(),Vn.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(kn)&&Pt.value===null&&At.value===null&&(Vn.preventDefault(),hn(Fe.value,!1))},Tr=Vn=>{var kn;const{up:Ln,down:En,left:zn,right:Kn,home:ir,end:fr,pageUp:Sr,pageDown:Cr}=EVENT_CODE,mr={year:{[Ln]:-4,[En]:4,[zn]:-1,[Kn]:1,offset:(yr,wr)=>yr.setFullYear(yr.getFullYear()+wr)},month:{[Ln]:-4,[En]:4,[zn]:-1,[Kn]:1,offset:(yr,wr)=>yr.setMonth(yr.getMonth()+wr)},week:{[Ln]:-1,[En]:1,[zn]:-1,[Kn]:1,offset:(yr,wr)=>yr.setDate(yr.getDate()+wr*7)},date:{[Ln]:-7,[En]:7,[zn]:-1,[Kn]:1,[ir]:yr=>-yr.getDay(),[fr]:yr=>-yr.getDay()+6,[Sr]:yr=>-new Date(yr.getFullYear(),yr.getMonth(),0).getDate(),[Cr]:yr=>new Date(yr.getFullYear(),yr.getMonth()+1,0).getDate(),offset:(yr,wr)=>yr.setDate(yr.getDate()+wr)}},$r=Fe.value.toDate();for(;Math.abs(Fe.value.diff($r,"year",!0))<1;){const yr=mr[Tn.value];if(!yr)return;if(yr.offset($r,isFunction$3(yr[Vn])?yr[Vn]($r):(kn=yr[Vn])!=null?kn:0),$e&&$e($r))break;const wr=dayjs($r).locale(ue.value);Fe.value=wr,n("pick",wr,!0);break}},_r=Vn=>{n("panel-change",Fe.value.toDate(),Vn,$n.value)};return watch$1(()=>wn.value,Vn=>{if(["month","year"].includes(Vn)){$n.value=Vn;return}else if(Vn==="years"){$n.value="year";return}else if(Vn==="months"){$n.value="month";return}$n.value="date"},{immediate:!0}),watch$1(()=>$n.value,()=>{_e==null||_e.updatePopper()}),watch$1(()=>Ne.value,Vn=>{Vn&&(Fe.value=vr())},{immediate:!0}),watch$1(()=>g.parsedValue,Vn=>{if(Vn){if(On.value||isArray$5(Vn))return;Fe.value=Vn}else Fe.value=vr()},{immediate:!0}),n("set-picker-option",["isValidValue",Qn]),n("set-picker-option",["formatToString",rr]),n("set-picker-option",["parseUserInput",cr]),n("set-picker-option",["handleFocusPicker",br]),(Vn,kn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref($).b(),unref(L).b(),{"has-sidebar":Vn.$slots.sidebar||unref(xn),"has-time":unref(Nn)}])},[createBaseVNode("div",{class:normalizeClass(unref($).e("body-wrapper"))},[renderSlot(Vn.$slots,"sidebar",{class:normalizeClass(unref($).e("sidebar"))}),unref(xn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ce),(Ln,En)=>(openBlock(),createElementBlock("button",{key:En,type:"button",class:normalizeClass(unref($).e("shortcut")),onClick:zn=>bn(Ln)},toDisplayString(Ln.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref($).e("body"))},[unref(Nn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(L).e("editor-wrap"))},[createVNode$1(unref(ElInput),{placeholder:unref(le)("el.datepicker.selectDate"),"model-value":unref(Xn),size:"small","validate-event":!1,onInput:Ln=>Pt.value=Ln,onChange:or},null,8,["placeholder","model-value","onInput"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(L).e("editor-wrap"))},[createVNode$1(unref(ElInput),{placeholder:unref(le)("el.datepicker.selectTime"),"model-value":unref(qn),size:"small","validate-event":!1,onFocus:Zn,onInput:Ln=>At.value=Ln,onChange:sr},null,8,["placeholder","model-value","onInput"]),createVNode$1(unref(TimePickPanel),{visible:jn.value,format:unref(Hn),"parsed-value":Fe.value,onPick:tr},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Un]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref(L).e("header"),($n.value==="year"||$n.value==="month")&&unref(L).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref(L).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(le)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref($).e("icon-btn")]),onClick:Ln=>jt(!1)},[renderSlot(Vn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["aria-label","onClick"]),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(le)("el.datepicker.prevMonth"),class:normalizeClass([unref($).e("icon-btn"),"arrow-left"]),onClick:Ln=>vn(!1)},[renderSlot(Vn.$slots,"prev-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})])],10,["aria-label","onClick"]),[[vShow,$n.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref(L).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:withKeys(Ln=>Rn("year"),["enter"]),onClick:Ln=>Rn("year")},toDisplayString(unref(Sn)),43,["onKeydown","onClick"]),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(L).e("header-label"),{active:$n.value==="month"}]),onKeydown:withKeys(Ln=>Rn("month"),["enter"]),onClick:Ln=>Rn("month")},toDisplayString(unref(le)(`el.datepicker.month${unref(qe)+1}`)),43,["onKeydown","onClick"]),[[vShow,$n.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref(L).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(le)("el.datepicker.nextMonth"),class:normalizeClass([unref($).e("icon-btn"),"arrow-right"]),onClick:Ln=>vn(!0)},[renderSlot(Vn.$slots,"next-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})])],10,["aria-label","onClick"]),[[vShow,$n.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(le)("el.datepicker.nextYear"),class:normalizeClass([unref($).e("icon-btn"),"d-arrow-right"]),onClick:Ln=>jt(!0)},[renderSlot(Vn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[vShow,$n.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref($).e("content")),onKeydown:pr},[$n.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:Ie,"selection-mode":unref(wn),date:Fe.value,"parsed-value":Vn.parsedValue,"disabled-date":unref($e),"cell-class-name":unref(Oe),onPick:_n},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),$n.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:Ie,"selection-mode":unref(wn),date:Fe.value,"disabled-date":unref($e),"parsed-value":Vn.parsedValue,onPick:An},null,8,["selection-mode","date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),$n.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:Ie,"selection-mode":unref(wn),date:Fe.value,"parsed-value":Vn.parsedValue,"disabled-date":unref($e),onPick:Pn},null,8,["selection-mode","date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref($).e("footer"))},[withDirectives(createVNode$1(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref($).e("link-btn")),disabled:unref(Bn),onClick:Mn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(le)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vShow,!unref(On)&&Vn.showNow]]),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref($).e("link-btn")),disabled:unref(In),onClick:Fn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(le)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[vShow,unref(Dn)]])],2))}});var DatePickPanel=_export_sfc(_sfc_main$2T,[["__file","panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps,visible:Boolean}),useShortcut=r=>{const{emit:n}=getCurrentInstance(),g=useAttrs$1(),y=useSlots();return L=>{const re=isFunction$3(L.value)?L.value():L.value;if(re){n("pick",[dayjs(re[0]).locale(r.value),dayjs(re[1]).locale(r.value)]);return}L.onClick&&L.onClick({attrs:g,slots:y,emit:n})}},useRangePicker=(r,{defaultValue:n,leftDate:g,rightDate:y,unit:$,onParsedValueChanged:L})=>{const{emit:re}=getCurrentInstance(),{pickerNs:ae}=inject(ROOT_PICKER_INJECTION_KEY),le=useNamespace$1("date-range-picker"),{t:ue,lang:he}=useLocale(),_e=useShortcut(he),Ce=ref$1(),$e=ref$1(),Oe=ref$1({endDate:null,selecting:!1}),xe=ze=>{Oe.value=ze},Ne=(ze=!1)=>{const Ue=unref(Ce),qe=unref($e);isValidRange([Ue,qe])&&re("pick",[Ue,qe],ze)},Ie=ze=>{Oe.value.selecting=ze,ze||(Oe.value.endDate=null)},Fe=ze=>{if(isArray$5(ze)&&ze.length===2){const[Ue,qe]=ze;Ce.value=Ue,g.value=Ue,$e.value=qe,L(unref(Ce),unref($e))}else Ve()},Ve=()=>{const[ze,Ue]=getDefaultValue(unref(n),{lang:unref(he),unit:$,unlinkPanels:r.unlinkPanels});Ce.value=void 0,$e.value=void 0,g.value=ze,y.value=Ue};return watch$1(n,ze=>{ze&&Ve()},{immediate:!0}),watch$1(()=>r.parsedValue,Fe,{immediate:!0}),{minDate:Ce,maxDate:$e,rangeState:Oe,lang:he,ppNs:ae,drpNs:le,handleChangeRange:xe,handleRangeConfirm:Ne,handleShortcutClick:_e,onSelect:Ie,onReset:Fe,t:ue}},unit$2="month",_sfc_main$2S=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(r,{emit:n}){const g=r,y=inject("EP_PICKER_BASE"),{disabledDate:$,cellClassName:L,defaultTime:re,clearable:ae}=y.props,le=toRef(y.props,"format"),ue=toRef(y.props,"shortcuts"),he=toRef(y.props,"defaultValue"),{lang:_e}=useLocale(),Ce=ref$1(dayjs().locale(_e.value)),$e=ref$1(dayjs().locale(_e.value).add(1,unit$2)),{minDate:Oe,maxDate:xe,rangeState:Ne,ppNs:Ie,drpNs:Fe,handleChangeRange:Ve,handleRangeConfirm:ze,handleShortcutClick:Ue,onSelect:qe,onReset:kt,t:Et}=useRangePicker(g,{defaultValue:he,leftDate:Ce,rightDate:$e,unit:unit$2,onParsedValueChanged:Vn});watch$1(()=>g.visible,kn=>{!kn&&Ne.value.selecting&&(kt(g.parsedValue),qe(!1))});const Pt=ref$1({min:null,max:null}),At=ref$1({min:null,max:null}),Dt=computed(()=>`${Ce.value.year()} ${Et("el.datepicker.year")} ${Et(`el.datepicker.month${Ce.value.month()+1}`)}`),Lt=computed(()=>`${$e.value.year()} ${Et("el.datepicker.year")} ${Et(`el.datepicker.month${$e.value.month()+1}`)}`),hn=computed(()=>Ce.value.year()),_n=computed(()=>Ce.value.month()),vn=computed(()=>$e.value.year()),jt=computed(()=>$e.value.month()),$n=computed(()=>!!ue.value.length),Sn=computed(()=>Pt.value.min!==null?Pt.value.min:Oe.value?Oe.value.format(xn.value):""),bn=computed(()=>Pt.value.max!==null?Pt.value.max:xe.value||Oe.value?(xe.value||Oe.value).format(xn.value):""),wn=computed(()=>At.value.min!==null?At.value.min:Oe.value?Oe.value.format(Tn.value):""),On=computed(()=>At.value.max!==null?At.value.max:xe.value||Oe.value?(xe.value||Oe.value).format(Tn.value):""),Tn=computed(()=>g.timeFormat||extractTimeFormat(le.value)),xn=computed(()=>g.dateFormat||extractDateFormat(le.value)),Pn=kn=>isValidRange(kn)&&($?!$(kn[0].toDate())&&!$(kn[1].toDate()):!0),An=()=>{Ce.value=Ce.value.subtract(1,"year"),g.unlinkPanels||($e.value=Ce.value.add(1,"month")),Hn("year")},Rn=()=>{Ce.value=Ce.value.subtract(1,"month"),g.unlinkPanels||($e.value=Ce.value.add(1,"month")),Hn("month")},Nn=()=>{g.unlinkPanels?$e.value=$e.value.add(1,"year"):(Ce.value=Ce.value.add(1,"year"),$e.value=Ce.value.add(1,"month")),Hn("year")},Dn=()=>{g.unlinkPanels?$e.value=$e.value.add(1,"month"):(Ce.value=Ce.value.add(1,"month"),$e.value=Ce.value.add(1,"month")),Hn("month")},In=()=>{Ce.value=Ce.value.add(1,"year"),Hn("year")},Fn=()=>{Ce.value=Ce.value.add(1,"month"),Hn("month")},Bn=()=>{$e.value=$e.value.subtract(1,"year"),Hn("year")},Mn=()=>{$e.value=$e.value.subtract(1,"month"),Hn("month")},Hn=kn=>{n("panel-change",[Ce.value.toDate(),$e.value.toDate()],kn)},Yn=computed(()=>{const kn=(_n.value+1)%12,Ln=_n.value+1>=12?1:0;return g.unlinkPanels&&new Date(hn.value+Ln,kn)<new Date(vn.value,jt.value)}),qn=computed(()=>g.unlinkPanels&&vn.value*12+jt.value-(hn.value*12+_n.value+1)>=12),Xn=computed(()=>!(Oe.value&&xe.value&&!Ne.value.selecting&&isValidRange([Oe.value,xe.value]))),jn=computed(()=>g.type==="datetime"||g.type==="datetimerange"),Zn=(kn,Ln)=>{if(kn)return re?dayjs(re[Ln]||re).locale(_e.value).year(kn.year()).month(kn.month()).date(kn.date()):kn},Un=(kn,Ln=!0)=>{const En=kn.minDate,zn=kn.maxDate,Kn=Zn(En,0),ir=Zn(zn,1);xe.value===ir&&Oe.value===Kn||(n("calendar-change",[En.toDate(),zn&&zn.toDate()]),xe.value=ir,Oe.value=Kn,!(!Ln||jn.value)&&ze())},Jn=ref$1(!1),tr=ref$1(!1),sr=()=>{Jn.value=!1},or=()=>{tr.value=!1},Qn=(kn,Ln)=>{Pt.value[Ln]=kn;const En=dayjs(kn,xn.value).locale(_e.value);if(En.isValid()){if($&&$(En.toDate()))return;Ln==="min"?(Ce.value=En,Oe.value=(Oe.value||Ce.value).year(En.year()).month(En.month()).date(En.date()),!g.unlinkPanels&&(!xe.value||xe.value.isBefore(Oe.value))&&($e.value=En.add(1,"month"),xe.value=Oe.value.add(1,"month"))):($e.value=En,xe.value=(xe.value||$e.value).year(En.year()).month(En.month()).date(En.date()),!g.unlinkPanels&&(!Oe.value||Oe.value.isAfter(xe.value))&&(Ce.value=En.subtract(1,"month"),Oe.value=xe.value.subtract(1,"month")))}},rr=(kn,Ln)=>{Pt.value[Ln]=null},cr=(kn,Ln)=>{At.value[Ln]=kn;const En=dayjs(kn,Tn.value).locale(_e.value);En.isValid()&&(Ln==="min"?(Jn.value=!0,Oe.value=(Oe.value||Ce.value).hour(En.hour()).minute(En.minute()).second(En.second())):(tr.value=!0,xe.value=(xe.value||$e.value).hour(En.hour()).minute(En.minute()).second(En.second()),$e.value=xe.value))},vr=(kn,Ln)=>{At.value[Ln]=null,Ln==="min"?(Ce.value=Oe.value,Jn.value=!1,(!xe.value||xe.value.isBefore(Oe.value))&&(xe.value=Oe.value)):($e.value=xe.value,tr.value=!1,xe.value&&xe.value.isBefore(Oe.value)&&(Oe.value=xe.value))},hr=(kn,Ln,En)=>{At.value.min||(kn&&(Ce.value=kn,Oe.value=(Oe.value||Ce.value).hour(kn.hour()).minute(kn.minute()).second(kn.second())),En||(Jn.value=Ln),(!xe.value||xe.value.isBefore(Oe.value))&&(xe.value=Oe.value,$e.value=kn))},br=(kn,Ln,En)=>{At.value.max||(kn&&($e.value=kn,xe.value=(xe.value||$e.value).hour(kn.hour()).minute(kn.minute()).second(kn.second())),En||(tr.value=Ln),xe.value&&xe.value.isBefore(Oe.value)&&(Oe.value=xe.value))},pr=()=>{Ce.value=getDefaultValue(unref(he),{lang:unref(_e),unit:"month",unlinkPanels:g.unlinkPanels})[0],$e.value=Ce.value.add(1,"month"),xe.value=void 0,Oe.value=void 0,n("pick",null)},Tr=kn=>isArray$5(kn)?kn.map(Ln=>Ln.format(le.value)):kn.format(le.value),_r=kn=>isArray$5(kn)?kn.map(Ln=>dayjs(Ln,le.value).locale(_e.value)):dayjs(kn,le.value).locale(_e.value);function Vn(kn,Ln){if(g.unlinkPanels&&Ln){const En=(kn==null?void 0:kn.year())||0,zn=(kn==null?void 0:kn.month())||0,Kn=Ln.year(),ir=Ln.month();$e.value=En===Kn&&zn===ir?Ln.add(1,unit$2):Ln}else $e.value=Ce.value.add(1,unit$2),Ln&&($e.value=$e.value.hour(Ln.hour()).minute(Ln.minute()).second(Ln.second()))}return n("set-picker-option",["isValidValue",Pn]),n("set-picker-option",["parseUserInput",_r]),n("set-picker-option",["formatToString",Tr]),n("set-picker-option",["handleClear",pr]),(kn,Ln)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Ie).b(),unref(Fe).b(),{"has-sidebar":kn.$slots.sidebar||unref($n),"has-time":unref(jn)}])},[createBaseVNode("div",{class:normalizeClass(unref(Ie).e("body-wrapper"))},[renderSlot(kn.$slots,"sidebar",{class:normalizeClass(unref(Ie).e("sidebar"))}),unref($n)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ie).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ue),(En,zn)=>(openBlock(),createElementBlock("button",{key:zn,type:"button",class:normalizeClass(unref(Ie).e("shortcut")),onClick:Kn=>unref(Ue)(En)},toDisplayString(En.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ie).e("body"))},[unref(jn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Fe).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(Fe).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(Fe).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",disabled:unref(Ne).selecting,placeholder:unref(Et)("el.datepicker.startDate"),class:normalizeClass(unref(Fe).e("editor")),"model-value":unref(Sn),"validate-event":!1,onInput:En=>Qn(En,"min"),onChange:En=>rr(En,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Fe).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(Fe).e("editor")),disabled:unref(Ne).selecting,placeholder:unref(Et)("el.datepicker.startTime"),"model-value":unref(wn),"validate-event":!1,onFocus:En=>Jn.value=!0,onInput:En=>cr(En,"min"),onChange:En=>vr(En,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),createVNode$1(unref(TimePickPanel),{visible:Jn.value,format:unref(Tn),"datetime-role":"start","parsed-value":Ce.value,onPick:hr},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),sr]])],2),createBaseVNode("span",null,[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(Fe).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(Fe).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(Fe).e("editor")),disabled:unref(Ne).selecting,placeholder:unref(Et)("el.datepicker.endDate"),"model-value":unref(bn),readonly:!unref(Oe),"validate-event":!1,onInput:En=>Qn(En,"max"),onChange:En=>rr(En,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(Fe).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(Fe).e("editor")),disabled:unref(Ne).selecting,placeholder:unref(Et)("el.datepicker.endTime"),"model-value":unref(On),readonly:!unref(Oe),"validate-event":!1,onFocus:En=>unref(Oe)&&(tr.value=!0),onInput:En=>cr(En,"max"),onChange:En=>vr(En,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),createVNode$1(unref(TimePickPanel),{"datetime-role":"end",visible:tr.value,format:unref(Tn),"parsed-value":$e.value,onPick:br},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),or]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(Ie).e("content"),unref(Fe).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(Fe).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"d-arrow-left"]),"aria-label":unref(Et)("el.datepicker.prevYear"),onClick:An},[renderSlot(kn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["aria-label"]),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"arrow-left"]),"aria-label":unref(Et)("el.datepicker.prevMonth"),onClick:Rn},[renderSlot(kn.$slots,"prev-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})])],10,["aria-label"]),kn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(qn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(qn)}],"d-arrow-right"]),"aria-label":unref(Et)("el.datepicker.nextYear"),onClick:In},[renderSlot(kn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),kn.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Yn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(Yn)}],"arrow-right"]),"aria-label":unref(Et)("el.datepicker.nextMonth"),onClick:Fn},[renderSlot(kn.$slots,"next-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Dt)),1)],2),createVNode$1(DateTable,{"selection-mode":"range",date:Ce.value,"min-date":unref(Oe),"max-date":unref(xe),"range-state":unref(Ne),"disabled-date":unref($),"cell-class-name":unref(L),onChangerange:unref(Ve),onPick:Un,onSelect:unref(qe)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(Ie).e("content"),unref(Fe).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(Fe).e("header"))},[kn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(qn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(qn)}],"d-arrow-left"]),"aria-label":unref(Et)("el.datepicker.prevYear"),onClick:Bn},[renderSlot(kn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),kn.unlinkPanels?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(Yn),class:normalizeClass([[unref(Ie).e("icon-btn"),{"is-disabled":!unref(Yn)}],"arrow-left"]),"aria-label":unref(Et)("el.datepicker.prevMonth"),onClick:Mn},[renderSlot(kn.$slots,"prev-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button","aria-label":unref(Et)("el.datepicker.nextYear"),class:normalizeClass([unref(Ie).e("icon-btn"),"d-arrow-right"]),onClick:Nn},[renderSlot(kn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["aria-label"]),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ie).e("icon-btn"),"arrow-right"]),"aria-label":unref(Et)("el.datepicker.nextMonth"),onClick:Dn},[renderSlot(kn.$slots,"next-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})])],10,["aria-label"]),createBaseVNode("div",null,toDisplayString(unref(Lt)),1)],2),createVNode$1(DateTable,{"selection-mode":"range",date:$e.value,"min-date":unref(Oe),"max-date":unref(xe),"range-state":unref(Ne),"disabled-date":unref($),"cell-class-name":unref(L),onChangerange:unref(Ve),onPick:Un,onSelect:unref(qe)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),unref(jn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Ie).e("footer"))},[unref(ae)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(Ie).e("link-btn")),onClick:pr},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Et)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(Ie).e("link-btn")),disabled:unref(Xn),onClick:En=>unref(ze)(!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Et)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc(_sfc_main$2S,[["__file","panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option","calendar-change"],useMonthRangeHeader=({unlinkPanels:r,leftDate:n,rightDate:g})=>{const{t:y}=useLocale(),$=()=>{n.value=n.value.subtract(1,"year"),r.value||(g.value=g.value.subtract(1,"year"))},L=()=>{r.value||(n.value=n.value.add(1,"year")),g.value=g.value.add(1,"year")},re=()=>{n.value=n.value.add(1,"year")},ae=()=>{g.value=g.value.subtract(1,"year")},le=computed(()=>`${n.value.year()} ${y("el.datepicker.year")}`),ue=computed(()=>`${g.value.year()} ${y("el.datepicker.year")}`),he=computed(()=>n.value.year()),_e=computed(()=>g.value.year()===n.value.year()?n.value.year()+1:g.value.year());return{leftPrevYear:$,rightNextYear:L,leftNextYear:re,rightPrevYear:ae,leftLabel:le,rightLabel:ue,leftYear:he,rightYear:_e}},unit$1="year",__default__$16=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$2R=defineComponent({...__default__$16,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(r,{emit:n}){const g=r,{lang:y}=useLocale(),$=inject("EP_PICKER_BASE"),{shortcuts:L,disabledDate:re}=$.props,ae=toRef($.props,"format"),le=toRef($.props,"defaultValue"),ue=ref$1(dayjs().locale(y.value)),he=ref$1(dayjs().locale(y.value).add(1,unit$1)),{minDate:_e,maxDate:Ce,rangeState:$e,ppNs:Oe,drpNs:xe,handleChangeRange:Ne,handleRangeConfirm:Ie,handleShortcutClick:Fe,onSelect:Ve}=useRangePicker(g,{defaultValue:le,leftDate:ue,rightDate:he,unit:unit$1,onParsedValueChanged:Sn}),ze=computed(()=>!!L.length),{leftPrevYear:Ue,rightNextYear:qe,leftNextYear:kt,rightPrevYear:Et,leftLabel:Pt,rightLabel:At,leftYear:Dt,rightYear:Lt}=useMonthRangeHeader({unlinkPanels:toRef(g,"unlinkPanels"),leftDate:ue,rightDate:he}),hn=computed(()=>g.unlinkPanels&&Lt.value>Dt.value+1),_n=(bn,wn=!0)=>{const On=bn.minDate,Tn=bn.maxDate;Ce.value===Tn&&_e.value===On||(n("calendar-change",[On.toDate(),Tn&&Tn.toDate()]),Ce.value=Tn,_e.value=On,wn&&Ie())},vn=()=>{ue.value=getDefaultValue(unref(le),{lang:unref(y),unit:"year",unlinkPanels:g.unlinkPanels})[0],he.value=ue.value.add(1,"year"),n("pick",null)},jt=bn=>isArray$5(bn)?bn.map(wn=>wn.format(ae.value)):bn.format(ae.value),$n=bn=>isArray$5(bn)?bn.map(wn=>dayjs(wn,ae.value).locale(y.value)):dayjs(bn,ae.value).locale(y.value);function Sn(bn,wn){if(g.unlinkPanels&&wn){const On=(bn==null?void 0:bn.year())||0,Tn=wn.year();he.value=On===Tn?wn.add(1,unit$1):wn}else he.value=ue.value.add(1,unit$1)}return n("set-picker-option",["isValidValue",isValidRange]),n("set-picker-option",["formatToString",jt]),n("set-picker-option",["parseUserInput",$n]),n("set-picker-option",["handleClear",vn]),(bn,wn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(Oe).b(),unref(xe).b(),{"has-sidebar":!!bn.$slots.sidebar||unref(ze)}])},[createBaseVNode("div",{class:normalizeClass(unref(Oe).e("body-wrapper"))},[renderSlot(bn.$slots,"sidebar",{class:normalizeClass(unref(Oe).e("sidebar"))}),unref(ze)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(Oe).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(L),(On,Tn)=>(openBlock(),createElementBlock("button",{key:Tn,type:"button",class:normalizeClass(unref(Oe).e("shortcut")),onClick:xn=>unref(Fe)(On)},toDisplayString(On.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Oe).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(Oe).e("content"),unref(xe).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(xe).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(Oe).e("icon-btn"),"d-arrow-left"]),onClick:unref(Ue)},[renderSlot(bn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["onClick"]),bn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(hn),class:normalizeClass([[unref(Oe).e("icon-btn"),{[unref(Oe).is("disabled")]:!unref(hn)}],"d-arrow-right"]),onClick:unref(kt)},[renderSlot(bn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Pt)),1)],2),createVNode$1(MonthTable,{"selection-mode":"range",date:ue.value,"min-date":unref(_e),"max-date":unref(Ce),"range-state":unref($e),"disabled-date":unref(re),onChangerange:unref(Ne),onPick:_n,onSelect:unref(Ve)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(Oe).e("content"),unref(xe).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(xe).e("header"))},[bn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(hn),class:normalizeClass([[unref(Oe).e("icon-btn"),{"is-disabled":!unref(hn)}],"d-arrow-left"]),onClick:unref(Et)},[renderSlot(bn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(Oe).e("icon-btn"),"d-arrow-right"]),onClick:unref(qe)},[renderSlot(bn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["onClick"]),createBaseVNode("div",null,toDisplayString(unref(At)),1)],2),createVNode$1(MonthTable,{"selection-mode":"range",date:he.value,"min-date":unref(_e),"max-date":unref(Ce),"range-state":unref($e),"disabled-date":unref(re),onChangerange:unref(Ne),onPick:_n,onSelect:unref(Ve)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc(_sfc_main$2R,[["__file","panel-month-range.vue"]]);const panelYearRangeProps=buildProps({...panelRangeSharedProps}),panelYearRangeEmits=["pick","set-picker-option","calendar-change"],useYearRangeHeader=({unlinkPanels:r,leftDate:n,rightDate:g})=>{const y=()=>{n.value=n.value.subtract(10,"year"),r.value||(g.value=g.value.subtract(10,"year"))},$=()=>{r.value||(n.value=n.value.add(10,"year")),g.value=g.value.add(10,"year")},L=()=>{n.value=n.value.add(10,"year")},re=()=>{g.value=g.value.subtract(10,"year")},ae=computed(()=>{const _e=Math.floor(n.value.year()/10)*10;return`${_e}-${_e+9}`}),le=computed(()=>{const _e=Math.floor(g.value.year()/10)*10;return`${_e}-${_e+9}`}),ue=computed(()=>Math.floor(n.value.year()/10)*10+9),he=computed(()=>Math.floor(g.value.year()/10)*10);return{leftPrevYear:y,rightNextYear:$,leftNextYear:L,rightPrevYear:re,leftLabel:ae,rightLabel:le,leftYear:ue,rightYear:he}},unit="year",__default__$15=defineComponent({name:"DatePickerYearRange"}),_sfc_main$2Q=defineComponent({...__default__$15,props:panelYearRangeProps,emits:panelYearRangeEmits,setup(r,{emit:n}){const g=r,{lang:y}=useLocale(),$=ref$1(dayjs().locale(y.value)),L=ref$1($.value.add(10,"year")),{pickerNs:re}=inject(ROOT_PICKER_INJECTION_KEY),ae=useNamespace$1("date-range-picker"),le=computed(()=>!!_n.length),ue=computed(()=>[re.b(),ae.b(),{"has-sidebar":!!useSlots().sidebar||le.value}]),he=computed(()=>({content:[re.e("content"),ae.e("content"),"is-left"],arrowLeftBtn:[re.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[re.e("icon-btn"),{[re.is("disabled")]:!Ue.value},"d-arrow-right"]})),_e=computed(()=>({content:[re.e("content"),ae.e("content"),"is-right"],arrowLeftBtn:[re.e("icon-btn"),{"is-disabled":!Ue.value},"d-arrow-left"],arrowRightBtn:[re.e("icon-btn"),"d-arrow-right"]})),Ce=useShortcut(y),{leftPrevYear:$e,rightNextYear:Oe,leftNextYear:xe,rightPrevYear:Ne,leftLabel:Ie,rightLabel:Fe,leftYear:Ve,rightYear:ze}=useYearRangeHeader({unlinkPanels:toRef(g,"unlinkPanels"),leftDate:$,rightDate:L}),Ue=computed(()=>g.unlinkPanels&&ze.value>Ve.value+1),qe=ref$1(),kt=ref$1(),Et=ref$1({endDate:null,selecting:!1}),Pt=xn=>{Et.value=xn},At=(xn,Pn=!0)=>{const An=xn.minDate,Rn=xn.maxDate;kt.value===Rn&&qe.value===An||(n("calendar-change",[An.toDate(),Rn&&Rn.toDate()]),kt.value=Rn,qe.value=An,Pn&&Dt())},Dt=(xn=!1)=>{isValidRange([qe.value,kt.value])&&n("pick",[qe.value,kt.value],xn)},Lt=xn=>{Et.value.selecting=xn,xn||(Et.value.endDate=null)},hn=inject("EP_PICKER_BASE"),{shortcuts:_n,disabledDate:vn}=hn.props,jt=toRef(hn.props,"format"),$n=toRef(hn.props,"defaultValue"),Sn=()=>{let xn;if(isArray$5($n.value)){const Pn=dayjs($n.value[0]);let An=dayjs($n.value[1]);return g.unlinkPanels||(An=Pn.add(10,unit)),[Pn,An]}else $n.value?xn=dayjs($n.value):xn=dayjs();return xn=xn.locale(y.value),[xn,xn.add(10,unit)]};watch$1(()=>$n.value,xn=>{if(xn){const Pn=Sn();$.value=Pn[0],L.value=Pn[1]}},{immediate:!0}),watch$1(()=>g.parsedValue,xn=>{if(xn&&xn.length===2)if(qe.value=xn[0],kt.value=xn[1],$.value=qe.value,g.unlinkPanels&&kt.value){const Pn=qe.value.year(),An=kt.value.year();L.value=Pn===An?kt.value.add(10,"year"):kt.value}else L.value=$.value.add(10,"year");else{const Pn=Sn();qe.value=void 0,kt.value=void 0,$.value=Pn[0],L.value=Pn[1]}},{immediate:!0});const bn=xn=>isArray$5(xn)?xn.map(Pn=>dayjs(Pn,jt.value).locale(y.value)):dayjs(xn,jt.value).locale(y.value),wn=xn=>isArray$5(xn)?xn.map(Pn=>Pn.format(jt.value)):xn.format(jt.value),On=xn=>isValidRange(xn)&&(vn?!vn(xn[0].toDate())&&!vn(xn[1].toDate()):!0),Tn=()=>{const xn=Sn();$.value=xn[0],L.value=xn[1],kt.value=void 0,qe.value=void 0,n("pick",null)};return n("set-picker-option",["isValidValue",On]),n("set-picker-option",["parseUserInput",bn]),n("set-picker-option",["formatToString",wn]),n("set-picker-option",["handleClear",Tn]),(xn,Pn)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(ue))},[createBaseVNode("div",{class:normalizeClass(unref(re).e("body-wrapper"))},[renderSlot(xn.$slots,"sidebar",{class:normalizeClass(unref(re).e("sidebar"))}),unref(le)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(re).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_n),(An,Rn)=>(openBlock(),createElementBlock("button",{key:Rn,type:"button",class:normalizeClass(unref(re).e("shortcut")),onClick:Nn=>unref(Ce)(An)},toDisplayString(An.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(re).e("body"))},[createBaseVNode("div",{class:normalizeClass(unref(he).content)},[createBaseVNode("div",{class:normalizeClass(unref(ae).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass(unref(he).arrowLeftBtn),onClick:unref($e)},[renderSlot(xn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["onClick"]),xn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Ue),class:normalizeClass(unref(he).arrowRightBtn),onClick:unref(xe)},[renderSlot(xn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Ie)),1)],2),createVNode$1(YearTable,{"selection-mode":"range",date:$.value,"min-date":qe.value,"max-date":kt.value,"range-state":Et.value,"disabled-date":unref(vn),onChangerange:Pt,onPick:At,onSelect:Lt},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),createBaseVNode("div",{class:normalizeClass(unref(_e).content)},[createBaseVNode("div",{class:normalizeClass(unref(ae).e("header"))},[xn.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Ue),class:normalizeClass(unref(_e).arrowLeftBtn),onClick:unref(Ne)},[renderSlot(xn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass(unref(_e).arrowRightBtn),onClick:unref(Oe)},[renderSlot(xn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["onClick"]),createBaseVNode("div",null,toDisplayString(unref(Fe)),1)],2),createVNode$1(YearTable,{"selection-mode":"range",date:L.value,"min-date":qe.value,"max-date":kt.value,"range-state":Et.value,"disabled-date":unref(vn),onChangerange:Pt,onPick:At,onSelect:Lt},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var YearRangePickPanel=_export_sfc(_sfc_main$2Q,[["__file","panel-year-range.vue"]]);const getPanel$1=function(r){switch(r){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;case"yearrange":return YearRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData);dayjs.extend(advancedFormat);dayjs.extend(customParseFormat);dayjs.extend(weekOfYear);dayjs.extend(weekYear);dayjs.extend(dayOfYear);dayjs.extend(isSameOrAfter);dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:["update:modelValue"],setup(r,{expose:n,emit:g,slots:y}){const $=useNamespace$1("picker-panel");provide("ElPopperOptions",reactive(toRef(r,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:y,pickerNs:$});const L=ref$1();n({focus:()=>{var le;(le=L.value)==null||le.focus()},blur:()=>{var le;(le=L.value)==null||le.blur()},handleOpen:()=>{var le;(le=L.value)==null||le.handleOpen()},handleClose:()=>{var le;(le=L.value)==null||le.handleClose()}});const ae=le=>{g("update:modelValue",le)};return()=>{var le;const ue=(le=r.format)!=null?le:DEFAULT_FORMATS_DATEPICKER[r.type]||DEFAULT_FORMATS_DATE,he=getPanel$1(r.type);return createVNode$1(CommonPicker,mergeProps(r,{format:ue,type:r.type,ref:L,"onUpdate:modelValue":ae}),{default:_e=>createVNode$1(he,_e,{"prev-month":y["prev-month"],"next-month":y["next-month"],"prev-year":y["prev-year"],"next-year":y["next-year"]}),"range-separator":y["range-separator"]})}}});const ElDatePicker=withInstall(DatePicker),descriptionsKey=Symbol("elDescriptions");var ElDescriptionsCell=defineComponent({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:inject(descriptionsKey,{})}},render(){var r;const n=getNormalizedProps(this.cell),g=(((r=this.cell)==null?void 0:r.dirs)||[]).map(Ie=>{const{dir:Fe,arg:Ve,modifiers:ze,value:Ue}=Ie;return[Fe,Ue,Ve,ze]}),{border:y,direction:$}=this.descriptions,L=$==="vertical",re=()=>{var Ie,Fe,Ve;return((Ve=(Fe=(Ie=this.cell)==null?void 0:Ie.children)==null?void 0:Fe.label)==null?void 0:Ve.call(Fe))||n.label},ae=()=>{var Ie,Fe,Ve;return(Ve=(Fe=(Ie=this.cell)==null?void 0:Ie.children)==null?void 0:Fe.default)==null?void 0:Ve.call(Fe)},le=n.span,ue=n.rowspan,he=n.align?`is-${n.align}`:"",_e=n.labelAlign?`is-${n.labelAlign}`:he,Ce=n.className,$e=n.labelClassName,Oe=this.type==="label"&&(n.labelWidth||this.descriptions.labelWidth)||n.width,xe={width:addUnit(Oe),minWidth:addUnit(n.minWidth)},Ne=useNamespace$1("descriptions");switch(this.type){case"label":return withDirectives(h$1(this.tag,{style:xe,class:[Ne.e("cell"),Ne.e("label"),Ne.is("bordered-label",y),Ne.is("vertical-label",L),_e,$e],colSpan:L?le:1,rowspan:L?1:ue},re()),g);case"content":return withDirectives(h$1(this.tag,{style:xe,class:[Ne.e("cell"),Ne.e("content"),Ne.is("bordered-content",y),Ne.is("vertical-content",L),he,Ce],colSpan:L?le:le*2-1,rowspan:L?ue*2-1:ue},ae()),g);default:{const Ie=re();return withDirectives(h$1("td",{style:xe,class:[Ne.e("cell"),he],colSpan:le,rowspan:ue},[isNil(Ie)?void 0:h$1("span",{class:[Ne.e("label"),$e]},Ie),h$1("span",{class:[Ne.e("content"),Ce]},ae())]),g)}}}});const descriptionsRowProps=buildProps({row:{type:definePropType(Array),default:()=>[]}}),__default__$14=defineComponent({name:"ElDescriptionsRow"}),_sfc_main$2P=defineComponent({...__default__$14,props:descriptionsRowProps,setup(r){const n=inject(descriptionsKey,{});return(g,y)=>unref(n).direction==="vertical"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.row,($,L)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr1-${L}`,cell:$,tag:"th",type:"label"},null,8,["cell"]))),128))]),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.row,($,L)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr2-${L}`,cell:$,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(openBlock(),createElementBlock("tr",{key:1},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.row,($,L)=>(openBlock(),createElementBlock(Fragment,{key:`tr3-${L}`},[unref(n).border?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode$1(unref(ElDescriptionsCell),{cell:$,tag:"td",type:"label"},null,8,["cell"]),createVNode$1(unref(ElDescriptionsCell),{cell:$,tag:"td",type:"content"},null,8,["cell"])],64)):(openBlock(),createBlock(unref(ElDescriptionsCell),{key:1,cell:$,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ElDescriptionsRow=_export_sfc(_sfc_main$2P,[["__file","descriptions-row.vue"]]);const descriptionProps=buildProps({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:useSizeProp,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),__default__$13=defineComponent({name:"ElDescriptions"}),_sfc_main$2O=defineComponent({...__default__$13,props:descriptionProps,setup(r){const n=r,g=useNamespace$1("descriptions"),y=useFormSize(),$=useSlots();provide(descriptionsKey,n);const L=computed(()=>[g.b(),g.m(y.value)]),re=(le,ue,he,_e=!1)=>(le.props||(le.props={}),ue>he&&(le.props.span=he),_e&&(le.props.span=ue),le),ae=()=>{if(!$.default)return[];const le=flattedChildren($.default()).filter(Oe=>{var xe;return((xe=Oe==null?void 0:Oe.type)==null?void 0:xe.name)==="ElDescriptionsItem"}),ue=[];let he=[],_e=n.column,Ce=0;const $e=[];return le.forEach((Oe,xe)=>{var Ne,Ie,Fe;const Ve=((Ne=Oe.props)==null?void 0:Ne.span)||1,ze=((Ie=Oe.props)==null?void 0:Ie.rowspan)||1,Ue=ue.length;if($e[Ue]||($e[Ue]=0),ze>1)for(let qe=1;qe<ze;qe++)$e[Fe=Ue+qe]||($e[Fe]=0),$e[Ue+qe]++,Ce++;if($e[Ue]>0&&(_e-=$e[Ue],$e[Ue]=0),xe<le.length-1&&(Ce+=Ve>_e?_e:Ve),xe===le.length-1){const qe=n.column-Ce%n.column;he.push(re(Oe,qe,_e,!0)),ue.push(he);return}Ve<_e?(_e-=Ve,he.push(Oe)):(he.push(re(Oe,Ve,_e)),ue.push(he),_e=n.column,he=[])}),ue};return(le,ue)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(L))},[le.title||le.extra||le.$slots.title||le.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(g).e("title"))},[renderSlot(le.$slots,"title",{},()=>[createTextVNode(toDisplayString(le.title),1)])],2),createBaseVNode("div",{class:normalizeClass(unref(g).e("extra"))},[renderSlot(le.$slots,"extra",{},()=>[createTextVNode(toDisplayString(le.extra),1)])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("body"))},[createBaseVNode("table",{class:normalizeClass([unref(g).e("table"),unref(g).is("bordered",le.border)])},[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ae(),(he,_e)=>(openBlock(),createBlock(ElDescriptionsRow,{key:_e,row:he},null,8,["row"]))),128))])],2)],2)],2))}});var Descriptions=_export_sfc(_sfc_main$2O,[["__file","description.vue"]]);const descriptionItemProps=buildProps({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),DescriptionItem=defineComponent({name:"ElDescriptionsItem",props:descriptionItemProps}),ElDescriptions=withInstall(Descriptions,{DescriptionsItem:DescriptionItem}),ElDescriptionsItem=withNoopInstall(DescriptionItem),useSameTarget=r=>{if(!r)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let n=!1,g=!1;return{onClick:re=>{n&&g&&r(re),n=g=!1},onMousedown:re=>{n=re.target===re.currentTarget},onMouseup:re=>{g=re.target===re.currentTarget}}},overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:r=>r instanceof MouseEvent},BLOCK="overlay";var Overlay$2=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(r,{slots:n,emit:g}){const y=useNamespace$1(BLOCK),$=le=>{g("click",le)},{onClick:L,onMousedown:re,onMouseup:ae}=useSameTarget(r.customMaskEvent?void 0:$);return()=>r.mask?createVNode$1("div",{class:[y.b(),r.overlayClass],style:{zIndex:r.zIndex},onClick:L,onMousedown:re,onMouseup:ae},[renderSlot(n,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:r.overlayClass,style:{zIndex:r.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(n,"default")])}});const ElOverlay=Overlay$2,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},useDraggable=(r,n,g,y)=>{let $={offsetX:0,offsetY:0};const L=ue=>{const he=ue.clientX,_e=ue.clientY,{offsetX:Ce,offsetY:$e}=$,Oe=r.value.getBoundingClientRect(),xe=Oe.left,Ne=Oe.top,Ie=Oe.width,Fe=Oe.height,Ve=document.documentElement.clientWidth,ze=document.documentElement.clientHeight,Ue=-xe+Ce,qe=-Ne+$e,kt=Ve-xe-Ie+Ce,Et=ze-Ne-Fe+$e,Pt=Dt=>{let Lt=Ce+Dt.clientX-he,hn=$e+Dt.clientY-_e;y!=null&&y.value||(Lt=Math.min(Math.max(Lt,Ue),kt),hn=Math.min(Math.max(hn,qe),Et)),$={offsetX:Lt,offsetY:hn},r.value&&(r.value.style.transform=`translate(${addUnit(Lt)}, ${addUnit(hn)})`)},At=()=>{document.removeEventListener("mousemove",Pt),document.removeEventListener("mouseup",At)};document.addEventListener("mousemove",Pt),document.addEventListener("mouseup",At)},re=()=>{n.value&&r.value&&n.value.addEventListener("mousedown",L)},ae=()=>{n.value&&r.value&&n.value.removeEventListener("mousedown",L)},le=()=>{$={offsetX:0,offsetY:0},r.value&&(r.value.style.transform="none")};return onMounted(()=>{watchEffect(()=>{g.value?re():ae()})}),onBeforeUnmount(()=>{ae()}),{resetPosition:le}},composeRefs=(...r)=>n=>{r.forEach(g=>{isFunction$3(g)?g(n):g.value=n})},__default__$12=defineComponent({name:"ElDialogContent"}),_sfc_main$2N=defineComponent({...__default__$12,props:dialogContentProps,emits:dialogContentEmits,setup(r,{expose:n}){const g=r,{t:y}=useLocale(),{Close:$}=CloseComponents,{dialogRef:L,headerRef:re,bodyId:ae,ns:le,style:ue}=inject(dialogInjectionKey),{focusTrapRef:he}=inject(FOCUS_TRAP_INJECTION_KEY),_e=computed(()=>[le.b(),le.is("fullscreen",g.fullscreen),le.is("draggable",g.draggable),le.is("align-center",g.alignCenter),{[le.m("center")]:g.center}]),Ce=composeRefs(he,L),$e=computed(()=>g.draggable),Oe=computed(()=>g.overflow),{resetPosition:xe}=useDraggable(L,re,$e,Oe);return n({resetPosition:xe}),(Ne,Ie)=>(openBlock(),createElementBlock("div",{ref:unref(Ce),class:normalizeClass(unref(_e)),style:normalizeStyle$1(unref(ue)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:re,class:normalizeClass([unref(le).e("header"),{"show-close":Ne.showClose}])},[renderSlot(Ne.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":Ne.ariaLevel,class:normalizeClass(unref(le).e("title"))},toDisplayString(Ne.title),11,["aria-level"])]),Ne.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(y)("el.dialog.close"),class:normalizeClass(unref(le).e("headerbtn")),type:"button",onClick:Fe=>Ne.$emit("close")},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(le).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ne.closeIcon||unref($))))]),_:1},8,["class"])],10,["aria-label","onClick"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref(ae),class:normalizeClass(unref(le).e("body"))},[renderSlot(Ne.$slots,"default")],10,["id"]),Ne.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(unref(le).e("footer"))},[renderSlot(Ne.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc(_sfc_main$2N,[["__file","dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,appendTo:{type:definePropType([String,Object]),default:"body"},beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:r=>isBoolean(r),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useLockscreen=(r,n={})=>{isRef(r)||throwError$1("[useLockscreen]","You need to pass a ref param to this function");const g=n.ns||useNamespace$1("popup"),y=computed(()=>g.bm("parent","hidden"));if(!isClient||hasClass(document.body,y.value))return;let $=0,L=!1,re="0";const ae=()=>{setTimeout(()=>{typeof document>"u"||(removeClass(document==null?void 0:document.body,y.value),L&&document&&(document.body.style.width=re))},200)};watch$1(r,le=>{if(!le){ae();return}L=!hasClass(document.body,y.value),L&&(re=document.body.style.width),$=getScrollBarWidth(g.namespace.value);const ue=document.documentElement.clientHeight<document.body.scrollHeight,he=getStyle$1(document.body,"overflowY");$>0&&(ue||he==="scroll")&&L&&(document.body.style.width=`calc(100% - ${$}px)`),addClass(document.body,y.value)}),onScopeDispose(()=>ae())},useDialog=(r,n)=>{var g;const $=getCurrentInstance().emit,{nextZIndex:L}=useZIndex();let re="";const ae=useId(),le=useId(),ue=ref$1(!1),he=ref$1(!1),_e=ref$1(!1),Ce=ref$1((g=r.zIndex)!=null?g:L());let $e,Oe;const xe=useGlobalConfig("namespace",defaultNamespace$1),Ne=computed(()=>{const vn={},jt=`--${xe.value}-dialog`;return r.fullscreen||(r.top&&(vn[`${jt}-margin-top`]=r.top),r.width&&(vn[`${jt}-width`]=addUnit(r.width))),vn}),Ie=computed(()=>r.alignCenter?{display:"flex"}:{});function Fe(){$("opened")}function Ve(){$("closed"),$(UPDATE_MODEL_EVENT,!1),r.destroyOnClose&&(_e.value=!1)}function ze(){$("close")}function Ue(){Oe==null||Oe(),$e==null||$e(),r.openDelay&&r.openDelay>0?{stop:$e}=useTimeoutFn(()=>Pt(),r.openDelay):Pt()}function qe(){$e==null||$e(),Oe==null||Oe(),r.closeDelay&&r.closeDelay>0?{stop:Oe}=useTimeoutFn(()=>At(),r.closeDelay):At()}function kt(){function vn(jt){jt||(he.value=!0,ue.value=!1)}r.beforeClose?r.beforeClose(vn):qe()}function Et(){r.closeOnClickModal&&kt()}function Pt(){isClient&&(ue.value=!0)}function At(){ue.value=!1}function Dt(){$("openAutoFocus")}function Lt(){$("closeAutoFocus")}function hn(vn){var jt;((jt=vn.detail)==null?void 0:jt.focusReason)==="pointer"&&vn.preventDefault()}r.lockScroll&&useLockscreen(ue);function _n(){r.closeOnPressEscape&&kt()}return watch$1(()=>r.modelValue,vn=>{vn?(he.value=!1,Ue(),_e.value=!0,Ce.value=isUndefined$1(r.zIndex)?L():Ce.value++,nextTick$1(()=>{$("open"),n.value&&(n.value.scrollTop=0)})):ue.value&&qe()}),watch$1(()=>r.fullscreen,vn=>{n.value&&(vn?(re=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=re)}),onMounted(()=>{r.modelValue&&(ue.value=!0,_e.value=!0,Ue())}),{afterEnter:Fe,afterLeave:Ve,beforeLeave:ze,handleClose:kt,onModalClick:Et,close:qe,doClose:At,onOpenAutoFocus:Dt,onCloseAutoFocus:Lt,onCloseRequested:_n,onFocusoutPrevented:hn,titleId:ae,bodyId:le,closed:he,style:Ne,overlayDialogStyle:Ie,rendered:_e,visible:ue,zIndex:Ce}},__default__$11=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$2M=defineComponent({...__default__$11,props:dialogProps,emits:dialogEmits,setup(r,{expose:n}){const g=r,y=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!y.title));const $=useNamespace$1("dialog"),L=ref$1(),re=ref$1(),ae=ref$1(),{visible:le,titleId:ue,bodyId:he,style:_e,overlayDialogStyle:Ce,rendered:$e,zIndex:Oe,afterEnter:xe,afterLeave:Ne,beforeLeave:Ie,handleClose:Fe,onModalClick:Ve,onOpenAutoFocus:ze,onCloseAutoFocus:Ue,onCloseRequested:qe,onFocusoutPrevented:kt}=useDialog(g,L);provide(dialogInjectionKey,{dialogRef:L,headerRef:re,bodyId:he,ns:$,rendered:$e,style:_e});const Et=useSameTarget(Ve),Pt=computed(()=>g.draggable&&!g.fullscreen);return n({visible:le,dialogContentRef:ae,resetPosition:()=>{var Dt;(Dt=ae.value)==null||Dt.resetPosition()}}),(Dt,Lt)=>(openBlock(),createBlock(unref(ElTeleport),{to:Dt.appendTo,disabled:Dt.appendTo!=="body"?!1:!Dt.appendToBody},{default:withCtx(()=>[createVNode$1(Transition,{name:"dialog-fade",onAfterEnter:unref(xe),onAfterLeave:unref(Ne),onBeforeLeave:unref(Ie),persisted:""},{default:withCtx(()=>[withDirectives(createVNode$1(unref(ElOverlay),{"custom-mask-event":"",mask:Dt.modal,"overlay-class":Dt.modalClass,"z-index":unref(Oe)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":Dt.title||void 0,"aria-labelledby":Dt.title?void 0:unref(ue),"aria-describedby":unref(he),class:normalizeClass(`${unref($).namespace.value}-overlay-dialog`),style:normalizeStyle$1(unref(Ce)),onClick:unref(Et).onClick,onMousedown:unref(Et).onMousedown,onMouseup:unref(Et).onMouseup},[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:unref(le),"focus-start-el":"container",onFocusAfterTrapped:unref(ze),onFocusAfterReleased:unref(Ue),onFocusoutPrevented:unref(kt),onReleaseRequested:unref(qe)},{default:withCtx(()=>[unref($e)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:ae},Dt.$attrs,{center:Dt.center,"align-center":Dt.alignCenter,"close-icon":Dt.closeIcon,draggable:unref(Pt),overflow:Dt.overflow,fullscreen:Dt.fullscreen,"show-close":Dt.showClose,title:Dt.title,"aria-level":Dt.headerAriaLevel,onClose:unref(Fe)}),createSlots({header:withCtx(()=>[Dt.$slots.title?renderSlot(Dt.$slots,"title",{key:1}):renderSlot(Dt.$slots,"header",{key:0,close:unref(Fe),titleId:unref(ue),titleClass:unref($).e("title")})]),default:withCtx(()=>[renderSlot(Dt.$slots,"default")]),_:2},[Dt.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(Dt.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(le)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Dialog=_export_sfc(_sfc_main$2M,[["__file","dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),__default__$10=defineComponent({name:"ElDivider"}),_sfc_main$2L=defineComponent({...__default__$10,props:dividerProps,setup(r){const n=r,g=useNamespace$1("divider"),y=computed(()=>g.cssVar({"border-style":n.borderStyle}));return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m($.direction)]),style:normalizeStyle$1(unref(y)),role:"separator"},[$.$slots.default&&$.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(g).e("text"),unref(g).is($.contentPosition)])},[renderSlot($.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc(_sfc_main$2L,[["__file","divider.vue"]]);const ElDivider=withInstall(Divider),drawerProps=buildProps({...dialogProps,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),drawerEmits=dialogEmits,__default__$$=defineComponent({name:"ElDrawer",inheritAttrs:!1}),_sfc_main$2K=defineComponent({...__default__$$,props:drawerProps,emits:drawerEmits,setup(r,{expose:n}){const g=r,y=useSlots();useDeprecated({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},computed(()=>!!y.title));const $=ref$1(),L=ref$1(),re=useNamespace$1("drawer"),{t:ae}=useLocale(),{afterEnter:le,afterLeave:ue,beforeLeave:he,visible:_e,rendered:Ce,titleId:$e,bodyId:Oe,zIndex:xe,onModalClick:Ne,onOpenAutoFocus:Ie,onCloseAutoFocus:Fe,onFocusoutPrevented:Ve,onCloseRequested:ze,handleClose:Ue}=useDialog(g,$),qe=computed(()=>g.direction==="rtl"||g.direction==="ltr"),kt=computed(()=>addUnit(g.size));return n({handleClose:Ue,afterEnter:le,afterLeave:ue}),(Et,Pt)=>(openBlock(),createBlock(unref(ElTeleport),{to:Et.appendTo,disabled:Et.appendTo!=="body"?!1:!Et.appendToBody},{default:withCtx(()=>[createVNode$1(Transition,{name:unref(re).b("fade"),onAfterEnter:unref(le),onAfterLeave:unref(ue),onBeforeLeave:unref(he),persisted:""},{default:withCtx(()=>[withDirectives(createVNode$1(unref(ElOverlay),{mask:Et.modal,"overlay-class":Et.modalClass,"z-index":unref(xe),onClick:unref(Ne)},{default:withCtx(()=>[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:unref(_e),"focus-trap-el":$.value,"focus-start-el":L.value,onFocusAfterTrapped:unref(Ie),onFocusAfterReleased:unref(Fe),onFocusoutPrevented:unref(Ve),onReleaseRequested:unref(ze)},{default:withCtx(()=>[createBaseVNode("div",mergeProps({ref_key:"drawerRef",ref:$,"aria-modal":"true","aria-label":Et.title||void 0,"aria-labelledby":Et.title?void 0:unref($e),"aria-describedby":unref(Oe)},Et.$attrs,{class:[unref(re).b(),Et.direction,unref(_e)&&"open"],style:unref(qe)?"width: "+unref(kt):"height: "+unref(kt),role:"dialog",onClick:withModifiers(()=>{},["stop"])}),[createBaseVNode("span",{ref_key:"focusStartRef",ref:L,class:normalizeClass(unref(re).e("sr-focus")),tabindex:"-1"},null,2),Et.withHeader?(openBlock(),createElementBlock("header",{key:0,class:normalizeClass(unref(re).e("header"))},[Et.$slots.title?renderSlot(Et.$slots,"title",{key:1},()=>[createCommentVNode(" DEPRECATED SLOT ")]):renderSlot(Et.$slots,"header",{key:0,close:unref(Ue),titleId:unref($e),titleClass:unref(re).e("title")},()=>[Et.$slots.title?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,id:unref($e),role:"heading","aria-level":Et.headerAriaLevel,class:normalizeClass(unref(re).e("title"))},toDisplayString(Et.title),11,["id","aria-level"]))]),Et.showClose?(openBlock(),createElementBlock("button",{key:2,"aria-label":unref(ae)("el.drawer.close"),class:normalizeClass(unref(re).e("close-btn")),type:"button",onClick:unref(Ue)},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(re).e("close"))},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"])],10,["aria-label","onClick"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),unref(Ce)?(openBlock(),createElementBlock("div",{key:1,id:unref(Oe),class:normalizeClass(unref(re).e("body"))},[renderSlot(Et.$slots,"default")],10,["id"])):createCommentVNode("v-if",!0),Et.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(re).e("footer"))},[renderSlot(Et.$slots,"footer")],2)):createCommentVNode("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vShow,unref(_e)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Drawer=_export_sfc(_sfc_main$2K,[["__file","drawer.vue"]]);const ElDrawer=withInstall(Drawer),_sfc_main$2J=defineComponent({inheritAttrs:!1});function _sfc_render$C(r,n,g,y,$,L){return renderSlot(r.$slots,"default")}var Collection=_export_sfc(_sfc_main$2J,[["render",_sfc_render$C],["__file","collection.vue"]]);const _sfc_main$2I=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$B(r,n,g,y,$,L){return renderSlot(r.$slots,"default")}var CollectionItem=_export_sfc(_sfc_main$2I,[["render",_sfc_render$B],["__file","collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=r=>{const n=`El${r}Collection`,g=`${n}Item`,y=Symbol(n),$=Symbol(g),L={...Collection,name:n,setup(){const ae=ref$1(null),le=new Map;provide(y,{itemMap:le,getItems:()=>{const he=unref(ae);if(!he)return[];const _e=Array.from(he.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...le.values()].sort(($e,Oe)=>_e.indexOf($e.ref)-_e.indexOf(Oe.ref))},collectionRef:ae})}},re={...CollectionItem,name:g,setup(ae,{attrs:le}){const ue=ref$1(null),he=inject(y,void 0);provide($,{collectionItemRef:ue}),onMounted(()=>{const _e=unref(ue);_e&&he.itemMap.set(_e,{ref:_e,...le})}),onBeforeUnmount(()=>{const _e=unref(ue);he.itemMap.delete(_e)})}};return{COLLECTION_INJECTION_KEY:y,COLLECTION_ITEM_INJECTION_KEY:$,ElCollection:L,ElCollectionItem:re}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(r,n)=>r,getFocusIntent=(r,n,g)=>{const y=getDirectionAwareKey(r.code);return MAP_KEY_TO_FOCUS_INTENT[y]},reorderArray=(r,n)=>r.map((g,y)=>r[(y+n)%r.length]),focusFirst=r=>{const{activeElement:n}=document;for(const g of r)if(g===n||(g.focus(),n!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$2H=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(r,{emit:n}){var g;const y=ref$1((g=r.currentTabId||r.defaultCurrentTabId)!=null?g:null),$=ref$1(!1),L=ref$1(!1),re=ref$1(null),{getItems:ae}=inject(COLLECTION_INJECTION_KEY$1,void 0),le=computed(()=>[{outline:"none"},r.style]),ue=xe=>{n(CURRENT_TAB_ID_CHANGE_EVT,xe)},he=()=>{$.value=!0},_e=composeEventHandlers(xe=>{var Ne;(Ne=r.onMousedown)==null||Ne.call(r,xe)},()=>{L.value=!0}),Ce=composeEventHandlers(xe=>{var Ne;(Ne=r.onFocus)==null||Ne.call(r,xe)},xe=>{const Ne=!unref(L),{target:Ie,currentTarget:Fe}=xe;if(Ie===Fe&&Ne&&!unref($)){const Ve=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(Fe==null||Fe.dispatchEvent(Ve),!Ve.defaultPrevented){const ze=ae().filter(Pt=>Pt.focusable),Ue=ze.find(Pt=>Pt.active),qe=ze.find(Pt=>Pt.id===unref(y)),Et=[Ue,qe,...ze].filter(Boolean).map(Pt=>Pt.ref);focusFirst(Et)}}L.value=!1}),$e=composeEventHandlers(xe=>{var Ne;(Ne=r.onBlur)==null||Ne.call(r,xe)},()=>{$.value=!1}),Oe=(...xe)=>{n("entryFocus",...xe)};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(y),loop:toRef(r,"loop"),tabIndex:computed(()=>unref($)?-1:0),rovingFocusGroupRef:re,rovingFocusGroupRootStyle:le,orientation:toRef(r,"orientation"),dir:toRef(r,"dir"),onItemFocus:ue,onItemShiftTab:he,onBlur:$e,onFocus:Ce,onMousedown:_e}),watch$1(()=>r.currentTabId,xe=>{y.value=xe??null}),useEventListener(re,ENTRY_FOCUS_EVT,Oe)}});function _sfc_render$A(r,n,g,y,$,L){return renderSlot(r.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc(_sfc_main$2H,[["render",_sfc_render$A],["__file","roving-focus-group-impl.vue"]]);const _sfc_main$2G=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl}});function _sfc_render$z(r,n,g,y,$,L){const re=resolveComponent("el-roving-focus-group-impl"),ae=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(ae,null,{default:withCtx(()=>[createVNode$1(re,normalizeProps(guardReactiveProps(r.$attrs)),{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc(_sfc_main$2G,[["render",_sfc_render$z],["__file","roving-focus-group.vue"]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space,EVENT_CODE.down]},effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$2F=defineComponent({name:"ElDropdown",components:{ElButton,ElButtonGroup,ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip,ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(r,{emit:n}){const g=getCurrentInstance(),y=useNamespace$1("dropdown"),{t:$}=useLocale(),L=ref$1(),re=ref$1(),ae=ref$1(null),le=ref$1(null),ue=ref$1(null),he=ref$1(null),_e=ref$1(!1),Ce=computed(()=>({maxHeight:addUnit(r.maxHeight)})),$e=computed(()=>[y.m(ze.value)]),Oe=computed(()=>castArray$1(r.trigger)),xe=useId().value,Ne=computed(()=>r.id||xe);watch$1([L,Oe],([jt,$n],[Sn])=>{var bn,wn,On;(bn=Sn==null?void 0:Sn.$el)!=null&&bn.removeEventListener&&Sn.$el.removeEventListener("pointerenter",qe),(wn=jt==null?void 0:jt.$el)!=null&&wn.removeEventListener&&jt.$el.removeEventListener("pointerenter",qe),(On=jt==null?void 0:jt.$el)!=null&&On.addEventListener&&$n.includes("hover")&&jt.$el.addEventListener("pointerenter",qe)},{immediate:!0}),onBeforeUnmount(()=>{var jt,$n;($n=(jt=L.value)==null?void 0:jt.$el)!=null&&$n.removeEventListener&&L.value.$el.removeEventListener("pointerenter",qe)});function Ie(){Fe()}function Fe(){var jt;(jt=ae.value)==null||jt.onClose()}function Ve(){var jt;(jt=ae.value)==null||jt.onOpen()}const ze=useFormSize();function Ue(...jt){n("command",...jt)}function qe(){var jt,$n;($n=(jt=L.value)==null?void 0:jt.$el)==null||$n.focus()}function kt(){}function Et(){const jt=unref(le);Oe.value.includes("hover")&&(jt==null||jt.focus()),he.value=null}function Pt(jt){he.value=jt}function At(jt){_e.value||(jt.preventDefault(),jt.stopImmediatePropagation())}function Dt(){n("visible-change",!0)}function Lt(jt){(jt==null?void 0:jt.type)==="keydown"&&le.value.focus()}function hn(){n("visible-change",!1)}return provide(DROPDOWN_INJECTION_KEY,{contentRef:le,role:computed(()=>r.role),triggerId:Ne,isUsingKeyboard:_e,onItemEnter:kt,onItemLeave:Et}),provide("elDropdown",{instance:g,dropdownSize:ze,handleClick:Ie,commandHandler:Ue,trigger:toRef(r,"trigger"),hideOnClick:toRef(r,"hideOnClick")}),{t:$,ns:y,scrollbar:ue,wrapStyle:Ce,dropdownTriggerKls:$e,dropdownSize:ze,triggerId:Ne,currentTabId:he,handleCurrentTabIdChange:Pt,handlerMainButtonClick:jt=>{n("click",jt)},handleEntryFocus:At,handleClose:Fe,handleOpen:Ve,handleBeforeShowTooltip:Dt,handleShowTooltip:Lt,handleBeforeHideTooltip:hn,onFocusAfterTrapped:jt=>{var $n,Sn;jt.preventDefault(),(Sn=($n=le.value)==null?void 0:$n.focus)==null||Sn.call($n,{preventScroll:!0})},popperRef:ae,contentRef:le,triggeringElementRef:L,referenceElementRef:re}}});function _sfc_render$y(r,n,g,y,$,L){var re;const ae=resolveComponent("el-dropdown-collection"),le=resolveComponent("el-roving-focus-group"),ue=resolveComponent("el-scrollbar"),he=resolveComponent("el-only-child"),_e=resolveComponent("el-tooltip"),Ce=resolveComponent("el-button"),$e=resolveComponent("arrow-down"),Oe=resolveComponent("el-icon"),xe=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([r.ns.b(),r.ns.is("disabled",r.disabled)])},[createVNode$1(_e,{ref:"popperRef",role:r.role,effect:r.effect,"fallback-placements":["bottom","top"],"popper-options":r.popperOptions,"gpu-acceleration":!1,"hide-after":r.trigger==="hover"?r.hideTimeout:0,"manual-mode":!0,placement:r.placement,"popper-class":[r.ns.e("popper"),r.popperClass],"reference-element":(re=r.referenceElementRef)==null?void 0:re.$el,trigger:r.trigger,"trigger-keys":r.triggerKeys,"trigger-target-el":r.contentRef,"show-after":r.trigger==="hover"?r.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":r.triggeringElementRef,"virtual-triggering":r.splitButton,disabled:r.disabled,transition:`${r.ns.namespace.value}-zoom-in-top`,teleported:r.teleported,pure:"",persistent:"",onBeforeShow:r.handleBeforeShowTooltip,onShow:r.handleShowTooltip,onBeforeHide:r.handleBeforeHideTooltip},createSlots({content:withCtx(()=>[createVNode$1(ue,{ref:"scrollbar","wrap-style":r.wrapStyle,tag:"div","view-class":r.ns.e("list")},{default:withCtx(()=>[createVNode$1(le,{loop:r.loop,"current-tab-id":r.currentTabId,orientation:"horizontal",onCurrentTabIdChange:r.handleCurrentTabIdChange,onEntryFocus:r.handleEntryFocus},{default:withCtx(()=>[createVNode$1(ae,null,{default:withCtx(()=>[renderSlot(r.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[r.splitButton?void 0:{name:"default",fn:withCtx(()=>[createVNode$1(he,{id:r.triggerId,ref:"triggeringElementRef",role:"button",tabindex:r.tabindex},{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),r.splitButton?(openBlock(),createBlock(xe,{key:0},{default:withCtx(()=>[createVNode$1(Ce,mergeProps({ref:"referenceElementRef"},r.buttonProps,{size:r.dropdownSize,type:r.type,disabled:r.disabled,tabindex:r.tabindex,onClick:r.handlerMainButtonClick}),{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode$1(Ce,mergeProps({id:r.triggerId,ref:"triggeringElementRef"},r.buttonProps,{role:"button",size:r.dropdownSize,type:r.type,class:r.ns.e("caret-button"),disabled:r.disabled,tabindex:r.tabindex,"aria-label":r.t("el.dropdown.toggleDropdown")}),{default:withCtx(()=>[createVNode$1(Oe,{class:normalizeClass(r.ns.e("icon"))},{default:withCtx(()=>[createVNode$1($e)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc(_sfc_main$2F,[["render",_sfc_render$y],["__file","dropdown.vue"]]);const _sfc_main$2E=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(r,{emit:n}){const{currentTabbedId:g,loop:y,onItemFocus:$,onItemShiftTab:L}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:re}=inject(COLLECTION_INJECTION_KEY$1,void 0),ae=useId(),le=ref$1(null),ue=composeEventHandlers($e=>{n("mousedown",$e)},$e=>{r.focusable?$(unref(ae)):$e.preventDefault()}),he=composeEventHandlers($e=>{n("focus",$e)},()=>{$(unref(ae))}),_e=composeEventHandlers($e=>{n("keydown",$e)},$e=>{const{code:Oe,shiftKey:xe,target:Ne,currentTarget:Ie}=$e;if(Oe===EVENT_CODE.tab&&xe){L();return}if(Ne!==Ie)return;const Fe=getFocusIntent($e);if(Fe){$e.preventDefault();let ze=re().filter(Ue=>Ue.focusable).map(Ue=>Ue.ref);switch(Fe){case"last":{ze.reverse();break}case"prev":case"next":{Fe==="prev"&&ze.reverse();const Ue=ze.indexOf(Ie);ze=y.value?reorderArray(ze,Ue+1):ze.slice(Ue+1);break}}nextTick$1(()=>{focusFirst(ze)})}}),Ce=computed(()=>g.value===unref(ae));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:le,tabIndex:computed(()=>unref(Ce)?0:-1),handleMousedown:ue,handleFocus:he,handleKeydown:_e}),{id:ae,handleKeydown:_e,handleFocus:he,handleMousedown:ue}}});function _sfc_render$x(r,n,g,y,$,L){const re=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock(re,{id:r.id,focusable:r.focusable,active:r.active},{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc(_sfc_main$2E,[["render",_sfc_render$x],["__file","roving-focus-item.vue"]]);const _sfc_main$2D=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(r,{emit:n}){const g=useNamespace$1("dropdown"),{role:y}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:$}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:L}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:re,tabIndex:ae,handleFocus:le,handleKeydown:ue,handleMousedown:he}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),_e=composeRefs($,L,re),Ce=computed(()=>y.value==="menu"?"menuitem":y.value==="navigation"?"link":"button"),$e=composeEventHandlers(Oe=>{if([EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space].includes(Oe.code))return Oe.preventDefault(),Oe.stopImmediatePropagation(),n("clickimpl",Oe),!0},ue);return{ns:g,itemRef:_e,dataset:{[COLLECTION_ITEM_SIGN]:""},role:Ce,tabIndex:ae,handleFocus:le,handleKeydown:$e,handleMousedown:he}}});function _sfc_render$w(r,n,g,y,$,L){const re=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[r.divided?(openBlock(),createElementBlock("li",{key:0,role:"separator",class:normalizeClass(r.ns.bem("menu","item","divided"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:r.itemRef},{...r.dataset,...r.$attrs},{"aria-disabled":r.disabled,class:[r.ns.be("menu","item"),r.ns.is("disabled",r.disabled)],tabindex:r.tabIndex,role:r.role,onClick:ae=>r.$emit("clickimpl",ae),onFocus:r.handleFocus,onKeydown:withModifiers(r.handleKeydown,["self"]),onMousedown:r.handleMousedown,onPointermove:ae=>r.$emit("pointermove",ae),onPointerleave:ae=>r.$emit("pointerleave",ae)}),[r.icon?(openBlock(),createBlock(re,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(r.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var ElDropdownItemImpl=_export_sfc(_sfc_main$2D,[["render",_sfc_render$w],["__file","dropdown-item-impl.vue"]]);const useDropdown=()=>{const r=inject("elDropdown",{}),n=computed(()=>r==null?void 0:r.dropdownSize);return{elDropdown:r,_elDropdownSize:n}},_sfc_main$2C=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(r,{emit:n,attrs:g}){const{elDropdown:y}=useDropdown(),$=getCurrentInstance(),L=ref$1(null),re=computed(()=>{var $e,Oe;return(Oe=($e=unref(L))==null?void 0:$e.textContent)!=null?Oe:""}),{onItemEnter:ae,onItemLeave:le}=inject(DROPDOWN_INJECTION_KEY,void 0),ue=composeEventHandlers($e=>(n("pointermove",$e),$e.defaultPrevented),whenMouse($e=>{if(r.disabled){le($e);return}const Oe=$e.currentTarget;Oe===document.activeElement||Oe.contains(document.activeElement)||(ae($e),$e.defaultPrevented||Oe==null||Oe.focus())})),he=composeEventHandlers($e=>(n("pointerleave",$e),$e.defaultPrevented),whenMouse(le)),_e=composeEventHandlers($e=>{if(!r.disabled)return n("click",$e),$e.type!=="keydown"&&$e.defaultPrevented},$e=>{var Oe,xe,Ne;if(r.disabled){$e.stopImmediatePropagation();return}(Oe=y==null?void 0:y.hideOnClick)!=null&&Oe.value&&((xe=y.handleClick)==null||xe.call(y)),(Ne=y.commandHandler)==null||Ne.call(y,r.command,$,$e)}),Ce=computed(()=>({...r,...g}));return{handleClick:_e,handlePointerMove:ue,handlePointerLeave:he,textContent:re,propsAndAttrs:Ce}}});function _sfc_render$v(r,n,g,y,$,L){var re;const ae=resolveComponent("el-dropdown-item-impl"),le=resolveComponent("el-roving-focus-item"),ue=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(ue,{disabled:r.disabled,"text-value":(re=r.textValue)!=null?re:r.textContent},{default:withCtx(()=>[createVNode$1(le,{focusable:!r.disabled},{default:withCtx(()=>[createVNode$1(ae,mergeProps(r.propsAndAttrs,{onPointerleave:r.handlePointerLeave,onPointermove:r.handlePointerMove,onClickimpl:r.handleClick}),{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc(_sfc_main$2C,[["render",_sfc_render$v],["__file","dropdown-item.vue"]]);const _sfc_main$2B=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(r){const n=useNamespace$1("dropdown"),{_elDropdownSize:g}=useDropdown(),y=g.value,{focusTrapRef:$,onKeydown:L}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:re,role:ae,triggerId:le}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:ue,getItems:he}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:_e,rovingFocusGroupRootStyle:Ce,tabIndex:$e,onBlur:Oe,onFocus:xe,onMousedown:Ne}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:Ie}=inject(COLLECTION_INJECTION_KEY$1,void 0),Fe=computed(()=>[n.b("menu"),n.bm("menu",y==null?void 0:y.value)]),Ve=composeRefs(re,ue,$,_e,Ie),ze=composeEventHandlers(qe=>{var kt;(kt=r.onKeydown)==null||kt.call(r,qe)},qe=>{const{currentTarget:kt,code:Et,target:Pt}=qe;if(kt.contains(Pt),EVENT_CODE.tab===Et&&qe.stopImmediatePropagation(),qe.preventDefault(),Pt!==unref(re)||!FIRST_LAST_KEYS.includes(Et))return;const Dt=he().filter(Lt=>!Lt.disabled).map(Lt=>Lt.ref);LAST_KEYS.includes(Et)&&Dt.reverse(),focusFirst(Dt)});return{size:y,rovingFocusGroupRootStyle:Ce,tabIndex:$e,dropdownKls:Fe,role:ae,triggerId:le,dropdownListWrapperRef:Ve,handleKeydown:qe=>{ze(qe),L(qe)},onBlur:Oe,onFocus:xe,onMousedown:Ne}}});function _sfc_render$u(r,n,g,y,$,L){return openBlock(),createElementBlock("ul",{ref:r.dropdownListWrapperRef,class:normalizeClass(r.dropdownKls),style:normalizeStyle$1(r.rovingFocusGroupRootStyle),tabindex:-1,role:r.role,"aria-labelledby":r.triggerId,onBlur:r.onBlur,onFocus:r.onFocus,onKeydown:withModifiers(r.handleKeydown,["self"]),onMousedown:withModifiers(r.onMousedown,["self"])},[renderSlot(r.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var DropdownMenu=_export_sfc(_sfc_main$2B,[["render",_sfc_render$u],["__file","dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),__default__$_=defineComponent({name:"ImgEmpty"}),_sfc_main$2A=defineComponent({...__default__$_,setup(r){const n=useNamespace$1("empty"),g=useId();return(y,$)=>(openBlock(),createElementBlock("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:`linearGradient-1-${unref(g)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),createBaseVNode("linearGradient",{id:`linearGradient-2-${unref(g)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),createBaseVNode("rect",{id:`path-3-${unref(g)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),createBaseVNode("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[createBaseVNode("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[createBaseVNode("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[createBaseVNode("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${unref(n).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),createBaseVNode("polygon",{id:"Rectangle-Copy-14",fill:`var(${unref(n).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),createBaseVNode("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[createBaseVNode("polygon",{id:"Rectangle-Copy-10",fill:`var(${unref(n).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),createBaseVNode("polygon",{id:"Rectangle-Copy-11",fill:`var(${unref(n).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),createBaseVNode("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${unref(g)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),createBaseVNode("polygon",{id:"Rectangle-Copy-13",fill:`var(${unref(n).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),createBaseVNode("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${unref(g)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),createBaseVNode("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[createBaseVNode("use",{id:"Mask",fill:`var(${unref(n).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${unref(g)}`},null,8,["fill","xlink:href"]),createBaseVNode("polygon",{id:"Rectangle-Copy",fill:`var(${unref(n).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${unref(g)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),createBaseVNode("polygon",{id:"Rectangle-Copy-18",fill:`var(${unref(n).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var ImgEmpty=_export_sfc(_sfc_main$2A,[["__file","img-empty.vue"]]);const emptyProps=buildProps({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),__default__$Z=defineComponent({name:"ElEmpty"}),_sfc_main$2z=defineComponent({...__default__$Z,props:emptyProps,setup(r){const n=r,{t:g}=useLocale(),y=useNamespace$1("empty"),$=computed(()=>n.description||g("el.table.emptyText")),L=computed(()=>({width:addUnit(n.imageSize)}));return(re,ae)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("image")),style:normalizeStyle$1(unref(L))},[re.image?(openBlock(),createElementBlock("img",{key:0,src:re.image,ondragstart:"return false"},null,8,["src"])):renderSlot(re.$slots,"image",{key:1},()=>[createVNode$1(ImgEmpty)])],6),createBaseVNode("div",{class:normalizeClass(unref(y).e("description"))},[re.$slots.description?renderSlot(re.$slots,"description",{key:0}):(openBlock(),createElementBlock("p",{key:1},toDisplayString(unref($)),1))],2),re.$slots.default?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("bottom"))},[renderSlot(re.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var Empty$1=_export_sfc(_sfc_main$2z,[["__file","empty.vue"]]);const ElEmpty=withInstall(Empty$1),formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(r,n,g)=>(isArray$5(r)||isString$3(r))&&isBoolean(n)&&isString$3(g)};function useFormLabelWidth(){const r=ref$1([]),n=computed(()=>{if(!r.value.length)return"0";const L=Math.max(...r.value);return L?`${L}px`:""});function g(L){const re=r.value.indexOf(L);return re===-1&&n.value,re}function y(L,re){if(L&&re){const ae=g(re);r.value.splice(ae,1,L)}else L&&r.value.push(L)}function $(L){const re=g(L);re>-1&&r.value.splice(re,1)}return{autoLabelWidth:n,registerLabelWidth:y,deregisterLabelWidth:$}}const filterFields=(r,n)=>{const g=castArray$1(n);return g.length>0?r.filter(y=>y.prop&&g.includes(y.prop)):r},COMPONENT_NAME$e="ElForm",__default__$Y=defineComponent({name:COMPONENT_NAME$e}),_sfc_main$2y=defineComponent({...__default__$Y,props:formProps,emits:formEmits,setup(r,{expose:n,emit:g}){const y=r,$=[],L=useFormSize(),re=useNamespace$1("form"),ae=computed(()=>{const{labelPosition:Ve,inline:ze}=y;return[re.b(),re.m(L.value||"default"),{[re.m(`label-${Ve}`)]:Ve,[re.m("inline")]:ze}]}),le=Ve=>$.find(ze=>ze.prop===Ve),ue=Ve=>{$.push(Ve)},he=Ve=>{Ve.prop&&$.splice($.indexOf(Ve),1)},_e=(Ve=[])=>{y.model&&filterFields($,Ve).forEach(ze=>ze.resetField())},Ce=(Ve=[])=>{filterFields($,Ve).forEach(ze=>ze.clearValidate())},$e=computed(()=>!!y.model),Oe=Ve=>{if($.length===0)return[];const ze=filterFields($,Ve);return ze.length?ze:[]},xe=async Ve=>Ie(void 0,Ve),Ne=async(Ve=[])=>{if(!$e.value)return!1;const ze=Oe(Ve);if(ze.length===0)return!0;let Ue={};for(const qe of ze)try{await qe.validate("")}catch(kt){Ue={...Ue,...kt}}return Object.keys(Ue).length===0?!0:Promise.reject(Ue)},Ie=async(Ve=[],ze)=>{const Ue=!isFunction$3(ze);try{const qe=await Ne(Ve);return qe===!0&&await(ze==null?void 0:ze(qe)),qe}catch(qe){if(qe instanceof Error)throw qe;const kt=qe;return y.scrollToError&&Fe(Object.keys(kt)[0]),await(ze==null?void 0:ze(!1,kt)),Ue&&Promise.reject(kt)}},Fe=Ve=>{var ze;const Ue=filterFields($,Ve)[0];Ue&&((ze=Ue.$el)==null||ze.scrollIntoView(y.scrollIntoViewOptions))};return watch$1(()=>y.rules,()=>{y.validateOnRuleChange&&xe().catch(Ve=>void 0)},{deep:!0}),provide(formContextKey,reactive({...toRefs(y),emit:g,resetFields:_e,clearValidate:Ce,validateField:Ie,getField:le,addField:ue,removeField:he,...useFormLabelWidth()})),n({validate:xe,validateField:Ie,resetFields:_e,clearValidate:Ce,scrollToField:Fe,fields:$}),(Ve,ze)=>(openBlock(),createElementBlock("form",{class:normalizeClass(unref(ae))},[renderSlot(Ve.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$2y,[["__file","form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var g=arguments[n];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(r[y]=g[y])}return r},_extends.apply(this,arguments)}function _inheritsLoose(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,_setPrototypeOf(r,n)}function _getPrototypeOf(r){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},_getPrototypeOf(r)}function _setPrototypeOf(r,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,$){return y.__proto__=$,y},_setPrototypeOf(r,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(r,n,g){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function($,L,re){var ae=[null];ae.push.apply(ae,L);var le=Function.bind.apply($,ae),ue=new le;return re&&_setPrototypeOf(ue,re.prototype),ue},_construct.apply(null,arguments)}function _isNativeFunction(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function _wrapNativeSuper(r){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(y){if(y===null||!_isNativeFunction(y))return y;if(typeof y!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(y))return n.get(y);n.set(y,$)}function $(){return _construct(y,arguments,_getPrototypeOf(this).constructor)}return $.prototype=Object.create(y.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf($,y)},_wrapNativeSuper(r)}var formatRegExp=/%[sdj%]/g,warning=function(){};function convertFieldsError(r){if(!r||!r.length)return null;var n={};return r.forEach(function(g){var y=g.field;n[y]=n[y]||[],n[y].push(g)}),n}function format$2(r){for(var n=arguments.length,g=new Array(n>1?n-1:0),y=1;y<n;y++)g[y-1]=arguments[y];var $=0,L=g.length;if(typeof r=="function")return r.apply(null,g);if(typeof r=="string"){var re=r.replace(formatRegExp,function(ae){if(ae==="%%")return"%";if($>=L)return ae;switch(ae){case"%s":return String(g[$++]);case"%d":return Number(g[$++]);case"%j":try{return JSON.stringify(g[$++])}catch{return"[Circular]"}break;default:return ae}});return re}return r}function isNativeStringType(r){return r==="string"||r==="url"||r==="hex"||r==="email"||r==="date"||r==="pattern"}function isEmptyValue$1(r,n){return!!(r==null||n==="array"&&Array.isArray(r)&&!r.length||isNativeStringType(n)&&typeof r=="string"&&!r)}function asyncParallelArray(r,n,g){var y=[],$=0,L=r.length;function re(ae){y.push.apply(y,ae||[]),$++,$===L&&g(y)}r.forEach(function(ae){n(ae,re)})}function asyncSerialArray(r,n,g){var y=0,$=r.length;function L(re){if(re&&re.length){g(re);return}var ae=y;y=y+1,ae<$?n(r[ae],L):g([])}L([])}function flattenObjArr(r){var n=[];return Object.keys(r).forEach(function(g){n.push.apply(n,r[g]||[])}),n}var AsyncValidationError=function(r){_inheritsLoose(n,r);function n(g,y){var $;return $=r.call(this,"Async Validation Error")||this,$.errors=g,$.fields=y,$}return n}(_wrapNativeSuper(Error));function asyncMap(r,n,g,y,$){if(n.first){var L=new Promise(function(Ce,$e){var Oe=function(Ie){return y(Ie),Ie.length?$e(new AsyncValidationError(Ie,convertFieldsError(Ie))):Ce($)},xe=flattenObjArr(r);asyncSerialArray(xe,g,Oe)});return L.catch(function(Ce){return Ce}),L}var re=n.firstFields===!0?Object.keys(r):n.firstFields||[],ae=Object.keys(r),le=ae.length,ue=0,he=[],_e=new Promise(function(Ce,$e){var Oe=function(Ne){if(he.push.apply(he,Ne),ue++,ue===le)return y(he),he.length?$e(new AsyncValidationError(he,convertFieldsError(he))):Ce($)};ae.length||(y(he),Ce($)),ae.forEach(function(xe){var Ne=r[xe];re.indexOf(xe)!==-1?asyncSerialArray(Ne,g,Oe):asyncParallelArray(Ne,g,Oe)})});return _e.catch(function(Ce){return Ce}),_e}function isErrorObj(r){return!!(r&&r.message!==void 0)}function getValue(r,n){for(var g=r,y=0;y<n.length;y++){if(g==null)return g;g=g[n[y]]}return g}function complementError(r,n){return function(g){var y;return r.fullFields?y=getValue(n,r.fullFields):y=n[g.field||r.fullField],isErrorObj(g)?(g.field=g.field||r.fullField,g.fieldValue=y,g):{message:typeof g=="function"?g():g,fieldValue:y,field:g.field||r.fullField}}}function deepMerge(r,n){if(n){for(var g in n)if(n.hasOwnProperty(g)){var y=n[g];typeof y=="object"&&typeof r[g]=="object"?r[g]=_extends({},r[g],y):r[g]=y}}return r}var required$1=function(n,g,y,$,L,re){n.required&&(!y.hasOwnProperty(n.field)||isEmptyValue$1(g,re||n.type))&&$.push(format$2(L.messages.required,n.fullField))},whitespace=function(n,g,y,$,L){(/^\s+$/.test(g)||g==="")&&$.push(format$2(L.messages.whitespace,n.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var r="[a-fA-F\\d:]",n=function(ze){return ze&&ze.includeBoundaries?"(?:(?<=\\s|^)(?="+r+")|(?<="+r+")(?=\\s|$))":""},g="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",y="[a-fA-F\\d]{1,4}",$=(`
(?:
(?:`+y+":){7}(?:"+y+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+y+":){6}(?:"+g+"|:"+y+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+y+":){5}(?::"+g+"|(?::"+y+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+y+":){4}(?:(?::"+y+"){0,1}:"+g+"|(?::"+y+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+y+":){3}(?:(?::"+y+"){0,2}:"+g+"|(?::"+y+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+y+":){2}(?:(?::"+y+"){0,3}:"+g+"|(?::"+y+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+y+":){1}(?:(?::"+y+"){0,4}:"+g+"|(?::"+y+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+y+"){0,5}:"+g+"|(?::"+y+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),L=new RegExp("(?:^"+g+"$)|(?:^"+$+"$)"),re=new RegExp("^"+g+"$"),ae=new RegExp("^"+$+"$"),le=function(ze){return ze&&ze.exact?L:new RegExp("(?:"+n(ze)+g+n(ze)+")|(?:"+n(ze)+$+n(ze)+")","g")};le.v4=function(Ve){return Ve&&Ve.exact?re:new RegExp(""+n(Ve)+g+n(Ve),"g")},le.v6=function(Ve){return Ve&&Ve.exact?ae:new RegExp(""+n(Ve)+$+n(Ve),"g")};var ue="(?:(?:[a-z]+:)?//)",he="(?:\\S+(?::\\S*)?@)?",_e=le.v4().source,Ce=le.v6().source,$e="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",Oe="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",xe="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Ne="(?::\\d{2,5})?",Ie='(?:[/?#][^\\s"]*)?',Fe="(?:"+ue+"|www\\.)"+he+"(?:localhost|"+_e+"|"+Ce+"|"+$e+Oe+xe+")"+Ne+Ie;return urlReg=new RegExp("(?:^"+Fe+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types$2={integer:function(n){return types$2.number(n)&&parseInt(n,10)===n},float:function(n){return types$2.number(n)&&!types$2.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!types$2.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(pattern$2.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(getUrlRegex())},hex:function(n){return typeof n=="string"&&!!n.match(pattern$2.hex)}},type$1=function(n,g,y,$,L){if(n.required&&g===void 0){required$1(n,g,y,$,L);return}var re=["integer","float","array","regexp","object","method","email","number","date","url","hex"],ae=n.type;re.indexOf(ae)>-1?types$2[ae](g)||$.push(format$2(L.messages.types[ae],n.fullField,n.type)):ae&&typeof g!==n.type&&$.push(format$2(L.messages.types[ae],n.fullField,n.type))},range$1=function(n,g,y,$,L){var re=typeof n.len=="number",ae=typeof n.min=="number",le=typeof n.max=="number",ue=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=g,_e=null,Ce=typeof g=="number",$e=typeof g=="string",Oe=Array.isArray(g);if(Ce?_e="number":$e?_e="string":Oe&&(_e="array"),!_e)return!1;Oe&&(he=g.length),$e&&(he=g.replace(ue,"_").length),re?he!==n.len&&$.push(format$2(L.messages[_e].len,n.fullField,n.len)):ae&&!le&&he<n.min?$.push(format$2(L.messages[_e].min,n.fullField,n.min)):le&&!ae&&he>n.max?$.push(format$2(L.messages[_e].max,n.fullField,n.max)):ae&&le&&(he<n.min||he>n.max)&&$.push(format$2(L.messages[_e].range,n.fullField,n.min,n.max))},ENUM$1="enum",enumerable$1=function(n,g,y,$,L){n[ENUM$1]=Array.isArray(n[ENUM$1])?n[ENUM$1]:[],n[ENUM$1].indexOf(g)===-1&&$.push(format$2(L.messages[ENUM$1],n.fullField,n[ENUM$1].join(", ")))},pattern$1=function(n,g,y,$,L){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(g)||$.push(format$2(L.messages.pattern.mismatch,n.fullField,g,n.pattern));else if(typeof n.pattern=="string"){var re=new RegExp(n.pattern);re.test(g)||$.push(format$2(L.messages.pattern.mismatch,n.fullField,g,n.pattern))}}},rules={required:required$1,whitespace,type:type$1,range:range$1,enum:enumerable$1,pattern:pattern$1},string$3=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g,"string")&&!n.required)return y();rules.required(n,g,$,re,L,"string"),isEmptyValue$1(g,"string")||(rules.type(n,g,$,re,L),rules.range(n,g,$,re,L),rules.pattern(n,g,$,re,L),n.whitespace===!0&&rules.whitespace(n,g,$,re,L))}y(re)},method2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&rules.type(n,g,$,re,L)}y(re)},number2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(g===""&&(g=void 0),isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&(rules.type(n,g,$,re,L),rules.range(n,g,$,re,L))}y(re)},_boolean=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&rules.type(n,g,$,re,L)}y(re)},regexp2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),isEmptyValue$1(g)||rules.type(n,g,$,re,L)}y(re)},integer2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&(rules.type(n,g,$,re,L),rules.range(n,g,$,re,L))}y(re)},floatFn=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&(rules.type(n,g,$,re,L),rules.range(n,g,$,re,L))}y(re)},array2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(g==null&&!n.required)return y();rules.required(n,g,$,re,L,"array"),g!=null&&(rules.type(n,g,$,re,L),rules.range(n,g,$,re,L))}y(re)},object2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&rules.type(n,g,$,re,L)}y(re)},ENUM="enum",enumerable2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L),g!==void 0&&rules[ENUM](n,g,$,re,L)}y(re)},pattern2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g,"string")&&!n.required)return y();rules.required(n,g,$,re,L),isEmptyValue$1(g,"string")||rules.pattern(n,g,$,re,L)}y(re)},date2=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g,"date")&&!n.required)return y();if(rules.required(n,g,$,re,L),!isEmptyValue$1(g,"date")){var le;g instanceof Date?le=g:le=new Date(g),rules.type(n,le,$,re,L),le&&rules.range(n,le.getTime(),$,re,L)}}y(re)},required2=function(n,g,y,$,L){var re=[],ae=Array.isArray(g)?"array":typeof g;rules.required(n,g,$,re,L,ae),y(re)},type2=function(n,g,y,$,L){var re=n.type,ae=[],le=n.required||!n.required&&$.hasOwnProperty(n.field);if(le){if(isEmptyValue$1(g,re)&&!n.required)return y();rules.required(n,g,$,ae,L,re),isEmptyValue$1(g,re)||rules.type(n,g,$,ae,L)}y(ae)},any=function(n,g,y,$,L){var re=[],ae=n.required||!n.required&&$.hasOwnProperty(n.field);if(ae){if(isEmptyValue$1(g)&&!n.required)return y();rules.required(n,g,$,re,L)}y(re)},validators={string:string$3,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var messages=newMessages(),Schema=function(){function r(g){this.rules=null,this._messages=messages,this.define(g)}var n=r.prototype;return n.define=function(y){var $=this;if(!y)throw new Error("Cannot configure a schema with no rules");if(typeof y!="object"||Array.isArray(y))throw new Error("Rules must be an object");this.rules={},Object.keys(y).forEach(function(L){var re=y[L];$.rules[L]=Array.isArray(re)?re:[re]})},n.messages=function(y){return y&&(this._messages=deepMerge(newMessages(),y)),this._messages},n.validate=function(y,$,L){var re=this;$===void 0&&($={}),L===void 0&&(L=function(){});var ae=y,le=$,ue=L;if(typeof le=="function"&&(ue=le,le={}),!this.rules||Object.keys(this.rules).length===0)return ue&&ue(null,ae),Promise.resolve(ae);function he(xe){var Ne=[],Ie={};function Fe(ze){if(Array.isArray(ze)){var Ue;Ne=(Ue=Ne).concat.apply(Ue,ze)}else Ne.push(ze)}for(var Ve=0;Ve<xe.length;Ve++)Fe(xe[Ve]);Ne.length?(Ie=convertFieldsError(Ne),ue(Ne,Ie)):ue(null,ae)}if(le.messages){var _e=this.messages();_e===messages&&(_e=newMessages()),deepMerge(_e,le.messages),le.messages=_e}else le.messages=this.messages();var Ce={},$e=le.keys||Object.keys(this.rules);$e.forEach(function(xe){var Ne=re.rules[xe],Ie=ae[xe];Ne.forEach(function(Fe){var Ve=Fe;typeof Ve.transform=="function"&&(ae===y&&(ae=_extends({},ae)),Ie=ae[xe]=Ve.transform(Ie)),typeof Ve=="function"?Ve={validator:Ve}:Ve=_extends({},Ve),Ve.validator=re.getValidationMethod(Ve),Ve.validator&&(Ve.field=xe,Ve.fullField=Ve.fullField||xe,Ve.type=re.getType(Ve),Ce[xe]=Ce[xe]||[],Ce[xe].push({rule:Ve,value:Ie,source:ae,field:xe}))})});var Oe={};return asyncMap(Ce,le,function(xe,Ne){var Ie=xe.rule,Fe=(Ie.type==="object"||Ie.type==="array")&&(typeof Ie.fields=="object"||typeof Ie.defaultField=="object");Fe=Fe&&(Ie.required||!Ie.required&&xe.value),Ie.field=xe.field;function Ve(qe,kt){return _extends({},kt,{fullField:Ie.fullField+"."+qe,fullFields:Ie.fullFields?[].concat(Ie.fullFields,[qe]):[qe]})}function ze(qe){qe===void 0&&(qe=[]);var kt=Array.isArray(qe)?qe:[qe];!le.suppressWarning&&kt.length&&r.warning("async-validator:",kt),kt.length&&Ie.message!==void 0&&(kt=[].concat(Ie.message));var Et=kt.map(complementError(Ie,ae));if(le.first&&Et.length)return Oe[Ie.field]=1,Ne(Et);if(!Fe)Ne(Et);else{if(Ie.required&&!xe.value)return Ie.message!==void 0?Et=[].concat(Ie.message).map(complementError(Ie,ae)):le.error&&(Et=[le.error(Ie,format$2(le.messages.required,Ie.field))]),Ne(Et);var Pt={};Ie.defaultField&&Object.keys(xe.value).map(function(Lt){Pt[Lt]=Ie.defaultField}),Pt=_extends({},Pt,xe.rule.fields);var At={};Object.keys(Pt).forEach(function(Lt){var hn=Pt[Lt],_n=Array.isArray(hn)?hn:[hn];At[Lt]=_n.map(Ve.bind(null,Lt))});var Dt=new r(At);Dt.messages(le.messages),xe.rule.options&&(xe.rule.options.messages=le.messages,xe.rule.options.error=le.error),Dt.validate(xe.value,xe.rule.options||le,function(Lt){var hn=[];Et&&Et.length&&hn.push.apply(hn,Et),Lt&&Lt.length&&hn.push.apply(hn,Lt),Ne(hn.length?hn:null)})}}var Ue;if(Ie.asyncValidator)Ue=Ie.asyncValidator(Ie,xe.value,ze,xe.source,le);else if(Ie.validator){try{Ue=Ie.validator(Ie,xe.value,ze,xe.source,le)}catch(qe){console.error==null||console.error(qe),le.suppressValidatorError||setTimeout(function(){throw qe},0),ze(qe.message)}Ue===!0?ze():Ue===!1?ze(typeof Ie.message=="function"?Ie.message(Ie.fullField||Ie.field):Ie.message||(Ie.fullField||Ie.field)+" fails"):Ue instanceof Array?ze(Ue):Ue instanceof Error&&ze(Ue.message)}Ue&&Ue.then&&Ue.then(function(){return ze()},function(qe){return ze(qe)})},function(xe){he(xe)},ae)},n.getType=function(y){if(y.type===void 0&&y.pattern instanceof RegExp&&(y.type="pattern"),typeof y.validator!="function"&&y.type&&!validators.hasOwnProperty(y.type))throw new Error(format$2("Unknown rule type %s",y.type));return y.type||"string"},n.getValidationMethod=function(y){if(typeof y.validator=="function")return y.validator;var $=Object.keys(y),L=$.indexOf("message");return L!==-1&&$.splice(L,1),$.length===1&&$[0]==="required"?validators.required:validators[this.getType(y)]||void 0},r}();Schema.register=function(n,g){if(typeof g!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[n]=g};Schema.warning=warning;Schema.messages=messages;Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$d="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$d,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(r,{slots:n}){const g=inject(formContextKey,void 0),y=inject(formItemContextKey);y||throwError$1(COMPONENT_NAME$d,"usage: <el-form-item><label-wrap /></el-form-item>");const $=useNamespace$1("form"),L=ref$1(),re=ref$1(0),ae=()=>{var he;if((he=L.value)!=null&&he.firstElementChild){const _e=window.getComputedStyle(L.value.firstElementChild).width;return Math.ceil(Number.parseFloat(_e))}else return 0},le=(he="update")=>{nextTick$1(()=>{n.default&&r.isAutoWidth&&(he==="update"?re.value=ae():he==="remove"&&(g==null||g.deregisterLabelWidth(re.value)))})},ue=()=>le("update");return onMounted(()=>{ue()}),onBeforeUnmount(()=>{le("remove")}),onUpdated(()=>ue()),watch$1(re,(he,_e)=>{r.updateAll&&(g==null||g.registerLabelWidth(he,_e))}),useResizeObserver(computed(()=>{var he,_e;return(_e=(he=L.value)==null?void 0:he.firstElementChild)!=null?_e:null}),ue),()=>{var he,_e;if(!n)return null;const{isAutoWidth:Ce}=r;if(Ce){const $e=g==null?void 0:g.autoLabelWidth,Oe=y==null?void 0:y.hasLabel,xe={};if(Oe&&$e&&$e!=="auto"){const Ne=Math.max(0,Number.parseInt($e,10)-re.value),Fe=(y.labelPosition||g.labelPosition)==="left"?"marginRight":"marginLeft";Ne&&(xe[Fe]=`${Ne}px`)}return createVNode$1("div",{ref:L,class:[$.be("item","label-wrap")],style:xe},[(he=n.default)==null?void 0:he.call(n)])}else return createVNode$1(Fragment,{ref:L},[(_e=n.default)==null?void 0:_e.call(n)])}}});const __default__$X=defineComponent({name:"ElFormItem"}),_sfc_main$2x=defineComponent({...__default__$X,props:formItemProps,setup(r,{expose:n}){const g=r,y=useSlots(),$=inject(formContextKey,void 0),L=inject(formItemContextKey,void 0),re=useFormSize(void 0,{formItem:!1}),ae=useNamespace$1("form-item"),le=useId().value,ue=ref$1([]),he=ref$1(""),_e=refDebounced(he,100),Ce=ref$1(""),$e=ref$1();let Oe,xe=!1;const Ne=computed(()=>g.labelPosition||($==null?void 0:$.labelPosition)),Ie=computed(()=>{if(Ne.value==="top")return{};const Dn=addUnit(g.labelWidth||($==null?void 0:$.labelWidth)||"");return Dn?{width:Dn}:{}}),Fe=computed(()=>{if(Ne.value==="top"||$!=null&&$.inline)return{};if(!g.label&&!g.labelWidth&&At)return{};const Dn=addUnit(g.labelWidth||($==null?void 0:$.labelWidth)||"");return!g.label&&!y.label?{marginLeft:Dn}:{}}),Ve=computed(()=>[ae.b(),ae.m(re.value),ae.is("error",he.value==="error"),ae.is("validating",he.value==="validating"),ae.is("success",he.value==="success"),ae.is("required",vn.value||g.required),ae.is("no-asterisk",$==null?void 0:$.hideRequiredAsterisk),($==null?void 0:$.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[ae.m("feedback")]:$==null?void 0:$.statusIcon,[ae.m(`label-${Ne.value}`)]:Ne.value}]),ze=computed(()=>isBoolean(g.inlineMessage)?g.inlineMessage:($==null?void 0:$.inlineMessage)||!1),Ue=computed(()=>[ae.e("error"),{[ae.em("error","inline")]:ze.value}]),qe=computed(()=>g.prop?isString$3(g.prop)?g.prop:g.prop.join("."):""),kt=computed(()=>!!(g.label||y.label)),Et=computed(()=>g.for||(ue.value.length===1?ue.value[0]:void 0)),Pt=computed(()=>!Et.value&&kt.value),At=!!L,Dt=computed(()=>{const Dn=$==null?void 0:$.model;if(!(!Dn||!g.prop))return getProp(Dn,g.prop).value}),Lt=computed(()=>{const{required:Dn}=g,In=[];g.rules&&In.push(...castArray$1(g.rules));const Fn=$==null?void 0:$.rules;if(Fn&&g.prop){const Bn=getProp(Fn,g.prop).value;Bn&&In.push(...castArray$1(Bn))}if(Dn!==void 0){const Bn=In.map((Mn,Hn)=>[Mn,Hn]).filter(([Mn])=>Object.keys(Mn).includes("required"));if(Bn.length>0)for(const[Mn,Hn]of Bn)Mn.required!==Dn&&(In[Hn]={...Mn,required:Dn});else In.push({required:Dn})}return In}),hn=computed(()=>Lt.value.length>0),_n=Dn=>Lt.value.filter(Fn=>!Fn.trigger||!Dn?!0:isArray$5(Fn.trigger)?Fn.trigger.includes(Dn):Fn.trigger===Dn).map(({trigger:Fn,...Bn})=>Bn),vn=computed(()=>Lt.value.some(Dn=>Dn.required)),jt=computed(()=>{var Dn;return _e.value==="error"&&g.showMessage&&((Dn=$==null?void 0:$.showMessage)!=null?Dn:!0)}),$n=computed(()=>`${g.label||""}${($==null?void 0:$.labelSuffix)||""}`),Sn=Dn=>{he.value=Dn},bn=Dn=>{var In,Fn;const{errors:Bn,fields:Mn}=Dn;(!Bn||!Mn)&&console.error(Dn),Sn("error"),Ce.value=Bn?(Fn=(In=Bn==null?void 0:Bn[0])==null?void 0:In.message)!=null?Fn:`${g.prop} is required`:"",$==null||$.emit("validate",g.prop,!1,Ce.value)},wn=()=>{Sn("success"),$==null||$.emit("validate",g.prop,!0,"")},On=async Dn=>{const In=qe.value;return new Schema({[In]:Dn}).validate({[In]:Dt.value},{firstFields:!0}).then(()=>(wn(),!0)).catch(Bn=>(bn(Bn),Promise.reject(Bn)))},Tn=async(Dn,In)=>{if(xe||!g.prop)return!1;const Fn=isFunction$3(In);if(!hn.value)return In==null||In(!1),!1;const Bn=_n(Dn);return Bn.length===0?(In==null||In(!0),!0):(Sn("validating"),On(Bn).then(()=>(In==null||In(!0),!0)).catch(Mn=>{const{fields:Hn}=Mn;return In==null||In(!1,Hn),Fn?!1:Promise.reject(Hn)}))},xn=()=>{Sn(""),Ce.value="",xe=!1},Pn=async()=>{const Dn=$==null?void 0:$.model;if(!Dn||!g.prop)return;const In=getProp(Dn,g.prop);xe=!0,In.value=clone$6(Oe),await nextTick$1(),xn(),xe=!1},An=Dn=>{ue.value.includes(Dn)||ue.value.push(Dn)},Rn=Dn=>{ue.value=ue.value.filter(In=>In!==Dn)};watch$1(()=>g.error,Dn=>{Ce.value=Dn||"",Sn(Dn?"error":"")},{immediate:!0}),watch$1(()=>g.validateStatus,Dn=>Sn(Dn||""));const Nn=reactive({...toRefs(g),$el:$e,size:re,validateState:he,labelId:le,inputIds:ue,isGroup:Pt,hasLabel:kt,fieldValue:Dt,addInputId:An,removeInputId:Rn,resetField:Pn,clearValidate:xn,validate:Tn});return provide(formItemContextKey,Nn),onMounted(()=>{g.prop&&($==null||$.addField(Nn),Oe=clone$6(Dt.value))}),onBeforeUnmount(()=>{$==null||$.removeField(Nn)}),n({size:re,validateMessage:Ce,validateState:he,validate:Tn,clearValidate:xn,resetField:Pn}),(Dn,In)=>{var Fn;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:$e,class:normalizeClass(unref(Ve)),role:unref(Pt)?"group":void 0,"aria-labelledby":unref(Pt)?unref(le):void 0},[createVNode$1(unref(FormLabelWrap),{"is-auto-width":unref(Ie).width==="auto","update-all":((Fn=unref($))==null?void 0:Fn.labelWidth)==="auto"},{default:withCtx(()=>[unref(kt)?(openBlock(),createBlock(resolveDynamicComponent(unref(Et)?"label":"div"),{key:0,id:unref(le),for:unref(Et),class:normalizeClass(unref(ae).e("label")),style:normalizeStyle$1(unref(Ie))},{default:withCtx(()=>[renderSlot(Dn.$slots,"label",{label:unref($n)},()=>[createTextVNode(toDisplayString(unref($n)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(ae).e("content")),style:normalizeStyle$1(unref(Fe))},[renderSlot(Dn.$slots,"default"),createVNode$1(TransitionGroup,{name:`${unref(ae).namespace.value}-zoom-in-top`},{default:withCtx(()=>[unref(jt)?renderSlot(Dn.$slots,"error",{key:0,error:Ce.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(Ue))},toDisplayString(Ce.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var FormItem=_export_sfc(_sfc_main$2x,[["__file","form-item.vue"]]);const ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem),imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:definePropType(String)}}),imageViewerEmits={close:()=>!0,switch:r=>isNumber$2(r),rotate:r=>isNumber$2(r)},__default__$W=defineComponent({name:"ElImageViewer"}),_sfc_main$2w=defineComponent({...__default__$W,props:imageViewerProps,emits:imageViewerEmits,setup(r,{expose:n,emit:g}){var y;const $=r,L={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}},{t:re}=useLocale(),ae=useNamespace$1("image-viewer"),{nextZIndex:le}=useZIndex(),ue=ref$1(),he=ref$1([]),_e=effectScope(),Ce=ref$1(!0),$e=ref$1($.initialIndex),Oe=shallowRef(L.CONTAIN),xe=ref$1({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),Ne=ref$1((y=$.zIndex)!=null?y:le()),Ie=computed(()=>{const{urlList:Tn}=$;return Tn.length<=1}),Fe=computed(()=>$e.value===0),Ve=computed(()=>$e.value===$.urlList.length-1),ze=computed(()=>$.urlList[$e.value]),Ue=computed(()=>[ae.e("btn"),ae.e("prev"),ae.is("disabled",!$.infinite&&Fe.value)]),qe=computed(()=>[ae.e("btn"),ae.e("next"),ae.is("disabled",!$.infinite&&Ve.value)]),kt=computed(()=>{const{scale:Tn,deg:xn,offsetX:Pn,offsetY:An,enableTransition:Rn}=xe.value;let Nn=Pn/Tn,Dn=An/Tn;const In=xn*Math.PI/180,Fn=Math.cos(In),Bn=Math.sin(In);Nn=Nn*Fn+Dn*Bn,Dn=Dn*Fn-Pn/Tn*Bn;const Mn={transform:`scale(${Tn}) rotate(${xn}deg) translate(${Nn}px, ${Dn}px)`,transition:Rn?"transform .3s":""};return Oe.value.name===L.CONTAIN.name&&(Mn.maxWidth=Mn.maxHeight="100%"),Mn});function Et(){At(),g("close")}function Pt(){const Tn=throttle$1(Pn=>{switch(Pn.code){case EVENT_CODE.esc:$.closeOnPressEscape&&Et();break;case EVENT_CODE.space:vn();break;case EVENT_CODE.left:$n();break;case EVENT_CODE.up:bn("zoomIn");break;case EVENT_CODE.right:Sn();break;case EVENT_CODE.down:bn("zoomOut");break}}),xn=throttle$1(Pn=>{const An=Pn.deltaY||Pn.deltaX;bn(An<0?"zoomIn":"zoomOut",{zoomRate:$.zoomRate,enableTransition:!1})});_e.run(()=>{useEventListener(document,"keydown",Tn),useEventListener(document,"wheel",xn)})}function At(){_e.stop()}function Dt(){Ce.value=!1}function Lt(Tn){Ce.value=!1,Tn.target.alt=re("el.image.error")}function hn(Tn){if(Ce.value||Tn.button!==0||!ue.value)return;xe.value.enableTransition=!1;const{offsetX:xn,offsetY:Pn}=xe.value,An=Tn.pageX,Rn=Tn.pageY,Nn=throttle$1(In=>{xe.value={...xe.value,offsetX:xn+In.pageX-An,offsetY:Pn+In.pageY-Rn}}),Dn=useEventListener(document,"mousemove",Nn);useEventListener(document,"mouseup",()=>{Dn()}),Tn.preventDefault()}function _n(){xe.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function vn(){if(Ce.value)return;const Tn=keysOf(L),xn=Object.values(L),Pn=Oe.value.name,Rn=(xn.findIndex(Nn=>Nn.name===Pn)+1)%Tn.length;Oe.value=L[Tn[Rn]],_n()}function jt(Tn){const xn=$.urlList.length;$e.value=(Tn+xn)%xn}function $n(){Fe.value&&!$.infinite||jt($e.value-1)}function Sn(){Ve.value&&!$.infinite||jt($e.value+1)}function bn(Tn,xn={}){if(Ce.value)return;const{minScale:Pn,maxScale:An}=$,{zoomRate:Rn,rotateDeg:Nn,enableTransition:Dn}={zoomRate:$.zoomRate,rotateDeg:90,enableTransition:!0,...xn};switch(Tn){case"zoomOut":xe.value.scale>Pn&&(xe.value.scale=Number.parseFloat((xe.value.scale/Rn).toFixed(3)));break;case"zoomIn":xe.value.scale<An&&(xe.value.scale=Number.parseFloat((xe.value.scale*Rn).toFixed(3)));break;case"clockwise":xe.value.deg+=Nn,g("rotate",xe.value.deg);break;case"anticlockwise":xe.value.deg-=Nn,g("rotate",xe.value.deg);break}xe.value.enableTransition=Dn}function wn(Tn){var xn;((xn=Tn.detail)==null?void 0:xn.focusReason)==="pointer"&&Tn.preventDefault()}function On(){$.closeOnPressEscape&&Et()}return watch$1(ze,()=>{nextTick$1(()=>{const Tn=he.value[0];Tn!=null&&Tn.complete||(Ce.value=!0)})}),watch$1($e,Tn=>{_n(),g("switch",Tn)}),onMounted(()=>{Pt()}),n({setActiveItem:jt}),(Tn,xn)=>(openBlock(),createBlock(unref(ElTeleport),{to:"body",disabled:!Tn.teleported},{default:withCtx(()=>[createVNode$1(Transition,{name:"viewer-fade",appear:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"wrapper",ref:ue,tabindex:-1,class:normalizeClass(unref(ae).e("wrapper")),style:normalizeStyle$1({zIndex:Ne.value})},[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:"","focus-trap-el":ue.value,"focus-start-el":"container",onFocusoutPrevented:wn,onReleaseRequested:On},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(ae).e("mask")),onClick:withModifiers(Pn=>Tn.hideOnClickModal&&Et(),["self"])},null,10,["onClick"]),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref(ae).e("btn"),unref(ae).e("close")]),onClick:Et},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1})],2),createCommentVNode(" ARROW "),unref(Ie)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:normalizeClass(unref(Ue)),onClick:$n},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],2),createBaseVNode("span",{class:normalizeClass(unref(qe)),onClick:Sn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],2)],64)),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref(ae).e("btn"),unref(ae).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref(ae).e("actions__inner"))},[createVNode$1(unref(ElIcon),{onClick:Pn=>bn("zoomOut")},{default:withCtx(()=>[createVNode$1(unref(zoom_out_default))]),_:1},8,["onClick"]),createVNode$1(unref(ElIcon),{onClick:Pn=>bn("zoomIn")},{default:withCtx(()=>[createVNode$1(unref(zoom_in_default))]),_:1},8,["onClick"]),createBaseVNode("i",{class:normalizeClass(unref(ae).e("actions__divider"))},null,2),createVNode$1(unref(ElIcon),{onClick:vn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Oe).icon)))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref(ae).e("actions__divider"))},null,2),createVNode$1(unref(ElIcon),{onClick:Pn=>bn("anticlockwise")},{default:withCtx(()=>[createVNode$1(unref(refresh_left_default))]),_:1},8,["onClick"]),createVNode$1(unref(ElIcon),{onClick:Pn=>bn("clockwise")},{default:withCtx(()=>[createVNode$1(unref(refresh_right_default))]),_:1},8,["onClick"])],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref(ae).e("canvas"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tn.urlList,(Pn,An)=>withDirectives((openBlock(),createElementBlock("img",{ref_for:!0,ref:Rn=>he.value[An]=Rn,key:Pn,src:Pn,style:normalizeStyle$1(unref(kt)),class:normalizeClass(unref(ae).e("img")),crossorigin:Tn.crossorigin,onLoad:Dt,onError:Lt,onMousedown:hn},null,46,["src","crossorigin"])),[[vShow,An===$e.value]])),128))],2),renderSlot(Tn.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var ImageViewer=_export_sfc(_sfc_main$2w,[["__file","image-viewer.vue"]]);const ElImageViewer=withInstall(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:definePropType(String)}}),imageEmits={load:r=>r instanceof Event,error:r=>r instanceof Event,switch:r=>isNumber$2(r),close:()=>!0,show:()=>!0},__default__$V=defineComponent({name:"ElImage",inheritAttrs:!1}),_sfc_main$2v=defineComponent({...__default__$V,props:imageProps,emits:imageEmits,setup(r,{emit:n}){const g=r;let y="";const{t:$}=useLocale(),L=useNamespace$1("image"),re=useAttrs$1(),ae=computed(()=>fromPairs(Object.entries(re).filter(([Sn])=>/^(data-|on[A-Z])/i.test(Sn)||["id","style"].includes(Sn)))),le=useAttrs({excludeListeners:!0,excludeKeys:computed(()=>Object.keys(ae.value))}),ue=ref$1(),he=ref$1(!1),_e=ref$1(!0),Ce=ref$1(!1),$e=ref$1(),Oe=ref$1(),xe=isClient&&"loading"in HTMLImageElement.prototype;let Ne,Ie;const Fe=computed(()=>[L.e("inner"),ze.value&&L.e("preview"),_e.value&&L.is("loading")]),Ve=computed(()=>{const{fit:Sn}=g;return isClient&&Sn?{objectFit:Sn}:{}}),ze=computed(()=>{const{previewSrcList:Sn}=g;return isArray$5(Sn)&&Sn.length>0}),Ue=computed(()=>{const{previewSrcList:Sn,initialIndex:bn}=g;let wn=bn;return bn>Sn.length-1&&(wn=0),wn}),qe=computed(()=>g.loading==="eager"?!1:!xe&&g.loading==="lazy"||g.lazy),kt=()=>{isClient&&(_e.value=!0,he.value=!1,ue.value=g.src)};function Et(Sn){_e.value=!1,he.value=!1,n("load",Sn)}function Pt(Sn){_e.value=!1,he.value=!0,n("error",Sn)}function At(){isInContainer($e.value,Oe.value)&&(kt(),hn())}const Dt=useThrottleFn(At,200,!0);async function Lt(){var Sn;if(!isClient)return;await nextTick$1();const{scrollContainer:bn}=g;isElement$3(bn)?Oe.value=bn:isString$3(bn)&&bn!==""?Oe.value=(Sn=document.querySelector(bn))!=null?Sn:void 0:$e.value&&(Oe.value=getScrollContainer($e.value)),Oe.value&&(Ne=useEventListener(Oe,"scroll",Dt),setTimeout(()=>At(),100))}function hn(){!isClient||!Oe.value||!Dt||(Ne==null||Ne(),Oe.value=void 0)}function _n(Sn){if(Sn.ctrlKey){if(Sn.deltaY<0)return Sn.preventDefault(),!1;if(Sn.deltaY>0)return Sn.preventDefault(),!1}}function vn(){ze.value&&(Ie=useEventListener("wheel",_n,{passive:!1}),y=document.body.style.overflow,document.body.style.overflow="hidden",Ce.value=!0,n("show"))}function jt(){Ie==null||Ie(),document.body.style.overflow=y,Ce.value=!1,n("close")}function $n(Sn){n("switch",Sn)}return watch$1(()=>g.src,()=>{qe.value?(_e.value=!0,he.value=!1,hn(),Lt()):kt()}),onMounted(()=>{qe.value?Lt():kt()}),(Sn,bn)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"container",ref:$e},unref(ae),{class:[unref(L).b(),Sn.$attrs.class]}),[he.value?renderSlot(Sn.$slots,"error",{key:0},()=>[createBaseVNode("div",{class:normalizeClass(unref(L).e("error"))},toDisplayString(unref($)("el.image.error")),3)]):(openBlock(),createElementBlock(Fragment,{key:1},[ue.value!==void 0?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(le),{src:ue.value,loading:Sn.loading,style:unref(Ve),class:unref(Fe),crossorigin:Sn.crossorigin,onClick:vn,onLoad:Et,onError:Pt}),null,16,["src","loading","crossorigin"])):createCommentVNode("v-if",!0),_e.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(L).e("wrapper"))},[renderSlot(Sn.$slots,"placeholder",{},()=>[createBaseVNode("div",{class:normalizeClass(unref(L).e("placeholder"))},null,2)])],2)):createCommentVNode("v-if",!0)],64)),unref(ze)?(openBlock(),createElementBlock(Fragment,{key:2},[Ce.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":Sn.zIndex,"initial-index":unref(Ue),infinite:Sn.infinite,"zoom-rate":Sn.zoomRate,"min-scale":Sn.minScale,"max-scale":Sn.maxScale,"url-list":Sn.previewSrcList,crossorigin:Sn.crossorigin,"hide-on-click-modal":Sn.hideOnClickModal,teleported:Sn.previewTeleported,"close-on-press-escape":Sn.closeOnPressEscape,onClose:jt,onSwitch:$n},{default:withCtx(()=>[Sn.$slots.viewer?(openBlock(),createElementBlock("div",{key:0},[renderSlot(Sn.$slots,"viewer")])):createCommentVNode("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],16))}});var Image$1=_export_sfc(_sfc_main$2v,[["__file","image.vue"]]);const ElImage=withInstall(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:r=>r===null||isNumber$2(r)||["min","max"].includes(r),default:null},name:String,placeholder:String,precision:{type:Number,validator:r=>r>=0&&r===Number.parseInt(`${r}`,10)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),inputNumberEmits={[CHANGE_EVENT]:(r,n)=>n!==r,blur:r=>r instanceof FocusEvent,focus:r=>r instanceof FocusEvent,[INPUT_EVENT]:r=>isNumber$2(r)||isNil(r),[UPDATE_MODEL_EVENT]:r=>isNumber$2(r)||isNil(r)},__default__$U=defineComponent({name:"ElInputNumber"}),_sfc_main$2u=defineComponent({...__default__$U,props:inputNumberProps,emits:inputNumberEmits,setup(r,{expose:n,emit:g}){const y=r,{t:$}=useLocale(),L=useNamespace$1("input-number"),re=ref$1(),ae=reactive({currentValue:y.modelValue,userInput:null}),{formItem:le}=useFormItem(),ue=computed(()=>isNumber$2(y.modelValue)&&y.modelValue<=y.min),he=computed(()=>isNumber$2(y.modelValue)&&y.modelValue>=y.max),_e=computed(()=>{const vn=Ie(y.step);return isUndefined(y.precision)?Math.max(Ie(y.modelValue),vn):(vn>y.precision,y.precision)}),Ce=computed(()=>y.controls&&y.controlsPosition==="right"),$e=useFormSize(),Oe=useFormDisabled(),xe=computed(()=>{if(ae.userInput!==null)return ae.userInput;let vn=ae.currentValue;if(isNil(vn))return"";if(isNumber$2(vn)){if(Number.isNaN(vn))return"";isUndefined(y.precision)||(vn=vn.toFixed(y.precision))}return vn}),Ne=(vn,jt)=>{if(isUndefined(jt)&&(jt=_e.value),jt===0)return Math.round(vn);let $n=String(vn);const Sn=$n.indexOf(".");if(Sn===-1||!$n.replace(".","").split("")[Sn+jt])return vn;const On=$n.length;return $n.charAt(On-1)==="5"&&($n=`${$n.slice(0,Math.max(0,On-1))}6`),Number.parseFloat(Number($n).toFixed(jt))},Ie=vn=>{if(isNil(vn))return 0;const jt=vn.toString(),$n=jt.indexOf(".");let Sn=0;return $n!==-1&&(Sn=jt.length-$n-1),Sn},Fe=(vn,jt=1)=>isNumber$2(vn)?Ne(vn+y.step*jt):ae.currentValue,Ve=()=>{if(y.readonly||Oe.value||he.value)return;const vn=Number(xe.value)||0,jt=Fe(vn);qe(jt),g(INPUT_EVENT,ae.currentValue),hn()},ze=()=>{if(y.readonly||Oe.value||ue.value)return;const vn=Number(xe.value)||0,jt=Fe(vn,-1);qe(jt),g(INPUT_EVENT,ae.currentValue),hn()},Ue=(vn,jt)=>{const{max:$n,min:Sn,step:bn,precision:wn,stepStrictly:On,valueOnClear:Tn}=y;$n<Sn&&throwError$1("InputNumber","min should not be greater than max.");let xn=Number(vn);if(isNil(vn)||Number.isNaN(xn))return null;if(vn===""){if(Tn===null)return null;xn=isString$3(Tn)?{min:Sn,max:$n}[Tn]:Tn}return On&&(xn=Ne(Math.round(xn/bn)*bn,wn),xn!==vn&&jt&&g(UPDATE_MODEL_EVENT,xn)),isUndefined(wn)||(xn=Ne(xn,wn)),(xn>$n||xn<Sn)&&(xn=xn>$n?$n:Sn,jt&&g(UPDATE_MODEL_EVENT,xn)),xn},qe=(vn,jt=!0)=>{var $n;const Sn=ae.currentValue,bn=Ue(vn);if(!jt){g(UPDATE_MODEL_EVENT,bn);return}Sn===bn&&vn||(ae.userInput=null,g(UPDATE_MODEL_EVENT,bn),Sn!==bn&&g(CHANGE_EVENT,bn,Sn),y.validateEvent&&(($n=le==null?void 0:le.validate)==null||$n.call(le,"change").catch(wn=>void 0)),ae.currentValue=bn)},kt=vn=>{ae.userInput=vn;const jt=vn===""?null:Number(vn);g(INPUT_EVENT,jt),qe(jt,!1)},Et=vn=>{const jt=vn!==""?Number(vn):"";(isNumber$2(jt)&&!Number.isNaN(jt)||vn==="")&&qe(jt),hn(),ae.userInput=null},Pt=()=>{var vn,jt;(jt=(vn=re.value)==null?void 0:vn.focus)==null||jt.call(vn)},At=()=>{var vn,jt;(jt=(vn=re.value)==null?void 0:vn.blur)==null||jt.call(vn)},Dt=vn=>{g("focus",vn)},Lt=vn=>{var jt,$n;ae.userInput=null,isFirefox()&&ae.currentValue===null&&((jt=re.value)!=null&&jt.input)&&(re.value.input.value=""),g("blur",vn),y.validateEvent&&(($n=le==null?void 0:le.validate)==null||$n.call(le,"blur").catch(Sn=>void 0))},hn=()=>{ae.currentValue!==y.modelValue&&(ae.currentValue=y.modelValue)},_n=vn=>{document.activeElement===vn.target&&vn.preventDefault()};return watch$1(()=>y.modelValue,(vn,jt)=>{const $n=Ue(vn,!0);ae.userInput===null&&$n!==jt&&(ae.currentValue=$n)},{immediate:!0}),onMounted(()=>{var vn;const{min:jt,max:$n,modelValue:Sn}=y,bn=(vn=re.value)==null?void 0:vn.input;if(bn.setAttribute("role","spinbutton"),Number.isFinite($n)?bn.setAttribute("aria-valuemax",String($n)):bn.removeAttribute("aria-valuemax"),Number.isFinite(jt)?bn.setAttribute("aria-valuemin",String(jt)):bn.removeAttribute("aria-valuemin"),bn.setAttribute("aria-valuenow",ae.currentValue||ae.currentValue===0?String(ae.currentValue):""),bn.setAttribute("aria-disabled",String(Oe.value)),!isNumber$2(Sn)&&Sn!=null){let wn=Number(Sn);Number.isNaN(wn)&&(wn=null),g(UPDATE_MODEL_EVENT,wn)}bn.addEventListener("wheel",_n,{passive:!1})}),onUpdated(()=>{var vn,jt;const $n=(vn=re.value)==null?void 0:vn.input;$n==null||$n.setAttribute("aria-valuenow",`${(jt=ae.currentValue)!=null?jt:""}`)}),n({focus:Pt,blur:At}),(vn,jt)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(L).b(),unref(L).m(unref($e)),unref(L).is("disabled",unref(Oe)),unref(L).is("without-controls",!vn.controls),unref(L).is("controls-right",unref(Ce))]),onDragstart:withModifiers(()=>{},["prevent"])},[vn.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref($)("el.inputNumber.decrease"),class:normalizeClass([unref(L).e("decrease"),unref(L).is("disabled",unref(ue))]),onKeydown:withKeys(ze,["enter"])},[renderSlot(vn.$slots,"decrease-icon",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[unref(Ce)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[unref(vRepeatClick),ze]]):createCommentVNode("v-if",!0),vn.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref($)("el.inputNumber.increase"),class:normalizeClass([unref(L).e("increase"),unref(L).is("disabled",unref(he))]),onKeydown:withKeys(Ve,["enter"])},[renderSlot(vn.$slots,"increase-icon",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[unref(Ce)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[unref(vRepeatClick),Ve]]):createCommentVNode("v-if",!0),createVNode$1(unref(ElInput),{id:vn.id,ref_key:"input",ref:re,type:"number",step:vn.step,"model-value":unref(xe),placeholder:vn.placeholder,readonly:vn.readonly,disabled:unref(Oe),size:unref($e),max:vn.max,min:vn.min,name:vn.name,"aria-label":vn.ariaLabel,"validate-event":!1,onKeydown:[withKeys(withModifiers(Ve,["prevent"]),["up"]),withKeys(withModifiers(ze,["prevent"]),["down"])],onBlur:Lt,onFocus:Dt,onInput:kt,onChange:Et},createSlots({_:2},[vn.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(vn.$slots,"prefix")])}:void 0,vn.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(vn.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var InputNumber=_export_sfc(_sfc_main$2u,[["__file","input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),inputTagProps=buildProps({modelValue:{type:definePropType(Array)},max:Number,tagType:{...tagProps.type,default:"info"},tagEffect:tagProps.effect,trigger:{type:definePropType(String),default:EVENT_CODE.enter},draggable:{type:Boolean,default:!1},size:useSizeProp,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),inputTagEmits={[UPDATE_MODEL_EVENT]:r=>isArray$5(r)||isUndefined(r),[CHANGE_EVENT]:r=>isArray$5(r)||isUndefined(r),[INPUT_EVENT]:r=>isString$3(r),"add-tag":r=>isString$3(r),"remove-tag":r=>isString$3(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0};function useInputTag({props:r,emit:n,formItem:g}){const y=useFormDisabled(),$=useFormSize(),L=shallowRef(),re=ref$1(),ae=computed(()=>["small"].includes($.value)?"small":"default"),le=computed(()=>{var Pt;return(Pt=r.modelValue)!=null&&Pt.length?void 0:r.placeholder}),ue=computed(()=>!(r.readonly||y.value)),he=computed(()=>{var Pt,At;return isUndefined(r.max)?!1:((At=(Pt=r.modelValue)==null?void 0:Pt.length)!=null?At:0)>=r.max}),_e=Pt=>{if(he.value){re.value=void 0;return}Ue.value||n(INPUT_EVENT,Pt.target.value)},Ce=Pt=>{var At;if(!Ue.value)switch(Pt.code){case r.trigger:Pt.preventDefault(),Pt.stopPropagation(),$e();break;case EVENT_CODE.numpadEnter:r.trigger===EVENT_CODE.enter&&(Pt.preventDefault(),Pt.stopPropagation(),$e());break;case EVENT_CODE.backspace:!re.value&&((At=r.modelValue)!=null&&At.length)&&(Pt.preventDefault(),Pt.stopPropagation(),Oe(r.modelValue.length-1));break}},$e=()=>{var Pt,At;const Dt=(Pt=re.value)==null?void 0:Pt.trim();if(!Dt||he.value)return;const Lt=[...(At=r.modelValue)!=null?At:[],Dt];n(UPDATE_MODEL_EVENT,Lt),n(CHANGE_EVENT,Lt),n("add-tag",Dt),re.value=void 0},Oe=Pt=>{var At;const Dt=((At=r.modelValue)!=null?At:[]).slice(),[Lt]=Dt.splice(Pt,1);n(UPDATE_MODEL_EVENT,Dt),n(CHANGE_EVENT,Dt),n("remove-tag",Lt)},xe=()=>{re.value=void 0,n(UPDATE_MODEL_EVENT,void 0),n(CHANGE_EVENT,void 0),n("clear")},Ne=(Pt,At,Dt)=>{var Lt;const hn=((Lt=r.modelValue)!=null?Lt:[]).slice(),[_n]=hn.splice(Pt,1),vn=At>Pt&&Dt==="before"?-1:At<Pt&&Dt==="after"?1:0;hn.splice(At+vn,0,_n),n(UPDATE_MODEL_EVENT,hn),n(CHANGE_EVENT,hn)},Ie=()=>{var Pt;(Pt=L.value)==null||Pt.focus()},Fe=()=>{var Pt;(Pt=L.value)==null||Pt.blur()},{wrapperRef:Ve,isFocused:ze}=useFocusController(L,{beforeFocus(){return y.value},afterBlur(){var Pt;$e(),r.validateEvent&&((Pt=g==null?void 0:g.validate)==null||Pt.call(g,"blur").catch(At=>void 0))}}),{isComposing:Ue,handleCompositionStart:qe,handleCompositionUpdate:kt,handleCompositionEnd:Et}=useComposition({afterComposition:_e});return watch$1(()=>r.modelValue,()=>{var Pt;r.validateEvent&&((Pt=g==null?void 0:g.validate)==null||Pt.call(g,CHANGE_EVENT).catch(At=>void 0))}),{inputRef:L,wrapperRef:Ve,isFocused:ze,isComposing:Ue,inputValue:re,size:$,tagSize:ae,placeholder:le,closable:ue,disabled:y,inputLimit:he,handleDragged:Ne,handleInput:_e,handleKeydown:Ce,handleAddTag:$e,handleRemoveTag:Oe,handleClear:xe,handleCompositionStart:qe,handleCompositionUpdate:kt,handleCompositionEnd:Et,focus:Ie,blur:Fe}}function useHovering(){const r=ref$1(!1);return{hovering:r,handleMouseEnter:()=>{r.value=!0},handleMouseLeave:()=>{r.value=!1}}}function useCalcInputWidth(){const r=shallowRef(),n=ref$1(0),g=11,y=computed(()=>({minWidth:`${Math.max(n.value,g)}px`}));return useResizeObserver(r,()=>{var L,re;n.value=(re=(L=r.value)==null?void 0:L.getBoundingClientRect().width)!=null?re:0}),{calculatorRef:r,calculatorWidth:n,inputStyle:y}}function useDragTag({wrapperRef:r,handleDragged:n,afterDragged:g}){const y=useNamespace$1("input-tag"),$=shallowRef(),L=ref$1(!1);let re,ae,le,ue;function he(Oe){return`.${y.e("inner")} .${y.namespace.value}-tag:nth-child(${Oe+1})`}function _e(Oe,xe){re=xe,ae=r.value.querySelector(he(xe)),ae&&(ae.style.opacity="0.5"),Oe.dataTransfer.effectAllowed="move"}function Ce(Oe,xe){if(le=xe,Oe.preventDefault(),Oe.dataTransfer.dropEffect="move",isUndefined(re)||re===xe){L.value=!1;return}const Ne=r.value.querySelector(he(xe)).getBoundingClientRect(),Ie=re+1!==xe,Fe=re-1!==xe,Ve=Oe.clientX-Ne.left,ze=Ie?Fe?.5:1:-1,Ue=Fe?Ie?.5:0:1;Ve<=Ne.width*ze?ue="before":Ve>Ne.width*Ue?ue="after":ue=void 0;const qe=r.value.querySelector(`.${y.e("inner")}`),kt=qe.getBoundingClientRect(),Et=Number.parseFloat(getStyle$1(qe,"gap"))/2,Pt=Ne.top-kt.top;let At=-9999;if(ue==="before")At=Math.max(Ne.left-kt.left-Et,Math.floor(-Et/2));else if(ue==="after"){const Dt=Ne.right-kt.left;At=Dt+(kt.width===Dt?Math.floor(Et/2):Et)}setStyle($.value,{top:`${Pt}px`,left:`${At}px`}),L.value=!!ue}function $e(Oe){Oe.preventDefault(),ae&&(ae.style.opacity=""),ue&&!isUndefined(re)&&!isUndefined(le)&&re!==le&&n(re,le,ue),L.value=!1,re=void 0,ae=null,le=void 0,ue=void 0,g==null||g()}return{dropIndicatorRef:$,showDropIndicator:L,handleDragStart:_e,handleDragOver:Ce,handleDragEnd:$e}}function useInputTagDom({props:r,isFocused:n,hovering:g,disabled:y,inputValue:$,size:L,validateState:re,validateIcon:ae,needStatusIcon:le}){const ue=useAttrs$1(),he=useSlots(),_e=useNamespace$1("input-tag"),Ce=useNamespace$1("input"),$e=computed(()=>[_e.b(),_e.is("focused",n.value),_e.is("hovering",g.value),_e.is("disabled",y.value),_e.m(L.value),_e.e("wrapper"),ue.class]),Oe=computed(()=>[ue.style]),xe=computed(()=>{var Fe,Ve;return[_e.e("inner"),_e.is("draggable",r.draggable),_e.is("left-space",!((Fe=r.modelValue)!=null&&Fe.length)&&!he.prefix),_e.is("right-space",!((Ve=r.modelValue)!=null&&Ve.length)&&!Ie.value)]}),Ne=computed(()=>{var Fe;return r.clearable&&!y.value&&!r.readonly&&(((Fe=r.modelValue)==null?void 0:Fe.length)||$.value)&&(n.value||g.value)}),Ie=computed(()=>he.suffix||Ne.value||re.value&&ae.value&&le.value);return{ns:_e,nsInput:Ce,containerKls:$e,containerStyle:Oe,innerKls:xe,showClear:Ne,showSuffix:Ie}}const __default__$T=defineComponent({name:"ElInputTag",inheritAttrs:!1}),_sfc_main$2t=defineComponent({...__default__$T,props:inputTagProps,emits:inputTagEmits,setup(r,{expose:n,emit:g}){const y=r,$=useAttrs(),L=useSlots(),{form:re,formItem:ae}=useFormItem(),{inputId:le}=useFormItemInputId(y,{formItemContext:ae}),ue=computed(()=>{var Mn;return(Mn=re==null?void 0:re.statusIcon)!=null?Mn:!1}),he=computed(()=>(ae==null?void 0:ae.validateState)||""),_e=computed(()=>he.value&&ValidateComponentsMap[he.value]),{inputRef:Ce,wrapperRef:$e,isFocused:Oe,inputValue:xe,size:Ne,tagSize:Ie,placeholder:Fe,closable:Ve,disabled:ze,handleDragged:Ue,handleInput:qe,handleKeydown:kt,handleRemoveTag:Et,handleClear:Pt,handleCompositionStart:At,handleCompositionUpdate:Dt,handleCompositionEnd:Lt,focus:hn,blur:_n}=useInputTag({props:y,emit:g,formItem:ae}),{hovering:vn,handleMouseEnter:jt,handleMouseLeave:$n}=useHovering(),{calculatorRef:Sn,inputStyle:bn}=useCalcInputWidth(),{dropIndicatorRef:wn,showDropIndicator:On,handleDragStart:Tn,handleDragOver:xn,handleDragEnd:Pn}=useDragTag({wrapperRef:$e,handleDragged:Ue,afterDragged:hn}),{ns:An,nsInput:Rn,containerKls:Nn,containerStyle:Dn,innerKls:In,showClear:Fn,showSuffix:Bn}=useInputTagDom({props:y,hovering:vn,isFocused:Oe,inputValue:xe,disabled:ze,size:Ne,validateState:he,validateIcon:_e,needStatusIcon:ue});return n({focus:hn,blur:_n}),(Mn,Hn)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:$e,class:normalizeClass(unref(Nn)),style:normalizeStyle$1(unref(Dn)),onMouseenter:unref(jt),onMouseleave:unref($n)},[unref(L).prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(An).e("prefix"))},[renderSlot(Mn.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(In))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Mn.modelValue,(Yn,qn)=>(openBlock(),createBlock(unref(ElTag),{key:qn,size:unref(Ie),closable:unref(Ve),type:Mn.tagType,effect:Mn.tagEffect,draggable:unref(Ve)&&Mn.draggable,"disable-transitions":"",onClose:Xn=>unref(Et)(qn),onDragstart:Xn=>unref(Tn)(Xn,qn),onDragover:Xn=>unref(xn)(Xn,qn),onDragend:unref(Pn),onDrop:withModifiers(()=>{},["stop"])},{default:withCtx(()=>[renderSlot(Mn.$slots,"tag",{value:Yn,index:qn},()=>[createTextVNode(toDisplayString(Yn),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),createBaseVNode("div",{class:normalizeClass(unref(An).e("input-wrapper"))},[withDirectives(createBaseVNode("input",mergeProps({id:unref(le),ref_key:"inputRef",ref:Ce,"onUpdate:modelValue":Yn=>isRef(xe)?xe.value=Yn:null},unref($),{type:"text",minlength:Mn.minlength,maxlength:Mn.maxlength,disabled:unref(ze),readonly:Mn.readonly,autocomplete:Mn.autocomplete,tabindex:Mn.tabindex,placeholder:unref(Fe),autofocus:Mn.autofocus,ariaLabel:Mn.ariaLabel,class:unref(An).e("input"),style:unref(bn),onCompositionstart:unref(At),onCompositionupdate:unref(Dt),onCompositionend:unref(Lt),onInput:unref(qe),onKeydown:unref(kt)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[vModelText,unref(xe)]]),createBaseVNode("span",{ref_key:"calculatorRef",ref:Sn,"aria-hidden":"true",class:normalizeClass(unref(An).e("input-calculator")),textContent:toDisplayString(unref(xe))},null,10,["textContent"])],2),withDirectives(createBaseVNode("div",{ref_key:"dropIndicatorRef",ref:wn,class:normalizeClass(unref(An).e("drop-indicator"))},null,2),[[vShow,unref(On)]])],2),unref(Bn)?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(An).e("suffix"))},[renderSlot(Mn.$slots,"suffix"),unref(Fn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(An).e("icon"),unref(An).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:unref(Pt)},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onMousedown","onClick"])):createCommentVNode("v-if",!0),unref(he)&&unref(_e)&&unref(ue)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(Rn).e("icon"),unref(Rn).e("validateIcon"),unref(Rn).is("loading",unref(he)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(_e))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var InputTag=_export_sfc(_sfc_main$2t,[["__file","input-tag.vue"]]);const ElInputTag=withInstall(InputTag),linkProps=buildProps({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:iconPropType}}),linkEmits={click:r=>r instanceof MouseEvent},__default__$S=defineComponent({name:"ElLink"}),_sfc_main$2s=defineComponent({...__default__$S,props:linkProps,emits:linkEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("link"),$=computed(()=>[y.b(),y.m(g.type),y.is("disabled",g.disabled),y.is("underline",g.underline&&!g.disabled)]);function L(re){g.disabled||n("click",re)}return(re,ae)=>(openBlock(),createElementBlock("a",{class:normalizeClass(unref($)),href:re.disabled||!re.href?void 0:re.href,target:re.disabled||!re.href?void 0:re.target,onClick:L},[re.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(re.icon)))]),_:1})):createCommentVNode("v-if",!0),re.$slots.default?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(y).e("inner"))},[renderSlot(re.$slots,"default")],2)):createCommentVNode("v-if",!0),re.$slots.icon?renderSlot(re.$slots,"icon",{key:2}):createCommentVNode("v-if",!0)],10,["href","target"]))}});var Link=_export_sfc(_sfc_main$2s,[["__file","link.vue"]]);const ElLink=withInstall(Link);let SubMenu$1=class{constructor(n,g){this.parent=n,this.domNode=g,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,g=>{g.addEventListener("keydown",y=>{let $=!1;switch(y.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),$=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),$=!0;break}case EVENT_CODE.tab:{triggerEvent(n,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:{$=!0,y.currentTarget.click();break}}return $&&(y.preventDefault(),y.stopPropagation()),!1})})}},MenuItem$1=class{constructor(n,g){this.domNode=n,this.submenu=null,this.submenu=null,this.init(g)}init(n){this.domNode.setAttribute("tabindex","0");const g=this.domNode.querySelector(`.${n}-menu`);g&&(this.submenu=new SubMenu$1(this,g)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let g=!1;switch(n.code){case EVENT_CODE.down:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),g=!0;break}case EVENT_CODE.up:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),g=!0;break}case EVENT_CODE.tab:{triggerEvent(n.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:{g=!0,n.currentTarget.click();break}}g&&n.preventDefault()})}},Menu$1=class{constructor(n,g){this.domNode=n,this.init(g)}init(n){const g=this.domNode.childNodes;Array.from(g).forEach(y=>{y.nodeType===1&&new MenuItem$1(y,n)})}};const _sfc_main$2r=defineComponent({name:"ElMenuCollapseTransition",setup(){const r=useNamespace$1("menu");return{listeners:{onBeforeEnter:g=>g.style.opacity="0.2",onEnter(g,y){addClass(g,`${r.namespace.value}-opacity-transition`),g.style.opacity="1",y()},onAfterEnter(g){removeClass(g,`${r.namespace.value}-opacity-transition`),g.style.opacity=""},onBeforeLeave(g){g.dataset||(g.dataset={}),hasClass(g,r.m("collapse"))?(removeClass(g,r.m("collapse")),g.dataset.oldOverflow=g.style.overflow,g.dataset.scrollWidth=g.clientWidth.toString(),addClass(g,r.m("collapse"))):(addClass(g,r.m("collapse")),g.dataset.oldOverflow=g.style.overflow,g.dataset.scrollWidth=g.clientWidth.toString(),removeClass(g,r.m("collapse"))),g.style.width=`${g.scrollWidth}px`,g.style.overflow="hidden"},onLeave(g){addClass(g,"horizontal-collapse-transition"),g.style.width=`${g.dataset.scrollWidth}px`}}}}});function _sfc_render$t(r,n,g,y,$,L){return openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},r.listeners),{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},16)}var ElMenuCollapseTransition=_export_sfc(_sfc_main$2r,[["render",_sfc_render$t],["__file","menu-collapse-transition.vue"]]);function useMenu(r,n){const g=computed(()=>{let $=r.parent;const L=[n.value];for(;$.type.name!=="ElMenu";)$.props.index&&L.unshift($.props.index),$=$.parent;return L});return{parentMenu:computed(()=>{let $=r.parent;for(;$&&!["ElMenu","ElSubMenu"].includes($.type.name);)$=$.parent;return $}),indexPath:g}}function useMenuColor(r){return computed(()=>{const g=r.backgroundColor;return g?new TinyColor(g).shade(20).toString():""})}const useMenuCssVar=(r,n)=>{const g=useNamespace$1("menu");return computed(()=>g.cssVarBlock({"text-color":r.textColor||"","hover-text-color":r.textColor||"","bg-color":r.backgroundColor||"","hover-bg-color":useMenuColor(r).value||"","active-color":r.activeTextColor||"",level:`${n}`}))},subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$c="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$c,props:subMenuProps,setup(r,{slots:n,expose:g}){const y=getCurrentInstance(),{indexPath:$,parentMenu:L}=useMenu(y,computed(()=>r.index)),re=useNamespace$1("menu"),ae=useNamespace$1("sub-menu"),le=inject("rootMenu");le||throwError$1(COMPONENT_NAME$c,"can not inject root menu");const ue=inject(`subMenu:${L.value.uid}`);ue||throwError$1(COMPONENT_NAME$c,"can not inject sub menu");const he=ref$1({}),_e=ref$1({});let Ce;const $e=ref$1(!1),Oe=ref$1(),xe=ref$1(null),Ne=computed(()=>Et.value==="horizontal"&&Fe.value?"bottom-start":"right-start"),Ie=computed(()=>Et.value==="horizontal"&&Fe.value||Et.value==="vertical"&&!le.props.collapse?r.expandCloseIcon&&r.expandOpenIcon?qe.value?r.expandOpenIcon:r.expandCloseIcon:arrow_down_default:r.collapseCloseIcon&&r.collapseOpenIcon?qe.value?r.collapseOpenIcon:r.collapseCloseIcon:arrow_right_default),Fe=computed(()=>ue.level===0),Ve=computed(()=>{const wn=r.teleported;return wn===void 0?Fe.value:wn}),ze=computed(()=>le.props.collapse?`${re.namespace.value}-zoom-in-left`:`${re.namespace.value}-zoom-in-top`),Ue=computed(()=>Et.value==="horizontal"&&Fe.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),qe=computed(()=>le.openedMenus.includes(r.index)),kt=computed(()=>{let wn=!1;return Object.values(he.value).forEach(On=>{On.active&&(wn=!0)}),Object.values(_e.value).forEach(On=>{On.active&&(wn=!0)}),wn}),Et=computed(()=>le.props.mode),Pt=reactive({index:r.index,indexPath:$,active:kt}),At=useMenuCssVar(le.props,ue.level+1),Dt=computed(()=>{var wn;return(wn=r.popperOffset)!=null?wn:le.props.popperOffset}),Lt=computed(()=>{var wn;return(wn=r.popperClass)!=null?wn:le.props.popperClass}),hn=computed(()=>{var wn;return(wn=r.showTimeout)!=null?wn:le.props.showTimeout}),_n=computed(()=>{var wn;return(wn=r.hideTimeout)!=null?wn:le.props.hideTimeout}),vn=()=>{var wn,On,Tn;return(Tn=(On=(wn=xe.value)==null?void 0:wn.popperRef)==null?void 0:On.popperInstanceRef)==null?void 0:Tn.destroy()},jt=wn=>{wn||vn()},$n=()=>{le.props.menuTrigger==="hover"&&le.props.mode==="horizontal"||le.props.collapse&&le.props.mode==="vertical"||r.disabled||le.handleSubMenuClick({index:r.index,indexPath:$.value,active:kt.value})},Sn=(wn,On=hn.value)=>{var Tn;if(wn.type!=="focus"){if(le.props.menuTrigger==="click"&&le.props.mode==="horizontal"||!le.props.collapse&&le.props.mode==="vertical"||r.disabled){ue.mouseInChild.value=!0;return}ue.mouseInChild.value=!0,Ce==null||Ce(),{stop:Ce}=useTimeoutFn(()=>{le.openMenu(r.index,$.value)},On),Ve.value&&((Tn=L.value.vnode.el)==null||Tn.dispatchEvent(new MouseEvent("mouseenter")))}},bn=(wn=!1)=>{var On;if(le.props.menuTrigger==="click"&&le.props.mode==="horizontal"||!le.props.collapse&&le.props.mode==="vertical"){ue.mouseInChild.value=!1;return}Ce==null||Ce(),ue.mouseInChild.value=!1,{stop:Ce}=useTimeoutFn(()=>!$e.value&&le.closeMenu(r.index,$.value),_n.value),Ve.value&&wn&&((On=ue.handleMouseleave)==null||On.call(ue,!0))};watch$1(()=>le.props.collapse,wn=>jt(!!wn));{const wn=Tn=>{_e.value[Tn.index]=Tn},On=Tn=>{delete _e.value[Tn.index]};provide(`subMenu:${y.uid}`,{addSubMenu:wn,removeSubMenu:On,handleMouseleave:bn,mouseInChild:$e,level:ue.level+1})}return g({opened:qe}),onMounted(()=>{le.addSubMenu(Pt),ue.addSubMenu(Pt)}),onBeforeUnmount(()=>{ue.removeSubMenu(Pt),le.removeSubMenu(Pt)}),()=>{var wn;const On=[(wn=n.title)==null?void 0:wn.call(n),h$1(ElIcon,{class:ae.e("icon-arrow"),style:{transform:qe.value?r.expandCloseIcon&&r.expandOpenIcon||r.collapseCloseIcon&&r.collapseOpenIcon&&le.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$3(Ie.value)?h$1(y.appContext.components[Ie.value]):h$1(Ie.value)})],Tn=le.isMenuPopup?h$1(ElTooltip,{ref:xe,visible:qe.value,effect:"light",pure:!0,offset:Dt.value,showArrow:!1,persistent:!0,popperClass:Lt.value,placement:Ne.value,teleported:Ve.value,fallbackPlacements:Ue.value,transition:ze.value,gpuAcceleration:!1},{content:()=>{var xn;return h$1("div",{class:[re.m(Et.value),re.m("popup-container"),Lt.value],onMouseenter:Pn=>Sn(Pn,100),onMouseleave:()=>bn(!0),onFocus:Pn=>Sn(Pn,100)},[h$1("ul",{class:[re.b(),re.m("popup"),re.m(`popup-${Ne.value}`)],style:At.value},[(xn=n.default)==null?void 0:xn.call(n)])])},default:()=>h$1("div",{class:ae.e("title"),onClick:$n},On)}):h$1(Fragment,{},[h$1("div",{class:ae.e("title"),ref:Oe,onClick:$n},On),h$1(ElCollapseTransition,{},{default:()=>{var xn;return withDirectives(h$1("ul",{role:"menu",class:[re.b(),re.m("inline")],style:At.value},[(xn=n.default)==null?void 0:xn.call(n)]),[[vShow,qe.value]])}})]);return h$1("li",{class:[ae.b(),ae.is("active",kt.value),ae.is("opened",qe.value),ae.is("disabled",r.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:qe.value,onMouseenter:Sn,onMouseleave:()=>bn(),onFocus:Sn},[Tn])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:iconPropType,default:()=>more_default},popperEffect:{type:definePropType(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),checkIndexPath=r=>isArray$5(r)&&r.every(n=>isString$3(n)),menuEmits={close:(r,n)=>isString$3(r)&&checkIndexPath(n),open:(r,n)=>isString$3(r)&&checkIndexPath(n),select:(r,n,g,y)=>isString$3(r)&&checkIndexPath(n)&&isObject$7(g)&&(y===void 0||y instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(r,{emit:n,slots:g,expose:y}){const $=getCurrentInstance(),L=$.appContext.config.globalProperties.$router,re=ref$1(),ae=useNamespace$1("menu"),le=useNamespace$1("sub-menu"),ue=ref$1(-1),he=ref$1(r.defaultOpeneds&&!r.collapse?r.defaultOpeneds.slice(0):[]),_e=ref$1(r.defaultActive),Ce=ref$1({}),$e=ref$1({}),Oe=computed(()=>r.mode==="horizontal"||r.mode==="vertical"&&r.collapse),xe=()=>{const vn=_e.value&&Ce.value[_e.value];if(!vn||r.mode==="horizontal"||r.collapse)return;vn.indexPath.forEach($n=>{const Sn=$e.value[$n];Sn&&Ne($n,Sn.indexPath)})},Ne=(vn,jt)=>{he.value.includes(vn)||(r.uniqueOpened&&(he.value=he.value.filter($n=>jt.includes($n))),he.value.push(vn),n("open",vn,jt))},Ie=vn=>{const jt=he.value.indexOf(vn);jt!==-1&&he.value.splice(jt,1)},Fe=(vn,jt)=>{Ie(vn),n("close",vn,jt)},Ve=({index:vn,indexPath:jt})=>{he.value.includes(vn)?Fe(vn,jt):Ne(vn,jt)},ze=vn=>{(r.mode==="horizontal"||r.collapse)&&(he.value=[]);const{index:jt,indexPath:$n}=vn;if(!(isNil(jt)||isNil($n)))if(r.router&&L){const Sn=vn.route||jt,bn=L.push(Sn).then(wn=>(wn||(_e.value=jt),wn));n("select",jt,$n,{index:jt,indexPath:$n,route:Sn},bn)}else _e.value=jt,n("select",jt,$n,{index:jt,indexPath:$n})},Ue=vn=>{const jt=Ce.value,$n=jt[vn]||_e.value&&jt[_e.value]||jt[r.defaultActive];$n?_e.value=$n.index:_e.value=vn},qe=vn=>{const jt=getComputedStyle(vn),$n=Number.parseInt(jt.marginLeft,10),Sn=Number.parseInt(jt.marginRight,10);return vn.offsetWidth+$n+Sn||0},kt=()=>{var vn,jt;if(!re.value)return-1;const $n=Array.from((jt=(vn=re.value)==null?void 0:vn.childNodes)!=null?jt:[]).filter(An=>An.nodeName!=="#text"||An.nodeValue),Sn=64,bn=getComputedStyle(re.value),wn=Number.parseInt(bn.paddingLeft,10),On=Number.parseInt(bn.paddingRight,10),Tn=re.value.clientWidth-wn-On;let xn=0,Pn=0;return $n.forEach((An,Rn)=>{An.nodeName!=="#comment"&&(xn+=qe(An),xn<=Tn-Sn&&(Pn=Rn+1))}),Pn===$n.length?-1:Pn},Et=vn=>$e.value[vn].indexPath,Pt=(vn,jt=33.34)=>{let $n;return()=>{$n&&clearTimeout($n),$n=setTimeout(()=>{vn()},jt)}};let At=!0;const Dt=()=>{if(ue.value===kt())return;const vn=()=>{ue.value=-1,nextTick$1(()=>{ue.value=kt()})};At?vn():Pt(vn)(),At=!1};watch$1(()=>r.defaultActive,vn=>{Ce.value[vn]||(_e.value=""),Ue(vn)}),watch$1(()=>r.collapse,vn=>{vn&&(he.value=[])}),watch$1(Ce.value,xe);let Lt;watchEffect(()=>{r.mode==="horizontal"&&r.ellipsis?Lt=useResizeObserver(re,Dt).stop:Lt==null||Lt()});const hn=ref$1(!1);{const vn=bn=>{$e.value[bn.index]=bn},jt=bn=>{delete $e.value[bn.index]};provide("rootMenu",reactive({props:r,openedMenus:he,items:Ce,subMenus:$e,activeIndex:_e,isMenuPopup:Oe,addMenuItem:bn=>{Ce.value[bn.index]=bn},removeMenuItem:bn=>{delete Ce.value[bn.index]},addSubMenu:vn,removeSubMenu:jt,openMenu:Ne,closeMenu:Fe,handleMenuItemClick:ze,handleSubMenuClick:Ve})),provide(`subMenu:${$.uid}`,{addSubMenu:vn,removeSubMenu:jt,mouseInChild:hn,level:0})}onMounted(()=>{r.mode==="horizontal"&&new Menu$1($.vnode.el,ae.namespace.value)}),y({open:jt=>{const{indexPath:$n}=$e.value[jt];$n.forEach(Sn=>Ne(Sn,$n))},close:Ie,handleResize:Dt});const _n=useMenuCssVar(r,0);return()=>{var vn,jt;let $n=(jt=(vn=g.default)==null?void 0:vn.call(g))!=null?jt:[];const Sn=[];if(r.mode==="horizontal"&&re.value){const On=flattedChildren($n),Tn=ue.value===-1?On:On.slice(0,ue.value),xn=ue.value===-1?[]:On.slice(ue.value);xn!=null&&xn.length&&r.ellipsis&&($n=Tn,Sn.push(h$1(SubMenu,{index:"sub-menu-more",class:le.e("hide-arrow"),popperOffset:r.popperOffset},{title:()=>h$1(ElIcon,{class:le.e("icon-more")},{default:()=>h$1(r.ellipsisIcon)}),default:()=>xn})))}const bn=r.closeOnClickOutside?[[ClickOutside,()=>{he.value.length&&(hn.value||(he.value.forEach(On=>n("close",On,Et(On))),he.value=[]))}]]:[],wn=withDirectives(h$1("ul",{key:String(r.collapse),role:"menubar",ref:re,style:_n.value,class:{[ae.b()]:!0,[ae.m(r.mode)]:!0,[ae.m("collapse")]:r.collapse}},[...$n,...Sn]),bn);return r.collapseTransition&&r.mode==="vertical"?h$1(ElMenuCollapseTransition,()=>wn):wn}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:r=>isString$3(r.index)&&isArray$5(r.indexPath)},COMPONENT_NAME$b="ElMenuItem",_sfc_main$2q=defineComponent({name:COMPONENT_NAME$b,components:{ElTooltip},props:menuItemProps,emits:menuItemEmits,setup(r,{emit:n}){const g=getCurrentInstance(),y=inject("rootMenu"),$=useNamespace$1("menu"),L=useNamespace$1("menu-item");y||throwError$1(COMPONENT_NAME$b,"can not inject root menu");const{parentMenu:re,indexPath:ae}=useMenu(g,toRef(r,"index")),le=inject(`subMenu:${re.value.uid}`);le||throwError$1(COMPONENT_NAME$b,"can not inject sub menu");const ue=computed(()=>r.index===y.activeIndex),he=reactive({index:r.index,indexPath:ae,active:ue}),_e=()=>{r.disabled||(y.handleMenuItemClick({index:r.index,indexPath:ae.value,route:r.route}),n("click",he))};return onMounted(()=>{le.addSubMenu(he),y.addMenuItem(he)}),onBeforeUnmount(()=>{le.removeSubMenu(he),y.removeMenuItem(he)}),{parentMenu:re,rootMenu:y,active:ue,nsMenu:$,nsMenuItem:L,handleClick:_e}}});function _sfc_render$s(r,n,g,y,$,L){const re=resolveComponent("el-tooltip");return openBlock(),createElementBlock("li",{class:normalizeClass([r.nsMenuItem.b(),r.nsMenuItem.is("active",r.active),r.nsMenuItem.is("disabled",r.disabled)]),role:"menuitem",tabindex:"-1",onClick:r.handleClick},[r.parentMenu.type.name==="ElMenu"&&r.rootMenu.props.collapse&&r.$slots.title?(openBlock(),createBlock(re,{key:0,effect:r.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:withCtx(()=>[renderSlot(r.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.nsMenu.be("tooltip","trigger"))},[renderSlot(r.$slots,"default")],2)]),_:3},8,["effect"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(r.$slots,"default"),renderSlot(r.$slots,"title")],64))],10,["onClick"])}var MenuItem=_export_sfc(_sfc_main$2q,[["render",_sfc_render$s],["__file","menu-item.vue"]]);const menuItemGroupProps={title:String},COMPONENT_NAME$a="ElMenuItemGroup",_sfc_main$2p=defineComponent({name:COMPONENT_NAME$a,props:menuItemGroupProps,setup(){return{ns:useNamespace$1("menu-item-group")}}});function _sfc_render$r(r,n,g,y,$,L){return openBlock(),createElementBlock("li",{class:normalizeClass(r.ns.b())},[createBaseVNode("div",{class:normalizeClass(r.ns.e("title"))},[r.$slots.title?renderSlot(r.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(r.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(r.$slots,"default")])],2)}var MenuItemGroup=_export_sfc(_sfc_main$2p,[["render",_sfc_render$r],["__file","menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem),ElMenuItemGroup=withNoopInstall(MenuItemGroup),ElSubMenu=withNoopInstall(SubMenu),pageHeaderProps=buildProps({icon:{type:iconPropType,default:()=>back_default},title:String,content:{type:String,default:""}}),pageHeaderEmits={back:()=>!0},__default__$R=defineComponent({name:"ElPageHeader"}),_sfc_main$2o=defineComponent({...__default__$R,props:pageHeaderProps,emits:pageHeaderEmits,setup(r,{emit:n}){const{t:g}=useLocale(),y=useNamespace$1("page-header");function $(){n("back")}return(L,re)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),{[unref(y).m("has-breadcrumb")]:!!L.$slots.breadcrumb,[unref(y).m("has-extra")]:!!L.$slots.extra,[unref(y).is("contentful")]:!!L.$slots.default}])},[L.$slots.breadcrumb?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("breadcrumb"))},[renderSlot(L.$slots,"breadcrumb")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("left"))},[createBaseVNode("div",{class:normalizeClass(unref(y).e("back")),role:"button",tabindex:"0",onClick:$},[L.icon||L.$slots.icon?(openBlock(),createElementBlock("div",{key:0,"aria-label":L.title||unref(g)("el.pageHeader.title"),class:normalizeClass(unref(y).e("icon"))},[renderSlot(L.$slots,"icon",{},()=>[L.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(L.icon)))]),_:1})):createCommentVNode("v-if",!0)])],10,["aria-label"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("title"))},[renderSlot(L.$slots,"title",{},()=>[createTextVNode(toDisplayString(L.title||unref(g)("el.pageHeader.title")),1)])],2)],2),createVNode$1(unref(ElDivider),{direction:"vertical"}),createBaseVNode("div",{class:normalizeClass(unref(y).e("content"))},[renderSlot(L.$slots,"content",{},()=>[createTextVNode(toDisplayString(L.content),1)])],2)],2),L.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("extra"))},[renderSlot(L.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2),L.$slots.default?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("main"))},[renderSlot(L.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var PageHeader=_export_sfc(_sfc_main$2o,[["__file","page-header.vue"]]);const ElPageHeader=withInstall(PageHeader),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:r=>r instanceof MouseEvent},__default__$Q=defineComponent({name:"ElPaginationPrev"}),_sfc_main$2n=defineComponent({...__default__$Q,props:paginationPrevProps,emits:paginationPrevEmits,setup(r){const n=r,{t:g}=useLocale(),y=computed(()=>n.disabled||n.currentPage<=1);return($,L)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:unref(y),"aria-label":$.prevText||unref(g)("el.pagination.prev"),"aria-disabled":unref(y),onClick:re=>$.$emit("click",re)},[$.prevText?(openBlock(),createElementBlock("span",{key:0},toDisplayString($.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Prev=_export_sfc(_sfc_main$2n,[["__file","prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),__default__$P=defineComponent({name:"ElPaginationNext"}),_sfc_main$2m=defineComponent({...__default__$P,props:paginationNextProps,emits:["click"],setup(r){const n=r,{t:g}=useLocale(),y=computed(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return($,L)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:unref(y),"aria-label":$.nextText||unref(g)("el.pagination.next"),"aria-disabled":unref(y),onClick:re=>$.$emit("click",re)},[$.nextText?(openBlock(),createElementBlock("span",{key:0},toDisplayString($.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Next=_export_sfc(_sfc_main$2m,[["__file","next.vue"]]);const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption$1(r,n){const g=inject(selectKey),y=inject(selectGroupKey,{disabled:!1}),$=computed(()=>he(castArray$1(g.props.modelValue),r.value)),L=computed(()=>{var $e;if(g.props.multiple){const Oe=castArray$1(($e=g.props.modelValue)!=null?$e:[]);return!$.value&&Oe.length>=g.props.multipleLimit&&g.props.multipleLimit>0}else return!1}),re=computed(()=>r.label||(isObject$7(r.value)?"":r.value)),ae=computed(()=>r.value||r.label||""),le=computed(()=>r.disabled||n.groupDisabled||L.value),ue=getCurrentInstance(),he=($e=[],Oe)=>{if(isObject$7(r.value)){const xe=g.props.valueKey;return $e&&$e.some(Ne=>toRaw(get$1(Ne,xe))===get$1(Oe,xe))}else return $e&&$e.includes(Oe)},_e=()=>{!r.disabled&&!y.disabled&&(g.states.hoveringIndex=g.optionsArray.indexOf(ue.proxy))},Ce=$e=>{const Oe=new RegExp(escapeStringRegexp($e),"i");n.visible=Oe.test(re.value)||r.created};return watch$1(()=>re.value,()=>{!r.created&&!g.props.remote&&g.setSelected()}),watch$1(()=>r.value,($e,Oe)=>{const{remote:xe,valueKey:Ne}=g.props;if($e!==Oe&&(g.onOptionDestroy(Oe,ue.proxy),g.onOptionCreate(ue.proxy)),!r.created&&!xe){if(Ne&&isObject$7($e)&&isObject$7(Oe)&&$e[Ne]===Oe[Ne])return;g.setSelected()}}),watch$1(()=>y.disabled,()=>{n.groupDisabled=y.disabled},{immediate:!0}),{select:g,currentLabel:re,currentValue:ae,itemSelected:$,isDisabled:le,hoverItem:_e,updateOption:Ce}}const _sfc_main$2l=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(r){const n=useNamespace$1("select"),g=useId(),y=computed(()=>[n.be("dropdown","item"),n.is("disabled",unref(ae)),n.is("selected",unref(re)),n.is("hovering",unref(Ce))]),$=reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:L,itemSelected:re,isDisabled:ae,select:le,hoverItem:ue,updateOption:he}=useOption$1(r,$),{visible:_e,hover:Ce}=toRefs($),$e=getCurrentInstance().proxy;le.onOptionCreate($e),onBeforeUnmount(()=>{const xe=$e.value,{selected:Ne}=le.states,Ie=Ne.some(Fe=>Fe.value===$e.value);nextTick$1(()=>{le.states.cachedOptions.get(xe)===$e&&!Ie&&le.states.cachedOptions.delete(xe)}),le.onOptionDestroy(xe,$e)});function Oe(){ae.value||le.handleOptionSelect($e)}return{ns:n,id:g,containerKls:y,currentLabel:L,itemSelected:re,isDisabled:ae,select:le,hoverItem:ue,updateOption:he,visible:_e,hover:Ce,selectOptionClick:Oe,states:$}}});function _sfc_render$q(r,n,g,y,$,L){return withDirectives((openBlock(),createElementBlock("li",{id:r.id,class:normalizeClass(r.containerKls),role:"option","aria-disabled":r.isDisabled||void 0,"aria-selected":r.itemSelected,onMousemove:r.hoverItem,onClick:withModifiers(r.selectOptionClick,["stop"])},[renderSlot(r.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(r.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[vShow,r.visible]])}var Option$1=_export_sfc(_sfc_main$2l,[["render",_sfc_render$q],["__file","option.vue"]]);const _sfc_main$2k=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const r=inject(selectKey),n=useNamespace$1("select"),g=computed(()=>r.props.popperClass),y=computed(()=>r.props.multiple),$=computed(()=>r.props.fitInputWidth),L=ref$1("");function re(){var ae;L.value=`${(ae=r.selectRef)==null?void 0:ae.offsetWidth}px`}return onMounted(()=>{re(),useResizeObserver(r.selectRef,re)}),{ns:n,minWidth:L,popperClass:g,isMultiple:y,isFitInputWidth:$}}});function _sfc_render$p(r,n,g,y,$,L){return openBlock(),createElementBlock("div",{class:normalizeClass([r.ns.b("dropdown"),r.ns.is("multiple",r.isMultiple),r.popperClass]),style:normalizeStyle$1({[r.isFitInputWidth?"width":"minWidth"]:r.minWidth})},[r.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.ns.be("dropdown","header"))},[renderSlot(r.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(r.$slots,"default"),r.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.ns.be("dropdown","footer"))},[renderSlot(r.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu$1=_export_sfc(_sfc_main$2k,[["render",_sfc_render$p],["__file","select-dropdown.vue"]]);const useSelect$2=(r,n)=>{const{t:g}=useLocale(),y=useId(),$=useNamespace$1("select"),L=useNamespace$1("input"),re=reactive({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),ae=ref$1(null),le=ref$1(null),ue=ref$1(null),he=ref$1(null),_e=ref$1(null),Ce=ref$1(null),$e=ref$1(null),Oe=ref$1(null),xe=ref$1(null),Ne=ref$1(null),Ie=ref$1(null),{isComposing:Fe,handleCompositionStart:Ve,handleCompositionUpdate:ze,handleCompositionEnd:Ue}=useComposition({afterComposition:Wn=>hr(Wn)}),{wrapperRef:qe,isFocused:kt,handleBlur:Et}=useFocusController(_e,{beforeFocus(){return jt.value},afterFocus(){r.automaticDropdown&&!Pt.value&&(Pt.value=!0,re.menuVisibleOnFocus=!0)},beforeBlur(Wn){var ar,gr;return((ar=ue.value)==null?void 0:ar.isFocusInsideContent(Wn))||((gr=he.value)==null?void 0:gr.isFocusInsideContent(Wn))},afterBlur(){Pt.value=!1,re.menuVisibleOnFocus=!1}}),Pt=ref$1(!1),At=ref$1(),{form:Dt,formItem:Lt}=useFormItem(),{inputId:hn}=useFormItemInputId(r,{formItemContext:Lt}),{valueOnClear:_n,isEmptyValue:vn}=useEmptyValues(r),jt=computed(()=>r.disabled||(Dt==null?void 0:Dt.disabled)),$n=computed(()=>isArray$5(r.modelValue)?r.modelValue.length>0:!vn(r.modelValue)),Sn=computed(()=>{var Wn;return(Wn=Dt==null?void 0:Dt.statusIcon)!=null?Wn:!1}),bn=computed(()=>r.clearable&&!jt.value&&re.inputHovering&&$n.value),wn=computed(()=>r.remote&&r.filterable&&!r.remoteShowSuffix?"":r.suffixIcon),On=computed(()=>$.is("reverse",wn.value&&Pt.value)),Tn=computed(()=>(Lt==null?void 0:Lt.validateState)||""),xn=computed(()=>ValidateComponentsMap[Tn.value]),Pn=computed(()=>r.remote?300:0),An=computed(()=>r.remote&&!re.inputValue&&re.options.size===0),Rn=computed(()=>r.loading?r.loadingText||g("el.select.loading"):r.filterable&&re.inputValue&&re.options.size>0&&Nn.value===0?r.noMatchText||g("el.select.noMatch"):re.options.size===0?r.noDataText||g("el.select.noData"):null),Nn=computed(()=>Dn.value.filter(Wn=>Wn.visible).length),Dn=computed(()=>{const Wn=Array.from(re.options.values()),ar=[];return re.optionValues.forEach(gr=>{const Or=Wn.findIndex(Er=>Er.value===gr);Or>-1&&ar.push(Wn[Or])}),ar.length>=Wn.length?ar:Wn}),In=computed(()=>Array.from(re.cachedOptions.values())),Fn=computed(()=>{const Wn=Dn.value.filter(ar=>!ar.created).some(ar=>ar.currentLabel===re.inputValue);return r.filterable&&r.allowCreate&&re.inputValue!==""&&!Wn}),Bn=()=>{r.filterable&&isFunction$3(r.filterMethod)||r.filterable&&r.remote&&isFunction$3(r.remoteMethod)||Dn.value.forEach(Wn=>{var ar;(ar=Wn.updateOption)==null||ar.call(Wn,re.inputValue)})},Mn=useFormSize(),Hn=computed(()=>["small"].includes(Mn.value)?"small":"default"),Yn=computed({get(){return Pt.value&&!An.value},set(Wn){Pt.value=Wn}}),qn=computed(()=>{if(r.multiple&&!isUndefined(r.modelValue))return castArray$1(r.modelValue).length===0&&!re.inputValue;const Wn=isArray$5(r.modelValue)?r.modelValue[0]:r.modelValue;return r.filterable||isUndefined(Wn)?!re.inputValue:!0}),Xn=computed(()=>{var Wn;const ar=(Wn=r.placeholder)!=null?Wn:g("el.select.placeholder");return r.multiple||!$n.value?ar:re.selectedLabel}),jn=computed(()=>isIOS?null:"mouseenter");watch$1(()=>r.modelValue,(Wn,ar)=>{r.multiple&&r.filterable&&!r.reserveKeyword&&(re.inputValue="",Zn("")),Jn(),!isEqual$1(Wn,ar)&&r.validateEvent&&(Lt==null||Lt.validate("change").catch(gr=>void 0))},{flush:"post",deep:!0}),watch$1(()=>Pt.value,Wn=>{Wn?Zn(re.inputValue):(re.inputValue="",re.previousQuery=null,re.isBeforeHide=!0),n("visible-change",Wn)}),watch$1(()=>re.options.entries(),()=>{isClient&&(Jn(),r.defaultFirstOption&&(r.filterable||r.remote)&&Nn.value&&Un())},{flush:"post"}),watch$1(()=>re.hoveringIndex,Wn=>{isNumber$2(Wn)&&Wn>-1?At.value=Dn.value[Wn]||{}:At.value={},Dn.value.forEach(ar=>{ar.hover=At.value===ar})}),watchEffect(()=>{re.isBeforeHide||Bn()});const Zn=Wn=>{re.previousQuery===Wn||Fe.value||(re.previousQuery=Wn,r.filterable&&isFunction$3(r.filterMethod)?r.filterMethod(Wn):r.filterable&&r.remote&&isFunction$3(r.remoteMethod)&&r.remoteMethod(Wn),r.defaultFirstOption&&(r.filterable||r.remote)&&Nn.value?nextTick$1(Un):nextTick$1(sr))},Un=()=>{const Wn=Dn.value.filter(Er=>Er.visible&&!Er.disabled&&!Er.states.groupDisabled),ar=Wn.find(Er=>Er.created),gr=Wn[0],Or=Dn.value.map(Er=>Er.value);re.hoveringIndex=En(Or,ar||gr)},Jn=()=>{if(r.multiple)re.selectedLabel="";else{const ar=isArray$5(r.modelValue)?r.modelValue[0]:r.modelValue,gr=tr(ar);re.selectedLabel=gr.currentLabel,re.selected=[gr];return}const Wn=[];isUndefined(r.modelValue)||castArray$1(r.modelValue).forEach(ar=>{Wn.push(tr(ar))}),re.selected=Wn},tr=Wn=>{let ar;const gr=isPlainObject$2(Wn);for(let Br=re.cachedOptions.size-1;Br>=0;Br--){const Mr=In.value[Br];if(gr?get$1(Mr.value,r.valueKey)===get$1(Wn,r.valueKey):Mr.value===Wn){ar={value:Wn,currentLabel:Mr.currentLabel,get isDisabled(){return Mr.isDisabled}};break}}if(ar)return ar;const Or=gr?Wn.label:Wn??"";return{value:Wn,currentLabel:Or}},sr=()=>{re.hoveringIndex=Dn.value.findIndex(Wn=>re.selected.some(ar=>Ar(ar)===Ar(Wn)))},or=()=>{re.selectionWidth=le.value.getBoundingClientRect().width},Qn=()=>{re.collapseItemWidth=Ne.value.getBoundingClientRect().width},rr=()=>{var Wn,ar;(ar=(Wn=ue.value)==null?void 0:Wn.updatePopper)==null||ar.call(Wn)},cr=()=>{var Wn,ar;(ar=(Wn=he.value)==null?void 0:Wn.updatePopper)==null||ar.call(Wn)},vr=()=>{re.inputValue.length>0&&!Pt.value&&(Pt.value=!0),Zn(re.inputValue)},hr=Wn=>{if(re.inputValue=Wn.target.value,r.remote)br();else return vr()},br=debounce$2(()=>{vr()},Pn.value),pr=Wn=>{isEqual$1(r.modelValue,Wn)||n(CHANGE_EVENT,Wn)},Tr=Wn=>findLastIndex(Wn,ar=>{const gr=re.cachedOptions.get(ar);return gr&&!gr.disabled&&!gr.states.groupDisabled}),_r=Wn=>{if(r.multiple&&Wn.code!==EVENT_CODE.delete&&Wn.target.value.length<=0){const ar=castArray$1(r.modelValue).slice(),gr=Tr(ar);if(gr<0)return;const Or=ar[gr];ar.splice(gr,1),n(UPDATE_MODEL_EVENT,ar),pr(ar),n("remove-tag",Or)}},Vn=(Wn,ar)=>{const gr=re.selected.indexOf(ar);if(gr>-1&&!jt.value){const Or=castArray$1(r.modelValue).slice();Or.splice(gr,1),n(UPDATE_MODEL_EVENT,Or),pr(Or),n("remove-tag",ar.value)}Wn.stopPropagation(),Cr()},kn=Wn=>{Wn.stopPropagation();const ar=r.multiple?[]:_n.value;if(r.multiple)for(const gr of re.selected)gr.isDisabled&&ar.push(gr.value);n(UPDATE_MODEL_EVENT,ar),pr(ar),re.hoveringIndex=-1,Pt.value=!1,n("clear"),Cr()},Ln=Wn=>{var ar;if(r.multiple){const gr=castArray$1((ar=r.modelValue)!=null?ar:[]).slice(),Or=En(gr,Wn);Or>-1?gr.splice(Or,1):(r.multipleLimit<=0||gr.length<r.multipleLimit)&&gr.push(Wn.value),n(UPDATE_MODEL_EVENT,gr),pr(gr),Wn.created&&Zn(""),r.filterable&&!r.reserveKeyword&&(re.inputValue="")}else n(UPDATE_MODEL_EVENT,Wn.value),pr(Wn.value),Pt.value=!1;Cr(),!Pt.value&&nextTick$1(()=>{zn(Wn)})},En=(Wn=[],ar)=>isUndefined(ar)?-1:isObject$7(ar.value)?Wn.findIndex(gr=>isEqual$1(get$1(gr,r.valueKey),Ar(ar))):Wn.indexOf(ar.value),zn=Wn=>{var ar,gr,Or,Er,Br;const Mr=isArray$5(Wn)?Wn[0]:Wn;let Vr=null;if(Mr!=null&&Mr.value){const Fr=Dn.value.filter(Gr=>Gr.value===Mr.value);Fr.length>0&&(Vr=Fr[0].$el)}if(ue.value&&Vr){const Fr=(Er=(Or=(gr=(ar=ue.value)==null?void 0:ar.popperRef)==null?void 0:gr.contentRef)==null?void 0:Or.querySelector)==null?void 0:Er.call(Or,`.${$.be("dropdown","wrap")}`);Fr&&scrollIntoView$2(Fr,Vr)}(Br=Ie.value)==null||Br.handleScroll()},Kn=Wn=>{re.options.set(Wn.value,Wn),re.cachedOptions.set(Wn.value,Wn)},ir=(Wn,ar)=>{re.options.get(Wn)===ar&&re.options.delete(Wn)},fr=computed(()=>{var Wn,ar;return(ar=(Wn=ue.value)==null?void 0:Wn.popperRef)==null?void 0:ar.contentRef}),Sr=()=>{re.isBeforeHide=!1,nextTick$1(()=>zn(re.selected))},Cr=()=>{var Wn;(Wn=_e.value)==null||Wn.focus()},mr=()=>{var Wn;if(Pt.value){Pt.value=!1,nextTick$1(()=>{var ar;return(ar=_e.value)==null?void 0:ar.blur()});return}(Wn=_e.value)==null||Wn.blur()},$r=Wn=>{kn(Wn)},yr=Wn=>{if(Pt.value=!1,kt.value){const ar=new FocusEvent("focus",Wn);nextTick$1(()=>Et(ar))}},wr=()=>{re.inputValue.length>0?re.inputValue="":Pt.value=!1},Lr=()=>{jt.value||(isIOS&&(re.inputHovering=!0),re.menuVisibleOnFocus?re.menuVisibleOnFocus=!1:Pt.value=!Pt.value)},Rr=()=>{if(!Pt.value)Lr();else{const Wn=Dn.value[re.hoveringIndex];Wn&&!Wn.isDisabled&&Ln(Wn)}},Ar=Wn=>isObject$7(Wn.value)?get$1(Wn.value,r.valueKey):Wn.value,oa=computed(()=>Dn.value.filter(Wn=>Wn.visible).every(Wn=>Wn.isDisabled)),Hr=computed(()=>r.multiple?r.collapseTags?re.selected.slice(0,r.maxCollapseTags):re.selected:[]),sa=computed(()=>r.multiple?r.collapseTags?re.selected.slice(r.maxCollapseTags):[]:[]),Xr=Wn=>{if(!Pt.value){Pt.value=!0;return}if(!(re.options.size===0||Nn.value===0||Fe.value)&&!oa.value){Wn==="next"?(re.hoveringIndex++,re.hoveringIndex===re.options.size&&(re.hoveringIndex=0)):Wn==="prev"&&(re.hoveringIndex--,re.hoveringIndex<0&&(re.hoveringIndex=re.options.size-1));const ar=Dn.value[re.hoveringIndex];(ar.isDisabled||!ar.visible)&&Xr(Wn),nextTick$1(()=>zn(At.value))}},la=()=>{if(!le.value)return 0;const Wn=window.getComputedStyle(le.value);return Number.parseFloat(Wn.gap||"6px")},ua=computed(()=>{const Wn=la();return{maxWidth:`${Ne.value&&r.maxCollapseTags===1?re.selectionWidth-re.collapseItemWidth-Wn:re.selectionWidth}px`}}),da=computed(()=>({maxWidth:`${re.selectionWidth}px`}));return useResizeObserver(le,or),useResizeObserver(Oe,rr),useResizeObserver(qe,rr),useResizeObserver(xe,cr),useResizeObserver(Ne,Qn),onMounted(()=>{Jn()}),{inputId:hn,contentId:y,nsSelect:$,nsInput:L,states:re,isFocused:kt,expanded:Pt,optionsArray:Dn,hoverOption:At,selectSize:Mn,filteredOptionsCount:Nn,updateTooltip:rr,updateTagTooltip:cr,debouncedOnInputChange:br,onInput:hr,deletePrevTag:_r,deleteTag:Vn,deleteSelected:kn,handleOptionSelect:Ln,scrollToOption:zn,hasModelValue:$n,shouldShowPlaceholder:qn,currentPlaceholder:Xn,mouseEnterEventName:jn,needStatusIcon:Sn,showClose:bn,iconComponent:wn,iconReverse:On,validateState:Tn,validateIcon:xn,showNewOption:Fn,updateOptions:Bn,collapseTagSize:Hn,setSelected:Jn,selectDisabled:jt,emptyText:Rn,handleCompositionStart:Ve,handleCompositionUpdate:ze,handleCompositionEnd:Ue,onOptionCreate:Kn,onOptionDestroy:ir,handleMenuEnter:Sr,focus:Cr,blur:mr,handleClearClick:$r,handleClickOutside:yr,handleEsc:wr,toggleMenu:Lr,selectOption:Rr,getValueKey:Ar,navigateOptions:Xr,dropdownMenuVisible:Yn,showTagList:Hr,collapseTagList:sa,tagStyle:ua,collapseTagStyle:da,popperRef:fr,inputRef:_e,tooltipRef:ue,tagTooltipRef:he,prefixRef:Ce,suffixRef:$e,selectRef:ae,wrapperRef:qe,selectionRef:le,scrollbarRef:Ie,menuRef:Oe,tagMenuRef:xe,collapseItemRef:Ne}};var ElOptions=defineComponent({name:"ElOptions",setup(r,{slots:n}){const g=inject(selectKey);let y=[];return()=>{var $,L;const re=($=n.default)==null?void 0:$.call(n),ae=[];function le(ue){isArray$5(ue)&&ue.forEach(he=>{var _e,Ce,$e,Oe;const xe=(_e=(he==null?void 0:he.type)||{})==null?void 0:_e.name;xe==="ElOptionGroup"?le(!isString$3(he.children)&&!isArray$5(he.children)&&isFunction$3((Ce=he.children)==null?void 0:Ce.default)?($e=he.children)==null?void 0:$e.default():he.children):xe==="ElOption"?ae.push((Oe=he.props)==null?void 0:Oe.value):isArray$5(he.children)&&le(he.children)})}return re.length&&le((L=re[0])==null?void 0:L.children),isEqual$1(ae,y)||(y=ae,g&&(g.states.optionValues=ae)),re}}});const SelectProps$1=buildProps({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),COMPONENT_NAME$9="ElSelect",_sfc_main$2j=defineComponent({name:COMPONENT_NAME$9,componentName:COMPONENT_NAME$9,components:{ElSelectMenu:ElSelectMenu$1,ElOption:Option$1,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:SelectProps$1,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(r,{emit:n}){const g=computed(()=>{const{modelValue:le,multiple:ue}=r,he=ue?[]:void 0;return isArray$5(le)?ue?le:he:ue?he:le}),y=reactive({...toRefs(r),modelValue:g}),$=useSelect$2(y,n),{calculatorRef:L,inputStyle:re}=useCalcInputWidth();provide(selectKey,reactive({props:y,states:$.states,optionsArray:$.optionsArray,handleOptionSelect:$.handleOptionSelect,onOptionCreate:$.onOptionCreate,onOptionDestroy:$.onOptionDestroy,selectRef:$.selectRef,setSelected:$.setSelected}));const ae=computed(()=>r.multiple?$.states.selected.map(le=>le.currentLabel):$.states.selectedLabel);return{...$,modelValue:g,selectedLabel:ae,calculatorRef:L,inputStyle:re}}});function _sfc_render$o(r,n,g,y,$,L){const re=resolveComponent("el-tag"),ae=resolveComponent("el-tooltip"),le=resolveComponent("el-icon"),ue=resolveComponent("el-option"),he=resolveComponent("el-options"),_e=resolveComponent("el-scrollbar"),Ce=resolveComponent("el-select-menu"),$e=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([r.nsSelect.b(),r.nsSelect.m(r.selectSize)]),[toHandlerKey(r.mouseEnterEventName)]:Oe=>r.states.inputHovering=!0,onMouseleave:Oe=>r.states.inputHovering=!1},[createVNode$1(ae,{ref:"tooltipRef",visible:r.dropdownMenuVisible,placement:r.placement,teleported:r.teleported,"popper-class":[r.nsSelect.e("popper"),r.popperClass],"popper-options":r.popperOptions,"fallback-placements":r.fallbackPlacements,effect:r.effect,pure:"",trigger:"click",transition:`${r.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:r.persistent,"append-to":r.appendTo,"show-arrow":r.showArrow,offset:r.offset,onBeforeShow:r.handleMenuEnter,onHide:Oe=>r.states.isBeforeHide=!1},{default:withCtx(()=>{var Oe;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([r.nsSelect.e("wrapper"),r.nsSelect.is("focused",r.isFocused),r.nsSelect.is("hovering",r.states.inputHovering),r.nsSelect.is("filterable",r.filterable),r.nsSelect.is("disabled",r.selectDisabled)]),onClick:withModifiers(r.toggleMenu,["prevent"])},[r.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(r.nsSelect.e("prefix"))},[renderSlot(r.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([r.nsSelect.e("selection"),r.nsSelect.is("near",r.multiple&&!r.$slots.prefix&&!!r.states.selected.length)])},[r.multiple?renderSlot(r.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.showTagList,xe=>(openBlock(),createElementBlock("div",{key:r.getValueKey(xe),class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode$1(re,{closable:!r.selectDisabled&&!xe.isDisabled,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",style:normalizeStyle$1(r.tagStyle),onClose:Ne=>r.deleteTag(Ne,xe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))},[renderSlot(r.$slots,"label",{label:xe.currentLabel,value:xe.value},()=>[createTextVNode(toDisplayString(xe.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),r.collapseTags&&r.states.selected.length>r.maxCollapseTags?(openBlock(),createBlock(ae,{key:0,ref:"tagTooltipRef",disabled:r.dropdownMenuVisible||!r.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:r.effect,placement:"bottom",teleported:r.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode$1(re,{closable:!1,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",style:normalizeStyle$1(r.collapseTagStyle)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))}," + "+toDisplayString(r.states.selected.length-r.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(r.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.collapseTagList,xe=>(openBlock(),createElementBlock("div",{key:r.getValueKey(xe),class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode$1(re,{class:"in-tooltip",closable:!r.selectDisabled&&!xe.isDisabled,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",onClose:Ne=>r.deleteTag(Ne,xe)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))},[renderSlot(r.$slots,"label",{label:xe.currentLabel,value:xe.value},()=>[createTextVNode(toDisplayString(xe.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([r.nsSelect.e("selected-item"),r.nsSelect.e("input-wrapper"),r.nsSelect.is("hidden",!r.filterable)])},[withDirectives(createBaseVNode("input",{id:r.inputId,ref:"inputRef","onUpdate:modelValue":xe=>r.states.inputValue=xe,type:"text",name:r.name,class:normalizeClass([r.nsSelect.e("input"),r.nsSelect.is(r.selectSize)]),disabled:r.selectDisabled,autocomplete:r.autocomplete,style:normalizeStyle$1(r.inputStyle),tabindex:r.tabindex,role:"combobox",readonly:!r.filterable,spellcheck:"false","aria-activedescendant":((Oe=r.hoverOption)==null?void 0:Oe.id)||"","aria-controls":r.contentId,"aria-expanded":r.dropdownMenuVisible,"aria-label":r.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[withKeys(withModifiers(xe=>r.navigateOptions("next"),["stop","prevent"]),["down"]),withKeys(withModifiers(xe=>r.navigateOptions("prev"),["stop","prevent"]),["up"]),withKeys(withModifiers(r.handleEsc,["stop","prevent"]),["esc"]),withKeys(withModifiers(r.selectOption,["stop","prevent"]),["enter"]),withKeys(withModifiers(r.deletePrevTag,["stop"]),["delete"])],onCompositionstart:r.handleCompositionStart,onCompositionupdate:r.handleCompositionUpdate,onCompositionend:r.handleCompositionEnd,onInput:r.onInput,onClick:withModifiers(r.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[vModelText,r.states.inputValue]]),r.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(r.nsSelect.e("input-calculator")),textContent:toDisplayString(r.states.inputValue)},null,10,["textContent"])):createCommentVNode("v-if",!0)],2),r.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([r.nsSelect.e("selected-item"),r.nsSelect.e("placeholder"),r.nsSelect.is("transparent",!r.hasModelValue||r.expanded&&!r.states.inputValue)])},[r.hasModelValue?renderSlot(r.$slots,"label",{key:0,label:r.currentPlaceholder,value:r.modelValue},()=>[createBaseVNode("span",null,toDisplayString(r.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",{key:1},toDisplayString(r.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(r.nsSelect.e("suffix"))},[r.iconComponent&&!r.showClose?(openBlock(),createBlock(le,{key:0,class:normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),r.showClose&&r.clearIcon?(openBlock(),createBlock(le,{key:1,class:normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.nsSelect.e("clear")]),onClick:r.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),r.validateState&&r.validateIcon&&r.needStatusIcon?(openBlock(),createBlock(le,{key:2,class:normalizeClass([r.nsInput.e("icon"),r.nsInput.e("validateIcon"),r.nsInput.is("loading",r.validateState==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],10,["onClick"])]}),content:withCtx(()=>[createVNode$1(Ce,{ref:"menuRef"},{default:withCtx(()=>[r.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.nsSelect.be("dropdown","header")),onClick:withModifiers(()=>{},["stop"])},[renderSlot(r.$slots,"header")],10,["onClick"])):createCommentVNode("v-if",!0),withDirectives(createVNode$1(_e,{id:r.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":r.nsSelect.be("dropdown","wrap"),"view-class":r.nsSelect.be("dropdown","list"),class:normalizeClass([r.nsSelect.is("empty",r.filteredOptionsCount===0)]),role:"listbox","aria-label":r.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[r.showNewOption?(openBlock(),createBlock(ue,{key:0,value:r.states.inputValue,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode$1(he,null,{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vShow,r.states.options.size>0&&!r.loading]]),r.$slots.loading&&r.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.nsSelect.be("dropdown","loading"))},[renderSlot(r.$slots,"loading")],2)):r.loading||r.filteredOptionsCount===0?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(r.nsSelect.be("dropdown","empty"))},[renderSlot(r.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(r.emptyText),1)])],2)):createCommentVNode("v-if",!0),r.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(r.nsSelect.be("dropdown","footer")),onClick:withModifiers(()=>{},["stop"])},[renderSlot(r.$slots,"footer")],10,["onClick"])):createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[$e,r.handleClickOutside,r.popperRef]])}var Select$1=_export_sfc(_sfc_main$2j,[["render",_sfc_render$o],["__file","select.vue"]]);const _sfc_main$2i=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(r){const n=useNamespace$1("select"),g=ref$1(null),y=getCurrentInstance(),$=ref$1([]);provide(selectGroupKey,reactive({...toRefs(r)}));const L=computed(()=>$.value.some(ue=>ue.visible===!0)),re=ue=>{var he,_e;return((he=ue.type)==null?void 0:he.name)==="ElOption"&&!!((_e=ue.component)!=null&&_e.proxy)},ae=ue=>{const he=castArray$1(ue),_e=[];return he.forEach(Ce=>{var $e,Oe;re(Ce)?_e.push(Ce.component.proxy):($e=Ce.children)!=null&&$e.length?_e.push(...ae(Ce.children)):(Oe=Ce.component)!=null&&Oe.subTree&&_e.push(...ae(Ce.component.subTree))}),_e},le=()=>{$.value=ae(y.subTree)};return onMounted(()=>{le()}),useMutationObserver(g,le,{attributes:!0,subtree:!0,childList:!0}),{groupRef:g,visible:L,ns:n}}});function _sfc_render$n(r,n,g,y,$,L){return withDirectives((openBlock(),createElementBlock("ul",{ref:"groupRef",class:normalizeClass(r.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(r.ns.be("group","title"))},toDisplayString(r.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(r.ns.b("group"))},[renderSlot(r.$slots,"default")],2)])],2)),[[vShow,r.visible]])}var OptionGroup=_export_sfc(_sfc_main$2i,[["render",_sfc_render$n],["__file","option-group.vue"]]);const ElSelect=withInstall(Select$1,{Option:Option$1,OptionGroup}),ElOption=withNoopInstall(Option$1),ElOptionGroup=withNoopInstall(OptionGroup),usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:componentSizes},appendSizeTo:String}),__default__$O=defineComponent({name:"ElPaginationSizes"}),_sfc_main$2h=defineComponent({...__default__$O,props:paginationSizesProps,emits:["page-size-change"],setup(r,{emit:n}){const g=r,{t:y}=useLocale(),$=useNamespace$1("pagination"),L=usePagination(),re=ref$1(g.pageSize);watch$1(()=>g.pageSizes,(ue,he)=>{if(!isEqual$1(ue,he)&&isArray$5(ue)){const _e=ue.includes(g.pageSize)?g.pageSize:g.pageSizes[0];n("page-size-change",_e)}}),watch$1(()=>g.pageSize,ue=>{re.value=ue});const ae=computed(()=>g.pageSizes);function le(ue){var he;ue!==re.value&&(re.value=ue,(he=L.handleSizeChange)==null||he.call(L,Number(ue)))}return(ue,he)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref($).e("sizes"))},[createVNode$1(unref(ElSelect),{"model-value":re.value,disabled:ue.disabled,"popper-class":ue.popperClass,size:ue.size,teleported:ue.teleported,"validate-event":!1,"append-to":ue.appendSizeTo,onChange:le},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ae),_e=>(openBlock(),createBlock(unref(ElOption),{key:_e,value:_e,label:_e+unref(y)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var Sizes=_export_sfc(_sfc_main$2h,[["__file","sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),__default__$N=defineComponent({name:"ElPaginationJumper"}),_sfc_main$2g=defineComponent({...__default__$N,props:paginationJumperProps,setup(r){const{t:n}=useLocale(),g=useNamespace$1("pagination"),{pageCount:y,disabled:$,currentPage:L,changeEvent:re}=usePagination(),ae=ref$1(),le=computed(()=>{var _e;return(_e=ae.value)!=null?_e:L==null?void 0:L.value});function ue(_e){ae.value=_e?+_e:""}function he(_e){_e=Math.trunc(+_e),re==null||re(_e),ae.value=void 0}return(_e,Ce)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(g).e("jump")),disabled:unref($)},[createBaseVNode("span",{class:normalizeClass([unref(g).e("goto")])},toDisplayString(unref(n)("el.pagination.goto")),3),createVNode$1(unref(ElInput),{size:_e.size,class:normalizeClass([unref(g).e("editor"),unref(g).is("in-pagination")]),min:1,max:unref(y),disabled:unref($),"model-value":unref(le),"validate-event":!1,"aria-label":unref(n)("el.pagination.page"),type:"number","onUpdate:modelValue":ue,onChange:he},null,8,["size","class","max","disabled","model-value","aria-label"]),createBaseVNode("span",{class:normalizeClass([unref(g).e("classifier")])},toDisplayString(unref(n)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var Jumper=_export_sfc(_sfc_main$2g,[["__file","jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),__default__$M=defineComponent({name:"ElPaginationTotal"}),_sfc_main$2f=defineComponent({...__default__$M,props:paginationTotalProps,setup(r){const{t:n}=useLocale(),g=useNamespace$1("pagination"),{disabled:y}=usePagination();return($,L)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(g).e("total")),disabled:unref(y)},toDisplayString(unref(n)("el.pagination.total",{total:$.total})),11,["disabled"]))}});var Total=_export_sfc(_sfc_main$2f,[["__file","total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),__default__$L=defineComponent({name:"ElPaginationPager"}),_sfc_main$2e=defineComponent({...__default__$L,props:paginationPagerProps,emits:["change"],setup(r,{emit:n}){const g=r,y=useNamespace$1("pager"),$=useNamespace$1("icon"),{t:L}=useLocale(),re=ref$1(!1),ae=ref$1(!1),le=ref$1(!1),ue=ref$1(!1),he=ref$1(!1),_e=ref$1(!1),Ce=computed(()=>{const ze=g.pagerCount,Ue=(ze-1)/2,qe=Number(g.currentPage),kt=Number(g.pageCount);let Et=!1,Pt=!1;kt>ze&&(qe>ze-Ue&&(Et=!0),qe<kt-Ue&&(Pt=!0));const At=[];if(Et&&!Pt){const Dt=kt-(ze-2);for(let Lt=Dt;Lt<kt;Lt++)At.push(Lt)}else if(!Et&&Pt)for(let Dt=2;Dt<ze;Dt++)At.push(Dt);else if(Et&&Pt){const Dt=Math.floor(ze/2)-1;for(let Lt=qe-Dt;Lt<=qe+Dt;Lt++)At.push(Lt)}else for(let Dt=2;Dt<kt;Dt++)At.push(Dt);return At}),$e=computed(()=>["more","btn-quickprev",$.b(),y.is("disabled",g.disabled)]),Oe=computed(()=>["more","btn-quicknext",$.b(),y.is("disabled",g.disabled)]),xe=computed(()=>g.disabled?-1:0);watchEffect(()=>{const ze=(g.pagerCount-1)/2;re.value=!1,ae.value=!1,g.pageCount>g.pagerCount&&(g.currentPage>g.pagerCount-ze&&(re.value=!0),g.currentPage<g.pageCount-ze&&(ae.value=!0))});function Ne(ze=!1){g.disabled||(ze?le.value=!0:ue.value=!0)}function Ie(ze=!1){ze?he.value=!0:_e.value=!0}function Fe(ze){const Ue=ze.target;if(Ue.tagName.toLowerCase()==="li"&&Array.from(Ue.classList).includes("number")){const qe=Number(Ue.textContent);qe!==g.currentPage&&n("change",qe)}else Ue.tagName.toLowerCase()==="li"&&Array.from(Ue.classList).includes("more")&&Ve(ze)}function Ve(ze){const Ue=ze.target;if(Ue.tagName.toLowerCase()==="ul"||g.disabled)return;let qe=Number(Ue.textContent);const kt=g.pageCount,Et=g.currentPage,Pt=g.pagerCount-2;Ue.className.includes("more")&&(Ue.className.includes("quickprev")?qe=Et-Pt:Ue.className.includes("quicknext")&&(qe=Et+Pt)),Number.isNaN(+qe)||(qe<1&&(qe=1),qe>kt&&(qe=kt)),qe!==Et&&n("change",qe)}return(ze,Ue)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref(y).b()),onClick:Ve,onKeyup:withKeys(Fe,["enter"])},[ze.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref(y).is("active",ze.currentPage===1),unref(y).is("disabled",ze.disabled)],"number"]),"aria-current":ze.currentPage===1,"aria-label":unref(L)("el.pagination.currentPage",{pager:1}),tabindex:unref(xe)}," 1 ",10,["aria-current","aria-label","tabindex"])):createCommentVNode("v-if",!0),re.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(unref($e)),tabindex:unref(xe),"aria-label":unref(L)("el.pagination.prevPages",{pager:ze.pagerCount-2}),onMouseenter:qe=>Ne(!0),onMouseleave:qe=>le.value=!1,onFocus:qe=>Ie(!0),onBlur:qe=>he.value=!1},[(le.value||he.value)&&!ze.disabled?(openBlock(),createBlock(unref(d_arrow_left_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ce),qe=>(openBlock(),createElementBlock("li",{key:qe,class:normalizeClass([[unref(y).is("active",ze.currentPage===qe),unref(y).is("disabled",ze.disabled)],"number"]),"aria-current":ze.currentPage===qe,"aria-label":unref(L)("el.pagination.currentPage",{pager:qe}),tabindex:unref(xe)},toDisplayString(qe),11,["aria-current","aria-label","tabindex"]))),128)),ae.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(unref(Oe)),tabindex:unref(xe),"aria-label":unref(L)("el.pagination.nextPages",{pager:ze.pagerCount-2}),onMouseenter:qe=>Ne(),onMouseleave:qe=>ue.value=!1,onFocus:qe=>Ie(),onBlur:qe=>_e.value=!1},[(ue.value||_e.value)&&!ze.disabled?(openBlock(),createBlock(unref(d_arrow_right_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):createCommentVNode("v-if",!0),ze.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref(y).is("active",ze.currentPage===ze.pageCount),unref(y).is("disabled",ze.disabled)],"number"]),"aria-current":ze.currentPage===ze.pageCount,"aria-label":unref(L)("el.pagination.currentPage",{pager:ze.pageCount}),tabindex:unref(xe)},toDisplayString(ze.pageCount),11,["aria-current","aria-label","tabindex"])):createCommentVNode("v-if",!0)],42,["onKeyup"]))}});var Pager=_export_sfc(_sfc_main$2e,[["__file","pager.vue"]]);const isAbsent=r=>typeof r!="number",paginationProps=buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:r=>isNumber$2(r)&&Math.trunc(r)===r&&r>4&&r<22&&r%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},teleported:{type:Boolean,default:!0},small:Boolean,size:useSizeProp,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),paginationEmits={"update:current-page":r=>isNumber$2(r),"update:page-size":r=>isNumber$2(r),"size-change":r=>isNumber$2(r),change:(r,n)=>isNumber$2(r)&&isNumber$2(n),"current-change":r=>isNumber$2(r),"prev-click":r=>isNumber$2(r),"next-click":r=>isNumber$2(r)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(r,{emit:n,slots:g}){const{t:y}=useLocale(),$=useNamespace$1("pagination"),L=getCurrentInstance().vnode.props||{},re=useGlobalSize(),ae=computed(()=>{var Ue;return r.small?"small":(Ue=r.size)!=null?Ue:re.value});useDeprecated({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},computed(()=>!!r.small));const le="onUpdate:currentPage"in L||"onUpdate:current-page"in L||"onCurrentChange"in L,ue="onUpdate:pageSize"in L||"onUpdate:page-size"in L||"onSizeChange"in L,he=computed(()=>{if(isAbsent(r.total)&&isAbsent(r.pageCount)||!isAbsent(r.currentPage)&&!le)return!1;if(r.layout.includes("sizes")){if(isAbsent(r.pageCount)){if(!isAbsent(r.total)&&!isAbsent(r.pageSize)&&!ue)return!1}else if(!ue)return!1}return!0}),_e=ref$1(isAbsent(r.defaultPageSize)?10:r.defaultPageSize),Ce=ref$1(isAbsent(r.defaultCurrentPage)?1:r.defaultCurrentPage),$e=computed({get(){return isAbsent(r.pageSize)?_e.value:r.pageSize},set(Ue){isAbsent(r.pageSize)&&(_e.value=Ue),ue&&(n("update:page-size",Ue),n("size-change",Ue))}}),Oe=computed(()=>{let Ue=0;return isAbsent(r.pageCount)?isAbsent(r.total)||(Ue=Math.max(1,Math.ceil(r.total/$e.value))):Ue=r.pageCount,Ue}),xe=computed({get(){return isAbsent(r.currentPage)?Ce.value:r.currentPage},set(Ue){let qe=Ue;Ue<1?qe=1:Ue>Oe.value&&(qe=Oe.value),isAbsent(r.currentPage)&&(Ce.value=qe),le&&(n("update:current-page",qe),n("current-change",qe))}});watch$1(Oe,Ue=>{xe.value>Ue&&(xe.value=Ue)}),watch$1([xe,$e],Ue=>{n("change",...Ue)},{flush:"post"});function Ne(Ue){xe.value=Ue}function Ie(Ue){$e.value=Ue;const qe=Oe.value;xe.value>qe&&(xe.value=qe)}function Fe(){r.disabled||(xe.value-=1,n("prev-click",xe.value))}function Ve(){r.disabled||(xe.value+=1,n("next-click",xe.value))}function ze(Ue,qe){Ue&&(Ue.props||(Ue.props={}),Ue.props.class=[Ue.props.class,qe].join(" "))}return provide(elPaginationKey,{pageCount:Oe,disabled:computed(()=>r.disabled),currentPage:xe,changeEvent:Ne,handleSizeChange:Ie}),()=>{var Ue,qe;if(!he.value)return y("el.pagination.deprecationWarning"),null;if(!r.layout||r.hideOnSinglePage&&Oe.value<=1)return null;const kt=[],Et=[],Pt=h$1("div",{class:$.e("rightwrapper")},Et),At={prev:h$1(Prev,{disabled:r.disabled,currentPage:xe.value,prevText:r.prevText,prevIcon:r.prevIcon,onClick:Fe}),jumper:h$1(Jumper,{size:ae.value}),pager:h$1(Pager,{currentPage:xe.value,pageCount:Oe.value,pagerCount:r.pagerCount,onChange:Ne,disabled:r.disabled}),next:h$1(Next,{disabled:r.disabled,currentPage:xe.value,pageCount:Oe.value,nextText:r.nextText,nextIcon:r.nextIcon,onClick:Ve}),sizes:h$1(Sizes,{pageSize:$e.value,pageSizes:r.pageSizes,popperClass:r.popperClass,disabled:r.disabled,teleported:r.teleported,size:ae.value,appendSizeTo:r.appendSizeTo}),slot:(qe=(Ue=g==null?void 0:g.default)==null?void 0:Ue.call(g))!=null?qe:null,total:h$1(Total,{total:isAbsent(r.total)?0:r.total})},Dt=r.layout.split(",").map(hn=>hn.trim());let Lt=!1;return Dt.forEach(hn=>{if(hn==="->"){Lt=!0;return}Lt?Et.push(At[hn]):kt.push(At[hn])}),ze(kt[0],$.is("first")),ze(kt[kt.length-1],$.is("last")),Lt&&Et.length>0&&(ze(Et[0],$.is("first")),ze(Et[Et.length-1],$.is("last")),kt.push(Pt)),h$1("div",{class:[$.b(),$.is("background",r.background),$.m(ae.value)]},kt)}}});const ElPagination=withInstall(Pagination),popconfirmProps=buildProps({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:buttonTypes,default:"primary"},cancelButtonType:{type:String,values:buttonTypes,default:"text"},icon:{type:iconPropType,default:()=>question_filled_default},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:useTooltipContentProps.teleported,persistent:useTooltipContentProps.persistent,width:{type:[String,Number],default:150}}),popconfirmEmits={confirm:r=>r instanceof MouseEvent,cancel:r=>r instanceof MouseEvent},__default__$K=defineComponent({name:"ElPopconfirm"}),_sfc_main$2d=defineComponent({...__default__$K,props:popconfirmProps,emits:popconfirmEmits,setup(r,{emit:n}){const g=r,{t:y}=useLocale(),$=useNamespace$1("popconfirm"),L=ref$1(),re=()=>{var Ce,$e;($e=(Ce=L.value)==null?void 0:Ce.onClose)==null||$e.call(Ce)},ae=computed(()=>({width:addUnit(g.width)})),le=Ce=>{n("confirm",Ce),re()},ue=Ce=>{n("cancel",Ce),re()},he=computed(()=>g.confirmButtonText||y("el.popconfirm.confirmButtonText")),_e=computed(()=>g.cancelButtonText||y("el.popconfirm.cancelButtonText"));return(Ce,$e)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:L,trigger:"click",effect:"light"},Ce.$attrs,{"popper-class":`${unref($).namespace.value}-popover`,"popper-style":unref(ae),teleported:Ce.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":Ce.hideAfter,persistent:Ce.persistent}),{content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref($).b())},[createBaseVNode("div",{class:normalizeClass(unref($).e("main"))},[!Ce.hideIcon&&Ce.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($).e("icon")),style:normalizeStyle$1({color:Ce.iconColor})},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ce.icon)))]),_:1},8,["class","style"])):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(Ce.title),1)],2),createBaseVNode("div",{class:normalizeClass(unref($).e("action"))},[renderSlot(Ce.$slots,"actions",{confirm:le,cancel:ue},()=>[createVNode$1(unref(ElButton),{size:"small",type:Ce.cancelButtonType==="text"?"":Ce.cancelButtonType,text:Ce.cancelButtonType==="text",onClick:ue},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(_e)),1)]),_:1},8,["type","text"]),createVNode$1(unref(ElButton),{size:"small",type:Ce.confirmButtonType==="text"?"":Ce.confirmButtonType,text:Ce.confirmButtonType==="text",onClick:le},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(he)),1)]),_:1},8,["type","text"])])],2)],2)]),default:withCtx(()=>[Ce.$slots.reference?renderSlot(Ce.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Popconfirm=_export_sfc(_sfc_main$2d,[["__file","popconfirm.vue"]]);const ElPopconfirm=withInstall(Popconfirm),popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":r=>isBoolean(r),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$J=defineComponent({name:"ElPopover"}),_sfc_main$2c=defineComponent({...__default__$J,props:popoverProps,emits:popoverEmits,setup(r,{expose:n,emit:g}){const y=r,$=computed(()=>y[updateEventKeyRaw]),L=useNamespace$1("popover"),re=ref$1(),ae=computed(()=>{var Ne;return(Ne=unref(re))==null?void 0:Ne.popperRef}),le=computed(()=>[{width:addUnit(y.width)},y.popperStyle]),ue=computed(()=>[L.b(),y.popperClass,{[L.m("plain")]:!!y.content}]),he=computed(()=>y.transition===`${L.namespace.value}-fade-in-linear`),_e=()=>{var Ne;(Ne=re.value)==null||Ne.hide()},Ce=()=>{g("before-enter")},$e=()=>{g("before-leave")},Oe=()=>{g("after-enter")},xe=()=>{g("update:visible",!1),g("after-leave")};return n({popperRef:ae,hide:_e}),(Ne,Ie)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:re},Ne.$attrs,{trigger:Ne.trigger,placement:Ne.placement,disabled:Ne.disabled,visible:Ne.visible,transition:Ne.transition,"popper-options":Ne.popperOptions,tabindex:Ne.tabindex,content:Ne.content,offset:Ne.offset,"show-after":Ne.showAfter,"hide-after":Ne.hideAfter,"auto-close":Ne.autoClose,"show-arrow":Ne.showArrow,"aria-label":Ne.title,effect:Ne.effect,enterable:Ne.enterable,"popper-class":unref(ue),"popper-style":unref(le),teleported:Ne.teleported,persistent:Ne.persistent,"gpu-acceleration":unref(he),"onUpdate:visible":unref($),onBeforeShow:Ce,onBeforeHide:$e,onShow:Oe,onHide:xe}),{content:withCtx(()=>[Ne.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).e("title")),role:"title"},toDisplayString(Ne.title),3)):createCommentVNode("v-if",!0),renderSlot(Ne.$slots,"default",{},()=>[createTextVNode(toDisplayString(Ne.content),1)])]),default:withCtx(()=>[Ne.$slots.reference?renderSlot(Ne.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc(_sfc_main$2c,[["__file","popover.vue"]]);const attachEvents=(r,n)=>{const g=n.arg||n.value,y=g==null?void 0:g.popperRef;y&&(y.triggerRef=r)};var PopoverDirective={mounted(r,n){attachEvents(r,n)},updated(r,n){attachEvents(r,n)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:r=>r>=0&&r<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:r=>`${r}%`}}),__default__$I=defineComponent({name:"ElProgress"}),_sfc_main$2b=defineComponent({...__default__$I,props:progressProps,setup(r){const n=r,g={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},y=useNamespace$1("progress"),$=computed(()=>{const Ve={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},ze=Fe(n.percentage);return ze.includes("gradient")?Ve.background=ze:Ve.backgroundColor=ze,Ve}),L=computed(()=>(n.strokeWidth/n.width*100).toFixed(1)),re=computed(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(L.value)/2}`,10):0),ae=computed(()=>{const Ve=re.value,ze=n.type==="dashboard";return`
          M 50 50
          m 0 ${ze?"":"-"}${Ve}
          a ${Ve} ${Ve} 0 1 1 0 ${ze?"-":""}${Ve*2}
          a ${Ve} ${Ve} 0 1 1 0 ${ze?"":"-"}${Ve*2}
          `}),le=computed(()=>2*Math.PI*re.value),ue=computed(()=>n.type==="dashboard"?.75:1),he=computed(()=>`${-1*le.value*(1-ue.value)/2}px`),_e=computed(()=>({strokeDasharray:`${le.value*ue.value}px, ${le.value}px`,strokeDashoffset:he.value})),Ce=computed(()=>({strokeDasharray:`${le.value*ue.value*(n.percentage/100)}px, ${le.value}px`,strokeDashoffset:he.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),$e=computed(()=>{let Ve;return n.color?Ve=Fe(n.percentage):Ve=g[n.status]||g.default,Ve}),Oe=computed(()=>n.status==="warning"?warning_filled_default:n.type==="line"?n.status==="success"?circle_check_default:circle_close_default:n.status==="success"?check_default:close_default),xe=computed(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),Ne=computed(()=>n.format(n.percentage));function Ie(Ve){const ze=100/Ve.length;return Ve.map((qe,kt)=>isString$3(qe)?{color:qe,percentage:(kt+1)*ze}:qe).sort((qe,kt)=>qe.percentage-kt.percentage)}const Fe=Ve=>{var ze;const{color:Ue}=n;if(isFunction$3(Ue))return Ue(Ve);if(isString$3(Ue))return Ue;{const qe=Ie(Ue);for(const kt of qe)if(kt.percentage>Ve)return kt.color;return(ze=qe[qe.length-1])==null?void 0:ze.color}};return(Ve,ze)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref(y).m(Ve.type),unref(y).is(Ve.status),{[unref(y).m("without-text")]:!Ve.showText,[unref(y).m("text-inside")]:Ve.textInside}]),role:"progressbar","aria-valuenow":Ve.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[Ve.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(y).be("bar","outer")),style:normalizeStyle$1({height:`${Ve.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(y).be("bar","inner"),{[unref(y).bem("bar","inner","indeterminate")]:Ve.indeterminate},{[unref(y).bem("bar","inner","striped")]:Ve.striped},{[unref(y).bem("bar","inner","striped-flow")]:Ve.stripedFlow}]),style:normalizeStyle$1(unref($))},[(Ve.showText||Ve.$slots.default)&&Ve.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).be("bar","innerText"))},[renderSlot(Ve.$slots,"default",{percentage:Ve.percentage},()=>[createBaseVNode("span",null,toDisplayString(unref(Ne)),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).b("circle")),style:normalizeStyle$1({height:`${Ve.width}px`,width:`${Ve.width}px`})},[(openBlock(),createElementBlock("svg",{viewBox:"0 0 100 100"},[createBaseVNode("path",{class:normalizeClass(unref(y).be("circle","track")),d:unref(ae),stroke:`var(${unref(y).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":Ve.strokeLinecap,"stroke-width":unref(L),fill:"none",style:normalizeStyle$1(unref(_e))},null,14,["d","stroke","stroke-linecap","stroke-width"]),createBaseVNode("path",{class:normalizeClass(unref(y).be("circle","path")),d:unref(ae),stroke:unref($e),fill:"none",opacity:Ve.percentage?1:0,"stroke-linecap":Ve.strokeLinecap,"stroke-width":unref(L),style:normalizeStyle$1(unref(Ce))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(Ve.showText||Ve.$slots.default)&&!Ve.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(y).e("text")),style:normalizeStyle$1({fontSize:`${unref(xe)}px`})},[renderSlot(Ve.$slots,"default",{percentage:Ve.percentage},()=>[Ve.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Oe))))]),_:1})):(openBlock(),createElementBlock("span",{key:0},toDisplayString(unref(Ne)),1))])],6)):createCommentVNode("v-if",!0)],10,["aria-valuenow"]))}});var Progress=_export_sfc(_sfc_main$2b,[["__file","progress.vue"]]);const ElProgress=withInstall(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,clearable:Boolean,...useAriaProps(["ariaLabel"])}),rateEmits={[CHANGE_EVENT]:r=>isNumber$2(r),[UPDATE_MODEL_EVENT]:r=>isNumber$2(r)},__default__$H=defineComponent({name:"ElRate"}),_sfc_main$2a=defineComponent({...__default__$H,props:rateProps,emits:rateEmits,setup(r,{expose:n,emit:g}){const y=r;function $(jt,$n){const Sn=On=>isObject$7(On),bn=Object.keys($n).map(On=>+On).filter(On=>{const Tn=$n[On];return(Sn(Tn)?Tn.excluded:!1)?jt<On:jt<=On}).sort((On,Tn)=>On-Tn),wn=$n[bn[0]];return Sn(wn)&&wn.value||wn}const L=inject(formContextKey,void 0),re=inject(formItemContextKey,void 0),ae=useFormSize(),le=useNamespace$1("rate"),{inputId:ue,isLabeledByFormItem:he}=useFormItemInputId(y,{formItemContext:re}),_e=ref$1(y.modelValue),Ce=ref$1(-1),$e=ref$1(!0),Oe=computed(()=>[le.b(),le.m(ae.value)]),xe=computed(()=>y.disabled||(L==null?void 0:L.disabled)),Ne=computed(()=>le.cssVarBlock({"void-color":y.voidColor,"disabled-void-color":y.disabledVoidColor,"fill-color":ze.value})),Ie=computed(()=>{let jt="";return y.showScore?jt=y.scoreTemplate.replace(/\{\s*value\s*\}/,xe.value?`${y.modelValue}`:`${_e.value}`):y.showText&&(jt=y.texts[Math.ceil(_e.value)-1]),jt}),Fe=computed(()=>y.modelValue*100-Math.floor(y.modelValue)*100),Ve=computed(()=>isArray$5(y.colors)?{[y.lowThreshold]:y.colors[0],[y.highThreshold]:{value:y.colors[1],excluded:!0},[y.max]:y.colors[2]}:y.colors),ze=computed(()=>{const jt=$(_e.value,Ve.value);return isObject$7(jt)?"":jt}),Ue=computed(()=>{let jt="";return xe.value?jt=`${Fe.value}%`:y.allowHalf&&(jt="50%"),{color:ze.value,width:jt}}),qe=computed(()=>{let jt=isArray$5(y.icons)?[...y.icons]:{...y.icons};return jt=markRaw(jt),isArray$5(jt)?{[y.lowThreshold]:jt[0],[y.highThreshold]:{value:jt[1],excluded:!0},[y.max]:jt[2]}:jt}),kt=computed(()=>$(y.modelValue,qe.value)),Et=computed(()=>xe.value?isString$3(y.disabledVoidIcon)?y.disabledVoidIcon:markRaw(y.disabledVoidIcon):isString$3(y.voidIcon)?y.voidIcon:markRaw(y.voidIcon)),Pt=computed(()=>$(_e.value,qe.value));function At(jt){const $n=xe.value&&Fe.value>0&&jt-1<y.modelValue&&jt>y.modelValue,Sn=y.allowHalf&&$e.value&&jt-.5<=_e.value&&jt>_e.value;return $n||Sn}function Dt(jt){y.clearable&&jt===y.modelValue&&(jt=0),g(UPDATE_MODEL_EVENT,jt),y.modelValue!==jt&&g("change",jt)}function Lt(jt){xe.value||(y.allowHalf&&$e.value?Dt(_e.value):Dt(jt))}function hn(jt){if(xe.value)return;let $n=_e.value;const Sn=jt.code;return Sn===EVENT_CODE.up||Sn===EVENT_CODE.right?(y.allowHalf?$n+=.5:$n+=1,jt.stopPropagation(),jt.preventDefault()):(Sn===EVENT_CODE.left||Sn===EVENT_CODE.down)&&(y.allowHalf?$n-=.5:$n-=1,jt.stopPropagation(),jt.preventDefault()),$n=$n<0?0:$n,$n=$n>y.max?y.max:$n,g(UPDATE_MODEL_EVENT,$n),g("change",$n),$n}function _n(jt,$n){if(!xe.value){if(y.allowHalf&&$n){let Sn=$n.target;hasClass(Sn,le.e("item"))&&(Sn=Sn.querySelector(`.${le.e("icon")}`)),(Sn.clientWidth===0||hasClass(Sn,le.e("decimal")))&&(Sn=Sn.parentNode),$e.value=$n.offsetX*2<=Sn.clientWidth,_e.value=$e.value?jt-.5:jt}else _e.value=jt;Ce.value=jt}}function vn(){xe.value||(y.allowHalf&&($e.value=y.modelValue!==Math.floor(y.modelValue)),_e.value=y.modelValue,Ce.value=-1)}return watch$1(()=>y.modelValue,jt=>{_e.value=jt,$e.value=y.modelValue!==Math.floor(y.modelValue)}),y.modelValue||g(UPDATE_MODEL_EVENT,0),n({setCurrentValue:_n,resetCurrentValue:vn}),(jt,$n)=>{var Sn;return openBlock(),createElementBlock("div",{id:unref(ue),class:normalizeClass([unref(Oe),unref(le).is("disabled",unref(xe))]),role:"slider","aria-label":unref(he)?void 0:jt.ariaLabel||"rating","aria-labelledby":unref(he)?(Sn=unref(re))==null?void 0:Sn.labelId:void 0,"aria-valuenow":_e.value,"aria-valuetext":unref(Ie)||void 0,"aria-valuemin":"0","aria-valuemax":jt.max,tabindex:"0",style:normalizeStyle$1(unref(Ne)),onKeydown:hn},[(openBlock(!0),createElementBlock(Fragment,null,renderList(jt.max,(bn,wn)=>(openBlock(),createElementBlock("span",{key:wn,class:normalizeClass(unref(le).e("item")),onMousemove:On=>_n(bn,On),onMouseleave:vn,onClick:On=>Lt(bn)},[createVNode$1(unref(ElIcon),{class:normalizeClass([unref(le).e("icon"),{hover:Ce.value===bn},unref(le).is("active",bn<=_e.value)])},{default:withCtx(()=>[At(bn)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Pt)),null,null,512)),[[vShow,bn<=_e.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Et)),null,null,512)),[[vShow,!(bn<=_e.value)]])],64)),At(bn)?(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(resolveDynamicComponent(unref(Et)),{class:normalizeClass([unref(le).em("decimal","box")])},null,8,["class"])),createVNode$1(unref(ElIcon),{style:normalizeStyle$1(unref(Ue)),class:normalizeClass([unref(le).e("icon"),unref(le).e("decimal")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(kt))))]),_:1},8,["style","class"])],64)):createCommentVNode("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),jt.showText||jt.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(le).e("text")),style:normalizeStyle$1({color:jt.textColor})},toDisplayString(unref(Ie)),7)):createCommentVNode("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Rate=_export_sfc(_sfc_main$2a,[["__file","rate.vue"]]);const ElRate=withInstall(Rate),IconMap={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IconComponentMap={[IconMap.success]:circle_check_filled_default,[IconMap.warning]:warning_filled_default,[IconMap.error]:circle_close_filled_default,[IconMap.info]:info_filled_default},resultProps=buildProps({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),__default__$G=defineComponent({name:"ElResult"}),_sfc_main$29=defineComponent({...__default__$G,props:resultProps,setup(r){const n=r,g=useNamespace$1("result"),y=computed(()=>{const $=n.icon,L=$&&IconMap[$]?IconMap[$]:"icon-info",re=IconComponentMap[L]||IconComponentMap["icon-info"];return{class:L,component:re}});return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[createBaseVNode("div",{class:normalizeClass(unref(g).e("icon"))},[renderSlot($.$slots,"icon",{},()=>[unref(y).component?(openBlock(),createBlock(resolveDynamicComponent(unref(y).component),{key:0,class:normalizeClass(unref(y).class)},null,8,["class"])):createCommentVNode("v-if",!0)])],2),$.title||$.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("title"))},[renderSlot($.$slots,"title",{},()=>[createBaseVNode("p",null,toDisplayString($.title),1)])],2)):createCommentVNode("v-if",!0),$.subTitle||$.$slots["sub-title"]?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("subtitle"))},[renderSlot($.$slots,"sub-title",{},()=>[createBaseVNode("p",null,toDisplayString($.subTitle),1)])],2)):createCommentVNode("v-if",!0),$.$slots.extra?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(g).e("extra"))},[renderSlot($.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2))}});var Result=_export_sfc(_sfc_main$29,[["__file","result.vue"]]);const ElResult=withInstall(Result),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),__default__$F=defineComponent({name:"ElRow"}),_sfc_main$28=defineComponent({...__default__$F,props:rowProps,setup(r){const n=r,g=useNamespace$1("row"),y=computed(()=>n.gutter);provide(rowContextKey,{gutter:y});const $=computed(()=>{const re={};return n.gutter&&(re.marginRight=re.marginLeft=`-${n.gutter/2}px`),re}),L=computed(()=>[g.b(),g.is(`justify-${n.justify}`,n.justify!=="start"),g.is(`align-${n.align}`,!!n.align)]);return(re,ae)=>(openBlock(),createBlock(resolveDynamicComponent(re.tag),{class:normalizeClass(unref(L)),style:normalizeStyle$1(unref($))},{default:withCtx(()=>[renderSlot(re.$slots,"default")]),_:3},8,["class","style"]))}});var Row$2=_export_sfc(_sfc_main$28,[["__file","row.vue"]]);const ElRow=withInstall(Row$2),_sfc_main$27=defineComponent({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:useNamespace$1("select")}}});function _sfc_render$m(r,n,g,y,$,L){return openBlock(),createElementBlock("div",{class:normalizeClass(r.ns.be("group","title")),style:normalizeStyle$1({...r.style,lineHeight:`${r.height}px`})},toDisplayString(r.item.label),7)}var GroupItem=_export_sfc(_sfc_main$27,[["render",_sfc_render$m],["__file","group-item.vue"]]);function useOption(r,{emit:n}){return{hoverItem:()=>{r.disabled||n("hover",r.index)},selectOptionClick:()=>{r.disabled||n("select",r.item,r.index)}}}const defaultProps$4={label:"label",value:"value",disabled:"disabled",options:"options"};function useProps(r){const n=computed(()=>({...defaultProps$4,...r.props}));return{aliasProps:n,getLabel:re=>get$1(re,n.value.label),getValue:re=>get$1(re,n.value.value),getDisabled:re=>get$1(re,n.value.disabled),getOptions:re=>get$1(re,n.value.options)}}const SelectProps=buildProps({allowCreate:Boolean,autocomplete:{type:definePropType(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},effect:{type:definePropType(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:definePropType([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:definePropType(Array),required:!0},placeholder:{type:String},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,size:useSizeProp,props:{type:definePropType(Object),default:()=>defaultProps$4},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator(r){return isBoolean(r)||isNumber$2(r)}},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),OptionProps=buildProps({data:Array,disabled:Boolean,hovering:Boolean,item:{type:definePropType(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),selectEmits={[UPDATE_MODEL_EVENT]:r=>!0,[CHANGE_EVENT]:r=>!0,"remove-tag":r=>!0,"visible-change":r=>!0,focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0},optionEmits={hover:r=>isNumber$2(r),select:(r,n)=>!0},selectV2InjectionKey=Symbol("ElSelectV2Injection"),_sfc_main$26=defineComponent({props:OptionProps,emits:optionEmits,setup(r,{emit:n}){const g=inject(selectV2InjectionKey),y=useNamespace$1("select"),{hoverItem:$,selectOptionClick:L}=useOption(r,{emit:n}),{getLabel:re}=useProps(g.props);return{ns:y,hoverItem:$,selectOptionClick:L,getLabel:re}}});function _sfc_render$l(r,n,g,y,$,L){return openBlock(),createElementBlock("li",{"aria-selected":r.selected,style:normalizeStyle$1(r.style),class:normalizeClass([r.ns.be("dropdown","item"),r.ns.is("selected",r.selected),r.ns.is("disabled",r.disabled),r.ns.is("created",r.created),r.ns.is("hovering",r.hovering)]),onMousemove:r.hoverItem,onClick:withModifiers(r.selectOptionClick,["stop"])},[renderSlot(r.$slots,"default",{item:r.item,index:r.index,disabled:r.disabled},()=>[createBaseVNode("span",null,toDisplayString(r.getLabel(r.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var OptionItem=_export_sfc(_sfc_main$26,[["render",_sfc_render$l],["__file","option-item.vue"]]),safeIsNaN=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function isEqual(r,n){return!!(r===n||safeIsNaN(r)&&safeIsNaN(n))}function areInputsEqual(r,n){if(r.length!==n.length)return!1;for(var g=0;g<r.length;g++)if(!isEqual(r[g],n[g]))return!1;return!0}function memoizeOne(r,n){n===void 0&&(n=areInputsEqual);var g=null;function y(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];if(g&&g.lastThis===this&&n($,g.lastArgs))return g.lastResult;var re=r.apply(this,$);return g={lastResult:re,lastArgs:$,lastThis:this},re}return y.clear=function(){g=null},y}const useCache=()=>{const n=getCurrentInstance().proxy.$props;return computed(()=>{const g=(y,$,L)=>({});return n.perfMode?memoize(g):memoizeOne(g)})},DEFAULT_DYNAMIC_LIST_ITEM_SIZE=50,ITEM_RENDER_EVT="itemRendered",SCROLL_EVT="scroll",FORWARD="forward",BACKWARD="backward",AUTO_ALIGNMENT="auto",SMART_ALIGNMENT="smart",START_ALIGNMENT="start",CENTERED_ALIGNMENT="center",END_ALIGNMENT="end",HORIZONTAL$1="horizontal",VERTICAL$1="vertical",LTR$1="ltr",RTL$1="rtl",RTL_OFFSET_NAG="negative",RTL_OFFSET_POS_ASC="positive-ascending",RTL_OFFSET_POS_DESC="positive-descending",ScrollbarDirKey={[HORIZONTAL$1]:"left",[VERTICAL$1]:"top"},SCROLLBAR_MIN_SIZE=20,LayoutKeys={[HORIZONTAL$1]:"deltaX",[VERTICAL$1]:"deltaY"},useWheel=({atEndEdge:r,atStartEdge:n,layout:g},y)=>{let $,L=0;const re=le=>le<0&&n.value||le>0&&r.value;return{hasReachedEdge:re,onWheel:le=>{cAF($);const ue=le[LayoutKeys[g.value]];re(L)&&re(L+ue)||(L+=ue,isFirefox()||le.preventDefault(),$=rAF(()=>{y(L),L=0}))}}},itemSize$1=buildProp({type:definePropType([Number,Function]),required:!0}),estimatedItemSize=buildProp({type:Number}),cache$1=buildProp({type:Number,default:2}),direction=buildProp({type:String,values:["ltr","rtl"],default:"ltr"}),initScrollOffset=buildProp({type:Number,default:0}),total=buildProp({type:Number,required:!0}),layout$4=buildProp({type:String,values:["horizontal","vertical"],default:VERTICAL$1}),virtualizedProps=buildProps({className:{type:String,default:""},containerElement:{type:definePropType([String,Object]),default:"div"},data:{type:definePropType(Array),default:()=>mutable([])},direction,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:definePropType([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),virtualizedListProps=buildProps({cache:cache$1,estimatedItemSize,layout:layout$4,initScrollOffset,total,itemSize:itemSize$1,...virtualizedProps}),scrollbarSize={type:Number,default:6},startGap={type:Number,default:0},endGap={type:Number,default:2},virtualizedGridProps=buildProps({columnCache:cache$1,columnWidth:itemSize$1,estimatedColumnWidth:estimatedItemSize,estimatedRowHeight:estimatedItemSize,initScrollLeft:initScrollOffset,initScrollTop:initScrollOffset,itemKey:{type:definePropType(Function),default:({columnIndex:r,rowIndex:n})=>`${n}:${r}`},rowCache:cache$1,rowHeight:itemSize$1,totalColumn:total,totalRow:total,hScrollbarSize:scrollbarSize,vScrollbarSize:scrollbarSize,scrollbarStartGap:startGap,scrollbarEndGap:endGap,role:String,...virtualizedProps}),virtualizedScrollbarProps=buildProps({alwaysOn:Boolean,class:String,layout:layout$4,total,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize,startGap,endGap,visible:Boolean}),getScrollDir=(r,n)=>r<n?FORWARD:BACKWARD,isHorizontal=r=>r===LTR$1||r===RTL$1||r===HORIZONTAL$1,isRTL$1=r=>r===RTL$1;let cachedRTLResult=null;function getRTLOffsetType(r=!1){if(cachedRTLResult===null||r){const n=document.createElement("div"),g=n.style;g.width="50px",g.height="50px",g.overflow="scroll",g.direction="rtl";const y=document.createElement("div"),$=y.style;return $.width="100px",$.height="100px",n.appendChild(y),document.body.appendChild(n),n.scrollLeft>0?cachedRTLResult=RTL_OFFSET_POS_DESC:(n.scrollLeft=1,n.scrollLeft===0?cachedRTLResult=RTL_OFFSET_NAG:cachedRTLResult=RTL_OFFSET_POS_ASC),document.body.removeChild(n),cachedRTLResult}return cachedRTLResult}function renderThumbStyle({move:r,size:n,bar:g},y){const $={},L=`translate${g.axis}(${r}px)`;return $[g.size]=n,$.transform=L,$.msTransform=L,$.webkitTransform=L,y==="horizontal"?$.height="100%":$.width="100%",$}const ScrollBar=defineComponent({name:"ElVirtualScrollBar",props:virtualizedScrollbarProps,emits:["scroll","start-move","stop-move"],setup(r,{emit:n}){const g=computed(()=>r.startGap+r.endGap),y=useNamespace$1("virtual-scrollbar"),$=useNamespace$1("scrollbar"),L=ref$1(),re=ref$1();let ae=null,le=null;const ue=reactive({isDragging:!1,traveled:0}),he=computed(()=>BAR_MAP[r.layout]),_e=computed(()=>r.clientSize-unref(g)),Ce=computed(()=>({position:"absolute",width:`${HORIZONTAL$1===r.layout?_e.value:r.scrollbarSize}px`,height:`${HORIZONTAL$1===r.layout?r.scrollbarSize:_e.value}px`,[ScrollbarDirKey[r.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),$e=computed(()=>{const qe=r.ratio,kt=r.clientSize;if(qe>=100)return Number.POSITIVE_INFINITY;if(qe>=50)return qe*kt/100;const Et=kt/3;return Math.floor(Math.min(Math.max(qe*kt,SCROLLBAR_MIN_SIZE),Et))}),Oe=computed(()=>{if(!Number.isFinite($e.value))return{display:"none"};const qe=`${$e.value}px`;return renderThumbStyle({bar:he.value,size:qe,move:ue.traveled},r.layout)}),xe=computed(()=>Math.floor(r.clientSize-$e.value-unref(g))),Ne=()=>{window.addEventListener("mousemove",ze),window.addEventListener("mouseup",Ve);const qe=unref(re);qe&&(le=document.onselectstart,document.onselectstart=()=>!1,qe.addEventListener("touchmove",ze,{passive:!0}),qe.addEventListener("touchend",Ve))},Ie=()=>{window.removeEventListener("mousemove",ze),window.removeEventListener("mouseup",Ve),document.onselectstart=le,le=null;const qe=unref(re);qe&&(qe.removeEventListener("touchmove",ze),qe.removeEventListener("touchend",Ve))},Fe=qe=>{qe.stopImmediatePropagation(),!(qe.ctrlKey||[1,2].includes(qe.button))&&(ue.isDragging=!0,ue[he.value.axis]=qe.currentTarget[he.value.offset]-(qe[he.value.client]-qe.currentTarget.getBoundingClientRect()[he.value.direction]),n("start-move"),Ne())},Ve=()=>{ue.isDragging=!1,ue[he.value.axis]=0,n("stop-move"),Ie()},ze=qe=>{const{isDragging:kt}=ue;if(!kt||!re.value||!L.value)return;const Et=ue[he.value.axis];if(!Et)return;cAF(ae);const Pt=(L.value.getBoundingClientRect()[he.value.direction]-qe[he.value.client])*-1,At=re.value[he.value.offset]-Et,Dt=Pt-At;ae=rAF(()=>{ue.traveled=Math.max(r.startGap,Math.min(Dt,xe.value)),n("scroll",Dt,xe.value)})},Ue=qe=>{const kt=Math.abs(qe.target.getBoundingClientRect()[he.value.direction]-qe[he.value.client]),Et=re.value[he.value.offset]/2,Pt=kt-Et;ue.traveled=Math.max(0,Math.min(Pt,xe.value)),n("scroll",Pt,xe.value)};return watch$1(()=>r.scrollFrom,qe=>{ue.isDragging||(ue.traveled=Math.ceil(qe*xe.value))}),onBeforeUnmount(()=>{Ie()}),()=>h$1("div",{role:"presentation",ref:L,class:[y.b(),r.class,(r.alwaysOn||ue.isDragging)&&"always-on"],style:Ce.value,onMousedown:withModifiers(Ue,["stop","prevent"]),onTouchstartPrevent:Fe},h$1("div",{ref:re,class:$.e("thumb"),style:Oe.value,onMousedown:Fe},[]))}}),createList$3=({name:r,getOffset:n,getItemSize:g,getItemOffset:y,getEstimatedTotalSize:$,getStartIndexForOffset:L,getStopIndexForStartIndex:re,initCache:ae,clearCache:le,validateProps:ue})=>defineComponent({name:r??"ElVirtualList",props:virtualizedListProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(he,{emit:_e,expose:Ce}){ue(he);const $e=getCurrentInstance(),Oe=useNamespace$1("vl"),xe=ref$1(ae(he,$e)),Ne=useCache(),Ie=ref$1(),Fe=ref$1(),Ve=ref$1(),ze=ref$1({isScrolling:!1,scrollDir:"forward",scrollOffset:isNumber$2(he.initScrollOffset)?he.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:he.scrollbarAlwaysOn}),Ue=computed(()=>{const{total:xn,cache:Pn}=he,{isScrolling:An,scrollDir:Rn,scrollOffset:Nn}=unref(ze);if(xn===0)return[0,0,0,0];const Dn=L(he,Nn,unref(xe)),In=re(he,Dn,Nn,unref(xe)),Fn=!An||Rn===BACKWARD?Math.max(1,Pn):1,Bn=!An||Rn===FORWARD?Math.max(1,Pn):1;return[Math.max(0,Dn-Fn),Math.max(0,Math.min(xn-1,In+Bn)),Dn,In]}),qe=computed(()=>$(he,unref(xe))),kt=computed(()=>isHorizontal(he.layout)),Et=computed(()=>[{position:"relative",[`overflow-${kt.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:he.direction,height:isNumber$2(he.height)?`${he.height}px`:he.height,width:isNumber$2(he.width)?`${he.width}px`:he.width},he.style]),Pt=computed(()=>{const xn=unref(qe),Pn=unref(kt);return{height:Pn?"100%":`${xn}px`,pointerEvents:unref(ze).isScrolling?"none":void 0,width:Pn?`${xn}px`:"100%"}}),At=computed(()=>kt.value?he.width:he.height),{onWheel:Dt}=useWheel({atStartEdge:computed(()=>ze.value.scrollOffset<=0),atEndEdge:computed(()=>ze.value.scrollOffset>=qe.value),layout:computed(()=>he.layout)},xn=>{var Pn,An;(An=(Pn=Ve.value).onMouseUp)==null||An.call(Pn),$n(Math.min(ze.value.scrollOffset+xn,qe.value-At.value))});useEventListener(Ie,"wheel",Dt,{passive:!1});const Lt=()=>{const{total:xn}=he;if(xn>0){const[Nn,Dn,In,Fn]=unref(Ue);_e(ITEM_RENDER_EVT,Nn,Dn,In,Fn)}const{scrollDir:Pn,scrollOffset:An,updateRequested:Rn}=unref(ze);_e(SCROLL_EVT,Pn,An,Rn)},hn=xn=>{const{clientHeight:Pn,scrollHeight:An,scrollTop:Rn}=xn.currentTarget,Nn=unref(ze);if(Nn.scrollOffset===Rn)return;const Dn=Math.max(0,Math.min(Rn,An-Pn));ze.value={...Nn,isScrolling:!0,scrollDir:getScrollDir(Nn.scrollOffset,Dn),scrollOffset:Dn,updateRequested:!1},nextTick$1(wn)},_n=xn=>{const{clientWidth:Pn,scrollLeft:An,scrollWidth:Rn}=xn.currentTarget,Nn=unref(ze);if(Nn.scrollOffset===An)return;const{direction:Dn}=he;let In=An;if(Dn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{In=-An;break}case RTL_OFFSET_POS_DESC:{In=Rn-Pn-An;break}}In=Math.max(0,Math.min(In,Rn-Pn)),ze.value={...Nn,isScrolling:!0,scrollDir:getScrollDir(Nn.scrollOffset,In),scrollOffset:In,updateRequested:!1},nextTick$1(wn)},vn=xn=>{unref(kt)?_n(xn):hn(xn),Lt()},jt=(xn,Pn)=>{const An=(qe.value-At.value)/Pn*xn;$n(Math.min(qe.value-At.value,An))},$n=xn=>{xn=Math.max(xn,0),xn!==unref(ze).scrollOffset&&(ze.value={...unref(ze),scrollOffset:xn,scrollDir:getScrollDir(unref(ze).scrollOffset,xn),updateRequested:!0},nextTick$1(wn))},Sn=(xn,Pn=AUTO_ALIGNMENT)=>{const{scrollOffset:An}=unref(ze);xn=Math.max(0,Math.min(xn,he.total-1)),$n(n(he,xn,Pn,An,unref(xe)))},bn=xn=>{const{direction:Pn,itemSize:An,layout:Rn}=he,Nn=Ne.value(le&&An,le&&Rn,le&&Pn);let Dn;if(hasOwn$1(Nn,String(xn)))Dn=Nn[xn];else{const In=y(he,xn,unref(xe)),Fn=g(he,xn,unref(xe)),Bn=unref(kt),Mn=Pn===RTL$1,Hn=Bn?In:0;Nn[xn]=Dn={position:"absolute",left:Mn?void 0:`${Hn}px`,right:Mn?`${Hn}px`:void 0,top:Bn?0:`${In}px`,height:Bn?"100%":`${Fn}px`,width:Bn?`${Fn}px`:"100%"}}return Dn},wn=()=>{ze.value.isScrolling=!1,nextTick$1(()=>{Ne.value(-1,null,null)})},On=()=>{const xn=Ie.value;xn&&(xn.scrollTop=0)};onMounted(()=>{if(!isClient)return;const{initScrollOffset:xn}=he,Pn=unref(Ie);isNumber$2(xn)&&Pn&&(unref(kt)?Pn.scrollLeft=xn:Pn.scrollTop=xn),Lt()}),onUpdated(()=>{const{direction:xn,layout:Pn}=he,{scrollOffset:An,updateRequested:Rn}=unref(ze),Nn=unref(Ie);if(Rn&&Nn)if(Pn===HORIZONTAL$1)if(xn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{Nn.scrollLeft=-An;break}case RTL_OFFSET_POS_ASC:{Nn.scrollLeft=An;break}default:{const{clientWidth:Dn,scrollWidth:In}=Nn;Nn.scrollLeft=In-Dn-An;break}}else Nn.scrollLeft=An;else Nn.scrollTop=An}),onActivated(()=>{unref(Ie).scrollTop=unref(ze).scrollOffset});const Tn={ns:Oe,clientSize:At,estimatedTotalSize:qe,windowStyle:Et,windowRef:Ie,innerRef:Fe,innerStyle:Pt,itemsToRender:Ue,scrollbarRef:Ve,states:ze,getItemStyle:bn,onScroll:vn,onScrollbarScroll:jt,onWheel:Dt,scrollTo:$n,scrollToItem:Sn,resetScrollTop:On};return Ce({windowRef:Ie,innerRef:Fe,getItemStyleCache:Ne,scrollTo:$n,scrollToItem:Sn,resetScrollTop:On,states:ze}),Tn},render(he){var _e;const{$slots:Ce,className:$e,clientSize:Oe,containerElement:xe,data:Ne,getItemStyle:Ie,innerElement:Fe,itemsToRender:Ve,innerStyle:ze,layout:Ue,total:qe,onScroll:kt,onScrollbarScroll:Et,states:Pt,useIsScrolling:At,windowStyle:Dt,ns:Lt}=he,[hn,_n]=Ve,vn=resolveDynamicComponent(xe),jt=resolveDynamicComponent(Fe),$n=[];if(qe>0)for(let On=hn;On<=_n;On++)$n.push(h$1(Fragment,{key:On},(_e=Ce.default)==null?void 0:_e.call(Ce,{data:Ne,index:On,isScrolling:At?Pt.isScrolling:void 0,style:Ie(On)})));const Sn=[h$1(jt,{style:ze,ref:"innerRef"},isString$3(jt)?$n:{default:()=>$n})],bn=h$1(ScrollBar,{ref:"scrollbarRef",clientSize:Oe,layout:Ue,onScroll:Et,ratio:Oe*100/this.estimatedTotalSize,scrollFrom:Pt.scrollOffset/(this.estimatedTotalSize-Oe),total:qe}),wn=h$1(vn,{class:[Lt.e("window"),$e],style:Dt,onScroll:kt,ref:"windowRef",key:0},isString$3(vn)?[Sn]:{default:()=>[Sn]});return h$1("div",{key:0,class:[Lt.e("wrapper"),Pt.scrollbarAlwaysOn?"always-on":""]},[wn,bn])}}),FixedSizeList=createList$3({name:"ElFixedSizeList",getItemOffset:({itemSize:r},n)=>n*r,getItemSize:({itemSize:r})=>r,getEstimatedTotalSize:({total:r,itemSize:n})=>n*r,getOffset:({height:r,total:n,itemSize:g,layout:y,width:$},L,re,ae)=>{const le=isHorizontal(y)?$:r,ue=Math.max(0,n*g-le),he=Math.min(ue,L*g),_e=Math.max(0,(L+1)*g-le);switch(re===SMART_ALIGNMENT&&(ae>=_e-le&&ae<=he+le?re=AUTO_ALIGNMENT:re=CENTERED_ALIGNMENT),re){case START_ALIGNMENT:return he;case END_ALIGNMENT:return _e;case CENTERED_ALIGNMENT:{const Ce=Math.round(_e+(he-_e)/2);return Ce<Math.ceil(le/2)?0:Ce>ue+Math.floor(le/2)?ue:Ce}case AUTO_ALIGNMENT:default:return ae>=_e&&ae<=he?ae:ae<_e?_e:he}},getStartIndexForOffset:({total:r,itemSize:n},g)=>Math.max(0,Math.min(r-1,Math.floor(g/n))),getStopIndexForStartIndex:({height:r,total:n,itemSize:g,layout:y,width:$},L,re)=>{const ae=L*g,le=isHorizontal(y)?$:r,ue=Math.ceil((le+re-ae)/g);return Math.max(0,Math.min(n-1,L+ue-1))},initCache(){},clearCache:!0,validateProps(){}}),getItemFromCache$1=(r,n,g)=>{const{itemSize:y}=r,{items:$,lastVisitedIndex:L}=g;if(n>L){let re=0;if(L>=0){const ae=$[L];re=ae.offset+ae.size}for(let ae=L+1;ae<=n;ae++){const le=y(ae);$[ae]={offset:re,size:le},re+=le}g.lastVisitedIndex=n}return $[n]},findItem$1=(r,n,g)=>{const{items:y,lastVisitedIndex:$}=n;return($>0?y[$].offset:0)>=g?bs$1(r,n,0,$,g):es$1(r,n,Math.max(0,$),g)},bs$1=(r,n,g,y,$)=>{for(;g<=y;){const L=g+Math.floor((y-g)/2),re=getItemFromCache$1(r,L,n).offset;if(re===$)return L;re<$?g=L+1:re>$&&(y=L-1)}return Math.max(0,g-1)},es$1=(r,n,g,y)=>{const{total:$}=r;let L=1;for(;g<$&&getItemFromCache$1(r,g,n).offset<y;)g+=L,L*=2;return bs$1(r,n,Math.floor(g/2),Math.min(g,$-1),y)},getEstimatedTotalSize=({total:r},{items:n,estimatedItemSize:g,lastVisitedIndex:y})=>{let $=0;if(y>=r&&(y=r-1),y>=0){const ae=n[y];$=ae.offset+ae.size}const re=(r-y-1)*g;return $+re},DynamicSizeList=createList$3({name:"ElDynamicSizeList",getItemOffset:(r,n,g)=>getItemFromCache$1(r,n,g).offset,getItemSize:(r,n,{items:g})=>g[n].size,getEstimatedTotalSize,getOffset:(r,n,g,y,$)=>{const{height:L,layout:re,width:ae}=r,le=isHorizontal(re)?ae:L,ue=getItemFromCache$1(r,n,$),he=getEstimatedTotalSize(r,$),_e=Math.max(0,Math.min(he-le,ue.offset)),Ce=Math.max(0,ue.offset-le+ue.size);switch(g===SMART_ALIGNMENT&&(y>=Ce-le&&y<=_e+le?g=AUTO_ALIGNMENT:g=CENTERED_ALIGNMENT),g){case START_ALIGNMENT:return _e;case END_ALIGNMENT:return Ce;case CENTERED_ALIGNMENT:return Math.round(Ce+(_e-Ce)/2);case AUTO_ALIGNMENT:default:return y>=Ce&&y<=_e?y:y<Ce?Ce:_e}},getStartIndexForOffset:(r,n,g)=>findItem$1(r,g,n),getStopIndexForStartIndex:(r,n,g,y)=>{const{height:$,total:L,layout:re,width:ae}=r,le=isHorizontal(re)?ae:$,ue=getItemFromCache$1(r,n,y),he=g+le;let _e=ue.offset+ue.size,Ce=n;for(;Ce<L-1&&_e<he;)Ce++,_e+=getItemFromCache$1(r,Ce,y).size;return Ce},initCache({estimatedItemSize:r=DEFAULT_DYNAMIC_LIST_ITEM_SIZE},n){const g={items:{},estimatedItemSize:r,lastVisitedIndex:-1};return g.clearCacheAfterIndex=(y,$=!0)=>{var L,re;g.lastVisitedIndex=Math.min(g.lastVisitedIndex,y-1),(L=n.exposed)==null||L.getItemStyleCache(-1),$&&((re=n.proxy)==null||re.$forceUpdate())},g},clearCache:!1,validateProps:({itemSize:r})=>{}}),props$1={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var ElSelectMenu=defineComponent({name:"ElSelectDropdown",props:props$1,setup(r,{slots:n,expose:g}){const y=inject(selectV2InjectionKey),$=useNamespace$1("select"),{getLabel:L,getValue:re,getDisabled:ae}=useProps(y.props),le=ref$1([]),ue=ref$1(),he=computed(()=>r.data.length);watch$1(()=>he.value,()=>{var Dt,Lt;(Lt=(Dt=y.tooltipRef.value).updatePopper)==null||Lt.call(Dt)});const _e=computed(()=>isUndefined(y.props.estimatedOptionHeight)),Ce=computed(()=>_e.value?{itemSize:y.props.itemHeight}:{estimatedSize:y.props.estimatedOptionHeight,itemSize:Dt=>le.value[Dt]}),$e=(Dt=[],Lt)=>{const{props:{valueKey:hn}}=y;return isObject$7(Lt)?Dt&&Dt.some(_n=>toRaw(get$1(_n,hn))===get$1(Lt,hn)):Dt.includes(Lt)},Oe=(Dt,Lt)=>{if(isObject$7(Lt)){const{valueKey:hn}=y.props;return get$1(Dt,hn)===get$1(Lt,hn)}else return Dt===Lt},xe=(Dt,Lt)=>y.props.multiple?$e(Dt,re(Lt)):Oe(Dt,re(Lt)),Ne=(Dt,Lt)=>{const{disabled:hn,multiple:_n,multipleLimit:vn}=y.props;return hn||!Lt&&(_n?vn>0&&Dt.length>=vn:!1)},Ie=Dt=>r.hoveringIndex===Dt;g({listRef:ue,isSized:_e,isItemDisabled:Ne,isItemHovering:Ie,isItemSelected:xe,scrollToItem:Dt=>{const Lt=ue.value;Lt&&Lt.scrollToItem(Dt)},resetScrollTop:()=>{const Dt=ue.value;Dt&&Dt.resetScrollTop()}});const Ue=Dt=>{const{index:Lt,data:hn,style:_n}=Dt,vn=unref(_e),{itemSize:jt,estimatedSize:$n}=unref(Ce),{modelValue:Sn}=y.props,{onSelect:bn,onHover:wn}=y,On=hn[Lt];if(On.type==="Group")return createVNode$1(GroupItem,{item:On,style:_n,height:vn?jt:$n},null);const Tn=xe(Sn,On),xn=Ne(Sn,Tn),Pn=Ie(Lt);return createVNode$1(OptionItem,mergeProps(Dt,{selected:Tn,disabled:ae(On)||xn,created:!!On.created,hovering:Pn,item:On,onSelect:bn,onHover:wn}),{default:An=>{var Rn;return((Rn=n.default)==null?void 0:Rn.call(n,An))||createVNode$1("span",null,[L(On)])}})},{onKeyboardNavigate:qe,onKeyboardSelect:kt}=y,Et=()=>{qe("forward")},Pt=()=>{qe("backward")},At=Dt=>{const{code:Lt}=Dt,{tab:hn,esc:_n,down:vn,up:jt,enter:$n,numpadEnter:Sn}=EVENT_CODE;switch(Lt!==hn&&(Dt.preventDefault(),Dt.stopPropagation()),Lt){case hn:case _n:break;case vn:Et();break;case jt:Pt();break;case $n:case Sn:kt();break}};return()=>{var Dt,Lt,hn,_n;const{data:vn,width:jt}=r,{height:$n,multiple:Sn,scrollbarAlwaysOn:bn}=y.props,wn=unref(_e)?FixedSizeList:DynamicSizeList;return createVNode$1("div",{class:[$.b("dropdown"),$.is("multiple",Sn)],style:{width:`${jt}px`}},[(Dt=n.header)==null?void 0:Dt.call(n),((Lt=n.loading)==null?void 0:Lt.call(n))||((hn=n.empty)==null?void 0:hn.call(n))||createVNode$1(wn,mergeProps({ref:ue},unref(Ce),{className:$.be("dropdown","list"),scrollbarAlwaysOn:bn,data:vn,height:$n,width:jt,total:vn.length,onKeydown:At}),{default:On=>createVNode$1(Ue,On,null)}),(_n=n.footer)==null?void 0:_n.call(n)])}}});function useAllowCreate(r,n){const{aliasProps:g,getLabel:y,getValue:$}=useProps(r),L=ref$1(0),re=ref$1(),ae=computed(()=>r.allowCreate&&r.filterable);function le($e){const Oe=xe=>y(xe)===$e;return r.options&&r.options.some(Oe)||n.createdOptions.some(Oe)}function ue($e){ae.value&&(r.multiple&&$e.created?L.value++:re.value=$e)}function he($e){if(ae.value)if($e&&$e.length>0){if(le($e))return;const Oe={[g.value.value]:$e,[g.value.label]:$e,created:!0,[g.value.disabled]:!1};n.createdOptions.length>=L.value?n.createdOptions[L.value]=Oe:n.createdOptions.push(Oe)}else if(r.multiple)n.createdOptions.length=L.value;else{const Oe=re.value;n.createdOptions.length=0,Oe&&Oe.created&&n.createdOptions.push(Oe)}}function _e($e){if(!ae.value||!$e||!$e.created||$e.created&&r.reserveKeyword&&n.inputValue===y($e))return;const Oe=n.createdOptions.findIndex(xe=>$(xe)===$($e));~Oe&&(n.createdOptions.splice(Oe,1),L.value--)}function Ce(){ae.value&&(n.createdOptions.length=0,L.value=0)}return{createNewOption:he,removeNewOption:_e,selectNewOption:ue,clearAllNewOption:Ce}}const useSelect$1=(r,n)=>{const{t:g}=useLocale(),y=useNamespace$1("select"),$=useNamespace$1("input"),{form:L,formItem:re}=useFormItem(),{inputId:ae}=useFormItemInputId(r,{formItemContext:re}),{aliasProps:le,getLabel:ue,getValue:he,getDisabled:_e,getOptions:Ce}=useProps(r),{valueOnClear:$e,isEmptyValue:Oe}=useEmptyValues(r),xe=reactive({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),Ne=ref$1(-1),Ie=ref$1(),Fe=ref$1(),Ve=ref$1(),ze=ref$1(),Ue=ref$1(),qe=ref$1(),kt=ref$1(),Et=ref$1(),Pt=ref$1(),At=ref$1(),{isComposing:Dt,handleCompositionStart:Lt,handleCompositionEnd:hn,handleCompositionUpdate:_n}=useComposition({afterComposition:Gn=>Er(Gn)}),{wrapperRef:vn,isFocused:jt,handleBlur:$n}=useFocusController(Ue,{beforeFocus(){return On.value},afterFocus(){r.automaticDropdown&&!wn.value&&(wn.value=!0,xe.menuVisibleOnFocus=!0)},beforeBlur(Gn){var nr,lr;return((nr=Ve.value)==null?void 0:nr.isFocusInsideContent(Gn))||((lr=ze.value)==null?void 0:lr.isFocusInsideContent(Gn))},afterBlur(){wn.value=!1,xe.menuVisibleOnFocus=!1}}),Sn=ref$1([]),bn=ref$1([]),wn=ref$1(!1),On=computed(()=>r.disabled||(L==null?void 0:L.disabled)),Tn=computed(()=>{var Gn;return(Gn=L==null?void 0:L.statusIcon)!=null?Gn:!1}),xn=computed(()=>{const Gn=bn.value.length*r.itemHeight;return Gn>r.height?r.height:Gn}),Pn=computed(()=>r.multiple?isArray$5(r.modelValue)&&r.modelValue.length>0:!Oe(r.modelValue)),An=computed(()=>r.clearable&&!On.value&&xe.inputHovering&&Pn.value),Rn=computed(()=>r.remote&&r.filterable?"":arrow_down_default),Nn=computed(()=>Rn.value&&y.is("reverse",wn.value)),Dn=computed(()=>(re==null?void 0:re.validateState)||""),In=computed(()=>{if(Dn.value)return ValidateComponentsMap[Dn.value]}),Fn=computed(()=>r.remote?300:0),Bn=computed(()=>r.loading?r.loadingText||g("el.select.loading"):r.remote&&!xe.inputValue&&Sn.value.length===0?!1:r.filterable&&xe.inputValue&&Sn.value.length>0&&bn.value.length===0?r.noMatchText||g("el.select.noMatch"):Sn.value.length===0?r.noDataText||g("el.select.noData"):null),Mn=Gn=>{const nr=lr=>{if(r.filterable&&isFunction$3(r.filterMethod)||r.filterable&&r.remote&&isFunction$3(r.remoteMethod))return!0;const dr=new RegExp(escapeStringRegexp(Gn),"i");return Gn?dr.test(ue(lr)||""):!0};return r.loading?[]:[...xe.createdOptions,...r.options].reduce((lr,dr)=>{const kr=Ce(dr);if(isArray$5(kr)){const Nr=kr.filter(nr);Nr.length>0&&lr.push({label:ue(dr),type:"Group"},...Nr)}else(r.remote||nr(dr))&&lr.push(dr);return lr},[])},Hn=()=>{Sn.value=Mn(""),bn.value=Mn(xe.inputValue)},Yn=computed(()=>{const Gn=new Map;return Sn.value.forEach((nr,lr)=>{Gn.set(mr(he(nr)),{option:nr,index:lr})}),Gn}),qn=computed(()=>{const Gn=new Map;return bn.value.forEach((nr,lr)=>{Gn.set(mr(he(nr)),{option:nr,index:lr})}),Gn}),Xn=computed(()=>bn.value.every(Gn=>_e(Gn))),jn=useFormSize(),Zn=computed(()=>jn.value==="small"?"small":"default"),Un=()=>{var Gn;if(isNumber$2(r.fitInputWidth)){Ne.value=r.fitInputWidth;return}const nr=((Gn=Ie.value)==null?void 0:Gn.offsetWidth)||200;!r.fitInputWidth&&Sn.value.length>0?nextTick$1(()=>{Ne.value=Math.max(nr,Jn())}):Ne.value=nr},Jn=()=>{var Gn,nr;const dr=document.createElement("canvas").getContext("2d"),kr=y.be("dropdown","item"),Ea=(((nr=(Gn=Et.value)==null?void 0:Gn.listRef)==null?void 0:nr.innerRef)||document).querySelector(`.${kr}`);if(Ea===null||dr===null)return 0;const fa=getComputedStyle(Ea),Ya=Number.parseFloat(fa.paddingLeft)+Number.parseFloat(fa.paddingRight);return dr.font=fa.font,bn.value.reduce((Za,qa)=>{const Ka=dr.measureText(ue(qa));return Math.max(Ka.width,Za)},0)+Ya},tr=()=>{if(!Fe.value)return 0;const Gn=window.getComputedStyle(Fe.value);return Number.parseFloat(Gn.gap||"6px")},sr=computed(()=>{const Gn=tr();return{maxWidth:`${At.value&&r.maxCollapseTags===1?xe.selectionWidth-xe.collapseItemWidth-Gn:xe.selectionWidth}px`}}),or=computed(()=>({maxWidth:`${xe.selectionWidth}px`})),Qn=computed(()=>isArray$5(r.modelValue)?r.modelValue.length===0&&!xe.inputValue:r.filterable?!xe.inputValue:!0),rr=computed(()=>{var Gn;const nr=(Gn=r.placeholder)!=null?Gn:g("el.select.placeholder");return r.multiple||!Pn.value?nr:xe.selectedLabel}),cr=computed(()=>{var Gn,nr;return(nr=(Gn=Ve.value)==null?void 0:Gn.popperRef)==null?void 0:nr.contentRef}),vr=computed(()=>{if(r.multiple){const Gn=r.modelValue.length;if(r.modelValue.length>0&&qn.value.has(r.modelValue[Gn-1])){const{index:nr}=qn.value.get(r.modelValue[Gn-1]);return nr}}else if(!Oe(r.modelValue)&&qn.value.has(r.modelValue)){const{index:Gn}=qn.value.get(r.modelValue);return Gn}return-1}),hr=computed({get(){return wn.value&&Bn.value!==!1},set(Gn){wn.value=Gn}}),br=computed(()=>r.multiple?r.collapseTags?xe.cachedOptions.slice(0,r.maxCollapseTags):xe.cachedOptions:[]),pr=computed(()=>r.multiple?r.collapseTags?xe.cachedOptions.slice(r.maxCollapseTags):[]:[]),{createNewOption:Tr,removeNewOption:_r,selectNewOption:Vn,clearAllNewOption:kn}=useAllowCreate(r,xe),Ln=()=>{On.value||(xe.menuVisibleOnFocus?xe.menuVisibleOnFocus=!1:wn.value=!wn.value)},En=()=>{xe.inputValue.length>0&&!wn.value&&(wn.value=!0),Tr(xe.inputValue),Kn(xe.inputValue)},zn=debounce$2(En,Fn.value),Kn=Gn=>{xe.previousQuery===Gn||Dt.value||(xe.previousQuery=Gn,r.filterable&&isFunction$3(r.filterMethod)?r.filterMethod(Gn):r.filterable&&r.remote&&isFunction$3(r.remoteMethod)&&r.remoteMethod(Gn),r.defaultFirstOption&&(r.filterable||r.remote)&&bn.value.length?nextTick$1(ir):nextTick$1(Or))},ir=()=>{const Gn=bn.value.filter(dr=>!dr.disabled&&dr.type!=="Group"),nr=Gn.find(dr=>dr.created),lr=Gn[0];xe.hoveringIndex=Cr(bn.value,nr||lr)},fr=Gn=>{isEqual$1(r.modelValue,Gn)||n(CHANGE_EVENT,Gn)},Sr=Gn=>{n(UPDATE_MODEL_EVENT,Gn),fr(Gn),xe.previousValue=r.multiple?String(Gn):Gn},Cr=(Gn=[],nr)=>{if(!isObject$7(nr))return Gn.indexOf(nr);const lr=r.valueKey;let dr=-1;return Gn.some((kr,Nr)=>get$1(kr,lr)===get$1(nr,lr)?(dr=Nr,!0):!1),dr},mr=Gn=>isObject$7(Gn)?get$1(Gn,r.valueKey):Gn,$r=()=>{Un()},yr=()=>{xe.selectionWidth=Fe.value.getBoundingClientRect().width},wr=()=>{xe.collapseItemWidth=At.value.getBoundingClientRect().width},Lr=()=>{var Gn,nr;(nr=(Gn=Ve.value)==null?void 0:Gn.updatePopper)==null||nr.call(Gn)},Rr=()=>{var Gn,nr;(nr=(Gn=ze.value)==null?void 0:Gn.updatePopper)==null||nr.call(Gn)},Ar=Gn=>{if(r.multiple){let nr=r.modelValue.slice();const lr=Cr(nr,he(Gn));lr>-1?(nr=[...nr.slice(0,lr),...nr.slice(lr+1)],xe.cachedOptions.splice(lr,1),_r(Gn)):(r.multipleLimit<=0||nr.length<r.multipleLimit)&&(nr=[...nr,he(Gn)],xe.cachedOptions.push(Gn),Vn(Gn)),Sr(nr),Gn.created&&Kn(""),r.filterable&&!r.reserveKeyword&&(xe.inputValue="")}else xe.selectedLabel=ue(Gn),Sr(he(Gn)),wn.value=!1,Vn(Gn),Gn.created||kn();Hr()},oa=(Gn,nr)=>{let lr=r.modelValue.slice();const dr=Cr(lr,he(nr));dr>-1&&!On.value&&(lr=[...r.modelValue.slice(0,dr),...r.modelValue.slice(dr+1)],xe.cachedOptions.splice(dr,1),Sr(lr),n("remove-tag",he(nr)),_r(nr)),Gn.stopPropagation(),Hr()},Hr=()=>{var Gn;(Gn=Ue.value)==null||Gn.focus()},sa=()=>{var Gn;if(wn.value){wn.value=!1,nextTick$1(()=>{var nr;return(nr=Ue.value)==null?void 0:nr.blur()});return}(Gn=Ue.value)==null||Gn.blur()},Xr=()=>{xe.inputValue.length>0?xe.inputValue="":wn.value=!1},la=Gn=>findLastIndex(Gn,nr=>!xe.cachedOptions.some(lr=>he(lr)===nr&&_e(lr))),ua=Gn=>{if(r.multiple&&Gn.code!==EVENT_CODE.delete&&xe.inputValue.length===0){Gn.preventDefault();const nr=r.modelValue.slice(),lr=la(nr);if(lr<0)return;const dr=nr[lr];nr.splice(lr,1);const kr=xe.cachedOptions[lr];xe.cachedOptions.splice(lr,1),_r(kr),Sr(nr),n("remove-tag",dr)}},da=()=>{let Gn;isArray$5(r.modelValue)?Gn=[]:Gn=$e.value,r.multiple?xe.cachedOptions=[]:xe.selectedLabel="",wn.value=!1,Sr(Gn),n("clear"),kn(),Hr()},Wn=(Gn,nr=void 0)=>{const lr=bn.value;if(!["forward","backward"].includes(Gn)||On.value||lr.length<=0||Xn.value||Dt.value)return;if(!wn.value)return Ln();nr===void 0&&(nr=xe.hoveringIndex);let dr=-1;Gn==="forward"?(dr=nr+1,dr>=lr.length&&(dr=0)):Gn==="backward"&&(dr=nr-1,(dr<0||dr>=lr.length)&&(dr=lr.length-1));const kr=lr[dr];if(_e(kr)||kr.type==="Group")return Wn(Gn,dr);xe.hoveringIndex=dr,Vr(dr)},ar=()=>{if(wn.value)~xe.hoveringIndex&&bn.value[xe.hoveringIndex]&&Ar(bn.value[xe.hoveringIndex]);else return Ln()},gr=Gn=>{xe.hoveringIndex=Gn??-1},Or=()=>{r.multiple?xe.hoveringIndex=bn.value.findIndex(Gn=>r.modelValue.some(nr=>mr(nr)===mr(Gn))):xe.hoveringIndex=bn.value.findIndex(Gn=>mr(Gn)===mr(r.modelValue))},Er=Gn=>{if(xe.inputValue=Gn.target.value,r.remote)zn();else return En()},Br=Gn=>{if(wn.value=!1,jt.value){const nr=new FocusEvent("focus",Gn);$n(nr)}},Mr=()=>(xe.isBeforeHide=!1,nextTick$1(()=>{~vr.value&&Vr(xe.hoveringIndex)})),Vr=Gn=>{Et.value.scrollToItem(Gn)},Fr=(Gn,nr)=>{const lr=mr(Gn);if(Yn.value.has(lr)){const{option:dr}=Yn.value.get(lr);return dr}if(nr&&nr.length){const dr=nr.find(kr=>mr(he(kr))===lr);if(dr)return dr}return{[le.value.value]:Gn,[le.value.label]:Gn}},Gr=(Gn=!1)=>{if(r.multiple)if(r.modelValue.length>0){const nr=xe.cachedOptions.slice();xe.cachedOptions.length=0,xe.previousValue=r.modelValue.toString();for(const lr of r.modelValue){const dr=Fr(lr,nr);xe.cachedOptions.push(dr)}}else xe.cachedOptions=[],xe.previousValue=void 0;else if(Pn.value){xe.previousValue=r.modelValue;const nr=bn.value,lr=nr.findIndex(dr=>mr(he(dr))===mr(r.modelValue));~lr?xe.selectedLabel=ue(nr[lr]):(!xe.selectedLabel||Gn)&&(xe.selectedLabel=mr(r.modelValue))}else xe.selectedLabel="",xe.previousValue=void 0;kn(),Un()};return watch$1(()=>r.fitInputWidth,()=>{Un()}),watch$1(wn,Gn=>{Gn?(r.persistent||Un(),Kn("")):(xe.inputValue="",xe.previousQuery=null,xe.isBeforeHide=!0,Tr("")),n("visible-change",Gn)}),watch$1(()=>r.modelValue,(Gn,nr)=>{var lr;(!Gn||isArray$5(Gn)&&Gn.length===0||r.multiple&&!isEqual$1(Gn.toString(),xe.previousValue)||!r.multiple&&mr(Gn)!==mr(xe.previousValue))&&Gr(!0),!isEqual$1(Gn,nr)&&r.validateEvent&&((lr=re==null?void 0:re.validate)==null||lr.call(re,"change").catch(kr=>void 0))},{deep:!0}),watch$1(()=>r.options,()=>{const Gn=Ue.value;(!Gn||Gn&&document.activeElement!==Gn)&&Gr()},{deep:!0,flush:"post"}),watch$1(()=>bn.value,()=>(Un(),Et.value&&nextTick$1(Et.value.resetScrollTop))),watchEffect(()=>{xe.isBeforeHide||Hn()}),watchEffect(()=>{const{valueKey:Gn,options:nr}=r,lr=new Map;for(const dr of nr){const kr=he(dr);let Nr=kr;if(isObject$7(Nr)&&(Nr=get$1(kr,Gn)),lr.get(Nr))break;lr.set(Nr,!0)}}),onMounted(()=>{Gr()}),useResizeObserver(Ie,$r),useResizeObserver(Fe,yr),useResizeObserver(Et,Lr),useResizeObserver(vn,Lr),useResizeObserver(Pt,Rr),useResizeObserver(At,wr),{inputId:ae,collapseTagSize:Zn,currentPlaceholder:rr,expanded:wn,emptyText:Bn,popupHeight:xn,debounce:Fn,allOptions:Sn,filteredOptions:bn,iconComponent:Rn,iconReverse:Nn,tagStyle:sr,collapseTagStyle:or,popperSize:Ne,dropdownMenuVisible:hr,hasModelValue:Pn,shouldShowPlaceholder:Qn,selectDisabled:On,selectSize:jn,needStatusIcon:Tn,showClearBtn:An,states:xe,isFocused:jt,nsSelect:y,nsInput:$,inputRef:Ue,menuRef:Et,tagMenuRef:Pt,tooltipRef:Ve,tagTooltipRef:ze,selectRef:Ie,wrapperRef:vn,selectionRef:Fe,prefixRef:qe,suffixRef:kt,collapseItemRef:At,popperRef:cr,validateState:Dn,validateIcon:In,showTagList:br,collapseTagList:pr,debouncedOnInputChange:zn,deleteTag:oa,getLabel:ue,getValue:he,getDisabled:_e,getValueKey:mr,handleClear:da,handleClickOutside:Br,handleDel:ua,handleEsc:Xr,focus:Hr,blur:sa,handleMenuEnter:Mr,handleResize:$r,resetSelectionWidth:yr,updateTooltip:Lr,updateTagTooltip:Rr,updateOptions:Hn,toggleMenu:Ln,scrollTo:Vr,onInput:Er,onKeyboardNavigate:Wn,onKeyboardSelect:ar,onSelect:Ar,onHover:gr,handleCompositionStart:Lt,handleCompositionEnd:hn,handleCompositionUpdate:_n}},_sfc_main$25=defineComponent({name:"ElSelectV2",components:{ElSelectMenu,ElTag,ElTooltip,ElIcon},directives:{ClickOutside},props:SelectProps,emits:selectEmits,setup(r,{emit:n}){const g=computed(()=>{const{modelValue:ae,multiple:le}=r,ue=le?[]:void 0;return isArray$5(ae)?le?ae:ue:le?ue:ae}),y=useSelect$1(reactive({...toRefs(r),modelValue:g}),n),{calculatorRef:$,inputStyle:L}=useCalcInputWidth();provide(selectV2InjectionKey,{props:reactive({...toRefs(r),height:y.popupHeight,modelValue:g}),expanded:y.expanded,tooltipRef:y.tooltipRef,onSelect:y.onSelect,onHover:y.onHover,onKeyboardNavigate:y.onKeyboardNavigate,onKeyboardSelect:y.onKeyboardSelect});const re=computed(()=>r.multiple?y.states.cachedOptions.map(ae=>ae.label):y.states.selectedLabel);return{...y,modelValue:g,selectedLabel:re,calculatorRef:$,inputStyle:L}}});function _sfc_render$k(r,n,g,y,$,L){const re=resolveComponent("el-tag"),ae=resolveComponent("el-tooltip"),le=resolveComponent("el-icon"),ue=resolveComponent("el-select-menu"),he=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([r.nsSelect.b(),r.nsSelect.m(r.selectSize)]),onMouseenter:_e=>r.states.inputHovering=!0,onMouseleave:_e=>r.states.inputHovering=!1},[createVNode$1(ae,{ref:"tooltipRef",visible:r.dropdownMenuVisible,teleported:r.teleported,"popper-class":[r.nsSelect.e("popper"),r.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":r.popperOptions,"fallback-placements":r.fallbackPlacements,effect:r.effect,placement:r.placement,pure:"",transition:`${r.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:r.persistent,"append-to":r.appendTo,"show-arrow":r.showArrow,offset:r.offset,onBeforeShow:r.handleMenuEnter,onHide:_e=>r.states.isBeforeHide=!1},{default:withCtx(()=>[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([r.nsSelect.e("wrapper"),r.nsSelect.is("focused",r.isFocused),r.nsSelect.is("hovering",r.states.inputHovering),r.nsSelect.is("filterable",r.filterable),r.nsSelect.is("disabled",r.selectDisabled)]),onClick:withModifiers(r.toggleMenu,["prevent"])},[r.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(r.nsSelect.e("prefix"))},[renderSlot(r.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([r.nsSelect.e("selection"),r.nsSelect.is("near",r.multiple&&!r.$slots.prefix&&!!r.modelValue.length)])},[r.multiple?renderSlot(r.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.showTagList,_e=>(openBlock(),createElementBlock("div",{key:r.getValueKey(r.getValue(_e)),class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode$1(re,{closable:!r.selectDisabled&&!r.getDisabled(_e),size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",style:normalizeStyle$1(r.tagStyle),onClose:Ce=>r.deleteTag(Ce,_e)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))},[renderSlot(r.$slots,"label",{label:r.getLabel(_e),value:r.getValue(_e)},()=>[createTextVNode(toDisplayString(r.getLabel(_e)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),r.collapseTags&&r.modelValue.length>r.maxCollapseTags?(openBlock(),createBlock(ae,{key:0,ref:"tagTooltipRef",disabled:r.dropdownMenuVisible||!r.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:r.effect,placement:"bottom",teleported:r.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode$1(re,{closable:!1,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,style:normalizeStyle$1(r.collapseTagStyle),"disable-transitions":""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))}," + "+toDisplayString(r.modelValue.length-r.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(r.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.collapseTagList,_e=>(openBlock(),createElementBlock("div",{key:r.getValueKey(r.getValue(_e)),class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode$1(re,{class:"in-tooltip",closable:!r.selectDisabled&&!r.getDisabled(_e),size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",onClose:Ce=>r.deleteTag(Ce,_e)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))},[renderSlot(r.$slots,"label",{label:r.getLabel(_e),value:r.getValue(_e)},()=>[createTextVNode(toDisplayString(r.getLabel(_e)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([r.nsSelect.e("selected-item"),r.nsSelect.e("input-wrapper"),r.nsSelect.is("hidden",!r.filterable)])},[withDirectives(createBaseVNode("input",{id:r.inputId,ref:"inputRef","onUpdate:modelValue":_e=>r.states.inputValue=_e,style:normalizeStyle$1(r.inputStyle),autocomplete:r.autocomplete,tabindex:r.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":r.expanded,"aria-label":r.ariaLabel,class:normalizeClass([r.nsSelect.e("input"),r.nsSelect.is(r.selectSize)]),disabled:r.selectDisabled,role:"combobox",readonly:!r.filterable,spellcheck:"false",type:"text",name:r.name,onInput:r.onInput,onCompositionstart:r.handleCompositionStart,onCompositionupdate:r.handleCompositionUpdate,onCompositionend:r.handleCompositionEnd,onKeydown:[withKeys(withModifiers(_e=>r.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),withKeys(withModifiers(_e=>r.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),withKeys(withModifiers(r.onKeyboardSelect,["stop","prevent"]),["enter"]),withKeys(withModifiers(r.handleEsc,["stop","prevent"]),["esc"]),withKeys(withModifiers(r.handleDel,["stop"]),["delete"])],onClick:withModifiers(r.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[vModelText,r.states.inputValue]]),r.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(r.nsSelect.e("input-calculator")),textContent:toDisplayString(r.states.inputValue)},null,10,["textContent"])):createCommentVNode("v-if",!0)],2),r.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([r.nsSelect.e("selected-item"),r.nsSelect.e("placeholder"),r.nsSelect.is("transparent",!r.hasModelValue||r.expanded&&!r.states.inputValue)])},[r.hasModelValue?renderSlot(r.$slots,"label",{key:0,label:r.currentPlaceholder,value:r.modelValue},()=>[createBaseVNode("span",null,toDisplayString(r.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",{key:1},toDisplayString(r.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(r.nsSelect.e("suffix"))},[r.iconComponent?withDirectives((openBlock(),createBlock(le,{key:0,class:normalizeClass([r.nsSelect.e("caret"),r.nsInput.e("icon"),r.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])),[[vShow,!r.showClearBtn]]):createCommentVNode("v-if",!0),r.showClearBtn&&r.clearIcon?(openBlock(),createBlock(le,{key:1,class:normalizeClass([r.nsSelect.e("caret"),r.nsInput.e("icon"),r.nsSelect.e("clear")]),onClick:withModifiers(r.handleClear,["prevent","stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),r.validateState&&r.validateIcon&&r.needStatusIcon?(openBlock(),createBlock(le,{key:2,class:normalizeClass([r.nsInput.e("icon"),r.nsInput.e("validateIcon"),r.nsInput.is("loading",r.validateState==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],10,["onClick"])]),content:withCtx(()=>[createVNode$1(ue,{ref:"menuRef",data:r.filteredOptions,width:r.popperSize,"hovering-index":r.states.hoveringIndex,"scrollbar-always-on":r.scrollbarAlwaysOn},createSlots({default:withCtx(_e=>[renderSlot(r.$slots,"default",normalizeProps(guardReactiveProps(_e)))]),_:2},[r.$slots.header?{name:"header",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.nsSelect.be("dropdown","header"))},[renderSlot(r.$slots,"header")],2)])}:void 0,r.$slots.loading&&r.loading?{name:"loading",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.nsSelect.be("dropdown","loading"))},[renderSlot(r.$slots,"loading")],2)])}:r.loading||r.filteredOptions.length===0?{name:"empty",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.nsSelect.be("dropdown","empty"))},[renderSlot(r.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(r.emptyText),1)])],2)])}:void 0,r.$slots.footer?{name:"footer",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(r.nsSelect.be("dropdown","footer"))},[renderSlot(r.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[he,r.handleClickOutside,r.popperRef]])}var Select=_export_sfc(_sfc_main$25,[["render",_sfc_render$k],["__file","select.vue"]]);const ElSelectV2=withInstall(Select),skeletonProps=buildProps({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:definePropType([Number,Object])}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),__default__$E=defineComponent({name:"ElSkeletonItem"}),_sfc_main$24=defineComponent({...__default__$E,props:skeletonItemProps,setup(r){const n=useNamespace$1("skeleton");return(g,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).e("item"),unref(n).e(g.variant)])},[g.variant==="image"?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc(_sfc_main$24,[["__file","skeleton-item.vue"]]);const useThrottleRender=(r,n=0)=>{if(n===0)return r;const g=isObject$7(n)&&!!n.initVal,y=ref$1(g);let $=null;const L=ae=>{if(isUndefined(ae)){y.value=r.value;return}$&&clearTimeout($),$=setTimeout(()=>{y.value=r.value},ae)},re=ae=>{ae==="leading"?isNumber$2(n)?L(n):L(n.leading):isObject$7(n)?L(n.trailing):y.value=!1};return onMounted(()=>re("leading")),watch$1(()=>r.value,ae=>{re(ae?"leading":"trailing")}),y},__default__$D=defineComponent({name:"ElSkeleton"}),_sfc_main$23=defineComponent({...__default__$D,props:skeletonProps,setup(r,{expose:n}){const g=r,y=useNamespace$1("skeleton"),$=useThrottleRender(toRef(g,"loading"),g.throttle);return n({uiLoading:$}),(L,re)=>unref($)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(y).b(),unref(y).is("animated",L.animated)]},L.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.count,ae=>(openBlock(),createElementBlock(Fragment,{key:ae},[unref($)?renderSlot(L.$slots,"template",{key:ae},()=>[createVNode$1(SkeletonItem,{class:normalizeClass(unref(y).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(L.rows,le=>(openBlock(),createBlock(SkeletonItem,{key:le,class:normalizeClass([unref(y).e("paragraph"),unref(y).is("last",le===L.rows&&L.rows>1)]),variant:"p"},null,8,["class"]))),128))]):createCommentVNode("v-if",!0)],64))),128))],16)):renderSlot(L.$slots,"default",normalizeProps(mergeProps({key:1},L.$attrs)))}});var Skeleton=_export_sfc(_sfc_main$23,[["__file","skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton,{SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),isValidValue$1=r=>isNumber$2(r)||isArray$5(r)&&r.every(isNumber$2),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:r=>isNumber$2(r)},useTooltip=(r,n,g)=>{const y=ref$1(),$=ref$1(!1),L=computed(()=>n.value instanceof Function),re=computed(()=>L.value&&n.value(r.modelValue)||r.modelValue),ae=debounce$2(()=>{g.value&&($.value=!0)},50),le=debounce$2(()=>{g.value&&($.value=!1)},50);return{tooltip:y,tooltipVisible:$,formatValue:re,displayTooltip:ae,hideTooltip:le}},useSliderButton=(r,n,g)=>{const{disabled:y,min:$,max:L,step:re,showTooltip:ae,precision:le,sliderSize:ue,formatTooltip:he,emitChange:_e,resetSize:Ce,updateDragging:$e}=inject(sliderContextKey),{tooltip:Oe,tooltipVisible:xe,formatValue:Ne,displayTooltip:Ie,hideTooltip:Fe}=useTooltip(r,he,ae),Ve=ref$1(),ze=computed(()=>`${(r.modelValue-$.value)/(L.value-$.value)*100}%`),Ue=computed(()=>r.vertical?{bottom:ze.value}:{left:ze.value}),qe=()=>{n.hovering=!0,Ie()},kt=()=>{n.hovering=!1,n.dragging||Fe()},Et=Tn=>{y.value||(Tn.preventDefault(),Sn(Tn),window.addEventListener("mousemove",bn),window.addEventListener("touchmove",bn),window.addEventListener("mouseup",wn),window.addEventListener("touchend",wn),window.addEventListener("contextmenu",wn),Ve.value.focus())},Pt=Tn=>{y.value||(n.newPosition=Number.parseFloat(ze.value)+Tn/(L.value-$.value)*100,On(n.newPosition),_e())},At=()=>{Pt(-re.value)},Dt=()=>{Pt(re.value)},Lt=()=>{Pt(-re.value*4)},hn=()=>{Pt(re.value*4)},_n=()=>{y.value||(On(0),_e())},vn=()=>{y.value||(On(100),_e())},jt=Tn=>{let xn=!0;switch(Tn.code){case EVENT_CODE.left:case EVENT_CODE.down:At();break;case EVENT_CODE.right:case EVENT_CODE.up:Dt();break;case EVENT_CODE.home:_n();break;case EVENT_CODE.end:vn();break;case EVENT_CODE.pageDown:Lt();break;case EVENT_CODE.pageUp:hn();break;default:xn=!1;break}xn&&Tn.preventDefault()},$n=Tn=>{let xn,Pn;return Tn.type.startsWith("touch")?(Pn=Tn.touches[0].clientY,xn=Tn.touches[0].clientX):(Pn=Tn.clientY,xn=Tn.clientX),{clientX:xn,clientY:Pn}},Sn=Tn=>{n.dragging=!0,n.isClick=!0;const{clientX:xn,clientY:Pn}=$n(Tn);r.vertical?n.startY=Pn:n.startX=xn,n.startPosition=Number.parseFloat(ze.value),n.newPosition=n.startPosition},bn=Tn=>{if(n.dragging){n.isClick=!1,Ie(),Ce();let xn;const{clientX:Pn,clientY:An}=$n(Tn);r.vertical?(n.currentY=An,xn=(n.startY-n.currentY)/ue.value*100):(n.currentX=Pn,xn=(n.currentX-n.startX)/ue.value*100),n.newPosition=n.startPosition+xn,On(n.newPosition)}},wn=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||Fe(),n.isClick||On(n.newPosition),_e()},0),window.removeEventListener("mousemove",bn),window.removeEventListener("touchmove",bn),window.removeEventListener("mouseup",wn),window.removeEventListener("touchend",wn),window.removeEventListener("contextmenu",wn))},On=async Tn=>{if(Tn===null||Number.isNaN(+Tn))return;Tn<0?Tn=0:Tn>100&&(Tn=100);const xn=100/((L.value-$.value)/re.value);let An=Math.round(Tn/xn)*xn*(L.value-$.value)*.01+$.value;An=Number.parseFloat(An.toFixed(le.value)),An!==r.modelValue&&g(UPDATE_MODEL_EVENT,An),!n.dragging&&r.modelValue!==n.oldValue&&(n.oldValue=r.modelValue),await nextTick$1(),n.dragging&&Ie(),Oe.value.updatePopper()};return watch$1(()=>n.dragging,Tn=>{$e(Tn)}),useEventListener(Ve,"touchstart",Et,{passive:!1}),{disabled:y,button:Ve,tooltip:Oe,tooltipVisible:xe,showTooltip:ae,wrapperStyle:Ue,formatValue:Ne,handleMouseEnter:qe,handleMouseLeave:kt,onButtonDown:Et,onKeyDown:jt,setPosition:On}},__default__$C=defineComponent({name:"ElSliderButton"}),_sfc_main$22=defineComponent({...__default__$C,props:sliderButtonProps,emits:sliderButtonEmits,setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("slider"),L=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:y.modelValue}),{disabled:re,button:ae,tooltip:le,showTooltip:ue,tooltipVisible:he,wrapperStyle:_e,formatValue:Ce,handleMouseEnter:$e,handleMouseLeave:Oe,onButtonDown:xe,onKeyDown:Ne,setPosition:Ie}=useSliderButton(y,L,g),{hovering:Fe,dragging:Ve}=toRefs(L);return n({onButtonDown:xe,onKeyDown:Ne,setPosition:Ie,hovering:Fe,dragging:Ve}),(ze,Ue)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:ae,class:normalizeClass([unref($).e("button-wrapper"),{hover:unref(Fe),dragging:unref(Ve)}]),style:normalizeStyle$1(unref(_e)),tabindex:unref(re)?-1:0,onMouseenter:unref($e),onMouseleave:unref(Oe),onMousedown:unref(xe),onFocus:unref($e),onBlur:unref(Oe),onKeydown:unref(Ne)},[createVNode$1(unref(ElTooltip),{ref_key:"tooltip",ref:le,visible:unref(he),placement:ze.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":ze.tooltipClass,disabled:!unref(ue),persistent:unref(ue)},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(Ce)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref($).e("button"),{hover:unref(Fe),dragging:unref(Ve)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var SliderButton=_export_sfc(_sfc_main$22,[["__file","button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(r){const n=useNamespace$1("slider"),g=computed(()=>isString$3(r.mark)?r.mark:r.mark.label),y=computed(()=>isString$3(r.mark)?void 0:r.mark.style);return()=>h$1("div",{class:n.e("marks-text"),style:y.value},g.value)}});const useSlide=(r,n,g)=>{const{form:y,formItem:$}=useFormItem(),L=shallowRef(),re=ref$1(),ae=ref$1(),le={firstButton:re,secondButton:ae},ue=computed(()=>r.disabled||(y==null?void 0:y.disabled)||!1),he=computed(()=>Math.min(n.firstValue,n.secondValue)),_e=computed(()=>Math.max(n.firstValue,n.secondValue)),Ce=computed(()=>r.range?`${100*(_e.value-he.value)/(r.max-r.min)}%`:`${100*(n.firstValue-r.min)/(r.max-r.min)}%`),$e=computed(()=>r.range?`${100*(he.value-r.min)/(r.max-r.min)}%`:"0%"),Oe=computed(()=>r.vertical?{height:r.height}:{}),xe=computed(()=>r.vertical?{height:Ce.value,bottom:$e.value}:{width:Ce.value,left:$e.value}),Ne=()=>{L.value&&(n.sliderSize=L.value[`client${r.vertical?"Height":"Width"}`])},Ie=Lt=>{const hn=r.min+Lt*(r.max-r.min)/100;if(!r.range)return re;let _n;return Math.abs(he.value-hn)<Math.abs(_e.value-hn)?_n=n.firstValue<n.secondValue?"firstButton":"secondButton":_n=n.firstValue>n.secondValue?"firstButton":"secondButton",le[_n]},Fe=Lt=>{const hn=Ie(Lt);return hn.value.setPosition(Lt),hn},Ve=Lt=>{n.firstValue=Lt??r.min,Ue(r.range?[he.value,_e.value]:Lt??r.min)},ze=Lt=>{n.secondValue=Lt,r.range&&Ue([he.value,_e.value])},Ue=Lt=>{g(UPDATE_MODEL_EVENT,Lt),g(INPUT_EVENT,Lt)},qe=async()=>{await nextTick$1(),g(CHANGE_EVENT,r.range?[he.value,_e.value]:r.modelValue)},kt=Lt=>{var hn,_n,vn,jt,$n,Sn;if(ue.value||n.dragging)return;Ne();let bn=0;if(r.vertical){const wn=(vn=(_n=(hn=Lt.touches)==null?void 0:hn.item(0))==null?void 0:_n.clientY)!=null?vn:Lt.clientY;bn=(L.value.getBoundingClientRect().bottom-wn)/n.sliderSize*100}else{const wn=(Sn=($n=(jt=Lt.touches)==null?void 0:jt.item(0))==null?void 0:$n.clientX)!=null?Sn:Lt.clientX,On=L.value.getBoundingClientRect().left;bn=(wn-On)/n.sliderSize*100}if(!(bn<0||bn>100))return Fe(bn)};return{elFormItem:$,slider:L,firstButton:re,secondButton:ae,sliderDisabled:ue,minValue:he,maxValue:_e,runwayStyle:Oe,barStyle:xe,resetSize:Ne,setPosition:Fe,emitChange:qe,onSliderWrapperPrevent:Lt=>{var hn,_n;((hn=le.firstButton.value)!=null&&hn.dragging||(_n=le.secondButton.value)!=null&&_n.dragging)&&Lt.preventDefault()},onSliderClick:Lt=>{kt(Lt)&&qe()},onSliderDown:async Lt=>{const hn=kt(Lt);hn&&(await nextTick$1(),hn.value.onButtonDown(Lt))},onSliderMarkerDown:Lt=>{ue.value||n.dragging||Fe(Lt)},setFirstValue:Ve,setSecondValue:ze}},useStops=(r,n,g,y)=>({stops:computed(()=>{if(!r.showStops||r.min>r.max)return[];if(r.step===0)return[];const re=(r.max-r.min)/r.step,ae=100*r.step/(r.max-r.min),le=Array.from({length:re-1}).map((ue,he)=>(he+1)*ae);return r.range?le.filter(ue=>ue<100*(g.value-r.min)/(r.max-r.min)||ue>100*(y.value-r.min)/(r.max-r.min)):le.filter(ue=>ue>100*(n.firstValue-r.min)/(r.max-r.min))}),getStopStyle:re=>r.vertical?{bottom:`${re}%`}:{left:`${re}%`}}),useMarks=r=>computed(()=>r.marks?Object.keys(r.marks).map(Number.parseFloat).sort((g,y)=>g-y).filter(g=>g<=r.max&&g>=r.min).map(g=>({point:g,position:(g-r.min)*100/(r.max-r.min),mark:r.marks[g]})):[]),useWatch=(r,n,g,y,$,L)=>{const re=ue=>{$(UPDATE_MODEL_EVENT,ue),$(INPUT_EVENT,ue)},ae=()=>r.range?![g.value,y.value].every((ue,he)=>ue===n.oldValue[he]):r.modelValue!==n.oldValue,le=()=>{var ue,he;r.min>r.max&&throwError$1("Slider","min should not be greater than max.");const _e=r.modelValue;r.range&&isArray$5(_e)?_e[1]<r.min?re([r.min,r.min]):_e[0]>r.max?re([r.max,r.max]):_e[0]<r.min?re([r.min,_e[1]]):_e[1]>r.max?re([_e[0],r.max]):(n.firstValue=_e[0],n.secondValue=_e[1],ae()&&(r.validateEvent&&((ue=L==null?void 0:L.validate)==null||ue.call(L,"change").catch(Ce=>void 0)),n.oldValue=_e.slice())):!r.range&&isNumber$2(_e)&&!Number.isNaN(_e)&&(_e<r.min?re(r.min):_e>r.max?re(r.max):(n.firstValue=_e,ae()&&(r.validateEvent&&((he=L==null?void 0:L.validate)==null||he.call(L,"change").catch(Ce=>void 0)),n.oldValue=_e)))};le(),watch$1(()=>n.dragging,ue=>{ue||le()}),watch$1(()=>r.modelValue,(ue,he)=>{n.dragging||isArray$5(ue)&&isArray$5(he)&&ue.every((_e,Ce)=>_e===he[Ce])&&n.firstValue===ue[0]&&n.secondValue===ue[1]||le()},{deep:!0}),watch$1(()=>[r.min,r.max],()=>{le()})},useLifecycle=(r,n,g)=>{const y=ref$1();return onMounted(async()=>{r.range?(isArray$5(r.modelValue)?(n.firstValue=Math.max(r.min,r.modelValue[0]),n.secondValue=Math.min(r.max,r.modelValue[1])):(n.firstValue=r.min,n.secondValue=r.max),n.oldValue=[n.firstValue,n.secondValue]):(!isNumber$2(r.modelValue)||Number.isNaN(r.modelValue)?n.firstValue=r.min:n.firstValue=Math.min(r.max,Math.max(r.min,r.modelValue)),n.oldValue=n.firstValue),useEventListener(window,"resize",g),await nextTick$1(),g()}),{sliderWrapper:y}},__default__$B=defineComponent({name:"ElSlider"}),_sfc_main$21=defineComponent({...__default__$B,props:sliderProps,emits:sliderEmits,setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("slider"),{t:L}=useLocale(),re=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:ae,slider:le,firstButton:ue,secondButton:he,sliderDisabled:_e,minValue:Ce,maxValue:$e,runwayStyle:Oe,barStyle:xe,resetSize:Ne,emitChange:Ie,onSliderWrapperPrevent:Fe,onSliderClick:Ve,onSliderDown:ze,onSliderMarkerDown:Ue,setFirstValue:qe,setSecondValue:kt}=useSlide(y,re,g),{stops:Et,getStopStyle:Pt}=useStops(y,re,Ce,$e),{inputId:At,isLabeledByFormItem:Dt}=useFormItemInputId(y,{formItemContext:ae}),Lt=useFormSize(),hn=computed(()=>y.inputSize||Lt.value),_n=computed(()=>y.ariaLabel||L("el.slider.defaultLabel",{min:y.min,max:y.max})),vn=computed(()=>y.range?y.rangeStartLabel||L("el.slider.defaultRangeStartLabel"):_n.value),jt=computed(()=>y.formatValueText?y.formatValueText(xn.value):`${xn.value}`),$n=computed(()=>y.rangeEndLabel||L("el.slider.defaultRangeEndLabel")),Sn=computed(()=>y.formatValueText?y.formatValueText(Pn.value):`${Pn.value}`),bn=computed(()=>[$.b(),$.m(Lt.value),$.is("vertical",y.vertical),{[$.m("with-input")]:y.showInput}]),wn=useMarks(y);useWatch(y,re,Ce,$e,g,ae);const On=computed(()=>{const Nn=[y.min,y.max,y.step].map(Dn=>{const In=`${Dn}`.split(".")[1];return In?In.length:0});return Math.max.apply(null,Nn)}),{sliderWrapper:Tn}=useLifecycle(y,re,Ne),{firstValue:xn,secondValue:Pn,sliderSize:An}=toRefs(re),Rn=Nn=>{re.dragging=Nn};return useEventListener(Tn,"touchstart",Fe,{passive:!1}),useEventListener(Tn,"touchmove",Fe,{passive:!1}),provide(sliderContextKey,{...toRefs(y),sliderSize:An,disabled:_e,precision:On,emitChange:Ie,resetSize:Ne,updateDragging:Rn}),n({onSliderClick:Ve}),(Nn,Dn)=>{var In,Fn;return openBlock(),createElementBlock("div",{id:Nn.range?unref(At):void 0,ref_key:"sliderWrapper",ref:Tn,class:normalizeClass(unref(bn)),role:Nn.range?"group":void 0,"aria-label":Nn.range&&!unref(Dt)?unref(_n):void 0,"aria-labelledby":Nn.range&&unref(Dt)?(In=unref(ae))==null?void 0:In.labelId:void 0},[createBaseVNode("div",{ref_key:"slider",ref:le,class:normalizeClass([unref($).e("runway"),{"show-input":Nn.showInput&&!Nn.range},unref($).is("disabled",unref(_e))]),style:normalizeStyle$1(unref(Oe)),onMousedown:unref(ze),onTouchstartPassive:unref(ze)},[createBaseVNode("div",{class:normalizeClass(unref($).e("bar")),style:normalizeStyle$1(unref(xe))},null,6),createVNode$1(SliderButton,{id:Nn.range?void 0:unref(At),ref_key:"firstButton",ref:ue,"model-value":unref(xn),vertical:Nn.vertical,"tooltip-class":Nn.tooltipClass,placement:Nn.placement,role:"slider","aria-label":Nn.range||!unref(Dt)?unref(vn):void 0,"aria-labelledby":!Nn.range&&unref(Dt)?(Fn=unref(ae))==null?void 0:Fn.labelId:void 0,"aria-valuemin":Nn.min,"aria-valuemax":Nn.range?unref(Pn):Nn.max,"aria-valuenow":unref(xn),"aria-valuetext":unref(jt),"aria-orientation":Nn.vertical?"vertical":"horizontal","aria-disabled":unref(_e),"onUpdate:modelValue":unref(qe)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Nn.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:he,"model-value":unref(Pn),vertical:Nn.vertical,"tooltip-class":Nn.tooltipClass,placement:Nn.placement,role:"slider","aria-label":unref($n),"aria-valuemin":unref(xn),"aria-valuemax":Nn.max,"aria-valuenow":unref(Pn),"aria-valuetext":unref(Sn),"aria-orientation":Nn.vertical?"vertical":"horizontal","aria-disabled":unref(_e),"onUpdate:modelValue":unref(kt)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),Nn.showStops?(openBlock(),createElementBlock("div",{key:1},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Et),(Bn,Mn)=>(openBlock(),createElementBlock("div",{key:Mn,class:normalizeClass(unref($).e("stop")),style:normalizeStyle$1(unref(Pt)(Bn))},null,6))),128))])):createCommentVNode("v-if",!0),unref(wn).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(wn),(Bn,Mn)=>(openBlock(),createElementBlock("div",{key:Mn,style:normalizeStyle$1(unref(Pt)(Bn.position)),class:normalizeClass([unref($).e("stop"),unref($).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref($).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(wn),(Bn,Mn)=>(openBlock(),createBlock(unref(SliderMarker),{key:Mn,mark:Bn.mark,style:normalizeStyle$1(unref(Pt)(Bn.position)),onMousedown:withModifiers(Hn=>unref(Ue)(Bn.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):createCommentVNode("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),Nn.showInput&&!Nn.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(xn),class:normalizeClass(unref($).e("input")),step:Nn.step,disabled:unref(_e),controls:Nn.showInputControls,min:Nn.min,max:Nn.max,precision:unref(On),debounce:Nn.debounce,size:unref(hn),"onUpdate:modelValue":unref(qe),onChange:unref(Ie)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Slider=_export_sfc(_sfc_main$21,[["__file","slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(r,{slots:n}){const g=useNamespace$1("space"),y=computed(()=>`${r.prefixCls||g.b()}__item`);return()=>h$1("div",{class:y.value},renderSlot(n,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(r){const n=useNamespace$1("space"),g=computed(()=>[n.b(),n.m(r.direction),r.class]),y=ref$1(0),$=ref$1(0),L=computed(()=>{const ae=r.wrap||r.fill?{flexWrap:"wrap"}:{},le={alignItems:r.alignment},ue={rowGap:`${$.value}px`,columnGap:`${y.value}px`};return[ae,le,ue,r.style]}),re=computed(()=>r.fill?{flexGrow:1,minWidth:`${r.fillRatio}%`}:{});return watchEffect(()=>{const{size:ae="small",wrap:le,direction:ue,fill:he}=r;if(isArray$5(ae)){const[_e=0,Ce=0]=ae;y.value=_e,$.value=Ce}else{let _e;isNumber$2(ae)?_e=ae:_e=SIZE_MAP[ae||"small"]||SIZE_MAP.small,(le||he)&&ue==="horizontal"?y.value=$.value=_e:ue==="horizontal"?(y.value=_e,$.value=0):($.value=_e,y.value=0)}}),{classes:g,containerStyle:L,itemStyle:re}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:r=>isVNode(r)||isNumber$2(r)||isString$3(r)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:r=>isNumber$2(r)||isArray$5(r)&&r.length===2&&r.every(isNumber$2)}}),Space=defineComponent({name:"ElSpace",props:spaceProps,setup(r,{slots:n}){const{classes:g,containerStyle:y,itemStyle:$}=useSpace(r);function L(re,ae="",le=[]){const{prefixCls:ue}=r;return re.forEach((he,_e)=>{isFragment(he)?isArray$5(he.children)&&he.children.forEach((Ce,$e)=>{isFragment(Ce)&&isArray$5(Ce.children)?L(Ce.children,`${ae+$e}-`,le):le.push(createVNode$1(SpaceItem,{style:$.value,prefixCls:ue,key:`nested-${ae+$e}`},{default:()=>[Ce]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}):isValidElementNode(he)&&le.push(createVNode$1(SpaceItem,{style:$.value,prefixCls:ue,key:`LoopKey${ae+_e}`},{default:()=>[he]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}),le}return()=>{var re;const{spacer:ae,direction:le}=r,ue=renderSlot(n,"default",{key:0},()=>[]);if(((re=ue.children)!=null?re:[]).length===0)return null;if(isArray$5(ue.children)){let he=L(ue.children);if(ae){const _e=he.length-1;he=he.reduce((Ce,$e,Oe)=>{const xe=[...Ce,$e];return Oe!==_e&&xe.push(createVNode$1("span",{style:[$.value,le==="vertical"?"width: 100%":null],key:Oe},[isVNode(ae)?ae:createTextVNode(ae,PatchFlags.TEXT)],PatchFlags.STYLE)),xe},[])}return createVNode$1("div",{class:g.value,style:y.value},he,PatchFlags.STYLE|PatchFlags.CLASS)}return ue.children}}}),ElSpace=withInstall(Space),statisticProps=buildProps({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:definePropType([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:definePropType([String,Object,Array])}}),__default__$A=defineComponent({name:"ElStatistic"}),_sfc_main$20=defineComponent({...__default__$A,props:statisticProps,setup(r,{expose:n}){const g=r,y=useNamespace$1("statistic"),$=computed(()=>{const{value:L,formatter:re,precision:ae,decimalSeparator:le,groupSeparator:ue}=g;if(isFunction$3(re))return re(L);if(!isNumber$2(L)||Number.isNaN(L))return L;let[he,_e=""]=String(L).split(".");return _e=_e.padEnd(ae,"0").slice(0,ae>0?ae:0),he=he.replace(/\B(?=(\d{3})+(?!\d))/g,ue),[he,_e].join(_e?le:"")});return n({displayValue:$}),(L,re)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).b())},[L.$slots.title||L.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("head"))},[renderSlot(L.$slots,"title",{},()=>[createTextVNode(toDisplayString(L.title),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("content"))},[L.$slots.prefix||L.prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("prefix"))},[renderSlot(L.$slots,"prefix",{},()=>[createBaseVNode("span",null,toDisplayString(L.prefix),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(y).e("number")),style:normalizeStyle$1(L.valueStyle)},toDisplayString(unref($)),7),L.$slots.suffix||L.suffix?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("suffix"))},[renderSlot(L.$slots,"suffix",{},()=>[createBaseVNode("span",null,toDisplayString(L.suffix),1)])],2)):createCommentVNode("v-if",!0)],2)],2))}});var Statistic=_export_sfc(_sfc_main$20,[["__file","statistic.vue"]]);const ElStatistic=withInstall(Statistic),countdownProps=buildProps({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:definePropType([Number,Object]),default:0},valueStyle:{type:definePropType([String,Object,Array])}}),countdownEmits={finish:()=>!0,[CHANGE_EVENT]:r=>isNumber$2(r)},timeUnits$1=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],getTime$1=r=>isNumber$2(r)?new Date(r).getTime():r.valueOf(),formatTime$2=(r,n)=>{let g=r;const y=/\[([^\]]*)]/g;return timeUnits$1.reduce((L,[re,ae])=>{const le=new RegExp(`${re}+(?![^\\[\\]]*\\])`,"g");if(le.test(L)){const ue=Math.floor(g/ae);return g-=ue*ae,L.replace(le,he=>String(ue).padStart(he.length,"0"))}return L},n).replace(y,"$1")},__default__$z=defineComponent({name:"ElCountdown"}),_sfc_main$1$=defineComponent({...__default__$z,props:countdownProps,emits:countdownEmits,setup(r,{expose:n,emit:g}){const y=r;let $;const L=ref$1(0),re=computed(()=>formatTime$2(L.value,y.format)),ae=he=>formatTime$2(he,y.format),le=()=>{$&&(cAF($),$=void 0)},ue=()=>{const he=getTime$1(y.value),_e=()=>{let Ce=he-Date.now();g("change",Ce),Ce<=0?(Ce=0,le(),g("finish")):$=rAF(_e),L.value=Ce};$=rAF(_e)};return onMounted(()=>{L.value=getTime$1(y.value)-Date.now(),watch$1(()=>[y.value,y.format],()=>{le(),ue()},{immediate:!0})}),onBeforeUnmount(()=>{le()}),n({displayValue:re}),(he,_e)=>(openBlock(),createBlock(unref(ElStatistic),{value:L.value,title:he.title,prefix:he.prefix,suffix:he.suffix,"value-style":he.valueStyle,formatter:ae},createSlots({_:2},[renderList(he.$slots,(Ce,$e)=>({name:$e,fn:withCtx(()=>[renderSlot(he.$slots,$e)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Countdown=_export_sfc(_sfc_main$1$,[["__file","countdown.vue"]]);const ElCountdown=withInstall(Countdown),stepsProps=buildProps({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),stepsEmits={[CHANGE_EVENT]:(r,n)=>[r,n].every(isNumber$2)},__default__$y=defineComponent({name:"ElSteps"}),_sfc_main$1_=defineComponent({...__default__$y,props:stepsProps,emits:stepsEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("steps"),{children:$,addChild:L,removeChild:re}=useOrderedChildren(getCurrentInstance(),"ElStep");return watch$1($,()=>{$.value.forEach((ae,le)=>{ae.setIndex(le)})}),provide("ElSteps",{props:g,steps:$,addStep:L,removeStep:re}),watch$1(()=>g.active,(ae,le)=>{n(CHANGE_EVENT,ae,le)}),(ae,le)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref(y).m(ae.simple?"simple":ae.direction)])},[renderSlot(ae.$slots,"default")],2))}});var Steps=_export_sfc(_sfc_main$1_,[["__file","steps.vue"]]);const stepProps=buildProps({title:{type:String,default:""},icon:{type:iconPropType},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),__default__$x=defineComponent({name:"ElStep"}),_sfc_main$1Z=defineComponent({...__default__$x,props:stepProps,setup(r){const n=r,g=useNamespace$1("step"),y=ref$1(-1),$=ref$1({}),L=ref$1(""),re=inject("ElSteps"),ae=getCurrentInstance();onMounted(()=>{watch$1([()=>re.props.active,()=>re.props.processStatus,()=>re.props.finishStatus],([qe])=>{ze(qe)},{immediate:!0})}),onBeforeUnmount(()=>{re.removeStep(Ue.uid)});const le=computed(()=>n.status||L.value),ue=computed(()=>{const qe=re.steps.value[y.value-1];return qe?qe.currentStatus:"wait"}),he=computed(()=>re.props.alignCenter),_e=computed(()=>re.props.direction==="vertical"),Ce=computed(()=>re.props.simple),$e=computed(()=>re.steps.value.length),Oe=computed(()=>{var qe;return((qe=re.steps.value[$e.value-1])==null?void 0:qe.uid)===(ae==null?void 0:ae.uid)}),xe=computed(()=>Ce.value?"":re.props.space),Ne=computed(()=>[g.b(),g.is(Ce.value?"simple":re.props.direction),g.is("flex",Oe.value&&!xe.value&&!he.value),g.is("center",he.value&&!_e.value&&!Ce.value)]),Ie=computed(()=>{const qe={flexBasis:isNumber$2(xe.value)?`${xe.value}px`:xe.value?xe.value:`${100/($e.value-(he.value?0:1))}%`};return _e.value||Oe.value&&(qe.maxWidth=`${100/$e.value}%`),qe}),Fe=qe=>{y.value=qe},Ve=qe=>{const kt=qe==="wait",Et={transitionDelay:`${kt?"-":""}${150*y.value}ms`},Pt=qe===re.props.processStatus||kt?0:100;Et.borderWidth=Pt&&!Ce.value?"1px":0,Et[re.props.direction==="vertical"?"height":"width"]=`${Pt}%`,$.value=Et},ze=qe=>{qe>y.value?L.value=re.props.finishStatus:qe===y.value&&ue.value!=="error"?L.value=re.props.processStatus:L.value="wait";const kt=re.steps.value[y.value-1];kt&&kt.calcProgress(L.value)},Ue=reactive({uid:ae.uid,currentStatus:le,setIndex:Fe,calcProgress:Ve});return re.addStep(Ue),(qe,kt)=>(openBlock(),createElementBlock("div",{style:normalizeStyle$1(unref(Ie)),class:normalizeClass(unref(Ne))},[createCommentVNode(" icon & line "),createBaseVNode("div",{class:normalizeClass([unref(g).e("head"),unref(g).is(unref(le))])},[unref(Ce)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("line"))},[createBaseVNode("i",{class:normalizeClass(unref(g).e("line-inner")),style:normalizeStyle$1($.value)},null,6)],2)),createBaseVNode("div",{class:normalizeClass([unref(g).e("icon"),unref(g).is(qe.icon||qe.$slots.icon?"icon":"text")])},[renderSlot(qe.$slots,"icon",{},()=>[qe.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("icon-inner"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(qe.icon)))]),_:1},8,["class"])):unref(le)==="success"?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(g).e("icon-inner"),unref(g).is("status")])},{default:withCtx(()=>[createVNode$1(unref(check_default))]),_:1},8,["class"])):unref(le)==="error"?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(g).e("icon-inner"),unref(g).is("status")])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"])):unref(Ce)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(unref(g).e("icon-inner"))},toDisplayString(y.value+1),3))])],2)],2),createCommentVNode(" title & description "),createBaseVNode("div",{class:normalizeClass(unref(g).e("main"))},[createBaseVNode("div",{class:normalizeClass([unref(g).e("title"),unref(g).is(unref(le))])},[renderSlot(qe.$slots,"title",{},()=>[createTextVNode(toDisplayString(qe.title),1)])],2),unref(Ce)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("arrow"))},null,2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(g).e("description"),unref(g).is(unref(le))])},[renderSlot(qe.$slots,"description",{},()=>[createTextVNode(toDisplayString(qe.description),1)])],2))],2)],6))}});var Step=_export_sfc(_sfc_main$1Z,[["__file","item.vue"]]);const ElSteps=withInstall(Steps,{Step}),ElStep=withNoopInstall(Step),isValidComponentSize=r=>["",...componentSizes].includes(r),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:r=>isBoolean(r)||isString$3(r)||isNumber$2(r),[CHANGE_EVENT]:r=>isBoolean(r)||isString$3(r)||isNumber$2(r),[INPUT_EVENT]:r=>isBoolean(r)||isString$3(r)||isNumber$2(r)},COMPONENT_NAME$8="ElSwitch",__default__$w=defineComponent({name:COMPONENT_NAME$8}),_sfc_main$1Y=defineComponent({...__default__$w,props:switchProps,emits:switchEmits,setup(r,{expose:n,emit:g}){const y=r,{formItem:$}=useFormItem(),L=useFormSize(),re=useNamespace$1("switch"),{inputId:ae}=useFormItemInputId(y,{formItemContext:$}),le=useFormDisabled(computed(()=>y.loading)),ue=ref$1(y.modelValue!==!1),he=ref$1(),_e=ref$1(),Ce=computed(()=>[re.b(),re.m(L.value),re.is("disabled",le.value),re.is("checked",Ie.value)]),$e=computed(()=>[re.e("label"),re.em("label","left"),re.is("active",!Ie.value)]),Oe=computed(()=>[re.e("label"),re.em("label","right"),re.is("active",Ie.value)]),xe=computed(()=>({width:addUnit(y.width)}));watch$1(()=>y.modelValue,()=>{ue.value=!0});const Ne=computed(()=>ue.value?y.modelValue:!1),Ie=computed(()=>Ne.value===y.activeValue);[y.activeValue,y.inactiveValue].includes(Ne.value)||(g(UPDATE_MODEL_EVENT,y.inactiveValue),g(CHANGE_EVENT,y.inactiveValue),g(INPUT_EVENT,y.inactiveValue)),watch$1(Ie,Ue=>{var qe;he.value.checked=Ue,y.validateEvent&&((qe=$==null?void 0:$.validate)==null||qe.call($,"change").catch(kt=>void 0))});const Fe=()=>{const Ue=Ie.value?y.inactiveValue:y.activeValue;g(UPDATE_MODEL_EVENT,Ue),g(CHANGE_EVENT,Ue),g(INPUT_EVENT,Ue),nextTick$1(()=>{he.value.checked=Ie.value})},Ve=()=>{if(le.value)return;const{beforeChange:Ue}=y;if(!Ue){Fe();return}const qe=Ue();[isPromise(qe),isBoolean(qe)].includes(!0)||throwError$1(COMPONENT_NAME$8,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(qe)?qe.then(Et=>{Et&&Fe()}).catch(Et=>{}):qe&&Fe()},ze=()=>{var Ue,qe;(qe=(Ue=he.value)==null?void 0:Ue.focus)==null||qe.call(Ue)};return onMounted(()=>{he.value.checked=Ie.value}),n({focus:ze,checked:Ie}),(Ue,qe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(Ce)),onClick:withModifiers(Ve,["prevent"])},[createBaseVNode("input",{id:unref(ae),ref_key:"input",ref:he,class:normalizeClass(unref(re).e("input")),type:"checkbox",role:"switch","aria-checked":unref(Ie),"aria-disabled":unref(le),"aria-label":Ue.ariaLabel,name:Ue.name,"true-value":Ue.activeValue,"false-value":Ue.inactiveValue,disabled:unref(le),tabindex:Ue.tabindex,onChange:Fe,onKeydown:withKeys(Ve,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!Ue.inlinePrompt&&(Ue.inactiveIcon||Ue.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref($e))},[Ue.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!Ue.inactiveIcon&&Ue.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(Ie)},toDisplayString(Ue.inactiveText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:_e,class:normalizeClass(unref(re).e("core")),style:normalizeStyle$1(unref(xe))},[Ue.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(re).e("inner"))},[Ue.activeIcon||Ue.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(re).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Ie)?Ue.activeIcon:Ue.inactiveIcon)))]),_:1},8,["class"])):Ue.activeText||Ue.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(re).is("text")),"aria-hidden":!unref(Ie)},toDisplayString(unref(Ie)?Ue.activeText:Ue.inactiveText),11,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(re).e("action"))},[Ue.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(re).is("loading"))},{default:withCtx(()=>[createVNode$1(unref(loading_default))]),_:1},8,["class"])):unref(Ie)?renderSlot(Ue.$slots,"active-action",{key:1},()=>[Ue.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):unref(Ie)?createCommentVNode("v-if",!0):renderSlot(Ue.$slots,"inactive-action",{key:2},()=>[Ue.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!Ue.inlinePrompt&&(Ue.activeIcon||Ue.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(Oe))},[Ue.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ue.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!Ue.activeIcon&&Ue.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(Ie)},toDisplayString(Ue.activeText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],10,["onClick"]))}});var Switch=_export_sfc(_sfc_main$1Y,[["__file","switch.vue"]]);const ElSwitch=withInstall(Switch),getCell=function(r){var n;return(n=r.target)==null?void 0:n.closest("td")},orderBy=function(r,n,g,y,$){if(!n&&!y&&(!$||isArray$5($)&&!$.length))return r;isString$3(g)?g=g==="descending"?-1:1:g=g&&g<0?-1:1;const L=y?null:function(ae,le){return $?(isArray$5($)||($=[$]),$.map(ue=>isString$3(ue)?get$1(ae,ue):ue(ae,le,r))):(n!=="$key"&&isObject$7(ae)&&"$value"in ae&&(ae=ae.$value),[isObject$7(ae)?get$1(ae,n):ae])},re=function(ae,le){if(y)return y(ae.value,le.value);for(let ue=0,he=ae.key.length;ue<he;ue++){if(ae.key[ue]<le.key[ue])return-1;if(ae.key[ue]>le.key[ue])return 1}return 0};return r.map((ae,le)=>({value:ae,index:le,key:L?L(ae,le):null})).sort((ae,le)=>{let ue=re(ae,le);return ue||(ue=ae.index-le.index),ue*+g}).map(ae=>ae.value)},getColumnById=function(r,n){let g=null;return r.columns.forEach(y=>{y.id===n&&(g=y)}),g},getColumnByKey=function(r,n){let g=null;for(let y=0;y<r.columns.length;y++){const $=r.columns[y];if($.columnKey===n){g=$;break}}return g||throwError$1("ElTable",`No column matching with column-key: ${n}`),g},getColumnByCell=function(r,n,g){const y=(n.className||"").match(new RegExp(`${g}-table_[^\\s]+`,"gm"));return y?getColumnById(r,y[0]):null},getRowIdentity=(r,n)=>{if(!r)throw new Error("Row is required when get row identity");if(isString$3(n)){if(!n.includes("."))return`${r[n]}`;const g=n.split(".");let y=r;for(const $ of g)y=y[$];return`${y}`}else if(isFunction$3(n))return n.call(null,r)},getKeysMap=function(r,n){const g={};return(r||[]).forEach((y,$)=>{g[getRowIdentity(y,n)]={row:y,index:$}}),g};function mergeOptions(r,n){const g={};let y;for(y in r)g[y]=r[y];for(y in n)if(hasOwn$1(n,y)){const $=n[y];isUndefined($)||(g[y]=$)}return g}function parseWidth(r){return r===""||isUndefined(r)||(r=Number.parseInt(r,10),Number.isNaN(r)&&(r="")),r}function parseMinWidth(r){return r===""||isUndefined(r)||(r=parseWidth(r),Number.isNaN(r)&&(r=80)),r}function parseHeight(r){return isNumber$2(r)?r:isString$3(r)?/^\d+(?:px)?$/.test(r)?Number.parseInt(r,10):r:null}function compose(...r){return r.length===0?n=>n:r.length===1?r[0]:r.reduce((n,g)=>(...y)=>n(g(...y)))}function toggleRowStatus(r,n,g,y,$,L){let re=L??0,ae=!1;const le=r.indexOf(n),ue=le!==-1,he=$==null?void 0:$.call(null,n,L),_e=$e=>{$e==="add"?r.push(n):r.splice(le,1),ae=!0},Ce=$e=>{let Oe=0;const xe=(y==null?void 0:y.children)&&$e[y.children];return xe&&isArray$5(xe)&&(Oe+=xe.length,xe.forEach(Ne=>{Oe+=Ce(Ne)})),Oe};return(!$||he)&&(isBoolean(g)?g&&!ue?_e("add"):!g&&ue&&_e("remove"):_e(ue?"remove":"add")),!(y!=null&&y.checkStrictly)&&(y!=null&&y.children)&&isArray$5(n[y.children])&&n[y.children].forEach($e=>{toggleRowStatus(r,$e,g??!ue,y,$,re+1),re+=Ce($e)+1}),ae}function walkTreeNode(r,n,g="children",y="hasChildren"){const $=re=>!(isArray$5(re)&&re.length);function L(re,ae,le){n(re,ae,le),ae.forEach(ue=>{if(ue[y]){n(ue,null,le+1);return}const he=ue[g];$(he)||L(ue,he,le+1)})}r.forEach(re=>{if(re[y]){n(re,null,0);return}const ae=re[g];$(ae)||L(re,ae,0)})}const getTableOverflowTooltipProps=(r,n)=>({content:n,...r,popperOptions:{strategy:"fixed",...r.popperOptions}});let removePopper=null;function createTablePopper(r,n,g,y){if((removePopper==null?void 0:removePopper.trigger)===g){merge$2(removePopper.vm.component.props,getTableOverflowTooltipProps(r,n));return}removePopper==null||removePopper();const $=y==null?void 0:y.refs.tableWrapper,L=$==null?void 0:$.dataset.prefix,re=createVNode$1(ElTooltip,{virtualTriggering:!0,virtualRef:g,appendTo:$,placement:"top",transition:"none",offset:0,hideAfter:0,...getTableOverflowTooltipProps(r,n)});re.appContext={...y.appContext,...y};const ae=document.createElement("div");render$4(re,ae),re.component.exposed.onOpen();const le=$==null?void 0:$.querySelector(`.${L}-scrollbar__wrap`);removePopper=()=>{render$4(null,ae),le==null||le.removeEventListener("scroll",removePopper),removePopper=null},removePopper.trigger=g,removePopper.vm=re,le==null||le.addEventListener("scroll",removePopper)}function getCurrentColumns(r){return r.children?flatMap(r.children,getCurrentColumns):[r]}function getColSpan(r,n){return r+n.colSpan}const isFixedColumn=(r,n,g,y)=>{let $=0,L=r;const re=g.states.columns.value;if(y){const le=getCurrentColumns(y[r]);$=re.slice(0,re.indexOf(le[0])).reduce(getColSpan,0),L=$+le.reduce(getColSpan,0)-1}else $=r;let ae;switch(n){case"left":L<g.states.fixedLeafColumnsLength.value&&(ae="left");break;case"right":$>=re.length-g.states.rightFixedLeafColumnsLength.value&&(ae="right");break;default:L<g.states.fixedLeafColumnsLength.value?ae="left":$>=re.length-g.states.rightFixedLeafColumnsLength.value&&(ae="right")}return ae?{direction:ae,start:$,after:L}:{}},getFixedColumnsClass=(r,n,g,y,$,L=0)=>{const re=[],{direction:ae,start:le,after:ue}=isFixedColumn(n,g,y,$);if(ae){const he=ae==="left";re.push(`${r}-fixed-column--${ae}`),he&&ue+L===y.states.fixedLeafColumnsLength.value-1?re.push("is-last-column"):!he&&le-L===y.states.columns.value.length-y.states.rightFixedLeafColumnsLength.value&&re.push("is-first-column")}return re};function getOffset$1(r,n){return r+(isNull(n.realWidth)||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const getFixedColumnOffset=(r,n,g,y)=>{const{direction:$,start:L=0,after:re=0}=isFixedColumn(r,n,g,y);if(!$)return;const ae={},le=$==="left",ue=g.states.columns.value;return le?ae.left=ue.slice(0,L).reduce(getOffset$1,0):ae.right=ue.slice(re+1).reverse().reduce(getOffset$1,0),ae},ensurePosition=(r,n)=>{r&&(Number.isNaN(r[n])||(r[n]=`${r[n]}px`))};function useExpand(r){const n=getCurrentInstance(),g=ref$1(!1),y=ref$1([]);return{updateExpandRows:()=>{const le=r.data.value||[],ue=r.rowKey.value;if(g.value)y.value=le.slice();else if(ue){const he=getKeysMap(y.value,ue);y.value=le.reduce((_e,Ce)=>{const $e=getRowIdentity(Ce,ue);return he[$e]&&_e.push(Ce),_e},[])}else y.value=[]},toggleRowExpansion:(le,ue)=>{toggleRowStatus(y.value,le,ue)&&n.emit("expand-change",le,y.value.slice())},setExpandRowKeys:le=>{n.store.assertRowKey();const ue=r.data.value||[],he=r.rowKey.value,_e=getKeysMap(ue,he);y.value=le.reduce((Ce,$e)=>{const Oe=_e[$e];return Oe&&Ce.push(Oe.row),Ce},[])},isRowExpanded:le=>{const ue=r.rowKey.value;return ue?!!getKeysMap(y.value,ue)[getRowIdentity(le,ue)]:y.value.includes(le)},states:{expandRows:y,defaultExpandAll:g}}}function useCurrent(r){const n=getCurrentInstance(),g=ref$1(null),y=ref$1(null),$=ue=>{n.store.assertRowKey(),g.value=ue,re(ue)},L=()=>{g.value=null},re=ue=>{const{data:he,rowKey:_e}=r;let Ce=null;_e.value&&(Ce=(unref(he)||[]).find($e=>getRowIdentity($e,_e.value)===ue)),y.value=Ce,n.emit("current-change",y.value,null)};return{setCurrentRowKey:$,restoreCurrentRowKey:L,setCurrentRowByKey:re,updateCurrentRow:ue=>{const he=y.value;if(ue&&ue!==he){y.value=ue,n.emit("current-change",y.value,he);return}!ue&&he&&(y.value=null,n.emit("current-change",null,he))},updateCurrentRowData:()=>{const ue=r.rowKey.value,he=r.data.value||[],_e=y.value;if(!he.includes(_e)&&_e){if(ue){const Ce=getRowIdentity(_e,ue);re(Ce)}else y.value=null;isNull(y.value)&&n.emit("current-change",null,_e)}else g.value&&(re(g.value),L())},states:{_currentRowKey:g,currentRow:y}}}function useTree$2(r){const n=ref$1([]),g=ref$1({}),y=ref$1(16),$=ref$1(!1),L=ref$1({}),re=ref$1("hasChildren"),ae=ref$1("children"),le=ref$1(!1),ue=getCurrentInstance(),he=computed(()=>{if(!r.rowKey.value)return{};const Ve=r.data.value||[];return Ce(Ve)}),_e=computed(()=>{const Ve=r.rowKey.value,ze=Object.keys(L.value),Ue={};return ze.length&&ze.forEach(qe=>{if(L.value[qe].length){const kt={children:[]};L.value[qe].forEach(Et=>{const Pt=getRowIdentity(Et,Ve);kt.children.push(Pt),Et[re.value]&&!Ue[Pt]&&(Ue[Pt]={children:[]})}),Ue[qe]=kt}}),Ue}),Ce=Ve=>{const ze=r.rowKey.value,Ue={};return walkTreeNode(Ve,(qe,kt,Et)=>{const Pt=getRowIdentity(qe,ze);isArray$5(kt)?Ue[Pt]={children:kt.map(At=>getRowIdentity(At,ze)),level:Et}:$.value&&(Ue[Pt]={children:[],lazy:!0,level:Et})},ae.value,re.value),Ue},$e=(Ve=!1,ze=(Ue=>(Ue=ue.store)==null?void 0:Ue.states.defaultExpandAll.value)())=>{var Ue;const qe=he.value,kt=_e.value,Et=Object.keys(qe),Pt={};if(Et.length){const At=unref(g),Dt=[],Lt=(_n,vn)=>{if(Ve)return n.value?ze||n.value.includes(vn):!!(ze||_n!=null&&_n.expanded);{const jt=ze||n.value&&n.value.includes(vn);return!!(_n!=null&&_n.expanded||jt)}};Et.forEach(_n=>{const vn=At[_n],jt={...qe[_n]};if(jt.expanded=Lt(vn,_n),jt.lazy){const{loaded:$n=!1,loading:Sn=!1}=vn||{};jt.loaded=!!$n,jt.loading=!!Sn,Dt.push(_n)}Pt[_n]=jt});const hn=Object.keys(kt);$.value&&hn.length&&Dt.length&&hn.forEach(_n=>{const vn=At[_n],jt=kt[_n].children;if(Dt.includes(_n)){if(Pt[_n].children.length!==0)throw new Error("[ElTable]children must be an empty array.");Pt[_n].children=jt}else{const{loaded:$n=!1,loading:Sn=!1}=vn||{};Pt[_n]={lazy:!0,loaded:!!$n,loading:!!Sn,expanded:Lt(vn,_n),children:jt,level:""}}})}g.value=Pt,(Ue=ue.store)==null||Ue.updateTableScrollY()};watch$1(()=>n.value,()=>{$e(!0)}),watch$1(()=>he.value,()=>{$e()}),watch$1(()=>_e.value,()=>{$e()});const Oe=Ve=>{n.value=Ve,$e()},xe=(Ve,ze)=>{ue.store.assertRowKey();const Ue=r.rowKey.value,qe=getRowIdentity(Ve,Ue),kt=qe&&g.value[qe];if(qe&&kt&&"expanded"in kt){const Et=kt.expanded;ze=isUndefined(ze)?!kt.expanded:ze,g.value[qe].expanded=ze,Et!==ze&&ue.emit("expand-change",Ve,ze),ue.store.updateTableScrollY()}},Ne=Ve=>{ue.store.assertRowKey();const ze=r.rowKey.value,Ue=getRowIdentity(Ve,ze),qe=g.value[Ue];$.value&&qe&&"loaded"in qe&&!qe.loaded?Ie(Ve,Ue,qe):xe(Ve,void 0)},Ie=(Ve,ze,Ue)=>{const{load:qe}=ue.props;qe&&!g.value[ze].loaded&&(g.value[ze].loading=!0,qe(Ve,Ue,kt=>{if(!isArray$5(kt))throw new TypeError("[ElTable] data must be an array");g.value[ze].loading=!1,g.value[ze].loaded=!0,g.value[ze].expanded=!0,kt.length&&(L.value[ze]=kt),ue.emit("expand-change",Ve,!0)}))};return{loadData:Ie,loadOrToggle:Ne,toggleTreeExpansion:xe,updateTreeExpandKeys:Oe,updateTreeData:$e,updateKeyChildren:(Ve,ze)=>{const{lazy:Ue,rowKey:qe}=ue.props;if(Ue){if(!qe)throw new Error("[Table] rowKey is required in updateKeyChild");L.value[Ve]&&(L.value[Ve]=ze)}},normalize:Ce,states:{expandRowKeys:n,treeData:g,indent:y,lazy:$,lazyTreeNodeMap:L,lazyColumnIdentifier:re,childrenColumnName:ae,checkStrictly:le}}}const sortData=(r,n)=>{const g=n.sortingColumn;return!g||isString$3(g.sortable)?r:orderBy(r,n.sortProp,n.sortOrder,g.sortMethod,g.sortBy)},doFlattenColumns=r=>{const n=[];return r.forEach(g=>{g.children&&g.children.length>0?n.push.apply(n,doFlattenColumns(g.children)):n.push(g)}),n};function useWatcher$1(){var r;const n=getCurrentInstance(),{size:g}=toRefs((r=n.proxy)==null?void 0:r.$props),y=ref$1(null),$=ref$1([]),L=ref$1([]),re=ref$1(!1),ae=ref$1([]),le=ref$1([]),ue=ref$1([]),he=ref$1([]),_e=ref$1([]),Ce=ref$1([]),$e=ref$1([]),Oe=ref$1([]),xe=[],Ne=ref$1(0),Ie=ref$1(0),Fe=ref$1(0),Ve=ref$1(!1),ze=ref$1([]),Ue=ref$1(!1),qe=ref$1(!1),kt=ref$1(null),Et=ref$1({}),Pt=ref$1(null),At=ref$1(null),Dt=ref$1(null),Lt=ref$1(null),hn=ref$1(null),_n=computed(()=>y.value?getKeysMap(ze.value,y.value):void 0);watch$1($,()=>{var Vn;n.state&&(bn(!1),n.props.tableLayout==="auto"&&((Vn=n.refs.tableHeaderRef)==null||Vn.updateFixedColumnStyle()))},{deep:!0});const vn=()=>{if(!y.value)throw new Error("[ElTable] prop row-key is required")},jt=Vn=>{var kn;(kn=Vn.children)==null||kn.forEach(Ln=>{Ln.fixed=Vn.fixed,jt(Ln)})};let $n;const Sn=()=>{ae.value.forEach(zn=>{jt(zn)}),he.value=ae.value.filter(zn=>zn.fixed===!0||zn.fixed==="left"),_e.value=ae.value.filter(zn=>zn.fixed==="right"),isUndefined($n)&&ae.value[0]&&ae.value[0].type==="selection"&&($n=!!ae.value[0].fixed),he.value.length>0&&ae.value[0]&&ae.value[0].type==="selection"&&(ae.value[0].fixed?he.value.some(Kn=>Kn.type!=="selection")?$n=void 0:(ae.value[0].fixed=$n,$n||he.value.shift()):(ae.value[0].fixed=!0,he.value.unshift(ae.value[0])));const Vn=ae.value.filter(zn=>!zn.fixed);le.value=[].concat(he.value).concat(Vn).concat(_e.value);const kn=doFlattenColumns(Vn),Ln=doFlattenColumns(he.value),En=doFlattenColumns(_e.value);Ne.value=kn.length,Ie.value=Ln.length,Fe.value=En.length,ue.value=[].concat(Ln).concat(kn).concat(En),re.value=he.value.length>0||_e.value.length>0},bn=(Vn,kn=!1)=>{Vn&&Sn(),kn?n.state.doLayout():n.state.debouncedUpdateLayout()},wn=Vn=>_n.value?!!_n.value[getRowIdentity(Vn,y.value)]:ze.value.includes(Vn),On=()=>{Ve.value=!1;const Vn=ze.value;ze.value=[],Vn.length&&n.emit("selection-change",[])},Tn=()=>{let Vn;if(y.value){Vn=[];const kn=getKeysMap($.value,y.value);for(const Ln in _n.value)hasOwn$1(_n.value,Ln)&&!kn[Ln]&&Vn.push(_n.value[Ln].row)}else Vn=ze.value.filter(kn=>!$.value.includes(kn));if(Vn.length){const kn=ze.value.filter(Ln=>!Vn.includes(Ln));ze.value=kn,n.emit("selection-change",kn.slice())}},xn=()=>(ze.value||[]).slice(),Pn=(Vn,kn,Ln=!0,En=!1)=>{var zn,Kn,ir,fr;const Sr={children:(Kn=(zn=n==null?void 0:n.store)==null?void 0:zn.states)==null?void 0:Kn.childrenColumnName.value,checkStrictly:(fr=(ir=n==null?void 0:n.store)==null?void 0:ir.states)==null?void 0:fr.checkStrictly.value};if(toggleRowStatus(ze.value,Vn,kn,Sr,En?void 0:kt.value)){const mr=(ze.value||[]).slice();Ln&&n.emit("select",mr,Vn),n.emit("selection-change",mr)}},An=()=>{var Vn,kn;const Ln=qe.value?!Ve.value:!(Ve.value||ze.value.length);Ve.value=Ln;let En=!1,zn=0;const Kn=(kn=(Vn=n==null?void 0:n.store)==null?void 0:Vn.states)==null?void 0:kn.rowKey.value,{childrenColumnName:ir}=n.store.states,fr={children:ir.value,checkStrictly:!1};$.value.forEach((Sr,Cr)=>{const mr=Cr+zn;toggleRowStatus(ze.value,Sr,Ln,fr,kt.value,mr)&&(En=!0),zn+=Dn(getRowIdentity(Sr,Kn))}),En&&n.emit("selection-change",ze.value?ze.value.slice():[]),n.emit("select-all",(ze.value||[]).slice())},Rn=()=>{$.value.forEach(Vn=>{const kn=getRowIdentity(Vn,y.value),Ln=_n.value[kn];Ln&&(ze.value[Ln.index]=Vn)})},Nn=()=>{var Vn;if(((Vn=$.value)==null?void 0:Vn.length)===0){Ve.value=!1;return}const{childrenColumnName:kn}=n.store.states;let Ln=0,En=0;const zn=ir=>{var fr;for(const Sr of ir){const Cr=kt.value&&kt.value.call(null,Sr,Ln);if(wn(Sr))En++;else if(!kt.value||Cr)return!1;if(Ln++,(fr=Sr[kn.value])!=null&&fr.length&&!zn(Sr[kn.value]))return!1}return!0},Kn=zn($.value||[]);Ve.value=En===0?!1:Kn},Dn=Vn=>{var kn;if(!n||!n.store)return 0;const{treeData:Ln}=n.store.states;let En=0;const zn=(kn=Ln.value[Vn])==null?void 0:kn.children;return zn&&(En+=zn.length,zn.forEach(Kn=>{En+=Dn(Kn)})),En},In=(Vn,kn)=>{isArray$5(Vn)||(Vn=[Vn]);const Ln={};return Vn.forEach(En=>{Et.value[En.id]=kn,Ln[En.columnKey||En.id]=kn}),Ln},Fn=(Vn,kn,Ln)=>{At.value&&At.value!==Vn&&(At.value.order=null),At.value=Vn,Dt.value=kn,Lt.value=Ln},Bn=()=>{let Vn=unref(L);Object.keys(Et.value).forEach(kn=>{const Ln=Et.value[kn];if(!Ln||Ln.length===0)return;const En=getColumnById({columns:ue.value},kn);En&&En.filterMethod&&(Vn=Vn.filter(zn=>Ln.some(Kn=>En.filterMethod.call(null,Kn,zn,En))))}),Pt.value=Vn},Mn=()=>{$.value=sortData(Pt.value,{sortingColumn:At.value,sortProp:Dt.value,sortOrder:Lt.value})},Hn=(Vn=void 0)=>{Vn&&Vn.filter||Bn(),Mn()},Yn=Vn=>{const{tableHeaderRef:kn}=n.refs;if(!kn)return;const Ln=Object.assign({},kn.filterPanels),En=Object.keys(Ln);if(En.length)if(isString$3(Vn)&&(Vn=[Vn]),isArray$5(Vn)){const zn=Vn.map(Kn=>getColumnByKey({columns:ue.value},Kn));En.forEach(Kn=>{const ir=zn.find(fr=>fr.id===Kn);ir&&(ir.filteredValue=[])}),n.store.commit("filterChange",{column:zn,values:[],silent:!0,multi:!0})}else En.forEach(zn=>{const Kn=ue.value.find(ir=>ir.id===zn);Kn&&(Kn.filteredValue=[])}),Et.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},qn=()=>{At.value&&(Fn(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Xn,toggleRowExpansion:jn,updateExpandRows:Zn,states:Un,isRowExpanded:Jn}=useExpand({data:$,rowKey:y}),{updateTreeExpandKeys:tr,toggleTreeExpansion:sr,updateTreeData:or,updateKeyChildren:Qn,loadOrToggle:rr,states:cr}=useTree$2({data:$,rowKey:y}),{updateCurrentRowData:vr,updateCurrentRow:hr,setCurrentRowKey:br,states:pr}=useCurrent({data:$,rowKey:y});return{assertRowKey:vn,updateColumns:Sn,scheduleLayout:bn,isSelected:wn,clearSelection:On,cleanSelection:Tn,getSelectionRows:xn,toggleRowSelection:Pn,_toggleAllSelection:An,toggleAllSelection:null,updateSelectionByRowKey:Rn,updateAllSelected:Nn,updateFilters:In,updateCurrentRow:hr,updateSort:Fn,execFilter:Bn,execSort:Mn,execQuery:Hn,clearFilter:Yn,clearSort:qn,toggleRowExpansion:jn,setExpandRowKeysAdapter:Vn=>{Xn(Vn),tr(Vn)},setCurrentRowKey:br,toggleRowExpansionAdapter:(Vn,kn)=>{ue.value.some(({type:En})=>En==="expand")?jn(Vn,kn):sr(Vn,kn)},isRowExpanded:Jn,updateExpandRows:Zn,updateCurrentRowData:vr,loadOrToggle:rr,updateTreeData:or,updateKeyChildren:Qn,states:{tableSize:g,rowKey:y,data:$,_data:L,isComplex:re,_columns:ae,originColumns:le,columns:ue,fixedColumns:he,rightFixedColumns:_e,leafColumns:Ce,fixedLeafColumns:$e,rightFixedLeafColumns:Oe,updateOrderFns:xe,leafColumnsLength:Ne,fixedLeafColumnsLength:Ie,rightFixedLeafColumnsLength:Fe,isAllSelected:Ve,selection:ze,reserveSelection:Ue,selectOnIndeterminate:qe,selectable:kt,filters:Et,filteredData:Pt,sortingColumn:At,sortProp:Dt,sortOrder:Lt,hoverRow:hn,...Un,...cr,...pr}}}function replaceColumn(r,n){return r.map(g=>{var y;return g.id===n.id?n:((y=g.children)!=null&&y.length&&(g.children=replaceColumn(g.children,n)),g)})}function sortColumn(r){r.forEach(n=>{var g,y;n.no=(g=n.getColumnIndex)==null?void 0:g.call(n),(y=n.children)!=null&&y.length&&sortColumn(n.children)}),r.sort((n,g)=>n.no-g.no)}function useStore(){const r=getCurrentInstance(),n=useWatcher$1();return{ns:useNamespace$1("table"),...n,mutations:{setData(re,ae){const le=unref(re._data)!==ae;re.data.value=ae,re._data.value=ae,r.store.execQuery(),r.store.updateCurrentRowData(),r.store.updateExpandRows(),r.store.updateTreeData(r.store.states.defaultExpandAll.value),unref(re.reserveSelection)?(r.store.assertRowKey(),r.store.updateSelectionByRowKey()):le?r.store.clearSelection():r.store.cleanSelection(),r.store.updateAllSelected(),r.$ready&&r.store.scheduleLayout()},insertColumn(re,ae,le,ue){const he=unref(re._columns);let _e=[];le?(le&&!le.children&&(le.children=[]),le.children.push(ae),_e=replaceColumn(he,le)):(he.push(ae),_e=he),sortColumn(_e),re._columns.value=_e,re.updateOrderFns.push(ue),ae.type==="selection"&&(re.selectable.value=ae.selectable,re.reserveSelection.value=ae.reserveSelection),r.$ready&&(r.store.updateColumns(),r.store.scheduleLayout())},updateColumnOrder(re,ae){var le;((le=ae.getColumnIndex)==null?void 0:le.call(ae))!==ae.no&&(sortColumn(re._columns.value),r.$ready&&r.store.updateColumns())},removeColumn(re,ae,le,ue){const he=unref(re._columns)||[];if(le)le.children.splice(le.children.findIndex(Ce=>Ce.id===ae.id),1),nextTick$1(()=>{var Ce;((Ce=le.children)==null?void 0:Ce.length)===0&&delete le.children}),re._columns.value=replaceColumn(he,le);else{const Ce=he.indexOf(ae);Ce>-1&&(he.splice(Ce,1),re._columns.value=he)}const _e=re.updateOrderFns.indexOf(ue);_e>-1&&re.updateOrderFns.splice(_e,1),r.$ready&&(r.store.updateColumns(),r.store.scheduleLayout())},sort(re,ae){const{prop:le,order:ue,init:he}=ae;if(le){const _e=unref(re.columns).find(Ce=>Ce.property===le);_e&&(_e.order=ue,r.store.updateSort(_e,le,ue),r.store.commit("changeSortCondition",{init:he}))}},changeSortCondition(re,ae){const{sortingColumn:le,sortProp:ue,sortOrder:he}=re,_e=unref(le),Ce=unref(ue),$e=unref(he);isNull($e)&&(re.sortingColumn.value=null,re.sortProp.value=null);const Oe={filter:!0};r.store.execQuery(Oe),(!ae||!(ae.silent||ae.init))&&r.emit("sort-change",{column:_e,prop:Ce,order:$e}),r.store.updateTableScrollY()},filterChange(re,ae){const{column:le,values:ue,silent:he}=ae,_e=r.store.updateFilters(le,ue);r.store.execQuery(),he||r.emit("filter-change",_e),r.store.updateTableScrollY()},toggleAllSelection(){r.store.toggleAllSelection()},rowSelectedChanged(re,ae){r.store.toggleRowSelection(ae),r.store.updateAllSelected()},setHoverRow(re,ae){re.hoverRow.value=ae},setCurrentRow(re,ae){r.store.updateCurrentRow(ae)}},commit:function(re,...ae){const le=r.store.mutations;if(le[re])le[re].apply(r,[r.store.states].concat(ae));else throw new Error(`Action not found: ${re}`)},updateTableScrollY:function(){nextTick$1(()=>r.layout.updateScrollY.apply(r.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function createStore(r,n){if(!r)throw new Error("Table is required.");const g=useStore();return g.toggleAllSelection=debounce$2(g._toggleAllSelection,10),Object.keys(InitialStateMap).forEach(y=>{handleValue(getArrKeysValue(n,y),y,g)}),proxyTableProps(g,n),g}function proxyTableProps(r,n){Object.keys(InitialStateMap).forEach(g=>{watch$1(()=>getArrKeysValue(n,g),y=>{handleValue(y,g,r)})})}function handleValue(r,n,g){let y=r,$=InitialStateMap[n];isObject$7(InitialStateMap[n])&&($=$.key,y=y||InitialStateMap[n].default),g.states[$].value=y}function getArrKeysValue(r,n){if(n.includes(".")){const g=n.split(".");let y=r;return g.forEach($=>{y=y[$]}),y}else return r[n]}class TableLayout{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref$1(null),this.scrollX=ref$1(!1),this.scrollY=ref$1(!1),this.bodyWidth=ref$1(null),this.fixedWidth=ref$1(null),this.rightFixedWidth=ref$1(null),this.gutterWidth=0;for(const g in n)hasOwn$1(n,g)&&(isRef(this[g])?this[g].value=n[g]:this[g]=n[g]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const n=this.height.value;if(isNull(n))return!1;const g=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(g!=null&&g.wrapRef)){let y=!0;const $=this.scrollY.value;return y=g.wrapRef.scrollHeight>g.wrapRef.clientHeight,this.scrollY.value=y,$!==y}return!1}setHeight(n,g="height"){if(!isClient)return;const y=this.table.vnode.el;if(n=parseHeight(n),this.height.value=Number(n),!y&&(n||n===0))return nextTick$1(()=>this.setHeight(n,g));isNumber$2(n)?(y.style[g]=`${n}px`,this.updateElsHeight()):isString$3(n)&&(y.style[g]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(y=>{y.isColumnGroup?n.push.apply(n,y.columns):n.push(y)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let g=n;for(;g.tagName!=="DIV";){if(getComputedStyle(g).display==="none")return!0;g=g.parentElement}return!1}updateColumnsWidth(){if(!isClient)return;const n=this.fit,g=this.table.vnode.el.clientWidth;let y=0;const $=this.getFlattenColumns(),L=$.filter(le=>!isNumber$2(le.width));if($.forEach(le=>{isNumber$2(le.width)&&le.realWidth&&(le.realWidth=null)}),L.length>0&&n){if($.forEach(le=>{y+=Number(le.width||le.minWidth||80)}),y<=g){this.scrollX.value=!1;const le=g-y;if(L.length===1)L[0].realWidth=Number(L[0].minWidth||80)+le;else{const ue=L.reduce((Ce,$e)=>Ce+Number($e.minWidth||80),0),he=le/ue;let _e=0;L.forEach((Ce,$e)=>{if($e===0)return;const Oe=Math.floor(Number(Ce.minWidth||80)*he);_e+=Oe,Ce.realWidth=Number(Ce.minWidth||80)+Oe}),L[0].realWidth=Number(L[0].minWidth||80)+le-_e}}else this.scrollX.value=!0,L.forEach(le=>{le.realWidth=Number(le.minWidth)});this.bodyWidth.value=Math.max(y,g),this.table.state.resizeState.value.width=this.bodyWidth.value}else $.forEach(le=>{!le.width&&!le.minWidth?le.realWidth=80:le.realWidth=Number(le.width||le.minWidth),y+=le.realWidth}),this.scrollX.value=y>g,this.bodyWidth.value=y;const re=this.store.states.fixedColumns.value;if(re.length>0){let le=0;re.forEach(ue=>{le+=Number(ue.realWidth||ue.width)}),this.fixedWidth.value=le}const ae=this.store.states.rightFixedColumns.value;if(ae.length>0){let le=0;ae.forEach(ue=>{le+=Number(ue.realWidth||ue.width)}),this.rightFixedWidth.value=le}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const g=this.observers.indexOf(n);g!==-1&&this.observers.splice(g,1)}notifyObservers(n){this.observers.forEach(y=>{var $,L;switch(n){case"columns":($=y.state)==null||$.onColumnsChange(this);break;case"scrollable":(L=y.state)==null||L.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$1X=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(r){const n=getCurrentInstance(),{t:g}=useLocale(),y=useNamespace$1("table-filter"),$=n==null?void 0:n.parent;$.filterPanels.value[r.column.id]||($.filterPanels.value[r.column.id]=n);const L=ref$1(!1),re=ref$1(null),ae=computed(()=>r.column&&r.column.filters),le=computed(()=>r.column.filterClassName?`${y.b()} ${r.column.filterClassName}`:y.b()),ue=computed({get:()=>{var Ue;return(((Ue=r.column)==null?void 0:Ue.filteredValue)||[])[0]},set:Ue=>{he.value&&(isPropAbsent(Ue)?he.value.splice(0,1):he.value.splice(0,1,Ue))}}),he=computed({get(){return r.column?r.column.filteredValue||[]:[]},set(Ue){r.column&&r.upDataColumn("filteredValue",Ue)}}),_e=computed(()=>r.column?r.column.filterMultiple:!0),Ce=Ue=>Ue.value===ue.value,$e=()=>{L.value=!1},Oe=Ue=>{Ue.stopPropagation(),L.value=!L.value},xe=()=>{L.value=!1},Ne=()=>{Ve(he.value),$e()},Ie=()=>{he.value=[],Ve(he.value),$e()},Fe=Ue=>{ue.value=Ue,isPropAbsent(Ue)?Ve([]):Ve(he.value),$e()},Ve=Ue=>{r.store.commit("filterChange",{column:r.column,values:Ue}),r.store.updateAllSelected()};watch$1(L,Ue=>{r.column&&r.upDataColumn("filterOpened",Ue)},{immediate:!0});const ze=computed(()=>{var Ue,qe;return(qe=(Ue=re.value)==null?void 0:Ue.popperRef)==null?void 0:qe.contentRef});return{tooltipVisible:L,multiple:_e,filterClassName:le,filteredValue:he,filterValue:ue,filters:ae,handleConfirm:Ne,handleReset:Ie,handleSelect:Fe,isPropAbsent,isActive:Ce,t:g,ns:y,showFilterPanel:Oe,hideFilterPanel:xe,popperPaneRef:ze,tooltip:re}}});function _sfc_render$j(r,n,g,y,$,L){const re=resolveComponent("el-checkbox"),ae=resolveComponent("el-checkbox-group"),le=resolveComponent("el-scrollbar"),ue=resolveComponent("arrow-up"),he=resolveComponent("arrow-down"),_e=resolveComponent("el-icon"),Ce=resolveComponent("el-tooltip"),$e=resolveDirective("click-outside");return openBlock(),createBlock(Ce,{ref:"tooltip",visible:r.tooltipVisible,offset:0,placement:r.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":r.filterClassName,persistent:"","append-to":r.appendTo},{content:withCtx(()=>[r.multiple?(openBlock(),createElementBlock("div",{key:0},[createBaseVNode("div",{class:normalizeClass(r.ns.e("content"))},[createVNode$1(le,{"wrap-class":r.ns.e("wrap")},{default:withCtx(()=>[createVNode$1(ae,{modelValue:r.filteredValue,"onUpdate:modelValue":Oe=>r.filteredValue=Oe,class:normalizeClass(r.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filters,Oe=>(openBlock(),createBlock(re,{key:Oe.value,value:Oe.value},{default:withCtx(()=>[createTextVNode(toDisplayString(Oe.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(r.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[r.ns.is("disabled")]:r.filteredValue.length===0}),disabled:r.filteredValue.length===0,type:"button",onClick:r.handleConfirm},toDisplayString(r.t("el.table.confirmFilter")),11,["disabled","onClick"]),createBaseVNode("button",{type:"button",onClick:r.handleReset},toDisplayString(r.t("el.table.resetFilter")),9,["onClick"])],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(r.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([r.ns.e("list-item"),{[r.ns.is("active")]:r.isPropAbsent(r.filterValue)}]),onClick:Oe=>r.handleSelect(null)},toDisplayString(r.t("el.table.clearFilter")),11,["onClick"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.filters,Oe=>(openBlock(),createElementBlock("li",{key:Oe.value,class:normalizeClass([r.ns.e("list-item"),r.ns.is("active",r.isActive(Oe))]),label:Oe.value,onClick:xe=>r.handleSelect(Oe.value)},toDisplayString(Oe.text),11,["label","onClick"]))),128))],2))]),default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${r.ns.namespace.value}-table__column-filter-trigger`,`${r.ns.namespace.value}-none-outline`]),onClick:r.showFilterPanel},[createVNode$1(_e,null,{default:withCtx(()=>[renderSlot(r.$slots,"filter-icon",{},()=>[r.column.filterOpened?(openBlock(),createBlock(ue,{key:0})):(openBlock(),createBlock(he,{key:1}))])]),_:3})],10,["onClick"])),[[$e,r.hideFilterPanel,r.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var FilterPanel=_export_sfc(_sfc_main$1X,[["render",_sfc_render$j],["__file","filter-panel.vue"]]);function useLayoutObserver(r){const n=getCurrentInstance();onBeforeMount(()=>{g.value.addObserver(n)}),onMounted(()=>{y(g.value),$(g.value)}),onUpdated(()=>{y(g.value),$(g.value)}),onUnmounted(()=>{g.value.removeObserver(n)});const g=computed(()=>{const L=r.layout;if(!L)throw new Error("Can not find table layout.");return L}),y=L=>{var re;const ae=((re=r.vnode.el)==null?void 0:re.querySelectorAll("colgroup > col"))||[];if(!ae.length)return;const le=L.getFlattenColumns(),ue={};le.forEach(he=>{ue[he.id]=he});for(let he=0,_e=ae.length;he<_e;he++){const Ce=ae[he],$e=Ce.getAttribute("name"),Oe=ue[$e];Oe&&Ce.setAttribute("width",Oe.realWidth||Oe.width)}},$=L=>{var re,ae;const le=((re=r.vnode.el)==null?void 0:re.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let he=0,_e=le.length;he<_e;he++)le[he].setAttribute("width",L.scrollY.value?L.gutterWidth:"0");const ue=((ae=r.vnode.el)==null?void 0:ae.querySelectorAll("th.gutter"))||[];for(let he=0,_e=ue.length;he<_e;he++){const Ce=ue[he];Ce.style.width=L.scrollY.value?`${L.gutterWidth}px`:"0",Ce.style.display=L.scrollY.value?"":"none"}};return{tableLayout:g.value,onColumnsChange:y,onScrollableChange:$}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(r,n){const g=getCurrentInstance(),y=inject(TABLE_INJECTION_KEY),$=xe=>{xe.stopPropagation()},L=(xe,Ne)=>{!Ne.filters&&Ne.sortable?Oe(xe,Ne,!1):Ne.filterable&&!Ne.sortable&&$(xe),y==null||y.emit("header-click",Ne,xe)},re=(xe,Ne)=>{y==null||y.emit("header-contextmenu",Ne,xe)},ae=ref$1(null),le=ref$1(!1),ue=ref$1({}),he=(xe,Ne)=>{if(isClient&&!(Ne.children&&Ne.children.length>0)&&ae.value&&r.border){le.value=!0;const Ie=y;n("set-drag-visible",!0);const Ve=(Ie==null?void 0:Ie.vnode.el).getBoundingClientRect().left,ze=g.vnode.el.querySelector(`th.${Ne.id}`),Ue=ze.getBoundingClientRect(),qe=Ue.left-Ve+30;addClass(ze,"noclick"),ue.value={startMouseLeft:xe.clientX,startLeft:Ue.right-Ve,startColumnLeft:Ue.left-Ve,tableLeft:Ve};const kt=Ie==null?void 0:Ie.refs.resizeProxy;kt.style.left=`${ue.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Et=At=>{const Dt=At.clientX-ue.value.startMouseLeft,Lt=ue.value.startLeft+Dt;kt.style.left=`${Math.max(qe,Lt)}px`},Pt=()=>{if(le.value){const{startColumnLeft:At,startLeft:Dt}=ue.value,hn=Number.parseInt(kt.style.left,10)-At;Ne.width=Ne.realWidth=hn,Ie==null||Ie.emit("header-dragend",Ne.width,Dt-At,Ne,xe),requestAnimationFrame(()=>{r.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",le.value=!1,ae.value=null,ue.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",Et),document.removeEventListener("mouseup",Pt),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass(ze,"noclick")},0)};document.addEventListener("mousemove",Et),document.addEventListener("mouseup",Pt)}},_e=(xe,Ne)=>{var Ie;if(Ne.children&&Ne.children.length>0)return;const Fe=xe.target;if(!isElement$3(Fe))return;const Ve=Fe==null?void 0:Fe.closest("th");if(!(!Ne||!Ne.resizable||!Ve)&&!le.value&&r.border){const ze=Ve.getBoundingClientRect(),Ue=document.body.style,qe=((Ie=Ve.parentNode)==null?void 0:Ie.lastElementChild)===Ve,kt=r.allowDragLastColumn||!qe;ze.width>12&&ze.right-xe.pageX<8&&kt?(Ue.cursor="col-resize",hasClass(Ve,"is-sortable")&&(Ve.style.cursor="col-resize"),ae.value=Ne):le.value||(Ue.cursor="",hasClass(Ve,"is-sortable")&&(Ve.style.cursor="pointer"),ae.value=null)}},Ce=()=>{isClient&&(document.body.style.cursor="")},$e=({order:xe,sortOrders:Ne})=>{if(xe==="")return Ne[0];const Ie=Ne.indexOf(xe||null);return Ne[Ie>Ne.length-2?0:Ie+1]},Oe=(xe,Ne,Ie)=>{var Fe;xe.stopPropagation();const Ve=Ne.order===Ie?null:Ie||$e(Ne),ze=(Fe=xe.target)==null?void 0:Fe.closest("th");if(ze&&hasClass(ze,"noclick")){removeClass(ze,"noclick");return}if(!Ne.sortable)return;const Ue=xe.currentTarget;if(["ascending","descending"].some(At=>hasClass(Ue,At)&&!Ne.sortOrders.includes(At)))return;const qe=r.store.states;let kt=qe.sortProp.value,Et;const Pt=qe.sortingColumn.value;(Pt!==Ne||Pt===Ne&&isNull(Pt.order))&&(Pt&&(Pt.order=null),qe.sortingColumn.value=Ne,kt=Ne.property),Ve?Et=Ne.order=Ve:Et=Ne.order=null,qe.sortProp.value=kt,qe.sortOrder.value=Et,y==null||y.store.commit("changeSortCondition")};return{handleHeaderClick:L,handleHeaderContextMenu:re,handleMouseDown:he,handleMouseMove:_e,handleMouseOut:Ce,handleSortClick:Oe,handleFilterClick:$}}function useStyle$2(r){const n=inject(TABLE_INJECTION_KEY),g=useNamespace$1("table");return{getHeaderRowStyle:ae=>{const le=n==null?void 0:n.props.headerRowStyle;return isFunction$3(le)?le.call(null,{rowIndex:ae}):le},getHeaderRowClass:ae=>{const le=[],ue=n==null?void 0:n.props.headerRowClassName;return isString$3(ue)?le.push(ue):isFunction$3(ue)&&le.push(ue.call(null,{rowIndex:ae})),le.join(" ")},getHeaderCellStyle:(ae,le,ue,he)=>{var _e;let Ce=(_e=n==null?void 0:n.props.headerCellStyle)!=null?_e:{};isFunction$3(Ce)&&(Ce=Ce.call(null,{rowIndex:ae,columnIndex:le,row:ue,column:he}));const $e=getFixedColumnOffset(le,he.fixed,r.store,ue);return ensurePosition($e,"left"),ensurePosition($e,"right"),Object.assign({},Ce,$e)},getHeaderCellClass:(ae,le,ue,he)=>{const _e=getFixedColumnsClass(g.b(),le,he.fixed,r.store,ue),Ce=[he.id,he.order,he.headerAlign,he.className,he.labelClassName,..._e];he.children||Ce.push("is-leaf"),he.sortable&&Ce.push("is-sortable");const $e=n==null?void 0:n.props.headerCellClassName;return isString$3($e)?Ce.push($e):isFunction$3($e)&&Ce.push($e.call(null,{rowIndex:ae,columnIndex:le,row:ue,column:he})),Ce.push(g.e("cell")),Ce.filter(Oe=>!!Oe).join(" ")}}}const getAllColumns=r=>{const n=[];return r.forEach(g=>{g.children?(n.push(g),n.push.apply(n,getAllColumns(g.children))):n.push(g)}),n},convertToRows=r=>{let n=1;const g=(L,re)=>{if(re&&(L.level=re.level+1,n<L.level&&(n=L.level)),L.children){let ae=0;L.children.forEach(le=>{g(le,L),ae+=le.colSpan}),L.colSpan=ae}else L.colSpan=1};r.forEach(L=>{L.level=1,g(L,void 0)});const y=[];for(let L=0;L<n;L++)y.push([]);return getAllColumns(r).forEach(L=>{L.children?(L.rowSpan=1,L.children.forEach(re=>re.isSubColumn=!0)):L.rowSpan=n-L.level+1,y[L.level-1].push(L)}),y};function useUtils$1(r){const n=inject(TABLE_INJECTION_KEY),g=computed(()=>convertToRows(r.store.states.originColumns.value));return{isGroup:computed(()=>{const L=g.value.length>1;return L&&n&&(n.state.isGroup.value=!0),L}),toggleAllSelection:L=>{L.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:g}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(r,{emit:n}){const g=getCurrentInstance(),y=inject(TABLE_INJECTION_KEY),$=useNamespace$1("table"),L=ref$1({}),{onColumnsChange:re,onScrollableChange:ae}=useLayoutObserver(y),le=(y==null?void 0:y.props.tableLayout)==="auto",ue=reactive(new Map),he=ref$1(),_e=()=>{setTimeout(()=>{ue.size>0&&(ue.forEach((At,Dt)=>{const Lt=he.value.querySelector(`.${Dt.replace(/\s/g,".")}`);if(Lt){const hn=Lt.getBoundingClientRect().width;At.width=hn}}),ue.clear())})};watch$1(ue,_e),onMounted(async()=>{await nextTick$1(),await nextTick$1();const{prop:At,order:Dt}=r.defaultSort;y==null||y.store.commit("sort",{prop:At,order:Dt,init:!0}),_e()});const{handleHeaderClick:Ce,handleHeaderContextMenu:$e,handleMouseDown:Oe,handleMouseMove:xe,handleMouseOut:Ne,handleSortClick:Ie,handleFilterClick:Fe}=useEvent(r,n),{getHeaderRowStyle:Ve,getHeaderRowClass:ze,getHeaderCellStyle:Ue,getHeaderCellClass:qe}=useStyle$2(r),{isGroup:kt,toggleAllSelection:Et,columnRows:Pt}=useUtils$1(r);return g.state={onColumnsChange:re,onScrollableChange:ae},g.filterPanels=L,{ns:$,filterPanels:L,onColumnsChange:re,onScrollableChange:ae,columnRows:Pt,getHeaderRowClass:ze,getHeaderRowStyle:Ve,getHeaderCellClass:qe,getHeaderCellStyle:Ue,handleHeaderClick:Ce,handleHeaderContextMenu:$e,handleMouseDown:Oe,handleMouseMove:xe,handleMouseOut:Ne,handleSortClick:Ie,handleFilterClick:Fe,isGroup:kt,toggleAllSelection:Et,saveIndexSelection:ue,isTableLayoutAuto:le,theadRef:he,updateFixedColumnStyle:_e}},render(){const{ns:r,isGroup:n,columnRows:g,getHeaderCellStyle:y,getHeaderCellClass:$,getHeaderRowClass:L,getHeaderRowStyle:re,handleHeaderClick:ae,handleHeaderContextMenu:le,handleMouseDown:ue,handleMouseMove:he,handleSortClick:_e,handleMouseOut:Ce,store:$e,$parent:Oe,saveIndexSelection:xe,isTableLayoutAuto:Ne}=this;let Ie=1;return h$1("thead",{ref:"theadRef",class:{[r.is("group")]:n}},g.map((Fe,Ve)=>h$1("tr",{class:L(Ve),key:Ve,style:re(Ve)},Fe.map((ze,Ue)=>{ze.rowSpan>Ie&&(Ie=ze.rowSpan);const qe=$(Ve,Ue,Fe,ze);return Ne&&ze.fixed&&xe.set(qe,ze),h$1("th",{class:qe,colspan:ze.colSpan,key:`${ze.id}-thead`,rowspan:ze.rowSpan,style:y(Ve,Ue,Fe,ze),onClick:kt=>{kt.currentTarget.classList.contains("noclick")||ae(kt,ze)},onContextmenu:kt=>le(kt,ze),onMousedown:kt=>ue(kt,ze),onMousemove:kt=>he(kt,ze),onMouseout:Ce},[h$1("div",{class:["cell",ze.filteredValue&&ze.filteredValue.length>0?"highlight":""]},[ze.renderHeader?ze.renderHeader({column:ze,$index:Ue,store:$e,_self:Oe}):ze.label,ze.sortable&&h$1("span",{onClick:kt=>_e(kt,ze),class:"caret-wrapper"},[h$1("i",{onClick:kt=>_e(kt,ze,"ascending"),class:"sort-caret ascending"}),h$1("i",{onClick:kt=>_e(kt,ze,"descending"),class:"sort-caret descending"})]),ze.filterable&&h$1(FilterPanel,{store:$e,placement:ze.filterPlacement||"bottom-start",appendTo:Oe.appendFilterPanelTo,column:ze,upDataColumn:(kt,Et)=>{ze[kt]=Et}},{"filter-icon":()=>ze.renderFilterIcon?ze.renderFilterIcon({filterOpened:ze.filterOpened}):null})])])}))))}});function isGreaterThan(r,n,g=.03){return r-n>g}function useEvents(r){const n=inject(TABLE_INJECTION_KEY),g=ref$1(""),y=ref$1(h$1("div")),$=(Oe,xe,Ne)=>{var Ie;const Fe=n,Ve=getCell(Oe);let ze;const Ue=(Ie=Fe==null?void 0:Fe.vnode.el)==null?void 0:Ie.dataset.prefix;Ve&&(ze=getColumnByCell({columns:r.store.states.columns.value},Ve,Ue),ze&&(Fe==null||Fe.emit(`cell-${Ne}`,xe,ze,Ve,Oe))),Fe==null||Fe.emit(`row-${Ne}`,xe,ze,Oe)},L=(Oe,xe)=>{$(Oe,xe,"dblclick")},re=(Oe,xe)=>{r.store.commit("setCurrentRow",xe),$(Oe,xe,"click")},ae=(Oe,xe)=>{$(Oe,xe,"contextmenu")},le=debounce$2(Oe=>{r.store.commit("setHoverRow",Oe)},30),ue=debounce$2(()=>{r.store.commit("setHoverRow",null)},30),he=Oe=>{const xe=window.getComputedStyle(Oe,null),Ne=Number.parseInt(xe.paddingLeft,10)||0,Ie=Number.parseInt(xe.paddingRight,10)||0,Fe=Number.parseInt(xe.paddingTop,10)||0,Ve=Number.parseInt(xe.paddingBottom,10)||0;return{left:Ne,right:Ie,top:Fe,bottom:Ve}},_e=(Oe,xe,Ne)=>{let Ie=xe.target.parentNode;for(;Oe>1&&(Ie=Ie==null?void 0:Ie.nextSibling,!(!Ie||Ie.nodeName!=="TR"));)Ne(Ie,"hover-row hover-fixed-row"),Oe--};return{handleDoubleClick:L,handleClick:re,handleContextMenu:ae,handleMouseEnter:le,handleMouseLeave:ue,handleCellMouseEnter:(Oe,xe,Ne)=>{var Ie,Fe,Ve;const ze=n,Ue=getCell(Oe),qe=(Ie=ze==null?void 0:ze.vnode.el)==null?void 0:Ie.dataset.prefix;if(Ue){const bn=getColumnByCell({columns:r.store.states.columns.value},Ue,qe);Ue.rowSpan>1&&_e(Ue.rowSpan,Oe,addClass);const wn=ze.hoverState={cell:Ue,column:bn,row:xe};ze==null||ze.emit("cell-mouse-enter",wn.row,wn.column,wn.cell,Oe)}if(!Ne)return;const kt=Oe.target.querySelector(".cell");if(!(hasClass(kt,`${qe}-tooltip`)&&kt.childNodes.length))return;const Et=document.createRange();Et.setStart(kt,0),Et.setEnd(kt,kt.childNodes.length);const{width:Pt,height:At}=Et.getBoundingClientRect(),{width:Dt,height:Lt}=kt.getBoundingClientRect(),{top:hn,left:_n,right:vn,bottom:jt}=he(kt),$n=_n+vn,Sn=hn+jt;isGreaterThan(Pt+$n,Dt)||isGreaterThan(At+Sn,Lt)||isGreaterThan(kt.scrollWidth,Dt)?createTablePopper(Ne,Ue.innerText||Ue.textContent,Ue,ze):((Fe=removePopper)==null?void 0:Fe.trigger)===Ue&&((Ve=removePopper)==null||Ve())},handleCellMouseLeave:Oe=>{const xe=getCell(Oe);if(!xe)return;xe.rowSpan>1&&_e(xe.rowSpan,Oe,removeClass);const Ne=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",Ne==null?void 0:Ne.row,Ne==null?void 0:Ne.column,Ne==null?void 0:Ne.cell,Oe)},tooltipContent:g,tooltipTrigger:y}}function useStyles$1(r){const n=inject(TABLE_INJECTION_KEY),g=useNamespace$1("table");return{getRowStyle:(ue,he)=>{const _e=n==null?void 0:n.props.rowStyle;return isFunction$3(_e)?_e.call(null,{row:ue,rowIndex:he}):_e||null},getRowClass:(ue,he)=>{const _e=[g.e("row")];n!=null&&n.props.highlightCurrentRow&&ue===r.store.states.currentRow.value&&_e.push("current-row"),r.stripe&&he%2===1&&_e.push(g.em("row","striped"));const Ce=n==null?void 0:n.props.rowClassName;return isString$3(Ce)?_e.push(Ce):isFunction$3(Ce)&&_e.push(Ce.call(null,{row:ue,rowIndex:he})),_e},getCellStyle:(ue,he,_e,Ce)=>{const $e=n==null?void 0:n.props.cellStyle;let Oe=$e??{};isFunction$3($e)&&(Oe=$e.call(null,{rowIndex:ue,columnIndex:he,row:_e,column:Ce}));const xe=getFixedColumnOffset(he,r==null?void 0:r.fixed,r.store);return ensurePosition(xe,"left"),ensurePosition(xe,"right"),Object.assign({},Oe,xe)},getCellClass:(ue,he,_e,Ce,$e)=>{const Oe=getFixedColumnsClass(g.b(),he,r==null?void 0:r.fixed,r.store,void 0,$e),xe=[Ce.id,Ce.align,Ce.className,...Oe],Ne=n==null?void 0:n.props.cellClassName;return isString$3(Ne)?xe.push(Ne):isFunction$3(Ne)&&xe.push(Ne.call(null,{rowIndex:ue,columnIndex:he,row:_e,column:Ce})),xe.push(g.e("cell")),xe.filter(Ie=>!!Ie).join(" ")},getSpan:(ue,he,_e,Ce)=>{let $e=1,Oe=1;const xe=n==null?void 0:n.props.spanMethod;if(isFunction$3(xe)){const Ne=xe({row:ue,column:he,rowIndex:_e,columnIndex:Ce});isArray$5(Ne)?($e=Ne[0],Oe=Ne[1]):isObject$7(Ne)&&($e=Ne.rowspan,Oe=Ne.colspan)}return{rowspan:$e,colspan:Oe}},getColspanRealWidth:(ue,he,_e)=>{if(he<1)return ue[_e].realWidth;const Ce=ue.map(({realWidth:$e,width:Oe})=>$e||Oe).slice(_e,_e+he);return Number(Ce.reduce(($e,Oe)=>Number($e)+Number(Oe),-1))}}}const __default__$v=defineComponent({name:"TableTdWrapper"}),_sfc_main$1W=defineComponent({...__default__$v,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(r){return(n,g)=>(openBlock(),createElementBlock("td",{colspan:r.colspan,rowspan:r.rowspan},[renderSlot(n.$slots,"default")],8,["colspan","rowspan"]))}});var TdWrapper=_export_sfc(_sfc_main$1W,[["__file","td-wrapper.vue"]]);function useRender$1(r){const n=inject(TABLE_INJECTION_KEY),g=useNamespace$1("table"),{handleDoubleClick:y,handleClick:$,handleContextMenu:L,handleMouseEnter:re,handleMouseLeave:ae,handleCellMouseEnter:le,handleCellMouseLeave:ue,tooltipContent:he,tooltipTrigger:_e}=useEvents(r),{getRowStyle:Ce,getRowClass:$e,getCellStyle:Oe,getCellClass:xe,getSpan:Ne,getColspanRealWidth:Ie}=useStyles$1(r),Fe=computed(()=>r.store.states.columns.value.findIndex(({type:kt})=>kt==="default")),Ve=(kt,Et)=>{const Pt=n.props.rowKey;return Pt?getRowIdentity(kt,Pt):Et},ze=(kt,Et,Pt,At=!1)=>{const{tooltipEffect:Dt,tooltipOptions:Lt,store:hn}=r,{indent:_n,columns:vn}=hn.states,jt=$e(kt,Et);let $n=!0;return Pt&&(jt.push(g.em("row",`level-${Pt.level}`)),$n=Pt.display),h$1("tr",{style:[$n?null:{display:"none"},Ce(kt,Et)],class:jt,key:Ve(kt,Et),onDblclick:bn=>y(bn,kt),onClick:bn=>$(bn,kt),onContextmenu:bn=>L(bn,kt),onMouseenter:()=>re(Et),onMouseleave:ae},vn.value.map((bn,wn)=>{const{rowspan:On,colspan:Tn}=Ne(kt,bn,Et,wn);if(!On||!Tn)return null;const xn=Object.assign({},bn);xn.realWidth=Ie(vn.value,Tn,wn);const Pn={store:r.store,_self:r.context||n,column:xn,row:kt,$index:Et,cellIndex:wn,expanded:At};wn===Fe.value&&Pt&&(Pn.treeNode={indent:Pt.level*_n.value,level:Pt.level},isBoolean(Pt.expanded)&&(Pn.treeNode.expanded=Pt.expanded,"loading"in Pt&&(Pn.treeNode.loading=Pt.loading),"noLazyChildren"in Pt&&(Pn.treeNode.noLazyChildren=Pt.noLazyChildren)));const An=`${Ve(kt,Et)},${wn}`,Rn=xn.columnKey||xn.rawColumnKey||"",Nn=bn.showOverflowTooltip&&merge$2({effect:Dt},Lt,bn.showOverflowTooltip);return h$1(TdWrapper,{style:Oe(Et,wn,kt,bn),class:xe(Et,wn,kt,bn,Tn-1),key:`${Rn}${An}`,rowspan:On,colspan:Tn,onMouseenter:Dn=>le(Dn,kt,Nn),onMouseleave:ue},{default:()=>Ue(wn,bn,Pn)})}))},Ue=(kt,Et,Pt)=>Et.renderCell(Pt);return{wrappedRowRender:(kt,Et)=>{const Pt=r.store,{isRowExpanded:At,assertRowKey:Dt}=Pt,{treeData:Lt,lazyTreeNodeMap:hn,childrenColumnName:_n,rowKey:vn}=Pt.states,jt=Pt.states.columns.value;if(jt.some(({type:Sn})=>Sn==="expand")){const Sn=At(kt),bn=ze(kt,Et,void 0,Sn),wn=n.renderExpanded;return Sn?wn?[[bn,h$1("tr",{key:`expanded-row__${bn.key}`},[h$1("td",{colspan:jt.length,class:`${g.e("cell")} ${g.e("expanded-cell")}`},[wn({row:kt,$index:Et,store:Pt,expanded:Sn})])])]]:(console.error("[Element Error]renderExpanded is required."),bn):[[bn]]}else if(Object.keys(Lt.value).length){Dt();const Sn=getRowIdentity(kt,vn.value);let bn=Lt.value[Sn],wn=null;bn&&(wn={expanded:bn.expanded,level:bn.level,display:!0},isBoolean(bn.lazy)&&(isBoolean(bn.loaded)&&bn.loaded&&(wn.noLazyChildren=!(bn.children&&bn.children.length)),wn.loading=bn.loading));const On=[ze(kt,Et,wn)];if(bn){let Tn=0;const xn=(An,Rn)=>{An&&An.length&&Rn&&An.forEach(Nn=>{const Dn={display:Rn.display&&Rn.expanded,level:Rn.level+1,expanded:!1,noLazyChildren:!1,loading:!1},In=getRowIdentity(Nn,vn.value);if(isPropAbsent(In))throw new Error("For nested data item, row-key is required.");if(bn={...Lt.value[In]},bn&&(Dn.expanded=bn.expanded,bn.level=bn.level||Dn.level,bn.display=!!(bn.expanded&&Dn.display),isBoolean(bn.lazy)&&(isBoolean(bn.loaded)&&bn.loaded&&(Dn.noLazyChildren=!(bn.children&&bn.children.length)),Dn.loading=bn.loading)),Tn++,On.push(ze(Nn,Et+Tn,Dn)),bn){const Fn=hn.value[In]||Nn[_n.value];xn(Fn,bn)}})};bn.display=!0;const Pn=hn.value[Sn]||kt[_n.value];xn(Pn,bn)}return On}else return ze(kt,Et,void 0)},tooltipContent:he,tooltipTrigger:_e}}const defaultProps$3={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$3,setup(r){const n=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=useNamespace$1("table"),{wrappedRowRender:$,tooltipContent:L,tooltipTrigger:re}=useRender$1(r),{onColumnsChange:ae,onScrollableChange:le}=useLayoutObserver(g),ue=[];return watch$1(r.store.states.hoverRow,(he,_e)=>{var Ce;const $e=n==null?void 0:n.vnode.el,Oe=Array.from(($e==null?void 0:$e.children)||[]).filter(Ie=>Ie==null?void 0:Ie.classList.contains(`${y.e("row")}`));let xe=he;const Ne=(Ce=Oe[xe])==null?void 0:Ce.childNodes;if(Ne!=null&&Ne.length){let Ie=0;Array.from(Ne).reduce((Ve,ze,Ue)=>{var qe,kt;return((qe=Ne[Ue])==null?void 0:qe.colSpan)>1&&(Ie=(kt=Ne[Ue])==null?void 0:kt.colSpan),ze.nodeName!=="TD"&&Ie===0&&Ve.push(Ue),Ie>0&&Ie--,Ve},[]).forEach(Ve=>{var ze;for(xe=he;xe>0;){const Ue=(ze=Oe[xe-1])==null?void 0:ze.childNodes;if(Ue[Ve]&&Ue[Ve].nodeName==="TD"&&Ue[Ve].rowSpan>1){addClass(Ue[Ve],"hover-cell"),ue.push(Ue[Ve]);break}xe--}})}else ue.forEach(Ie=>removeClass(Ie,"hover-cell")),ue.length=0;!r.store.states.isComplex.value||!isClient||rAF(()=>{const Ie=Oe[_e],Fe=Oe[he];Ie&&!Ie.classList.contains("hover-fixed-row")&&removeClass(Ie,"hover-row"),Fe&&addClass(Fe,"hover-row")})}),onUnmounted(()=>{var he;(he=removePopper)==null||he()}),{ns:y,onColumnsChange:ae,onScrollableChange:le,wrappedRowRender:$,tooltipContent:L,tooltipTrigger:re}},render(){const{wrappedRowRender:r,store:n}=this,g=n.states.data.value||[];return h$1("tbody",{tabIndex:-1},[g.reduce((y,$)=>y.concat(r($,y.length)),[])])}});function useMapState(){const r=inject(TABLE_INJECTION_KEY),n=r==null?void 0:r.store,g=computed(()=>n.states.fixedLeafColumnsLength.value),y=computed(()=>n.states.rightFixedColumns.value.length),$=computed(()=>n.states.columns.value.length),L=computed(()=>n.states.fixedColumns.value.length),re=computed(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:g,rightFixedLeafCount:y,columnsCount:$,leftFixedCount:L,rightFixedCount:re,columns:n.states.columns}}function useStyle$1(r){const{columns:n}=useMapState(),g=useNamespace$1("table");return{getCellClasses:(L,re)=>{const ae=L[re],le=[g.e("cell"),ae.id,ae.align,ae.labelClassName,...getFixedColumnsClass(g.b(),re,ae.fixed,r.store)];return ae.className&&le.push(ae.className),ae.children||le.push(g.is("leaf")),le},getCellStyles:(L,re)=>{const ae=getFixedColumnOffset(re,L.fixed,r.store);return ensurePosition(ae,"left"),ensurePosition(ae,"right"),ae},columns:n}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(r){const{getCellClasses:n,getCellStyles:g,columns:y}=useStyle$1(r);return{ns:useNamespace$1("table"),getCellClasses:n,getCellStyles:g,columns:y}},render(){const{columns:r,getCellStyles:n,getCellClasses:g,summaryMethod:y,sumText:$}=this,L=this.store.states.data.value;let re=[];return y?re=y({columns:r,data:L}):r.forEach((ae,le)=>{if(le===0){re[le]=$;return}const ue=L.map($e=>Number($e[ae.property])),he=[];let _e=!0;ue.forEach($e=>{if(!Number.isNaN(+$e)){_e=!1;const Oe=`${$e}`.split(".")[1];he.push(Oe?Oe.length:0)}});const Ce=Math.max.apply(null,he);_e?re[le]="":re[le]=ue.reduce(($e,Oe)=>{const xe=Number(Oe);return Number.isNaN(+xe)?$e:Number.parseFloat(($e+Oe).toFixed(Math.min(Ce,20)))},0)}),h$1(h$1("tfoot",[h$1("tr",{},[...r.map((ae,le)=>h$1("td",{key:le,colspan:ae.colSpan,rowspan:ae.rowSpan,class:g(r,le),style:n(ae,le)},[h$1("div",{class:["cell",ae.labelClassName]},[re[le]])]))])]))}});function useUtils(r){return{setCurrentRow:_e=>{r.commit("setCurrentRow",_e)},getSelectionRows:()=>r.getSelectionRows(),toggleRowSelection:(_e,Ce,$e=!0)=>{r.toggleRowSelection(_e,Ce,!1,$e),r.updateAllSelected()},clearSelection:()=>{r.clearSelection()},clearFilter:_e=>{r.clearFilter(_e)},toggleAllSelection:()=>{r.commit("toggleAllSelection")},toggleRowExpansion:(_e,Ce)=>{r.toggleRowExpansionAdapter(_e,Ce)},clearSort:()=>{r.clearSort()},sort:(_e,Ce)=>{r.commit("sort",{prop:_e,order:Ce})},updateKeyChildren:(_e,Ce)=>{r.updateKeyChildren(_e,Ce)}}}function useStyle(r,n,g,y){const $=ref$1(!1),L=ref$1(null),re=ref$1(!1),ae=Sn=>{re.value=Sn},le=ref$1({width:null,height:null,headerHeight:null}),ue=ref$1(!1),he={display:"inline-block",verticalAlign:"middle"},_e=ref$1(),Ce=ref$1(0),$e=ref$1(0),Oe=ref$1(0),xe=ref$1(0),Ne=ref$1(0);watchEffect(()=>{n.setHeight(r.height)}),watchEffect(()=>{n.setMaxHeight(r.maxHeight)}),watch$1(()=>[r.currentRowKey,g.states.rowKey],([Sn,bn])=>{!unref(bn)||!unref(Sn)||g.setCurrentRowKey(`${Sn}`)},{immediate:!0}),watch$1(()=>r.data,Sn=>{y.store.commit("setData",Sn)},{immediate:!0,deep:!0}),watchEffect(()=>{r.expandRowKeys&&g.setExpandRowKeysAdapter(r.expandRowKeys)});const Ie=()=>{y.store.commit("setHoverRow",null),y.hoverState&&(y.hoverState=null)},Fe=(Sn,bn)=>{const{pixelX:wn,pixelY:On}=bn;Math.abs(wn)>=Math.abs(On)&&(y.refs.bodyWrapper.scrollLeft+=bn.pixelX/5)},Ve=computed(()=>r.height||r.maxHeight||g.states.fixedColumns.value.length>0||g.states.rightFixedColumns.value.length>0),ze=computed(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),Ue=()=>{Ve.value&&n.updateElsHeight(),n.updateColumnsWidth(),requestAnimationFrame(Pt)};onMounted(async()=>{await nextTick$1(),g.updateColumns(),At(),requestAnimationFrame(Ue);const Sn=y.vnode.el,bn=y.refs.headerWrapper;r.flexible&&Sn&&Sn.parentElement&&(Sn.parentElement.style.minWidth="0"),le.value={width:_e.value=Sn.offsetWidth,height:Sn.offsetHeight,headerHeight:r.showHeader&&bn?bn.offsetHeight:null},g.states.columns.value.forEach(wn=>{wn.filteredValue&&wn.filteredValue.length&&y.store.commit("filterChange",{column:wn,values:wn.filteredValue,silent:!0})}),y.$ready=!0});const qe=(Sn,bn)=>{if(!Sn)return;const wn=Array.from(Sn.classList).filter(On=>!On.startsWith("is-scrolling-"));wn.push(n.scrollX.value?bn:"is-scrolling-none"),Sn.className=wn.join(" ")},kt=Sn=>{const{tableWrapper:bn}=y.refs;qe(bn,Sn)},Et=Sn=>{const{tableWrapper:bn}=y.refs;return!!(bn&&bn.classList.contains(Sn))},Pt=function(){if(!y.refs.scrollBarRef)return;if(!n.scrollX.value){const An="is-scrolling-none";Et(An)||kt(An);return}const Sn=y.refs.scrollBarRef.wrapRef;if(!Sn)return;const{scrollLeft:bn,offsetWidth:wn,scrollWidth:On}=Sn,{headerWrapper:Tn,footerWrapper:xn}=y.refs;Tn&&(Tn.scrollLeft=bn),xn&&(xn.scrollLeft=bn);const Pn=On-wn-1;bn>=Pn?kt("is-scrolling-right"):kt(bn===0?"is-scrolling-left":"is-scrolling-middle")},At=()=>{y.refs.scrollBarRef&&(y.refs.scrollBarRef.wrapRef&&useEventListener(y.refs.scrollBarRef.wrapRef,"scroll",Pt,{passive:!0}),r.fit?useResizeObserver(y.vnode.el,Dt):useEventListener(window,"resize",Dt),useResizeObserver(y.refs.bodyWrapper,()=>{var Sn,bn;Dt(),(bn=(Sn=y.refs)==null?void 0:Sn.scrollBarRef)==null||bn.update()}))},Dt=()=>{var Sn,bn,wn,On;const Tn=y.vnode.el;if(!y.$ready||!Tn)return;let xn=!1;const{width:Pn,height:An,headerHeight:Rn}=le.value,Nn=_e.value=Tn.offsetWidth;Pn!==Nn&&(xn=!0);const Dn=Tn.offsetHeight;(r.height||Ve.value)&&An!==Dn&&(xn=!0);const In=r.tableLayout==="fixed"?y.refs.headerWrapper:(Sn=y.refs.tableHeaderRef)==null?void 0:Sn.$el;r.showHeader&&(In==null?void 0:In.offsetHeight)!==Rn&&(xn=!0),Ce.value=((bn=y.refs.tableWrapper)==null?void 0:bn.scrollHeight)||0,Oe.value=(In==null?void 0:In.scrollHeight)||0,xe.value=((wn=y.refs.footerWrapper)==null?void 0:wn.offsetHeight)||0,Ne.value=((On=y.refs.appendWrapper)==null?void 0:On.offsetHeight)||0,$e.value=Ce.value-Oe.value-xe.value-Ne.value,xn&&(le.value={width:Nn,height:Dn,headerHeight:r.showHeader&&(In==null?void 0:In.offsetHeight)||0},Ue())},Lt=useFormSize(),hn=computed(()=>{const{bodyWidth:Sn,scrollY:bn,gutterWidth:wn}=n;return Sn.value?`${Sn.value-(bn.value?wn:0)}px`:""}),_n=computed(()=>r.maxHeight?"fixed":r.tableLayout),vn=computed(()=>{if(r.data&&r.data.length)return null;let Sn="100%";r.height&&$e.value&&(Sn=`${$e.value}px`);const bn=_e.value;return{width:bn?`${bn}px`:"",height:Sn}}),jt=computed(()=>r.height?{height:"100%"}:r.maxHeight?Number.isNaN(Number(r.maxHeight))?{maxHeight:`calc(${r.maxHeight} - ${Oe.value+xe.value}px)`}:{maxHeight:`${r.maxHeight-Oe.value-xe.value}px`}:{});return{isHidden:$,renderExpanded:L,setDragVisible:ae,isGroup:ue,handleMouseLeave:Ie,handleHeaderFooterMousewheel:Fe,tableSize:Lt,emptyBlockStyle:vn,handleFixedMousewheel:(Sn,bn)=>{const wn=y.refs.bodyWrapper;if(Math.abs(bn.spinY)>0){const On=wn.scrollTop;bn.pixelY<0&&On!==0&&Sn.preventDefault(),bn.pixelY>0&&wn.scrollHeight-wn.clientHeight>On&&Sn.preventDefault(),wn.scrollTop+=Math.ceil(bn.pixelY/5)}else wn.scrollLeft+=Math.ceil(bn.pixelX/5)},resizeProxyVisible:re,bodyWidth:hn,resizeState:le,doLayout:Ue,tableBodyStyles:ze,tableLayout:_n,scrollbarViewStyle:he,scrollbarStyle:jt}}function useKeyRender(r){const n=ref$1(),g=()=>{const $=r.vnode.el.querySelector(".hidden-columns"),L={childList:!0,subtree:!0},re=r.store.states.updateOrderFns;n.value=new MutationObserver(()=>{re.forEach(ae=>ae())}),n.value.observe($,L)};onMounted(()=>{g()}),onUnmounted(()=>{var y;(y=n.value)==null||y.disconnect()})}var defaultProps$2={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function hColgroup(r){const n=r.tableLayout==="auto";let g=r.columns||[];n&&g.every(({width:$})=>isUndefined($))&&(g=[]);const y=$=>{const L={key:`${r.tableLayout}_${$.id}`,style:{},name:void 0};return n?L.style={width:`${$.width}px`}:L.name=$.id,L};return h$1("colgroup",{},g.map($=>h$1("col",y($))))}hColgroup.props=["columns","tableLayout"];const useScrollbar$1=()=>{const r=ref$1(),n=(L,re)=>{const ae=r.value;ae&&ae.scrollTo(L,re)},g=(L,re)=>{const ae=r.value;ae&&isNumber$2(re)&&["Top","Left"].includes(L)&&ae[`setScroll${L}`](re)};return{scrollBarRef:r,scrollTo:n,setScrollTop:L=>g("Top",L),setScrollLeft:L=>g("Left",L)}};var v=!1,o,f,s,u,d,N,l,p,m$1,w,D,x,E,M,F;function a$1(){if(!v){v=!0;var r=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(r),g=/(Mac OS X)|(Windows)|(Linux)/.exec(r);if(x=/\b(iPhone|iP[ao]d)/.exec(r),E=/\b(iP[ao]d)/.exec(r),w=/Android/i.exec(r),M=/FBAN\/\w+;/i.exec(r),F=/Mobile/i.exec(r),D=!!/Win64/.exec(r),n){o=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var y=/(?:Trident\/(\d+.\d+))/.exec(r);N=y?parseFloat(y[1])+4:o,f=n[2]?parseFloat(n[2]):NaN,s=n[3]?parseFloat(n[3]):NaN,u=n[4]?parseFloat(n[4]):NaN,u?(n=/(?:Chrome\/(\d+\.\d+))/.exec(r),d=n&&n[1]?parseFloat(n[1]):NaN):d=NaN}else o=f=s=d=u=NaN;if(g){if(g[1]){var $=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(r);l=$?parseFloat($[1].replace("_",".")):!0}else l=!1;p=!!g[2],m$1=!!g[3]}else l=p=m$1=!1}}var _={ie:function(){return a$1()||o},ieCompatibilityMode:function(){return a$1()||N>o},ie64:function(){return _.ie()&&D},firefox:function(){return a$1()||f},opera:function(){return a$1()||s},webkit:function(){return a$1()||u},safari:function(){return _.webkit()},chrome:function(){return a$1()||d},windows:function(){return a$1()||p},osx:function(){return a$1()||l},linux:function(){return a$1()||m$1},iphone:function(){return a$1()||x},mobile:function(){return a$1()||x||E||w||F},nativeApp:function(){return a$1()||M},android:function(){return a$1()||w},ipad:function(){return a$1()||E}},A=_,c$1=!!(typeof window<"u"&&window.document&&window.document.createElement),U={canUseDOM:c$1,canUseWorkers:typeof Worker<"u",canUseEventListeners:c$1&&!!(window.addEventListener||window.attachEvent),canUseViewport:c$1&&!!window.screen,isInWorker:!c$1},h=U,X;h.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(r,n){if(!h.canUseDOM||n&&!("addEventListener"in document))return!1;var g="on"+r,y=g in document;if(!y){var $=document.createElement("div");$.setAttribute(g,"return;"),y=typeof $[g]=="function"}return!y&&X&&r==="wheel"&&(y=document.implementation.hasFeature("Events.wheel","3.0")),y}var b$1=S,O=10,I=40,P=800;function T$1(r){var n=0,g=0,y=0,$=0;return"detail"in r&&(g=r.detail),"wheelDelta"in r&&(g=-r.wheelDelta/120),"wheelDeltaY"in r&&(g=-r.wheelDeltaY/120),"wheelDeltaX"in r&&(n=-r.wheelDeltaX/120),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(n=g,g=0),y=n*O,$=g*O,"deltaY"in r&&($=r.deltaY),"deltaX"in r&&(y=r.deltaX),(y||$)&&r.deltaMode&&(r.deltaMode==1?(y*=I,$*=I):(y*=P,$*=P)),y&&!n&&(n=y<1?-1:1),$&&!g&&(g=$<1?-1:1),{spinX:n,spinY:g,pixelX:y,pixelY:$}}T$1.getEventType=function(){return A.firefox()?"DOMMouseScroll":b$1("wheel")?"wheel":"mousewheel"};var Y=T$1;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const mousewheel=function(r,n){if(r&&r.addEventListener){const g=function(y){const $=Y(y);n&&Reflect.apply(n,this,[y,$])};r.addEventListener("wheel",g,{passive:!0})}},Mousewheel={beforeMount(r,n){mousewheel(r,n.value)}};let tableIdSeed=1;const _sfc_main$1V=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$2,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(r){const{t:n}=useLocale(),g=useNamespace$1("table"),y=getCurrentInstance();provide(TABLE_INJECTION_KEY,y);const $=createStore(y,r);y.store=$;const L=new TableLayout({store:y.store,table:y,fit:r.fit,showHeader:r.showHeader});y.layout=L;const re=computed(()=>($.states.data.value||[]).length===0),{setCurrentRow:ae,getSelectionRows:le,toggleRowSelection:ue,clearSelection:he,clearFilter:_e,toggleAllSelection:Ce,toggleRowExpansion:$e,clearSort:Oe,sort:xe,updateKeyChildren:Ne}=useUtils($),{isHidden:Ie,renderExpanded:Fe,setDragVisible:Ve,isGroup:ze,handleMouseLeave:Ue,handleHeaderFooterMousewheel:qe,tableSize:kt,emptyBlockStyle:Et,handleFixedMousewheel:Pt,resizeProxyVisible:At,bodyWidth:Dt,resizeState:Lt,doLayout:hn,tableBodyStyles:_n,tableLayout:vn,scrollbarViewStyle:jt,scrollbarStyle:$n}=useStyle(r,L,$,y),{scrollBarRef:Sn,scrollTo:bn,setScrollLeft:wn,setScrollTop:On}=useScrollbar$1(),Tn=debounce$2(hn,50),xn=`${g.namespace.value}-table_${tableIdSeed++}`;y.tableId=xn,y.state={isGroup:ze,resizeState:Lt,doLayout:hn,debouncedUpdateLayout:Tn};const Pn=computed(()=>{var Nn;return(Nn=r.sumText)!=null?Nn:n("el.table.sumText")}),An=computed(()=>{var Nn;return(Nn=r.emptyText)!=null?Nn:n("el.table.emptyText")}),Rn=computed(()=>convertToRows($.states.originColumns.value)[0]);return useKeyRender(y),onBeforeUnmount(()=>{Tn.cancel()}),{ns:g,layout:L,store:$,columns:Rn,handleHeaderFooterMousewheel:qe,handleMouseLeave:Ue,tableId:xn,tableSize:kt,isHidden:Ie,isEmpty:re,renderExpanded:Fe,resizeProxyVisible:At,resizeState:Lt,isGroup:ze,bodyWidth:Dt,tableBodyStyles:_n,emptyBlockStyle:Et,debouncedUpdateLayout:Tn,handleFixedMousewheel:Pt,setCurrentRow:ae,getSelectionRows:le,toggleRowSelection:ue,clearSelection:he,clearFilter:_e,toggleAllSelection:Ce,toggleRowExpansion:$e,clearSort:Oe,doLayout:hn,sort:xe,updateKeyChildren:Ne,t:n,setDragVisible:Ve,context:y,computedSumText:Pn,computedEmptyText:An,tableLayout:vn,scrollbarViewStyle:jt,scrollbarStyle:$n,scrollBarRef:Sn,scrollTo:bn,setScrollLeft:wn,setScrollTop:On,allowDragLastColumn:r.allowDragLastColumn}}});function _sfc_render$i(r,n,g,y,$,L){const re=resolveComponent("hColgroup"),ae=resolveComponent("table-header"),le=resolveComponent("table-body"),ue=resolveComponent("table-footer"),he=resolveComponent("el-scrollbar"),_e=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[r.ns.m("fit")]:r.fit,[r.ns.m("striped")]:r.stripe,[r.ns.m("border")]:r.border||r.isGroup,[r.ns.m("hidden")]:r.isHidden,[r.ns.m("group")]:r.isGroup,[r.ns.m("fluid-height")]:r.maxHeight,[r.ns.m("scrollable-x")]:r.layout.scrollX.value,[r.ns.m("scrollable-y")]:r.layout.scrollY.value,[r.ns.m("enable-row-hover")]:!r.store.states.isComplex.value,[r.ns.m("enable-row-transition")]:(r.store.states.data.value||[]).length!==0&&(r.store.states.data.value||[]).length<100,"has-footer":r.showSummary},r.ns.m(r.tableSize),r.className,r.ns.b(),r.ns.m(`layout-${r.tableLayout}`)]),style:normalizeStyle$1(r.style),"data-prefix":r.ns.namespace.value,onMouseleave:r.handleMouseLeave},[createBaseVNode("div",{class:normalizeClass(r.ns.e("inner-wrapper"))},[createBaseVNode("div",{ref:"hiddenColumns",class:"hidden-columns"},[renderSlot(r.$slots,"default")],512),r.showHeader&&r.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(r.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(r.ns.e("header")),style:normalizeStyle$1(r.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode$1(re,{columns:r.store.states.columns.value,"table-layout":r.tableLayout},null,8,["columns","table-layout"]),createVNode$1(ae,{ref:"tableHeaderRef",border:r.border,"default-sort":r.defaultSort,store:r.store,"append-filter-panel-to":r.appendFilterPanelTo,"allow-drag-last-column":r.allowDragLastColumn,onSetDragVisible:r.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[_e,r.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(r.ns.e("body-wrapper"))},[createVNode$1(he,{ref:"scrollBarRef","view-style":r.scrollbarViewStyle,"wrap-style":r.scrollbarStyle,always:r.scrollbarAlwaysOn,tabindex:r.scrollbarTabindex,onScroll:Ce=>r.$emit("scroll",Ce)},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(r.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle$1({width:r.bodyWidth,tableLayout:r.tableLayout})},[createVNode$1(re,{columns:r.store.states.columns.value,"table-layout":r.tableLayout},null,8,["columns","table-layout"]),r.showHeader&&r.tableLayout==="auto"?(openBlock(),createBlock(ae,{key:0,ref:"tableHeaderRef",class:normalizeClass(r.ns.e("body-header")),border:r.border,"default-sort":r.defaultSort,store:r.store,"append-filter-panel-to":r.appendFilterPanelTo,onSetDragVisible:r.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode$1(le,{context:r.context,highlight:r.highlightCurrentRow,"row-class-name":r.rowClassName,"tooltip-effect":r.tooltipEffect,"tooltip-options":r.tooltipOptions,"row-style":r.rowStyle,store:r.store,stripe:r.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),r.showSummary&&r.tableLayout==="auto"?(openBlock(),createBlock(ue,{key:1,class:normalizeClass(r.ns.e("body-footer")),border:r.border,"default-sort":r.defaultSort,store:r.store,"sum-text":r.computedSumText,"summary-method":r.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):createCommentVNode("v-if",!0)],6),r.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle$1(r.emptyBlockStyle),class:normalizeClass(r.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(r.ns.e("empty-text"))},[renderSlot(r.$slots,"empty",{},()=>[createTextVNode(toDisplayString(r.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),r.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(r.ns.e("append-wrapper"))},[renderSlot(r.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),r.showSummary&&r.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(r.ns.e("footer-wrapper"))},[createBaseVNode("table",{class:normalizeClass(r.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle$1(r.tableBodyStyles)},[createVNode$1(re,{columns:r.store.states.columns.value,"table-layout":r.tableLayout},null,8,["columns","table-layout"]),createVNode$1(ue,{border:r.border,"default-sort":r.defaultSort,store:r.store,"sum-text":r.computedSumText,"summary-method":r.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[vShow,!r.isEmpty],[_e,r.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),r.border||r.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(r.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(r.ns.e("column-resize-proxy"))},null,2),[[vShow,r.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Table$1=_export_sfc(_sfc_main$1V,[["render",_sfc_render$i],["__file","table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=r=>defaultClassNames[r]||"",cellForced={selection:{renderHeader({store:r,column:n}){function g(){return r.states.data.value&&r.states.data.value.length===0}return h$1(ElCheckbox,{disabled:g(),size:r.states.tableSize.value,indeterminate:r.states.selection.value.length>0&&!r.states.isAllSelected.value,"onUpdate:modelValue":r.toggleAllSelection,modelValue:r.states.isAllSelected.value,ariaLabel:n.label})},renderCell({row:r,column:n,store:g,$index:y}){return h$1(ElCheckbox,{disabled:n.selectable?!n.selectable.call(null,r,y):!1,size:g.states.tableSize.value,onChange:()=>{g.commit("rowSelectedChanged",r)},onClick:$=>$.stopPropagation(),modelValue:g.isSelected(r),ariaLabel:n.label})},sortable:!1,resizable:!1},index:{renderHeader({column:r}){return r.label||"#"},renderCell({column:r,$index:n}){let g=n+1;const y=r.index;return isNumber$2(y)?g=n+y:isFunction$3(y)&&(g=y(n)),h$1("div",{},[g])},sortable:!1},expand:{renderHeader({column:r}){return r.label||""},renderCell({row:r,store:n,expanded:g}){const{ns:y}=n,$=[y.e("expand-icon")];return g&&$.push(y.em("expand-icon","expanded")),h$1("div",{class:$,onClick:function(re){re.stopPropagation(),n.toggleRowExpansion(r)}},{default:()=>[h$1(ElIcon,null,{default:()=>[h$1(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:r,column:n,$index:g}){var y;const $=n.property,L=$&&getProp(r,$).value;return n&&n.formatter?n.formatter(r,n,L,g):((y=L==null?void 0:L.toString)==null?void 0:y.call(L))||""}function treeCellPrefix({row:r,treeNode:n,store:g},y=!1){const{ns:$}=g;if(!n)return y?[h$1("span",{class:$.e("placeholder")})]:null;const L=[],re=function(ae){ae.stopPropagation(),!n.loading&&g.loadOrToggle(r)};if(n.indent&&L.push(h$1("span",{class:$.e("indent"),style:{"padding-left":`${n.indent}px`}})),isBoolean(n.expanded)&&!n.noLazyChildren){const ae=[$.e("expand-icon"),n.expanded?$.em("expand-icon","expanded"):""];let le=arrow_right_default;n.loading&&(le=loading_default),L.push(h$1("div",{class:ae,onClick:re},{default:()=>[h$1(ElIcon,{class:{[$.is("loading")]:n.loading}},{default:()=>[h$1(le)]})]}))}else L.push(h$1("span",{class:$.e("placeholder")}));return L}function getAllAliases(r,n){return r.reduce((g,y)=>(g[y]=y,g),n)}function useWatcher(r,n){const g=getCurrentInstance();return{registerComplexWatchers:()=>{const L=["fixed"],re={realWidth:"width",realMinWidth:"minWidth"},ae=getAllAliases(L,re);Object.keys(ae).forEach(le=>{const ue=re[le];hasOwn$1(n,ue)&&watch$1(()=>n[ue],he=>{let _e=he;ue==="width"&&le==="realWidth"&&(_e=parseWidth(he)),ue==="minWidth"&&le==="realMinWidth"&&(_e=parseMinWidth(he)),g.columnConfig.value[ue]=_e,g.columnConfig.value[le]=_e;const Ce=ue==="fixed";r.value.store.scheduleLayout(Ce)})})},registerNormalWatchers:()=>{const L=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],re={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},ae=getAllAliases(L,re);Object.keys(ae).forEach(le=>{const ue=re[le];hasOwn$1(n,ue)&&watch$1(()=>n[ue],he=>{g.columnConfig.value[le]=he})})}}}function useRender(r,n,g){const y=getCurrentInstance(),$=ref$1(""),L=ref$1(!1),re=ref$1(),ae=ref$1(),le=useNamespace$1("table");watchEffect(()=>{re.value=r.align?`is-${r.align}`:null,re.value}),watchEffect(()=>{ae.value=r.headerAlign?`is-${r.headerAlign}`:re.value,ae.value});const ue=computed(()=>{let ze=y.vnode.vParent||y.parent;for(;ze&&!ze.tableId&&!ze.columnId;)ze=ze.vnode.vParent||ze.parent;return ze}),he=computed(()=>{const{store:ze}=y.parent;if(!ze)return!1;const{treeData:Ue}=ze.states,qe=Ue.value;return qe&&Object.keys(qe).length>0}),_e=ref$1(parseWidth(r.width)),Ce=ref$1(parseMinWidth(r.minWidth)),$e=ze=>(_e.value&&(ze.width=_e.value),Ce.value&&(ze.minWidth=Ce.value),!_e.value&&Ce.value&&(ze.width=void 0),ze.minWidth||(ze.minWidth=80),ze.realWidth=Number(isUndefined(ze.width)?ze.minWidth:ze.width),ze),Oe=ze=>{const Ue=ze.type,qe=cellForced[Ue]||{};Object.keys(qe).forEach(Et=>{const Pt=qe[Et];Et!=="className"&&!isUndefined(Pt)&&(ze[Et]=Pt)});const kt=getDefaultClassName(Ue);if(kt){const Et=`${unref(le.namespace)}-${kt}`;ze.className=ze.className?`${ze.className} ${Et}`:Et}return ze},xe=ze=>{isArray$5(ze)?ze.forEach(qe=>Ue(qe)):Ue(ze);function Ue(qe){var kt;((kt=qe==null?void 0:qe.type)==null?void 0:kt.name)==="ElTableColumn"&&(qe.vParent=y)}};return{columnId:$,realAlign:re,isSubColumn:L,realHeaderAlign:ae,columnOrTableParent:ue,setColumnWidth:$e,setColumnForcedProps:Oe,setColumnRenders:ze=>{r.renderHeader||ze.type!=="selection"&&(ze.renderHeader=qe=>(y.columnConfig.value.label,renderSlot(n,"header",qe,()=>[ze.label]))),n["filter-icon"]&&(ze.renderFilterIcon=qe=>renderSlot(n,"filter-icon",qe));let Ue=ze.renderCell;return ze.type==="expand"?(ze.renderCell=qe=>h$1("div",{class:"cell"},[Ue(qe)]),g.value.renderExpanded=qe=>n.default?n.default(qe):n.default):(Ue=Ue||defaultRenderCell,ze.renderCell=qe=>{let kt=null;if(n.default){const hn=n.default(qe);kt=hn.some(_n=>_n.type!==Comment)?hn:Ue(qe)}else kt=Ue(qe);const{columns:Et}=g.value.store.states,Pt=Et.value.findIndex(hn=>hn.type==="default"),At=he.value&&qe.cellIndex===Pt,Dt=treeCellPrefix(qe,At),Lt={class:"cell",style:{}};return ze.showOverflowTooltip&&(Lt.class=`${Lt.class} ${unref(le.namespace)}-tooltip`,Lt.style={width:`${(qe.column.realWidth||Number(qe.column.width))-1}px`}),xe(kt),h$1("div",Lt,[Dt,kt])}),ze},getPropsData:(...ze)=>ze.reduce((Ue,qe)=>(isArray$5(qe)&&qe.forEach(kt=>{Ue[kt]=r[kt]}),Ue),{}),getColumnElIndex:(ze,Ue)=>Array.prototype.indexOf.call(ze,Ue),updateColumnOrder:()=>{g.value.store.commit("updateColumnOrder",y.columnConfig.value)}}}var defaultProps$1={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:r=>r.every(n=>["ascending","descending",null].includes(n))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps$1,setup(r,{slots:n}){const g=getCurrentInstance(),y=ref$1({}),$=computed(()=>{let Ve=g.parent;for(;Ve&&!Ve.tableId;)Ve=Ve.parent;return Ve}),{registerNormalWatchers:L,registerComplexWatchers:re}=useWatcher($,r),{columnId:ae,isSubColumn:le,realHeaderAlign:ue,columnOrTableParent:he,setColumnWidth:_e,setColumnForcedProps:Ce,setColumnRenders:$e,getPropsData:Oe,getColumnElIndex:xe,realAlign:Ne,updateColumnOrder:Ie}=useRender(r,n,$),Fe=he.value;ae.value=`${Fe.tableId||Fe.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{le.value=$.value!==Fe;const Ve=r.type||"default",ze=r.sortable===""?!0:r.sortable,Ue=isUndefined(r.showOverflowTooltip)?Fe.props.showOverflowTooltip:r.showOverflowTooltip,qe={...cellStarts[Ve],id:ae.value,type:Ve,property:r.prop||r.property,align:Ne,headerAlign:ue,showOverflowTooltip:Ue,filterable:r.filters||r.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:ze,index:r.index,rawColumnKey:g.vnode.key};let Dt=Oe(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);Dt=mergeOptions(qe,Dt),Dt=compose($e,_e,Ce)(Dt),y.value=Dt,L(),re()}),onMounted(()=>{var Ve;const ze=he.value,Ue=le.value?ze.vnode.el.children:(Ve=ze.refs.hiddenColumns)==null?void 0:Ve.children,qe=()=>xe(Ue||[],g.vnode.el);y.value.getColumnIndex=qe,qe()>-1&&$.value.store.commit("insertColumn",y.value,le.value?ze.columnConfig.value:null,Ie)}),onBeforeUnmount(()=>{const Ve=y.value.getColumnIndex;(Ve?Ve():-1)>-1&&$.value.store.commit("removeColumn",y.value,le.value?Fe.columnConfig.value:null,Ie)}),g.columnId=ae.value,g.columnConfig=y},render(){var r,n,g;try{const y=(n=(r=this.$slots).default)==null?void 0:n.call(r,{row:{},column:{},$index:-1}),$=[];if(isArray$5(y))for(const re of y)((g=re.type)==null?void 0:g.name)==="ElTableColumn"||re.shapeFlag&2?$.push(re):re.type===Fragment&&isArray$5(re.children)&&re.children.forEach(ae=>{(ae==null?void 0:ae.patchFlag)!==1024&&!isString$3(ae==null?void 0:ae.children)&&$.push(ae)});return h$1("div",$)}catch{return h$1("div",[])}}});const ElTable=withInstall(Table$1,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1);var SortOrder=(r=>(r.ASC="asc",r.DESC="desc",r))(SortOrder||{}),Alignment=(r=>(r.CENTER="center",r.RIGHT="right",r))(Alignment||{}),FixedDir=(r=>(r.LEFT="left",r.RIGHT="right",r))(FixedDir||{});const oppositeOrderMap={asc:"desc",desc:"asc"},placeholderSign=Symbol("placeholder"),calcColumnStyle=(r,n,g)=>{var y;const $={flexGrow:0,flexShrink:0,...g?{}:{flexGrow:r.flexGrow||0,flexShrink:r.flexShrink||1}};g||($.flexShrink=1);const L={...(y=r.style)!=null?y:{},...$,flexBasis:"auto",width:r.width};return n||(r.maxWidth&&(L.maxWidth=r.maxWidth),r.minWidth&&(L.minWidth=r.minWidth)),L};function useColumns(r,n,g){const y=computed(()=>unref(n).map((Ne,Ie)=>{var Fe,Ve;return{...Ne,key:(Ve=(Fe=Ne.key)!=null?Fe:Ne.dataKey)!=null?Ve:Ie}})),$=computed(()=>unref(y).filter(Ne=>!Ne.hidden)),L=computed(()=>unref($).filter(Ne=>Ne.fixed==="left"||Ne.fixed===!0)),re=computed(()=>unref($).filter(Ne=>Ne.fixed==="right")),ae=computed(()=>unref($).filter(Ne=>!Ne.fixed)),le=computed(()=>{const Ne=[];return unref(L).forEach(Ie=>{Ne.push({...Ie,placeholderSign})}),unref(ae).forEach(Ie=>{Ne.push(Ie)}),unref(re).forEach(Ie=>{Ne.push({...Ie,placeholderSign})}),Ne}),ue=computed(()=>unref(L).length||unref(re).length),he=computed(()=>unref(y).reduce((Ne,Ie)=>(Ne[Ie.key]=calcColumnStyle(Ie,unref(g),r.fixed),Ne),{})),_e=computed(()=>unref($).reduce((Ne,Ie)=>Ne+Ie.width,0)),Ce=Ne=>unref(y).find(Ie=>Ie.key===Ne),$e=Ne=>unref(he)[Ne],Oe=(Ne,Ie)=>{Ne.width=Ie};function xe(Ne){var Ie;const{key:Fe}=Ne.currentTarget.dataset;if(!Fe)return;const{sortState:Ve,sortBy:ze}=r;let Ue=SortOrder.ASC;isObject$7(Ve)?Ue=oppositeOrderMap[Ve[Fe]]:Ue=oppositeOrderMap[ze.order],(Ie=r.onColumnSort)==null||Ie.call(r,{column:Ce(Fe),key:Fe,order:Ue})}return{columns:y,columnsStyles:he,columnsTotalWidth:_e,fixedColumnsOnLeft:L,fixedColumnsOnRight:re,hasFixedColumns:ue,mainColumns:le,normalColumns:ae,visibleColumns:$,getColumn:Ce,getColumnStyle:$e,updateColumnWidth:Oe,onColumnSorted:xe}}const useScrollbar=(r,{mainTableRef:n,leftTableRef:g,rightTableRef:y,onMaybeEndReached:$})=>{const L=ref$1({scrollLeft:0,scrollTop:0});function re($e){var Oe,xe,Ne;const{scrollTop:Ie}=$e;(Oe=n.value)==null||Oe.scrollTo($e),(xe=g.value)==null||xe.scrollToTop(Ie),(Ne=y.value)==null||Ne.scrollToTop(Ie)}function ae($e){L.value=$e,re($e)}function le($e){L.value.scrollTop=$e,re(unref(L))}function ue($e){var Oe,xe;L.value.scrollLeft=$e,(xe=(Oe=n.value)==null?void 0:Oe.scrollTo)==null||xe.call(Oe,unref(L))}function he($e){var Oe;ae($e),(Oe=r.onScroll)==null||Oe.call(r,$e)}function _e({scrollTop:$e}){const{scrollTop:Oe}=unref(L);$e!==Oe&&le($e)}function Ce($e,Oe="auto"){var xe;(xe=n.value)==null||xe.scrollToRow($e,Oe)}return watch$1(()=>unref(L).scrollTop,($e,Oe)=>{$e>Oe&&$()}),{scrollPos:L,scrollTo:ae,scrollToLeft:ue,scrollToTop:le,scrollToRow:Ce,onScroll:he,onVerticalScroll:_e}},useRow=(r,{mainTableRef:n,leftTableRef:g,rightTableRef:y,tableInstance:$,ns:L,isScrolling:re})=>{const ae=getCurrentInstance(),{emit:le}=ae,ue=shallowRef(!1),he=ref$1(r.defaultExpandedRowKeys||[]),_e=ref$1(-1),Ce=shallowRef(null),$e=ref$1({}),Oe=ref$1({}),xe=shallowRef({}),Ne=shallowRef({}),Ie=shallowRef({}),Fe=computed(()=>isNumber$2(r.estimatedRowHeight));function Ve(At){var Dt;(Dt=r.onRowsRendered)==null||Dt.call(r,At),At.rowCacheEnd>unref(_e)&&(_e.value=At.rowCacheEnd)}function ze({hovered:At,rowKey:Dt}){if(re.value)return;$.vnode.el.querySelectorAll(`[rowkey="${String(Dt)}"]`).forEach(_n=>{At?_n.classList.add(L.is("hovered")):_n.classList.remove(L.is("hovered"))})}function Ue({expanded:At,rowData:Dt,rowIndex:Lt,rowKey:hn}){var _n,vn;const jt=[...unref(he)],$n=jt.indexOf(hn);At?$n===-1&&jt.push(hn):$n>-1&&jt.splice($n,1),he.value=jt,le("update:expandedRowKeys",jt),(_n=r.onRowExpand)==null||_n.call(r,{expanded:At,rowData:Dt,rowIndex:Lt,rowKey:hn}),(vn=r.onExpandedRowsChange)==null||vn.call(r,jt)}const qe=debounce$2(()=>{var At,Dt,Lt,hn;ue.value=!0,$e.value={...unref($e),...unref(Oe)},kt(unref(Ce),!1),Oe.value={},Ce.value=null,(At=n.value)==null||At.forceUpdate(),(Dt=g.value)==null||Dt.forceUpdate(),(Lt=y.value)==null||Lt.forceUpdate(),(hn=ae.proxy)==null||hn.$forceUpdate(),ue.value=!1},0);function kt(At,Dt=!1){unref(Fe)&&[n,g,y].forEach(Lt=>{const hn=unref(Lt);hn&&hn.resetAfterRowIndex(At,Dt)})}function Et(At,Dt,Lt){const hn=unref(Ce);(hn===null||hn>Lt)&&(Ce.value=Lt),Oe.value[At]=Dt}function Pt({rowKey:At,height:Dt,rowIndex:Lt},hn){hn?hn===FixedDir.RIGHT?Ie.value[At]=Dt:xe.value[At]=Dt:Ne.value[At]=Dt;const _n=Math.max(...[xe,Ie,Ne].map(vn=>vn.value[At]||0));unref($e)[At]!==_n&&(Et(At,_n,Lt),qe())}return{expandedRowKeys:he,lastRenderedRowIndex:_e,isDynamic:Fe,isResetting:ue,rowHeights:$e,resetAfterIndex:kt,onRowExpanded:Ue,onRowHovered:ze,onRowsRendered:Ve,onRowHeightChange:Pt}},useData$1=(r,{expandedRowKeys:n,lastRenderedRowIndex:g,resetAfterIndex:y})=>{const $=ref$1({}),L=computed(()=>{const ae={},{data:le,rowKey:ue}=r,he=unref(n);if(!he||!he.length)return le;const _e=[],Ce=new Set;he.forEach(Oe=>Ce.add(Oe));let $e=le.slice();for($e.forEach(Oe=>ae[Oe[ue]]=0);$e.length>0;){const Oe=$e.shift();_e.push(Oe),Ce.has(Oe[ue])&&isArray$5(Oe.children)&&Oe.children.length>0&&($e=[...Oe.children,...$e],Oe.children.forEach(xe=>ae[xe[ue]]=ae[Oe[ue]]+1))}return $.value=ae,_e}),re=computed(()=>{const{data:ae,expandColumnKey:le}=r;return le?unref(L):ae});return watch$1(re,(ae,le)=>{ae!==le&&(g.value=-1,y(0,!0))}),{data:re,depthMap:$}},sumReducer=(r,n)=>r+n,sum$1=r=>isArray$5(r)?r.reduce(sumReducer,0):r,tryCall=(r,n,g={})=>isFunction$3(r)?r(n):r??g,enforceUnit=r=>(["width","maxWidth","minWidth","height"].forEach(n=>{r[n]=addUnit(r[n])}),r),componentToSlot=r=>isVNode(r)?n=>h$1(r,n):r,useStyles=(r,{columnsTotalWidth:n,rowsHeight:g,fixedColumnsOnLeft:y,fixedColumnsOnRight:$})=>{const L=computed(()=>{const{fixed:Fe,width:Ve,vScrollbarSize:ze}=r,Ue=Ve-ze;return Fe?Math.max(Math.round(unref(n)),Ue):Ue}),re=computed(()=>unref(L)+r.vScrollbarSize),ae=computed(()=>{const{height:Fe=0,maxHeight:Ve=0,footerHeight:ze,hScrollbarSize:Ue}=r;if(Ve>0){const qe=unref($e),kt=unref(g),Pt=unref(Ce)+qe+kt+Ue;return Math.min(Pt,Ve-ze)}return Fe-ze}),le=computed(()=>{const{maxHeight:Fe}=r,Ve=unref(ae);if(isNumber$2(Fe)&&Fe>0)return Ve;const ze=unref(g)+unref(Ce)+unref($e);return Math.min(Ve,ze)}),ue=Fe=>Fe.width,he=computed(()=>sum$1(unref(y).map(ue))),_e=computed(()=>sum$1(unref($).map(ue))),Ce=computed(()=>sum$1(r.headerHeight)),$e=computed(()=>{var Fe;return(((Fe=r.fixedData)==null?void 0:Fe.length)||0)*r.rowHeight}),Oe=computed(()=>unref(ae)-unref(Ce)-unref($e)),xe=computed(()=>{const{style:Fe={},height:Ve,width:ze}=r;return enforceUnit({...Fe,height:Ve,width:ze})}),Ne=computed(()=>enforceUnit({height:r.footerHeight})),Ie=computed(()=>({top:addUnit(unref(Ce)),bottom:addUnit(r.footerHeight),width:addUnit(r.width)}));return{bodyWidth:L,fixedTableHeight:le,mainTableHeight:ae,leftTableWidth:he,rightTableWidth:_e,headerWidth:re,windowHeight:Oe,footerHeight:Ne,emptyStyle:Ie,rootStyle:xe,headerHeight:Ce}};function useTable$1(r){const n=ref$1(),g=ref$1(),y=ref$1(),{columns:$,columnsStyles:L,columnsTotalWidth:re,fixedColumnsOnLeft:ae,fixedColumnsOnRight:le,hasFixedColumns:ue,mainColumns:he,onColumnSorted:_e}=useColumns(r,toRef(r,"columns"),toRef(r,"fixed")),{scrollTo:Ce,scrollToLeft:$e,scrollToTop:Oe,scrollToRow:xe,onScroll:Ne,onVerticalScroll:Ie,scrollPos:Fe}=useScrollbar(r,{mainTableRef:n,leftTableRef:g,rightTableRef:y,onMaybeEndReached:Hn}),Ve=useNamespace$1("table-v2"),ze=getCurrentInstance(),Ue=shallowRef(!1),{expandedRowKeys:qe,lastRenderedRowIndex:kt,isDynamic:Et,isResetting:Pt,rowHeights:At,resetAfterIndex:Dt,onRowExpanded:Lt,onRowHeightChange:hn,onRowHovered:_n,onRowsRendered:vn}=useRow(r,{mainTableRef:n,leftTableRef:g,rightTableRef:y,tableInstance:ze,ns:Ve,isScrolling:Ue}),{data:jt,depthMap:$n}=useData$1(r,{expandedRowKeys:qe,lastRenderedRowIndex:kt,resetAfterIndex:Dt}),Sn=computed(()=>{const{estimatedRowHeight:Yn,rowHeight:qn}=r,Xn=unref(jt);return isNumber$2(Yn)?Object.values(unref(At)).reduce((jn,Zn)=>jn+Zn,0):Xn.length*qn}),{bodyWidth:bn,fixedTableHeight:wn,mainTableHeight:On,leftTableWidth:Tn,rightTableWidth:xn,headerWidth:Pn,windowHeight:An,footerHeight:Rn,emptyStyle:Nn,rootStyle:Dn,headerHeight:In}=useStyles(r,{columnsTotalWidth:re,fixedColumnsOnLeft:ae,fixedColumnsOnRight:le,rowsHeight:Sn}),Fn=ref$1(),Bn=computed(()=>{const Yn=unref(jt).length===0;return isArray$5(r.fixedData)?r.fixedData.length===0&&Yn:Yn});function Mn(Yn){const{estimatedRowHeight:qn,rowHeight:Xn,rowKey:jn}=r;return qn?unref(At)[unref(jt)[Yn][jn]]||qn:Xn}function Hn(){const{onEndReached:Yn}=r;if(!Yn)return;const{scrollTop:qn}=unref(Fe),Xn=unref(Sn),jn=unref(An),Zn=Xn-(qn+jn)+r.hScrollbarSize;unref(kt)>=0&&Xn===qn+unref(On)-unref(In)&&Yn(Zn)}return watch$1(()=>r.expandedRowKeys,Yn=>qe.value=Yn,{deep:!0}),{columns:$,containerRef:Fn,mainTableRef:n,leftTableRef:g,rightTableRef:y,isDynamic:Et,isResetting:Pt,isScrolling:Ue,hasFixedColumns:ue,columnsStyles:L,columnsTotalWidth:re,data:jt,expandedRowKeys:qe,depthMap:$n,fixedColumnsOnLeft:ae,fixedColumnsOnRight:le,mainColumns:he,bodyWidth:bn,emptyStyle:Nn,rootStyle:Dn,headerWidth:Pn,footerHeight:Rn,mainTableHeight:On,fixedTableHeight:wn,leftTableWidth:Tn,rightTableWidth:xn,showEmpty:Bn,getRowHeight:Mn,onColumnSorted:_e,onRowHovered:_n,onRowExpanded:Lt,onRowsRendered:vn,onRowHeightChange:hn,scrollTo:Ce,scrollToLeft:$e,scrollToTop:Oe,scrollToRow:xe,onScroll:Ne,onVerticalScroll:Ie}}const TableV2InjectionKey=Symbol("tableV2"),classType=String,columns={type:definePropType(Array),required:!0},fixedDataType={type:definePropType(Array)},dataType={...fixedDataType,required:!0},expandColumnKey=String,expandKeys={type:definePropType(Array),default:()=>mutable([])},requiredNumber={type:Number,required:!0},rowKey={type:definePropType([String,Number,Symbol]),default:"id"},styleType={type:definePropType(Object)},tableV2RowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},depth:Number,expandColumnKey,estimatedRowHeight:{...virtualizedGridProps.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:definePropType(Function)},onRowHover:{type:definePropType(Function)},onRowHeightChange:{type:definePropType(Function)},rowData:{type:definePropType(Object),required:!0},rowEventHandlers:{type:definePropType(Object)},rowIndex:{type:Number,required:!0},rowKey,style:{type:definePropType(Object)}}),requiredNumberType={type:Number,required:!0},tableV2HeaderProps=buildProps({class:String,columns,fixedHeaderData:{type:definePropType(Array)},headerData:{type:definePropType(Array),required:!0},headerHeight:{type:definePropType([Number,Array]),default:50},rowWidth:requiredNumberType,rowHeight:{type:Number,default:50},height:requiredNumberType,width:requiredNumberType}),tableV2GridProps=buildProps({columns,data:dataType,fixedData:fixedDataType,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,width:requiredNumber,height:requiredNumber,headerWidth:requiredNumber,headerHeight:tableV2HeaderProps.headerHeight,bodyWidth:requiredNumber,rowHeight:requiredNumber,cache:virtualizedListProps.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:virtualizedGridProps.scrollbarAlwaysOn,scrollbarStartGap:virtualizedGridProps.scrollbarStartGap,scrollbarEndGap:virtualizedGridProps.scrollbarEndGap,class:classType,style:styleType,containerStyle:styleType,getRowHeight:{type:definePropType(Function),required:!0},rowKey:tableV2RowProps.rowKey,onRowsRendered:{type:definePropType(Function)},onScroll:{type:definePropType(Function)}}),tableV2Props=buildProps({cache:tableV2GridProps.cache,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,rowKey,headerClass:{type:definePropType([String,Function])},headerProps:{type:definePropType([Object,Function])},headerCellProps:{type:definePropType([Object,Function])},headerHeight:tableV2HeaderProps.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:definePropType([String,Function])},rowProps:{type:definePropType([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:definePropType([Object,Function])},columns,data:dataType,dataGetter:{type:definePropType(Function)},fixedData:fixedDataType,expandColumnKey:tableV2RowProps.expandColumnKey,expandedRowKeys:expandKeys,defaultExpandedRowKeys:expandKeys,class:classType,fixed:Boolean,style:{type:definePropType(Object)},width:requiredNumber,height:requiredNumber,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:virtualizedGridProps.hScrollbarSize,vScrollbarSize:virtualizedGridProps.vScrollbarSize,scrollbarAlwaysOn:virtualizedScrollbarProps.alwaysOn,sortBy:{type:definePropType(Object),default:()=>({})},sortState:{type:definePropType(Object),default:void 0},onColumnSort:{type:definePropType(Function)},onExpandedRowsChange:{type:definePropType(Function)},onEndReached:{type:definePropType(Function)},onRowExpand:tableV2RowProps.onRowExpand,onScroll:tableV2GridProps.onScroll,onRowsRendered:tableV2GridProps.onRowsRendered,rowEventHandlers:tableV2RowProps.rowEventHandlers}),COMPONENT_NAME$7="ElTableV2Header",TableV2Header=defineComponent({name:COMPONENT_NAME$7,props:tableV2HeaderProps,setup(r,{slots:n,expose:g}){const y=useNamespace$1("table-v2"),$=inject("tableV2GridScrollLeft"),L=ref$1(),re=computed(()=>enforceUnit({width:r.width,height:r.height})),ae=computed(()=>enforceUnit({width:r.rowWidth,height:r.height})),le=computed(()=>castArray$1(unref(r.headerHeight))),ue=Ce=>{const $e=unref(L);nextTick$1(()=>{$e!=null&&$e.scroll&&$e.scroll({left:Ce})})},he=()=>{const Ce=y.e("fixed-header-row"),{columns:$e,fixedHeaderData:Oe,rowHeight:xe}=r;return Oe==null?void 0:Oe.map((Ne,Ie)=>{var Fe;const Ve=enforceUnit({height:xe,width:"100%"});return(Fe=n.fixed)==null?void 0:Fe.call(n,{class:Ce,columns:$e,rowData:Ne,rowIndex:-(Ie+1),style:Ve})})},_e=()=>{const Ce=y.e("dynamic-header-row"),{columns:$e}=r;return unref(le).map((Oe,xe)=>{var Ne;const Ie=enforceUnit({width:"100%",height:Oe});return(Ne=n.dynamic)==null?void 0:Ne.call(n,{class:Ce,columns:$e,headerIndex:xe,style:Ie})})};return onUpdated(()=>{$!=null&&$.value&&ue($.value)}),g({scrollToLeft:ue}),()=>{if(!(r.height<=0))return createVNode$1("div",{ref:L,class:r.class,style:unref(re),role:"rowgroup"},[createVNode$1("div",{style:unref(ae),class:y.e("header")},[_e(),he()])])}}});var Header$1=TableV2Header;const useGridWheel=({atXEndEdge:r,atXStartEdge:n,atYEndEdge:g,atYStartEdge:y},$)=>{let L=null,re=0,ae=0;const le=(he,_e)=>{const Ce=he<=0&&n.value||he>=0&&r.value,$e=_e<=0&&y.value||_e>=0&&g.value;return Ce&&$e};return{hasReachedEdge:le,onWheel:he=>{cAF(L);let _e=he.deltaX,Ce=he.deltaY;Math.abs(_e)>Math.abs(Ce)?Ce=0:_e=0,he.shiftKey&&Ce!==0&&(_e=Ce,Ce=0),!(le(re,ae)&&le(re+_e,ae+Ce))&&(re+=_e,ae+=Ce,he.preventDefault(),L=rAF(()=>{$(re,ae),re=0,ae=0}))}}},createGrid=({name:r,clearCache:n,getColumnPosition:g,getColumnStartIndexForOffset:y,getColumnStopIndexForStartIndex:$,getEstimatedTotalHeight:L,getEstimatedTotalWidth:re,getColumnOffset:ae,getRowOffset:le,getRowPosition:ue,getRowStartIndexForOffset:he,getRowStopIndexForStartIndex:_e,initCache:Ce,injectToInstance:$e,validateProps:Oe})=>defineComponent({name:r??"ElVirtualList",props:virtualizedGridProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(xe,{emit:Ne,expose:Ie,slots:Fe}){const Ve=useNamespace$1("vl");Oe(xe);const ze=getCurrentInstance(),Ue=ref$1(Ce(xe,ze));$e==null||$e(ze,Ue);const qe=ref$1(),kt=ref$1(),Et=ref$1(),Pt=ref$1(null),At=ref$1({isScrolling:!1,scrollLeft:isNumber$2(xe.initScrollLeft)?xe.initScrollLeft:0,scrollTop:isNumber$2(xe.initScrollTop)?xe.initScrollTop:0,updateRequested:!1,xAxisScrollDir:FORWARD,yAxisScrollDir:FORWARD}),Dt=useCache(),Lt=computed(()=>Number.parseInt(`${xe.height}`,10)),hn=computed(()=>Number.parseInt(`${xe.width}`,10)),_n=computed(()=>{const{totalColumn:jn,totalRow:Zn,columnCache:Un}=xe,{isScrolling:Jn,xAxisScrollDir:tr,scrollLeft:sr}=unref(At);if(jn===0||Zn===0)return[0,0,0,0];const or=y(xe,sr,unref(Ue)),Qn=$(xe,or,sr,unref(Ue)),rr=!Jn||tr===BACKWARD?Math.max(1,Un):1,cr=!Jn||tr===FORWARD?Math.max(1,Un):1;return[Math.max(0,or-rr),Math.max(0,Math.min(jn-1,Qn+cr)),or,Qn]}),vn=computed(()=>{const{totalColumn:jn,totalRow:Zn,rowCache:Un}=xe,{isScrolling:Jn,yAxisScrollDir:tr,scrollTop:sr}=unref(At);if(jn===0||Zn===0)return[0,0,0,0];const or=he(xe,sr,unref(Ue)),Qn=_e(xe,or,sr,unref(Ue)),rr=!Jn||tr===BACKWARD?Math.max(1,Un):1,cr=!Jn||tr===FORWARD?Math.max(1,Un):1;return[Math.max(0,or-rr),Math.max(0,Math.min(Zn-1,Qn+cr)),or,Qn]}),jt=computed(()=>L(xe,unref(Ue))),$n=computed(()=>re(xe,unref(Ue))),Sn=computed(()=>{var jn;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:xe.direction,height:isNumber$2(xe.height)?`${xe.height}px`:xe.height,width:isNumber$2(xe.width)?`${xe.width}px`:xe.width},(jn=xe.style)!=null?jn:{}]}),bn=computed(()=>{const jn=`${unref($n)}px`;return{height:`${unref(jt)}px`,pointerEvents:unref(At).isScrolling?"none":void 0,width:jn}}),wn=()=>{const{totalColumn:jn,totalRow:Zn}=xe;if(jn>0&&Zn>0){const[Qn,rr,cr,vr]=unref(_n),[hr,br,pr,Tr]=unref(vn);Ne(ITEM_RENDER_EVT,{columnCacheStart:Qn,columnCacheEnd:rr,rowCacheStart:hr,rowCacheEnd:br,columnVisibleStart:cr,columnVisibleEnd:vr,rowVisibleStart:pr,rowVisibleEnd:Tr})}const{scrollLeft:Un,scrollTop:Jn,updateRequested:tr,xAxisScrollDir:sr,yAxisScrollDir:or}=unref(At);Ne(SCROLL_EVT,{xAxisScrollDir:sr,scrollLeft:Un,yAxisScrollDir:or,scrollTop:Jn,updateRequested:tr})},On=jn=>{const{clientHeight:Zn,clientWidth:Un,scrollHeight:Jn,scrollLeft:tr,scrollTop:sr,scrollWidth:or}=jn.currentTarget,Qn=unref(At);if(Qn.scrollTop===sr&&Qn.scrollLeft===tr)return;let rr=tr;if(isRTL$1(xe.direction))switch(getRTLOffsetType()){case RTL_OFFSET_NAG:rr=-tr;break;case RTL_OFFSET_POS_DESC:rr=or-Un-tr;break}At.value={...Qn,isScrolling:!0,scrollLeft:rr,scrollTop:Math.max(0,Math.min(sr,Jn-Zn)),updateRequested:!0,xAxisScrollDir:getScrollDir(Qn.scrollLeft,rr),yAxisScrollDir:getScrollDir(Qn.scrollTop,sr)},nextTick$1(()=>Dn()),In(),wn()},Tn=(jn,Zn)=>{const Un=unref(Lt),Jn=(jt.value-Un)/Zn*jn;An({scrollTop:Math.min(jt.value-Un,Jn)})},xn=(jn,Zn)=>{const Un=unref(hn),Jn=($n.value-Un)/Zn*jn;An({scrollLeft:Math.min($n.value-Un,Jn)})},{onWheel:Pn}=useGridWheel({atXStartEdge:computed(()=>At.value.scrollLeft<=0),atXEndEdge:computed(()=>At.value.scrollLeft>=$n.value-unref(hn)),atYStartEdge:computed(()=>At.value.scrollTop<=0),atYEndEdge:computed(()=>At.value.scrollTop>=jt.value-unref(Lt))},(jn,Zn)=>{var Un,Jn,tr,sr;(Jn=(Un=kt.value)==null?void 0:Un.onMouseUp)==null||Jn.call(Un),(sr=(tr=Et.value)==null?void 0:tr.onMouseUp)==null||sr.call(tr);const or=unref(hn),Qn=unref(Lt);An({scrollLeft:Math.min(At.value.scrollLeft+jn,$n.value-or),scrollTop:Math.min(At.value.scrollTop+Zn,jt.value-Qn)})});useEventListener(qe,"wheel",Pn,{passive:!1});const An=({scrollLeft:jn=At.value.scrollLeft,scrollTop:Zn=At.value.scrollTop})=>{jn=Math.max(jn,0),Zn=Math.max(Zn,0);const Un=unref(At);Zn===Un.scrollTop&&jn===Un.scrollLeft||(At.value={...Un,xAxisScrollDir:getScrollDir(Un.scrollLeft,jn),yAxisScrollDir:getScrollDir(Un.scrollTop,Zn),scrollLeft:jn,scrollTop:Zn,updateRequested:!0},nextTick$1(()=>Dn()),In(),wn())},Rn=(jn=0,Zn=0,Un=AUTO_ALIGNMENT)=>{const Jn=unref(At);Zn=Math.max(0,Math.min(Zn,xe.totalColumn-1)),jn=Math.max(0,Math.min(jn,xe.totalRow-1));const tr=getScrollBarWidth(Ve.namespace.value),sr=unref(Ue),or=L(xe,sr),Qn=re(xe,sr);An({scrollLeft:ae(xe,Zn,Un,Jn.scrollLeft,sr,Qn>xe.width?tr:0),scrollTop:le(xe,jn,Un,Jn.scrollTop,sr,or>xe.height?tr:0)})},Nn=(jn,Zn)=>{const{columnWidth:Un,direction:Jn,rowHeight:tr}=xe,sr=Dt.value(n&&Un,n&&tr,n&&Jn),or=`${jn},${Zn}`;if(hasOwn$1(sr,or))return sr[or];{const[,Qn]=g(xe,Zn,unref(Ue)),rr=unref(Ue),cr=isRTL$1(Jn),[vr,hr]=ue(xe,jn,rr),[br]=g(xe,Zn,rr);return sr[or]={position:"absolute",left:cr?void 0:`${Qn}px`,right:cr?`${Qn}px`:void 0,top:`${hr}px`,height:`${vr}px`,width:`${br}px`},sr[or]}},Dn=()=>{At.value.isScrolling=!1,nextTick$1(()=>{Dt.value(-1,null,null)})};onMounted(()=>{if(!isClient)return;const{initScrollLeft:jn,initScrollTop:Zn}=xe,Un=unref(qe);Un&&(isNumber$2(jn)&&(Un.scrollLeft=jn),isNumber$2(Zn)&&(Un.scrollTop=Zn)),wn()});const In=()=>{const{direction:jn}=xe,{scrollLeft:Zn,scrollTop:Un,updateRequested:Jn}=unref(At),tr=unref(qe);if(Jn&&tr){if(jn===RTL$1)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{tr.scrollLeft=-Zn;break}case RTL_OFFSET_POS_ASC:{tr.scrollLeft=Zn;break}default:{const{clientWidth:sr,scrollWidth:or}=tr;tr.scrollLeft=or-sr-Zn;break}}else tr.scrollLeft=Math.max(0,Zn);tr.scrollTop=Math.max(0,Un)}},{resetAfterColumnIndex:Fn,resetAfterRowIndex:Bn,resetAfter:Mn}=ze.proxy;Ie({windowRef:qe,innerRef:Pt,getItemStyleCache:Dt,scrollTo:An,scrollToItem:Rn,states:At,resetAfterColumnIndex:Fn,resetAfterRowIndex:Bn,resetAfter:Mn});const Hn=()=>{const{scrollbarAlwaysOn:jn,scrollbarStartGap:Zn,scrollbarEndGap:Un,totalColumn:Jn,totalRow:tr}=xe,sr=unref(hn),or=unref(Lt),Qn=unref($n),rr=unref(jt),{scrollLeft:cr,scrollTop:vr}=unref(At),hr=h$1(ScrollBar,{ref:kt,alwaysOn:jn,startGap:Zn,endGap:Un,class:Ve.e("horizontal"),clientSize:sr,layout:"horizontal",onScroll:xn,ratio:sr*100/Qn,scrollFrom:cr/(Qn-sr),total:tr,visible:!0}),br=h$1(ScrollBar,{ref:Et,alwaysOn:jn,startGap:Zn,endGap:Un,class:Ve.e("vertical"),clientSize:or,layout:"vertical",onScroll:Tn,ratio:or*100/rr,scrollFrom:vr/(rr-or),total:Jn,visible:!0});return{horizontalScrollbar:hr,verticalScrollbar:br}},Yn=()=>{var jn;const[Zn,Un]=unref(_n),[Jn,tr]=unref(vn),{data:sr,totalColumn:or,totalRow:Qn,useIsScrolling:rr,itemKey:cr}=xe,vr=[];if(Qn>0&&or>0)for(let hr=Jn;hr<=tr;hr++)for(let br=Zn;br<=Un;br++){const pr=cr({columnIndex:br,data:sr,rowIndex:hr});vr.push(h$1(Fragment,{key:pr},(jn=Fe.default)==null?void 0:jn.call(Fe,{columnIndex:br,data:sr,isScrolling:rr?unref(At).isScrolling:void 0,style:Nn(hr,br),rowIndex:hr})))}return vr},qn=()=>{const jn=resolveDynamicComponent(xe.innerElement),Zn=Yn();return[h$1(jn,{style:unref(bn),ref:Pt},isString$3(jn)?Zn:{default:()=>Zn})]};return()=>{const jn=resolveDynamicComponent(xe.containerElement),{horizontalScrollbar:Zn,verticalScrollbar:Un}=Hn(),Jn=qn();return h$1("div",{key:0,class:Ve.e("wrapper"),role:xe.role},[h$1(jn,{class:xe.className,style:unref(Sn),onScroll:On,ref:qe},isString$3(jn)?Jn:{default:()=>Jn}),Zn,Un])}}}),{max:max$4,min:min$4,floor:floor$1}=Math,ACCESS_SIZER_KEY_MAP={column:"columnWidth",row:"rowHeight"},ACCESS_LAST_VISITED_KEY_MAP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},getItemFromCache=(r,n,g,y)=>{const[$,L,re]=[g[y],r[ACCESS_SIZER_KEY_MAP[y]],g[ACCESS_LAST_VISITED_KEY_MAP[y]]];if(n>re){let ae=0;if(re>=0){const le=$[re];ae=le.offset+le.size}for(let le=re+1;le<=n;le++){const ue=L(le);$[le]={offset:ae,size:ue},ae+=ue}g[ACCESS_LAST_VISITED_KEY_MAP[y]]=n}return $[n]},bs=(r,n,g,y,$,L)=>{for(;g<=y;){const re=g+floor$1((y-g)/2),ae=getItemFromCache(r,re,n,L).offset;if(ae===$)return re;ae<$?g=re+1:y=re-1}return max$4(0,g-1)},es=(r,n,g,y,$)=>{const L=$==="column"?r.totalColumn:r.totalRow;let re=1;for(;g<L&&getItemFromCache(r,g,n,$).offset<y;)g+=re,re*=2;return bs(r,n,floor$1(g/2),min$4(g,L-1),y,$)},findItem=(r,n,g,y)=>{const[$,L]=[n[y],n[ACCESS_LAST_VISITED_KEY_MAP[y]]];return(L>0?$[L].offset:0)>=g?bs(r,n,0,L,g,y):es(r,n,max$4(0,L),g,y)},getEstimatedTotalHeight=({totalRow:r},{estimatedRowHeight:n,lastVisitedRowIndex:g,row:y})=>{let $=0;if(g>=r&&(g=r-1),g>=0){const ae=y[g];$=ae.offset+ae.size}const re=(r-g-1)*n;return $+re},getEstimatedTotalWidth=({totalColumn:r},{column:n,estimatedColumnWidth:g,lastVisitedColumnIndex:y})=>{let $=0;if(y>r&&(y=r-1),y>=0){const ae=n[y];$=ae.offset+ae.size}const re=(r-y-1)*g;return $+re},ACCESS_ESTIMATED_SIZE_KEY_MAP={column:getEstimatedTotalWidth,row:getEstimatedTotalHeight},getOffset=(r,n,g,y,$,L,re)=>{const[ae,le]=[L==="row"?r.height:r.width,ACCESS_ESTIMATED_SIZE_KEY_MAP[L]],ue=getItemFromCache(r,n,$,L),he=le(r,$),_e=max$4(0,min$4(he-ae,ue.offset)),Ce=max$4(0,ue.offset-ae+re+ue.size);switch(g===SMART_ALIGNMENT&&(y>=Ce-ae&&y<=_e+ae?g=AUTO_ALIGNMENT:g=CENTERED_ALIGNMENT),g){case START_ALIGNMENT:return _e;case END_ALIGNMENT:return Ce;case CENTERED_ALIGNMENT:return Math.round(Ce+(_e-Ce)/2);case AUTO_ALIGNMENT:default:return y>=Ce&&y<=_e?y:Ce>_e||y<Ce?Ce:_e}},DynamicSizeGrid=createGrid({name:"ElDynamicSizeGrid",getColumnPosition:(r,n,g)=>{const y=getItemFromCache(r,n,g,"column");return[y.size,y.offset]},getRowPosition:(r,n,g)=>{const y=getItemFromCache(r,n,g,"row");return[y.size,y.offset]},getColumnOffset:(r,n,g,y,$,L)=>getOffset(r,n,g,y,$,"column",L),getRowOffset:(r,n,g,y,$,L)=>getOffset(r,n,g,y,$,"row",L),getColumnStartIndexForOffset:(r,n,g)=>findItem(r,g,n,"column"),getColumnStopIndexForStartIndex:(r,n,g,y)=>{const $=getItemFromCache(r,n,y,"column"),L=g+r.width;let re=$.offset+$.size,ae=n;for(;ae<r.totalColumn-1&&re<L;)ae++,re+=getItemFromCache(r,n,y,"column").size;return ae},getEstimatedTotalHeight,getEstimatedTotalWidth,getRowStartIndexForOffset:(r,n,g)=>findItem(r,g,n,"row"),getRowStopIndexForStartIndex:(r,n,g,y)=>{const{totalRow:$,height:L}=r,re=getItemFromCache(r,n,y,"row"),ae=g+L;let le=re.size+re.offset,ue=n;for(;ue<$-1&&le<ae;)ue++,le+=getItemFromCache(r,ue,y,"row").size;return ue},injectToInstance:(r,n)=>{const g=({columnIndex:L,rowIndex:re},ae)=>{var le,ue;ae=isUndefined(ae)?!0:ae,isNumber$2(L)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,L-1)),isNumber$2(re)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,re-1)),(le=r.exposed)==null||le.getItemStyleCache.value(-1,null,null),ae&&((ue=r.proxy)==null||ue.$forceUpdate())},y=(L,re)=>{g({columnIndex:L},re)},$=(L,re)=>{g({rowIndex:L},re)};Object.assign(r.proxy,{resetAfterColumnIndex:y,resetAfterRowIndex:$,resetAfter:g})},initCache:({estimatedColumnWidth:r=DEFAULT_DYNAMIC_LIST_ITEM_SIZE,estimatedRowHeight:n=DEFAULT_DYNAMIC_LIST_ITEM_SIZE})=>({column:{},estimatedColumnWidth:r,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:r,rowHeight:n})=>{}}),FixedSizeGrid=createGrid({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:r},n)=>[r,n*r],getRowPosition:({rowHeight:r},n)=>[r,n*r],getEstimatedTotalHeight:({totalRow:r,rowHeight:n})=>n*r,getEstimatedTotalWidth:({totalColumn:r,columnWidth:n})=>n*r,getColumnOffset:({totalColumn:r,columnWidth:n,width:g},y,$,L,re,ae)=>{g=Number(g);const le=Math.max(0,r*n-g),ue=Math.min(le,y*n),he=Math.max(0,y*n-g+ae+n);switch($==="smart"&&(L>=he-g&&L<=ue+g?$=AUTO_ALIGNMENT:$=CENTERED_ALIGNMENT),$){case START_ALIGNMENT:return ue;case END_ALIGNMENT:return he;case CENTERED_ALIGNMENT:{const _e=Math.round(he+(ue-he)/2);return _e<Math.ceil(g/2)?0:_e>le+Math.floor(g/2)?le:_e}case AUTO_ALIGNMENT:default:return L>=he&&L<=ue?L:he>ue||L<he?he:ue}},getRowOffset:({rowHeight:r,height:n,totalRow:g},y,$,L,re,ae)=>{n=Number(n);const le=Math.max(0,g*r-n),ue=Math.min(le,y*r),he=Math.max(0,y*r-n+ae+r);switch($===SMART_ALIGNMENT&&(L>=he-n&&L<=ue+n?$=AUTO_ALIGNMENT:$=CENTERED_ALIGNMENT),$){case START_ALIGNMENT:return ue;case END_ALIGNMENT:return he;case CENTERED_ALIGNMENT:{const _e=Math.round(he+(ue-he)/2);return _e<Math.ceil(n/2)?0:_e>le+Math.floor(n/2)?le:_e}case AUTO_ALIGNMENT:default:return L>=he&&L<=ue?L:he>ue||L<he?he:ue}},getColumnStartIndexForOffset:({columnWidth:r,totalColumn:n},g)=>Math.max(0,Math.min(n-1,Math.floor(g/r))),getColumnStopIndexForStartIndex:({columnWidth:r,totalColumn:n,width:g},y,$)=>{const L=y*r,re=Math.ceil((g+$-L)/r);return Math.max(0,Math.min(n-1,y+re-1))},getRowStartIndexForOffset:({rowHeight:r,totalRow:n},g)=>Math.max(0,Math.min(n-1,Math.floor(g/r))),getRowStopIndexForStartIndex:({rowHeight:r,totalRow:n,height:g},y,$)=>{const L=y*r,re=Math.ceil((g+$-L)/r);return Math.max(0,Math.min(n-1,y+re-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:r,rowHeight:n})=>{}}),COMPONENT_NAME$6="ElTableV2Grid",useTableGrid=r=>{const n=ref$1(),g=ref$1(),y=ref$1(0),$=computed(()=>{const{data:Ne,rowHeight:Ie,estimatedRowHeight:Fe}=r;if(!Fe)return Ne.length*Ie}),L=computed(()=>{const{fixedData:Ne,rowHeight:Ie}=r;return((Ne==null?void 0:Ne.length)||0)*Ie}),re=computed(()=>sum$1(r.headerHeight)),ae=computed(()=>{const{height:Ne}=r;return Math.max(0,Ne-unref(re)-unref(L))}),le=computed(()=>unref(re)+unref(L)>0),ue=({data:Ne,rowIndex:Ie})=>Ne[Ie][r.rowKey];function he({rowCacheStart:Ne,rowCacheEnd:Ie,rowVisibleStart:Fe,rowVisibleEnd:Ve}){var ze;(ze=r.onRowsRendered)==null||ze.call(r,{rowCacheStart:Ne,rowCacheEnd:Ie,rowVisibleStart:Fe,rowVisibleEnd:Ve})}function _e(Ne,Ie){var Fe;(Fe=g.value)==null||Fe.resetAfterRowIndex(Ne,Ie)}function Ce(Ne,Ie){const Fe=unref(n),Ve=unref(g);isObject$7(Ne)?(Fe==null||Fe.scrollToLeft(Ne.scrollLeft),y.value=Ne.scrollLeft,Ve==null||Ve.scrollTo(Ne)):(Fe==null||Fe.scrollToLeft(Ne),y.value=Ne,Ve==null||Ve.scrollTo({scrollLeft:Ne,scrollTop:Ie}))}function $e(Ne){var Ie;(Ie=unref(g))==null||Ie.scrollTo({scrollTop:Ne})}function Oe(Ne,Ie){var Fe;(Fe=unref(g))==null||Fe.scrollToItem(Ne,1,Ie)}function xe(){var Ne,Ie;(Ne=unref(g))==null||Ne.$forceUpdate(),(Ie=unref(n))==null||Ie.$forceUpdate()}return{bodyRef:g,forceUpdate:xe,fixedRowHeight:L,gridHeight:ae,hasHeader:le,headerHeight:re,headerRef:n,totalHeight:$,itemKey:ue,onItemRendered:he,resetAfterRowIndex:_e,scrollTo:Ce,scrollToTop:$e,scrollToRow:Oe,scrollLeft:y}},TableGrid=defineComponent({name:COMPONENT_NAME$6,props:tableV2GridProps,setup(r,{slots:n,expose:g}){const{ns:y}=inject(TableV2InjectionKey),{bodyRef:$,fixedRowHeight:L,gridHeight:re,hasHeader:ae,headerRef:le,headerHeight:ue,totalHeight:he,forceUpdate:_e,itemKey:Ce,onItemRendered:$e,resetAfterRowIndex:Oe,scrollTo:xe,scrollToTop:Ne,scrollToRow:Ie,scrollLeft:Fe}=useTableGrid(r);provide("tableV2GridScrollLeft",Fe),g({forceUpdate:_e,totalHeight:he,scrollTo:xe,scrollToTop:Ne,scrollToRow:Ie,resetAfterRowIndex:Oe});const Ve=()=>r.bodyWidth;return()=>{const{cache:ze,columns:Ue,data:qe,fixedData:kt,useIsScrolling:Et,scrollbarAlwaysOn:Pt,scrollbarEndGap:At,scrollbarStartGap:Dt,style:Lt,rowHeight:hn,bodyWidth:_n,estimatedRowHeight:vn,headerWidth:jt,height:$n,width:Sn,getRowHeight:bn,onScroll:wn}=r,On=isNumber$2(vn),Tn=On?DynamicSizeGrid:FixedSizeGrid,xn=unref(ue);return createVNode$1("div",{role:"table",class:[y.e("table"),r.class],style:Lt},[createVNode$1(Tn,{ref:$,data:qe,useIsScrolling:Et,itemKey:Ce,columnCache:0,columnWidth:On?Ve:_n,totalColumn:1,totalRow:qe.length,rowCache:ze,rowHeight:On?bn:hn,width:Sn,height:unref(re),class:y.e("body"),role:"rowgroup",scrollbarStartGap:Dt,scrollbarEndGap:At,scrollbarAlwaysOn:Pt,onScroll:wn,onItemRendered:$e,perfMode:!1},{default:Pn=>{var An;const Rn=qe[Pn.rowIndex];return(An=n.row)==null?void 0:An.call(n,{...Pn,columns:Ue,rowData:Rn})}}),unref(ae)&&createVNode$1(Header$1,{ref:le,class:y.e("header-wrapper"),columns:Ue,headerData:qe,headerHeight:r.headerHeight,fixedHeaderData:kt,rowWidth:jt,rowHeight:hn,width:Sn,height:Math.min(xn+unref(L),$n)},{dynamic:n.header,fixed:n.row})])}}});var Table=TableGrid;function _isSlot$5(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!isVNode(r)}const MainTable=(r,{slots:n})=>{const{mainTableRef:g,...y}=r;return createVNode$1(Table,mergeProps({ref:g},y),_isSlot$5(n)?n:{default:()=>[n]})};var MainTable$1=MainTable;function _isSlot$4(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!isVNode(r)}const LeftTable$1=(r,{slots:n})=>{if(!r.columns.length)return;const{leftTableRef:g,...y}=r;return createVNode$1(Table,mergeProps({ref:g},y),_isSlot$4(n)?n:{default:()=>[n]})};var LeftTable$1$1=LeftTable$1;function _isSlot$3(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!isVNode(r)}const LeftTable=(r,{slots:n})=>{if(!r.columns.length)return;const{rightTableRef:g,...y}=r;return createVNode$1(Table,mergeProps({ref:g},y),_isSlot$3(n)?n:{default:()=>[n]})};var RightTable=LeftTable;const useTableRow=r=>{const{isScrolling:n}=inject(TableV2InjectionKey),g=ref$1(!1),y=ref$1(),$=computed(()=>isNumber$2(r.estimatedRowHeight)&&r.rowIndex>=0),L=(le=!1)=>{const ue=unref(y);if(!ue)return;const{columns:he,onRowHeightChange:_e,rowKey:Ce,rowIndex:$e,style:Oe}=r,{height:xe}=ue.getBoundingClientRect();g.value=!0,nextTick$1(()=>{if(le||xe!==Number.parseInt(Oe.height)){const Ne=he[0],Ie=(Ne==null?void 0:Ne.placeholderSign)===placeholderSign;_e==null||_e({rowKey:Ce,height:xe,rowIndex:$e},Ne&&!Ie&&Ne.fixed)}})},re=computed(()=>{const{rowData:le,rowIndex:ue,rowKey:he,onRowHover:_e}=r,Ce=r.rowEventHandlers||{},$e={};return Object.entries(Ce).forEach(([Oe,xe])=>{isFunction$3(xe)&&($e[Oe]=Ne=>{xe({event:Ne,rowData:le,rowIndex:ue,rowKey:he})})}),_e&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:Oe,hovered:xe})=>{const Ne=$e[Oe];$e[Oe]=Ie=>{_e({event:Ie,hovered:xe,rowData:le,rowIndex:ue,rowKey:he}),Ne==null||Ne(Ie)}}),$e}),ae=le=>{const{onRowExpand:ue,rowData:he,rowIndex:_e,rowKey:Ce}=r;ue==null||ue({expanded:le,rowData:he,rowIndex:_e,rowKey:Ce})};return onMounted(()=>{unref($)&&L(!0)}),{isScrolling:n,measurable:$,measured:g,rowRef:y,eventHandlers:re,onExpand:ae}},COMPONENT_NAME$5="ElTableV2TableRow",TableV2Row=defineComponent({name:COMPONENT_NAME$5,props:tableV2RowProps,setup(r,{expose:n,slots:g,attrs:y}){const{eventHandlers:$,isScrolling:L,measurable:re,measured:ae,rowRef:le,onExpand:ue}=useTableRow(r);return n({onExpand:ue}),()=>{const{columns:he,columnsStyles:_e,expandColumnKey:Ce,depth:$e,rowData:Oe,rowIndex:xe,style:Ne}=r;let Ie=he.map((Fe,Ve)=>{const ze=isArray$5(Oe.children)&&Oe.children.length>0&&Fe.key===Ce;return g.cell({column:Fe,columns:he,columnIndex:Ve,depth:$e,style:_e[Fe.key],rowData:Oe,rowIndex:xe,isScrolling:unref(L),expandIconProps:ze?{rowData:Oe,rowIndex:xe,onExpand:ue}:void 0})});if(g.row&&(Ie=g.row({cells:Ie.map(Fe=>isArray$5(Fe)&&Fe.length===1?Fe[0]:Fe),style:Ne,columns:he,depth:$e,rowData:Oe,rowIndex:xe,isScrolling:unref(L)})),unref(re)){const{height:Fe,...Ve}=Ne||{},ze=unref(ae);return createVNode$1("div",mergeProps({ref:le,class:r.class,style:ze?Ne:Ve,role:"row"},y,unref($)),[Ie])}return createVNode$1("div",mergeProps(y,{ref:le,class:r.class,style:Ne,role:"row"},unref($)),[Ie])}}});var Row$1=TableV2Row;function _isSlot$2(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!isVNode(r)}const RowRenderer=(r,{slots:n})=>{const{columns:g,columnsStyles:y,depthMap:$,expandColumnKey:L,expandedRowKeys:re,estimatedRowHeight:ae,hasFixedColumns:le,rowData:ue,rowIndex:he,style:_e,isScrolling:Ce,rowProps:$e,rowClass:Oe,rowKey:xe,rowEventHandlers:Ne,ns:Ie,onRowHovered:Fe,onRowExpanded:Ve}=r,ze=tryCall(Oe,{columns:g,rowData:ue,rowIndex:he},""),Ue=tryCall($e,{columns:g,rowData:ue,rowIndex:he}),qe=ue[xe],kt=$[qe]||0,Et=!!L,Pt=he<0,At=[Ie.e("row"),ze,{[Ie.e(`row-depth-${kt}`)]:Et&&he>=0,[Ie.is("expanded")]:Et&&re.includes(qe),[Ie.is("fixed")]:!kt&&Pt,[Ie.is("customized")]:!!n.row}],Dt=le?Fe:void 0,Lt={...Ue,columns:g,columnsStyles:y,class:At,depth:kt,expandColumnKey:L,estimatedRowHeight:Pt?void 0:ae,isScrolling:Ce,rowIndex:he,rowData:ue,rowKey:qe,rowEventHandlers:Ne,style:_e};return createVNode$1(Row$1,mergeProps(Lt,{onRowExpand:Ve,onMouseenter:vn=>{Dt==null||Dt({hovered:!0,rowKey:qe,event:vn,rowData:ue,rowIndex:he})},onMouseleave:vn=>{Dt==null||Dt({hovered:!1,rowKey:qe,event:vn,rowData:ue,rowIndex:he})},rowkey:qe}),_isSlot$2(n)?n:{default:()=>[n]})};var Row=RowRenderer;const TableV2Cell=(r,{slots:n})=>{var g;const{cellData:y,style:$}=r,L=((g=y==null?void 0:y.toString)==null?void 0:g.call(y))||"",re=renderSlot(n,"default",r,()=>[L]);return createVNode$1("div",{class:r.class,title:L,style:$},[re])};TableV2Cell.displayName="ElTableV2Cell";TableV2Cell.inheritAttrs=!1;var TableCell=TableV2Cell;const ExpandIcon=r=>{const{expanded:n,expandable:g,onExpand:y,style:$,size:L}=r,re={onClick:g?()=>y(!n):void 0,class:r.class};return createVNode$1(ElIcon,mergeProps(re,{size:L,style:$}),{default:()=>[createVNode$1(arrow_right_default,null,null)]})};var ExpandIcon$1=ExpandIcon;const CellRenderer=({columns:r,column:n,columnIndex:g,depth:y,expandIconProps:$,isScrolling:L,rowData:re,rowIndex:ae,style:le,expandedRowKeys:ue,ns:he,cellProps:_e,expandColumnKey:Ce,indentSize:$e,iconSize:Oe,rowKey:xe},{slots:Ne})=>{const Ie=enforceUnit(le);if(n.placeholderSign===placeholderSign)return createVNode$1("div",{class:he.em("row-cell","placeholder"),style:Ie},null);const{cellRenderer:Fe,dataKey:Ve,dataGetter:ze}=n,Ue=isFunction$3(ze)?ze({columns:r,column:n,columnIndex:g,rowData:re,rowIndex:ae}):get$1(re,Ve??""),qe=tryCall(_e,{cellData:Ue,columns:r,column:n,columnIndex:g,rowIndex:ae,rowData:re}),kt={class:he.e("cell-text"),columns:r,column:n,columnIndex:g,cellData:Ue,isScrolling:L,rowData:re,rowIndex:ae},Et=componentToSlot(Fe),Pt=Et?Et(kt):renderSlot(Ne,"default",kt,()=>[createVNode$1(TableCell,kt,null)]),At=[he.e("row-cell"),n.class,n.align===Alignment.CENTER&&he.is("align-center"),n.align===Alignment.RIGHT&&he.is("align-right")],Dt=ae>=0&&Ce&&n.key===Ce,Lt=ae>=0&&ue.includes(re[xe]);let hn;const _n=`margin-inline-start: ${y*$e}px;`;return Dt&&(isObject$7($)?hn=createVNode$1(ExpandIcon$1,mergeProps($,{class:[he.e("expand-icon"),he.is("expanded",Lt)],size:Oe,expanded:Lt,style:_n,expandable:!0}),null):hn=createVNode$1("div",{style:[_n,`width: ${Oe}px; height: ${Oe}px;`].join(" ")},null)),createVNode$1("div",mergeProps({class:At,style:Ie},qe,{role:"cell"}),[hn,Pt])};CellRenderer.inheritAttrs=!1;var Cell=CellRenderer;const tableV2HeaderRowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},headerIndex:Number,style:{type:definePropType(Object)}}),TableV2HeaderRow=defineComponent({name:"ElTableV2HeaderRow",props:tableV2HeaderRowProps,setup(r,{slots:n}){return()=>{const{columns:g,columnsStyles:y,headerIndex:$,style:L}=r;let re=g.map((ae,le)=>n.cell({columns:g,column:ae,columnIndex:le,headerIndex:$,style:y[ae.key]}));return n.header&&(re=n.header({cells:re.map(ae=>isArray$5(ae)&&ae.length===1?ae[0]:ae),columns:g,headerIndex:$})),createVNode$1("div",{class:r.class,style:L,role:"row"},[re])}}});var HeaderRow=TableV2HeaderRow;function _isSlot$1(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!isVNode(r)}const HeaderRenderer=({columns:r,columnsStyles:n,headerIndex:g,style:y,headerClass:$,headerProps:L,ns:re},{slots:ae})=>{const le={columns:r,headerIndex:g},ue=[re.e("header-row"),tryCall($,le,""),{[re.is("customized")]:!!ae.header}],he={...tryCall(L,le),columnsStyles:n,class:ue,columns:r,headerIndex:g,style:y};return createVNode$1(HeaderRow,he,_isSlot$1(ae)?ae:{default:()=>[ae]})};var Header=HeaderRenderer;const HeaderCell$1=(r,{slots:n})=>renderSlot(n,"default",r,()=>{var g,y;return[createVNode$1("div",{class:r.class,title:(g=r.column)==null?void 0:g.title},[(y=r.column)==null?void 0:y.title])]});HeaderCell$1.displayName="ElTableV2HeaderCell";HeaderCell$1.inheritAttrs=!1;var HeaderCell$1$1=HeaderCell$1;const SortIcon=r=>{const{sortOrder:n}=r;return createVNode$1(ElIcon,{size:14,class:r.class},{default:()=>[n===SortOrder.ASC?createVNode$1(sort_up_default,null,null):createVNode$1(sort_down_default,null,null)]})};var SortIcon$1=SortIcon;const HeaderCellRenderer=(r,{slots:n})=>{const{column:g,ns:y,style:$,onColumnSorted:L}=r,re=enforceUnit($);if(g.placeholderSign===placeholderSign)return createVNode$1("div",{class:y.em("header-row-cell","placeholder"),style:re},null);const{headerCellRenderer:ae,headerClass:le,sortable:ue}=g,he={...r,class:y.e("header-cell-text")},_e=componentToSlot(ae),Ce=_e?_e(he):renderSlot(n,"default",he,()=>[createVNode$1(HeaderCell$1$1,he,null)]),{sortBy:$e,sortState:Oe,headerCellProps:xe}=r;let Ne,Ie;if(Oe){const ze=Oe[g.key];Ne=!!oppositeOrderMap[ze],Ie=Ne?ze:SortOrder.ASC}else Ne=g.key===$e.key,Ie=Ne?$e.order:SortOrder.ASC;const Fe=[y.e("header-cell"),tryCall(le,r,""),g.align===Alignment.CENTER&&y.is("align-center"),g.align===Alignment.RIGHT&&y.is("align-right"),ue&&y.is("sortable")],Ve={...tryCall(xe,r),onClick:g.sortable?L:void 0,class:Fe,style:re,"data-key":g.key};return createVNode$1("div",mergeProps(Ve,{role:"columnheader"}),[Ce,ue&&createVNode$1(SortIcon$1,{class:[y.e("sort-icon"),Ne&&y.is("sorting")],sortOrder:Ie},null)])};var HeaderCell=HeaderCellRenderer;const Footer$1=(r,{slots:n})=>{var g;return createVNode$1("div",{class:r.class,style:r.style},[(g=n.default)==null?void 0:g.call(n)])};Footer$1.displayName="ElTableV2Footer";var Footer$1$1=Footer$1;const Footer=(r,{slots:n})=>{const g=renderSlot(n,"default",{},()=>[createVNode$1(ElEmpty,null,null)]);return createVNode$1("div",{class:r.class,style:r.style},[g])};Footer.displayName="ElTableV2Empty";var Empty=Footer;const Overlay=(r,{slots:n})=>{var g;return createVNode$1("div",{class:r.class,style:r.style},[(g=n.default)==null?void 0:g.call(n)])};Overlay.displayName="ElTableV2Overlay";var Overlay$1=Overlay;function _isSlot(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!isVNode(r)}const COMPONENT_NAME$4="ElTableV2",TableV2=defineComponent({name:COMPONENT_NAME$4,props:tableV2Props,setup(r,{slots:n,expose:g}){const y=useNamespace$1("table-v2"),{columnsStyles:$,fixedColumnsOnLeft:L,fixedColumnsOnRight:re,mainColumns:ae,mainTableHeight:le,fixedTableHeight:ue,leftTableWidth:he,rightTableWidth:_e,data:Ce,depthMap:$e,expandedRowKeys:Oe,hasFixedColumns:xe,mainTableRef:Ne,leftTableRef:Ie,rightTableRef:Fe,isDynamic:Ve,isResetting:ze,isScrolling:Ue,bodyWidth:qe,emptyStyle:kt,rootStyle:Et,headerWidth:Pt,footerHeight:At,showEmpty:Dt,scrollTo:Lt,scrollToLeft:hn,scrollToTop:_n,scrollToRow:vn,getRowHeight:jt,onColumnSorted:$n,onRowHeightChange:Sn,onRowHovered:bn,onRowExpanded:wn,onRowsRendered:On,onScroll:Tn,onVerticalScroll:xn}=useTable$1(r);return g({scrollTo:Lt,scrollToLeft:hn,scrollToTop:_n,scrollToRow:vn}),provide(TableV2InjectionKey,{ns:y,isResetting:ze,isScrolling:Ue}),()=>{const{cache:Pn,cellProps:An,estimatedRowHeight:Rn,expandColumnKey:Nn,fixedData:Dn,headerHeight:In,headerClass:Fn,headerProps:Bn,headerCellProps:Mn,sortBy:Hn,sortState:Yn,rowHeight:qn,rowClass:Xn,rowEventHandlers:jn,rowKey:Zn,rowProps:Un,scrollbarAlwaysOn:Jn,indentSize:tr,iconSize:sr,useIsScrolling:or,vScrollbarSize:Qn,width:rr}=r,cr=unref(Ce),vr={cache:Pn,class:y.e("main"),columns:unref(ae),data:cr,fixedData:Dn,estimatedRowHeight:Rn,bodyWidth:unref(qe)+Qn,headerHeight:In,headerWidth:unref(Pt),height:unref(le),mainTableRef:Ne,rowKey:Zn,rowHeight:qn,scrollbarAlwaysOn:Jn,scrollbarStartGap:2,scrollbarEndGap:Qn,useIsScrolling:or,width:rr,getRowHeight:jt,onRowsRendered:On,onScroll:Tn},hr=unref(he),br=unref(ue),pr={cache:Pn,class:y.e("left"),columns:unref(L),data:cr,estimatedRowHeight:Rn,leftTableRef:Ie,rowHeight:qn,bodyWidth:hr,headerWidth:hr,headerHeight:In,height:br,rowKey:Zn,scrollbarAlwaysOn:Jn,scrollbarStartGap:2,scrollbarEndGap:Qn,useIsScrolling:or,width:hr,getRowHeight:jt,onScroll:xn},_r=unref(_e)+Qn,Vn={cache:Pn,class:y.e("right"),columns:unref(re),data:cr,estimatedRowHeight:Rn,rightTableRef:Fe,rowHeight:qn,bodyWidth:_r,headerWidth:_r,headerHeight:In,height:br,rowKey:Zn,scrollbarAlwaysOn:Jn,scrollbarStartGap:2,scrollbarEndGap:Qn,width:_r,style:`--${unref(y.namespace)}-table-scrollbar-size: ${Qn}px`,useIsScrolling:or,getRowHeight:jt,onScroll:xn},kn=unref($),Ln={ns:y,depthMap:unref($e),columnsStyles:kn,expandColumnKey:Nn,expandedRowKeys:unref(Oe),estimatedRowHeight:Rn,hasFixedColumns:unref(xe),rowProps:Un,rowClass:Xn,rowKey:Zn,rowEventHandlers:jn,onRowHovered:bn,onRowExpanded:wn,onRowHeightChange:Sn},En={cellProps:An,expandColumnKey:Nn,indentSize:tr,iconSize:sr,rowKey:Zn,expandedRowKeys:unref(Oe),ns:y},zn={ns:y,headerClass:Fn,headerProps:Bn,columnsStyles:kn},Kn={ns:y,sortBy:Hn,sortState:Yn,headerCellProps:Mn,onColumnSorted:$n},ir={row:Cr=>createVNode$1(Row,mergeProps(Cr,Ln),{row:n.row,cell:mr=>{let $r;return n.cell?createVNode$1(Cell,mergeProps(mr,En,{style:kn[mr.column.key]}),_isSlot($r=n.cell(mr))?$r:{default:()=>[$r]}):createVNode$1(Cell,mergeProps(mr,En,{style:kn[mr.column.key]}),null)}}),header:Cr=>createVNode$1(Header,mergeProps(Cr,zn),{header:n.header,cell:mr=>{let $r;return n["header-cell"]?createVNode$1(HeaderCell,mergeProps(mr,Kn,{style:kn[mr.column.key]}),_isSlot($r=n["header-cell"](mr))?$r:{default:()=>[$r]}):createVNode$1(HeaderCell,mergeProps(mr,Kn,{style:kn[mr.column.key]}),null)}})},fr=[r.class,y.b(),y.e("root"),{[y.is("dynamic")]:unref(Ve)}],Sr={class:y.e("footer"),style:unref(At)};return createVNode$1("div",{class:fr,style:unref(Et)},[createVNode$1(MainTable$1,vr,_isSlot(ir)?ir:{default:()=>[ir]}),createVNode$1(LeftTable$1$1,pr,_isSlot(ir)?ir:{default:()=>[ir]}),createVNode$1(RightTable,Vn,_isSlot(ir)?ir:{default:()=>[ir]}),n.footer&&createVNode$1(Footer$1$1,Sr,{default:n.footer}),unref(Dt)&&createVNode$1(Empty,{class:y.e("empty"),style:unref(kt)},{default:n.empty}),n.overlay&&createVNode$1(Overlay$1,{class:y.e("overlay")},{default:n.overlay})])}}});var TableV2$1=TableV2;const autoResizerProps=buildProps({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:definePropType(Function)}}),useAutoResize=r=>{const n=ref$1(),g=ref$1(0),y=ref$1(0);let $;return onMounted(()=>{$=useResizeObserver(n,([L])=>{const{width:re,height:ae}=L.contentRect,{paddingLeft:le,paddingRight:ue,paddingTop:he,paddingBottom:_e}=getComputedStyle(L.target),Ce=Number.parseInt(le)||0,$e=Number.parseInt(ue)||0,Oe=Number.parseInt(he)||0,xe=Number.parseInt(_e)||0;g.value=re-Ce-$e,y.value=ae-Oe-xe}).stop}),onBeforeUnmount(()=>{$==null||$()}),watch$1([g,y],([L,re])=>{var ae;(ae=r.onResize)==null||ae.call(r,{width:L,height:re})}),{sizer:n,width:g,height:y}},AutoResizer=defineComponent({name:"ElAutoResizer",props:autoResizerProps,setup(r,{slots:n}){const g=useNamespace$1("auto-resizer"),{height:y,width:$,sizer:L}=useAutoResize(r),re={width:"100%",height:"100%"};return()=>{var ae;return createVNode$1("div",{ref:L,class:g.b(),style:re},[(ae=n.default)==null?void 0:ae.call(n,{height:y.value,width:$.value})])}}});var AutoResizer$1=AutoResizer;const ElTableV2=withInstall(TableV2$1),ElAutoResizer=withInstall(AutoResizer$1),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),COMPONENT_NAME$3="ElTabBar",__default__$u=defineComponent({name:COMPONENT_NAME$3}),_sfc_main$1U=defineComponent({...__default__$u,props:tabBarProps,setup(r,{expose:n}){const g=r,y=getCurrentInstance(),$=inject(tabsRootContextKey);$||throwError$1(COMPONENT_NAME$3,"<el-tabs><el-tab-bar /></el-tabs>");const L=useNamespace$1("tabs"),re=ref$1(),ae=ref$1(),le=()=>{let $e=0,Oe=0;const xe=["top","bottom"].includes($.props.tabPosition)?"width":"height",Ne=xe==="width"?"x":"y",Ie=Ne==="x"?"left":"top";return g.tabs.every(Fe=>{var Ve,ze;const Ue=(ze=(Ve=y.parent)==null?void 0:Ve.refs)==null?void 0:ze[`tab-${Fe.uid}`];if(!Ue)return!1;if(!Fe.active)return!0;$e=Ue[`offset${capitalize(Ie)}`],Oe=Ue[`client${capitalize(xe)}`];const qe=window.getComputedStyle(Ue);return xe==="width"&&(Oe-=Number.parseFloat(qe.paddingLeft)+Number.parseFloat(qe.paddingRight),$e+=Number.parseFloat(qe.paddingLeft)),!1}),{[xe]:`${Oe}px`,transform:`translate${capitalize(Ne)}(${$e}px)`}},ue=()=>ae.value=le(),he=[],_e=()=>{var $e;he.forEach(xe=>xe.stop()),he.length=0;const Oe=($e=y.parent)==null?void 0:$e.refs;if(Oe){for(const xe in Oe)if(xe.startsWith("tab-")){const Ne=Oe[xe];Ne&&he.push(useResizeObserver(Ne,ue))}}};watch$1(()=>g.tabs,async()=>{await nextTick$1(),ue(),_e()},{immediate:!0});const Ce=useResizeObserver(re,()=>ue());return onBeforeUnmount(()=>{he.forEach($e=>$e.stop()),he.length=0,Ce.stop()}),n({ref:re,update:ue}),($e,Oe)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:re,class:normalizeClass([unref(L).e("active-bar"),unref(L).is(unref($).props.tabPosition)]),style:normalizeStyle$1(ae.value)},null,6))}});var TabBar=_export_sfc(_sfc_main$1U,[["__file","tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(r,n,g)=>g instanceof Event,tabRemove:(r,n)=>n instanceof Event},COMPONENT_NAME$2="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$2,props:tabNavProps,emits:tabNavEmits,setup(r,{expose:n,emit:g}){const y=inject(tabsRootContextKey);y||throwError$1(COMPONENT_NAME$2,"<el-tabs><tab-nav /></el-tabs>");const $=useNamespace$1("tabs"),L=useDocumentVisibility(),re=useWindowFocus(),ae=ref$1(),le=ref$1(),ue=ref$1(),he=ref$1(),_e=ref$1(!1),Ce=ref$1(0),$e=ref$1(!1),Oe=ref$1(!0),xe=computed(()=>["top","bottom"].includes(y.props.tabPosition)?"width":"height"),Ne=computed(()=>({transform:`translate${xe.value==="width"?"X":"Y"}(-${Ce.value}px)`})),Ie=()=>{if(!ae.value)return;const Et=ae.value[`offset${capitalize(xe.value)}`],Pt=Ce.value;if(!Pt)return;const At=Pt>Et?Pt-Et:0;Ce.value=At},Fe=()=>{if(!ae.value||!le.value)return;const Et=le.value[`offset${capitalize(xe.value)}`],Pt=ae.value[`offset${capitalize(xe.value)}`],At=Ce.value;if(Et-At<=Pt)return;const Dt=Et-At>Pt*2?At+Pt:Et-Pt;Ce.value=Dt},Ve=async()=>{const Et=le.value;if(!_e.value||!ue.value||!ae.value||!Et)return;await nextTick$1();const Pt=ue.value.querySelector(".is-active");if(!Pt)return;const At=ae.value,Dt=["top","bottom"].includes(y.props.tabPosition),Lt=Pt.getBoundingClientRect(),hn=At.getBoundingClientRect(),_n=Dt?Et.offsetWidth-hn.width:Et.offsetHeight-hn.height,vn=Ce.value;let jt=vn;Dt?(Lt.left<hn.left&&(jt=vn-(hn.left-Lt.left)),Lt.right>hn.right&&(jt=vn+Lt.right-hn.right)):(Lt.top<hn.top&&(jt=vn-(hn.top-Lt.top)),Lt.bottom>hn.bottom&&(jt=vn+(Lt.bottom-hn.bottom))),jt=Math.max(jt,0),Ce.value=Math.min(jt,_n)},ze=()=>{var Et;if(!le.value||!ae.value)return;r.stretch&&((Et=he.value)==null||Et.update());const Pt=le.value[`offset${capitalize(xe.value)}`],At=ae.value[`offset${capitalize(xe.value)}`],Dt=Ce.value;At<Pt?(_e.value=_e.value||{},_e.value.prev=Dt,_e.value.next=Dt+At<Pt,Pt-Dt<At&&(Ce.value=Pt-At)):(_e.value=!1,Dt>0&&(Ce.value=0))},Ue=Et=>{let Pt=0;switch(Et.code){case EVENT_CODE.left:case EVENT_CODE.up:Pt=-1;break;case EVENT_CODE.right:case EVENT_CODE.down:Pt=1;break;default:return}const At=Array.from(Et.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let Lt=At.indexOf(Et.target)+Pt;Lt<0?Lt=At.length-1:Lt>=At.length&&(Lt=0),At[Lt].focus({preventScroll:!0}),At[Lt].click(),qe()},qe=()=>{Oe.value&&($e.value=!0)},kt=()=>$e.value=!1;return watch$1(L,Et=>{Et==="hidden"?Oe.value=!1:Et==="visible"&&setTimeout(()=>Oe.value=!0,50)}),watch$1(re,Et=>{Et?setTimeout(()=>Oe.value=!0,50):Oe.value=!1}),useResizeObserver(ue,ze),onMounted(()=>setTimeout(()=>Ve(),0)),onUpdated(()=>ze()),n({scrollToActiveTab:Ve,removeFocus:kt}),()=>{const Et=_e.value?[createVNode$1("span",{class:[$.e("nav-prev"),$.is("disabled",!_e.value.prev)],onClick:Ie},[createVNode$1(ElIcon,null,{default:()=>[createVNode$1(arrow_left_default,null,null)]})]),createVNode$1("span",{class:[$.e("nav-next"),$.is("disabled",!_e.value.next)],onClick:Fe},[createVNode$1(ElIcon,null,{default:()=>[createVNode$1(arrow_right_default,null,null)]})])]:null,Pt=r.panes.map((At,Dt)=>{var Lt,hn,_n,vn;const jt=At.uid,$n=At.props.disabled,Sn=(hn=(Lt=At.props.name)!=null?Lt:At.index)!=null?hn:`${Dt}`,bn=!$n&&(At.isClosable||r.editable);At.index=`${Dt}`;const wn=bn?createVNode$1(ElIcon,{class:"is-icon-close",onClick:xn=>g("tabRemove",At,xn)},{default:()=>[createVNode$1(close_default,null,null)]}):null,On=((vn=(_n=At.slots).label)==null?void 0:vn.call(_n))||At.props.label,Tn=!$n&&At.active?0:-1;return createVNode$1("div",{ref:`tab-${jt}`,class:[$.e("item"),$.is(y.props.tabPosition),$.is("active",At.active),$.is("disabled",$n),$.is("closable",bn),$.is("focus",$e.value)],id:`tab-${Sn}`,key:`tab-${jt}`,"aria-controls":`pane-${Sn}`,role:"tab","aria-selected":At.active,tabindex:Tn,onFocus:()=>qe(),onBlur:()=>kt(),onClick:xn=>{kt(),g("tabClick",At,Sn,xn)},onKeydown:xn=>{bn&&(xn.code===EVENT_CODE.delete||xn.code===EVENT_CODE.backspace)&&g("tabRemove",At,xn)}},[On,wn])});return createVNode$1("div",{ref:ue,class:[$.e("nav-wrap"),$.is("scrollable",!!_e.value),$.is(y.props.tabPosition)]},[Et,createVNode$1("div",{class:$.e("nav-scroll"),ref:ae},[createVNode$1("div",{class:[$.e("nav"),$.is(y.props.tabPosition),$.is("stretch",r.stretch&&["top","bottom"].includes(y.props.tabPosition))],ref:le,style:Ne.value,role:"tablist",onKeydown:Ue},[r.type?null:createVNode$1(TabBar,{ref:he,tabs:[...r.panes]},null),Pt])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=r=>isString$3(r)||isNumber$2(r),tabsEmits={[UPDATE_MODEL_EVENT]:r=>isPaneName(r),tabClick:(r,n)=>n instanceof Event,tabChange:r=>isPaneName(r),edit:(r,n)=>["remove","add"].includes(n),tabRemove:r=>isPaneName(r),tabAdd:()=>!0},Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(r,{emit:n,slots:g,expose:y}){var $;const L=useNamespace$1("tabs"),re=computed(()=>["left","right"].includes(r.tabPosition)),{children:ae,addChild:le,removeChild:ue}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),he=ref$1(),_e=ref$1(($=r.modelValue)!=null?$:"0"),Ce=async(Ie,Fe=!1)=>{var Ve,ze,Ue;if(!(_e.value===Ie||isUndefined(Ie)))try{await((Ve=r.beforeLeave)==null?void 0:Ve.call(r,Ie,_e.value))!==!1&&(_e.value=Ie,Fe&&(n(UPDATE_MODEL_EVENT,Ie),n("tabChange",Ie)),(Ue=(ze=he.value)==null?void 0:ze.removeFocus)==null||Ue.call(ze))}catch{}},$e=(Ie,Fe,Ve)=>{Ie.props.disabled||(Ce(Fe,!0),n("tabClick",Ie,Ve))},Oe=(Ie,Fe)=>{Ie.props.disabled||isUndefined(Ie.props.name)||(Fe.stopPropagation(),n("edit",Ie.props.name,"remove"),n("tabRemove",Ie.props.name))},xe=()=>{n("edit",void 0,"add"),n("tabAdd")};watch$1(()=>r.modelValue,Ie=>Ce(Ie)),watch$1(_e,async()=>{var Ie;await nextTick$1(),(Ie=he.value)==null||Ie.scrollToActiveTab()}),provide(tabsRootContextKey,{props:r,currentName:_e,registerPane:Ie=>{ae.value.push(Ie)},sortPane:le,unregisterPane:ue}),y({currentName:_e});const Ne=({render:Ie})=>Ie();return()=>{const Ie=g["add-icon"],Fe=r.editable||r.addable?createVNode$1("div",{class:[L.e("new-tab"),re.value&&L.e("new-tab-vertical")],tabindex:"0",onClick:xe,onKeydown:Ue=>{[EVENT_CODE.enter,EVENT_CODE.numpadEnter].includes(Ue.code)&&xe()}},[Ie?renderSlot(g,"add-icon"):createVNode$1(ElIcon,{class:L.is("icon-plus")},{default:()=>[createVNode$1(plus_default,null,null)]})]):null,Ve=createVNode$1("div",{class:[L.e("header"),re.value&&L.e("header-vertical"),L.is(r.tabPosition)]},[createVNode$1(Ne,{render:()=>{const Ue=ae.value.some(qe=>qe.slots.label);return createVNode$1(TabNav,{ref:he,currentName:_e.value,editable:r.editable,type:r.type,panes:ae.value,stretch:r.stretch,onTabClick:$e,onTabRemove:Oe},{$stable:!Ue})}},null),Fe]),ze=createVNode$1("div",{class:L.e("content")},[renderSlot(g,"default")]);return createVNode$1("div",{class:[L.b(),L.m(r.tabPosition),{[L.m("card")]:r.type==="card",[L.m("border-card")]:r.type==="border-card"}]},[ze,Ve])}}});var Tabs$1=Tabs;const tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),COMPONENT_NAME$1="ElTabPane",__default__$t=defineComponent({name:COMPONENT_NAME$1}),_sfc_main$1T=defineComponent({...__default__$t,props:tabPaneProps,setup(r){const n=r,g=getCurrentInstance(),y=useSlots(),$=inject(tabsRootContextKey);$||throwError$1(COMPONENT_NAME$1,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const L=useNamespace$1("tab-pane"),re=ref$1(),ae=computed(()=>n.closable||$.props.closable),le=computedEager(()=>{var $e;return $.currentName.value===(($e=n.name)!=null?$e:re.value)}),ue=ref$1(le.value),he=computed(()=>{var $e;return($e=n.name)!=null?$e:re.value}),_e=computedEager(()=>!n.lazy||ue.value||le.value);watch$1(le,$e=>{$e&&(ue.value=!0)});const Ce=reactive({uid:g.uid,slots:y,props:n,paneName:he,active:le,index:re,isClosable:ae});return $.registerPane(Ce),onMounted(()=>{$.sortPane(Ce)}),onUnmounted(()=>{$.unregisterPane(Ce.uid)}),($e,Oe)=>unref(_e)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(he)}`,class:normalizeClass(unref(L).b()),role:"tabpanel","aria-hidden":!unref(le),"aria-labelledby":`tab-${unref(he)}`},[renderSlot($e.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[vShow,unref(le)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc(_sfc_main$1T,[["__file","tab-pane.vue"]]);const ElTabs=withInstall(Tabs$1,{TabPane}),ElTabPane=withNoopInstall(TabPane),textProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:componentSizes,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),__default__$s=defineComponent({name:"ElText"}),_sfc_main$1S=defineComponent({...__default__$s,props:textProps,setup(r){const n=r,g=useFormSize(),y=useNamespace$1("text"),$=computed(()=>[y.b(),y.m(n.type),y.m(g.value),y.is("truncated",n.truncated),y.is("line-clamp",!isUndefined(n.lineClamp))]);return(L,re)=>(openBlock(),createBlock(resolveDynamicComponent(L.tag),{class:normalizeClass(unref($)),style:normalizeStyle$1({"-webkit-line-clamp":L.lineClamp})},{default:withCtx(()=>[renderSlot(L.$slots,"default")]),_:3},8,["class","style"]))}});var Text$1=_export_sfc(_sfc_main$1S,[["__file","text.vue"]]);const ElText=withInstall(Text$1),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:definePropType(String),default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default},...useEmptyValuesProps}),parseTime=r=>{const n=(r||"").split(":");if(n.length>=2){let g=Number.parseInt(n[0],10);const y=Number.parseInt(n[1],10),$=r.toUpperCase();return $.includes("AM")&&g===12?g=0:$.includes("PM")&&g!==12&&(g+=12),{hours:g,minutes:y}}return null},compareTime=(r,n)=>{const g=parseTime(r);if(!g)return-1;const y=parseTime(n);if(!y)return-1;const $=g.minutes+g.hours*60,L=y.minutes+y.hours*60;return $===L?0:$>L?1:-1},padTime=r=>`${r}`.padStart(2,"0"),formatTime$1=r=>`${padTime(r.hours)}:${padTime(r.minutes)}`,nextTime=(r,n)=>{const g=parseTime(r);if(!g)return"";const y=parseTime(n);if(!y)return"";const $={hours:g.hours,minutes:g.minutes};return $.minutes+=y.minutes,$.hours+=y.hours,$.hours+=Math.floor($.minutes/60),$.minutes=$.minutes%60,formatTime$1($)},__default__$r=defineComponent({name:"ElTimeSelect"}),_sfc_main$1R=defineComponent({...__default__$r,props:timeSelectProps,emits:["change","blur","focus","clear","update:modelValue"],setup(r,{expose:n}){const g=r;dayjs.extend(customParseFormat);const{Option:y}=ElSelect,$=useNamespace$1("input"),L=ref$1(),re=useFormDisabled(),{lang:ae}=useLocale(),le=computed(()=>g.modelValue),ue=computed(()=>{const Ie=parseTime(g.start);return Ie?formatTime$1(Ie):null}),he=computed(()=>{const Ie=parseTime(g.end);return Ie?formatTime$1(Ie):null}),_e=computed(()=>{const Ie=parseTime(g.step);return Ie?formatTime$1(Ie):null}),Ce=computed(()=>{const Ie=parseTime(g.minTime||"");return Ie?formatTime$1(Ie):null}),$e=computed(()=>{const Ie=parseTime(g.maxTime||"");return Ie?formatTime$1(Ie):null}),Oe=computed(()=>{const Ie=[];if(g.start&&g.end&&g.step){let Fe=ue.value,Ve;for(;Fe&&he.value&&compareTime(Fe,he.value)<=0;)Ve=dayjs(Fe,"HH:mm").locale(ae.value).format(g.format),Ie.push({value:Ve,disabled:compareTime(Fe,Ce.value||"-1:-1")<=0||compareTime(Fe,$e.value||"100:100")>=0}),Fe=nextTime(Fe,_e.value)}return Ie});return n({blur:()=>{var Ie,Fe;(Fe=(Ie=L.value)==null?void 0:Ie.blur)==null||Fe.call(Ie)},focus:()=>{var Ie,Fe;(Fe=(Ie=L.value)==null?void 0:Ie.focus)==null||Fe.call(Ie)}}),(Ie,Fe)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:L,"model-value":unref(le),disabled:unref(re),clearable:Ie.clearable,"clear-icon":Ie.clearIcon,size:Ie.size,effect:Ie.effect,placeholder:Ie.placeholder,"default-first-option":"",filterable:Ie.editable,"empty-values":Ie.emptyValues,"value-on-clear":Ie.valueOnClear,"onUpdate:modelValue":Ve=>Ie.$emit("update:modelValue",Ve),onChange:Ve=>Ie.$emit("change",Ve),onBlur:Ve=>Ie.$emit("blur",Ve),onFocus:Ve=>Ie.$emit("focus",Ve),onClear:()=>Ie.$emit("clear")},{prefix:withCtx(()=>[Ie.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($).e("prefix-icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ie.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Oe),Ve=>(openBlock(),createBlock(unref(y),{key:Ve.value,label:Ve.value,value:Ve.value,disabled:Ve.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var TimeSelect=_export_sfc(_sfc_main$1R,[["__file","time-select.vue"]]);const ElTimeSelect=withInstall(TimeSelect),Timeline=defineComponent({name:"ElTimeline",setup(r,{slots:n}){const g=useNamespace$1("timeline");return provide("timeline",n),()=>h$1("ul",{class:[g.b()]},[renderSlot(n,"default")])}}),timelineItemProps=buildProps({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:iconPropType},hollow:Boolean}),__default__$q=defineComponent({name:"ElTimelineItem"}),_sfc_main$1Q=defineComponent({...__default__$q,props:timelineItemProps,setup(r){const n=r,g=useNamespace$1("timeline-item"),y=computed(()=>[g.e("node"),g.em("node",n.size||""),g.em("node",n.type||""),g.is("hollow",n.hollow)]);return($,L)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(g).b(),{[unref(g).e("center")]:$.center}])},[createBaseVNode("div",{class:normalizeClass(unref(g).e("tail"))},null,2),$.$slots.dot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y)),style:normalizeStyle$1({backgroundColor:$.color})},[$.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.icon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)),$.$slots.dot?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("dot"))},[renderSlot($.$slots,"dot")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("wrapper"))},[!$.hideTimestamp&&$.placement==="top"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(g).e("timestamp"),unref(g).is("top")])},toDisplayString($.timestamp),3)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("content"))},[renderSlot($.$slots,"default")],2),!$.hideTimestamp&&$.placement==="bottom"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(g).e("timestamp"),unref(g).is("bottom")])},toDisplayString($.timestamp),3)):createCommentVNode("v-if",!0)],2)],2))}});var TimelineItem=_export_sfc(_sfc_main$1Q,[["__file","timeline-item.vue"]]);const ElTimeline=withInstall(Timeline,{TimelineItem}),ElTimelineItem=withNoopInstall(TimelineItem),tooltipV2CommonProps=buildProps({nowrap:Boolean});var TooltipV2Sides=(r=>(r.top="top",r.bottom="bottom",r.left="left",r.right="right",r))(TooltipV2Sides||{});const tooltipV2Sides=Object.values(TooltipV2Sides),tooltipV2ArrowProps=buildProps({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:definePropType(Object),default:null}}),tooltipV2ArrowSpecialProps=buildProps({side:{type:definePropType(String),values:tooltipV2Sides,required:!0}}),tooltipV2Strategies=["absolute","fixed"],tooltipV2Placements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tooltipV2ContentProps=buildProps({arrowPadding:{type:definePropType(Number),default:5},effect:{type:definePropType(String),default:"light"},contentClass:String,placement:{type:definePropType(String),values:tooltipV2Placements,default:"bottom"},reference:{type:definePropType(Object),default:null},offset:{type:Number,default:8},strategy:{type:definePropType(String),values:tooltipV2Strategies,default:"absolute"},showArrow:Boolean,...useAriaProps(["ariaLabel"])}),tooltipV2RootProps=buildProps({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:definePropType(Function)},"onUpdate:open":{type:definePropType(Function)}}),EventHandler={type:definePropType(Function)},tooltipV2TriggerProps=buildProps({onBlur:EventHandler,onClick:EventHandler,onFocus:EventHandler,onMouseDown:EventHandler,onMouseEnter:EventHandler,onMouseLeave:EventHandler}),tooltipV2Props=buildProps({...tooltipV2RootProps,...tooltipV2ArrowProps,...tooltipV2TriggerProps,...tooltipV2ContentProps,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:definePropType(Object),default:null},teleported:Boolean,to:{type:definePropType(String),default:"body"}}),tooltipV2RootKey=Symbol("tooltipV2"),tooltipV2ContentKey=Symbol("tooltipV2Content"),TOOLTIP_V2_OPEN="tooltip_v2.open",__default__$p=defineComponent({name:"ElTooltipV2Root"}),_sfc_main$1P=defineComponent({...__default__$p,props:tooltipV2RootProps,setup(r,{expose:n}){const g=r,y=ref$1(g.defaultOpen),$=ref$1(null),L=computed({get:()=>isPropAbsent(g.open)?y.value:g.open,set:Ne=>{var Ie;y.value=Ne,(Ie=g["onUpdate:open"])==null||Ie.call(g,Ne)}}),re=computed(()=>isNumber$2(g.delayDuration)&&g.delayDuration>0),{start:ae,stop:le}=useTimeoutFn(()=>{L.value=!0},computed(()=>g.delayDuration),{immediate:!1}),ue=useNamespace$1("tooltip-v2"),he=useId(),_e=()=>{le(),L.value=!0},Ce=()=>{unref(re)?ae():_e()},$e=_e,Oe=()=>{le(),L.value=!1};return watch$1(L,Ne=>{var Ie;Ne&&(document.dispatchEvent(new CustomEvent(TOOLTIP_V2_OPEN)),$e()),(Ie=g.onOpenChange)==null||Ie.call(g,Ne)}),onMounted(()=>{document.addEventListener(TOOLTIP_V2_OPEN,Oe)}),onBeforeUnmount(()=>{le(),document.removeEventListener(TOOLTIP_V2_OPEN,Oe)}),provide(tooltipV2RootKey,{contentId:he,triggerRef:$,ns:ue,onClose:Oe,onDelayOpen:Ce,onOpen:$e}),n({onOpen:$e,onClose:Oe}),(Ne,Ie)=>renderSlot(Ne.$slots,"default",{open:unref(L)})}});var TooltipV2Root=_export_sfc(_sfc_main$1P,[["__file","root.vue"]]);const __default__$o=defineComponent({name:"ElTooltipV2Arrow"}),_sfc_main$1O=defineComponent({...__default__$o,props:{...tooltipV2ArrowProps,...tooltipV2ArrowSpecialProps},setup(r){const n=r,{ns:g}=inject(tooltipV2RootKey),{arrowRef:y}=inject(tooltipV2ContentKey),$=computed(()=>{const{style:L,width:re,height:ae}=n,le=g.namespace.value;return{[`--${le}-tooltip-v2-arrow-width`]:`${re}px`,[`--${le}-tooltip-v2-arrow-height`]:`${ae}px`,[`--${le}-tooltip-v2-arrow-border-width`]:`${re/2}px`,[`--${le}-tooltip-v2-arrow-cover-width`]:re/2-1,...L||{}}});return(L,re)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:y,style:normalizeStyle$1(unref($)),class:normalizeClass(unref(g).e("arrow"))},null,6))}});var TooltipV2Arrow=_export_sfc(_sfc_main$1O,[["__file","arrow.vue"]]);const min$3=Math.min,max$3=Math.max,round$5=Math.round,floor=Math.floor,createCoords=r=>({x:r,y:r}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$3(r,n,g){return max$3(r,min$3(n,g))}function evaluate(r,n){return typeof r=="function"?r(n):r}function getSide(r){return r.split("-")[0]}function getAlignment(r){return r.split("-")[1]}function getOppositeAxis(r){return r==="x"?"y":"x"}function getAxisLength(r){return r==="y"?"height":"width"}function getSideAxis(r){return["top","bottom"].includes(getSide(r))?"y":"x"}function getAlignmentAxis(r){return getOppositeAxis(getSideAxis(r))}function getAlignmentSides(r,n,g){g===void 0&&(g=!1);const y=getAlignment(r),$=getAlignmentAxis(r),L=getAxisLength($);let re=$==="x"?y===(g?"end":"start")?"right":"left":y==="start"?"bottom":"top";return n.reference[L]>n.floating[L]&&(re=getOppositePlacement$1(re)),[re,getOppositePlacement$1(re)]}function getExpandedPlacements(r){const n=getOppositePlacement$1(r);return[getOppositeAlignmentPlacement(r),n,getOppositeAlignmentPlacement(n)]}function getOppositeAlignmentPlacement(r){return r.replace(/start|end/g,n=>oppositeAlignmentMap[n])}function getSideList(r,n,g){const y=["left","right"],$=["right","left"],L=["top","bottom"],re=["bottom","top"];switch(r){case"top":case"bottom":return g?n?$:y:n?y:$;case"left":case"right":return n?L:re;default:return[]}}function getOppositeAxisPlacements(r,n,g,y){const $=getAlignment(r);let L=getSideList(getSide(r),g==="start",y);return $&&(L=L.map(re=>re+"-"+$),n&&(L=L.concat(L.map(getOppositeAlignmentPlacement)))),L}function getOppositePlacement$1(r){return r.replace(/left|right|bottom|top/g,n=>oppositeSideMap[n])}function expandPaddingObject(r){return{top:0,right:0,bottom:0,left:0,...r}}function getPaddingObject(r){return typeof r!="number"?expandPaddingObject(r):{top:r,right:r,bottom:r,left:r}}function rectToClientRect$1(r){const{x:n,y:g,width:y,height:$}=r;return{width:y,height:$,top:g,left:n,right:n+y,bottom:g+$,x:n,y:g}}function computeCoordsFromPlacement(r,n,g){let{reference:y,floating:$}=r;const L=getSideAxis(n),re=getAlignmentAxis(n),ae=getAxisLength(re),le=getSide(n),ue=L==="y",he=y.x+y.width/2-$.width/2,_e=y.y+y.height/2-$.height/2,Ce=y[ae]/2-$[ae]/2;let $e;switch(le){case"top":$e={x:he,y:y.y-$.height};break;case"bottom":$e={x:he,y:y.y+y.height};break;case"right":$e={x:y.x+y.width,y:_e};break;case"left":$e={x:y.x-$.width,y:_e};break;default:$e={x:y.x,y:y.y}}switch(getAlignment(n)){case"start":$e[re]-=Ce*(g&&ue?-1:1);break;case"end":$e[re]+=Ce*(g&&ue?-1:1);break}return $e}const computePosition$1=async(r,n,g)=>{const{placement:y="bottom",strategy:$="absolute",middleware:L=[],platform:re}=g,ae=L.filter(Boolean),le=await(re.isRTL==null?void 0:re.isRTL(n));let ue=await re.getElementRects({reference:r,floating:n,strategy:$}),{x:he,y:_e}=computeCoordsFromPlacement(ue,y,le),Ce=y,$e={},Oe=0;for(let xe=0;xe<ae.length;xe++){const{name:Ne,fn:Ie}=ae[xe],{x:Fe,y:Ve,data:ze,reset:Ue}=await Ie({x:he,y:_e,initialPlacement:y,placement:Ce,strategy:$,middlewareData:$e,rects:ue,platform:re,elements:{reference:r,floating:n}});he=Fe??he,_e=Ve??_e,$e={...$e,[Ne]:{...$e[Ne],...ze}},Ue&&Oe<=50&&(Oe++,typeof Ue=="object"&&(Ue.placement&&(Ce=Ue.placement),Ue.rects&&(ue=Ue.rects===!0?await re.getElementRects({reference:r,floating:n,strategy:$}):Ue.rects),{x:he,y:_e}=computeCoordsFromPlacement(ue,Ce,le)),xe=-1)}return{x:he,y:_e,placement:Ce,strategy:$,middlewareData:$e}};async function detectOverflow$2(r,n){var g;n===void 0&&(n={});const{x:y,y:$,platform:L,rects:re,elements:ae,strategy:le}=r,{boundary:ue="clippingAncestors",rootBoundary:he="viewport",elementContext:_e="floating",altBoundary:Ce=!1,padding:$e=0}=evaluate(n,r),Oe=getPaddingObject($e),Ne=ae[Ce?_e==="floating"?"reference":"floating":_e],Ie=rectToClientRect$1(await L.getClippingRect({element:(g=await(L.isElement==null?void 0:L.isElement(Ne)))==null||g?Ne:Ne.contextElement||await(L.getDocumentElement==null?void 0:L.getDocumentElement(ae.floating)),boundary:ue,rootBoundary:he,strategy:le})),Fe=_e==="floating"?{x:y,y:$,width:re.floating.width,height:re.floating.height}:re.reference,Ve=await(L.getOffsetParent==null?void 0:L.getOffsetParent(ae.floating)),ze=await(L.isElement==null?void 0:L.isElement(Ve))?await(L.getScale==null?void 0:L.getScale(Ve))||{x:1,y:1}:{x:1,y:1},Ue=rectToClientRect$1(L.convertOffsetParentRelativeRectToViewportRelativeRect?await L.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ae,rect:Fe,offsetParent:Ve,strategy:le}):Fe);return{top:(Ie.top-Ue.top+Oe.top)/ze.y,bottom:(Ue.bottom-Ie.bottom+Oe.bottom)/ze.y,left:(Ie.left-Ue.left+Oe.left)/ze.x,right:(Ue.right-Ie.right+Oe.right)/ze.x}}const arrow$3=r=>({name:"arrow",options:r,async fn(n){const{x:g,y,placement:$,rects:L,platform:re,elements:ae,middlewareData:le}=n,{element:ue,padding:he=0}=evaluate(r,n)||{};if(ue==null)return{};const _e=getPaddingObject(he),Ce={x:g,y},$e=getAlignmentAxis($),Oe=getAxisLength($e),xe=await re.getDimensions(ue),Ne=$e==="y",Ie=Ne?"top":"left",Fe=Ne?"bottom":"right",Ve=Ne?"clientHeight":"clientWidth",ze=L.reference[Oe]+L.reference[$e]-Ce[$e]-L.floating[Oe],Ue=Ce[$e]-L.reference[$e],qe=await(re.getOffsetParent==null?void 0:re.getOffsetParent(ue));let kt=qe?qe[Ve]:0;(!kt||!await(re.isElement==null?void 0:re.isElement(qe)))&&(kt=ae.floating[Ve]||L.floating[Oe]);const Et=ze/2-Ue/2,Pt=kt/2-xe[Oe]/2-1,At=min$3(_e[Ie],Pt),Dt=min$3(_e[Fe],Pt),Lt=At,hn=kt-xe[Oe]-Dt,_n=kt/2-xe[Oe]/2+Et,vn=clamp$3(Lt,_n,hn),jt=!le.arrow&&getAlignment($)!=null&&_n!==vn&&L.reference[Oe]/2-(_n<Lt?At:Dt)-xe[Oe]/2<0,$n=jt?_n<Lt?_n-Lt:_n-hn:0;return{[$e]:Ce[$e]+$n,data:{[$e]:vn,centerOffset:_n-vn-$n,...jt&&{alignmentOffset:$n}},reset:jt}}}),flip$3=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(n){var g,y;const{placement:$,middlewareData:L,rects:re,initialPlacement:ae,platform:le,elements:ue}=n,{mainAxis:he=!0,crossAxis:_e=!0,fallbackPlacements:Ce,fallbackStrategy:$e="bestFit",fallbackAxisSideDirection:Oe="none",flipAlignment:xe=!0,...Ne}=evaluate(r,n);if((g=L.arrow)!=null&&g.alignmentOffset)return{};const Ie=getSide($),Fe=getSideAxis(ae),Ve=getSide(ae)===ae,ze=await(le.isRTL==null?void 0:le.isRTL(ue.floating)),Ue=Ce||(Ve||!xe?[getOppositePlacement$1(ae)]:getExpandedPlacements(ae)),qe=Oe!=="none";!Ce&&qe&&Ue.push(...getOppositeAxisPlacements(ae,xe,Oe,ze));const kt=[ae,...Ue],Et=await detectOverflow$2(n,Ne),Pt=[];let At=((y=L.flip)==null?void 0:y.overflows)||[];if(he&&Pt.push(Et[Ie]),_e){const _n=getAlignmentSides($,re,ze);Pt.push(Et[_n[0]],Et[_n[1]])}if(At=[...At,{placement:$,overflows:Pt}],!Pt.every(_n=>_n<=0)){var Dt,Lt;const _n=(((Dt=L.flip)==null?void 0:Dt.index)||0)+1,vn=kt[_n];if(vn)return{data:{index:_n,overflows:At},reset:{placement:vn}};let jt=(Lt=At.filter($n=>$n.overflows[0]<=0).sort(($n,Sn)=>$n.overflows[1]-Sn.overflows[1])[0])==null?void 0:Lt.placement;if(!jt)switch($e){case"bestFit":{var hn;const $n=(hn=At.filter(Sn=>{if(qe){const bn=getSideAxis(Sn.placement);return bn===Fe||bn==="y"}return!0}).map(Sn=>[Sn.placement,Sn.overflows.filter(bn=>bn>0).reduce((bn,wn)=>bn+wn,0)]).sort((Sn,bn)=>Sn[1]-bn[1])[0])==null?void 0:hn[0];$n&&(jt=$n);break}case"initialPlacement":jt=ae;break}if($!==jt)return{reset:{placement:jt}}}return{}}}};async function convertValueToCoords(r,n){const{placement:g,platform:y,elements:$}=r,L=await(y.isRTL==null?void 0:y.isRTL($.floating)),re=getSide(g),ae=getAlignment(g),le=getSideAxis(g)==="y",ue=["left","top"].includes(re)?-1:1,he=L&&le?-1:1,_e=evaluate(n,r);let{mainAxis:Ce,crossAxis:$e,alignmentAxis:Oe}=typeof _e=="number"?{mainAxis:_e,crossAxis:0,alignmentAxis:null}:{mainAxis:_e.mainAxis||0,crossAxis:_e.crossAxis||0,alignmentAxis:_e.alignmentAxis};return ae&&typeof Oe=="number"&&($e=ae==="end"?Oe*-1:Oe),le?{x:$e*he,y:Ce*ue}:{x:Ce*ue,y:$e*he}}const offset$3=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(n){var g,y;const{x:$,y:L,placement:re,middlewareData:ae}=n,le=await convertValueToCoords(n,r);return re===((g=ae.offset)==null?void 0:g.placement)&&(y=ae.arrow)!=null&&y.alignmentOffset?{}:{x:$+le.x,y:L+le.y,data:{...le,placement:re}}}}},shift$2=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(n){const{x:g,y,placement:$}=n,{mainAxis:L=!0,crossAxis:re=!1,limiter:ae={fn:Ne=>{let{x:Ie,y:Fe}=Ne;return{x:Ie,y:Fe}}},...le}=evaluate(r,n),ue={x:g,y},he=await detectOverflow$2(n,le),_e=getSideAxis(getSide($)),Ce=getOppositeAxis(_e);let $e=ue[Ce],Oe=ue[_e];if(L){const Ne=Ce==="y"?"top":"left",Ie=Ce==="y"?"bottom":"right",Fe=$e+he[Ne],Ve=$e-he[Ie];$e=clamp$3(Fe,$e,Ve)}if(re){const Ne=_e==="y"?"top":"left",Ie=_e==="y"?"bottom":"right",Fe=Oe+he[Ne],Ve=Oe-he[Ie];Oe=clamp$3(Fe,Oe,Ve)}const xe=ae.fn({...n,[Ce]:$e,[_e]:Oe});return{...xe,data:{x:xe.x-g,y:xe.y-y,enabled:{[Ce]:L,[_e]:re}}}}}};function hasWindow(){return typeof window<"u"}function getNodeName$1(r){return isNode(r)?(r.nodeName||"").toLowerCase():"#document"}function getWindow$1(r){var n;return(r==null||(n=r.ownerDocument)==null?void 0:n.defaultView)||window}function getDocumentElement$1(r){var n;return(n=(isNode(r)?r.ownerDocument:r.document)||window.document)==null?void 0:n.documentElement}function isNode(r){return hasWindow()?r instanceof Node||r instanceof getWindow$1(r).Node:!1}function isElement$2(r){return hasWindow()?r instanceof Element||r instanceof getWindow$1(r).Element:!1}function isHTMLElement$1(r){return hasWindow()?r instanceof HTMLElement||r instanceof getWindow$1(r).HTMLElement:!1}function isShadowRoot$1(r){return!hasWindow()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof getWindow$1(r).ShadowRoot}function isOverflowElement(r){const{overflow:n,overflowX:g,overflowY:y,display:$}=getComputedStyle$3(r);return/auto|scroll|overlay|hidden|clip/.test(n+y+g)&&!["inline","contents"].includes($)}function isTableElement$1(r){return["table","td","th"].includes(getNodeName$1(r))}function isTopLayer(r){return[":popover-open",":modal"].some(n=>{try{return r.matches(n)}catch{return!1}})}function isContainingBlock(r){const n=isWebKit(),g=isElement$2(r)?getComputedStyle$3(r):r;return["transform","translate","scale","rotate","perspective"].some(y=>g[y]?g[y]!=="none":!1)||(g.containerType?g.containerType!=="normal":!1)||!n&&(g.backdropFilter?g.backdropFilter!=="none":!1)||!n&&(g.filter?g.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(y=>(g.willChange||"").includes(y))||["paint","layout","strict","content"].some(y=>(g.contain||"").includes(y))}function getContainingBlock$1(r){let n=getParentNode$1(r);for(;isHTMLElement$1(n)&&!isLastTraversableNode(n);){if(isContainingBlock(n))return n;if(isTopLayer(n))return null;n=getParentNode$1(n)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(r){return["html","body","#document"].includes(getNodeName$1(r))}function getComputedStyle$3(r){return getWindow$1(r).getComputedStyle(r)}function getNodeScroll$1(r){return isElement$2(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function getParentNode$1(r){if(getNodeName$1(r)==="html")return r;const n=r.assignedSlot||r.parentNode||isShadowRoot$1(r)&&r.host||getDocumentElement$1(r);return isShadowRoot$1(n)?n.host:n}function getNearestOverflowAncestor(r){const n=getParentNode$1(r);return isLastTraversableNode(n)?r.ownerDocument?r.ownerDocument.body:r.body:isHTMLElement$1(n)&&isOverflowElement(n)?n:getNearestOverflowAncestor(n)}function getOverflowAncestors(r,n,g){var y;n===void 0&&(n=[]),g===void 0&&(g=!0);const $=getNearestOverflowAncestor(r),L=$===((y=r.ownerDocument)==null?void 0:y.body),re=getWindow$1($);if(L){const ae=getFrameElement(re);return n.concat(re,re.visualViewport||[],isOverflowElement($)?$:[],ae&&g?getOverflowAncestors(ae):[])}return n.concat($,getOverflowAncestors($,[],g))}function getFrameElement(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function getCssDimensions(r){const n=getComputedStyle$3(r);let g=parseFloat(n.width)||0,y=parseFloat(n.height)||0;const $=isHTMLElement$1(r),L=$?r.offsetWidth:g,re=$?r.offsetHeight:y,ae=round$5(g)!==L||round$5(y)!==re;return ae&&(g=L,y=re),{width:g,height:y,$:ae}}function unwrapElement(r){return isElement$2(r)?r:r.contextElement}function getScale$1(r){const n=unwrapElement(r);if(!isHTMLElement$1(n))return createCoords(1);const g=n.getBoundingClientRect(),{width:y,height:$,$:L}=getCssDimensions(n);let re=(L?round$5(g.width):g.width)/y,ae=(L?round$5(g.height):g.height)/$;return(!re||!Number.isFinite(re))&&(re=1),(!ae||!Number.isFinite(ae))&&(ae=1),{x:re,y:ae}}const noOffsets=createCoords(0);function getVisualOffsets(r){const n=getWindow$1(r);return!isWebKit()||!n.visualViewport?noOffsets:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function shouldAddVisualOffsets(r,n,g){return n===void 0&&(n=!1),!g||n&&g!==getWindow$1(r)?!1:n}function getBoundingClientRect$1(r,n,g,y){n===void 0&&(n=!1),g===void 0&&(g=!1);const $=r.getBoundingClientRect(),L=unwrapElement(r);let re=createCoords(1);n&&(y?isElement$2(y)&&(re=getScale$1(y)):re=getScale$1(r));const ae=shouldAddVisualOffsets(L,g,y)?getVisualOffsets(L):createCoords(0);let le=($.left+ae.x)/re.x,ue=($.top+ae.y)/re.y,he=$.width/re.x,_e=$.height/re.y;if(L){const Ce=getWindow$1(L),$e=y&&isElement$2(y)?getWindow$1(y):y;let Oe=Ce,xe=getFrameElement(Oe);for(;xe&&y&&$e!==Oe;){const Ne=getScale$1(xe),Ie=xe.getBoundingClientRect(),Fe=getComputedStyle$3(xe),Ve=Ie.left+(xe.clientLeft+parseFloat(Fe.paddingLeft))*Ne.x,ze=Ie.top+(xe.clientTop+parseFloat(Fe.paddingTop))*Ne.y;le*=Ne.x,ue*=Ne.y,he*=Ne.x,_e*=Ne.y,le+=Ve,ue+=ze,Oe=getWindow$1(xe),xe=getFrameElement(Oe)}}return rectToClientRect$1({width:he,height:_e,x:le,y:ue})}function getWindowScrollBarX$1(r,n){const g=getNodeScroll$1(r).scrollLeft;return n?n.left+g:getBoundingClientRect$1(getDocumentElement$1(r)).left+g}function getHTMLOffset(r,n,g){g===void 0&&(g=!1);const y=r.getBoundingClientRect(),$=y.left+n.scrollLeft-(g?0:getWindowScrollBarX$1(r,y)),L=y.top+n.scrollTop;return{x:$,y:L}}function convertOffsetParentRelativeRectToViewportRelativeRect(r){let{elements:n,rect:g,offsetParent:y,strategy:$}=r;const L=$==="fixed",re=getDocumentElement$1(y),ae=n?isTopLayer(n.floating):!1;if(y===re||ae&&L)return g;let le={scrollLeft:0,scrollTop:0},ue=createCoords(1);const he=createCoords(0),_e=isHTMLElement$1(y);if((_e||!_e&&!L)&&((getNodeName$1(y)!=="body"||isOverflowElement(re))&&(le=getNodeScroll$1(y)),isHTMLElement$1(y))){const $e=getBoundingClientRect$1(y);ue=getScale$1(y),he.x=$e.x+y.clientLeft,he.y=$e.y+y.clientTop}const Ce=re&&!_e&&!L?getHTMLOffset(re,le,!0):createCoords(0);return{width:g.width*ue.x,height:g.height*ue.y,x:g.x*ue.x-le.scrollLeft*ue.x+he.x+Ce.x,y:g.y*ue.y-le.scrollTop*ue.y+he.y+Ce.y}}function getClientRects(r){return Array.from(r.getClientRects())}function getDocumentRect$1(r){const n=getDocumentElement$1(r),g=getNodeScroll$1(r),y=r.ownerDocument.body,$=max$3(n.scrollWidth,n.clientWidth,y.scrollWidth,y.clientWidth),L=max$3(n.scrollHeight,n.clientHeight,y.scrollHeight,y.clientHeight);let re=-g.scrollLeft+getWindowScrollBarX$1(r);const ae=-g.scrollTop;return getComputedStyle$3(y).direction==="rtl"&&(re+=max$3(n.clientWidth,y.clientWidth)-$),{width:$,height:L,x:re,y:ae}}function getViewportRect$1(r,n){const g=getWindow$1(r),y=getDocumentElement$1(r),$=g.visualViewport;let L=y.clientWidth,re=y.clientHeight,ae=0,le=0;if($){L=$.width,re=$.height;const ue=isWebKit();(!ue||ue&&n==="fixed")&&(ae=$.offsetLeft,le=$.offsetTop)}return{width:L,height:re,x:ae,y:le}}function getInnerBoundingClientRect$1(r,n){const g=getBoundingClientRect$1(r,!0,n==="fixed"),y=g.top+r.clientTop,$=g.left+r.clientLeft,L=isHTMLElement$1(r)?getScale$1(r):createCoords(1),re=r.clientWidth*L.x,ae=r.clientHeight*L.y,le=$*L.x,ue=y*L.y;return{width:re,height:ae,x:le,y:ue}}function getClientRectFromClippingAncestor(r,n,g){let y;if(n==="viewport")y=getViewportRect$1(r,g);else if(n==="document")y=getDocumentRect$1(getDocumentElement$1(r));else if(isElement$2(n))y=getInnerBoundingClientRect$1(n,g);else{const $=getVisualOffsets(r);y={x:n.x-$.x,y:n.y-$.y,width:n.width,height:n.height}}return rectToClientRect$1(y)}function hasFixedPositionAncestor(r,n){const g=getParentNode$1(r);return g===n||!isElement$2(g)||isLastTraversableNode(g)?!1:getComputedStyle$3(g).position==="fixed"||hasFixedPositionAncestor(g,n)}function getClippingElementAncestors(r,n){const g=n.get(r);if(g)return g;let y=getOverflowAncestors(r,[],!1).filter(ae=>isElement$2(ae)&&getNodeName$1(ae)!=="body"),$=null;const L=getComputedStyle$3(r).position==="fixed";let re=L?getParentNode$1(r):r;for(;isElement$2(re)&&!isLastTraversableNode(re);){const ae=getComputedStyle$3(re),le=isContainingBlock(re);!le&&ae.position==="fixed"&&($=null),(L?!le&&!$:!le&&ae.position==="static"&&!!$&&["absolute","fixed"].includes($.position)||isOverflowElement(re)&&!le&&hasFixedPositionAncestor(r,re))?y=y.filter(he=>he!==re):$=ae,re=getParentNode$1(re)}return n.set(r,y),y}function getClippingRect$1(r){let{element:n,boundary:g,rootBoundary:y,strategy:$}=r;const re=[...g==="clippingAncestors"?isTopLayer(n)?[]:getClippingElementAncestors(n,this._c):[].concat(g),y],ae=re[0],le=re.reduce((ue,he)=>{const _e=getClientRectFromClippingAncestor(n,he,$);return ue.top=max$3(_e.top,ue.top),ue.right=min$3(_e.right,ue.right),ue.bottom=min$3(_e.bottom,ue.bottom),ue.left=max$3(_e.left,ue.left),ue},getClientRectFromClippingAncestor(n,ae,$));return{width:le.right-le.left,height:le.bottom-le.top,x:le.left,y:le.top}}function getDimensions(r){const{width:n,height:g}=getCssDimensions(r);return{width:n,height:g}}function getRectRelativeToOffsetParent(r,n,g){const y=isHTMLElement$1(n),$=getDocumentElement$1(n),L=g==="fixed",re=getBoundingClientRect$1(r,!0,L,n);let ae={scrollLeft:0,scrollTop:0};const le=createCoords(0);if(y||!y&&!L)if((getNodeName$1(n)!=="body"||isOverflowElement($))&&(ae=getNodeScroll$1(n)),y){const Ce=getBoundingClientRect$1(n,!0,L,n);le.x=Ce.x+n.clientLeft,le.y=Ce.y+n.clientTop}else $&&(le.x=getWindowScrollBarX$1($));const ue=$&&!y&&!L?getHTMLOffset($,ae):createCoords(0),he=re.left+ae.scrollLeft-le.x-ue.x,_e=re.top+ae.scrollTop-le.y-ue.y;return{x:he,y:_e,width:re.width,height:re.height}}function isStaticPositioned(r){return getComputedStyle$3(r).position==="static"}function getTrueOffsetParent$1(r,n){if(!isHTMLElement$1(r)||getComputedStyle$3(r).position==="fixed")return null;if(n)return n(r);let g=r.offsetParent;return getDocumentElement$1(r)===g&&(g=g.ownerDocument.body),g}function getOffsetParent$1(r,n){const g=getWindow$1(r);if(isTopLayer(r))return g;if(!isHTMLElement$1(r)){let $=getParentNode$1(r);for(;$&&!isLastTraversableNode($);){if(isElement$2($)&&!isStaticPositioned($))return $;$=getParentNode$1($)}return g}let y=getTrueOffsetParent$1(r,n);for(;y&&isTableElement$1(y)&&isStaticPositioned(y);)y=getTrueOffsetParent$1(y,n);return y&&isLastTraversableNode(y)&&isStaticPositioned(y)&&!isContainingBlock(y)?g:y||getContainingBlock$1(r)||g}const getElementRects=async function(r){const n=this.getOffsetParent||getOffsetParent$1,g=this.getDimensions,y=await g(r.floating);return{reference:getRectRelativeToOffsetParent(r.reference,await n(r.floating),r.strategy),floating:{x:0,y:0,width:y.width,height:y.height}}};function isRTL(r){return getComputedStyle$3(r).direction==="rtl"}const platform$1={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement$1,getClippingRect:getClippingRect$1,getOffsetParent:getOffsetParent$1,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement:isElement$2,isRTL};function rectsAreEqual(r,n){return r.x===n.x&&r.y===n.y&&r.width===n.width&&r.height===n.height}function observeMove(r,n){let g=null,y;const $=getDocumentElement$1(r);function L(){var ae;clearTimeout(y),(ae=g)==null||ae.disconnect(),g=null}function re(ae,le){ae===void 0&&(ae=!1),le===void 0&&(le=1),L();const ue=r.getBoundingClientRect(),{left:he,top:_e,width:Ce,height:$e}=ue;if(ae||n(),!Ce||!$e)return;const Oe=floor(_e),xe=floor($.clientWidth-(he+Ce)),Ne=floor($.clientHeight-(_e+$e)),Ie=floor(he),Ve={rootMargin:-Oe+"px "+-xe+"px "+-Ne+"px "+-Ie+"px",threshold:max$3(0,min$3(1,le))||1};let ze=!0;function Ue(qe){const kt=qe[0].intersectionRatio;if(kt!==le){if(!ze)return re();kt?re(!1,kt):y=setTimeout(()=>{re(!1,1e-7)},1e3)}kt===1&&!rectsAreEqual(ue,r.getBoundingClientRect())&&re(),ze=!1}try{g=new IntersectionObserver(Ue,{...Ve,root:$.ownerDocument})}catch{g=new IntersectionObserver(Ue,Ve)}g.observe(r)}return re(!0),L}function autoUpdate(r,n,g,y){y===void 0&&(y={});const{ancestorScroll:$=!0,ancestorResize:L=!0,elementResize:re=typeof ResizeObserver=="function",layoutShift:ae=typeof IntersectionObserver=="function",animationFrame:le=!1}=y,ue=unwrapElement(r),he=$||L?[...ue?getOverflowAncestors(ue):[],...getOverflowAncestors(n)]:[];he.forEach(Ie=>{$&&Ie.addEventListener("scroll",g,{passive:!0}),L&&Ie.addEventListener("resize",g)});const _e=ue&&ae?observeMove(ue,g):null;let Ce=-1,$e=null;re&&($e=new ResizeObserver(Ie=>{let[Fe]=Ie;Fe&&Fe.target===ue&&$e&&($e.unobserve(n),cancelAnimationFrame(Ce),Ce=requestAnimationFrame(()=>{var Ve;(Ve=$e)==null||Ve.observe(n)})),g()}),ue&&!le&&$e.observe(ue),$e.observe(n));let Oe,xe=le?getBoundingClientRect$1(r):null;le&&Ne();function Ne(){const Ie=getBoundingClientRect$1(r);xe&&!rectsAreEqual(xe,Ie)&&g(),xe=Ie,Oe=requestAnimationFrame(Ne)}return g(),()=>{var Ie;he.forEach(Fe=>{$&&Fe.removeEventListener("scroll",g),L&&Fe.removeEventListener("resize",g)}),_e==null||_e(),(Ie=$e)==null||Ie.disconnect(),$e=null,le&&cancelAnimationFrame(Oe)}}const detectOverflow$1=detectOverflow$2,offset$2=offset$3,shift$1=shift$2,flip$2=flip$3,arrow$2=arrow$3,computePosition=(r,n,g)=>{const y=new Map,$={platform:platform$1,...g},L={...$.platform,_c:y};return computePosition$1(r,n,{...$,platform:L})},visualHiddenProps=buildProps({style:{type:definePropType([String,Object,Array]),default:()=>({})}}),__default__$n=defineComponent({name:"ElVisuallyHidden"}),_sfc_main$1N=defineComponent({...__default__$n,props:visualHiddenProps,setup(r){const n=r,g=computed(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(y,$)=>(openBlock(),createElementBlock("span",mergeProps(y.$attrs,{style:unref(g)}),[renderSlot(y.$slots,"default")],16))}});var ElVisuallyHidden=_export_sfc(_sfc_main$1N,[["__file","visual-hidden.vue"]]);buildProps({});const unrefReference=r=>{if(!isClient)return;if(!r)return r;const n=unrefElement(r);return n||(isRef(r)?n:r)},useFloating$1=({middleware:r,placement:n,strategy:g})=>{const y=ref$1(),$=ref$1(),L=ref$1(),re=ref$1(),ae=ref$1({}),le={x:L,y:re,placement:n,strategy:g,middlewareData:ae},ue=async()=>{if(!isClient)return;const he=unrefReference(y),_e=unrefElement($);if(!he||!_e)return;const Ce=await computePosition(he,_e,{placement:unref(n),strategy:unref(g),middleware:unref(r)});keysOf(le).forEach($e=>{le[$e].value=Ce[$e]})};return onMounted(()=>{watchEffect(()=>{ue()})}),{...le,update:ue,referenceRef:y,contentRef:$}},arrowMiddleware=({arrowRef:r,padding:n})=>({name:"arrow",options:{element:r,padding:n},fn(g){const y=unref(r);return y?arrow$2({element:y,padding:n}).fn(g):{}}}),__default__$m=defineComponent({name:"ElTooltipV2Content"}),_sfc_main$1M=defineComponent({...__default__$m,props:{...tooltipV2ContentProps,...tooltipV2CommonProps},setup(r){const n=r,{triggerRef:g,contentId:y}=inject(tooltipV2RootKey),$=ref$1(n.placement),L=ref$1(n.strategy),re=ref$1(null),{referenceRef:ae,contentRef:le,middlewareData:ue,x:he,y:_e,update:Ce}=useFloating$1({placement:$,strategy:L,middleware:computed(()=>{const Ve=[offset$2(n.offset)];return n.showArrow&&Ve.push(arrowMiddleware({arrowRef:re})),Ve})}),$e=useZIndex().nextZIndex(),Oe=useNamespace$1("tooltip-v2"),xe=computed(()=>$.value.split("-")[0]),Ne=computed(()=>({position:unref(L),top:`${unref(_e)||0}px`,left:`${unref(he)||0}px`,zIndex:$e})),Ie=computed(()=>{if(!n.showArrow)return{};const{arrow:Ve}=unref(ue);return{[`--${Oe.namespace.value}-tooltip-v2-arrow-x`]:`${Ve==null?void 0:Ve.x}px`||"",[`--${Oe.namespace.value}-tooltip-v2-arrow-y`]:`${Ve==null?void 0:Ve.y}px`||""}}),Fe=computed(()=>[Oe.e("content"),Oe.is("dark",n.effect==="dark"),Oe.is(unref(L)),n.contentClass]);return watch$1(re,()=>Ce()),watch$1(()=>n.placement,Ve=>$.value=Ve),onMounted(()=>{watch$1(()=>n.reference||g.value,Ve=>{ae.value=Ve||void 0},{immediate:!0})}),provide(tooltipV2ContentKey,{arrowRef:re}),(Ve,ze)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:le,style:normalizeStyle$1(unref(Ne)),"data-tooltip-v2-root":""},[Ve.nowrap?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,"data-side":unref(xe),class:normalizeClass(unref(Fe))},[renderSlot(Ve.$slots,"default",{contentStyle:unref(Ne),contentClass:unref(Fe)}),createVNode$1(unref(ElVisuallyHidden),{id:unref(y),role:"tooltip"},{default:withCtx(()=>[Ve.ariaLabel?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(Ve.ariaLabel),1)],64)):renderSlot(Ve.$slots,"default",{key:1})]),_:3},8,["id"]),renderSlot(Ve.$slots,"arrow",{style:normalizeStyle$1(unref(Ie)),side:unref(xe)})],10,["data-side"]))],4))}});var TooltipV2Content=_export_sfc(_sfc_main$1M,[["__file","content.vue"]]);const forwardRefProps=buildProps({setRef:{type:definePropType(Function),required:!0},onlyChild:Boolean});var ForwardRef=defineComponent({props:forwardRefProps,setup(r,{slots:n}){const g=ref$1(),y=composeRefs(g,$=>{$?r.setRef($.nextElementSibling):r.setRef(null)});return()=>{var $;const[L]=(($=n.default)==null?void 0:$.call(n))||[],re=r.onlyChild?ensureOnlyChild(L.children):L.children;return createVNode$1(Fragment,{ref:y},[re])}}});const __default__$l=defineComponent({name:"ElTooltipV2Trigger"}),_sfc_main$1L=defineComponent({...__default__$l,props:{...tooltipV2CommonProps,...tooltipV2TriggerProps},setup(r){const n=r,{onClose:g,onOpen:y,onDelayOpen:$,triggerRef:L,contentId:re}=inject(tooltipV2RootKey);let ae=!1;const le=Fe=>{L.value=Fe},ue=()=>{ae=!1},he=composeEventHandlers(n.onMouseEnter,$),_e=composeEventHandlers(n.onMouseLeave,g),Ce=composeEventHandlers(n.onMouseDown,()=>{g(),ae=!0,document.addEventListener("mouseup",ue,{once:!0})}),$e=composeEventHandlers(n.onFocus,()=>{ae||y()}),Oe=composeEventHandlers(n.onBlur,g),xe=composeEventHandlers(n.onClick,Fe=>{Fe.detail===0&&g()}),Ne={blur:Oe,click:xe,focus:$e,mousedown:Ce,mouseenter:he,mouseleave:_e},Ie=(Fe,Ve,ze)=>{Fe&&Object.entries(Ve).forEach(([Ue,qe])=>{Fe[ze](Ue,qe)})};return watch$1(L,(Fe,Ve)=>{Ie(Fe,Ne,"addEventListener"),Ie(Ve,Ne,"removeEventListener"),Fe&&Fe.setAttribute("aria-describedby",re.value)}),onBeforeUnmount(()=>{Ie(L.value,Ne,"removeEventListener"),document.removeEventListener("mouseup",ue)}),(Fe,Ve)=>Fe.nowrap?(openBlock(),createBlock(unref(ForwardRef),{key:0,"set-ref":le,"only-child":""},{default:withCtx(()=>[renderSlot(Fe.$slots,"default")]),_:3})):(openBlock(),createElementBlock("button",mergeProps({key:1,ref_key:"triggerRef",ref:L},Fe.$attrs),[renderSlot(Fe.$slots,"default")],16))}});var TooltipV2Trigger=_export_sfc(_sfc_main$1L,[["__file","trigger.vue"]]);const __default__$k=defineComponent({name:"ElTooltipV2"}),_sfc_main$1K=defineComponent({...__default__$k,props:tooltipV2Props,setup(r){const g=toRefs(r),y=reactive(pick(g,Object.keys(tooltipV2ArrowProps))),$=reactive(pick(g,Object.keys(tooltipV2ContentProps))),L=reactive(pick(g,Object.keys(tooltipV2RootProps))),re=reactive(pick(g,Object.keys(tooltipV2TriggerProps)));return(ae,le)=>(openBlock(),createBlock(TooltipV2Root,normalizeProps(guardReactiveProps(L)),{default:withCtx(({open:ue})=>[createVNode$1(TooltipV2Trigger,mergeProps(re,{nowrap:""}),{default:withCtx(()=>[renderSlot(ae.$slots,"trigger")]),_:3},16),createVNode$1(unref(ElTeleport),{to:ae.to,disabled:!ae.teleported},{default:withCtx(()=>[ae.fullTransition?(openBlock(),createBlock(Transition,normalizeProps(mergeProps({key:0},ae.transitionProps)),{default:withCtx(()=>[ae.alwaysOn||ue?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},$)),{arrow:withCtx(({style:he,side:_e})=>[ae.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},y,{style:he,side:_e}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(ae.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)]),_:2},1040)):(openBlock(),createElementBlock(Fragment,{key:1},[ae.alwaysOn||ue?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},$)),{arrow:withCtx(({style:he,side:_e})=>[ae.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},y,{style:he,side:_e}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(ae.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var TooltipV2=_export_sfc(_sfc_main$1K,[["__file","tooltip.vue"]]);const ElTooltipV2=withInstall(TooltipV2),LEFT_CHECK_CHANGE_EVENT="left-check-change",RIGHT_CHECK_CHANGE_EVENT="right-check-change",transferProps=buildProps({data:{type:definePropType(Array),default:()=>[]},titles:{type:definePropType(Array),default:()=>[]},buttonTexts:{type:definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:definePropType(Function)},leftDefaultChecked:{type:definePropType(Array),default:()=>[]},rightDefaultChecked:{type:definePropType(Array),default:()=>[]},renderContent:{type:definePropType(Function)},modelValue:{type:definePropType(Array),default:()=>[]},format:{type:definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:definePropType(Object),default:()=>mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),transferCheckedChangeFn=(r,n)=>[r,n].every(isArray$5)||isArray$5(r)&&isNil(n),transferEmits={[CHANGE_EVENT]:(r,n,g)=>[r,g].every(isArray$5)&&["left","right"].includes(n),[UPDATE_MODEL_EVENT]:r=>isArray$5(r),[LEFT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn,[RIGHT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn},CHECKED_CHANGE_EVENT="checked-change",transferPanelProps=buildProps({data:transferProps.data,optionRender:{type:definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:transferProps.format,filterMethod:transferProps.filterMethod,defaultChecked:transferProps.leftDefaultChecked,props:transferProps.props}),transferPanelEmits={[CHECKED_CHANGE_EVENT]:transferCheckedChangeFn},usePropsAlias=r=>{const n={label:"label",key:"key",disabled:"disabled"};return computed(()=>({...n,...r.props}))},useCheck$1=(r,n,g)=>{const y=usePropsAlias(r),$=computed(()=>r.data.filter(he=>isFunction$3(r.filterMethod)?r.filterMethod(n.query,he):String(he[y.value.label]||he[y.value.key]).toLowerCase().includes(n.query.toLowerCase()))),L=computed(()=>$.value.filter(he=>!he[y.value.disabled])),re=computed(()=>{const he=n.checked.length,_e=r.data.length,{noChecked:Ce,hasChecked:$e}=r.format;return Ce&&$e?he>0?$e.replace(/\${checked}/g,he.toString()).replace(/\${total}/g,_e.toString()):Ce.replace(/\${total}/g,_e.toString()):`${he}/${_e}`}),ae=computed(()=>{const he=n.checked.length;return he>0&&he<L.value.length}),le=()=>{const he=L.value.map(_e=>_e[y.value.key]);n.allChecked=he.length>0&&he.every(_e=>n.checked.includes(_e))},ue=he=>{n.checked=he?L.value.map(_e=>_e[y.value.key]):[]};return watch$1(()=>n.checked,(he,_e)=>{if(le(),n.checkChangeByUser){const Ce=he.concat(_e).filter($e=>!he.includes($e)||!_e.includes($e));g(CHECKED_CHANGE_EVENT,he,Ce)}else g(CHECKED_CHANGE_EVENT,he),n.checkChangeByUser=!0}),watch$1(L,()=>{le()}),watch$1(()=>r.data,()=>{const he=[],_e=$.value.map(Ce=>Ce[y.value.key]);n.checked.forEach(Ce=>{_e.includes(Ce)&&he.push(Ce)}),n.checkChangeByUser=!1,n.checked=he}),watch$1(()=>r.defaultChecked,(he,_e)=>{if(_e&&he.length===_e.length&&he.every(Oe=>_e.includes(Oe)))return;const Ce=[],$e=L.value.map(Oe=>Oe[y.value.key]);he.forEach(Oe=>{$e.includes(Oe)&&Ce.push(Oe)}),n.checkChangeByUser=!1,n.checked=Ce},{immediate:!0}),{filteredData:$,checkableData:L,checkedSummary:re,isIndeterminate:ae,updateAllChecked:le,handleAllCheckedChange:ue}},__default__$j=defineComponent({name:"ElTransferPanel"}),_sfc_main$1J=defineComponent({...__default__$j,props:transferPanelProps,emits:transferPanelEmits,setup(r,{expose:n,emit:g}){const y=r,$=useSlots(),L=({option:Ve})=>Ve,{t:re}=useLocale(),ae=useNamespace$1("transfer"),le=reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),ue=usePropsAlias(y),{filteredData:he,checkedSummary:_e,isIndeterminate:Ce,handleAllCheckedChange:$e}=useCheck$1(y,le,g),Oe=computed(()=>!isEmpty(le.query)&&isEmpty(he.value)),xe=computed(()=>!isEmpty($.default()[0].children)),{checked:Ne,allChecked:Ie,query:Fe}=toRefs(le);return n({query:Fe}),(Ve,ze)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(ae).b("panel"))},[createBaseVNode("p",{class:normalizeClass(unref(ae).be("panel","header"))},[createVNode$1(unref(ElCheckbox),{modelValue:unref(Ie),"onUpdate:modelValue":Ue=>isRef(Ie)?Ie.value=Ue:null,indeterminate:unref(Ce),"validate-event":!1,onChange:unref($e)},{default:withCtx(()=>[createTextVNode(toDisplayString(Ve.title)+" ",1),createBaseVNode("span",null,toDisplayString(unref(_e)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),createBaseVNode("div",{class:normalizeClass([unref(ae).be("panel","body"),unref(ae).is("with-footer",unref(xe))])},[Ve.filterable?(openBlock(),createBlock(unref(ElInput),{key:0,modelValue:unref(Fe),"onUpdate:modelValue":Ue=>isRef(Fe)?Fe.value=Ue:null,class:normalizeClass(unref(ae).be("panel","filter")),size:"default",placeholder:Ve.placeholder,"prefix-icon":unref(search_default),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):createCommentVNode("v-if",!0),withDirectives(createVNode$1(unref(ElCheckboxGroup$1),{modelValue:unref(Ne),"onUpdate:modelValue":Ue=>isRef(Ne)?Ne.value=Ue:null,"validate-event":!1,class:normalizeClass([unref(ae).is("filterable",Ve.filterable),unref(ae).be("panel","list")])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(he),Ue=>(openBlock(),createBlock(unref(ElCheckbox),{key:Ue[unref(ue).key],class:normalizeClass(unref(ae).be("panel","item")),value:Ue[unref(ue).key],disabled:Ue[unref(ue).disabled],"validate-event":!1},{default:withCtx(()=>{var qe;return[createVNode$1(L,{option:(qe=Ve.optionRender)==null?void 0:qe.call(Ve,Ue)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[vShow,!unref(Oe)&&!unref(isEmpty)(Ve.data)]]),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(ae).be("panel","empty"))},[renderSlot(Ve.$slots,"empty",{},()=>[createTextVNode(toDisplayString(unref(Oe)?unref(re)("el.transfer.noMatch"):unref(re)("el.transfer.noData")),1)])],2),[[vShow,unref(Oe)||unref(isEmpty)(Ve.data)]])],2),unref(xe)?(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(ae).be("panel","footer"))},[renderSlot(Ve.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var TransferPanel=_export_sfc(_sfc_main$1J,[["__file","transfer-panel.vue"]]);const useComputedData=r=>{const n=usePropsAlias(r),g=computed(()=>r.data.reduce((L,re)=>(L[re[n.value.key]]=re)&&L,{})),y=computed(()=>r.data.filter(L=>!r.modelValue.includes(L[n.value.key]))),$=computed(()=>r.targetOrder==="original"?r.data.filter(L=>r.modelValue.includes(L[n.value.key])):r.modelValue.reduce((L,re)=>{const ae=g.value[re];return ae&&L.push(ae),L},[]));return{sourceData:y,targetData:$}},useMove=(r,n,g)=>{const y=usePropsAlias(r),$=(ae,le,ue)=>{g(UPDATE_MODEL_EVENT,ae),g(CHANGE_EVENT,ae,le,ue)};return{addToLeft:()=>{const ae=r.modelValue.slice();n.rightChecked.forEach(le=>{const ue=ae.indexOf(le);ue>-1&&ae.splice(ue,1)}),$(ae,"left",n.rightChecked)},addToRight:()=>{let ae=r.modelValue.slice();const le=r.data.filter(ue=>{const he=ue[y.value.key];return n.leftChecked.includes(he)&&!r.modelValue.includes(he)}).map(ue=>ue[y.value.key]);ae=r.targetOrder==="unshift"?le.concat(ae):ae.concat(le),r.targetOrder==="original"&&(ae=r.data.filter(ue=>ae.includes(ue[y.value.key])).map(ue=>ue[y.value.key])),$(ae,"right",n.leftChecked)}}},useCheckedChange=(r,n)=>({onSourceCheckedChange:($,L)=>{r.leftChecked=$,L&&n(LEFT_CHECK_CHANGE_EVENT,$,L)},onTargetCheckedChange:($,L)=>{r.rightChecked=$,L&&n(RIGHT_CHECK_CHANGE_EVENT,$,L)}}),__default__$i=defineComponent({name:"ElTransfer"}),_sfc_main$1I=defineComponent({...__default__$i,props:transferProps,emits:transferEmits,setup(r,{expose:n,emit:g}){const y=r,$=useSlots(),{t:L}=useLocale(),re=useNamespace$1("transfer"),{formItem:ae}=useFormItem(),le=reactive({leftChecked:[],rightChecked:[]}),ue=usePropsAlias(y),{sourceData:he,targetData:_e}=useComputedData(y),{onSourceCheckedChange:Ce,onTargetCheckedChange:$e}=useCheckedChange(le,g),{addToLeft:Oe,addToRight:xe}=useMove(y,le,g),Ne=ref$1(),Ie=ref$1(),Fe=Et=>{switch(Et){case"left":Ne.value.query="";break;case"right":Ie.value.query="";break}},Ve=computed(()=>y.buttonTexts.length===2),ze=computed(()=>y.titles[0]||L("el.transfer.titles.0")),Ue=computed(()=>y.titles[1]||L("el.transfer.titles.1")),qe=computed(()=>y.filterPlaceholder||L("el.transfer.filterPlaceholder"));watch$1(()=>y.modelValue,()=>{var Et;y.validateEvent&&((Et=ae==null?void 0:ae.validate)==null||Et.call(ae,"change").catch(Pt=>void 0))});const kt=computed(()=>Et=>{var Pt;if(y.renderContent)return y.renderContent(h$1,Et);const At=(((Pt=$.default)==null?void 0:Pt.call($,{option:Et}))||[]).filter(Dt=>Dt.type!==Comment);return At.length?At:h$1("span",Et[ue.value.label]||Et[ue.value.key])});return n({clearQuery:Fe,leftPanel:Ne,rightPanel:Ie}),(Et,Pt)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(re).b())},[createVNode$1(TransferPanel,{ref_key:"leftPanel",ref:Ne,data:unref(he),"option-render":unref(kt),placeholder:unref(qe),title:unref(ze),filterable:Et.filterable,format:Et.format,"filter-method":Et.filterMethod,"default-checked":Et.leftDefaultChecked,props:y.props,onCheckedChange:unref(Ce)},{empty:withCtx(()=>[renderSlot(Et.$slots,"left-empty")]),default:withCtx(()=>[renderSlot(Et.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),createBaseVNode("div",{class:normalizeClass(unref(re).e("buttons"))},[createVNode$1(unref(ElButton),{type:"primary",class:normalizeClass([unref(re).e("button"),unref(re).is("with-texts",unref(Ve))]),disabled:unref(isEmpty)(le.rightChecked),onClick:unref(Oe)},{default:withCtx(()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1}),unref(isUndefined)(Et.buttonTexts[0])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0},toDisplayString(Et.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),createVNode$1(unref(ElButton),{type:"primary",class:normalizeClass([unref(re).e("button"),unref(re).is("with-texts",unref(Ve))]),disabled:unref(isEmpty)(le.leftChecked),onClick:unref(xe)},{default:withCtx(()=>[unref(isUndefined)(Et.buttonTexts[1])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0},toDisplayString(Et.buttonTexts[1]),1)),createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),createVNode$1(TransferPanel,{ref_key:"rightPanel",ref:Ie,data:unref(_e),"option-render":unref(kt),placeholder:unref(qe),filterable:Et.filterable,format:Et.format,"filter-method":Et.filterMethod,title:unref(Ue),"default-checked":Et.rightDefaultChecked,props:y.props,onCheckedChange:unref($e)},{empty:withCtx(()=>[renderSlot(Et.$slots,"right-empty")]),default:withCtx(()=>[renderSlot(Et.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Transfer=_export_sfc(_sfc_main$1I,[["__file","transfer.vue"]]);const ElTransfer=withInstall(Transfer),NODE_KEY="$treeNodeId",markNodeData=function(r,n){!n||n[NODE_KEY]||Object.defineProperty(n,NODE_KEY,{value:r.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=function(r,n){return r?n[r]:n[NODE_KEY]},handleCurrentChange=(r,n,g)=>{const y=r.value.currentNode;g();const $=r.value.currentNode;y!==$&&n("current-change",$?$.data:null,$)},getChildState=r=>{let n=!0,g=!0,y=!0;for(let $=0,L=r.length;$<L;$++){const re=r[$];(re.checked!==!0||re.indeterminate)&&(n=!1,re.disabled||(y=!1)),(re.checked!==!1||re.indeterminate)&&(g=!1)}return{all:n,none:g,allWithoutDisable:y,half:!n&&!g}},reInitChecked=function(r){if(r.childNodes.length===0||r.loading)return;const{all:n,none:g,half:y}=getChildState(r.childNodes);n?(r.checked=!0,r.indeterminate=!1):y?(r.checked=!1,r.indeterminate=!0):g&&(r.checked=!1,r.indeterminate=!1);const $=r.parent;!$||$.level===0||r.store.checkStrictly||reInitChecked($)},getPropertyFromData=function(r,n){const g=r.store.props,y=r.data||{},$=g[n];if(isFunction$3($))return $(y,r);if(isString$3($))return y[$];if(isUndefined($)){const L=y[n];return L===void 0?"":L}};let nodeIdSeed=0,Node$1=class Jr{constructor(n){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const g in n)hasOwn$1(n,g)&&(this[g]=n[g]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const g=n.props;if(g&&typeof g.isLeaf<"u"){const L=getPropertyFromData(this,"isLeaf");isBoolean(L)&&(this.isLeafByUser=L)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),isArray$5(this.data)||markNodeData(this,this.data),!this.data)return;const y=n.defaultExpandedKeys,$=n.key;$&&y&&y.includes(this.key)&&this.expand(null,n.autoExpandParent),$&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){isArray$5(n)||markNodeData(this,n),this.data=n,this.childNodes=[];let g;this.level===0&&isArray$5(this.data)?g=this.data:g=getPropertyFromData(this,"children")||[];for(let y=0,$=g.length;y<$;y++)this.insertChild({data:g[y]})}get label(){return getPropertyFromData(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const g=n.childNodes.indexOf(this);if(g>-1)return n.childNodes[g+1]}return null}get previousSibling(){const n=this.parent;if(n){const g=n.childNodes.indexOf(this);if(g>-1)return g>0?n.childNodes[g-1]:null}return null}contains(n,g=!0){return(this.childNodes||[]).some(y=>y===n||g&&y.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,g,y){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof Jr)){if(!y){const $=this.getChildren(!0);$.includes(n.data)||(isUndefined(g)||g<0?$.push(n.data):$.splice(g,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=reactive(new Jr(n)),n instanceof Jr&&n.initialize()}n.level=this.level+1,isUndefined(g)||g<0?this.childNodes.push(n):this.childNodes.splice(g,0,n),this.updateLeafState()}insertBefore(n,g){let y;g&&(y=this.childNodes.indexOf(g)),this.insertChild(n,y)}insertAfter(n,g){let y;g&&(y=this.childNodes.indexOf(g),y!==-1&&(y+=1)),this.insertChild(n,y)}removeChild(n){const g=this.getChildren()||[],y=g.indexOf(n.data);y>-1&&g.splice(y,1);const $=this.childNodes.indexOf(n);$>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice($,1)),this.updateLeafState()}removeChildByData(n){let g=null;for(let y=0;y<this.childNodes.length;y++)if(this.childNodes[y].data===n){g=this.childNodes[y];break}g&&this.removeChild(g)}expand(n,g){const y=()=>{if(g){let $=this.parent;for(;$.level>0;)$.expanded=!0,$=$.parent}this.expanded=!0,n&&n(),this.childNodes.forEach($=>{$.canFocus=!0})};this.shouldLoadData()?this.loadData($=>{isArray$5($)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),y())}):y()}doCreateChildren(n,g={}){n.forEach(y=>{this.insertChild(Object.assign({data:y},g),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,g,y,$){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:re,allWithoutDisable:ae}=getChildState(this.childNodes);!this.isLeaf&&!re&&ae&&(this.checked=!1,n=!1);const le=()=>{if(g){const ue=this.childNodes;for(let Ce=0,$e=ue.length;Ce<$e;Ce++){const Oe=ue[Ce];$=$||n!==!1;const xe=Oe.disabled?Oe.checked:$;Oe.setChecked(xe,g,!0,$)}const{half:he,all:_e}=getChildState(ue);_e||(this.checked=_e,this.indeterminate=he)}};if(this.shouldLoadData()){this.loadData(()=>{le(),reInitChecked(this)},{checked:n!==!1});return}else le()}const L=this.parent;!L||L.level===0||y||reInitChecked(L)}getChildren(n=!1){if(this.level===0)return this.data;const g=this.data;if(!g)return null;const y=this.store.props;let $="children";return y&&($=y.children||"children"),g[$]===void 0&&(g[$]=null),n&&!g[$]&&(g[$]=[]),g[$]}updateChildren(){const n=this.getChildren()||[],g=this.childNodes.map(L=>L.data),y={},$=[];n.forEach((L,re)=>{const ae=L[NODE_KEY];!!ae&&g.findIndex(ue=>ue[NODE_KEY]===ae)>=0?y[ae]={index:re,data:L}:$.push({index:re,data:L})}),this.store.lazy||g.forEach(L=>{y[L[NODE_KEY]]||this.removeChildByData(L)}),$.forEach(({index:L,data:re})=>{this.insertChild({data:re},L)}),this.updateLeafState()}loadData(n,g={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(g).length)){this.loading=!0;const y=L=>{this.childNodes=[],this.doCreateChildren(L,g),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,L)},$=()=>{this.loading=!1};this.store.load(this,y,$)}else n&&n.call(this)}eachNode(n){const g=[this];for(;g.length;){const y=g.shift();g.unshift(...y.childNodes),n(y)}}reInitChecked(){this.store.checkStrictly||reInitChecked(this)}};class TreeStore{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const g in n)hasOwn$1(n,g)&&(this[g]=n[g]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,g=>{this.root.doCreateChildren(g),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const g=this.filterNodeMethod,y=this.lazy,$=function(L){const re=L.root?L.root.childNodes:L.childNodes;if(re.forEach(ae=>{ae.visible=g.call(ae,n,ae.data,ae),$(ae)}),!L.visible&&re.length){let ae=!0;ae=!re.some(le=>le.visible),L.root?L.root.visible=ae===!1:L.visible=ae===!1}n&&L.visible&&!L.isLeaf&&(!y||L.loaded)&&L.expand()};$(this)}setData(n){n!==this.root.data?(this.nodesMap={},this.root.setData(n),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(n){if(n instanceof Node$1)return n;const g=isObject$7(n)?getNodeKey(this.key,n):n;return this.nodesMap[g]||null}insertBefore(n,g){const y=this.getNode(g);y.parent.insertBefore({data:n},y)}insertAfter(n,g){const y=this.getNode(g);y.parent.insertAfter({data:n},y)}remove(n){const g=this.getNode(n);g&&g.parent&&(g===this.currentNode&&(this.currentNode=null),g.parent.removeChild(g))}append(n,g){const y=isPropAbsent(g)?this.root:this.getNode(g);y&&y.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],g=this.nodesMap;n.forEach(y=>{const $=g[y];$&&$.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const g=this.key;!n||!n.data||(g?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(y=>{this.deregisterNode(y)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,g=!1){const y=[],$=function(L){(L.root?L.root.childNodes:L.childNodes).forEach(ae=>{(ae.checked||g&&ae.indeterminate)&&(!n||n&&ae.isLeaf)&&y.push(ae.data),$(ae)})};return $(this),y}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(g=>(g||{})[this.key])}getHalfCheckedNodes(){const n=[],g=function(y){(y.root?y.root.childNodes:y.childNodes).forEach(L=>{L.indeterminate&&n.push(L.data),g(L)})};return g(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],g=this.nodesMap;for(const y in g)hasOwn$1(g,y)&&n.push(g[y]);return n}updateChildren(n,g){const y=this.nodesMap[n];if(!y)return;const $=y.childNodes;for(let L=$.length-1;L>=0;L--){const re=$[L];this.remove(re.data)}for(let L=0,re=g.length;L<re;L++){const ae=g[L];this.append(ae,y.data)}}_setCheckedKeys(n,g=!1,y){const $=this._getAllNodes().sort((le,ue)=>le.level-ue.level),L=Object.create(null),re=Object.keys(y);$.forEach(le=>le.setChecked(!1,!1));const ae=le=>{le.childNodes.forEach(ue=>{var he;L[ue.data[n]]=!0,(he=ue.childNodes)!=null&&he.length&&ae(ue)})};for(let le=0,ue=$.length;le<ue;le++){const he=$[le],_e=he.data[n].toString();if(!re.includes(_e)){he.checked&&!L[_e]&&he.setChecked(!1,!1);continue}if(he.childNodes.length&&ae(he),he.isLeaf||this.checkStrictly){he.setChecked(!0,!1);continue}if(he.setChecked(!0,!0),g){he.setChecked(!1,!1);const $e=function(Oe){Oe.childNodes.forEach(Ne=>{Ne.isLeaf||Ne.setChecked(!1,!1),$e(Ne)})};$e(he)}}}setCheckedNodes(n,g=!1){const y=this.key,$={};n.forEach(L=>{$[(L||{})[y]]=!0}),this._setCheckedKeys(y,g,$)}setCheckedKeys(n,g=!1){this.defaultCheckedKeys=n;const y=this.key,$={};n.forEach(L=>{$[L]=!0}),this._setCheckedKeys(y,g,$)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(g=>{const y=this.getNode(g);y&&y.expand(null,this.autoExpandParent)})}setChecked(n,g,y){const $=this.getNode(n);$&&$.setChecked(!!g,y)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const g=this.currentNode;g&&(g.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,g=!0){const y=n[this.key],$=this.nodesMap[y];this.setCurrentNode($),g&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,g=!0){if(this.currentNodeKey=n,n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const y=this.getNode(n);y&&(this.setCurrentNode(y),g&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const _sfc_main$1H=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(r){const n=useNamespace$1("tree"),g=inject("NodeInstance"),y=inject("RootTree");return()=>{const $=r.node,{data:L,store:re}=$;return r.renderContent?r.renderContent(h$1,{_self:g,node:$,data:L,store:re}):renderSlot(y.ctx.slots,"default",{node:$,data:L},()=>[h$1("span",{class:n.be("node","label")},[$.label])])}}});var NodeContent=_export_sfc(_sfc_main$1H,[["__file","tree-node-content.vue"]]);function useNodeExpandEventBroadcast(r){const n=inject("TreeNodeMap",null),g={treeNodeExpand:y=>{r.node!==y&&r.node.collapse()},children:[]};return n&&n.children.push(g),provide("TreeNodeMap",g),{broadcastExpanded:y=>{if(r.accordion)for(const $ of g.children)$.treeNodeExpand(y)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:r,ctx:n,el$:g,dropIndicator$:y,store:$}){const L=useNamespace$1("tree"),re=ref$1({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:he,treeNode:_e})=>{if(isFunction$3(r.allowDrag)&&!r.allowDrag(_e.node))return he.preventDefault(),!1;he.dataTransfer.effectAllowed="move";try{he.dataTransfer.setData("text/plain","")}catch{}re.value.draggingNode=_e,n.emit("node-drag-start",_e.node,he)},treeNodeDragOver:({event:he,treeNode:_e})=>{const Ce=_e,$e=re.value.dropNode;$e&&$e.node.id!==Ce.node.id&&removeClass($e.$el,L.is("drop-inner"));const Oe=re.value.draggingNode;if(!Oe||!Ce)return;let xe=!0,Ne=!0,Ie=!0,Fe=!0;isFunction$3(r.allowDrop)&&(xe=r.allowDrop(Oe.node,Ce.node,"prev"),Fe=Ne=r.allowDrop(Oe.node,Ce.node,"inner"),Ie=r.allowDrop(Oe.node,Ce.node,"next")),he.dataTransfer.dropEffect=Ne||xe||Ie?"move":"none",(xe||Ne||Ie)&&($e==null?void 0:$e.node.id)!==Ce.node.id&&($e&&n.emit("node-drag-leave",Oe.node,$e.node,he),n.emit("node-drag-enter",Oe.node,Ce.node,he)),xe||Ne||Ie?re.value.dropNode=Ce:re.value.dropNode=null,Ce.node.nextSibling===Oe.node&&(Ie=!1),Ce.node.previousSibling===Oe.node&&(xe=!1),Ce.node.contains(Oe.node,!1)&&(Ne=!1),(Oe.node===Ce.node||Oe.node.contains(Ce.node))&&(xe=!1,Ne=!1,Ie=!1);const Ve=Ce.$el.querySelector(`.${L.be("node","content")}`).getBoundingClientRect(),ze=g.value.getBoundingClientRect();let Ue;const qe=xe?Ne?.25:Ie?.45:1:-1,kt=Ie?Ne?.75:xe?.55:0:1;let Et=-9999;const Pt=he.clientY-Ve.top;Pt<Ve.height*qe?Ue="before":Pt>Ve.height*kt?Ue="after":Ne?Ue="inner":Ue="none";const At=Ce.$el.querySelector(`.${L.be("node","expand-icon")}`).getBoundingClientRect(),Dt=y.value;Ue==="before"?Et=At.top-ze.top:Ue==="after"&&(Et=At.bottom-ze.top),Dt.style.top=`${Et}px`,Dt.style.left=`${At.right-ze.left}px`,Ue==="inner"?addClass(Ce.$el,L.is("drop-inner")):removeClass(Ce.$el,L.is("drop-inner")),re.value.showDropIndicator=Ue==="before"||Ue==="after",re.value.allowDrop=re.value.showDropIndicator||Fe,re.value.dropType=Ue,n.emit("node-drag-over",Oe.node,Ce.node,he)},treeNodeDragEnd:he=>{const{draggingNode:_e,dropType:Ce,dropNode:$e}=re.value;if(he.preventDefault(),he.dataTransfer&&(he.dataTransfer.dropEffect="move"),_e&&$e){const Oe={data:_e.node.data};Ce!=="none"&&_e.node.remove(),Ce==="before"?$e.node.parent.insertBefore(Oe,$e.node):Ce==="after"?$e.node.parent.insertAfter(Oe,$e.node):Ce==="inner"&&$e.node.insertChild(Oe),Ce!=="none"&&($.value.registerNode(Oe),$.value.key&&_e.node.eachNode(xe=>{var Ne;(Ne=$.value.nodesMap[xe.data[$.value.key]])==null||Ne.setChecked(xe.checked,!$.value.checkStrictly)})),removeClass($e.$el,L.is("drop-inner")),n.emit("node-drag-end",_e.node,$e.node,Ce,he),Ce!=="none"&&n.emit("node-drop",_e.node,$e.node,Ce,he)}_e&&!$e&&n.emit("node-drag-end",_e.node,null,Ce,he),re.value.showDropIndicator=!1,re.value.draggingNode=null,re.value.dropNode=null,re.value.allowDrop=!0}}),{dragState:re}}const _sfc_main$1G=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(r,n){const g=useNamespace$1("tree"),{broadcastExpanded:y}=useNodeExpandEventBroadcast(r),$=inject("RootTree"),L=ref$1(!1),re=ref$1(!1),ae=ref$1(null),le=ref$1(null),ue=ref$1(null),he=inject(dragEventsKey),_e=getCurrentInstance();provide("NodeInstance",_e),r.node.expanded&&(L.value=!0,re.value=!0);const Ce=$.props.props.children||"children";watch$1(()=>{const Pt=r.node.data[Ce];return Pt&&[...Pt]},()=>{r.node.updateChildren()}),watch$1(()=>r.node.indeterminate,Pt=>{xe(r.node.checked,Pt)}),watch$1(()=>r.node.checked,Pt=>{xe(Pt,r.node.indeterminate)}),watch$1(()=>r.node.childNodes.length,()=>r.node.reInitChecked()),watch$1(()=>r.node.expanded,Pt=>{nextTick$1(()=>L.value=Pt),Pt&&(re.value=!0)});const $e=Pt=>getNodeKey($.props.nodeKey,Pt.data),Oe=Pt=>{const At=r.props.class;if(!At)return{};let Dt;if(isFunction$3(At)){const{data:Lt}=Pt;Dt=At(Lt,Pt)}else Dt=At;return isString$3(Dt)?{[Dt]:!0}:Dt},xe=(Pt,At)=>{(ae.value!==Pt||le.value!==At)&&$.ctx.emit("check-change",r.node.data,Pt,At),ae.value=Pt,le.value=At},Ne=Pt=>{handleCurrentChange($.store,$.ctx.emit,()=>{var At;if((At=$==null?void 0:$.props)==null?void 0:At.nodeKey){const Lt=$e(r.node);$.store.value.setCurrentNodeKey(Lt)}else $.store.value.setCurrentNode(r.node)}),$.currentNode.value=r.node,$.props.expandOnClickNode&&Fe(),$.props.checkOnClickNode&&!r.node.disabled&&Ve(null,{target:{checked:!r.node.checked}}),$.ctx.emit("node-click",r.node.data,r.node,_e,Pt)},Ie=Pt=>{$.instance.vnode.props.onNodeContextmenu&&(Pt.stopPropagation(),Pt.preventDefault()),$.ctx.emit("node-contextmenu",Pt,r.node.data,r.node,_e)},Fe=()=>{r.node.isLeaf||(L.value?($.ctx.emit("node-collapse",r.node.data,r.node,_e),r.node.collapse()):r.node.expand(()=>{n.emit("node-expand",r.node.data,r.node,_e)}))},Ve=(Pt,At)=>{r.node.setChecked(At.target.checked,!$.props.checkStrictly),nextTick$1(()=>{const Dt=$.store.value;$.ctx.emit("check",r.node.data,{checkedNodes:Dt.getCheckedNodes(),checkedKeys:Dt.getCheckedKeys(),halfCheckedNodes:Dt.getHalfCheckedNodes(),halfCheckedKeys:Dt.getHalfCheckedKeys()})})};return{ns:g,node$:ue,tree:$,expanded:L,childNodeRendered:re,oldChecked:ae,oldIndeterminate:le,getNodeKey:$e,getNodeClass:Oe,handleSelectChange:xe,handleClick:Ne,handleContextMenu:Ie,handleExpandIconClick:Fe,handleCheckChange:Ve,handleChildNodeExpand:(Pt,At,Dt)=>{y(At),$.ctx.emit("node-expand",Pt,At,Dt)},handleDragStart:Pt=>{$.props.draggable&&he.treeNodeDragStart({event:Pt,treeNode:r})},handleDragOver:Pt=>{Pt.preventDefault(),$.props.draggable&&he.treeNodeDragOver({event:Pt,treeNode:{$el:ue.value,node:r.node}})},handleDrop:Pt=>{Pt.preventDefault()},handleDragEnd:Pt=>{$.props.draggable&&he.treeNodeDragEnd(Pt)},CaretRight:caret_right_default}}});function _sfc_render$h(r,n,g,y,$,L){const re=resolveComponent("el-icon"),ae=resolveComponent("el-checkbox"),le=resolveComponent("loading"),ue=resolveComponent("node-content"),he=resolveComponent("el-tree-node"),_e=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([r.ns.b("node"),r.ns.is("expanded",r.expanded),r.ns.is("current",r.node.isCurrent),r.ns.is("hidden",!r.node.visible),r.ns.is("focusable",!r.node.disabled),r.ns.is("checked",!r.node.disabled&&r.node.checked),r.getNodeClass(r.node)]),role:"treeitem",tabindex:"-1","aria-expanded":r.expanded,"aria-disabled":r.node.disabled,"aria-checked":r.node.checked,draggable:r.tree.props.draggable,"data-key":r.getNodeKey(r.node),onClick:withModifiers(r.handleClick,["stop"]),onContextmenu:r.handleContextMenu,onDragstart:withModifiers(r.handleDragStart,["stop"]),onDragover:withModifiers(r.handleDragOver,["stop"]),onDragend:withModifiers(r.handleDragEnd,["stop"]),onDrop:withModifiers(r.handleDrop,["stop"])},[createBaseVNode("div",{class:normalizeClass(r.ns.be("node","content")),style:normalizeStyle$1({paddingLeft:(r.node.level-1)*r.tree.props.indent+"px"})},[r.tree.props.icon||r.CaretRight?(openBlock(),createBlock(re,{key:0,class:normalizeClass([r.ns.be("node","expand-icon"),r.ns.is("leaf",r.node.isLeaf),{expanded:!r.node.isLeaf&&r.expanded}]),onClick:withModifiers(r.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.tree.props.icon||r.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),r.showCheckbox?(openBlock(),createBlock(ae,{key:1,"model-value":r.node.checked,indeterminate:r.node.indeterminate,disabled:!!r.node.disabled,onClick:withModifiers(()=>{},["stop"]),onChange:r.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):createCommentVNode("v-if",!0),r.node.loading?(openBlock(),createBlock(re,{key:2,class:normalizeClass([r.ns.be("node","loading-icon"),r.ns.is("loading")])},{default:withCtx(()=>[createVNode$1(le)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode$1(ue,{node:r.node,"render-content":r.renderContent},null,8,["node","render-content"])],6),createVNode$1(_e,null,{default:withCtx(()=>[!r.renderAfterExpand||r.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.ns.be("node","children")),role:"group","aria-expanded":r.expanded},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.node.childNodes,Ce=>(openBlock(),createBlock(he,{key:r.getNodeKey(Ce),"render-content":r.renderContent,"render-after-expand":r.renderAfterExpand,"show-checkbox":r.showCheckbox,node:Ce,accordion:r.accordion,props:r.props,onNodeExpand:r.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[vShow,r.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[vShow,r.node.visible]])}var ElTreeNode$1=_export_sfc(_sfc_main$1G,[["render",_sfc_render$h],["__file","tree-node.vue"]]);function useKeydown({el$:r},n){const g=useNamespace$1("tree"),y=shallowRef([]),$=shallowRef([]);onMounted(()=>{re()}),onUpdated(()=>{y.value=Array.from(r.value.querySelectorAll("[role=treeitem]")),$.value=Array.from(r.value.querySelectorAll("input[type=checkbox]"))}),watch$1($,ae=>{ae.forEach(le=>{le.setAttribute("tabindex","-1")})}),useEventListener(r,"keydown",ae=>{const le=ae.target;if(!le.className.includes(g.b("node")))return;const ue=ae.code;y.value=Array.from(r.value.querySelectorAll(`.${g.is("focusable")}[role=treeitem]`));const he=y.value.indexOf(le);let _e;if([EVENT_CODE.up,EVENT_CODE.down].includes(ue)){if(ae.preventDefault(),ue===EVENT_CODE.up){_e=he===-1?0:he!==0?he-1:y.value.length-1;const $e=_e;for(;!n.value.getNode(y.value[_e].dataset.key).canFocus;){if(_e--,_e===$e){_e=-1;break}_e<0&&(_e=y.value.length-1)}}else{_e=he===-1?0:he<y.value.length-1?he+1:0;const $e=_e;for(;!n.value.getNode(y.value[_e].dataset.key).canFocus;){if(_e++,_e===$e){_e=-1;break}_e>=y.value.length&&(_e=0)}}_e!==-1&&y.value[_e].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(ue)&&(ae.preventDefault(),le.click());const Ce=le.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space].includes(ue)&&Ce&&(ae.preventDefault(),Ce.click())});const re=()=>{var ae;y.value=Array.from(r.value.querySelectorAll(`.${g.is("focusable")}[role=treeitem]`)),$.value=Array.from(r.value.querySelectorAll("input[type=checkbox]"));const le=r.value.querySelectorAll(`.${g.is("checked")}[role=treeitem]`);if(le.length){le[0].setAttribute("tabindex","0");return}(ae=y.value[0])==null||ae.setAttribute("tabindex","0")}}const _sfc_main$1F=defineComponent({name:"ElTree",components:{ElTreeNode:ElTreeNode$1},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(r,n){const{t:g}=useLocale(),y=useNamespace$1("tree"),$=inject(selectKey,null),L=ref$1(new TreeStore({key:r.nodeKey,data:r.data,lazy:r.lazy,props:r.props,load:r.load,currentNodeKey:r.currentNodeKey,checkStrictly:r.checkStrictly,checkDescendants:r.checkDescendants,defaultCheckedKeys:r.defaultCheckedKeys,defaultExpandedKeys:r.defaultExpandedKeys,autoExpandParent:r.autoExpandParent,defaultExpandAll:r.defaultExpandAll,filterNodeMethod:r.filterNodeMethod}));L.value.initialize();const re=ref$1(L.value.root),ae=ref$1(null),le=ref$1(null),ue=ref$1(null),{broadcastExpanded:he}=useNodeExpandEventBroadcast(r),{dragState:_e}=useDragNodeHandler({props:r,ctx:n,el$:le,dropIndicator$:ue,store:L});useKeydown({el$:le},L);const Ce=computed(()=>{const{childNodes:Sn}=re.value,bn=$?$.hasFilteredOptions!==0:!1;return(!Sn||Sn.length===0||Sn.every(({visible:wn})=>!wn))&&!bn});watch$1(()=>r.currentNodeKey,Sn=>{L.value.setCurrentNodeKey(Sn)}),watch$1(()=>r.defaultCheckedKeys,Sn=>{L.value.setDefaultCheckedKey(Sn)}),watch$1(()=>r.defaultExpandedKeys,Sn=>{L.value.setDefaultExpandedKeys(Sn)}),watch$1(()=>r.data,Sn=>{L.value.setData(Sn)},{deep:!0}),watch$1(()=>r.checkStrictly,Sn=>{L.value.checkStrictly=Sn});const $e=Sn=>{if(!r.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");L.value.filter(Sn)},Oe=Sn=>getNodeKey(r.nodeKey,Sn.data),xe=Sn=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const bn=L.value.getNode(Sn);if(!bn)return[];const wn=[bn.data];let On=bn.parent;for(;On&&On!==re.value;)wn.push(On.data),On=On.parent;return wn.reverse()},Ne=(Sn,bn)=>L.value.getCheckedNodes(Sn,bn),Ie=Sn=>L.value.getCheckedKeys(Sn),Fe=()=>{const Sn=L.value.getCurrentNode();return Sn?Sn.data:null},Ve=()=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const Sn=Fe();return Sn?Sn[r.nodeKey]:null},ze=(Sn,bn)=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");L.value.setCheckedNodes(Sn,bn)},Ue=(Sn,bn)=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");L.value.setCheckedKeys(Sn,bn)},qe=(Sn,bn,wn)=>{L.value.setChecked(Sn,bn,wn)},kt=()=>L.value.getHalfCheckedNodes(),Et=()=>L.value.getHalfCheckedKeys(),Pt=(Sn,bn=!0)=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange(L,n.emit,()=>{he(Sn),L.value.setUserCurrentNode(Sn,bn)})},At=(Sn,bn=!0)=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange(L,n.emit,()=>{he(),L.value.setCurrentNodeKey(Sn,bn)})},Dt=Sn=>L.value.getNode(Sn),Lt=Sn=>{L.value.remove(Sn)},hn=(Sn,bn)=>{L.value.append(Sn,bn)},_n=(Sn,bn)=>{L.value.insertBefore(Sn,bn)},vn=(Sn,bn)=>{L.value.insertAfter(Sn,bn)},jt=(Sn,bn,wn)=>{he(bn),n.emit("node-expand",Sn,bn,wn)},$n=(Sn,bn)=>{if(!r.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");L.value.updateChildren(Sn,bn)};return provide("RootTree",{ctx:n,props:r,store:L,root:re,currentNode:ae,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:y,store:L,root:re,currentNode:ae,dragState:_e,el$:le,dropIndicator$:ue,isEmpty:Ce,filter:$e,getNodeKey:Oe,getNodePath:xe,getCheckedNodes:Ne,getCheckedKeys:Ie,getCurrentNode:Fe,getCurrentKey:Ve,setCheckedNodes:ze,setCheckedKeys:Ue,setChecked:qe,getHalfCheckedNodes:kt,getHalfCheckedKeys:Et,setCurrentNode:Pt,setCurrentKey:At,t:g,getNode:Dt,remove:Lt,append:hn,insertBefore:_n,insertAfter:vn,handleNodeExpand:jt,updateKeyChildren:$n}}});function _sfc_render$g(r,n,g,y,$,L){const re=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([r.ns.b(),r.ns.is("dragging",!!r.dragState.draggingNode),r.ns.is("drop-not-allow",!r.dragState.allowDrop),r.ns.is("drop-inner",r.dragState.dropType==="inner"),{[r.ns.m("highlight-current")]:r.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.root.childNodes,ae=>(openBlock(),createBlock(re,{key:r.getNodeKey(ae),node:ae,props:r.props,accordion:r.accordion,"render-after-expand":r.renderAfterExpand,"show-checkbox":r.showCheckbox,"render-content":r.renderContent,onNodeExpand:r.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),r.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.ns.e("empty-block"))},[renderSlot(r.$slots,"empty",{},()=>{var ae;return[createBaseVNode("span",{class:normalizeClass(r.ns.e("empty-text"))},toDisplayString((ae=r.emptyText)!=null?ae:r.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(r.ns.e("drop-indicator"))},null,2),[[vShow,r.dragState.showDropIndicator]])],2)}var Tree$4=_export_sfc(_sfc_main$1F,[["render",_sfc_render$g],["__file","tree.vue"]]);const ElTree=withInstall(Tree$4),useSelect=(r,{attrs:n,emit:g},{select:y,tree:$,key:L})=>{const re=useNamespace$1("tree-select");return watch$1(()=>r.data,()=>{r.filterable&&nextTick$1(()=>{var le,ue;(ue=$.value)==null||ue.filter((le=y.value)==null?void 0:le.states.inputValue)})},{flush:"post"}),{...pick(toRefs(r),Object.keys(ElSelect.props)),...n,"onUpdate:modelValue":le=>g(UPDATE_MODEL_EVENT,le),valueKey:L,popperClass:computed(()=>{const le=[re.e("popper")];return r.popperClass&&le.push(r.popperClass),le.join(" ")}),filterMethod:(le="")=>{var ue;r.filterMethod?r.filterMethod(le):r.remoteMethod?r.remoteMethod(le):(ue=$.value)==null||ue.filter(le)}}},component=defineComponent({extends:ElOption,setup(r,n){const g=ElOption.setup(r,n);delete g.selectOptionClick;const y=getCurrentInstance().proxy;return nextTick$1(()=>{g.select.states.cachedOptions.get(y.value)||g.select.onOptionCreate(y)}),watch$1(()=>n.attrs.visible,$=>{g.states.visible=$},{immediate:!0}),g},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(r){return r||r===0}function isValidArray(r){return isArray$5(r)&&r.length}function toValidArray(r){return isArray$5(r)?r:isValidValue(r)?[r]:[]}function treeFind(r,n,g,y,$){for(let L=0;L<r.length;L++){const re=r[L];if(n(re,L,r,$))return y?y(re,L,r,$):re;{const ae=g(re);if(isValidArray(ae)){const le=treeFind(ae,n,g,y,re);if(le)return le}}}}function treeEach(r,n,g,y){for(let $=0;$<r.length;$++){const L=r[$];n(L,$,r,y);const re=g(L);isValidArray(re)&&treeEach(re,n,g,L)}}const useTree$1=(r,{attrs:n,slots:g,emit:y},{select:$,tree:L,key:re})=>{watch$1(()=>r.modelValue,()=>{r.showCheckbox&&nextTick$1(()=>{const Ce=L.value;Ce&&!isEqual$1(Ce.getCheckedKeys(),toValidArray(r.modelValue))&&Ce.setCheckedKeys(toValidArray(r.modelValue))})},{immediate:!0,deep:!0});const ae=computed(()=>({value:re.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...r.props})),le=(Ce,$e)=>{var Oe;const xe=ae.value[Ce];return isFunction$3(xe)?xe($e,(Oe=L.value)==null?void 0:Oe.getNode(le("value",$e))):$e[xe]},ue=toValidArray(r.modelValue).map(Ce=>treeFind(r.data||[],$e=>le("value",$e)===Ce,$e=>le("children",$e),($e,Oe,xe,Ne)=>Ne&&le("value",Ne))).filter(Ce=>isValidValue(Ce)),he=computed(()=>{if(!r.renderAfterExpand&&!r.lazy)return[];const Ce=[];return treeEach(r.data.concat(r.cacheData),$e=>{const Oe=le("value",$e);Ce.push({value:Oe,currentLabel:le("label",$e),isDisabled:le("disabled",$e)})},$e=>le("children",$e)),Ce}),_e=()=>{var Ce;return(Ce=L.value)==null?void 0:Ce.getCheckedKeys().filter($e=>{var Oe;const xe=(Oe=L.value)==null?void 0:Oe.getNode($e);return!isNil(xe)&&isEmpty(xe.childNodes)})};return{...pick(toRefs(r),Object.keys(ElTree.props)),...n,nodeKey:re,expandOnClickNode:computed(()=>!r.checkStrictly&&r.expandOnClickNode),defaultExpandedKeys:computed(()=>r.defaultExpandedKeys?r.defaultExpandedKeys.concat(ue):ue),renderContent:(Ce,{node:$e,data:Oe,store:xe})=>Ce(component,{value:le("value",Oe),label:le("label",Oe),disabled:le("disabled",Oe),visible:$e.visible},r.renderContent?()=>r.renderContent(Ce,{node:$e,data:Oe,store:xe}):g.default?()=>g.default({node:$e,data:Oe,store:xe}):void 0),filterNodeMethod:(Ce,$e,Oe)=>r.filterNodeMethod?r.filterNodeMethod(Ce,$e,Oe):Ce?new RegExp(escapeStringRegexp(Ce),"i").test(le("label",$e)||""):!0,onNodeClick:(Ce,$e,Oe)=>{var xe,Ne,Ie,Fe;if((xe=n.onNodeClick)==null||xe.call(n,Ce,$e,Oe),!(r.showCheckbox&&r.checkOnClickNode)){if(!r.showCheckbox&&(r.checkStrictly||$e.isLeaf)){if(!le("disabled",Ce)){const Ve=(Ne=$.value)==null?void 0:Ne.states.options.get(le("value",Ce));(Ie=$.value)==null||Ie.handleOptionSelect(Ve)}}else r.expandOnClickNode&&Oe.proxy.handleExpandIconClick();(Fe=$.value)==null||Fe.focus()}},onCheck:(Ce,$e)=>{var Oe;if(!r.showCheckbox)return;const xe=le("value",Ce),Ne={};treeEach([L.value.store.root],ze=>Ne[ze.key]=ze,ze=>ze.childNodes);const Ie=$e.checkedKeys,Fe=r.multiple?toValidArray(r.modelValue).filter(ze=>!(ze in Ne)&&!Ie.includes(ze)):[],Ve=Fe.concat(Ie);if(r.checkStrictly)y(UPDATE_MODEL_EVENT,r.multiple?Ve:Ve.includes(xe)?xe:void 0);else if(r.multiple){const ze=_e();y(UPDATE_MODEL_EVENT,Fe.concat(ze))}else{const ze=treeFind([Ce],kt=>!isValidArray(le("children",kt))&&!le("disabled",kt),kt=>le("children",kt)),Ue=ze?le("value",ze):void 0,qe=isValidValue(r.modelValue)&&!!treeFind([Ce],kt=>le("value",kt)===r.modelValue,kt=>le("children",kt));y(UPDATE_MODEL_EVENT,Ue===r.modelValue||qe?void 0:Ue)}nextTick$1(()=>{var ze;const Ue=toValidArray(r.modelValue);L.value.setCheckedKeys(Ue),(ze=n.onCheck)==null||ze.call(n,Ce,{checkedKeys:L.value.getCheckedKeys(),checkedNodes:L.value.getCheckedNodes(),halfCheckedKeys:L.value.getHalfCheckedKeys(),halfCheckedNodes:L.value.getHalfCheckedNodes()})}),(Oe=$.value)==null||Oe.focus()},onNodeExpand:(Ce,$e,Oe)=>{var xe;(xe=n.onNodeExpand)==null||xe.call(n,Ce,$e,Oe),nextTick$1(()=>{if(!r.checkStrictly&&r.lazy&&r.multiple&&$e.checked){const Ne={},Ie=L.value.getCheckedKeys();treeEach([L.value.store.root],ze=>Ne[ze.key]=ze,ze=>ze.childNodes);const Fe=toValidArray(r.modelValue).filter(ze=>!(ze in Ne)&&!Ie.includes(ze)),Ve=_e();y(UPDATE_MODEL_EVENT,Fe.concat(Ve))}})},cacheOptions:he}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(r){const n=inject(selectKey);return watch$1(()=>r.data,()=>{var g;r.data.forEach($=>{n.states.cachedOptions.has($.value)||n.states.cachedOptions.set($.value,$)});const y=((g=n.selectRef)==null?void 0:g.querySelectorAll("input"))||[];isClient&&!Array.from(y).includes(document.activeElement)&&n.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$1E=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...ElSelect.props,...ElTree.props,cacheData:{type:Array,default:()=>[]}},setup(r,n){const{slots:g,expose:y}=n,$=ref$1(),L=ref$1(),re=computed(()=>r.nodeKey||r.valueKey||"value"),ae=useSelect(r,n,{select:$,tree:L,key:re}),{cacheOptions:le,...ue}=useTree$1(r,n,{select:$,tree:L,key:re}),he=reactive({});return y(he),onMounted(()=>{Object.assign(he,{...pick(L.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick($.value,["focus","blur","selectedLabel"])})}),()=>h$1(ElSelect,reactive({...ae,ref:_e=>$.value=_e}),{...g,default:()=>[h$1(CacheOptions,{data:le.value}),h$1(ElTree,reactive({...ue,ref:_e=>L.value=_e}))]})}});var TreeSelect=_export_sfc(_sfc_main$1E,[["__file","tree-select.vue"]]);const ElTreeSelect=withInstall(TreeSelect),ROOT_TREE_INJECTION_KEY=Symbol(),EMPTY_NODE={key:-1,level:-1,data:{}};var TreeOptionsEnum=(r=>(r.KEY="id",r.LABEL="label",r.CHILDREN="children",r.DISABLED="disabled",r.CLASS="",r))(TreeOptionsEnum||{}),SetOperationEnum=(r=>(r.ADD="add",r.DELETE="delete",r))(SetOperationEnum||{});const itemSize={type:Number,default:26},treeProps=buildProps({data:{type:definePropType(Array),default:()=>mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:definePropType(Object),default:()=>mutable({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:definePropType(Array),default:()=>mutable([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:definePropType(Array),default:()=>mutable([])},indent:{type:Number,default:16},itemSize,icon:{type:iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:definePropType([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:definePropType(Function)},perfMode:{type:Boolean,default:!0}}),treeNodeProps=buildProps({node:{type:definePropType(Object),default:()=>mutable(EMPTY_NODE)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize}),treeNodeContentProps=buildProps({node:{type:definePropType(Object),required:!0}}),NODE_CLICK="node-click",NODE_DROP="node-drop",NODE_EXPAND="node-expand",NODE_COLLAPSE="node-collapse",CURRENT_CHANGE="current-change",NODE_CHECK="check",NODE_CHECK_CHANGE="check-change",NODE_CONTEXTMENU="node-contextmenu",treeEmits={[NODE_CLICK]:(r,n,g)=>r&&n&&g,[NODE_DROP]:(r,n,g)=>r&&n&&g,[NODE_EXPAND]:(r,n)=>r&&n,[NODE_COLLAPSE]:(r,n)=>r&&n,[CURRENT_CHANGE]:(r,n)=>r&&n,[NODE_CHECK]:(r,n)=>r&&n,[NODE_CHECK_CHANGE]:(r,n)=>r&&isBoolean(n),[NODE_CONTEXTMENU]:(r,n,g)=>r&&n&&g},treeNodeEmits={click:(r,n)=>!!(r&&n),drop:(r,n)=>!!(r&&n),toggle:r=>!!r,check:(r,n)=>r&&isBoolean(n)};function useCheck(r,n){const g=ref$1(new Set),y=ref$1(new Set),{emit:$}=getCurrentInstance();watch$1([()=>n.value,()=>r.defaultCheckedKeys],()=>nextTick$1(()=>{Fe(r.defaultCheckedKeys)}),{immediate:!0});const L=()=>{if(!n.value||!r.showCheckbox||r.checkStrictly)return;const{levelTreeNodeMap:Ve,maxLevel:ze}=n.value,Ue=g.value,qe=new Set;for(let kt=ze-1;kt>=1;--kt){const Et=Ve.get(kt);Et&&Et.forEach(Pt=>{const At=Pt.children;if(At){let Dt=!0,Lt=!1;for(const hn of At){const _n=hn.key;if(Ue.has(_n))Lt=!0;else if(qe.has(_n)){Dt=!1,Lt=!0;break}else Dt=!1}Dt?Ue.add(Pt.key):Lt?(qe.add(Pt.key),Ue.delete(Pt.key)):(Ue.delete(Pt.key),qe.delete(Pt.key))}})}y.value=qe},re=Ve=>g.value.has(Ve.key),ae=Ve=>y.value.has(Ve.key),le=(Ve,ze,Ue=!0,qe=!0)=>{const kt=g.value,Et=(Pt,At)=>{kt[At?SetOperationEnum.ADD:SetOperationEnum.DELETE](Pt.key);const Dt=Pt.children;!r.checkStrictly&&Dt&&Dt.forEach(Lt=>{Lt.disabled||Et(Lt,At)})};Et(Ve,ze),qe&&L(),Ue&&ue(Ve,ze)},ue=(Ve,ze)=>{const{checkedNodes:Ue,checkedKeys:qe}=Oe(),{halfCheckedNodes:kt,halfCheckedKeys:Et}=xe();$(NODE_CHECK,Ve.data,{checkedKeys:qe,checkedNodes:Ue,halfCheckedKeys:Et,halfCheckedNodes:kt}),$(NODE_CHECK_CHANGE,Ve.data,ze)};function he(Ve=!1){return Oe(Ve).checkedKeys}function _e(Ve=!1){return Oe(Ve).checkedNodes}function Ce(){return xe().halfCheckedKeys}function $e(){return xe().halfCheckedNodes}function Oe(Ve=!1){const ze=[],Ue=[];if(n!=null&&n.value&&r.showCheckbox){const{treeNodeMap:qe}=n.value;g.value.forEach(kt=>{const Et=qe.get(kt);Et&&(!Ve||Ve&&Et.isLeaf)&&(Ue.push(kt),ze.push(Et.data))})}return{checkedKeys:Ue,checkedNodes:ze}}function xe(){const Ve=[],ze=[];if(n!=null&&n.value&&r.showCheckbox){const{treeNodeMap:Ue}=n.value;y.value.forEach(qe=>{const kt=Ue.get(qe);kt&&(ze.push(qe),Ve.push(kt.data))})}return{halfCheckedNodes:Ve,halfCheckedKeys:ze}}function Ne(Ve){g.value.clear(),y.value.clear(),nextTick$1(()=>{Fe(Ve)})}function Ie(Ve,ze){if(n!=null&&n.value&&r.showCheckbox){const Ue=n.value.treeNodeMap.get(Ve);Ue&&le(Ue,ze,!1)}}function Fe(Ve){if(n!=null&&n.value){const{treeNodeMap:ze}=n.value;if(r.showCheckbox&&ze&&(Ve==null?void 0:Ve.length)>0){for(const Ue of Ve){const qe=ze.get(Ue);qe&&!re(qe)&&le(qe,!0,!1,!1)}L()}}}return{updateCheckedKeys:L,toggleCheckbox:le,isChecked:re,isIndeterminate:ae,getCheckedKeys:he,getCheckedNodes:_e,getHalfCheckedKeys:Ce,getHalfCheckedNodes:$e,setChecked:Ie,setCheckedKeys:Ne}}function useFilter(r,n){const g=ref$1(new Set([])),y=ref$1(new Set([])),$=computed(()=>isFunction$3(r.filterMethod));function L(ae){var le;if(!$.value)return;const ue=new Set,he=y.value,_e=g.value,Ce=[],$e=((le=n.value)==null?void 0:le.treeNodes)||[],Oe=r.filterMethod;_e.clear();function xe(Ne){Ne.forEach(Ie=>{Ce.push(Ie),Oe!=null&&Oe(ae,Ie.data,Ie)?Ce.forEach(Ve=>{ue.add(Ve.key)}):Ie.isLeaf&&_e.add(Ie.key);const Fe=Ie.children;if(Fe&&xe(Fe),!Ie.isLeaf){if(!ue.has(Ie.key))_e.add(Ie.key);else if(Fe){let Ve=!0;for(const ze of Fe)if(!_e.has(ze.key)){Ve=!1;break}Ve?he.add(Ie.key):he.delete(Ie.key)}}Ce.pop()})}return xe($e),ue}function re(ae){return y.value.has(ae.key)}return{hiddenExpandIconKeySet:y,hiddenNodeKeySet:g,doFilter:L,isForceHiddenExpandIcon:re}}function useTree(r,n){const g=ref$1(new Set(r.defaultExpandedKeys)),y=ref$1(),$=shallowRef(),L=ref$1();watch$1(()=>r.currentNodeKey,Mn=>{y.value=Mn},{immediate:!0}),watch$1(()=>r.data,Mn=>{Dn(Mn)},{immediate:!0});const{isIndeterminate:re,isChecked:ae,toggleCheckbox:le,getCheckedKeys:ue,getCheckedNodes:he,getHalfCheckedKeys:_e,getHalfCheckedNodes:Ce,setChecked:$e,setCheckedKeys:Oe}=useCheck(r,$),{doFilter:xe,hiddenNodeKeySet:Ne,isForceHiddenExpandIcon:Ie}=useFilter(r,$),Fe=computed(()=>{var Mn;return((Mn=r.props)==null?void 0:Mn.value)||TreeOptionsEnum.KEY}),Ve=computed(()=>{var Mn;return((Mn=r.props)==null?void 0:Mn.children)||TreeOptionsEnum.CHILDREN}),ze=computed(()=>{var Mn;return((Mn=r.props)==null?void 0:Mn.disabled)||TreeOptionsEnum.DISABLED}),Ue=computed(()=>{var Mn;return((Mn=r.props)==null?void 0:Mn.label)||TreeOptionsEnum.LABEL}),qe=computed(()=>{var Mn;const Hn=g.value,Yn=Ne.value,qn=[],Xn=((Mn=$.value)==null?void 0:Mn.treeNodes)||[],jn=[];for(let Zn=Xn.length-1;Zn>=0;--Zn)jn.push(Xn[Zn]);for(;jn.length;){const Zn=jn.pop();if(!Yn.has(Zn.key)&&(qn.push(Zn),Zn.children&&Hn.has(Zn.key)))for(let Un=Zn.children.length-1;Un>=0;--Un)jn.push(Zn.children[Un])}return qn}),kt=computed(()=>qe.value.length>0);function Et(Mn){const Hn=new Map,Yn=new Map;let qn=1;function Xn(Zn,Un=1,Jn=void 0){var tr;const sr=[];for(const or of Zn){const Qn=Dt(or),rr={level:Un,key:Qn,data:or};rr.label=hn(or),rr.parent=Jn;const cr=At(or);rr.disabled=Lt(or),rr.isLeaf=!cr||cr.length===0,cr&&cr.length&&(rr.children=Xn(cr,Un+1,rr)),sr.push(rr),Hn.set(Qn,rr),Yn.has(Un)||Yn.set(Un,[]),(tr=Yn.get(Un))==null||tr.push(rr)}return Un>qn&&(qn=Un),sr}const jn=Xn(Mn);return{treeNodeMap:Hn,levelTreeNodeMap:Yn,maxLevel:qn,treeNodes:jn}}function Pt(Mn){const Hn=xe(Mn);Hn&&(g.value=Hn)}function At(Mn){return Mn[Ve.value]}function Dt(Mn){return Mn?Mn[Fe.value]:""}function Lt(Mn){return Mn[ze.value]}function hn(Mn){return Mn[Ue.value]}function _n(Mn){g.value.has(Mn.key)?On(Mn):wn(Mn)}function vn(Mn){const Hn=new Set,Yn=$.value.treeNodeMap;Mn.forEach(qn=>{let Xn=Yn.get(qn);for(;Xn&&!Hn.has(Xn.key);)Hn.add(Xn.key),Xn=Xn.parent}),g.value=Hn}function jt(Mn,Hn){n(NODE_CLICK,Mn.data,Mn,Hn),Sn(Mn),r.expandOnClickNode&&_n(Mn),r.showCheckbox&&r.checkOnClickNode&&!Mn.disabled&&le(Mn,!ae(Mn),!0)}function $n(Mn,Hn){n(NODE_DROP,Mn.data,Mn,Hn)}function Sn(Mn){Pn(Mn)||(y.value=Mn.key,n(CURRENT_CHANGE,Mn.data,Mn))}function bn(Mn,Hn){le(Mn,Hn)}function wn(Mn){const Hn=g.value;if($.value&&r.accordion){const{treeNodeMap:Yn}=$.value;Hn.forEach(qn=>{const Xn=Yn.get(qn);Mn&&Mn.level===(Xn==null?void 0:Xn.level)&&Hn.delete(qn)})}Hn.add(Mn.key),n(NODE_EXPAND,Mn.data,Mn)}function On(Mn){g.value.delete(Mn.key),n(NODE_COLLAPSE,Mn.data,Mn)}function Tn(Mn){return g.value.has(Mn.key)}function xn(Mn){return!!Mn.disabled}function Pn(Mn){const Hn=y.value;return Hn!==void 0&&Hn===Mn.key}function An(){var Mn,Hn;if(y.value)return(Hn=(Mn=$.value)==null?void 0:Mn.treeNodeMap.get(y.value))==null?void 0:Hn.data}function Rn(){return y.value}function Nn(Mn){y.value=Mn}function Dn(Mn){nextTick$1(()=>$.value=Et(Mn))}function In(Mn){var Hn;const Yn=isObject$7(Mn)?Dt(Mn):Mn;return(Hn=$.value)==null?void 0:Hn.treeNodeMap.get(Yn)}function Fn(Mn,Hn="auto"){const Yn=In(Mn);Yn&&L.value&&L.value.scrollToItem(qe.value.indexOf(Yn),Hn)}function Bn(Mn){var Hn;(Hn=L.value)==null||Hn.scrollTo(Mn)}return{tree:$,flattenTree:qe,isNotEmpty:kt,listRef:L,getKey:Dt,getChildren:At,toggleExpand:_n,toggleCheckbox:le,isExpanded:Tn,isChecked:ae,isIndeterminate:re,isDisabled:xn,isCurrent:Pn,isForceHiddenExpandIcon:Ie,handleNodeClick:jt,handleNodeDrop:$n,handleNodeCheck:bn,getCurrentNode:An,getCurrentKey:Rn,setCurrentKey:Nn,getCheckedKeys:ue,getCheckedNodes:he,getHalfCheckedKeys:_e,getHalfCheckedNodes:Ce,setChecked:$e,setCheckedKeys:Oe,filter:Pt,setData:Dn,getNode:In,expandNode:wn,collapseNode:On,setExpandedKeys:vn,scrollToNode:Fn,scrollTo:Bn}}var ElNodeContent=defineComponent({name:"ElTreeNodeContent",props:treeNodeContentProps,setup(r){const n=inject(ROOT_TREE_INJECTION_KEY),g=useNamespace$1("tree");return()=>{const y=r.node,{data:$}=y;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:y,data:$}):h$1("span",{class:g.be("node","label")},[y==null?void 0:y.label])}}});const __default__$h=defineComponent({name:"ElTreeNode"}),_sfc_main$1D=defineComponent({...__default__$h,props:treeNodeProps,emits:treeNodeEmits,setup(r,{emit:n}){const g=r,y=inject(ROOT_TREE_INJECTION_KEY),$=useNamespace$1("tree"),L=computed(()=>{var $e;return($e=y==null?void 0:y.props.indent)!=null?$e:16}),re=computed(()=>{var $e;return($e=y==null?void 0:y.props.icon)!=null?$e:caret_right_default}),ae=$e=>{const Oe=y==null?void 0:y.props.props.class;if(!Oe)return{};let xe;if(isFunction$3(Oe)){const{data:Ne}=$e;xe=Oe(Ne,$e)}else xe=Oe;return isString$3(xe)?{[xe]:!0}:xe},le=$e=>{n("click",g.node,$e)},ue=$e=>{n("drop",g.node,$e)},he=()=>{n("toggle",g.node)},_e=$e=>{n("check",g.node,$e)},Ce=$e=>{var Oe,xe,Ne,Ie;(Ne=(xe=(Oe=y==null?void 0:y.instance)==null?void 0:Oe.vnode)==null?void 0:xe.props)!=null&&Ne.onNodeContextmenu&&($e.stopPropagation(),$e.preventDefault()),y==null||y.ctx.emit(NODE_CONTEXTMENU,$e,(Ie=g.node)==null?void 0:Ie.data,g.node)};return($e,Oe)=>{var xe,Ne,Ie;return openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([unref($).b("node"),unref($).is("expanded",$e.expanded),unref($).is("current",$e.current),unref($).is("focusable",!$e.disabled),unref($).is("checked",!$e.disabled&&$e.checked),ae($e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":$e.expanded,"aria-disabled":$e.disabled,"aria-checked":$e.checked,"data-key":(xe=$e.node)==null?void 0:xe.key,onClick:withModifiers(le,["stop"]),onContextmenu:Ce,onDragover:withModifiers(()=>{},["prevent"]),onDragenter:withModifiers(()=>{},["prevent"]),onDrop:withModifiers(ue,["stop"])},[createBaseVNode("div",{class:normalizeClass(unref($).be("node","content")),style:normalizeStyle$1({paddingLeft:`${($e.node.level-1)*unref(L)}px`,height:$e.itemSize+"px"})},[unref(re)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref($).is("leaf",!!((Ne=$e.node)!=null&&Ne.isLeaf)),unref($).is("hidden",$e.hiddenExpandIcon),{expanded:!((Ie=$e.node)!=null&&Ie.isLeaf)&&$e.expanded},unref($).be("node","expand-icon")]),onClick:withModifiers(he,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(re))))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),$e.showCheckbox?(openBlock(),createBlock(unref(ElCheckbox),{key:1,"model-value":$e.checked,indeterminate:$e.indeterminate,disabled:$e.disabled,onChange:_e,onClick:withModifiers(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):createCommentVNode("v-if",!0),createVNode$1(unref(ElNodeContent),{node:$e.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var ElTreeNode=_export_sfc(_sfc_main$1D,[["__file","tree-node.vue"]]);const __default__$g=defineComponent({name:"ElTreeV2"}),_sfc_main$1C=defineComponent({...__default__$g,props:treeProps,emits:treeEmits,setup(r,{expose:n,emit:g}){const y=r,$=useSlots(),L=computed(()=>y.itemSize);provide(ROOT_TREE_INJECTION_KEY,{ctx:{emit:g,slots:$},props:y,instance:getCurrentInstance()}),provide(formItemContextKey,void 0);const{t:re}=useLocale(),ae=useNamespace$1("tree"),{flattenTree:le,isNotEmpty:ue,listRef:he,toggleExpand:_e,isExpanded:Ce,isIndeterminate:$e,isChecked:Oe,isDisabled:xe,isCurrent:Ne,isForceHiddenExpandIcon:Ie,handleNodeClick:Fe,handleNodeDrop:Ve,handleNodeCheck:ze,toggleCheckbox:Ue,getCurrentNode:qe,getCurrentKey:kt,setCurrentKey:Et,getCheckedKeys:Pt,getCheckedNodes:At,getHalfCheckedKeys:Dt,getHalfCheckedNodes:Lt,setChecked:hn,setCheckedKeys:_n,filter:vn,setData:jt,getNode:$n,expandNode:Sn,collapseNode:bn,setExpandedKeys:wn,scrollToNode:On,scrollTo:Tn}=useTree(y,g);return n({toggleCheckbox:Ue,getCurrentNode:qe,getCurrentKey:kt,setCurrentKey:Et,getCheckedKeys:Pt,getCheckedNodes:At,getHalfCheckedKeys:Dt,getHalfCheckedNodes:Lt,setChecked:hn,setCheckedKeys:_n,filter:vn,setData:jt,getNode:$n,expandNode:Sn,collapseNode:bn,setExpandedKeys:wn,scrollToNode:On,scrollTo:Tn}),(xn,Pn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(ae).b(),{[unref(ae).m("highlight-current")]:xn.highlightCurrent}]),role:"tree"},[unref(ue)?(openBlock(),createBlock(unref(FixedSizeList),{key:0,ref_key:"listRef",ref:he,"class-name":unref(ae).b("virtual-list"),data:unref(le),total:unref(le).length,height:xn.height,"item-size":unref(L),"perf-mode":xn.perfMode},{default:withCtx(({data:An,index:Rn,style:Nn})=>[(openBlock(),createBlock(ElTreeNode,{key:An[Rn].key,style:normalizeStyle$1(Nn),node:An[Rn],expanded:unref(Ce)(An[Rn]),"show-checkbox":xn.showCheckbox,checked:unref(Oe)(An[Rn]),indeterminate:unref($e)(An[Rn]),"item-size":unref(L),disabled:unref(xe)(An[Rn]),current:unref(Ne)(An[Rn]),"hidden-expand-icon":unref(Ie)(An[Rn]),onClick:unref(Fe),onToggle:unref(_e),onCheck:unref(ze),onDrop:unref(Ve)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(ae).e("empty-block"))},[renderSlot(xn.$slots,"empty",{},()=>{var An;return[createBaseVNode("span",{class:normalizeClass(unref(ae).e("empty-text"))},toDisplayString((An=xn.emptyText)!=null?An:unref(re)("el.tree.emptyText")),3)]})],2))],2))}});var TreeV2=_export_sfc(_sfc_main$1C,[["__file","tree.vue"]]);const ElTreeV2=withInstall(TreeV2),uploadContextKey=Symbol("uploadContextKey"),SCOPE$2="ElUpload";class UploadAjaxError extends Error{constructor(n,g,y,$){super(n),this.name="UploadAjaxError",this.status=g,this.method=y,this.url=$}}function getError(r,n,g){let y;return g.response?y=`${g.response.error||g.response}`:g.responseText?y=`${g.responseText}`:y=`fail to ${n.method} ${r} ${g.status}`,new UploadAjaxError(y,g.status,n.method,r)}function getBody(r){const n=r.responseText||r.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const ajaxUpload=r=>{typeof XMLHttpRequest>"u"&&throwError$1(SCOPE$2,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,g=r.action;n.upload&&n.upload.addEventListener("progress",L=>{const re=L;re.percent=L.total>0?L.loaded/L.total*100:0,r.onProgress(re)});const y=new FormData;if(r.data)for(const[L,re]of Object.entries(r.data))isArray$5(re)&&re.length?y.append(L,...re):y.append(L,re);y.append(r.filename,r.file,r.file.name),n.addEventListener("error",()=>{r.onError(getError(g,r,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return r.onError(getError(g,r,n));r.onSuccess(getBody(n))}),n.open(r.method,g,!0),r.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const $=r.headers||{};if($ instanceof Headers)$.forEach((L,re)=>n.setRequestHeader(re,L));else for(const[L,re]of Object.entries($))isNil(re)||n.setRequestHeader(L,String(re));return n.send(y),n},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:definePropType([Object,Function,Promise]),default:()=>mutable({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP},crossorigin:{type:definePropType(String)}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"},crossorigin:{type:definePropType(String)}}),uploadListEmits={remove:r=>!!r},__default__$f=defineComponent({name:"ElUploadList"}),_sfc_main$1B=defineComponent({...__default__$f,props:uploadListProps,emits:uploadListEmits,setup(r,{emit:n}){const g=r,{t:y}=useLocale(),$=useNamespace$1("upload"),L=useNamespace$1("icon"),re=useNamespace$1("list"),ae=useFormDisabled(),le=ref$1(!1),ue=computed(()=>[$.b("list"),$.bm("list",g.listType),$.is("disabled",g.disabled)]),he=_e=>{n("remove",_e)};return(_e,Ce)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass(unref(ue)),name:unref(re).b()},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.files,($e,Oe)=>(openBlock(),createElementBlock("li",{key:$e.uid||$e.name,class:normalizeClass([unref($).be("list","item"),unref($).is($e.status),{focusing:le.value}]),tabindex:"0",onKeydown:withKeys(xe=>!unref(ae)&&he($e),["delete"]),onFocus:xe=>le.value=!0,onBlur:xe=>le.value=!1,onClick:xe=>le.value=!1},[renderSlot(_e.$slots,"default",{file:$e,index:Oe},()=>[_e.listType==="picture"||$e.status!=="uploading"&&_e.listType==="picture-card"?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref($).be("list","item-thumbnail")),src:$e.url,crossorigin:_e.crossorigin,alt:""},null,10,["src","crossorigin"])):createCommentVNode("v-if",!0),$e.status==="uploading"||_e.listType!=="picture-card"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref($).be("list","item-name")),onClick:withModifiers(xe=>_e.handlePreview($e),["prevent"])},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(L).m("document"))},{default:withCtx(()=>[createVNode$1(unref(document_default))]),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref($).be("list","item-file-name")),title:$e.name},toDisplayString($e.name),11,["title"])],10,["onClick"]),$e.status==="uploading"?(openBlock(),createBlock(unref(ElProgress),{key:0,type:_e.listType==="picture-card"?"circle":"line","stroke-width":_e.listType==="picture-card"?6:2,percentage:Number($e.percentage),style:normalizeStyle$1(_e.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref($).be("list","item-status-label"))},[_e.listType==="text"?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(L).m("upload-success"),unref(L).m("circle-check")])},{default:withCtx(()=>[createVNode$1(unref(circle_check_default))]),_:1},8,["class"])):["picture-card","picture"].includes(_e.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(L).m("upload-success"),unref(L).m("check")])},{default:withCtx(()=>[createVNode$1(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref(ae)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(L).m("close")),onClick:xe=>he($e)},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref(ae)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(L).m("close-tip"))},toDisplayString(unref(y)("el.upload.deleteTip")),3)),_e.listType==="picture-card"?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref($).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref($).be("list","item-preview")),onClick:xe=>_e.handlePreview($e)},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(L).m("zoom-in"))},{default:withCtx(()=>[createVNode$1(unref(zoom_in_default))]),_:1},8,["class"])],10,["onClick"]),unref(ae)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref($).be("list","item-delete")),onClick:xe=>he($e)},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(L).m("delete"))},{default:withCtx(()=>[createVNode$1(unref(delete_default))]),_:1},8,["class"])],10,["onClick"]))],2)):createCommentVNode("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),renderSlot(_e.$slots,"append")]),_:3},8,["class","name"]))}});var UploadList=_export_sfc(_sfc_main$1B,[["__file","upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:r=>isArray$5(r)},COMPONENT_NAME="ElUploadDrag",__default__$e=defineComponent({name:COMPONENT_NAME}),_sfc_main$1A=defineComponent({...__default__$e,props:uploadDraggerProps,emits:uploadDraggerEmits,setup(r,{emit:n}){inject(uploadContextKey)||throwError$1(COMPONENT_NAME,"usage: <el-upload><el-upload-dragger /></el-upload>");const y=useNamespace$1("upload"),$=ref$1(!1),L=useFormDisabled(),re=le=>{if(L.value)return;$.value=!1,le.stopPropagation();const ue=Array.from(le.dataTransfer.files);n("file",ue)},ae=()=>{L.value||($.value=!0)};return(le,ue)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b("dragger"),unref(y).is("dragover",$.value)]),onDrop:withModifiers(re,["prevent"]),onDragover:withModifiers(ae,["prevent"]),onDragleave:withModifiers(he=>$.value=!1,["prevent"])},[renderSlot(le.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var UploadDragger=_export_sfc(_sfc_main$1A,[["__file","upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),__default__$d=defineComponent({name:"ElUploadContent",inheritAttrs:!1}),_sfc_main$1z=defineComponent({...__default__$d,props:uploadContentProps,setup(r,{expose:n}){const g=r,y=useNamespace$1("upload"),$=useFormDisabled(),L=shallowRef({}),re=shallowRef(),ae=xe=>{if(xe.length===0)return;const{autoUpload:Ne,limit:Ie,fileList:Fe,multiple:Ve,onStart:ze,onExceed:Ue}=g;if(Ie&&Fe.length+xe.length>Ie){Ue(xe,Fe);return}Ve||(xe=xe.slice(0,1));for(const qe of xe){const kt=qe;kt.uid=genFileId(),ze(kt),Ne&&le(kt)}},le=async xe=>{if(re.value.value="",!g.beforeUpload)return he(xe);let Ne,Ie={};try{const Ve=g.data,ze=g.beforeUpload(xe);Ie=isPlainObject$2(g.data)?cloneDeep(g.data):g.data,Ne=await ze,isPlainObject$2(g.data)&&isEqual$1(Ve,Ie)&&(Ie=cloneDeep(g.data))}catch{Ne=!1}if(Ne===!1){g.onRemove(xe);return}let Fe=xe;Ne instanceof Blob&&(Ne instanceof File?Fe=Ne:Fe=new File([Ne],xe.name,{type:xe.type})),he(Object.assign(Fe,{uid:xe.uid}),Ie)},ue=async(xe,Ne)=>isFunction$3(xe)?xe(Ne):xe,he=async(xe,Ne)=>{const{headers:Ie,data:Fe,method:Ve,withCredentials:ze,name:Ue,action:qe,onProgress:kt,onSuccess:Et,onError:Pt,httpRequest:At}=g;try{Ne=await ue(Ne??Fe,xe)}catch{g.onRemove(xe);return}const{uid:Dt}=xe,Lt={headers:Ie||{},withCredentials:ze,file:xe,data:Ne,method:Ve,filename:Ue,action:qe,onProgress:_n=>{kt(_n,xe)},onSuccess:_n=>{Et(_n,xe),delete L.value[Dt]},onError:_n=>{Pt(_n,xe),delete L.value[Dt]}},hn=At(Lt);L.value[Dt]=hn,hn instanceof Promise&&hn.then(Lt.onSuccess,Lt.onError)},_e=xe=>{const Ne=xe.target.files;Ne&&ae(Array.from(Ne))},Ce=()=>{$.value||(re.value.value="",re.value.click())},$e=()=>{Ce()};return n({abort:xe=>{entriesOf(L.value).filter(xe?([Ie])=>String(xe.uid)===Ie:()=>!0).forEach(([Ie,Fe])=>{Fe instanceof XMLHttpRequest&&Fe.abort(),delete L.value[Ie]})},upload:le}),(xe,Ne)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref(y).m(xe.listType),unref(y).is("drag",xe.drag),unref(y).is("disabled",unref($))]),tabindex:unref($)?"-1":"0",onClick:Ce,onKeydown:withKeys(withModifiers($e,["self"]),["enter","space"])},[xe.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref($),onFile:ae},{default:withCtx(()=>[renderSlot(xe.$slots,"default")]),_:3},8,["disabled"])):renderSlot(xe.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:re,class:normalizeClass(unref(y).e("input")),name:xe.name,disabled:unref($),multiple:xe.multiple,accept:xe.accept,type:"file",onChange:_e,onClick:withModifiers(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var UploadContent=_export_sfc(_sfc_main$1z,[["__file","upload-content.vue"]]);const SCOPE$1="ElUpload",revokeFileObjectURL=r=>{var n;(n=r.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(r.url)},useHandlers=(r,n)=>{const g=useVModel(r,"fileList",void 0,{passive:!0}),y=$e=>g.value.find(Oe=>Oe.uid===$e.uid);function $($e){var Oe;(Oe=n.value)==null||Oe.abort($e)}function L($e=["ready","uploading","success","fail"]){g.value=g.value.filter(Oe=>!$e.includes(Oe.status))}function re($e){g.value=g.value.filter(Oe=>Oe.uid!==$e.uid)}const ae=($e,Oe)=>{const xe=y(Oe);xe&&(console.error($e),xe.status="fail",re(xe),r.onError($e,xe,g.value),r.onChange(xe,g.value))},le=($e,Oe)=>{const xe=y(Oe);xe&&(r.onProgress($e,xe,g.value),xe.status="uploading",xe.percentage=Math.round($e.percent))},ue=($e,Oe)=>{const xe=y(Oe);xe&&(xe.status="success",xe.response=$e,r.onSuccess($e,xe,g.value),r.onChange(xe,g.value))},he=$e=>{isNil($e.uid)&&($e.uid=genFileId());const Oe={name:$e.name,percentage:0,status:"ready",size:$e.size,raw:$e,uid:$e.uid};if(r.listType==="picture-card"||r.listType==="picture")try{Oe.url=URL.createObjectURL($e)}catch(xe){xe.message,r.onError(xe,Oe,g.value)}g.value=[...g.value,Oe],r.onChange(Oe,g.value)},_e=async $e=>{const Oe=$e instanceof File?y($e):$e;Oe||throwError$1(SCOPE$1,"file to be removed not found");const xe=Ne=>{$(Ne),re(Ne),r.onRemove(Ne,g.value),revokeFileObjectURL(Ne)};r.beforeRemove?await r.beforeRemove(Oe,g.value)!==!1&&xe(Oe):xe(Oe)};function Ce(){g.value.filter(({status:$e})=>$e==="ready").forEach(({raw:$e})=>{var Oe;return $e&&((Oe=n.value)==null?void 0:Oe.upload($e))})}return watch$1(()=>r.listType,$e=>{$e!=="picture-card"&&$e!=="picture"||(g.value=g.value.map(Oe=>{const{raw:xe,url:Ne}=Oe;if(!Ne&&xe)try{Oe.url=URL.createObjectURL(xe)}catch(Ie){r.onError(Ie,Oe,g.value)}return Oe}))}),watch$1(g,$e=>{for(const Oe of $e)Oe.uid||(Oe.uid=genFileId()),Oe.status||(Oe.status="success")},{immediate:!0,deep:!0}),{uploadFiles:g,abort:$,clearFiles:L,handleError:ae,handleProgress:le,handleStart:he,handleSuccess:ue,handleRemove:_e,submit:Ce,revokeFileObjectURL}},__default__$c=defineComponent({name:"ElUpload"}),_sfc_main$1y=defineComponent({...__default__$c,props:uploadProps,setup(r,{expose:n}){const g=r,y=useFormDisabled(),$=shallowRef(),{abort:L,submit:re,clearFiles:ae,uploadFiles:le,handleStart:ue,handleError:he,handleRemove:_e,handleSuccess:Ce,handleProgress:$e,revokeFileObjectURL:Oe}=useHandlers(g,$),xe=computed(()=>g.listType==="picture-card"),Ne=computed(()=>({...g,fileList:le.value,onStart:ue,onProgress:$e,onSuccess:Ce,onError:he,onRemove:_e}));return onBeforeUnmount(()=>{le.value.forEach(Oe)}),provide(uploadContextKey,{accept:toRef(g,"accept")}),n({abort:L,submit:re,clearFiles:ae,handleStart:ue,handleRemove:_e}),(Ie,Fe)=>(openBlock(),createElementBlock("div",null,[unref(xe)&&Ie.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(y),"list-type":Ie.listType,files:unref(le),crossorigin:Ie.crossorigin,"handle-preview":Ie.onPreview,onRemove:unref(_e)},createSlots({append:withCtx(()=>[createVNode$1(UploadContent,mergeProps({ref_key:"uploadRef",ref:$},unref(Ne)),{default:withCtx(()=>[Ie.$slots.trigger?renderSlot(Ie.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!Ie.$slots.trigger&&Ie.$slots.default?renderSlot(Ie.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)]),_:2},[Ie.$slots.file?{name:"default",fn:withCtx(({file:Ve,index:ze})=>[renderSlot(Ie.$slots,"file",{file:Ve,index:ze})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!unref(xe)||unref(xe)&&!Ie.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:$},unref(Ne)),{default:withCtx(()=>[Ie.$slots.trigger?renderSlot(Ie.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!Ie.$slots.trigger&&Ie.$slots.default?renderSlot(Ie.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)):createCommentVNode("v-if",!0),Ie.$slots.trigger?renderSlot(Ie.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(Ie.$slots,"tip"),!unref(xe)&&Ie.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(y),"list-type":Ie.listType,files:unref(le),crossorigin:Ie.crossorigin,"handle-preview":Ie.onPreview,onRemove:unref(_e)},createSlots({_:2},[Ie.$slots.file?{name:"default",fn:withCtx(({file:Ve,index:ze})=>[renderSlot(Ie.$slots,"file",{file:Ve,index:ze})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc(_sfc_main$1y,[["__file","upload.vue"]]);const ElUpload=withInstall(Upload),watermarkProps=buildProps({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:definePropType([String,Array]),default:"Element Plus"},font:{type:definePropType(Object)},gap:{type:definePropType(Array),default:()=>[100,100]},offset:{type:definePropType(Array)}});function toLowercaseSeparator(r){return r.replace(/([A-Z])/g,"-$1").toLowerCase()}function getStyleStr(r){return Object.keys(r).map(n=>`${toLowercaseSeparator(n)}: ${r[n]};`).join(" ")}function getPixelRatio(){return window.devicePixelRatio||1}const reRendering=(r,n)=>{let g=!1;return r.removedNodes.length&&n&&(g=Array.from(r.removedNodes).includes(n)),r.type==="attributes"&&r.target===n&&(g=!0),g},FontGap=3;function prepareCanvas(r,n,g=1){const y=document.createElement("canvas"),$=y.getContext("2d"),L=r*g,re=n*g;return y.setAttribute("width",`${L}px`),y.setAttribute("height",`${re}px`),$.save(),[$,y,L,re]}function useClips(){function r(n,g,y,$,L,re,ae,le){const[ue,he,_e,Ce]=prepareCanvas($,L,y);if(n instanceof HTMLImageElement)ue.drawImage(n,0,0,_e,Ce);else{const{color:On,fontSize:Tn,fontStyle:xn,fontWeight:Pn,fontFamily:An,textAlign:Rn,textBaseline:Nn}=re,Dn=Number(Tn)*y;ue.font=`${xn} normal ${Pn} ${Dn}px/${L}px ${An}`,ue.fillStyle=On,ue.textAlign=Rn,ue.textBaseline=Nn;const In=isArray$5(n)?n:[n];In==null||In.forEach((Fn,Bn)=>{ue.fillText(Fn??"",_e/2,Bn*(Dn+FontGap*y))})}const $e=Math.PI/180*Number(g),Oe=Math.max($,L),[xe,Ne,Ie]=prepareCanvas(Oe,Oe,y);xe.translate(Ie/2,Ie/2),xe.rotate($e),_e>0&&Ce>0&&xe.drawImage(he,-_e/2,-Ce/2);function Fe(On,Tn){const xn=On*Math.cos($e)-Tn*Math.sin($e),Pn=On*Math.sin($e)+Tn*Math.cos($e);return[xn,Pn]}let Ve=0,ze=0,Ue=0,qe=0;const kt=_e/2,Et=Ce/2;[[0-kt,0-Et],[0+kt,0-Et],[0+kt,0+Et],[0-kt,0+Et]].forEach(([On,Tn])=>{const[xn,Pn]=Fe(On,Tn);Ve=Math.min(Ve,xn),ze=Math.max(ze,xn),Ue=Math.min(Ue,Pn),qe=Math.max(qe,Pn)});const At=Ve+Ie/2,Dt=Ue+Ie/2,Lt=ze-Ve,hn=qe-Ue,_n=ae*y,vn=le*y,jt=(Lt+_n)*2,$n=hn+vn,[Sn,bn]=prepareCanvas(jt,$n);function wn(On=0,Tn=0){Sn.drawImage(Ne,At,Dt,Lt,hn,On,Tn,Lt,hn)}return wn(),wn(Lt+_n,-hn/2-vn/2),wn(Lt+_n,+hn/2+vn/2),[bn.toDataURL(),jt/y,$n/y]}return r}const __default__$b=defineComponent({name:"ElWatermark"}),_sfc_main$1x=defineComponent({...__default__$b,props:watermarkProps,setup(r){const n=r,g={position:"relative"},y=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.color)!=null?Dt:"rgba(0,0,0,.15)"}),$=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.fontSize)!=null?Dt:16}),L=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.fontWeight)!=null?Dt:"normal"}),re=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.fontStyle)!=null?Dt:"normal"}),ae=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.fontFamily)!=null?Dt:"sans-serif"}),le=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.textAlign)!=null?Dt:"center"}),ue=computed(()=>{var At,Dt;return(Dt=(At=n.font)==null?void 0:At.textBaseline)!=null?Dt:"hanging"}),he=computed(()=>n.gap[0]),_e=computed(()=>n.gap[1]),Ce=computed(()=>he.value/2),$e=computed(()=>_e.value/2),Oe=computed(()=>{var At,Dt;return(Dt=(At=n.offset)==null?void 0:At[0])!=null?Dt:Ce.value}),xe=computed(()=>{var At,Dt;return(Dt=(At=n.offset)==null?void 0:At[1])!=null?Dt:$e.value}),Ne=()=>{const At={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let Dt=Oe.value-Ce.value,Lt=xe.value-$e.value;return Dt>0&&(At.left=`${Dt}px`,At.width=`calc(100% - ${Dt}px)`,Dt=0),Lt>0&&(At.top=`${Lt}px`,At.height=`calc(100% - ${Lt}px)`,Lt=0),At.backgroundPosition=`${Dt}px ${Lt}px`,At},Ie=shallowRef(null),Fe=shallowRef(),Ve=ref$1(!1),ze=()=>{Fe.value&&(Fe.value.remove(),Fe.value=void 0)},Ue=(At,Dt)=>{var Lt;Ie.value&&Fe.value&&(Ve.value=!0,Fe.value.setAttribute("style",getStyleStr({...Ne(),backgroundImage:`url('${At}')`,backgroundSize:`${Math.floor(Dt)}px`})),(Lt=Ie.value)==null||Lt.append(Fe.value),setTimeout(()=>{Ve.value=!1}))},qe=At=>{let Dt=120,Lt=64;const hn=n.image,_n=n.content,vn=n.width,jt=n.height;if(!hn&&At.measureText){At.font=`${Number($.value)}px ${ae.value}`;const $n=isArray$5(_n)?_n:[_n],Sn=$n.map(bn=>{const wn=At.measureText(bn);return[wn.width,wn.fontBoundingBoxAscent!==void 0?wn.fontBoundingBoxAscent+wn.fontBoundingBoxDescent:wn.actualBoundingBoxAscent+wn.actualBoundingBoxDescent]});Dt=Math.ceil(Math.max(...Sn.map(bn=>bn[0]))),Lt=Math.ceil(Math.max(...Sn.map(bn=>bn[1])))*$n.length+($n.length-1)*FontGap}return[vn??Dt,jt??Lt]},kt=useClips(),Et=()=>{const Dt=document.createElement("canvas").getContext("2d"),Lt=n.image,hn=n.content,_n=n.rotate;if(Dt){Fe.value||(Fe.value=document.createElement("div"));const vn=getPixelRatio(),[jt,$n]=qe(Dt),Sn=bn=>{const[wn,On]=kt(bn||"",_n,vn,jt,$n,{color:y.value,fontSize:$.value,fontStyle:re.value,fontWeight:L.value,fontFamily:ae.value,textAlign:le.value,textBaseline:ue.value},he.value,_e.value);Ue(wn,On)};if(Lt){const bn=new Image;bn.onload=()=>{Sn(bn)},bn.onerror=()=>{Sn(hn)},bn.crossOrigin="anonymous",bn.referrerPolicy="no-referrer",bn.src=Lt}else Sn(hn)}};return onMounted(()=>{Et()}),watch$1(()=>n,()=>{Et()},{deep:!0,flush:"post"}),onBeforeUnmount(()=>{ze()}),useMutationObserver(Ie,At=>{Ve.value||At.forEach(Dt=>{reRendering(Dt,Fe.value)&&(ze(),Et())})},{attributes:!0,subtree:!0,childList:!0}),(At,Dt)=>(openBlock(),createElementBlock("div",{ref_key:"containerRef",ref:Ie,style:normalizeStyle$1([g])},[renderSlot(At.$slots,"default")],4))}});var Watermark=_export_sfc(_sfc_main$1x,[["__file","watermark.vue"]]);const ElWatermark=withInstall(Watermark),maskProps=buildProps({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:definePropType(Object)},targetAreaClickable:{type:Boolean,default:!0}}),useTarget=(r,n,g,y,$)=>{const L=ref$1(null),re=()=>{let _e;return isString$3(r.value)?_e=document.querySelector(r.value):isFunction$3(r.value)?_e=r.value():_e=r.value,_e},ae=()=>{const _e=re();if(!_e||!n.value){L.value=null;return}isInViewPort(_e)||_e.scrollIntoView($.value);const{left:Ce,top:$e,width:Oe,height:xe}=_e.getBoundingClientRect();L.value={left:Ce,top:$e,width:Oe,height:xe,radius:0}};onMounted(()=>{watch$1([n,r],()=>{ae()},{immediate:!0}),window.addEventListener("resize",ae)}),onBeforeUnmount(()=>{window.removeEventListener("resize",ae)});const le=_e=>{var Ce;return(Ce=isArray$5(g.value.offset)?g.value.offset[_e]:g.value.offset)!=null?Ce:6},ue=computed(()=>{var _e;if(!L.value)return L.value;const Ce=le(0),$e=le(1),Oe=((_e=g.value)==null?void 0:_e.radius)||2;return{left:L.value.left-Ce,top:L.value.top-$e,width:L.value.width+Ce*2,height:L.value.height+$e*2,radius:Oe}}),he=computed(()=>{const _e=re();return!y.value||!_e||!window.DOMRect?_e||void 0:{getBoundingClientRect(){var Ce,$e,Oe,xe;return window.DOMRect.fromRect({width:((Ce=ue.value)==null?void 0:Ce.width)||0,height:(($e=ue.value)==null?void 0:$e.height)||0,x:((Oe=ue.value)==null?void 0:Oe.left)||0,y:((xe=ue.value)==null?void 0:xe.top)||0})}}});return{mergedPosInfo:ue,triggerTarget:he}},tourKey=Symbol("ElTour");function isInViewPort(r){const n=window.innerWidth||document.documentElement.clientWidth,g=window.innerHeight||document.documentElement.clientHeight,{top:y,right:$,bottom:L,left:re}=r.getBoundingClientRect();return y>=0&&re>=0&&$<=n&&L<=g}const useFloating=(r,n,g,y,$,L,re,ae)=>{const le=ref$1(),ue=ref$1(),he=ref$1({}),_e={x:le,y:ue,placement:y,strategy:$,middlewareData:he},Ce=computed(()=>{const Ie=[offset$2(unref(L)),flip$2(),shift$1(),overflowMiddleware()];return unref(ae)&&unref(g)&&Ie.push(arrow$2({element:unref(g)})),Ie}),$e=async()=>{if(!isClient)return;const Ie=unref(r),Fe=unref(n);if(!Ie||!Fe)return;const Ve=await computePosition(Ie,Fe,{placement:unref(y),strategy:unref($),middleware:unref(Ce)});keysOf(_e).forEach(ze=>{_e[ze].value=Ve[ze]})},Oe=computed(()=>{if(!unref(r))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:unref(re)};const{overflow:Ie}=unref(he);return{position:unref($),zIndex:unref(re),top:unref(ue)!=null?`${unref(ue)}px`:"",left:unref(le)!=null?`${unref(le)}px`:"",maxWidth:Ie!=null&&Ie.maxWidth?`${Ie==null?void 0:Ie.maxWidth}px`:""}}),xe=computed(()=>{if(!unref(ae))return{};const{arrow:Ie}=unref(he);return{left:(Ie==null?void 0:Ie.x)!=null?`${Ie==null?void 0:Ie.x}px`:"",top:(Ie==null?void 0:Ie.y)!=null?`${Ie==null?void 0:Ie.y}px`:""}});let Ne;return onMounted(()=>{const Ie=unref(r),Fe=unref(n);Ie&&Fe&&(Ne=autoUpdate(Ie,Fe,$e)),watchEffect(()=>{$e()})}),onBeforeUnmount(()=>{Ne&&Ne()}),{update:$e,contentStyle:Oe,arrowStyle:xe}},overflowMiddleware=()=>({name:"overflow",async fn(r){const n=await detectOverflow$1(r);let g=0;return n.left>0&&(g=n.left),n.right>0&&(g=n.right),{data:{maxWidth:r.rects.floating.width-g}}}}),__default__$a=defineComponent({name:"ElTourMask",inheritAttrs:!1}),_sfc_main$1w=defineComponent({...__default__$a,props:maskProps,setup(r){const n=r,{ns:g}=inject(tourKey),y=computed(()=>{var ae,le;return(le=(ae=n.pos)==null?void 0:ae.radius)!=null?le:2}),$=computed(()=>{const ae=y.value,le=`a${ae},${ae} 0 0 1`;return{topRight:`${le} ${ae},${ae}`,bottomRight:`${le} ${-ae},${ae}`,bottomLeft:`${le} ${-ae},${-ae}`,topLeft:`${le} ${ae},${-ae}`}}),L=computed(()=>{const ae=window.innerWidth,le=window.innerHeight,ue=$.value,he=`M${ae},0 L0,0 L0,${le} L${ae},${le} L${ae},0 Z`,_e=y.value;return n.pos?`${he} M${n.pos.left+_e},${n.pos.top} h${n.pos.width-_e*2} ${ue.topRight} v${n.pos.height-_e*2} ${ue.bottomRight} h${-n.pos.width+_e*2} ${ue.bottomLeft} v${-n.pos.height+_e*2} ${ue.topLeft} z`:he}),re=computed(()=>({fill:n.fill,pointerEvents:"auto",cursor:"auto"}));return useLockscreen(toRef(n,"visible"),{ns:g}),(ae,le)=>ae.visible?(openBlock(),createElementBlock("div",mergeProps({key:0,class:unref(g).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:ae.zIndex,pointerEvents:ae.pos&&ae.targetAreaClickable?"none":"auto"}},ae.$attrs),[(openBlock(),createElementBlock("svg",{style:{width:"100%",height:"100%"}},[createBaseVNode("path",{class:normalizeClass(unref(g).e("hollow")),style:normalizeStyle$1(unref(re)),d:unref(L)},null,14,["d"])]))],16)):createCommentVNode("v-if",!0)}});var ElTourMask=_export_sfc(_sfc_main$1w,[["__file","mask.vue"]]);const tourStrategies=["absolute","fixed"],tourPlacements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tourContentProps=buildProps({placement:{type:definePropType(String),values:tourPlacements,default:"bottom"},reference:{type:definePropType(Object),default:null},strategy:{type:definePropType(String),values:tourStrategies,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),tourContentEmits={close:()=>!0},__default__$9=defineComponent({name:"ElTourContent"}),_sfc_main$1v=defineComponent({...__default__$9,props:tourContentProps,emits:tourContentEmits,setup(r,{emit:n}){const g=r,y=ref$1(g.placement),$=ref$1(g.strategy),L=ref$1(null),re=ref$1(null);watch$1(()=>g.placement,()=>{y.value=g.placement});const{contentStyle:ae,arrowStyle:le}=useFloating(toRef(g,"reference"),L,re,y,$,toRef(g,"offset"),toRef(g,"zIndex"),toRef(g,"showArrow")),ue=computed(()=>y.value.split("-")[0]),{ns:he}=inject(tourKey),_e=()=>{n("close")},Ce=$e=>{$e.detail.focusReason==="pointer"&&$e.preventDefault()};return($e,Oe)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:L,style:normalizeStyle$1(unref(ae)),class:normalizeClass(unref(he).e("content")),"data-side":unref(ue),tabindex:"-1"},[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":L.value||void 0,onReleaseRequested:_e,onFocusoutPrevented:Ce},{default:withCtx(()=>[renderSlot($e.$slots,"default")]),_:3},8,["focus-trap-el"]),$e.showArrow?(openBlock(),createElementBlock("span",{key:0,ref_key:"arrowRef",ref:re,style:normalizeStyle$1(unref(le)),class:normalizeClass(unref(he).e("arrow"))},null,6)):createCommentVNode("v-if",!0)],14,["data-side"]))}});var ElTourContent=_export_sfc(_sfc_main$1v,[["__file","content.vue"]]),ElTourSteps=defineComponent({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(r,{slots:n,emit:g}){let y=0;return()=>{var $,L;const re=($=n.default)==null?void 0:$.call(n),ae=[];let le=0;function ue(he){isArray$5(he)&&he.forEach(_e=>{var Ce;((Ce=(_e==null?void 0:_e.type)||{})==null?void 0:Ce.name)==="ElTourStep"&&(ae.push(_e),le+=1)})}return re.length&&ue(flattedChildren((L=re[0])==null?void 0:L.children)),y!==le&&(y=le,g("update-total",le)),ae.length?ae[r.current]:null}}});const tourProps=buildProps({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:iconPropType},placement:tourContentProps.placement,contentStyle:{type:definePropType([Object])},mask:{type:definePropType([Boolean,Object]),default:!0},gap:{type:definePropType(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:definePropType([Boolean,Object]),default:()=>({block:"center"})},type:{type:definePropType(String)},appendTo:{type:definePropType([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),tourEmits={[UPDATE_MODEL_EVENT]:r=>isBoolean(r),"update:current":r=>isNumber$2(r),close:r=>isNumber$2(r),finish:()=>!0,change:r=>isNumber$2(r)},__default__$8=defineComponent({name:"ElTour"}),_sfc_main$1u=defineComponent({...__default__$8,props:tourProps,emits:tourEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("tour"),$=ref$1(0),L=ref$1(),re=useVModel(g,"current",n,{passive:!0}),ae=computed(()=>{var Pt;return(Pt=L.value)==null?void 0:Pt.target}),le=computed(()=>[y.b(),Ne.value==="primary"?y.m("primary"):""]),ue=computed(()=>{var Pt;return((Pt=L.value)==null?void 0:Pt.placement)||g.placement}),he=computed(()=>{var Pt,At;return(At=(Pt=L.value)==null?void 0:Pt.contentStyle)!=null?At:g.contentStyle}),_e=computed(()=>{var Pt,At;return(At=(Pt=L.value)==null?void 0:Pt.mask)!=null?At:g.mask}),Ce=computed(()=>!!_e.value&&g.modelValue),$e=computed(()=>isBoolean(_e.value)?void 0:_e.value),Oe=computed(()=>{var Pt,At;return!!ae.value&&((At=(Pt=L.value)==null?void 0:Pt.showArrow)!=null?At:g.showArrow)}),xe=computed(()=>{var Pt,At;return(At=(Pt=L.value)==null?void 0:Pt.scrollIntoViewOptions)!=null?At:g.scrollIntoViewOptions}),Ne=computed(()=>{var Pt,At;return(At=(Pt=L.value)==null?void 0:Pt.type)!=null?At:g.type}),{nextZIndex:Ie}=useZIndex(),Fe=Ie(),Ve=computed(()=>{var Pt;return(Pt=g.zIndex)!=null?Pt:Fe}),{mergedPosInfo:ze,triggerTarget:Ue}=useTarget(ae,toRef(g,"modelValue"),toRef(g,"gap"),_e,xe);watch$1(()=>g.modelValue,Pt=>{Pt||(re.value=0)});const qe=()=>{g.closeOnPressEscape&&(n("update:modelValue",!1),n("close",re.value))},kt=Pt=>{$.value=Pt},Et=useSlots();return provide(tourKey,{currentStep:L,current:re,total:$,showClose:toRef(g,"showClose"),closeIcon:toRef(g,"closeIcon"),mergedType:Ne,ns:y,slots:Et,updateModelValue(Pt){n("update:modelValue",Pt)},onClose(){n("close",re.value)},onFinish(){n("finish")},onChange(){n("change",re.value)}}),(Pt,At)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$1(unref(ElTeleport),{to:Pt.appendTo},{default:withCtx(()=>{var Dt,Lt;return[createBaseVNode("div",mergeProps({class:unref(le)},Pt.$attrs),[createVNode$1(ElTourMask,{visible:unref(Ce),fill:(Dt=unref($e))==null?void 0:Dt.color,style:normalizeStyle$1((Lt=unref($e))==null?void 0:Lt.style),pos:unref(ze),"z-index":unref(Ve),"target-area-clickable":Pt.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),Pt.modelValue?(openBlock(),createBlock(ElTourContent,{key:unref(re),reference:unref(Ue),placement:unref(ue),"show-arrow":unref(Oe),"z-index":unref(Ve),style:normalizeStyle$1(unref(he)),onClose:qe},{default:withCtx(()=>[createVNode$1(unref(ElTourSteps),{current:unref(re),onUpdateTotal:kt},{default:withCtx(()=>[renderSlot(Pt.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):createCommentVNode("v-if",!0)],16)]}),_:3},8,["to"]),createCommentVNode(" just for IDE "),createCommentVNode("v-if",!0)],64))}});var Tour=_export_sfc(_sfc_main$1u,[["__file","tour.vue"]]);const tourStepProps=buildProps({target:{type:definePropType([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:iconPropType},showArrow:{type:Boolean,default:void 0},placement:tourContentProps.placement,mask:{type:definePropType([Boolean,Object]),default:void 0},contentStyle:{type:definePropType([Object])},prevButtonProps:{type:definePropType(Object)},nextButtonProps:{type:definePropType(Object)},scrollIntoViewOptions:{type:definePropType([Boolean,Object]),default:void 0},type:{type:definePropType(String)}}),tourStepEmits={close:()=>!0},__default__$7=defineComponent({name:"ElTourStep"}),_sfc_main$1t=defineComponent({...__default__$7,props:tourStepProps,emits:tourStepEmits,setup(r,{emit:n}){const g=r,{Close:y}=CloseComponents,{t:$}=useLocale(),{currentStep:L,current:re,total:ae,showClose:le,closeIcon:ue,mergedType:he,ns:_e,slots:Ce,updateModelValue:$e,onClose:Oe,onFinish:xe,onChange:Ne}=inject(tourKey);watch$1(g,Et=>{L.value=Et},{immediate:!0});const Ie=computed(()=>{var Et;return(Et=g.showClose)!=null?Et:le.value}),Fe=computed(()=>{var Et,Pt;return(Pt=(Et=g.closeIcon)!=null?Et:ue.value)!=null?Pt:y}),Ve=Et=>{if(Et)return omit(Et,["children","onClick"])},ze=()=>{var Et,Pt;re.value-=1,(Et=g.prevButtonProps)!=null&&Et.onClick&&((Pt=g.prevButtonProps)==null||Pt.onClick()),Ne()},Ue=()=>{var Et;re.value>=ae.value-1?qe():re.value+=1,(Et=g.nextButtonProps)!=null&&Et.onClick&&g.nextButtonProps.onClick(),Ne()},qe=()=>{kt(),xe()},kt=()=>{$e(!1),Oe(),n("close")};return(Et,Pt)=>(openBlock(),createElementBlock(Fragment,null,[unref(Ie)?(openBlock(),createElementBlock("button",{key:0,"aria-label":"Close",class:normalizeClass(unref(_e).e("closebtn")),type:"button",onClick:kt},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(_e).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Fe))))]),_:1},8,["class"])],2)):createCommentVNode("v-if",!0),createBaseVNode("header",{class:normalizeClass([unref(_e).e("header"),{"show-close":unref(le)}])},[renderSlot(Et.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading",class:normalizeClass(unref(_e).e("title"))},toDisplayString(Et.title),3)])],2),createBaseVNode("div",{class:normalizeClass(unref(_e).e("body"))},[renderSlot(Et.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(Et.description),1)])],2),createBaseVNode("footer",{class:normalizeClass(unref(_e).e("footer"))},[createBaseVNode("div",{class:normalizeClass(unref(_e).b("indicators"))},[unref(Ce).indicators?(openBlock(),createBlock(resolveDynamicComponent(unref(Ce).indicators),{key:0,current:unref(re),total:unref(ae)},null,8,["current","total"])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(ae),(At,Dt)=>(openBlock(),createElementBlock("span",{key:At,class:normalizeClass([unref(_e).b("indicator"),Dt===unref(re)?"is-active":""])},null,2))),128))],2),createBaseVNode("div",{class:normalizeClass(unref(_e).b("buttons"))},[unref(re)>0?(openBlock(),createBlock(unref(ElButton),mergeProps({key:0,size:"small",type:unref(he)},Ve(Et.prevButtonProps),{onClick:ze}),{default:withCtx(()=>{var At,Dt;return[createTextVNode(toDisplayString((Dt=(At=Et.prevButtonProps)==null?void 0:At.children)!=null?Dt:unref($)("el.tour.previous")),1)]}),_:1},16,["type"])):createCommentVNode("v-if",!0),unref(re)<=unref(ae)-1?(openBlock(),createBlock(unref(ElButton),mergeProps({key:1,size:"small",type:unref(he)==="primary"?"default":"primary"},Ve(Et.nextButtonProps),{onClick:Ue}),{default:withCtx(()=>{var At,Dt;return[createTextVNode(toDisplayString((Dt=(At=Et.nextButtonProps)==null?void 0:At.children)!=null?Dt:unref(re)===unref(ae)-1?unref($)("el.tour.finish"):unref($)("el.tour.next")),1)]}),_:1},16,["type"])):createCommentVNode("v-if",!0)],2)],2)],64))}});var TourStep=_export_sfc(_sfc_main$1t,[["__file","step.vue"]]);const ElTour=withInstall(Tour,{TourStep}),ElTourStep=withNoopInstall(TourStep),anchorProps=buildProps({container:{type:definePropType([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:definePropType(String),default:"default"},direction:{type:definePropType(String),default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),anchorEmits={change:r=>isString$3(r),click:(r,n)=>r instanceof MouseEvent&&(isString$3(n)||isUndefined(n))},anchorKey=Symbol("anchor"),getElement=r=>{if(!isClient||r==="")return null;if(isString$3(r))try{return document.querySelector(r)}catch{return null}return r};function throttleByRaf(r){let n=0;const g=(...y)=>{n&&cAF(n),n=rAF(()=>{r(...y),n=0})};return g.cancel=()=>{cAF(n),n=0},g}const __default__$6=defineComponent({name:"ElAnchor"}),_sfc_main$1s=defineComponent({...__default__$6,props:anchorProps,emits:anchorEmits,setup(r,{expose:n,emit:g}){const y=r,$=ref$1(""),L=ref$1(null),re=ref$1(null),ae=ref$1(),le={};let ue=!1,he=0;const _e=useNamespace$1("anchor"),Ce=computed(()=>[_e.b(),y.type==="underline"?_e.m("underline"):"",_e.m(y.direction)]),$e=Et=>{le[Et.href]=Et.el},Oe=Et=>{delete le[Et]},xe=Et=>{$.value!==Et&&($.value=Et,g("change",Et))};let Ne=null;const Ie=Et=>{if(!ae.value)return;const Pt=getElement(Et);if(!Pt)return;Ne&&Ne(),ue=!0;const At=getScrollElement(Pt,ae.value),Dt=getOffsetTopDistance(Pt,At),Lt=At.scrollHeight-At.clientHeight,hn=Math.min(Dt-y.offset,Lt);Ne=animateScrollTo(ae.value,he,hn,y.duration,()=>{setTimeout(()=>{ue=!1},20)})},Fe=Et=>{Et&&(xe(Et),Ie(Et))},Ve=(Et,Pt)=>{g("click",Et,Pt),Fe(Pt)},ze=throttleByRaf(()=>{ae.value&&(he=getScrollTop(ae.value));const Et=Ue();ue||isUndefined(Et)||xe(Et)}),Ue=()=>{if(!ae.value)return;const Et=getScrollTop(ae.value),Pt=[];for(const At of Object.keys(le)){const Dt=getElement(At);if(!Dt)continue;const Lt=getScrollElement(Dt,ae.value),hn=getOffsetTopDistance(Dt,Lt);Pt.push({top:hn-y.offset-y.bound,href:At})}Pt.sort((At,Dt)=>At.top-Dt.top);for(let At=0;At<Pt.length;At++){const Dt=Pt[At],Lt=Pt[At+1];if(At===0&&Et===0)return y.selectScrollTop?Dt.href:"";if(Dt.top<=Et&&(!Lt||Lt.top>Et))return Dt.href}},qe=()=>{const Et=getElement(y.container);!Et||isWindow(Et)?ae.value=window:ae.value=Et};useEventListener(ae,"scroll",ze);const kt=computed(()=>{if(!L.value||!re.value||!$.value)return{};const Et=le[$.value];if(!Et)return{};const Pt=L.value.getBoundingClientRect(),At=re.value.getBoundingClientRect(),Dt=Et.getBoundingClientRect();return y.direction==="horizontal"?{left:`${Dt.left-Pt.left}px`,width:`${Dt.width}px`,opacity:1}:{top:`${Dt.top-Pt.top+(Dt.height-At.height)/2}px`,opacity:1}});return onMounted(()=>{qe();const Et=decodeURIComponent(window.location.hash);getElement(Et)?Fe(Et):ze()}),watch$1(()=>y.container,()=>{qe()}),provide(anchorKey,{ns:_e,direction:y.direction,currentAnchor:$,addLink:$e,removeLink:Oe,handleClick:Ve}),n({scrollTo:Fe}),(Et,Pt)=>(openBlock(),createElementBlock("div",{ref_key:"anchorRef",ref:L,class:normalizeClass(unref(Ce))},[Et.marker?(openBlock(),createElementBlock("div",{key:0,ref_key:"markerRef",ref:re,class:normalizeClass(unref(_e).e("marker")),style:normalizeStyle$1(unref(kt))},null,6)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(_e).e("list"))},[renderSlot(Et.$slots,"default")],2)],2))}});var Anchor=_export_sfc(_sfc_main$1s,[["__file","anchor.vue"]]);const anchorLinkProps=buildProps({title:String,href:String}),__default__$5=defineComponent({name:"ElAnchorLink"}),_sfc_main$1r=defineComponent({...__default__$5,props:anchorLinkProps,setup(r){const n=r,g=ref$1(null),{ns:y,direction:$,currentAnchor:L,addLink:re,removeLink:ae,handleClick:le}=inject(anchorKey),ue=computed(()=>[y.e("link"),y.is("active",L.value===n.href)]),he=_e=>{le(_e,n.href)};return watch$1(()=>n.href,(_e,Ce)=>{nextTick$1(()=>{Ce&&ae(Ce),_e&&re({href:_e,el:g.value})})}),onMounted(()=>{const{href:_e}=n;_e&&re({href:_e,el:g.value})}),onBeforeUnmount(()=>{const{href:_e}=n;_e&&ae(_e)}),(_e,Ce)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).e("item"))},[createBaseVNode("a",{ref_key:"linkRef",ref:g,class:normalizeClass(unref(ue)),href:_e.href,onClick:he},[renderSlot(_e.$slots,"default",{},()=>[createTextVNode(toDisplayString(_e.title),1)])],10,["href"]),_e.$slots["sub-link"]&&unref($)==="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("list"))},[renderSlot(_e.$slots,"sub-link")],2)):createCommentVNode("v-if",!0)],2))}});var AnchorLink=_export_sfc(_sfc_main$1r,[["__file","anchor-link.vue"]]);const ElAnchor=withInstall(Anchor,{AnchorLink}),ElAnchorLink=withNoopInstall(AnchorLink),segmentedProps=buildProps({direction:{type:definePropType(String),default:"horizontal"},options:{type:definePropType(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:useSizeProp,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...useAriaProps(["ariaLabel"])}),segmentedEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r)||isNumber$2(r)||isBoolean(r),[CHANGE_EVENT]:r=>isString$3(r)||isNumber$2(r)||isBoolean(r)},__default__$4=defineComponent({name:"ElSegmented"}),_sfc_main$1q=defineComponent({...__default__$4,props:segmentedProps,emits:segmentedEmits,setup(r,{emit:n}){const g=r,y=useNamespace$1("segmented"),$=useId(),L=useFormSize(),re=useFormDisabled(),{formItem:ae}=useFormItem(),{inputId:le,isLabeledByFormItem:ue}=useFormItemInputId(g,{formItemContext:ae}),he=ref$1(null),_e=useActiveElement(),Ce=reactive({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),$e=Pt=>{const At=Oe(Pt);n(UPDATE_MODEL_EVENT,At),n(CHANGE_EVENT,At)},Oe=Pt=>isObject$7(Pt)?Pt.value:Pt,xe=Pt=>isObject$7(Pt)?Pt.label:Pt,Ne=Pt=>!!(re.value||isObject$7(Pt)&&Pt.disabled),Ie=Pt=>g.modelValue===Oe(Pt),Fe=Pt=>g.options.find(At=>Oe(At)===Pt),Ve=Pt=>[y.e("item"),y.is("selected",Ie(Pt)),y.is("disabled",Ne(Pt))],ze=()=>{if(!he.value)return;const Pt=he.value.querySelector(".is-selected"),At=he.value.querySelector(".is-selected input");if(!Pt||!At){Ce.width=0,Ce.height=0,Ce.translateX=0,Ce.translateY=0,Ce.focusVisible=!1;return}const Dt=Pt.getBoundingClientRect();Ce.isInit=!0,g.direction==="vertical"?(Ce.height=Dt.height,Ce.translateY=Pt.offsetTop):(Ce.width=Dt.width,Ce.translateX=Pt.offsetLeft);try{Ce.focusVisible=At.matches(":focus-visible")}catch{}},Ue=computed(()=>[y.b(),y.m(L.value),y.is("block",g.block)]),qe=computed(()=>({width:g.direction==="vertical"?"100%":`${Ce.width}px`,height:g.direction==="vertical"?`${Ce.height}px`:"100%",transform:g.direction==="vertical"?`translateY(${Ce.translateY}px)`:`translateX(${Ce.translateX}px)`,display:Ce.isInit?"block":"none"})),kt=computed(()=>[y.e("item-selected"),y.is("disabled",Ne(Fe(g.modelValue))),y.is("focus-visible",Ce.focusVisible)]),Et=computed(()=>g.name||$.value);return useResizeObserver(he,ze),watch$1(_e,ze),watch$1(()=>g.modelValue,()=>{var Pt;ze(),g.validateEvent&&((Pt=ae==null?void 0:ae.validate)==null||Pt.call(ae,"change").catch(At=>void 0))},{flush:"post"}),(Pt,At)=>Pt.options.length?(openBlock(),createElementBlock("div",{key:0,id:unref(le),ref_key:"segmentedRef",ref:he,class:normalizeClass(unref(Ue)),role:"radiogroup","aria-label":unref(ue)?void 0:Pt.ariaLabel||"segmented","aria-labelledby":unref(ue)?unref(ae).labelId:void 0},[createBaseVNode("div",{class:normalizeClass([unref(y).e("group"),unref(y).m(g.direction)])},[createBaseVNode("div",{style:normalizeStyle$1(unref(qe)),class:normalizeClass(unref(kt))},null,6),(openBlock(!0),createElementBlock(Fragment,null,renderList(Pt.options,(Dt,Lt)=>(openBlock(),createElementBlock("label",{key:Lt,class:normalizeClass(Ve(Dt))},[createBaseVNode("input",{class:normalizeClass(unref(y).e("item-input")),type:"radio",name:unref(Et),disabled:Ne(Dt),checked:Ie(Dt),onChange:hn=>$e(Dt)},null,42,["name","disabled","checked","onChange"]),createBaseVNode("div",{class:normalizeClass(unref(y).e("item-label"))},[renderSlot(Pt.$slots,"default",{item:Dt},()=>[createTextVNode(toDisplayString(xe(Dt)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):createCommentVNode("v-if",!0)}});var Segmented=_export_sfc(_sfc_main$1q,[["__file","segmented.vue"]]);const ElSegmented=withInstall(Segmented),filterOption=(r,n)=>{const g=r.toLowerCase();return(n.label||n.value).toLowerCase().includes(g)},getMentionCtx=(r,n,g)=>{const{selectionEnd:y}=r;if(y===null)return;const $=r.value,L=castArray$1(n);let re=-1,ae;for(let le=y-1;le>=0;--le){const ue=$[le];if(ue===g||ue===`
`||ue==="\r"){re=le;continue}if(L.includes(ue)){const he=re===-1?y:re;ae={pattern:$.slice(le+1,he),start:le+1,end:he,prefix:ue,prefixIndex:le,splitIndex:re,selectionEnd:y};break}}return ae},getCursorPosition=(r,n={debug:!1,useSelectionEnd:!1})=>{const g=r.selectionStart!==null?r.selectionStart:0,y=r.selectionEnd!==null?r.selectionEnd:0,$=n.useSelectionEnd?y:g,L=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(n.debug){const Ce=document.querySelector("#input-textarea-caret-position-mirror-div");Ce!=null&&Ce.parentNode&&Ce.parentNode.removeChild(Ce)}const re=document.createElement("div");re.id="input-textarea-caret-position-mirror-div",document.body.appendChild(re);const ae=re.style,le=window.getComputedStyle(r),ue=r.nodeName==="INPUT";ae.whiteSpace=ue?"nowrap":"pre-wrap",ue||(ae.wordWrap="break-word"),ae.position="absolute",n.debug||(ae.visibility="hidden"),L.forEach(Ce=>{if(ue&&Ce==="lineHeight")if(le.boxSizing==="border-box"){const $e=Number.parseInt(le.height),Oe=Number.parseInt(le.paddingTop)+Number.parseInt(le.paddingBottom)+Number.parseInt(le.borderTopWidth)+Number.parseInt(le.borderBottomWidth),xe=Oe+Number.parseInt(le.lineHeight);$e>xe?ae.lineHeight=`${$e-Oe}px`:$e===xe?ae.lineHeight=le.lineHeight:ae.lineHeight="0"}else ae.lineHeight=le.height;else ae[Ce]=le[Ce]}),isFirefox()?r.scrollHeight>Number.parseInt(le.height)&&(ae.overflowY="scroll"):ae.overflow="hidden",re.textContent=r.value.slice(0,Math.max(0,$)),ue&&re.textContent&&(re.textContent=re.textContent.replace(/\s/g,""));const he=document.createElement("span");he.textContent=r.value.slice(Math.max(0,$))||".",he.style.position="relative",he.style.left=`${-r.scrollLeft}px`,he.style.top=`${-r.scrollTop}px`,re.appendChild(he);const _e={top:he.offsetTop+Number.parseInt(le.borderTopWidth),left:he.offsetLeft+Number.parseInt(le.borderLeftWidth),height:Number.parseInt(le.fontSize)*1.5};return n.debug?he.style.backgroundColor="#aaa":document.body.removeChild(re),_e.left>=r.clientWidth&&(_e.left=r.clientWidth),_e},mentionProps=buildProps({...inputProps,options:{type:definePropType(Array),default:()=>[]},prefix:{type:definePropType([String,Array]),default:"@",validator:r=>isString$3(r)?r.length===1:r.every(n=>isString$3(n)&&n.length===1)},split:{type:String,default:" ",validator:r=>r.length===1},filterOption:{type:definePropType([Boolean,Function]),default:()=>filterOption,validator:r=>r===!1?!0:isFunction$3(r)},placement:{type:definePropType(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:definePropType(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})}}),mentionEmits={[UPDATE_MODEL_EVENT]:r=>isString$3(r),search:(r,n)=>isString$3(r)&&isString$3(n),select:(r,n)=>isString$3(r.value)&&isString$3(n),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent},mentionDropdownProps=buildProps({options:{type:definePropType(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),mentionDropdownEmits={select:r=>isString$3(r.value)},__default__$3=defineComponent({name:"ElMentionDropdown"}),_sfc_main$1p=defineComponent({...__default__$3,props:mentionDropdownProps,emits:mentionDropdownEmits,setup(r,{expose:n,emit:g}){const y=r,$=useNamespace$1("mention"),{t:L}=useLocale(),re=ref$1(-1),ae=ref$1(),le=ref$1(),ue=ref$1(),he=(Ve,ze)=>[$.be("dropdown","item"),$.is("hovering",re.value===ze),$.is("disabled",Ve.disabled||y.disabled)],_e=Ve=>{Ve.disabled||y.disabled||g("select",Ve)},Ce=Ve=>{re.value=Ve},$e=computed(()=>y.disabled||y.options.every(Ve=>Ve.disabled)),Oe=computed(()=>y.options[re.value]),xe=()=>{Oe.value&&g("select",Oe.value)},Ne=Ve=>{const{options:ze}=y;if(ze.length===0||$e.value)return;Ve==="next"?(re.value++,re.value===ze.length&&(re.value=0)):Ve==="prev"&&(re.value--,re.value<0&&(re.value=ze.length-1));const Ue=ze[re.value];if(Ue.disabled){Ne(Ve);return}nextTick$1(()=>Ie(Ue))},Ie=Ve=>{var ze,Ue,qe,kt;const{options:Et}=y,Pt=Et.findIndex(Dt=>Dt.value===Ve.value),At=(ze=le.value)==null?void 0:ze[Pt];if(At){const Dt=(qe=(Ue=ue.value)==null?void 0:Ue.querySelector)==null?void 0:qe.call(Ue,`.${$.be("dropdown","wrap")}`);Dt&&scrollIntoView$2(Dt,At)}(kt=ae.value)==null||kt.handleScroll()};return watch$1(()=>y.options,()=>{$e.value||y.options.length===0?re.value=-1:re.value=0},{immediate:!0}),n({hoveringIndex:re,navigateOptions:Ne,selectHoverOption:xe,hoverOption:Oe}),(Ve,ze)=>(openBlock(),createElementBlock("div",{ref_key:"dropdownRef",ref:ue,class:normalizeClass(unref($).b("dropdown"))},[Ve.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).be("dropdown","header"))},[renderSlot(Ve.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode$1(unref(ElScrollbar),{id:Ve.contentId,ref_key:"scrollbarRef",ref:ae,tag:"ul","wrap-class":unref($).be("dropdown","wrap"),"view-class":unref($).be("dropdown","list"),role:"listbox","aria-label":Ve.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ve.options,(Ue,qe)=>(openBlock(),createElementBlock("li",{id:`${Ve.contentId}-${qe}`,ref_for:!0,ref_key:"optionRefs",ref:le,key:qe,class:normalizeClass(he(Ue,qe)),role:"option","aria-disabled":Ue.disabled||Ve.disabled||void 0,"aria-selected":re.value===qe,onMousemove:kt=>Ce(qe),onClick:withModifiers(kt=>_e(Ue),["stop"])},[renderSlot(Ve.$slots,"label",{item:Ue,index:qe},()=>{var kt;return[createBaseVNode("span",null,toDisplayString((kt=Ue.label)!=null?kt:Ue.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[vShow,Ve.options.length>0&&!Ve.loading]]),Ve.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($).be("dropdown","loading"))},[renderSlot(Ve.$slots,"loading",{},()=>[createTextVNode(toDisplayString(unref(L)("el.mention.loading")),1)])],2)):createCommentVNode("v-if",!0),Ve.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref($).be("dropdown","footer"))},[renderSlot(Ve.$slots,"footer")],2)):createCommentVNode("v-if",!0)],2))}});var ElMentionDropdown=_export_sfc(_sfc_main$1p,[["__file","mention-dropdown.vue"]]);const __default__$2=defineComponent({name:"ElMention",inheritAttrs:!1}),_sfc_main$1o=defineComponent({...__default__$2,props:mentionProps,emits:mentionEmits,setup(r,{expose:n,emit:g}){const y=r,$=computed(()=>pick(y,Object.keys(inputProps))),L=useNamespace$1("mention"),re=useFormDisabled(),ae=useId(),le=ref$1(),ue=ref$1(),he=ref$1(),_e=ref$1(!1),Ce=ref$1(),$e=ref$1(),Oe=computed(()=>y.showArrow?y.placement:`${y.placement}-start`),xe=computed(()=>y.showArrow?["bottom","top"]:["bottom-start","top-start"]),Ne=computed(()=>{const{filterOption:Lt,options:hn}=y;return!$e.value||!Lt?hn:hn.filter(_n=>Lt($e.value.pattern,_n))}),Ie=computed(()=>_e.value&&(!!Ne.value.length||y.loading)),Fe=computed(()=>{var Lt;return`${ae.value}-${(Lt=he.value)==null?void 0:Lt.hoveringIndex}`}),Ve=Lt=>{g("update:modelValue",Lt),Pt()},ze=Lt=>{var hn,_n,vn,jt;if(!(!("code"in Lt)||(hn=le.value)!=null&&hn.isComposing))switch(Lt.code){case EVENT_CODE.left:case EVENT_CODE.right:Pt();break;case EVENT_CODE.up:case EVENT_CODE.down:if(!_e.value)return;Lt.preventDefault(),(_n=he.value)==null||_n.navigateOptions(Lt.code===EVENT_CODE.up?"prev":"next");break;case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:if(!_e.value)return;Lt.preventDefault(),(vn=he.value)!=null&&vn.hoverOption?(jt=he.value)==null||jt.selectHoverOption():_e.value=!1;break;case EVENT_CODE.esc:if(!_e.value)return;Lt.preventDefault(),_e.value=!1;break;case EVENT_CODE.backspace:if(y.whole&&$e.value){const{splitIndex:$n,selectionEnd:Sn,pattern:bn,prefixIndex:wn,prefix:On}=$e.value,Tn=Et();if(!Tn)return;const xn=Tn.value,Pn=y.options.find(Rn=>Rn.value===bn);if((isFunction$3(y.checkIsWhole)?y.checkIsWhole(bn,On):Pn)&&$n!==-1&&$n+1===Sn){Lt.preventDefault();const Rn=xn.slice(0,wn)+xn.slice($n+1);g(UPDATE_MODEL_EVENT,Rn);const Nn=wn;nextTick$1(()=>{Tn.selectionStart=Nn,Tn.selectionEnd=Nn,Dt()})}}}},{wrapperRef:Ue}=useFocusController(le,{beforeFocus(){return re.value},afterFocus(){Pt()},beforeBlur(Lt){var hn;return(hn=ue.value)==null?void 0:hn.isFocusInsideContent(Lt)},afterBlur(){_e.value=!1}}),qe=()=>{Pt()},kt=Lt=>{if(!$e.value)return;const hn=Et();if(!hn)return;const _n=hn.value,{split:vn}=y,jt=_n.slice($e.value.end),$n=jt.startsWith(vn),Sn=`${Lt.value}${$n?"":vn}`,bn=_n.slice(0,$e.value.start)+Sn+jt;g(UPDATE_MODEL_EVENT,bn),g("select",Lt,$e.value.prefix);const wn=$e.value.start+Sn.length+($n?1:0);nextTick$1(()=>{hn.selectionStart=wn,hn.selectionEnd=wn,hn.focus(),Dt()})},Et=()=>{var Lt,hn;return y.type==="textarea"?(Lt=le.value)==null?void 0:Lt.textarea:(hn=le.value)==null?void 0:hn.input},Pt=()=>{setTimeout(()=>{At(),Dt(),nextTick$1(()=>{var Lt;return(Lt=ue.value)==null?void 0:Lt.updatePopper()})},0)},At=()=>{const Lt=Et();if(!Lt)return;const hn=getCursorPosition(Lt),_n=Lt.getBoundingClientRect(),vn=le.value.$el.getBoundingClientRect();Ce.value={position:"absolute",width:0,height:`${hn.height}px`,left:`${hn.left+_n.left-vn.left}px`,top:`${hn.top+_n.top-vn.top}px`}},Dt=()=>{const Lt=Et();if(document.activeElement!==Lt){_e.value=!1;return}const{prefix:hn,split:_n}=y;if($e.value=getMentionCtx(Lt,hn,_n),$e.value&&$e.value.splitIndex===-1){_e.value=!0,g("search",$e.value.pattern,$e.value.prefix);return}_e.value=!1};return n({input:le,tooltip:ue,dropdownVisible:Ie}),(Lt,hn)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:Ue,class:normalizeClass([unref(L).b(),unref(L).is("disabled",unref(re))])},[createVNode$1(unref(ElInput),mergeProps(mergeProps(unref($),Lt.$attrs),{ref_key:"elInputRef",ref:le,"model-value":Lt.modelValue,disabled:unref(re),role:unref(Ie)?"combobox":void 0,"aria-activedescendant":unref(Ie)?unref(Fe)||"":void 0,"aria-controls":unref(Ie)?unref(ae):void 0,"aria-expanded":unref(Ie)||void 0,"aria-label":Lt.ariaLabel,"aria-autocomplete":unref(Ie)?"none":void 0,"aria-haspopup":unref(Ie)?"listbox":void 0,onInput:Ve,onKeydown:ze,onMousedown:qe}),createSlots({_:2},[renderList(Lt.$slots,(_n,vn)=>({name:vn,fn:withCtx(jt=>[renderSlot(Lt.$slots,vn,normalizeProps(guardReactiveProps(jt)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),createVNode$1(unref(ElTooltip),{ref_key:"tooltipRef",ref:ue,visible:unref(Ie),"popper-class":[unref(L).e("popper"),Lt.popperClass],"popper-options":Lt.popperOptions,placement:unref(Oe),"fallback-placements":unref(xe),effect:"light",pure:"",offset:Lt.offset,"show-arrow":Lt.showArrow},{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle$1(Ce.value)},null,4)]),content:withCtx(()=>{var _n;return[createVNode$1(ElMentionDropdown,{ref_key:"dropdownRef",ref:he,options:unref(Ne),disabled:unref(re),loading:Lt.loading,"content-id":unref(ae),"aria-label":Lt.ariaLabel,onSelect:kt,onClick:withModifiers((_n=le.value)==null?void 0:_n.focus,["stop"])},createSlots({_:2},[renderList(Lt.$slots,(vn,jt)=>({name:jt,fn:withCtx($n=>[renderSlot(Lt.$slots,jt,normalizeProps(guardReactiveProps($n)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Mention=_export_sfc(_sfc_main$1o,[["__file","mention.vue"]]);const ElMention=withInstall(Mention);var Components=[ElAffix,ElAlert,ElAutocomplete,ElAutoResizer,ElAvatar,ElBacktop,ElBadge,ElBreadcrumb,ElBreadcrumbItem,ElButton,ElButtonGroup$1,ElCalendar,ElCard,ElCarousel,ElCarouselItem,ElCascader,ElCascaderPanel,ElCheckTag,ElCheckbox,ElCheckboxButton,ElCheckboxGroup$1,ElCol,ElCollapse,ElCollapseItem,ElCollapseTransition,ElColorPicker,ElConfigProvider,ElContainer,ElAside,ElFooter,ElHeader,ElMain,ElDatePicker,ElDescriptions,ElDescriptionsItem,ElDialog,ElDivider,ElDrawer,ElDropdown,ElDropdownItem,ElDropdownMenu,ElEmpty,ElForm,ElFormItem,ElIcon,ElImage,ElImageViewer,ElInput,ElInputNumber,ElInputTag,ElLink,ElMenu,ElMenuItem,ElMenuItemGroup,ElSubMenu,ElPageHeader,ElPagination,ElPopconfirm,ElPopover,ElPopper,ElProgress,ElRadio,ElRadioButton,ElRadioGroup,ElRate,ElResult,ElRow,ElScrollbar,ElSelect,ElOption,ElOptionGroup,ElSelectV2,ElSkeleton,ElSkeletonItem,ElSlider,ElSpace,ElStatistic,ElCountdown,ElSteps,ElStep,ElSwitch,ElTable,ElTableColumn,ElTableV2,ElTabs,ElTabPane,ElTag,ElText,ElTimePicker,ElTimeSelect,ElTimeline,ElTimelineItem,ElTooltip,ElTooltipV2,ElTransfer,ElTree,ElTreeSelect,ElTreeV2,ElUpload,ElWatermark,ElTour,ElTourStep,ElAnchor,ElAnchorLink,ElSegmented,ElMention];const SCOPE="ElInfiniteScroll",CHECK_INTERVAL=50,DEFAULT_DELAY=200,DEFAULT_DISTANCE=0,attributes={delay:{type:Number,default:DEFAULT_DELAY},distance:{type:Number,default:DEFAULT_DISTANCE},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},getScrollOptions=(r,n)=>Object.entries(attributes).reduce((g,[y,$])=>{var L,re;const{type:ae,default:le}=$,ue=r.getAttribute(`infinite-scroll-${y}`);let he=(re=(L=n[ue])!=null?L:ue)!=null?re:le;return he=he==="false"?!1:he,he=ae(he),g[y]=Number.isNaN(he)?le:he,g},{}),destroyObserver=r=>{const{observer:n}=r[SCOPE];n&&(n.disconnect(),delete r[SCOPE].observer)},handleScroll=(r,n)=>{const{container:g,containerEl:y,instance:$,observer:L,lastScrollTop:re}=r[SCOPE],{disabled:ae,distance:le}=getScrollOptions(r,$),{clientHeight:ue,scrollHeight:he,scrollTop:_e}=y,Ce=_e-re;if(r[SCOPE].lastScrollTop=_e,L||ae||Ce<0)return;let $e=!1;if(g===r)$e=he-(ue+_e)<=le;else{const{clientTop:Oe,scrollHeight:xe}=r,Ne=getOffsetTopDistance(r,y);$e=_e+ue>=Ne+Oe+xe-le}$e&&n.call($)};function checkFull(r,n){const{containerEl:g,instance:y}=r[SCOPE],{disabled:$}=getScrollOptions(r,y);$||g.clientHeight===0||(g.scrollHeight<=g.clientHeight?n.call(y):destroyObserver(r))}const InfiniteScroll={async mounted(r,n){const{instance:g,value:y}=n;isFunction$3(y)||throwError$1(SCOPE,"'v-infinite-scroll' binding value must be a function"),await nextTick$1();const{delay:$,immediate:L}=getScrollOptions(r,g),re=getScrollContainer(r,!0),ae=re===window?document.documentElement:re,le=throttle$1(handleScroll.bind(null,r,y),$);if(re){if(r[SCOPE]={instance:g,container:re,containerEl:ae,delay:$,cb:y,onScroll:le,lastScrollTop:ae.scrollTop},L){const ue=new MutationObserver(throttle$1(checkFull.bind(null,r,y),CHECK_INTERVAL));r[SCOPE].observer=ue,ue.observe(r,{childList:!0,subtree:!0}),checkFull(r,y)}re.addEventListener("scroll",le)}},unmounted(r){if(!r[SCOPE])return;const{container:n,onScroll:g}=r[SCOPE];n==null||n.removeEventListener("scroll",g),destroyObserver(r)},async updated(r){if(!r[SCOPE])await nextTick$1();else{const{containerEl:n,cb:g,observer:y}=r[SCOPE];n.clientHeight&&y&&checkFull(r,g)}}},_InfiniteScroll=InfiniteScroll;_InfiniteScroll.install=r=>{r.directive("InfiniteScroll",_InfiniteScroll)};const ElInfiniteScroll=_InfiniteScroll;function createLoadingComponent(r){let n;const g=ref$1(!1),y=reactive({...r,originalPosition:"",originalOverflow:"",visible:!1});function $(Ce){y.text=Ce}function L(){const Ce=y.parent,$e=_e.ns;if(!Ce.vLoadingAddClassList){let Oe=Ce.getAttribute("loading-number");Oe=Number.parseInt(Oe)-1,Oe?Ce.setAttribute("loading-number",Oe.toString()):(removeClass(Ce,$e.bm("parent","relative")),Ce.removeAttribute("loading-number")),removeClass(Ce,$e.bm("parent","hidden"))}re(),he.unmount()}function re(){var Ce,$e;($e=(Ce=_e.$el)==null?void 0:Ce.parentNode)==null||$e.removeChild(_e.$el)}function ae(){var Ce;r.beforeClose&&!r.beforeClose()||(g.value=!0,clearTimeout(n),n=setTimeout(le,400),y.visible=!1,(Ce=r.closed)==null||Ce.call(r))}function le(){if(!g.value)return;const Ce=y.parent;g.value=!1,Ce.vLoadingAddClassList=void 0,L()}const ue=defineComponent({name:"ElLoading",setup(Ce,{expose:$e}){const{ns:Oe,zIndex:xe}=useGlobalComponentSettings("loading");return $e({ns:Oe,zIndex:xe}),()=>{const Ne=y.spinner||y.svg,Ie=h$1("svg",{class:"circular",viewBox:y.svgViewBox?y.svgViewBox:"0 0 50 50",...Ne?{innerHTML:Ne}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),Fe=y.text?h$1("p",{class:Oe.b("text")},[y.text]):void 0;return h$1(Transition,{name:Oe.b("fade"),onAfterLeave:le},{default:withCtx(()=>[withDirectives(createVNode$1("div",{style:{backgroundColor:y.background||""},class:[Oe.b("mask"),y.customClass,y.fullscreen?"is-fullscreen":""]},[h$1("div",{class:Oe.b("spinner")},[Ie,Fe])]),[[vShow,y.visible]])])})}}}),he=createApp(ue),_e=he.mount(document.createElement("div"));return{...toRefs(y),setText:$,removeElLoadingChild:re,close:ae,handleAfterLeave:le,vm:_e,get $el(){return _e.$el}}}let fullscreenInstance;const Loading=function(r={}){if(!isClient)return;const n=resolveOptions(r);if(n.fullscreen&&fullscreenInstance)return fullscreenInstance;const g=createLoadingComponent({...n,closed:()=>{var $;($=n.closed)==null||$.call(n),n.fullscreen&&(fullscreenInstance=void 0)}});addStyle(n,n.parent,g),addClassList(n,n.parent,g),n.parent.vLoadingAddClassList=()=>addClassList(n,n.parent,g);let y=n.parent.getAttribute("loading-number");return y?y=`${Number.parseInt(y)+1}`:y="1",n.parent.setAttribute("loading-number",y),n.parent.appendChild(g.$el),nextTick$1(()=>g.visible.value=n.visible),n.fullscreen&&(fullscreenInstance=g),g},resolveOptions=r=>{var n,g,y,$;let L;return isString$3(r.target)?L=(n=document.querySelector(r.target))!=null?n:document.body:L=r.target||document.body,{parent:L===document.body||r.body?document.body:L,background:r.background||"",svg:r.svg||"",svgViewBox:r.svgViewBox||"",spinner:r.spinner||!1,text:r.text||"",fullscreen:L===document.body&&((g=r.fullscreen)!=null?g:!0),lock:(y=r.lock)!=null?y:!1,customClass:r.customClass||"",visible:($=r.visible)!=null?$:!0,beforeClose:r.beforeClose,closed:r.closed,target:L}},addStyle=async(r,n,g)=>{const{nextZIndex:y}=g.vm.zIndex||g.vm._.exposed.zIndex,$={};if(r.fullscreen)g.originalPosition.value=getStyle$1(document.body,"position"),g.originalOverflow.value=getStyle$1(document.body,"overflow"),$.zIndex=y();else if(r.parent===document.body){g.originalPosition.value=getStyle$1(document.body,"position"),await nextTick$1();for(const L of["top","left"]){const re=L==="top"?"scrollTop":"scrollLeft";$[L]=`${r.target.getBoundingClientRect()[L]+document.body[re]+document.documentElement[re]-Number.parseInt(getStyle$1(document.body,`margin-${L}`),10)}px`}for(const L of["height","width"])$[L]=`${r.target.getBoundingClientRect()[L]}px`}else g.originalPosition.value=getStyle$1(n,"position");for(const[L,re]of Object.entries($))g.$el.style[L]=re},addClassList=(r,n,g)=>{const y=g.vm.ns||g.vm._.exposed.ns;["absolute","fixed","sticky"].includes(g.originalPosition.value)?removeClass(n,y.bm("parent","relative")):addClass(n,y.bm("parent","relative")),r.fullscreen&&r.lock?addClass(n,y.bm("parent","hidden")):removeClass(n,y.bm("parent","hidden"))},INSTANCE_KEY=Symbol("ElLoading"),createInstance=(r,n)=>{var g,y,$,L;const re=n.instance,ae=Ce=>isObject$7(n.value)?n.value[Ce]:void 0,le=Ce=>{const $e=isString$3(Ce)&&(re==null?void 0:re[Ce])||Ce;return $e&&ref$1($e)},ue=Ce=>le(ae(Ce)||r.getAttribute(`element-loading-${hyphenate(Ce)}`)),he=(g=ae("fullscreen"))!=null?g:n.modifiers.fullscreen,_e={text:ue("text"),svg:ue("svg"),svgViewBox:ue("svgViewBox"),spinner:ue("spinner"),background:ue("background"),customClass:ue("customClass"),fullscreen:he,target:(y=ae("target"))!=null?y:he?void 0:r,body:($=ae("body"))!=null?$:n.modifiers.body,lock:(L=ae("lock"))!=null?L:n.modifiers.lock};r[INSTANCE_KEY]={options:_e,instance:Loading(_e)}},updateOptions=(r,n)=>{for(const g of Object.keys(n))isRef(n[g])&&(n[g].value=r[g])},vLoading={mounted(r,n){n.value&&createInstance(r,n)},updated(r,n){const g=r[INSTANCE_KEY];n.oldValue!==n.value&&(n.value&&!n.oldValue?createInstance(r,n):n.value&&n.oldValue?isObject$7(n.value)&&updateOptions(n.value,g.options):g==null||g.instance.close())},unmounted(r){var n;(n=r[INSTANCE_KEY])==null||n.instance.close(),r[INSTANCE_KEY]=null}},ElLoading={install(r){r.directive("loading",vLoading),r.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),default:messageDefaults.onClose},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},plain:{type:Boolean,default:messageDefaults.plain},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances$2=shallowReactive([]),getInstance$1=r=>{const n=instances$2.findIndex($=>$.id===r),g=instances$2[n];let y;return n>0&&(y=instances$2[n-1]),{current:g,prev:y}},getLastOffset=r=>{const{prev:n}=getInstance$1(r);return n?n.vm.exposed.bottom.value:0},getOffsetOrSpace=(r,n)=>instances$2.findIndex(y=>y.id===r)>0?16:n,__default__$1=defineComponent({name:"ElMessage"}),_sfc_main$1n=defineComponent({...__default__$1,props:messageProps,emits:messageEmits,setup(r,{expose:n}){const g=r,{Close:y}=TypeComponents,{ns:$,zIndex:L}=useGlobalComponentSettings("message"),{currentZIndex:re,nextZIndex:ae}=L,le=ref$1(),ue=ref$1(!1),he=ref$1(0);let _e;const Ce=computed(()=>g.type?g.type==="error"?"danger":g.type:"info"),$e=computed(()=>{const kt=g.type;return{[$.bm("icon",kt)]:kt&&TypeComponentsMap[kt]}}),Oe=computed(()=>g.icon||TypeComponentsMap[g.type]||""),xe=computed(()=>getLastOffset(g.id)),Ne=computed(()=>getOffsetOrSpace(g.id,g.offset)+xe.value),Ie=computed(()=>he.value+Ne.value),Fe=computed(()=>({top:`${Ne.value}px`,zIndex:re.value}));function Ve(){g.duration!==0&&({stop:_e}=useTimeoutFn(()=>{Ue()},g.duration))}function ze(){_e==null||_e()}function Ue(){ue.value=!1}function qe({code:kt}){kt===EVENT_CODE.esc&&Ue()}return onMounted(()=>{Ve(),ae(),ue.value=!0}),watch$1(()=>g.repeatNum,()=>{ze(),Ve()}),useEventListener(document,"keydown",qe),useResizeObserver(le,()=>{he.value=le.value.getBoundingClientRect().height}),n({visible:ue,bottom:Ie,close:Ue}),(kt,Et)=>(openBlock(),createBlock(Transition,{name:unref($).b("fade"),onBeforeLeave:kt.onClose,onAfterLeave:Pt=>kt.$emit("destroy"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:kt.id,ref_key:"messageRef",ref:le,class:normalizeClass([unref($).b(),{[unref($).m(kt.type)]:kt.type},unref($).is("center",kt.center),unref($).is("closable",kt.showClose),unref($).is("plain",kt.plain),kt.customClass]),style:normalizeStyle$1(unref(Fe)),role:"alert",onMouseenter:ze,onMouseleave:Ve},[kt.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:kt.repeatNum,type:unref(Ce),class:normalizeClass(unref($).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(Oe)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref($).e("icon"),unref($e)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Oe))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(kt.$slots,"default",{},()=>[kt.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref($).e("content")),innerHTML:kt.message},null,10,["innerHTML"])],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref($).e("content"))},toDisplayString(kt.message),3))]),kt.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref($).e("closeBtn")),onClick:withModifiers(Ue,["stop"])},{default:withCtx(()=>[createVNode$1(unref(y))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,["id"]),[[vShow,ue.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var MessageConstructor=_export_sfc(_sfc_main$1n,[["__file","message.vue"]]);let seed$2=1;const normalizeOptions=r=>{const n=!r||isString$3(r)||isVNode(r)||isFunction$3(r)?{message:r}:r,g={...messageDefaults,...n};if(!g.appendTo)g.appendTo=document.body;else if(isString$3(g.appendTo)){let y=document.querySelector(g.appendTo);isElement$3(y)||(y=document.body),g.appendTo=y}return isBoolean(messageConfig.grouping)&&!g.grouping&&(g.grouping=messageConfig.grouping),isNumber$2(messageConfig.duration)&&g.duration===3e3&&(g.duration=messageConfig.duration),isNumber$2(messageConfig.offset)&&g.offset===16&&(g.offset=messageConfig.offset),isBoolean(messageConfig.showClose)&&!g.showClose&&(g.showClose=messageConfig.showClose),g},closeMessage=r=>{const n=instances$2.indexOf(r);if(n===-1)return;instances$2.splice(n,1);const{handler:g}=r;g.close()},createMessage=({appendTo:r,...n},g)=>{const y=`message_${seed$2++}`,$=n.onClose,L=document.createElement("div"),re={...n,id:y,onClose:()=>{$==null||$(),closeMessage(he)},onDestroy:()=>{render$4(null,L)}},ae=createVNode$1(MessageConstructor,re,isFunction$3(re.message)||isVNode(re.message)?{default:isFunction$3(re.message)?re.message:()=>re.message}:null);ae.appContext=g||message$2._context,render$4(ae,L),r.appendChild(L.firstElementChild);const le=ae.component,he={id:y,vnode:ae,vm:le,handler:{close:()=>{le.exposed.visible.value=!1}},props:ae.component.props};return he},message$2=(r={},n)=>{if(!isClient)return{close:()=>{}};const g=normalizeOptions(r);if(g.grouping&&instances$2.length){const $=instances$2.find(({vnode:L})=>{var re;return((re=L.props)==null?void 0:re.message)===g.message});if($)return $.props.repeatNum+=1,$.props.type=g.type,$.handler}if(isNumber$2(messageConfig.max)&&instances$2.length>=messageConfig.max)return{close:()=>{}};const y=createMessage(g,n);return instances$2.push(y),y.handler};messageTypes.forEach(r=>{message$2[r]=(n={},g)=>{const y=normalizeOptions(n);return message$2({...y,type:r},g)}});function closeAll$1(r){for(const n of instances$2)(!r||r===n.props.type)&&n.handler.close()}message$2.closeAll=closeAll$1;message$2._context=null;const ElMessage=withInstallFunction(message$2,"$message"),FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=r=>{if(FOCUS_STACK.length===0)return;const n=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(n.length>0&&r.code===EVENT_CODE.tab){if(n.length===1){r.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const g=r.shiftKey,y=r.target===n[0],$=r.target===n[n.length-1];y&&g&&(r.preventDefault(),n[n.length-1].focus()),$&&!g&&(r.preventDefault(),n[0].focus())}},TrapFocus={beforeMount(r){r[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(r),FOCUS_STACK.push(r),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(r){nextTick$1(()=>{r[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(r)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&document.removeEventListener("keydown",FOCUS_HANDLER)}},_sfc_main$1m=defineComponent({name:"ElMessageBox",directives:{TrapFocus},components:{ElButton,ElFocusTrap,ElInput,ElOverlay,ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(r,{emit:n}){const{locale:g,zIndex:y,ns:$,size:L}=useGlobalComponentSettings("message-box",computed(()=>r.buttonSize)),{t:re}=g,{nextZIndex:ae}=y,le=ref$1(!1),ue=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:markRaw(loading_default),cancelButtonLoadingIcon:markRaw(loading_default),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:ae()}),he=computed(()=>{const jt=ue.type;return{[$.bm("icon",jt)]:jt&&TypeComponentsMap[jt]}}),_e=useId(),Ce=useId(),$e=computed(()=>ue.icon||TypeComponentsMap[ue.type]||""),Oe=computed(()=>!!ue.message),xe=ref$1(),Ne=ref$1(),Ie=ref$1(),Fe=ref$1(),Ve=ref$1(),ze=computed(()=>ue.confirmButtonClass);watch$1(()=>ue.inputValue,async jt=>{await nextTick$1(),r.boxType==="prompt"&&jt!==null&&Lt()},{immediate:!0}),watch$1(()=>le.value,jt=>{var $n,Sn;jt&&(r.boxType!=="prompt"&&(ue.autofocus?Ie.value=(Sn=($n=Ve.value)==null?void 0:$n.$el)!=null?Sn:xe.value:Ie.value=xe.value),ue.zIndex=ae()),r.boxType==="prompt"&&(jt?nextTick$1().then(()=>{var bn;Fe.value&&Fe.value.$el&&(ue.autofocus?Ie.value=(bn=hn())!=null?bn:xe.value:Ie.value=xe.value)}):(ue.editorErrorMessage="",ue.validateError=!1))});const Ue=computed(()=>r.draggable),qe=computed(()=>r.overflow);useDraggable(xe,Ne,Ue,qe),onMounted(async()=>{await nextTick$1(),r.closeOnHashChange&&window.addEventListener("hashchange",kt)}),onBeforeUnmount(()=>{r.closeOnHashChange&&window.removeEventListener("hashchange",kt)});function kt(){le.value&&(le.value=!1,nextTick$1(()=>{ue.action&&n("action",ue.action)}))}const Et=()=>{r.closeOnClickModal&&Dt(ue.distinguishCancelAndClose?"close":"cancel")},Pt=useSameTarget(Et),At=jt=>{if(ue.inputType!=="textarea")return jt.preventDefault(),Dt("confirm")},Dt=jt=>{var $n;r.boxType==="prompt"&&jt==="confirm"&&!Lt()||(ue.action=jt,ue.beforeClose?($n=ue.beforeClose)==null||$n.call(ue,jt,ue,kt):kt())},Lt=()=>{if(r.boxType==="prompt"){const jt=ue.inputPattern;if(jt&&!jt.test(ue.inputValue||""))return ue.editorErrorMessage=ue.inputErrorMessage||re("el.messagebox.error"),ue.validateError=!0,!1;const $n=ue.inputValidator;if(isFunction$3($n)){const Sn=$n(ue.inputValue);if(Sn===!1)return ue.editorErrorMessage=ue.inputErrorMessage||re("el.messagebox.error"),ue.validateError=!0,!1;if(isString$3(Sn))return ue.editorErrorMessage=Sn,ue.validateError=!0,!1}}return ue.editorErrorMessage="",ue.validateError=!1,!0},hn=()=>{const jt=Fe.value.$refs;return jt.input||jt.textarea},_n=()=>{Dt("close")},vn=()=>{r.closeOnPressEscape&&_n()};return r.lockScroll&&useLockscreen(le),{...toRefs(ue),ns:$,overlayEvent:Pt,visible:le,hasMessage:Oe,typeClass:he,contentId:_e,inputId:Ce,btnSize:L,iconComponent:$e,confirmButtonClasses:ze,rootRef:xe,focusStartRef:Ie,headerRef:Ne,inputRef:Fe,confirmRef:Ve,doClose:kt,handleClose:_n,onCloseRequested:vn,handleWrapperClick:Et,handleInputEnter:At,handleAction:Dt,t:re}}});function _sfc_render$f(r,n,g,y,$,L){const re=resolveComponent("el-icon"),ae=resolveComponent("close"),le=resolveComponent("el-input"),ue=resolveComponent("el-button"),he=resolveComponent("el-focus-trap"),_e=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:Ce=>r.$emit("vanish"),persisted:""},{default:withCtx(()=>[withDirectives(createVNode$1(_e,{"z-index":r.zIndex,"overlay-class":[r.ns.is("message-box"),r.modalClass],mask:r.modal},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-label":r.title,"aria-modal":"true","aria-describedby":r.showInput?void 0:r.contentId,class:normalizeClass(`${r.ns.namespace.value}-overlay-message-box`),onClick:r.overlayEvent.onClick,onMousedown:r.overlayEvent.onMousedown,onMouseup:r.overlayEvent.onMouseup},[createVNode$1(he,{loop:"",trapped:r.visible,"focus-trap-el":r.rootRef,"focus-start-el":r.focusStartRef,onReleaseRequested:r.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([r.ns.b(),r.customClass,r.ns.is("draggable",r.draggable),{[r.ns.m("center")]:r.center}]),style:normalizeStyle$1(r.customStyle),tabindex:"-1",onClick:withModifiers(()=>{},["stop"])},[r.title!==null&&r.title!==void 0?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass([r.ns.e("header"),{"show-close":r.showClose}])},[createBaseVNode("div",{class:normalizeClass(r.ns.e("title"))},[r.iconComponent&&r.center?(openBlock(),createBlock(re,{key:0,class:normalizeClass([r.ns.e("status"),r.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString(r.title),1)],2),r.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(r.ns.e("headerbtn")),"aria-label":r.t("el.messagebox.close"),onClick:Ce=>r.handleAction(r.distinguishCancelAndClose?"close":"cancel"),onKeydown:withKeys(withModifiers(Ce=>r.handleAction(r.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[createVNode$1(re,{class:normalizeClass(r.ns.e("close"))},{default:withCtx(()=>[createVNode$1(ae)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:r.contentId,class:normalizeClass(r.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(r.ns.e("container"))},[r.iconComponent&&!r.center&&r.hasMessage?(openBlock(),createBlock(re,{key:0,class:normalizeClass([r.ns.e("status"),r.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),r.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.ns.e("message"))},[renderSlot(r.$slots,"default",{},()=>[r.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(r.showInput?"label":"p"),{key:1,for:r.showInput?r.inputId:void 0,innerHTML:r.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(r.showInput?"label":"p"),{key:0,for:r.showInput?r.inputId:void 0},{default:withCtx(()=>[createTextVNode(toDisplayString(r.dangerouslyUseHTMLString?"":r.message),1)]),_:1},8,["for"]))])],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(r.ns.e("input"))},[createVNode$1(le,{id:r.inputId,ref:"inputRef",modelValue:r.inputValue,"onUpdate:modelValue":Ce=>r.inputValue=Ce,type:r.inputType,placeholder:r.inputPlaceholder,"aria-invalid":r.validateError,class:normalizeClass({invalid:r.validateError}),onKeydown:withKeys(r.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(r.ns.e("errormsg")),style:normalizeStyle$1({visibility:r.editorErrorMessage?"visible":"hidden"})},toDisplayString(r.editorErrorMessage),7)],2),[[vShow,r.showInput]])],10,["id"]),createBaseVNode("div",{class:normalizeClass(r.ns.e("btns"))},[r.showCancelButton?(openBlock(),createBlock(ue,{key:0,loading:r.cancelButtonLoading,"loading-icon":r.cancelButtonLoadingIcon,class:normalizeClass([r.cancelButtonClass]),round:r.roundButton,size:r.btnSize,onClick:Ce=>r.handleAction("cancel"),onKeydown:withKeys(withModifiers(Ce=>r.handleAction("cancel"),["prevent"]),["enter"])},{default:withCtx(()=>[createTextVNode(toDisplayString(r.cancelButtonText||r.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):createCommentVNode("v-if",!0),withDirectives(createVNode$1(ue,{ref:"confirmRef",type:"primary",loading:r.confirmButtonLoading,"loading-icon":r.confirmButtonLoadingIcon,class:normalizeClass([r.confirmButtonClasses]),round:r.roundButton,disabled:r.confirmButtonDisabled,size:r.btnSize,onClick:Ce=>r.handleAction("confirm"),onKeydown:withKeys(withModifiers(Ce=>r.handleAction("confirm"),["prevent"]),["enter"])},{default:withCtx(()=>[createTextVNode(toDisplayString(r.confirmButtonText||r.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[vShow,r.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[vShow,r.visible]])]),_:3},8,["onAfterLeave"])}var MessageBoxConstructor=_export_sfc(_sfc_main$1m,[["render",_sfc_render$f],["__file","index.vue"]]);const messageInstance$1=new Map,getAppendToElement=r=>{let n=document.body;return r.appendTo&&(isString$3(r.appendTo)&&(n=document.querySelector(r.appendTo)),isElement$3(r.appendTo)&&(n=r.appendTo),isElement$3(n)||(n=document.body)),n},initInstance=(r,n,g=null)=>{const y=createVNode$1(MessageBoxConstructor,r,isFunction$3(r.message)||isVNode(r.message)?{default:isFunction$3(r.message)?r.message:()=>r.message}:null);return y.appContext=g,render$4(y,n),getAppendToElement(r).appendChild(n.firstElementChild),y.component},genContainer=()=>document.createElement("div"),showMessage=(r,n)=>{const g=genContainer();r.onVanish=()=>{render$4(null,g),messageInstance$1.delete($)},r.onAction=L=>{const re=messageInstance$1.get($);let ae;r.showInput?ae={value:$.inputValue,action:L}:ae=L,r.callback?r.callback(ae,y.proxy):L==="cancel"||L==="close"?r.distinguishCancelAndClose&&L!=="cancel"?re.reject("close"):re.reject("cancel"):re.resolve(ae)};const y=initInstance(r,g,n),$=y.proxy;for(const L in r)hasOwn$1(r,L)&&!hasOwn$1($.$props,L)&&($[L]=r[L]);return $.visible=!0,$};function MessageBox(r,n=null){if(!isClient)return Promise.reject();let g;return isString$3(r)||isVNode(r)?r={message:r}:g=r.callback,new Promise((y,$)=>{const L=showMessage(r,n??MessageBox._context);messageInstance$1.set(L,{options:r,callback:g,resolve:y,reject:$})})}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MESSAGE_BOX_VARIANTS.forEach(r=>{MessageBox[r]=messageBoxFactory(r)});function messageBoxFactory(r){return(n,g,y,$)=>{let L="";return isObject$7(g)?(y=g,L=""):isUndefined(g)?L="":L=g,MessageBox(Object.assign({title:L,message:n,type:"",...MESSAGE_BOX_DEFAULT_OPTS[r]},y,{boxType:r}),$)}}MessageBox.close=()=>{messageInstance$1.forEach((r,n)=>{n.doClose()}),messageInstance$1.clear()};MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=r=>{_MessageBox._context=r._context,r.config.globalProperties.$msgbox=_MessageBox,r.config.globalProperties.$messageBox=_MessageBox,r.config.globalProperties.$alert=_MessageBox.alert,r.config.globalProperties.$confirm=_MessageBox.confirm,r.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number}),notificationEmits={destroy:()=>!0},__default__=defineComponent({name:"ElNotification"}),_sfc_main$1l=defineComponent({...__default__,props:notificationProps,emits:notificationEmits,setup(r,{expose:n}){const g=r,{ns:y,zIndex:$}=useGlobalComponentSettings("notification"),{nextZIndex:L,currentZIndex:re}=$,{Close:ae}=CloseComponents,le=ref$1(!1);let ue;const he=computed(()=>{const Ve=g.type;return Ve&&TypeComponentsMap[g.type]?y.m(Ve):""}),_e=computed(()=>g.type&&TypeComponentsMap[g.type]||g.icon),Ce=computed(()=>g.position.endsWith("right")?"right":"left"),$e=computed(()=>g.position.startsWith("top")?"top":"bottom"),Oe=computed(()=>{var Ve;return{[$e.value]:`${g.offset}px`,zIndex:(Ve=g.zIndex)!=null?Ve:re.value}});function xe(){g.duration>0&&({stop:ue}=useTimeoutFn(()=>{le.value&&Ie()},g.duration))}function Ne(){ue==null||ue()}function Ie(){le.value=!1}function Fe({code:Ve}){Ve===EVENT_CODE.delete||Ve===EVENT_CODE.backspace?Ne():Ve===EVENT_CODE.esc?le.value&&Ie():xe()}return onMounted(()=>{xe(),L(),le.value=!0}),useEventListener(document,"keydown",Fe),n({visible:le,close:Ie}),(Ve,ze)=>(openBlock(),createBlock(Transition,{name:unref(y).b("fade"),onBeforeLeave:Ve.onClose,onAfterLeave:Ue=>Ve.$emit("destroy"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:Ve.id,class:normalizeClass([unref(y).b(),Ve.customClass,unref(Ce)]),style:normalizeStyle$1(unref(Oe)),role:"alert",onMouseenter:Ne,onMouseleave:xe,onClick:Ve.onClick},[unref(_e)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).e("icon"),unref(he)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(_e))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(y).e("title")),textContent:toDisplayString(Ve.title)},null,10,["textContent"]),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(y).e("content")),style:normalizeStyle$1(Ve.title?void 0:{margin:0})},[renderSlot(Ve.$slots,"default",{},()=>[Ve.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:Ve.message},null,8,["innerHTML"])],2112)):(openBlock(),createElementBlock("p",{key:0},toDisplayString(Ve.message),1))])],6),[[vShow,Ve.message]]),Ve.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("closeBtn")),onClick:withModifiers(Ie,["stop"])},{default:withCtx(()=>[createVNode$1(unref(ae))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,["id","onClick"]),[[vShow,le.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var NotificationConstructor=_export_sfc(_sfc_main$1l,[["__file","notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed$1=1;const notify=function(r={},n){if(!isClient)return{close:()=>{}};(isString$3(r)||isVNode(r))&&(r={message:r});const g=r.position||"top-right";let y=r.offset||0;notifications[g].forEach(({vm:he})=>{var _e;y+=(((_e=he.el)==null?void 0:_e.offsetHeight)||0)+GAP_SIZE}),y+=GAP_SIZE;const $=`notification_${seed$1++}`,L=r.onClose,re={...r,offset:y,id:$,onClose:()=>{close($,g,L)}};let ae=document.body;isElement$3(r.appendTo)?ae=r.appendTo:isString$3(r.appendTo)&&(ae=document.querySelector(r.appendTo)),isElement$3(ae)||(ae=document.body);const le=document.createElement("div"),ue=createVNode$1(NotificationConstructor,re,isFunction$3(re.message)?re.message:isVNode(re.message)?()=>re.message:null);return ue.appContext=isUndefined(n)?notify._context:n,ue.props.onDestroy=()=>{render$4(null,le)},render$4(ue,le),notifications[g].push({vm:ue}),ae.appendChild(le.firstElementChild),{close:()=>{ue.component.exposed.visible.value=!1}}};notificationTypes.forEach(r=>{notify[r]=(n={},g)=>((isString$3(n)||isVNode(n))&&(n={message:n}),notify({...n,type:r},g))});function close(r,n,g){const y=notifications[n],$=y.findIndex(({vm:ue})=>{var he;return((he=ue.component)==null?void 0:he.props.id)===r});if($===-1)return;const{vm:L}=y[$];if(!L)return;g==null||g(L);const re=L.el.offsetHeight,ae=n.split("-")[0];y.splice($,1);const le=y.length;if(!(le<1))for(let ue=$;ue<le;ue++){const{el:he,component:_e}=y[ue].vm,Ce=Number.parseInt(he.style[ae],10)-re-GAP_SIZE;_e.props.offset=Ce}}function closeAll(){for(const r of Object.values(notifications))r.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}notify.closeAll=closeAll;notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");var Plugins=[ElInfiniteScroll,ElLoading,ElMessage,ElMessageBox,ElNotification,ElPopoverDirective],installer=makeInstaller([...Components,...Plugins]);const matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(r,n,g,y="")=>{const $=r.split(":");if(r.slice(0,1)==="@"){if($.length<2||$.length>3)return null;y=$.shift().slice(1)}if($.length>3||!$.length)return null;if($.length>1){const ae=$.pop(),le=$.pop(),ue={provider:$.length>0?$[0]:y,prefix:le,name:ae};return n&&!validateIconName(ue)?null:ue}const L=$[0],re=L.split("-");if(re.length>1){const ae={provider:y,prefix:re.shift(),name:re.join("-")};return n&&!validateIconName(ae)?null:ae}if(g&&y===""){const ae={provider:y,prefix:"",name:L};return n&&!validateIconName(ae,g)?null:ae}return null},validateIconName=(r,n)=>r?!!((n&&r.prefix===""||r.prefix)&&r.name):!1,defaultIconDimensions$1=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations$1=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps$1=Object.freeze({...defaultIconDimensions$1,...defaultIconTransformations$1}),defaultExtendedIconProps=Object.freeze({...defaultIconProps$1,body:"",hidden:!1});function mergeIconTransformations(r,n){const g={};!r.hFlip!=!n.hFlip&&(g.hFlip=!0),!r.vFlip!=!n.vFlip&&(g.vFlip=!0);const y=((r.rotate||0)+(n.rotate||0))%4;return y&&(g.rotate=y),g}function mergeIconData(r,n){const g=mergeIconTransformations(r,n);for(const y in defaultExtendedIconProps)y in defaultIconTransformations$1?y in r&&!(y in g)&&(g[y]=defaultIconTransformations$1[y]):y in n?g[y]=n[y]:y in r&&(g[y]=r[y]);return g}function getIconsTree(r,n){const g=r.icons,y=r.aliases||Object.create(null),$=Object.create(null);function L(re){if(g[re])return $[re]=[];if(!(re in $)){$[re]=null;const ae=y[re]&&y[re].parent,le=ae&&L(ae);le&&($[re]=[ae].concat(le))}return $[re]}return Object.keys(g).concat(Object.keys(y)).forEach(L),$}function internalGetIconData(r,n,g){const y=r.icons,$=r.aliases||Object.create(null);let L={};function re(ae){L=mergeIconData(y[ae]||$[ae],L)}return re(n),g.forEach(re),mergeIconData(r,L)}function parseIconSet(r,n){const g=[];if(typeof r!="object"||typeof r.icons!="object")return g;r.not_found instanceof Array&&r.not_found.forEach($=>{n($,null),g.push($)});const y=getIconsTree(r);for(const $ in y){const L=y[$];L&&(n($,internalGetIconData(r,$,L)),g.push($))}return g}const optionalPropertyDefaults={provider:"",aliases:{},not_found:{},...defaultIconDimensions$1};function checkOptionalProps(r,n){for(const g in n)if(g in r&&typeof r[g]!=typeof n[g])return!1;return!0}function quicklyValidateIconSet(r){if(typeof r!="object"||r===null)return null;const n=r;if(typeof n.prefix!="string"||!r.icons||typeof r.icons!="object"||!checkOptionalProps(r,optionalPropertyDefaults))return null;const g=n.icons;for(const $ in g){const L=g[$];if(!$||typeof L.body!="string"||!checkOptionalProps(L,defaultExtendedIconProps))return null}const y=n.aliases||Object.create(null);for(const $ in y){const L=y[$],re=L.parent;if(!$||typeof re!="string"||!g[re]&&!y[re]||!checkOptionalProps(L,defaultExtendedIconProps))return null}return n}const dataStorage=Object.create(null);function newStorage(r,n){return{provider:r,prefix:n,icons:Object.create(null),missing:new Set}}function getStorage(r,n){const g=dataStorage[r]||(dataStorage[r]=Object.create(null));return g[n]||(g[n]=newStorage(r,n))}function addIconSet(r,n){return quicklyValidateIconSet(n)?parseIconSet(n,(g,y)=>{y?r.icons[g]=y:r.missing.add(g)}):[]}function addIconToStorage(r,n,g){try{if(typeof g.body=="string")return r.icons[n]={...g},!0}catch{}return!1}let simpleNames=!1;function allowSimpleNames(r){return typeof r=="boolean"&&(simpleNames=r),simpleNames}function getIconData(r){const n=typeof r=="string"?stringToIcon(r,!0,simpleNames):r;if(n){const g=getStorage(n.provider,n.prefix),y=n.name;return g.icons[y]||(g.missing.has(y)?null:void 0)}}function addIcon(r,n){const g=stringToIcon(r,!0,simpleNames);if(!g)return!1;const y=getStorage(g.provider,g.prefix);return n?addIconToStorage(y,g.name,n):(y.missing.add(g.name),!0)}function addCollection(r,n){if(typeof r!="object")return!1;if(typeof n!="string"&&(n=r.provider||""),simpleNames&&!n&&!r.prefix){let $=!1;return quicklyValidateIconSet(r)&&(r.prefix="",parseIconSet(r,(L,re)=>{addIcon(L,re)&&($=!0)})),$}const g=r.prefix;if(!validateIconName({provider:n,prefix:g,name:"a"}))return!1;const y=getStorage(n,g);return!!addIconSet(y,r)}const defaultIconSizeCustomisations$1=Object.freeze({width:null,height:null}),defaultIconCustomisations$1=Object.freeze({...defaultIconSizeCustomisations$1,...defaultIconTransformations$1}),unitsSplit$1=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest$1=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize$1(r,n,g){if(n===1)return r;if(g=g||100,typeof r=="number")return Math.ceil(r*n*g)/g;if(typeof r!="string")return r;const y=r.split(unitsSplit$1);if(y===null||!y.length)return r;const $=[];let L=y.shift(),re=unitsTest$1.test(L);for(;;){if(re){const ae=parseFloat(L);isNaN(ae)?$.push(L):$.push(Math.ceil(ae*n*g)/g)}else $.push(L);if(L=y.shift(),L===void 0)return $.join("");re=!re}}function splitSVGDefs$1(r,n="defs"){let g="";const y=r.indexOf("<"+n);for(;y>=0;){const $=r.indexOf(">",y),L=r.indexOf("</"+n);if($===-1||L===-1)break;const re=r.indexOf(">",L);if(re===-1)break;g+=r.slice($+1,L).trim(),r=r.slice(0,y).trim()+r.slice(re+1)}return{defs:g,content:r}}function mergeDefsAndContent$1(r,n){return r?"<defs>"+r+"</defs>"+n:n}function wrapSVGContent$1(r,n,g){const y=splitSVGDefs$1(r);return mergeDefsAndContent$1(y.defs,n+y.content+g)}const isUnsetKeyword$1=r=>r==="unset"||r==="undefined"||r==="none";function iconToSVG$1(r,n){const g={...defaultIconProps$1,...r},y={...defaultIconCustomisations$1,...n},$={left:g.left,top:g.top,width:g.width,height:g.height};let L=g.body;[g,y].forEach(xe=>{const Ne=[],Ie=xe.hFlip,Fe=xe.vFlip;let Ve=xe.rotate;Ie?Fe?Ve+=2:(Ne.push("translate("+($.width+$.left).toString()+" "+(0-$.top).toString()+")"),Ne.push("scale(-1 1)"),$.top=$.left=0):Fe&&(Ne.push("translate("+(0-$.left).toString()+" "+($.height+$.top).toString()+")"),Ne.push("scale(1 -1)"),$.top=$.left=0);let ze;switch(Ve<0&&(Ve-=Math.floor(Ve/4)*4),Ve=Ve%4,Ve){case 1:ze=$.height/2+$.top,Ne.unshift("rotate(90 "+ze.toString()+" "+ze.toString()+")");break;case 2:Ne.unshift("rotate(180 "+($.width/2+$.left).toString()+" "+($.height/2+$.top).toString()+")");break;case 3:ze=$.width/2+$.left,Ne.unshift("rotate(-90 "+ze.toString()+" "+ze.toString()+")");break}Ve%2===1&&($.left!==$.top&&(ze=$.left,$.left=$.top,$.top=ze),$.width!==$.height&&(ze=$.width,$.width=$.height,$.height=ze)),Ne.length&&(L=wrapSVGContent$1(L,'<g transform="'+Ne.join(" ")+'">',"</g>"))});const re=y.width,ae=y.height,le=$.width,ue=$.height;let he,_e;re===null?(_e=ae===null?"1em":ae==="auto"?ue:ae,he=calculateSize$1(_e,le/ue)):(he=re==="auto"?le:re,_e=ae===null?calculateSize$1(he,ue/le):ae==="auto"?ue:ae);const Ce={},$e=(xe,Ne)=>{isUnsetKeyword$1(Ne)||(Ce[xe]=Ne.toString())};$e("width",he),$e("height",_e);const Oe=[$.left,$.top,le,ue];return Ce.viewBox=Oe.join(" "),{attributes:Ce,viewBox:Oe,body:L}}const regex$1=/\sid="(\S+)"/g,randomPrefix$1="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter$1=0;function replaceIDs$1(r,n=randomPrefix$1){const g=[];let y;for(;y=regex$1.exec(r);)g.push(y[1]);if(!g.length)return r;const $="suffix"+(Math.random()*16777216|Date.now()).toString(16);return g.forEach(L=>{const re=typeof n=="function"?n(L):n+(counter$1++).toString(),ae=L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=r.replace(new RegExp('([#;"])('+ae+')([")]|\\.[a-z])',"g"),"$1"+re+$+"$3")}),r=r.replace(new RegExp($,"g"),""),r}const storage$2=Object.create(null);function setAPIModule(r,n){storage$2[r]=n}function getAPIModule(r){return storage$2[r]||storage$2[""]}function createAPIConfig(r){let n;if(typeof r.resources=="string")n=[r.resources];else if(n=r.resources,!(n instanceof Array)||!n.length)return null;return{resources:n,path:r.path||"/",maxURL:r.maxURL||500,rotate:r.rotate||750,timeout:r.timeout||5e3,random:r.random===!0,index:r.index||0,dataAfterTimeout:r.dataAfterTimeout!==!1}}const configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(r,n){const g=createAPIConfig(n);return g===null?!1:(configStorage[r]=g,!0)}function getAPIConfig(r){return configStorage[r]}const detectFetch=()=>{let r;try{if(r=fetch,typeof r=="function")return r}catch{}};let fetchModule=detectFetch();function calculateMaxLength(r,n){const g=getAPIConfig(r);if(!g)return 0;let y;if(!g.maxURL)y=0;else{let $=0;g.resources.forEach(re=>{$=Math.max($,re.length)});const L=n+".json?icons=";y=g.maxURL-$-g.path.length-L.length}return y}function shouldAbort(r){return r===404}const prepare$1=(r,n,g)=>{const y=[],$=calculateMaxLength(r,n),L="icons";let re={type:L,provider:r,prefix:n,icons:[]},ae=0;return g.forEach((le,ue)=>{ae+=le.length+1,ae>=$&&ue>0&&(y.push(re),re={type:L,provider:r,prefix:n,icons:[]},ae=le.length),re.icons.push(le)}),y.push(re),y};function getPath(r){if(typeof r=="string"){const n=getAPIConfig(r);if(n)return n.path}return"/"}const send=(r,n,g)=>{if(!fetchModule){g("abort",424);return}let y=getPath(n.provider);switch(n.type){case"icons":{const L=n.prefix,ae=n.icons.join(","),le=new URLSearchParams({icons:ae});y+=L+".json?"+le.toString();break}case"custom":{const L=n.uri;y+=L.slice(0,1)==="/"?L.slice(1):L;break}default:g("abort",400);return}let $=503;fetchModule(r+y).then(L=>{const re=L.status;if(re!==200){setTimeout(()=>{g(shouldAbort(re)?"abort":"next",re)});return}return $=501,L.json()}).then(L=>{if(typeof L!="object"||L===null){setTimeout(()=>{L===404?g("abort",L):g("next",$)});return}setTimeout(()=>{g("success",L)})}).catch(()=>{g("next",$)})},fetchAPIModule={prepare:prepare$1,send};function sortIcons(r){const n={loaded:[],missing:[],pending:[]},g=Object.create(null);r.sort(($,L)=>$.provider!==L.provider?$.provider.localeCompare(L.provider):$.prefix!==L.prefix?$.prefix.localeCompare(L.prefix):$.name.localeCompare(L.name));let y={provider:"",prefix:"",name:""};return r.forEach($=>{if(y.name===$.name&&y.prefix===$.prefix&&y.provider===$.provider)return;y=$;const L=$.provider,re=$.prefix,ae=$.name,le=g[L]||(g[L]=Object.create(null)),ue=le[re]||(le[re]=getStorage(L,re));let he;ae in ue.icons?he=n.loaded:re===""||ue.missing.has(ae)?he=n.missing:he=n.pending;const _e={provider:L,prefix:re,name:ae};he.push(_e)}),n}function removeCallback(r,n){r.forEach(g=>{const y=g.loaderCallbacks;y&&(g.loaderCallbacks=y.filter($=>$.id!==n))})}function updateCallbacks(r){r.pendingCallbacksFlag||(r.pendingCallbacksFlag=!0,setTimeout(()=>{r.pendingCallbacksFlag=!1;const n=r.loaderCallbacks?r.loaderCallbacks.slice(0):[];if(!n.length)return;let g=!1;const y=r.provider,$=r.prefix;n.forEach(L=>{const re=L.icons,ae=re.pending.length;re.pending=re.pending.filter(le=>{if(le.prefix!==$)return!0;const ue=le.name;if(r.icons[ue])re.loaded.push({provider:y,prefix:$,name:ue});else if(r.missing.has(ue))re.missing.push({provider:y,prefix:$,name:ue});else return g=!0,!0;return!1}),re.pending.length!==ae&&(g||removeCallback([r],L.id),L.callback(re.loaded.slice(0),re.missing.slice(0),re.pending.slice(0),L.abort))})}))}let idCounter$1=0;function storeCallback(r,n,g){const y=idCounter$1++,$=removeCallback.bind(null,g,y);if(!n.pending.length)return $;const L={id:y,icons:n,callback:r,abort:$};return g.forEach(re=>{(re.loaderCallbacks||(re.loaderCallbacks=[])).push(L)}),$}function listToIcons(r,n=!0,g=!1){const y=[];return r.forEach($=>{const L=typeof $=="string"?stringToIcon($,n,g):$;L&&y.push(L)}),y}var defaultConfig$1={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(r,n,g,y){const $=r.resources.length,L=r.random?Math.floor(Math.random()*$):r.index;let re;if(r.random){let qe=r.resources.slice(0);for(re=[];qe.length>1;){const kt=Math.floor(Math.random()*qe.length);re.push(qe[kt]),qe=qe.slice(0,kt).concat(qe.slice(kt+1))}re=re.concat(qe)}else re=r.resources.slice(L).concat(r.resources.slice(0,L));const ae=Date.now();let le="pending",ue=0,he,_e=null,Ce=[],$e=[];typeof y=="function"&&$e.push(y);function Oe(){_e&&(clearTimeout(_e),_e=null)}function xe(){le==="pending"&&(le="aborted"),Oe(),Ce.forEach(qe=>{qe.status==="pending"&&(qe.status="aborted")}),Ce=[]}function Ne(qe,kt){kt&&($e=[]),typeof qe=="function"&&$e.push(qe)}function Ie(){return{startTime:ae,payload:n,status:le,queriesSent:ue,queriesPending:Ce.length,subscribe:Ne,abort:xe}}function Fe(){le="failed",$e.forEach(qe=>{qe(void 0,he)})}function Ve(){Ce.forEach(qe=>{qe.status==="pending"&&(qe.status="aborted")}),Ce=[]}function ze(qe,kt,Et){const Pt=kt!=="success";switch(Ce=Ce.filter(At=>At!==qe),le){case"pending":break;case"failed":if(Pt||!r.dataAfterTimeout)return;break;default:return}if(kt==="abort"){he=Et,Fe();return}if(Pt){he=Et,Ce.length||(re.length?Ue():Fe());return}if(Oe(),Ve(),!r.random){const At=r.resources.indexOf(qe.resource);At!==-1&&At!==r.index&&(r.index=At)}le="completed",$e.forEach(At=>{At(Et)})}function Ue(){if(le!=="pending")return;Oe();const qe=re.shift();if(qe===void 0){if(Ce.length){_e=setTimeout(()=>{Oe(),le==="pending"&&(Ve(),Fe())},r.timeout);return}Fe();return}const kt={status:"pending",resource:qe,callback:(Et,Pt)=>{ze(kt,Et,Pt)}};Ce.push(kt),ue++,_e=setTimeout(Ue,r.rotate),g(qe,n,kt.callback)}return setTimeout(Ue),Ie}function initRedundancy(r){const n={...defaultConfig$1,...r};let g=[];function y(){g=g.filter(ae=>ae().status==="pending")}function $(ae,le,ue){const he=sendQuery(n,ae,le,(_e,Ce)=>{y(),ue&&ue(_e,Ce)});return g.push(he),he}function L(ae){return g.find(le=>ae(le))||null}return{query:$,find:L,setIndex:ae=>{n.index=ae},getIndex:()=>n.index,cleanup:y}}function emptyCallback$1(){}const redundancyCache=Object.create(null);function getRedundancyCache(r){if(!redundancyCache[r]){const n=getAPIConfig(r);if(!n)return;const g=initRedundancy(n),y={config:n,redundancy:g};redundancyCache[r]=y}return redundancyCache[r]}function sendAPIQuery(r,n,g){let y,$;if(typeof r=="string"){const L=getAPIModule(r);if(!L)return g(void 0,424),emptyCallback$1;$=L.send;const re=getRedundancyCache(r);re&&(y=re.redundancy)}else{const L=createAPIConfig(r);if(L){y=initRedundancy(L);const re=r.resources?r.resources[0]:"",ae=getAPIModule(re);ae&&($=ae.send)}}return!y||!$?(g(void 0,424),emptyCallback$1):y.query(n,$,g)().abort}function emptyCallback(){}function loadedNewIcons(r){r.iconsLoaderFlag||(r.iconsLoaderFlag=!0,setTimeout(()=>{r.iconsLoaderFlag=!1,updateCallbacks(r)}))}function checkIconNamesForAPI(r){const n=[],g=[];return r.forEach(y=>{(y.match(matchIconName)?n:g).push(y)}),{valid:n,invalid:g}}function parseLoaderResponse(r,n,g){function y(){const $=r.pendingIcons;n.forEach(L=>{$&&$.delete(L),r.icons[L]||r.missing.add(L)})}if(g&&typeof g=="object")try{if(!addIconSet(r,g).length){y();return}}catch($){console.error($)}y(),loadedNewIcons(r)}function parsePossiblyAsyncResponse(r,n){r instanceof Promise?r.then(g=>{n(g)}).catch(()=>{n(null)}):n(r)}function loadNewIcons(r,n){r.iconsToLoad?r.iconsToLoad=r.iconsToLoad.concat(n).sort():r.iconsToLoad=n,r.iconsQueueFlag||(r.iconsQueueFlag=!0,setTimeout(()=>{r.iconsQueueFlag=!1;const{provider:g,prefix:y}=r,$=r.iconsToLoad;if(delete r.iconsToLoad,!$||!$.length)return;const L=r.loadIcon;if(r.loadIcons&&($.length>1||!L)){parsePossiblyAsyncResponse(r.loadIcons($,y,g),he=>{parseLoaderResponse(r,$,he)});return}if(L){$.forEach(he=>{const _e=L(he,y,g);parsePossiblyAsyncResponse(_e,Ce=>{const $e=Ce?{prefix:y,icons:{[he]:Ce}}:null;parseLoaderResponse(r,[he],$e)})});return}const{valid:re,invalid:ae}=checkIconNamesForAPI($);if(ae.length&&parseLoaderResponse(r,ae,null),!re.length)return;const le=y.match(matchIconName)?getAPIModule(g):null;if(!le){parseLoaderResponse(r,re,null);return}le.prepare(g,y,re).forEach(he=>{sendAPIQuery(g,he,_e=>{parseLoaderResponse(r,he.icons,_e)})})}))}const loadIcons=(r,n)=>{const g=listToIcons(r,!0,allowSimpleNames()),y=sortIcons(g);if(!y.pending.length){let le=!0;return n&&setTimeout(()=>{le&&n(y.loaded,y.missing,y.pending,emptyCallback)}),()=>{le=!1}}const $=Object.create(null),L=[];let re,ae;return y.pending.forEach(le=>{const{provider:ue,prefix:he}=le;if(he===ae&&ue===re)return;re=ue,ae=he,L.push(getStorage(ue,he));const _e=$[ue]||($[ue]=Object.create(null));_e[he]||(_e[he]=[])}),y.pending.forEach(le=>{const{provider:ue,prefix:he,name:_e}=le,Ce=getStorage(ue,he),$e=Ce.pendingIcons||(Ce.pendingIcons=new Set);$e.has(_e)||($e.add(_e),$[ue][he].push(_e))}),L.forEach(le=>{const ue=$[le.provider][le.prefix];ue.length&&loadNewIcons(le,ue)}),n?storeCallback(n,y,L):emptyCallback};function mergeCustomisations$1(r,n){const g={...r};for(const y in n){const $=n[y],L=typeof $;y in defaultIconSizeCustomisations$1?($===null||$&&(L==="string"||L==="number"))&&(g[y]=$):L===typeof g[y]&&(g[y]=y==="rotate"?$%4:$)}return g}const separator$1=/[\s,]+/;function flipFromString$1(r,n){n.split(separator$1).forEach(g=>{switch(g.trim()){case"horizontal":r.hFlip=!0;break;case"vertical":r.vFlip=!0;break}})}function rotateFromString$1(r,n=0){const g=r.replace(/^-?[0-9.]*/,"");function y($){for(;$<0;)$+=4;return $%4}if(g===""){const $=parseInt(r);return isNaN($)?0:y($)}else if(g!==r){let $=0;switch(g){case"%":$=25;break;case"deg":$=90}if($){let L=parseFloat(r.slice(0,r.length-g.length));return isNaN(L)?0:(L=L/$,L%1===0?y(L):0)}}return n}function iconToHTML$1(r,n){let g=r.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const y in n)g+=" "+y+'="'+n[y]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+g+">"+r+"</svg>"}function encodeSVGforURL$1(r){return r.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData$1(r){return"data:image/svg+xml,"+encodeSVGforURL$1(r)}function svgToURL$1(r){return'url("'+svgToData$1(r)+'")'}const defaultExtendedIconCustomisations$1={...defaultIconCustomisations$1,inline:!1},svgDefaults$1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps$1={display:"inline-block"},monotoneProps$1={backgroundColor:"currentColor"},coloredProps$1={backgroundColor:"transparent"},propsToAdd$1={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo$1={webkitMask:monotoneProps$1,mask:monotoneProps$1,background:coloredProps$1};for(const r in propsToAddTo$1){const n=propsToAddTo$1[r];for(const g in propsToAdd$1)n[r+g]=propsToAdd$1[g]}const customisationAliases$1={};["horizontal","vertical"].forEach(r=>{const n=r.slice(0,1)+"Flip";customisationAliases$1[r+"-flip"]=n,customisationAliases$1[r.slice(0,1)+"-flip"]=n,customisationAliases$1[r+"Flip"]=n});function fixSize$1(r){return r+(r.match(/^[-0-9.]+$/)?"px":"")}const render$3=(r,n)=>{const g=mergeCustomisations$1(defaultExtendedIconCustomisations$1,n),y={...svgDefaults$1},$=n.mode||"svg",L={},re=n.style,ae=typeof re=="object"&&!(re instanceof Array)?re:{};for(let xe in n){const Ne=n[xe];if(Ne!==void 0)switch(xe){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":g[xe]=Ne===!0||Ne==="true"||Ne===1;break;case"flip":typeof Ne=="string"&&flipFromString$1(g,Ne);break;case"color":L.color=Ne;break;case"rotate":typeof Ne=="string"?g[xe]=rotateFromString$1(Ne):typeof Ne=="number"&&(g[xe]=Ne);break;case"ariaHidden":case"aria-hidden":Ne!==!0&&Ne!=="true"&&delete y["aria-hidden"];break;default:{const Ie=customisationAliases$1[xe];Ie?(Ne===!0||Ne==="true"||Ne===1)&&(g[Ie]=!0):defaultExtendedIconCustomisations$1[xe]===void 0&&(y[xe]=Ne)}}}const le=iconToSVG$1(r,g),ue=le.attributes;if(g.inline&&(L.verticalAlign="-0.125em"),$==="svg"){y.style={...L,...ae},Object.assign(y,ue);let xe=0,Ne=n.id;return typeof Ne=="string"&&(Ne=Ne.replace(/-/g,"_")),y.innerHTML=replaceIDs$1(le.body,Ne?()=>Ne+"ID"+xe++:"iconifyVue"),h$1("svg",y)}const{body:he,width:_e,height:Ce}=r,$e=$==="mask"||($==="bg"?!1:he.indexOf("currentColor")!==-1),Oe=iconToHTML$1(he,{...ue,width:_e+"",height:Ce+""});return y.style={...L,"--svg":svgToURL$1(Oe),width:fixSize$1(ue.width),height:fixSize$1(ue.height),...commonProps$1,...$e?monotoneProps$1:coloredProps$1,...ae},h$1("span",y)};allowSimpleNames(!0);setAPIModule("",fetchAPIModule);if(typeof document<"u"&&typeof window<"u"){const r=window;if(r.IconifyPreload!==void 0){const n=r.IconifyPreload,g="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(y=>{try{(typeof y!="object"||y===null||y instanceof Array||typeof y.icons!="object"||typeof y.prefix!="string"||!addCollection(y))&&console.error(g)}catch{console.error(g)}})}if(r.IconifyProviders!==void 0){const n=r.IconifyProviders;if(typeof n=="object"&&n!==null)for(let g in n){const y="IconifyProviders["+g+"] is invalid.";try{const $=n[g];if(typeof $!="object"||!$||$.resources===void 0)continue;addAPIProvider(g,$)||console.error(y)}catch{console.error(y)}}}}const emptyIcon={...defaultIconProps$1,body:""},Icon$1=defineComponent({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(r,n,g){if(typeof r=="object"&&r!==null&&typeof r.body=="string")return this._name="",this.abortLoading(),{data:r};let y;if(typeof r!="string"||(y=stringToIcon(r,!1,!0))===null)return this.abortLoading(),null;let $=getIconData(y);if(!$)return(!this._loadingIcon||this._loadingIcon.name!==r)&&(this.abortLoading(),this._name="",$!==null&&(this._loadingIcon={name:r,abort:loadIcons([y],()=>{this.counter++})})),null;if(this.abortLoading(),this._name!==r&&(this._name=r,n&&n(r)),g){$=Object.assign({},$);const re=g($.body,y.name,y.prefix,y.provider);typeof re=="string"&&($.body=re)}const L=["iconify"];return y.prefix!==""&&L.push("iconify--"+y.prefix),y.provider!==""&&L.push("iconify--"+y.provider),{data:$,classes:L}}},render(){this.counter;const r=this.$attrs,n=this.iconMounted||r.ssr?this.getIcon(r.icon,r.onLoad,r.customise):null;if(!n)return render$3(emptyIcon,r);let g=r;return n.classes&&(g={...r,class:(typeof r.class=="string"?r.class+" ":"")+n.classes.join(" ")}),render$3({...defaultIconProps$1,...n.data},g)}}),AjmerIconifyIconOnline=defineComponent({name:"AjmerIconifyIconOnline",components:{IconifyIcon:Icon$1},props:{icon:{type:String,default:""}},render(){const r=this.$attrs;return h$1(Icon$1,{icon:this.icon,style:r!=null&&r.style?Object.assign(r.style,{outline:"none"}):{outline:"none"},...r},{default:()=>[]})}});AjmerIconifyIconOnline.install=r=>{r.component(AjmerIconifyIconOnline.name,AjmerIconifyIconOnline)};const _sfc_main$1k=defineComponent({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(r){return(n,g)=>(openBlock(),createElementBlock("span",{class:normalizeClass(["VPBadge",n.type])},[renderSlot(n.$slots,"default",{},()=>[createTextVNode(toDisplayString(n.text),1)])],2))}}),_hoisted_1$$={key:0,class:"VPBackdrop"},_sfc_main$1j=defineComponent({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(r){return(n,g)=>(openBlock(),createBlock(Transition,{name:"fade"},{default:withCtx(()=>[n.show?(openBlock(),createElementBlock("div",_hoisted_1$$)):createCommentVNode("",!0)]),_:1}))}}),VPBackdrop=_export_sfc$1(_sfc_main$1j,[["__scopeId","data-v-c79a1216"]]),useData=useData$2;function throttleAndDebounce(r,n){let g,y=!1;return()=>{g&&clearTimeout(g),y?g=setTimeout(r,n):(r(),(y=!0)&&setTimeout(()=>y=!1,n))}}function ensureStartingSlash(r){return/^\//.test(r)?r:`/${r}`}function normalizeLink$1(r){const{pathname:n,search:g,hash:y,protocol:$}=new URL(r,"http://a.com");if(isExternal(r)||r.startsWith("#")||!$.startsWith("http")||!treatAsHtml(n))return r;const{site:L}=useData(),re=n.endsWith("/")||n.endsWith(".html")?r:r.replace(/(?:(^\.+)\/)?.*$/,`$1${n.replace(/(\.md)?$/,L.value.cleanUrls?"":".html")}${g}${y}`);return withBase(re)}function useLangs({correspondingLink:r=!1}={}){const{site:n,localeIndex:g,page:y,theme:$,hash:L}=useData(),re=computed(()=>{var le,ue;return{label:(le=n.value.locales[g.value])==null?void 0:le.label,link:((ue=n.value.locales[g.value])==null?void 0:ue.link)||(g.value==="root"?"/":`/${g.value}/`)}});return{localeLinks:computed(()=>Object.entries(n.value.locales).flatMap(([le,ue])=>re.value.label===ue.label?[]:{text:ue.label,link:normalizeLink(ue.link||(le==="root"?"/":`/${le}/`),$.value.i18nRouting!==!1&&r,y.value.relativePath.slice(re.value.link.length-1),!n.value.cleanUrls)+L.value})),currentLang:re}}function normalizeLink(r,n,g,y){return n?r.replace(/\/$/,"")+ensureStartingSlash(g.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,y?".html":"")):r}const _hoisted_1$_={class:"NotFound"},_hoisted_2$u={class:"code"},_hoisted_3$l={class:"title"},_hoisted_4$d={class:"quote"},_hoisted_5$a={class:"action"},_hoisted_6$6=["href","aria-label"],_sfc_main$1i=defineComponent({__name:"NotFound",setup(r){const{theme:n}=useData(),{currentLang:g}=useLangs();return(y,$)=>{var L,re,ae,le,ue;return openBlock(),createElementBlock("div",_hoisted_1$_,[createBaseVNode("p",_hoisted_2$u,toDisplayString(((L=unref(n).notFound)==null?void 0:L.code)??"404"),1),createBaseVNode("h1",_hoisted_3$l,toDisplayString(((re=unref(n).notFound)==null?void 0:re.title)??"PAGE NOT FOUND"),1),$[0]||($[0]=createBaseVNode("div",{class:"divider"},null,-1)),createBaseVNode("blockquote",_hoisted_4$d,toDisplayString(((ae=unref(n).notFound)==null?void 0:ae.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("a",{class:"link",href:unref(withBase)(unref(g).link),"aria-label":((le=unref(n).notFound)==null?void 0:le.linkLabel)??"go to home"},toDisplayString(((ue=unref(n).notFound)==null?void 0:ue.linkText)??"Take me home"),9,_hoisted_6$6)])])}}}),NotFound=_export_sfc$1(_sfc_main$1i,[["__scopeId","data-v-d6be1790"]]);function getSidebar(r,n){if(Array.isArray(r))return addBase(r);if(r==null)return[];n=ensureStartingSlash(n);const g=Object.keys(r).sort(($,L)=>L.split("/").length-$.split("/").length).find($=>n.startsWith(ensureStartingSlash($))),y=g?r[g]:[];return Array.isArray(y)?addBase(y):addBase(y.items,y.base)}function getSidebarGroups(r){const n=[];let g=0;for(const y in r){const $=r[y];if($.items){g=n.push($);continue}n[g]||n.push({items:[]}),n[g].items.push($)}return n}function getFlatSideBarLinks(r){const n=[];function g(y){for(const $ of y)$.text&&$.link&&n.push({text:$.text,link:$.link,docFooterText:$.docFooterText}),$.items&&g($.items)}return g(r),n}function hasActiveLink(r,n){return Array.isArray(n)?n.some(g=>hasActiveLink(r,g)):isActive(r,n.link)?!0:n.items?hasActiveLink(r,n.items):!1}function addBase(r,n){return[...r].map(g=>{const y={...g},$=y.base||n;return $&&y.link&&(y.link=$+y.link),y.items&&(y.items=addBase(y.items,$)),y})}function useSidebar(){const{frontmatter:r,page:n,theme:g}=useData(),y=useMediaQuery("(min-width: 960px)"),$=ref$1(!1),L=computed(()=>{const xe=g.value.sidebar,Ne=n.value.relativePath;return xe?getSidebar(xe,Ne):[]}),re=ref$1(L.value);watch$1(L,(xe,Ne)=>{JSON.stringify(xe)!==JSON.stringify(Ne)&&(re.value=L.value)});const ae=computed(()=>r.value.sidebar!==!1&&re.value.length>0&&r.value.layout!=="home"),le=computed(()=>ue?r.value.aside==null?g.value.aside==="left":r.value.aside==="left":!1),ue=computed(()=>r.value.layout==="home"?!1:r.value.aside!=null?!!r.value.aside:g.value.aside!==!1),he=computed(()=>ae.value&&y.value),_e=computed(()=>ae.value?getSidebarGroups(re.value):[]);function Ce(){$.value=!0}function $e(){$.value=!1}function Oe(){$.value?$e():Ce()}return{isOpen:$,sidebar:re,sidebarGroups:_e,hasSidebar:ae,hasAside:ue,leftAside:le,isSidebarEnabled:he,open:Ce,close:$e,toggle:Oe}}function useCloseSidebarOnEscape(r,n){let g;watchEffect(()=>{g=r.value?document.activeElement:void 0}),onMounted(()=>{window.addEventListener("keyup",y)}),onUnmounted(()=>{window.removeEventListener("keyup",y)});function y($){$.key==="Escape"&&r.value&&(n(),g==null||g.focus())}}function useSidebarControl(r){const{page:n,hash:g}=useData(),y=ref$1(!1),$=computed(()=>r.value.collapsed!=null),L=computed(()=>!!r.value.link),re=ref$1(!1),ae=()=>{re.value=isActive(n.value.relativePath,r.value.link)};watch$1([n,r,g],ae),onMounted(ae);const le=computed(()=>re.value?!0:r.value.items?hasActiveLink(n.value.relativePath,r.value.items):!1),ue=computed(()=>!!(r.value.items&&r.value.items.length));watchEffect(()=>{y.value=!!($.value&&r.value.collapsed)}),watchPostEffect(()=>{(re.value||le.value)&&(y.value=!1)});function he(){$.value&&(y.value=!y.value)}return{collapsed:y,collapsible:$,isLink:L,isActiveLink:re,hasActiveLink:le,hasChildren:ue,toggle:he}}function useAside(){const{hasSidebar:r}=useSidebar(),n=useMediaQuery("(min-width: 960px)"),g=useMediaQuery("(min-width: 1280px)");return{isAsideEnabled:computed(()=>!g.value&&!n.value?!1:r.value?g.value:n.value)}}const resolvedHeaders=[];function resolveTitle(r){return typeof r.outline=="object"&&!Array.isArray(r.outline)&&r.outline.label||r.outlineTitle||"On this page"}function getHeaders(r){const n=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(g=>g.id&&g.hasChildNodes()).map(g=>{const y=Number(g.tagName[1]);return{element:g,title:serializeHeader(g),link:"#"+g.id,level:y}});return resolveHeaders(n,r)}function serializeHeader(r){let n="";for(const g of r.childNodes)if(g.nodeType===1){if(g.classList.contains("VPBadge")||g.classList.contains("header-anchor")||g.classList.contains("ignore-header"))continue;n+=g.textContent}else g.nodeType===3&&(n+=g.textContent);return n.trim()}function resolveHeaders(r,n){if(n===!1)return[];const g=(typeof n=="object"&&!Array.isArray(n)?n.level:n)||2,[y,$]=typeof g=="number"?[g,g]:g==="deep"?[2,6]:g;return buildTree$3(r,y,$)}function useActiveAnchor(r,n){const{isAsideEnabled:g}=useAside(),y=throttleAndDebounce(L,100);let $=null;onMounted(()=>{requestAnimationFrame(L),window.addEventListener("scroll",y)}),onUpdated(()=>{re(location.hash)}),onUnmounted(()=>{window.removeEventListener("scroll",y)});function L(){if(!g.value)return;const ae=window.scrollY,le=window.innerHeight,ue=document.body.offsetHeight,he=Math.abs(ae+le-ue)<1,_e=resolvedHeaders.map(({element:$e,link:Oe})=>({link:Oe,top:getAbsoluteTop($e)})).filter(({top:$e})=>!Number.isNaN($e)).sort(($e,Oe)=>$e.top-Oe.top);if(!_e.length){re(null);return}if(ae<1){re(null);return}if(he){re(_e[_e.length-1].link);return}let Ce=null;for(const{link:$e,top:Oe}of _e){if(Oe>ae+getScrollOffset()+4)break;Ce=$e}re(Ce)}function re(ae){$&&$.classList.remove("active"),ae==null?$=null:$=r.value.querySelector(`a[href="${decodeURIComponent(ae)}"]`);const le=$;le?(le.classList.add("active"),n.value.style.top=le.offsetTop+39+"px",n.value.style.opacity="1"):(n.value.style.top="33px",n.value.style.opacity="0")}}function getAbsoluteTop(r){let n=0;for(;r!==document.body;){if(r===null)return NaN;n+=r.offsetTop,r=r.offsetParent}return n}function buildTree$3(r,n,g){resolvedHeaders.length=0;const y=[],$=[];return r.forEach(L=>{const re={...L,children:[]};let ae=$[$.length-1];for(;ae&&ae.level>=re.level;)$.pop(),ae=$[$.length-1];if(re.element.classList.contains("ignore-header")||ae&&"shouldIgnore"in ae){$.push({level:re.level,shouldIgnore:!0});return}re.level>g||re.level<n||(resolvedHeaders.push({element:re.element,link:re.link}),ae?ae.children.push(re):y.push(re),$.push(re))}),y}const _hoisted_1$Z=["href","title"],_sfc_main$1h=defineComponent({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(r){function n({target:g}){const y=g.href.split("#")[1],$=document.getElementById(decodeURIComponent(y));$==null||$.focus({preventScroll:!0})}return(g,y)=>{const $=resolveComponent("VPDocOutlineItem",!0);return openBlock(),createElementBlock("ul",{class:normalizeClass(["VPDocOutlineItem",g.root?"root":"nested"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.headers,({children:L,link:re,title:ae})=>(openBlock(),createElementBlock("li",null,[createBaseVNode("a",{class:"outline-link",href:re,onClick:n,title:ae},toDisplayString(ae),9,_hoisted_1$Z),L!=null&&L.length?(openBlock(),createBlock($,{key:0,headers:L},null,8,["headers"])):createCommentVNode("",!0)]))),256))],2)}}}),VPDocOutlineItem=_export_sfc$1(_sfc_main$1h,[["__scopeId","data-v-b933a997"]]),_hoisted_1$Y={class:"content"},_hoisted_2$t={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},_sfc_main$1g=defineComponent({__name:"VPDocAsideOutline",setup(r){const{frontmatter:n,theme:g}=useData(),y=shallowRef([]);onContentUpdated(()=>{y.value=getHeaders(n.value.outline??g.value.outline)});const $=ref$1(),L=ref$1();return useActiveAnchor($,L),(re,ae)=>(openBlock(),createElementBlock("nav",{"aria-labelledby":"doc-outline-aria-label",class:normalizeClass(["VPDocAsideOutline",{"has-outline":y.value.length>0}]),ref_key:"container",ref:$},[createBaseVNode("div",_hoisted_1$Y,[createBaseVNode("div",{class:"outline-marker",ref_key:"marker",ref:L},null,512),createBaseVNode("div",_hoisted_2$t,toDisplayString(unref(resolveTitle)(unref(g))),1),createVNode$1(VPDocOutlineItem,{headers:y.value,root:!0},null,8,["headers"])])],2))}}),VPDocAsideOutline=_export_sfc$1(_sfc_main$1g,[["__scopeId","data-v-a5bbad30"]]),_hoisted_1$X={class:"VPDocAsideCarbonAds"},_sfc_main$1f=defineComponent({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(r){const n=()=>null;return(g,y)=>(openBlock(),createElementBlock("div",_hoisted_1$X,[createVNode$1(unref(n),{"carbon-ads":g.carbonAds},null,8,["carbon-ads"])]))}}),_hoisted_1$W={class:"VPDocAside"},_sfc_main$1e=defineComponent({__name:"VPDocAside",setup(r){const{theme:n}=useData();return(g,y)=>(openBlock(),createElementBlock("div",_hoisted_1$W,[renderSlot(g.$slots,"aside-top",{},void 0,!0),renderSlot(g.$slots,"aside-outline-before",{},void 0,!0),createVNode$1(VPDocAsideOutline),renderSlot(g.$slots,"aside-outline-after",{},void 0,!0),y[0]||(y[0]=createBaseVNode("div",{class:"spacer"},null,-1)),renderSlot(g.$slots,"aside-ads-before",{},void 0,!0),unref(n).carbonAds?(openBlock(),createBlock(_sfc_main$1f,{key:0,"carbon-ads":unref(n).carbonAds},null,8,["carbon-ads"])):createCommentVNode("",!0),renderSlot(g.$slots,"aside-ads-after",{},void 0,!0),renderSlot(g.$slots,"aside-bottom",{},void 0,!0)]))}}),VPDocAside=_export_sfc$1(_sfc_main$1e,[["__scopeId","data-v-3f215769"]]);function useEditLink(){const{theme:r,page:n}=useData();return computed(()=>{const{text:g="Edit this page",pattern:y=""}=r.value.editLink||{};let $;return typeof y=="function"?$=y(n.value):$=y.replace(/:path/g,n.value.filePath),{url:$,text:g}})}function usePrevNext(){const{page:r,theme:n,frontmatter:g}=useData();return computed(()=>{var ue,he,_e,Ce,$e,Oe,xe,Ne;const y=getSidebar(n.value.sidebar,r.value.relativePath),$=getFlatSideBarLinks(y),L=uniqBy($,Ie=>Ie.link.replace(/[?#].*$/,"")),re=L.findIndex(Ie=>isActive(r.value.relativePath,Ie.link)),ae=((ue=n.value.docFooter)==null?void 0:ue.prev)===!1&&!g.value.prev||g.value.prev===!1,le=((he=n.value.docFooter)==null?void 0:he.next)===!1&&!g.value.next||g.value.next===!1;return{prev:ae?void 0:{text:(typeof g.value.prev=="string"?g.value.prev:typeof g.value.prev=="object"?g.value.prev.text:void 0)??((_e=L[re-1])==null?void 0:_e.docFooterText)??((Ce=L[re-1])==null?void 0:Ce.text),link:(typeof g.value.prev=="object"?g.value.prev.link:void 0)??(($e=L[re-1])==null?void 0:$e.link)},next:le?void 0:{text:(typeof g.value.next=="string"?g.value.next:typeof g.value.next=="object"?g.value.next.text:void 0)??((Oe=L[re+1])==null?void 0:Oe.docFooterText)??((xe=L[re+1])==null?void 0:xe.text),link:(typeof g.value.next=="object"?g.value.next.link:void 0)??((Ne=L[re+1])==null?void 0:Ne.link)}}})}function uniqBy(r,n){const g=new Set;return r.filter(y=>{const $=n(y);return g.has($)?!1:g.add($)})}const _sfc_main$1d=defineComponent({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(r){const n=r,g=computed(()=>n.tag??(n.href?"a":"span")),y=computed(()=>n.href&&EXTERNAL_URL_RE.test(n.href)||n.target==="_blank");return($,L)=>(openBlock(),createBlock(resolveDynamicComponent(g.value),{class:normalizeClass(["VPLink",{link:$.href,"vp-external-link-icon":y.value,"no-icon":$.noIcon}]),href:$.href?unref(normalizeLink$1)($.href):void 0,target:$.target??(y.value?"_blank":void 0),rel:$.rel??(y.value?"noreferrer":void 0)},{default:withCtx(()=>[renderSlot($.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),_hoisted_1$V={class:"VPLastUpdated"},_hoisted_2$s=["datetime"],_sfc_main$1c=defineComponent({__name:"VPDocFooterLastUpdated",setup(r){const{theme:n,page:g,lang:y}=useData(),$=computed(()=>new Date(g.value.lastUpdated)),L=computed(()=>$.value.toISOString()),re=ref$1("");return onMounted(()=>{watchEffect(()=>{var ae,le,ue;re.value=new Intl.DateTimeFormat((le=(ae=n.value.lastUpdated)==null?void 0:ae.formatOptions)!=null&&le.forceLocale?y.value:void 0,((ue=n.value.lastUpdated)==null?void 0:ue.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format($.value)})}),(ae,le)=>{var ue;return openBlock(),createElementBlock("p",_hoisted_1$V,[createTextVNode(toDisplayString(((ue=unref(n).lastUpdated)==null?void 0:ue.text)||unref(n).lastUpdatedText||"Last updated")+": ",1),createBaseVNode("time",{datetime:L.value},toDisplayString(re.value),9,_hoisted_2$s)])}}}),VPDocFooterLastUpdated=_export_sfc$1(_sfc_main$1c,[["__scopeId","data-v-e98dd255"]]),_hoisted_1$U={key:0,class:"VPDocFooter"},_hoisted_2$r={key:0,class:"edit-info"},_hoisted_3$k={key:0,class:"edit-link"},_hoisted_4$c={key:1,class:"last-updated"},_hoisted_5$9={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},_hoisted_6$5={class:"pager"},_hoisted_7$3=["innerHTML"],_hoisted_8$2=["innerHTML"],_hoisted_9$1={class:"pager"},_hoisted_10=["innerHTML"],_hoisted_11=["innerHTML"],_sfc_main$1b=defineComponent({__name:"VPDocFooter",setup(r){const{theme:n,page:g,frontmatter:y}=useData(),$=useEditLink(),L=usePrevNext(),re=computed(()=>n.value.editLink&&y.value.editLink!==!1),ae=computed(()=>g.value.lastUpdated),le=computed(()=>re.value||ae.value||L.value.prev||L.value.next);return(ue,he)=>{var _e,Ce,$e,Oe;return le.value?(openBlock(),createElementBlock("footer",_hoisted_1$U,[renderSlot(ue.$slots,"doc-footer-before",{},void 0,!0),re.value||ae.value?(openBlock(),createElementBlock("div",_hoisted_2$r,[re.value?(openBlock(),createElementBlock("div",_hoisted_3$k,[createVNode$1(_sfc_main$1d,{class:"edit-link-button",href:unref($).url,"no-icon":!0},{default:withCtx(()=>[he[0]||(he[0]=createBaseVNode("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),createTextVNode(" "+toDisplayString(unref($).text),1)]),_:1},8,["href"])])):createCommentVNode("",!0),ae.value?(openBlock(),createElementBlock("div",_hoisted_4$c,[createVNode$1(VPDocFooterLastUpdated)])):createCommentVNode("",!0)])):createCommentVNode("",!0),(_e=unref(L).prev)!=null&&_e.link||(Ce=unref(L).next)!=null&&Ce.link?(openBlock(),createElementBlock("nav",_hoisted_5$9,[he[1]||(he[1]=createBaseVNode("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),createBaseVNode("div",_hoisted_6$5,[($e=unref(L).prev)!=null&&$e.link?(openBlock(),createBlock(_sfc_main$1d,{key:0,class:"pager-link prev",href:unref(L).prev.link},{default:withCtx(()=>{var xe;return[createBaseVNode("span",{class:"desc",innerHTML:((xe=unref(n).docFooter)==null?void 0:xe.prev)||"Previous page"},null,8,_hoisted_7$3),createBaseVNode("span",{class:"title",innerHTML:unref(L).prev.text},null,8,_hoisted_8$2)]}),_:1},8,["href"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$1,[(Oe=unref(L).next)!=null&&Oe.link?(openBlock(),createBlock(_sfc_main$1d,{key:0,class:"pager-link next",href:unref(L).next.link},{default:withCtx(()=>{var xe;return[createBaseVNode("span",{class:"desc",innerHTML:((xe=unref(n).docFooter)==null?void 0:xe.next)||"Next page"},null,8,_hoisted_10),createBaseVNode("span",{class:"title",innerHTML:unref(L).next.text},null,8,_hoisted_11)]}),_:1},8,["href"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}}}),VPDocFooter=_export_sfc$1(_sfc_main$1b,[["__scopeId","data-v-e257564d"]]),_hoisted_1$T={class:"container"},_hoisted_2$q={class:"aside-container"},_hoisted_3$j={class:"aside-content"},_hoisted_4$b={class:"content"},_hoisted_5$8={class:"content-container"},_hoisted_6$4={class:"main"},_sfc_main$1a=defineComponent({__name:"VPDoc",setup(r){const{theme:n}=useData(),g=useRoute(),{hasSidebar:y,hasAside:$,leftAside:L}=useSidebar(),re=computed(()=>g.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(ae,le)=>{const ue=resolveComponent("Content");return openBlock(),createElementBlock("div",{class:normalizeClass(["VPDoc",{"has-sidebar":unref(y),"has-aside":unref($)}])},[renderSlot(ae.$slots,"doc-top",{},void 0,!0),createBaseVNode("div",_hoisted_1$T,[unref($)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["aside",{"left-aside":unref(L)}])},[le[0]||(le[0]=createBaseVNode("div",{class:"aside-curtain"},null,-1)),createBaseVNode("div",_hoisted_2$q,[createBaseVNode("div",_hoisted_3$j,[createVNode$1(VPDocAside,null,{"aside-top":withCtx(()=>[renderSlot(ae.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":withCtx(()=>[renderSlot(ae.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":withCtx(()=>[renderSlot(ae.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":withCtx(()=>[renderSlot(ae.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":withCtx(()=>[renderSlot(ae.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":withCtx(()=>[renderSlot(ae.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$b,[createBaseVNode("div",_hoisted_5$8,[renderSlot(ae.$slots,"doc-before",{},void 0,!0),createBaseVNode("main",_hoisted_6$4,[createVNode$1(ue,{class:normalizeClass(["vp-doc",[re.value,unref(n).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),createVNode$1(VPDocFooter,null,{"doc-footer-before":withCtx(()=>[renderSlot(ae.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),renderSlot(ae.$slots,"doc-after",{},void 0,!0)])])]),renderSlot(ae.$slots,"doc-bottom",{},void 0,!0)],2)}}}),VPDoc=_export_sfc$1(_sfc_main$1a,[["__scopeId","data-v-39a288b8"]]),_sfc_main$19=defineComponent({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(r){const n=r,g=computed(()=>n.href&&EXTERNAL_URL_RE.test(n.href)),y=computed(()=>n.tag||(n.href?"a":"button"));return($,L)=>(openBlock(),createBlock(resolveDynamicComponent(y.value),{class:normalizeClass(["VPButton",[$.size,$.theme]]),href:$.href?unref(normalizeLink$1)($.href):void 0,target:n.target??(g.value?"_blank":void 0),rel:n.rel??(g.value?"noreferrer":void 0)},{default:withCtx(()=>[createTextVNode(toDisplayString($.text),1)]),_:1},8,["class","href","target","rel"]))}}),VPButton=_export_sfc$1(_sfc_main$19,[["__scopeId","data-v-fa7799d5"]]),_hoisted_1$S=["src","alt"],_sfc_main$18=defineComponent({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(r){return(n,g)=>{const y=resolveComponent("VPImage",!0);return n.image?(openBlock(),createElementBlock(Fragment,{key:0},[typeof n.image=="string"||"src"in n.image?(openBlock(),createElementBlock("img",mergeProps({key:0,class:"VPImage"},typeof n.image=="string"?n.$attrs:{...n.image,...n.$attrs},{src:unref(withBase)(typeof n.image=="string"?n.image:n.image.src),alt:n.alt??(typeof n.image=="string"?"":n.image.alt||"")}),null,16,_hoisted_1$S)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode$1(y,mergeProps({class:"dark",image:n.image.dark,alt:n.image.alt},n.$attrs),null,16,["image","alt"]),createVNode$1(y,mergeProps({class:"light",image:n.image.light,alt:n.image.alt},n.$attrs),null,16,["image","alt"])],64))],64)):createCommentVNode("",!0)}}}),VPImage=_export_sfc$1(_sfc_main$18,[["__scopeId","data-v-8426fc1a"]]),_hoisted_1$R={class:"container"},_hoisted_2$p={class:"main"},_hoisted_3$i={key:0,class:"name"},_hoisted_4$a=["innerHTML"],_hoisted_5$7=["innerHTML"],_hoisted_6$3=["innerHTML"],_hoisted_7$2={key:0,class:"actions"},_hoisted_8$1={key:0,class:"image"},_hoisted_9={class:"image-container"},_sfc_main$17=defineComponent({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(r){const n=inject("hero-image-slot-exists");return(g,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPHero",{"has-image":g.image||unref(n)}])},[createBaseVNode("div",_hoisted_1$R,[createBaseVNode("div",_hoisted_2$p,[renderSlot(g.$slots,"home-hero-info-before",{},void 0,!0),renderSlot(g.$slots,"home-hero-info",{},()=>[g.name?(openBlock(),createElementBlock("h1",_hoisted_3$i,[createBaseVNode("span",{innerHTML:g.name,class:"clip"},null,8,_hoisted_4$a)])):createCommentVNode("",!0),g.text?(openBlock(),createElementBlock("p",{key:1,innerHTML:g.text,class:"text"},null,8,_hoisted_5$7)):createCommentVNode("",!0),g.tagline?(openBlock(),createElementBlock("p",{key:2,innerHTML:g.tagline,class:"tagline"},null,8,_hoisted_6$3)):createCommentVNode("",!0)],!0),renderSlot(g.$slots,"home-hero-info-after",{},void 0,!0),g.actions?(openBlock(),createElementBlock("div",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.actions,$=>(openBlock(),createElementBlock("div",{key:$.link,class:"action"},[createVNode$1(VPButton,{tag:"a",size:"medium",theme:$.theme,text:$.text,href:$.link,target:$.target,rel:$.rel},null,8,["theme","text","href","target","rel"])]))),128))])):createCommentVNode("",!0),renderSlot(g.$slots,"home-hero-actions-after",{},void 0,!0)]),g.image||unref(n)?(openBlock(),createElementBlock("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9,[y[0]||(y[0]=createBaseVNode("div",{class:"image-bg"},null,-1)),renderSlot(g.$slots,"home-hero-image",{},()=>[g.image?(openBlock(),createBlock(VPImage,{key:0,class:"image-src",image:g.image},null,8,["image"])):createCommentVNode("",!0)],!0)])])):createCommentVNode("",!0)])],2))}}),VPHero=_export_sfc$1(_sfc_main$17,[["__scopeId","data-v-303bb580"]]),_sfc_main$16=defineComponent({__name:"VPHomeHero",setup(r){const{frontmatter:n}=useData();return(g,y)=>unref(n).hero?(openBlock(),createBlock(VPHero,{key:0,class:"VPHomeHero",name:unref(n).hero.name,text:unref(n).hero.text,tagline:unref(n).hero.tagline,image:unref(n).hero.image,actions:unref(n).hero.actions},{"home-hero-info-before":withCtx(()=>[renderSlot(g.$slots,"home-hero-info-before")]),"home-hero-info":withCtx(()=>[renderSlot(g.$slots,"home-hero-info")]),"home-hero-info-after":withCtx(()=>[renderSlot(g.$slots,"home-hero-info-after")]),"home-hero-actions-after":withCtx(()=>[renderSlot(g.$slots,"home-hero-actions-after")]),"home-hero-image":withCtx(()=>[renderSlot(g.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):createCommentVNode("",!0)}}),_hoisted_1$Q={class:"box"},_hoisted_2$o={key:0,class:"icon"},_hoisted_3$h=["innerHTML"],_hoisted_4$9=["innerHTML"],_hoisted_5$6=["innerHTML"],_hoisted_6$2={key:4,class:"link-text"},_hoisted_7$1={class:"link-text-value"},_sfc_main$15=defineComponent({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(r){return(n,g)=>(openBlock(),createBlock(_sfc_main$1d,{class:"VPFeature",href:n.link,rel:n.rel,target:n.target,"no-icon":!0,tag:n.link?"a":"div"},{default:withCtx(()=>[createBaseVNode("article",_hoisted_1$Q,[typeof n.icon=="object"&&n.icon.wrap?(openBlock(),createElementBlock("div",_hoisted_2$o,[createVNode$1(VPImage,{image:n.icon,alt:n.icon.alt,height:n.icon.height||48,width:n.icon.width||48},null,8,["image","alt","height","width"])])):typeof n.icon=="object"?(openBlock(),createBlock(VPImage,{key:1,image:n.icon,alt:n.icon.alt,height:n.icon.height||48,width:n.icon.width||48},null,8,["image","alt","height","width"])):n.icon?(openBlock(),createElementBlock("div",{key:2,class:"icon",innerHTML:n.icon},null,8,_hoisted_3$h)):createCommentVNode("",!0),createBaseVNode("h2",{class:"title",innerHTML:n.title},null,8,_hoisted_4$9),n.details?(openBlock(),createElementBlock("p",{key:3,class:"details",innerHTML:n.details},null,8,_hoisted_5$6)):createCommentVNode("",!0),n.linkText?(openBlock(),createElementBlock("div",_hoisted_6$2,[createBaseVNode("p",_hoisted_7$1,[createTextVNode(toDisplayString(n.linkText)+" ",1),g[0]||(g[0]=createBaseVNode("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):createCommentVNode("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),VPFeature=_export_sfc$1(_sfc_main$15,[["__scopeId","data-v-a3976bdc"]]),_hoisted_1$P={key:0,class:"VPFeatures"},_hoisted_2$n={class:"container"},_hoisted_3$g={class:"items"},_sfc_main$14=defineComponent({__name:"VPFeatures",props:{features:{}},setup(r){const n=r,g=computed(()=>{const y=n.features.length;if(y){if(y===2)return"grid-2";if(y===3)return"grid-3";if(y%3===0)return"grid-6";if(y>3)return"grid-4"}else return});return(y,$)=>y.features?(openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("div",_hoisted_2$n,[createBaseVNode("div",_hoisted_3$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.features,L=>(openBlock(),createElementBlock("div",{key:L.title,class:normalizeClass(["item",[g.value]])},[createVNode$1(VPFeature,{icon:L.icon,title:L.title,details:L.details,link:L.link,"link-text":L.linkText,rel:L.rel,target:L.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):createCommentVNode("",!0)}}),VPFeatures=_export_sfc$1(_sfc_main$14,[["__scopeId","data-v-a6181336"]]),_sfc_main$13=defineComponent({__name:"VPHomeFeatures",setup(r){const{frontmatter:n}=useData();return(g,y)=>unref(n).features?(openBlock(),createBlock(VPFeatures,{key:0,class:"VPHomeFeatures",features:unref(n).features},null,8,["features"])):createCommentVNode("",!0)}}),_sfc_main$12=defineComponent({__name:"VPHomeContent",setup(r){const{width:n}=useWindowSize$1({initialWidth:0,includeScrollbar:!1});return(g,y)=>(openBlock(),createElementBlock("div",{class:"vp-doc container",style:normalizeStyle$1(unref(n)?{"--vp-offset":`calc(50% - ${unref(n)/2}px)`}:{})},[renderSlot(g.$slots,"default",{},void 0,!0)],4))}}),VPHomeContent=_export_sfc$1(_sfc_main$12,[["__scopeId","data-v-8e2d4988"]]),_hoisted_1$O={class:"VPHome"},_sfc_main$11=defineComponent({__name:"VPHome",setup(r){const{frontmatter:n}=useData();return(g,y)=>{const $=resolveComponent("Content");return openBlock(),createElementBlock("div",_hoisted_1$O,[renderSlot(g.$slots,"home-hero-before",{},void 0,!0),createVNode$1(_sfc_main$16,null,{"home-hero-info-before":withCtx(()=>[renderSlot(g.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":withCtx(()=>[renderSlot(g.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":withCtx(()=>[renderSlot(g.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":withCtx(()=>[renderSlot(g.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":withCtx(()=>[renderSlot(g.$slots,"home-hero-image",{},void 0,!0)]),_:3}),renderSlot(g.$slots,"home-hero-after",{},void 0,!0),renderSlot(g.$slots,"home-features-before",{},void 0,!0),createVNode$1(_sfc_main$13),renderSlot(g.$slots,"home-features-after",{},void 0,!0),unref(n).markdownStyles!==!1?(openBlock(),createBlock(VPHomeContent,{key:0},{default:withCtx(()=>[createVNode$1($)]),_:1})):(openBlock(),createBlock($,{key:1}))])}}}),VPHome=_export_sfc$1(_sfc_main$11,[["__scopeId","data-v-686f80a6"]]),_sfc_main$10={},_hoisted_1$N={class:"VPPage"};function _sfc_render$e(r,n){const g=resolveComponent("Content");return openBlock(),createElementBlock("div",_hoisted_1$N,[renderSlot(r.$slots,"page-top"),createVNode$1(g),renderSlot(r.$slots,"page-bottom")])}const VPPage=_export_sfc$1(_sfc_main$10,[["render",_sfc_render$e]]),_sfc_main$$=defineComponent({__name:"VPContent",setup(r){const{page:n,frontmatter:g}=useData(),{hasSidebar:y}=useSidebar();return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPContent",{"has-sidebar":unref(y),"is-home":unref(g).layout==="home"}]),id:"VPContent"},[unref(n).isNotFound?renderSlot($.$slots,"not-found",{key:0},()=>[createVNode$1(NotFound)],!0):unref(g).layout==="page"?(openBlock(),createBlock(VPPage,{key:1},{"page-top":withCtx(()=>[renderSlot($.$slots,"page-top",{},void 0,!0)]),"page-bottom":withCtx(()=>[renderSlot($.$slots,"page-bottom",{},void 0,!0)]),_:3})):unref(g).layout==="home"?(openBlock(),createBlock(VPHome,{key:2},{"home-hero-before":withCtx(()=>[renderSlot($.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":withCtx(()=>[renderSlot($.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":withCtx(()=>[renderSlot($.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":withCtx(()=>[renderSlot($.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":withCtx(()=>[renderSlot($.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":withCtx(()=>[renderSlot($.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":withCtx(()=>[renderSlot($.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":withCtx(()=>[renderSlot($.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":withCtx(()=>[renderSlot($.$slots,"home-features-after",{},void 0,!0)]),_:3})):unref(g).layout&&unref(g).layout!=="doc"?(openBlock(),createBlock(resolveDynamicComponent(unref(g).layout),{key:3})):(openBlock(),createBlock(VPDoc,{key:4},{"doc-top":withCtx(()=>[renderSlot($.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":withCtx(()=>[renderSlot($.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":withCtx(()=>[renderSlot($.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":withCtx(()=>[renderSlot($.$slots,"doc-before",{},void 0,!0)]),"doc-after":withCtx(()=>[renderSlot($.$slots,"doc-after",{},void 0,!0)]),"aside-top":withCtx(()=>[renderSlot($.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":withCtx(()=>[renderSlot($.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":withCtx(()=>[renderSlot($.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":withCtx(()=>[renderSlot($.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":withCtx(()=>[renderSlot($.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":withCtx(()=>[renderSlot($.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),VPContent=_export_sfc$1(_sfc_main$$,[["__scopeId","data-v-1428d186"]]),_hoisted_1$M={class:"container"},_hoisted_2$m=["innerHTML"],_hoisted_3$f=["innerHTML"],_sfc_main$_=defineComponent({__name:"VPFooter",setup(r){const{theme:n,frontmatter:g}=useData(),{hasSidebar:y}=useSidebar();return($,L)=>unref(n).footer&&unref(g).footer!==!1?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(["VPFooter",{"has-sidebar":unref(y)}])},[createBaseVNode("div",_hoisted_1$M,[unref(n).footer.message?(openBlock(),createElementBlock("p",{key:0,class:"message",innerHTML:unref(n).footer.message},null,8,_hoisted_2$m)):createCommentVNode("",!0),unref(n).footer.copyright?(openBlock(),createElementBlock("p",{key:1,class:"copyright",innerHTML:unref(n).footer.copyright},null,8,_hoisted_3$f)):createCommentVNode("",!0)])],2)):createCommentVNode("",!0)}}),VPFooter=_export_sfc$1(_sfc_main$_,[["__scopeId","data-v-e315a0ad"]]);function useLocalNav(){const{theme:r,frontmatter:n}=useData(),g=shallowRef([]),y=computed(()=>g.value.length>0);return onContentUpdated(()=>{g.value=getHeaders(n.value.outline??r.value.outline)}),{headers:g,hasLocalNav:y}}const _hoisted_1$L={class:"menu-text"},_hoisted_2$l={class:"header"},_hoisted_3$e={class:"outline"},_sfc_main$Z=defineComponent({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(r){const n=r,{theme:g}=useData(),y=ref$1(!1),$=ref$1(0),L=ref$1(),re=ref$1();function ae(_e){var Ce;(Ce=L.value)!=null&&Ce.contains(_e.target)||(y.value=!1)}watch$1(y,_e=>{if(_e){document.addEventListener("click",ae);return}document.removeEventListener("click",ae)}),onKeyStroke("Escape",()=>{y.value=!1}),onContentUpdated(()=>{y.value=!1});function le(){y.value=!y.value,$.value=window.innerHeight+Math.min(window.scrollY-n.navHeight,0)}function ue(_e){_e.target.classList.contains("outline-link")&&(re.value&&(re.value.style.transition="none"),nextTick$1(()=>{y.value=!1}))}function he(){y.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(_e,Ce)=>(openBlock(),createElementBlock("div",{class:"VPLocalNavOutlineDropdown",style:normalizeStyle$1({"--vp-vh":$.value+"px"}),ref_key:"main",ref:L},[_e.headers.length>0?(openBlock(),createElementBlock("button",{key:0,onClick:le,class:normalizeClass({open:y.value})},[createBaseVNode("span",_hoisted_1$L,toDisplayString(unref(resolveTitle)(unref(g))),1),Ce[0]||(Ce[0]=createBaseVNode("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(openBlock(),createElementBlock("button",{key:1,onClick:he},toDisplayString(unref(g).returnToTopLabel||"Return to top"),1)),createVNode$1(Transition,{name:"flyout"},{default:withCtx(()=>[y.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"items",ref:re,class:"items",onClick:ue},[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("a",{class:"top-link",href:"#",onClick:he},toDisplayString(unref(g).returnToTopLabel||"Return to top"),1)]),createBaseVNode("div",_hoisted_3$e,[createVNode$1(VPDocOutlineItem,{headers:_e.headers},null,8,["headers"])])],512)):createCommentVNode("",!0)]),_:1})],4))}}),VPLocalNavOutlineDropdown=_export_sfc$1(_sfc_main$Z,[["__scopeId","data-v-17a5e62e"]]),_hoisted_1$K={class:"container"},_hoisted_2$k=["aria-expanded"],_hoisted_3$d={class:"menu-text"},_sfc_main$Y=defineComponent({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(r){const{theme:n,frontmatter:g}=useData(),{hasSidebar:y}=useSidebar(),{headers:$}=useLocalNav(),{y:L}=useWindowScroll(),re=ref$1(0);onMounted(()=>{re.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),onContentUpdated(()=>{$.value=getHeaders(g.value.outline??n.value.outline)});const ae=computed(()=>$.value.length===0),le=computed(()=>ae.value&&!y.value),ue=computed(()=>({VPLocalNav:!0,"has-sidebar":y.value,empty:ae.value,fixed:le.value}));return(he,_e)=>unref(g).layout!=="home"&&(!le.value||unref(L)>=re.value)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(ue.value)},[createBaseVNode("div",_hoisted_1$K,[unref(y)?(openBlock(),createElementBlock("button",{key:0,class:"menu","aria-expanded":he.open,"aria-controls":"VPSidebarNav",onClick:_e[0]||(_e[0]=Ce=>he.$emit("open-menu"))},[_e[1]||(_e[1]=createBaseVNode("span",{class:"vpi-align-left menu-icon"},null,-1)),createBaseVNode("span",_hoisted_3$d,toDisplayString(unref(n).sidebarMenuLabel||"Menu"),1)],8,_hoisted_2$k)):createCommentVNode("",!0),createVNode$1(VPLocalNavOutlineDropdown,{headers:unref($),navHeight:re.value},null,8,["headers","navHeight"])])],2)):createCommentVNode("",!0)}}),VPLocalNav=_export_sfc$1(_sfc_main$Y,[["__scopeId","data-v-a6f0e41e"]]);function useNav(){const r=ref$1(!1);function n(){r.value=!0,window.addEventListener("resize",$)}function g(){r.value=!1,window.removeEventListener("resize",$)}function y(){r.value?g():n()}function $(){window.outerWidth>=768&&g()}const L=useRoute();return watch$1(()=>L.path,g),{isScreenOpen:r,openScreen:n,closeScreen:g,toggleScreen:y}}const _sfc_main$X={},_hoisted_1$J={class:"VPSwitch",type:"button",role:"switch"},_hoisted_2$j={class:"check"},_hoisted_3$c={key:0,class:"icon"};function _sfc_render$d(r,n){return openBlock(),createElementBlock("button",_hoisted_1$J,[createBaseVNode("span",_hoisted_2$j,[r.$slots.default?(openBlock(),createElementBlock("span",_hoisted_3$c,[renderSlot(r.$slots,"default",{},void 0,!0)])):createCommentVNode("",!0)])])}const VPSwitch=_export_sfc$1(_sfc_main$X,[["render",_sfc_render$d],["__scopeId","data-v-1d5665e3"]]),_sfc_main$W=defineComponent({__name:"VPSwitchAppearance",setup(r){const{isDark:n,theme:g}=useData(),y=inject("toggle-appearance",()=>{n.value=!n.value}),$=ref$1("");return watchPostEffect(()=>{$.value=n.value?g.value.lightModeSwitchTitle||"Switch to light theme":g.value.darkModeSwitchTitle||"Switch to dark theme"}),(L,re)=>(openBlock(),createBlock(VPSwitch,{title:$.value,class:"VPSwitchAppearance","aria-checked":unref(n),onClick:unref(y)},{default:withCtx(()=>re[0]||(re[0]=[createBaseVNode("span",{class:"vpi-sun sun"},null,-1),createBaseVNode("span",{class:"vpi-moon moon"},null,-1)])),_:1},8,["title","aria-checked","onClick"]))}}),VPSwitchAppearance=_export_sfc$1(_sfc_main$W,[["__scopeId","data-v-5337faa4"]]),_hoisted_1$I={key:0,class:"VPNavBarAppearance"},_sfc_main$V=defineComponent({__name:"VPNavBarAppearance",setup(r){const{site:n}=useData();return(g,y)=>unref(n).appearance&&unref(n).appearance!=="force-dark"&&unref(n).appearance!=="force-auto"?(openBlock(),createElementBlock("div",_hoisted_1$I,[createVNode$1(VPSwitchAppearance)])):createCommentVNode("",!0)}}),VPNavBarAppearance=_export_sfc$1(_sfc_main$V,[["__scopeId","data-v-6c893767"]]),focusedElement=ref$1();let active=!1,listeners=0;function useFlyout(r){const n=ref$1(!1);if(inBrowser){!active&&activateFocusTracking(),listeners++;const g=watch$1(focusedElement,y=>{var $,L,re;y===r.el.value||($=r.el.value)!=null&&$.contains(y)?(n.value=!0,(L=r.onFocus)==null||L.call(r)):(n.value=!1,(re=r.onBlur)==null||re.call(r))});onUnmounted(()=>{g(),listeners--,listeners||deactivateFocusTracking()})}return readonly(n)}function activateFocusTracking(){document.addEventListener("focusin",handleFocusIn),active=!0,focusedElement.value=document.activeElement}function deactivateFocusTracking(){document.removeEventListener("focusin",handleFocusIn)}function handleFocusIn(){focusedElement.value=document.activeElement}const _hoisted_1$H={class:"VPMenuLink"},_hoisted_2$i=["innerHTML"],_sfc_main$U=defineComponent({__name:"VPMenuLink",props:{item:{}},setup(r){const{page:n}=useData();return(g,y)=>(openBlock(),createElementBlock("div",_hoisted_1$H,[createVNode$1(_sfc_main$1d,{class:normalizeClass({active:unref(isActive)(unref(n).relativePath,g.item.activeMatch||g.item.link,!!g.item.activeMatch)}),href:g.item.link,target:g.item.target,rel:g.item.rel,"no-icon":g.item.noIcon},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:g.item.text},null,8,_hoisted_2$i)]),_:1},8,["class","href","target","rel","no-icon"])]))}}),VPMenuLink=_export_sfc$1(_sfc_main$U,[["__scopeId","data-v-35975db6"]]),_hoisted_1$G={class:"VPMenuGroup"},_hoisted_2$h={key:0,class:"title"},_sfc_main$T=defineComponent({__name:"VPMenuGroup",props:{text:{},items:{}},setup(r){return(n,g)=>(openBlock(),createElementBlock("div",_hoisted_1$G,[n.text?(openBlock(),createElementBlock("p",_hoisted_2$h,toDisplayString(n.text),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.items,y=>(openBlock(),createElementBlock(Fragment,null,["link"in y?(openBlock(),createBlock(VPMenuLink,{key:0,item:y},null,8,["item"])):createCommentVNode("",!0)],64))),256))]))}}),VPMenuGroup=_export_sfc$1(_sfc_main$T,[["__scopeId","data-v-69e747b5"]]),_hoisted_1$F={class:"VPMenu"},_hoisted_2$g={key:0,class:"items"},_sfc_main$S=defineComponent({__name:"VPMenu",props:{items:{}},setup(r){return(n,g)=>(openBlock(),createElementBlock("div",_hoisted_1$F,[n.items?(openBlock(),createElementBlock("div",_hoisted_2$g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.items,y=>(openBlock(),createElementBlock(Fragment,{key:JSON.stringify(y)},["link"in y?(openBlock(),createBlock(VPMenuLink,{key:0,item:y},null,8,["item"])):"component"in y?(openBlock(),createBlock(resolveDynamicComponent(y.component),mergeProps({key:1,ref_for:!0},y.props),null,16)):(openBlock(),createBlock(VPMenuGroup,{key:2,text:y.text,items:y.items},null,8,["text","items"]))],64))),128))])):createCommentVNode("",!0),renderSlot(n.$slots,"default",{},void 0,!0)]))}}),VPMenu=_export_sfc$1(_sfc_main$S,[["__scopeId","data-v-b98bc113"]]),_hoisted_1$E=["aria-expanded","aria-label"],_hoisted_2$f={key:0,class:"text"},_hoisted_3$b=["innerHTML"],_hoisted_4$8={key:1,class:"vpi-more-horizontal icon"},_hoisted_5$5={class:"menu"},_sfc_main$R=defineComponent({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(r){const n=ref$1(!1),g=ref$1();useFlyout({el:g,onBlur:y});function y(){n.value=!1}return($,L)=>(openBlock(),createElementBlock("div",{class:"VPFlyout",ref_key:"el",ref:g,onMouseenter:L[1]||(L[1]=re=>n.value=!0),onMouseleave:L[2]||(L[2]=re=>n.value=!1)},[createBaseVNode("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":n.value,"aria-label":$.label,onClick:L[0]||(L[0]=re=>n.value=!n.value)},[$.button||$.icon?(openBlock(),createElementBlock("span",_hoisted_2$f,[$.icon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([$.icon,"option-icon"])},null,2)):createCommentVNode("",!0),$.button?(openBlock(),createElementBlock("span",{key:1,innerHTML:$.button},null,8,_hoisted_3$b)):createCommentVNode("",!0),L[3]||(L[3]=createBaseVNode("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(openBlock(),createElementBlock("span",_hoisted_4$8))],8,_hoisted_1$E),createBaseVNode("div",_hoisted_5$5,[createVNode$1(VPMenu,{items:$.items},{default:withCtx(()=>[renderSlot($.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),VPFlyout=_export_sfc$1(_sfc_main$R,[["__scopeId","data-v-cf11d7a2"]]),_hoisted_1$D=["href","aria-label","innerHTML"],_sfc_main$Q=defineComponent({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(r){const n=r,g=ref$1();onMounted(async()=>{var L;await nextTick$1();const $=(L=g.value)==null?void 0:L.children[0];$ instanceof HTMLElement&&$.className.startsWith("vpi-social-")&&(getComputedStyle($).maskImage||getComputedStyle($).webkitMaskImage)==="none"&&$.style.setProperty("--icon",`url('https://api.iconify.design/simple-icons/${n.icon}.svg')`)});const y=computed(()=>typeof n.icon=="object"?n.icon.svg:`<span class="vpi-social-${n.icon}"></span>`);return($,L)=>(openBlock(),createElementBlock("a",{ref_key:"el",ref:g,class:"VPSocialLink no-icon",href:$.link,"aria-label":$.ariaLabel??(typeof $.icon=="string"?$.icon:""),target:"_blank",rel:"noopener",innerHTML:y.value},null,8,_hoisted_1$D))}}),VPSocialLink=_export_sfc$1(_sfc_main$Q,[["__scopeId","data-v-bd121fe5"]]),_hoisted_1$C={class:"VPSocialLinks"},_sfc_main$P=defineComponent({__name:"VPSocialLinks",props:{links:{}},setup(r){return(n,g)=>(openBlock(),createElementBlock("div",_hoisted_1$C,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.links,({link:y,icon:$,ariaLabel:L})=>(openBlock(),createBlock(VPSocialLink,{key:y,icon:$,link:y,ariaLabel:L},null,8,["icon","link","ariaLabel"]))),128))]))}}),VPSocialLinks=_export_sfc$1(_sfc_main$P,[["__scopeId","data-v-7bc22406"]]),_hoisted_1$B={key:0,class:"group translations"},_hoisted_2$e={class:"trans-title"},_hoisted_3$a={key:1,class:"group"},_hoisted_4$7={class:"item appearance"},_hoisted_5$4={class:"label"},_hoisted_6$1={class:"appearance-action"},_hoisted_7={key:2,class:"group"},_hoisted_8={class:"item social-links"},_sfc_main$O=defineComponent({__name:"VPNavBarExtra",setup(r){const{site:n,theme:g}=useData(),{localeLinks:y,currentLang:$}=useLangs({correspondingLink:!0}),L=computed(()=>y.value.length&&$.value.label||n.value.appearance||g.value.socialLinks);return(re,ae)=>L.value?(openBlock(),createBlock(VPFlyout,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:withCtx(()=>[unref(y).length&&unref($).label?(openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("p",_hoisted_2$e,toDisplayString(unref($).label),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(y),le=>(openBlock(),createBlock(VPMenuLink,{key:le.link,item:le},null,8,["item"]))),128))])):createCommentVNode("",!0),unref(n).appearance&&unref(n).appearance!=="force-dark"&&unref(n).appearance!=="force-auto"?(openBlock(),createElementBlock("div",_hoisted_3$a,[createBaseVNode("div",_hoisted_4$7,[createBaseVNode("p",_hoisted_5$4,toDisplayString(unref(g).darkModeSwitchLabel||"Appearance"),1),createBaseVNode("div",_hoisted_6$1,[createVNode$1(VPSwitchAppearance)])])])):createCommentVNode("",!0),unref(g).socialLinks?(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createVNode$1(VPSocialLinks,{class:"social-links-list",links:unref(g).socialLinks},null,8,["links"])])])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)}}),VPNavBarExtra=_export_sfc$1(_sfc_main$O,[["__scopeId","data-v-bb2aa2f0"]]),_hoisted_1$A=["aria-expanded"],_sfc_main$N=defineComponent({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(r){return(n,g)=>(openBlock(),createElementBlock("button",{type:"button",class:normalizeClass(["VPNavBarHamburger",{active:n.active}]),"aria-label":"mobile navigation","aria-expanded":n.active,"aria-controls":"VPNavScreen",onClick:g[0]||(g[0]=y=>n.$emit("click"))},g[1]||(g[1]=[createBaseVNode("span",{class:"container"},[createBaseVNode("span",{class:"top"}),createBaseVNode("span",{class:"middle"}),createBaseVNode("span",{class:"bottom"})],-1)]),10,_hoisted_1$A))}}),VPNavBarHamburger=_export_sfc$1(_sfc_main$N,[["__scopeId","data-v-e5dd9c1c"]]),_hoisted_1$z=["innerHTML"],_sfc_main$M=defineComponent({__name:"VPNavBarMenuLink",props:{item:{}},setup(r){const{page:n}=useData();return(g,y)=>(openBlock(),createBlock(_sfc_main$1d,{class:normalizeClass({VPNavBarMenuLink:!0,active:unref(isActive)(unref(n).relativePath,g.item.activeMatch||g.item.link,!!g.item.activeMatch)}),href:g.item.link,target:g.item.target,rel:g.item.rel,"no-icon":g.item.noIcon,tabindex:"0"},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:g.item.text},null,8,_hoisted_1$z)]),_:1},8,["class","href","target","rel","no-icon"]))}}),VPNavBarMenuLink=_export_sfc$1(_sfc_main$M,[["__scopeId","data-v-e56f3d57"]]),_sfc_main$L=defineComponent({__name:"VPNavBarMenuGroup",props:{item:{}},setup(r){const n=r,{page:g}=useData(),y=L=>"component"in L?!1:"link"in L?isActive(g.value.relativePath,L.link,!!n.item.activeMatch):L.items.some(y),$=computed(()=>y(n.item));return(L,re)=>(openBlock(),createBlock(VPFlyout,{class:normalizeClass({VPNavBarMenuGroup:!0,active:unref(isActive)(unref(g).relativePath,L.item.activeMatch,!!L.item.activeMatch)||$.value}),button:L.item.text,items:L.item.items},null,8,["class","button","items"]))}}),_hoisted_1$y={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},_sfc_main$K=defineComponent({__name:"VPNavBarMenu",setup(r){const{theme:n}=useData();return(g,y)=>unref(n).nav?(openBlock(),createElementBlock("nav",_hoisted_1$y,[y[0]||(y[0]=createBaseVNode("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).nav,$=>(openBlock(),createElementBlock(Fragment,{key:JSON.stringify($)},["link"in $?(openBlock(),createBlock(VPNavBarMenuLink,{key:0,item:$},null,8,["item"])):"component"in $?(openBlock(),createBlock(resolveDynamicComponent($.component),mergeProps({key:1,ref_for:!0},$.props),null,16)):(openBlock(),createBlock(_sfc_main$L,{key:2,item:$},null,8,["item"]))],64))),128))])):createCommentVNode("",!0)}}),VPNavBarMenu=_export_sfc$1(_sfc_main$K,[["__scopeId","data-v-dc692963"]]);function createSearchTranslate(r){const{localeIndex:n,theme:g}=useData();function y($){var Oe,xe,Ne;const L=$.split("."),re=(Oe=g.value.search)==null?void 0:Oe.options,ae=re&&typeof re=="object",le=ae&&((Ne=(xe=re.locales)==null?void 0:xe[n.value])==null?void 0:Ne.translations)||null,ue=ae&&re.translations||null;let he=le,_e=ue,Ce=r;const $e=L.pop();for(const Ie of L){let Fe=null;const Ve=Ce==null?void 0:Ce[Ie];Ve&&(Fe=Ce=Ve);const ze=_e==null?void 0:_e[Ie];ze&&(Fe=_e=ze);const Ue=he==null?void 0:he[Ie];Ue&&(Fe=he=Ue),Ve||(Ce=Fe),ze||(_e=Fe),Ue||(he=Fe)}return(he==null?void 0:he[$e])??(_e==null?void 0:_e[$e])??(Ce==null?void 0:Ce[$e])??""}return y}const _hoisted_1$x=["aria-label"],_hoisted_2$d={class:"DocSearch-Button-Container"},_hoisted_3$9={class:"DocSearch-Button-Placeholder"},_sfc_main$J=defineComponent({__name:"VPNavBarSearchButton",setup(r){const g=createSearchTranslate({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(y,$)=>(openBlock(),createElementBlock("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":unref(g)("button.buttonAriaLabel")},[createBaseVNode("span",_hoisted_2$d,[$[0]||($[0]=createBaseVNode("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1)),createBaseVNode("span",_hoisted_3$9,toDisplayString(unref(g)("button.buttonText")),1)]),$[1]||($[1]=createBaseVNode("span",{class:"DocSearch-Button-Keys"},[createBaseVNode("kbd",{class:"DocSearch-Button-Key"}),createBaseVNode("kbd",{class:"DocSearch-Button-Key"},"K")],-1))],8,_hoisted_1$x))}}),_hoisted_1$w={class:"VPNavBarSearch"},_hoisted_2$c={id:"local-search"},_hoisted_3$8={key:1,id:"docsearch"},_sfc_main$I=defineComponent({__name:"VPNavBarSearch",setup(r){const n=defineAsyncComponent(()=>__vitePreload(()=>import("./VPLocalSearchBox.DoK7pjgR.js"),__vite__mapDeps([0,1]))),g=()=>null,{theme:y}=useData(),$=ref$1(!1),L=ref$1(!1);onMounted(()=>{});function re(){$.value||($.value=!0,setTimeout(ae,16))}function ae(){const _e=new Event("keydown");_e.key="k",_e.metaKey=!0,window.dispatchEvent(_e),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||ae()},16)}function le(_e){const Ce=_e.target,$e=Ce.tagName;return Ce.isContentEditable||$e==="INPUT"||$e==="SELECT"||$e==="TEXTAREA"}const ue=ref$1(!1);onKeyStroke("k",_e=>{(_e.ctrlKey||_e.metaKey)&&(_e.preventDefault(),ue.value=!0)}),onKeyStroke("/",_e=>{le(_e)||(_e.preventDefault(),ue.value=!0)});const he="local";return(_e,Ce)=>{var $e;return openBlock(),createElementBlock("div",_hoisted_1$w,[unref(he)==="local"?(openBlock(),createElementBlock(Fragment,{key:0},[ue.value?(openBlock(),createBlock(unref(n),{key:0,onClose:Ce[0]||(Ce[0]=Oe=>ue.value=!1)})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$c,[createVNode$1(_sfc_main$J,{onClick:Ce[1]||(Ce[1]=Oe=>ue.value=!0)})])],64)):unref(he)==="algolia"?(openBlock(),createElementBlock(Fragment,{key:1},[$.value?(openBlock(),createBlock(unref(g),{key:0,algolia:(($e=unref(y).search)==null?void 0:$e.options)??unref(y).algolia,onVnodeBeforeMount:Ce[2]||(Ce[2]=Oe=>L.value=!0)},null,8,["algolia"])):createCommentVNode("",!0),L.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_3$8,[createVNode$1(_sfc_main$J,{onClick:re})]))],64)):createCommentVNode("",!0)])}}}),_sfc_main$H=defineComponent({__name:"VPNavBarSocialLinks",setup(r){const{theme:n}=useData();return(g,y)=>unref(n).socialLinks?(openBlock(),createBlock(VPSocialLinks,{key:0,class:"VPNavBarSocialLinks",links:unref(n).socialLinks},null,8,["links"])):createCommentVNode("",!0)}}),VPNavBarSocialLinks=_export_sfc$1(_sfc_main$H,[["__scopeId","data-v-0394ad82"]]),_hoisted_1$v=["href","rel","target"],_hoisted_2$b=["innerHTML"],_hoisted_3$7={key:2},_sfc_main$G=defineComponent({__name:"VPNavBarTitle",setup(r){const{site:n,theme:g}=useData(),{hasSidebar:y}=useSidebar(),{currentLang:$}=useLangs(),L=computed(()=>{var le;return typeof g.value.logoLink=="string"?g.value.logoLink:(le=g.value.logoLink)==null?void 0:le.link}),re=computed(()=>{var le;return typeof g.value.logoLink=="string"||(le=g.value.logoLink)==null?void 0:le.rel}),ae=computed(()=>{var le;return typeof g.value.logoLink=="string"||(le=g.value.logoLink)==null?void 0:le.target});return(le,ue)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPNavBarTitle",{"has-sidebar":unref(y)}])},[createBaseVNode("a",{class:"title",href:L.value??unref(normalizeLink$1)(unref($).link),rel:re.value,target:ae.value},[renderSlot(le.$slots,"nav-bar-title-before",{},void 0,!0),unref(g).logo?(openBlock(),createBlock(VPImage,{key:0,class:"logo",image:unref(g).logo},null,8,["image"])):createCommentVNode("",!0),unref(g).siteTitle?(openBlock(),createElementBlock("span",{key:1,innerHTML:unref(g).siteTitle},null,8,_hoisted_2$b)):unref(g).siteTitle===void 0?(openBlock(),createElementBlock("span",_hoisted_3$7,toDisplayString(unref(n).title),1)):createCommentVNode("",!0),renderSlot(le.$slots,"nav-bar-title-after",{},void 0,!0)],8,_hoisted_1$v)],2))}}),VPNavBarTitle=_export_sfc$1(_sfc_main$G,[["__scopeId","data-v-1168a8e4"]]),_hoisted_1$u={class:"items"},_hoisted_2$a={class:"title"},_sfc_main$F=defineComponent({__name:"VPNavBarTranslations",setup(r){const{theme:n}=useData(),{localeLinks:g,currentLang:y}=useLangs({correspondingLink:!0});return($,L)=>unref(g).length&&unref(y).label?(openBlock(),createBlock(VPFlyout,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:unref(n).langMenuLabel||"Change language"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$u,[createBaseVNode("p",_hoisted_2$a,toDisplayString(unref(y).label),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g),re=>(openBlock(),createBlock(VPMenuLink,{key:re.link,item:re},null,8,["item"]))),128))])]),_:1},8,["label"])):createCommentVNode("",!0)}}),VPNavBarTranslations=_export_sfc$1(_sfc_main$F,[["__scopeId","data-v-88af2de4"]]),_hoisted_1$t={class:"wrapper"},_hoisted_2$9={class:"container"},_hoisted_3$6={class:"title"},_hoisted_4$6={class:"content"},_hoisted_5$3={class:"content-body"},_sfc_main$E=defineComponent({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(r){const n=r,{y:g}=useWindowScroll(),{hasSidebar:y}=useSidebar(),{frontmatter:$}=useData(),L=ref$1({});return watchPostEffect(()=>{L.value={"has-sidebar":y.value,home:$.value.layout==="home",top:g.value===0,"screen-open":n.isScreenOpen}}),(re,ae)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPNavBar",L.value])},[createBaseVNode("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$6,[createVNode$1(VPNavBarTitle,null,{"nav-bar-title-before":withCtx(()=>[renderSlot(re.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":withCtx(()=>[renderSlot(re.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",_hoisted_5$3,[renderSlot(re.$slots,"nav-bar-content-before",{},void 0,!0),createVNode$1(_sfc_main$I,{class:"search"}),createVNode$1(VPNavBarMenu,{class:"menu"}),createVNode$1(VPNavBarTranslations,{class:"translations"}),createVNode$1(VPNavBarAppearance,{class:"appearance"}),createVNode$1(VPNavBarSocialLinks,{class:"social-links"}),createVNode$1(VPNavBarExtra,{class:"extra"}),renderSlot(re.$slots,"nav-bar-content-after",{},void 0,!0),createVNode$1(VPNavBarHamburger,{class:"hamburger",active:re.isScreenOpen,onClick:ae[0]||(ae[0]=le=>re.$emit("toggle-screen"))},null,8,["active"])])])])]),ae[1]||(ae[1]=createBaseVNode("div",{class:"divider"},[createBaseVNode("div",{class:"divider-line"})],-1))],2))}}),VPNavBar=_export_sfc$1(_sfc_main$E,[["__scopeId","data-v-6aa21345"]]),_hoisted_1$s={key:0,class:"VPNavScreenAppearance"},_hoisted_2$8={class:"text"},_sfc_main$D=defineComponent({__name:"VPNavScreenAppearance",setup(r){const{site:n,theme:g}=useData();return(y,$)=>unref(n).appearance&&unref(n).appearance!=="force-dark"&&unref(n).appearance!=="force-auto"?(openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("p",_hoisted_2$8,toDisplayString(unref(g).darkModeSwitchLabel||"Appearance"),1),createVNode$1(VPSwitchAppearance)])):createCommentVNode("",!0)}}),VPNavScreenAppearance=_export_sfc$1(_sfc_main$D,[["__scopeId","data-v-b44890b2"]]),_hoisted_1$r=["innerHTML"],_sfc_main$C=defineComponent({__name:"VPNavScreenMenuLink",props:{item:{}},setup(r){const n=inject("close-screen");return(g,y)=>(openBlock(),createBlock(_sfc_main$1d,{class:"VPNavScreenMenuLink",href:g.item.link,target:g.item.target,rel:g.item.rel,"no-icon":g.item.noIcon,onClick:unref(n)},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:g.item.text},null,8,_hoisted_1$r)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),VPNavScreenMenuLink=_export_sfc$1(_sfc_main$C,[["__scopeId","data-v-df37e6dd"]]),_hoisted_1$q=["innerHTML"],_sfc_main$B=defineComponent({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(r){const n=inject("close-screen");return(g,y)=>(openBlock(),createBlock(_sfc_main$1d,{class:"VPNavScreenMenuGroupLink",href:g.item.link,target:g.item.target,rel:g.item.rel,"no-icon":g.item.noIcon,onClick:unref(n)},{default:withCtx(()=>[createBaseVNode("span",{innerHTML:g.item.text},null,8,_hoisted_1$q)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),VPNavScreenMenuGroupLink=_export_sfc$1(_sfc_main$B,[["__scopeId","data-v-3e9c20e4"]]),_hoisted_1$p={class:"VPNavScreenMenuGroupSection"},_hoisted_2$7={key:0,class:"title"},_sfc_main$A=defineComponent({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(r){return(n,g)=>(openBlock(),createElementBlock("div",_hoisted_1$p,[n.text?(openBlock(),createElementBlock("p",_hoisted_2$7,toDisplayString(n.text),1)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.items,y=>(openBlock(),createBlock(VPNavScreenMenuGroupLink,{key:y.text,item:y},null,8,["item"]))),128))]))}}),VPNavScreenMenuGroupSection=_export_sfc$1(_sfc_main$A,[["__scopeId","data-v-8133b170"]]),_hoisted_1$o=["aria-controls","aria-expanded"],_hoisted_2$6=["innerHTML"],_hoisted_3$5=["id"],_hoisted_4$5={key:0,class:"item"},_hoisted_5$2={key:1,class:"item"},_hoisted_6={key:2,class:"group"},_sfc_main$z=defineComponent({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(r){const n=r,g=ref$1(!1),y=computed(()=>`NavScreenGroup-${n.text.replace(" ","-").toLowerCase()}`);function $(){g.value=!g.value}return(L,re)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["VPNavScreenMenuGroup",{open:g.value}])},[createBaseVNode("button",{class:"button","aria-controls":y.value,"aria-expanded":g.value,onClick:$},[createBaseVNode("span",{class:"button-text",innerHTML:L.text},null,8,_hoisted_2$6),re[0]||(re[0]=createBaseVNode("span",{class:"vpi-plus button-icon"},null,-1))],8,_hoisted_1$o),createBaseVNode("div",{id:y.value,class:"items"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.items,ae=>(openBlock(),createElementBlock(Fragment,{key:JSON.stringify(ae)},["link"in ae?(openBlock(),createElementBlock("div",_hoisted_4$5,[createVNode$1(VPNavScreenMenuGroupLink,{item:ae},null,8,["item"])])):"component"in ae?(openBlock(),createElementBlock("div",_hoisted_5$2,[(openBlock(),createBlock(resolveDynamicComponent(ae.component),mergeProps({ref_for:!0},ae.props,{"screen-menu":""}),null,16))])):(openBlock(),createElementBlock("div",_hoisted_6,[createVNode$1(VPNavScreenMenuGroupSection,{text:ae.text,items:ae.items},null,8,["text","items"])]))],64))),128))],8,_hoisted_3$5)],2))}}),VPNavScreenMenuGroup=_export_sfc$1(_sfc_main$z,[["__scopeId","data-v-b9ab8c58"]]),_hoisted_1$n={key:0,class:"VPNavScreenMenu"},_sfc_main$y=defineComponent({__name:"VPNavScreenMenu",setup(r){const{theme:n}=useData();return(g,y)=>unref(n).nav?(openBlock(),createElementBlock("nav",_hoisted_1$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).nav,$=>(openBlock(),createElementBlock(Fragment,{key:JSON.stringify($)},["link"in $?(openBlock(),createBlock(VPNavScreenMenuLink,{key:0,item:$},null,8,["item"])):"component"in $?(openBlock(),createBlock(resolveDynamicComponent($.component),mergeProps({key:1,ref_for:!0},$.props,{"screen-menu":""}),null,16)):(openBlock(),createBlock(VPNavScreenMenuGroup,{key:2,text:$.text||"",items:$.items},null,8,["text","items"]))],64))),128))])):createCommentVNode("",!0)}}),_sfc_main$x=defineComponent({__name:"VPNavScreenSocialLinks",setup(r){const{theme:n}=useData();return(g,y)=>unref(n).socialLinks?(openBlock(),createBlock(VPSocialLinks,{key:0,class:"VPNavScreenSocialLinks",links:unref(n).socialLinks},null,8,["links"])):createCommentVNode("",!0)}}),_hoisted_1$m={class:"list"},_sfc_main$w=defineComponent({__name:"VPNavScreenTranslations",setup(r){const{localeLinks:n,currentLang:g}=useLangs({correspondingLink:!0}),y=ref$1(!1);function $(){y.value=!y.value}return(L,re)=>unref(n).length&&unref(g).label?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["VPNavScreenTranslations",{open:y.value}])},[createBaseVNode("button",{class:"title",onClick:$},[re[0]||(re[0]=createBaseVNode("span",{class:"vpi-languages icon lang"},null,-1)),createTextVNode(" "+toDisplayString(unref(g).label)+" ",1),re[1]||(re[1]=createBaseVNode("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),createBaseVNode("ul",_hoisted_1$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n),ae=>(openBlock(),createElementBlock("li",{key:ae.link,class:"item"},[createVNode$1(_sfc_main$1d,{class:"link",href:ae.link},{default:withCtx(()=>[createTextVNode(toDisplayString(ae.text),1)]),_:2},1032,["href"])]))),128))])],2)):createCommentVNode("",!0)}}),VPNavScreenTranslations=_export_sfc$1(_sfc_main$w,[["__scopeId","data-v-858fe1a4"]]),_hoisted_1$l={class:"container"},_sfc_main$v=defineComponent({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(r){const n=ref$1(null),g=useScrollLock(inBrowser?document.body:null);return(y,$)=>(openBlock(),createBlock(Transition,{name:"fade",onEnter:$[0]||($[0]=L=>g.value=!0),onAfterLeave:$[1]||($[1]=L=>g.value=!1)},{default:withCtx(()=>[y.open?(openBlock(),createElementBlock("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:n,id:"VPNavScreen"},[createBaseVNode("div",_hoisted_1$l,[renderSlot(y.$slots,"nav-screen-content-before",{},void 0,!0),createVNode$1(_sfc_main$y,{class:"menu"}),createVNode$1(VPNavScreenTranslations,{class:"translations"}),createVNode$1(VPNavScreenAppearance,{class:"appearance"}),createVNode$1(_sfc_main$x,{class:"social-links"}),renderSlot(y.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):createCommentVNode("",!0)]),_:3}))}}),VPNavScreen=_export_sfc$1(_sfc_main$v,[["__scopeId","data-v-f2779853"]]),_hoisted_1$k={key:0,class:"VPNav"},_sfc_main$u=defineComponent({__name:"VPNav",setup(r){const{isScreenOpen:n,closeScreen:g,toggleScreen:y}=useNav(),{frontmatter:$}=useData(),L=computed(()=>$.value.navbar!==!1);return provide("close-screen",g),watchEffect(()=>{inBrowser&&document.documentElement.classList.toggle("hide-nav",!L.value)}),(re,ae)=>L.value?(openBlock(),createElementBlock("header",_hoisted_1$k,[createVNode$1(VPNavBar,{"is-screen-open":unref(n),onToggleScreen:unref(y)},{"nav-bar-title-before":withCtx(()=>[renderSlot(re.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":withCtx(()=>[renderSlot(re.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":withCtx(()=>[renderSlot(re.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":withCtx(()=>[renderSlot(re.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),createVNode$1(VPNavScreen,{open:unref(n)},{"nav-screen-content-before":withCtx(()=>[renderSlot(re.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":withCtx(()=>[renderSlot(re.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):createCommentVNode("",!0)}}),VPNav=_export_sfc$1(_sfc_main$u,[["__scopeId","data-v-ae24b3ad"]]),_hoisted_1$j=["role","tabindex"],_hoisted_2$5={key:1,class:"items"},_sfc_main$t=defineComponent({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(r){const n=r,{collapsed:g,collapsible:y,isLink:$,isActiveLink:L,hasActiveLink:re,hasChildren:ae,toggle:le}=useSidebarControl(computed(()=>n.item)),ue=computed(()=>ae.value?"section":"div"),he=computed(()=>$.value?"a":"div"),_e=computed(()=>ae.value?n.depth+2===7?"p":`h${n.depth+2}`:"p"),Ce=computed(()=>$.value?void 0:"button"),$e=computed(()=>[[`level-${n.depth}`],{collapsible:y.value},{collapsed:g.value},{"is-link":$.value},{"is-active":L.value},{"has-active":re.value}]);function Oe(Ne){"key"in Ne&&Ne.key!=="Enter"||!n.item.link&&le()}function xe(){n.item.link&&le()}return(Ne,Ie)=>{const Fe=resolveComponent("VPSidebarItem",!0);return openBlock(),createBlock(resolveDynamicComponent(ue.value),{class:normalizeClass(["VPSidebarItem",$e.value])},{default:withCtx(()=>[Ne.item.text?(openBlock(),createElementBlock("div",mergeProps({key:0,class:"item",role:Ce.value},toHandlers(Ne.item.items?{click:Oe,keydown:Oe}:{},!0),{tabindex:Ne.item.items&&0}),[Ie[1]||(Ie[1]=createBaseVNode("div",{class:"indicator"},null,-1)),Ne.item.link?(openBlock(),createBlock(_sfc_main$1d,{key:0,tag:he.value,class:"link",href:Ne.item.link,rel:Ne.item.rel,target:Ne.item.target},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_e.value),{class:"text",innerHTML:Ne.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(openBlock(),createBlock(resolveDynamicComponent(_e.value),{key:1,class:"text",innerHTML:Ne.item.text},null,8,["innerHTML"])),Ne.item.collapsed!=null&&Ne.item.items&&Ne.item.items.length?(openBlock(),createElementBlock("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:xe,onKeydown:withKeys(xe,["enter"]),tabindex:"0"},Ie[0]||(Ie[0]=[createBaseVNode("span",{class:"vpi-chevron-right caret-icon"},null,-1)]),32)):createCommentVNode("",!0)],16,_hoisted_1$j)):createCommentVNode("",!0),Ne.item.items&&Ne.item.items.length?(openBlock(),createElementBlock("div",_hoisted_2$5,[Ne.depth<5?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Ne.item.items,Ve=>(openBlock(),createBlock(Fe,{key:Ve.text,item:Ve,depth:Ne.depth+1},null,8,["item","depth"]))),128)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:1},8,["class"])}}}),VPSidebarItem=_export_sfc$1(_sfc_main$t,[["__scopeId","data-v-b7550ba0"]]),_sfc_main$s=defineComponent({__name:"VPSidebarGroup",props:{items:{}},setup(r){const n=ref$1(!0);let g=null;return onMounted(()=>{g=setTimeout(()=>{g=null,n.value=!1},300)}),onBeforeUnmount(()=>{g!=null&&(clearTimeout(g),g=null)}),(y,$)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(y.items,L=>(openBlock(),createElementBlock("div",{key:L.text,class:normalizeClass(["group",{"no-transition":n.value}])},[createVNode$1(VPSidebarItem,{item:L,depth:0},null,8,["item"])],2))),128))}}),VPSidebarGroup=_export_sfc$1(_sfc_main$s,[["__scopeId","data-v-c40bc020"]]),_hoisted_1$i={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},_sfc_main$r=defineComponent({__name:"VPSidebar",props:{open:{type:Boolean}},setup(r){const{sidebarGroups:n,hasSidebar:g}=useSidebar(),y=r,$=ref$1(null),L=useScrollLock(inBrowser?document.body:null);watch$1([y,$],()=>{var ae;y.open?(L.value=!0,(ae=$.value)==null||ae.focus()):L.value=!1},{immediate:!0,flush:"post"});const re=ref$1(0);return watch$1(n,()=>{re.value+=1},{deep:!0}),(ae,le)=>unref(g)?(openBlock(),createElementBlock("aside",{key:0,class:normalizeClass(["VPSidebar",{open:ae.open}]),ref_key:"navEl",ref:$,onClick:le[0]||(le[0]=withModifiers(()=>{},["stop"]))},[le[2]||(le[2]=createBaseVNode("div",{class:"curtain"},null,-1)),createBaseVNode("nav",_hoisted_1$i,[le[1]||(le[1]=createBaseVNode("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),renderSlot(ae.$slots,"sidebar-nav-before",{},void 0,!0),(openBlock(),createBlock(VPSidebarGroup,{items:unref(n),key:re.value},null,8,["items"])),renderSlot(ae.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):createCommentVNode("",!0)}}),VPSidebar=_export_sfc$1(_sfc_main$r,[["__scopeId","data-v-319d5ca6"]]),_sfc_main$q=defineComponent({__name:"VPSkipLink",setup(r){const n=useRoute(),g=ref$1();watch$1(()=>n.path,()=>g.value.focus());function y({target:$}){const L=document.getElementById(decodeURIComponent($.hash).slice(1));if(L){const re=()=>{L.removeAttribute("tabindex"),L.removeEventListener("blur",re)};L.setAttribute("tabindex","-1"),L.addEventListener("blur",re),L.focus(),window.scrollTo(0,0)}}return($,L)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("span",{ref_key:"backToTop",ref:g,tabindex:"-1"},null,512),createBaseVNode("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:y}," Skip to content ")],64))}}),VPSkipLink=_export_sfc$1(_sfc_main$q,[["__scopeId","data-v-0f60ec36"]]),_sfc_main$p=defineComponent({__name:"Layout",setup(r){const{isOpen:n,open:g,close:y}=useSidebar(),$=useRoute();watch$1(()=>$.path,y),useCloseSidebarOnEscape(n,y);const{frontmatter:L}=useData(),re=useSlots(),ae=computed(()=>!!re["home-hero-image"]);return provide("hero-image-slot-exists",ae),(le,ue)=>{const he=resolveComponent("Content");return unref(L).layout!==!1?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["Layout",unref(L).pageClass])},[renderSlot(le.$slots,"layout-top",{},void 0,!0),createVNode$1(VPSkipLink),createVNode$1(VPBackdrop,{class:"backdrop",show:unref(n),onClick:unref(y)},null,8,["show","onClick"]),createVNode$1(VPNav,null,{"nav-bar-title-before":withCtx(()=>[renderSlot(le.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":withCtx(()=>[renderSlot(le.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":withCtx(()=>[renderSlot(le.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":withCtx(()=>[renderSlot(le.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":withCtx(()=>[renderSlot(le.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":withCtx(()=>[renderSlot(le.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),createVNode$1(VPLocalNav,{open:unref(n),onOpenMenu:unref(g)},null,8,["open","onOpenMenu"]),createVNode$1(VPSidebar,{open:unref(n)},{"sidebar-nav-before":withCtx(()=>[renderSlot(le.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":withCtx(()=>[renderSlot(le.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),createVNode$1(VPContent,null,{"page-top":withCtx(()=>[renderSlot(le.$slots,"page-top",{},void 0,!0)]),"page-bottom":withCtx(()=>[renderSlot(le.$slots,"page-bottom",{},void 0,!0)]),"not-found":withCtx(()=>[renderSlot(le.$slots,"not-found",{},void 0,!0)]),"home-hero-before":withCtx(()=>[renderSlot(le.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":withCtx(()=>[renderSlot(le.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":withCtx(()=>[renderSlot(le.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":withCtx(()=>[renderSlot(le.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":withCtx(()=>[renderSlot(le.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":withCtx(()=>[renderSlot(le.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":withCtx(()=>[renderSlot(le.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":withCtx(()=>[renderSlot(le.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":withCtx(()=>[renderSlot(le.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":withCtx(()=>[renderSlot(le.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":withCtx(()=>[renderSlot(le.$slots,"doc-before",{},void 0,!0)]),"doc-after":withCtx(()=>[renderSlot(le.$slots,"doc-after",{},void 0,!0)]),"doc-top":withCtx(()=>[renderSlot(le.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":withCtx(()=>[renderSlot(le.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":withCtx(()=>[renderSlot(le.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":withCtx(()=>[renderSlot(le.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":withCtx(()=>[renderSlot(le.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":withCtx(()=>[renderSlot(le.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":withCtx(()=>[renderSlot(le.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":withCtx(()=>[renderSlot(le.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),createVNode$1(VPFooter),renderSlot(le.$slots,"layout-bottom",{},void 0,!0)],2)):(openBlock(),createBlock(he,{key:1}))}}}),Layout=_export_sfc$1(_sfc_main$p,[["__scopeId","data-v-5d98c3a5"]]),theme$2={Layout,enhanceApp:({app:r})=>{r.component("Badge",_sfc_main$1k)}},defaultNamespace="demoblock",statePrefix="is-",_bem=(r,n,g,y,$)=>{let L=`${r}-${n}`;return g&&(L+=`-${g}`),y&&(L+=`__${y}`),$&&(L+=`--${$}`),L},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=r=>{const n=inject(namespaceContextKey,ref$1(defaultNamespace));return computed(()=>unref(n)||defaultNamespace)},useNamespace=(r,n)=>{const g=useGetDerivedNamespace();return{namespace:g,b:(xe="")=>_bem(g.value,r,xe,"",""),e:xe=>xe?_bem(g.value,r,"",xe,""):"",m:xe=>xe?_bem(g.value,r,"","",xe):"",be:(xe,Ne)=>xe&&Ne?_bem(g.value,r,xe,Ne,""):"",em:(xe,Ne)=>xe&&Ne?_bem(g.value,r,"",xe,Ne):"",bm:(xe,Ne)=>xe&&Ne?_bem(g.value,r,xe,"",Ne):"",bem:(xe,Ne,Ie)=>xe&&Ne&&Ie?_bem(g.value,r,xe,Ne,Ie):"",is:(xe,...Ne)=>{const Ie=Ne.length>=1?Ne[0]:!0;return xe&&Ie?`${statePrefix}${xe}`:""},cssVar:xe=>{const Ne={};for(const Ie in xe)xe[Ie]&&(Ne[`--${g.value}-${Ie}`]=xe[Ie]);return Ne},cssVarName:xe=>`--${g.value}-${xe}`,cssVarBlock:xe=>{const Ne={};for(const Ie in xe)xe[Ie]&&(Ne[`--${g.value}-${r}-${Ie}`]=xe[Ie]);return Ne},cssVarBlockName:xe=>`--${g.value}-${r}-${xe}`}};function utoa(r){return btoa(unescape(encodeURIComponent(r)))}const MAIN_FILE_NAME="App.vue",usePlayground=r=>{const n=decodeURIComponent(r),g={[MAIN_FILE_NAME]:n},y=utoa(JSON.stringify(g)),$=`https://play.vuejs.org/#${y}`;return{encoded:y,link:$}},_sfc_main$o={name:"FluentCheckmarkCircle16Filled"},_hoisted_1$h={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"};function _sfc_render$c(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$h,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2Zm2.12 4.164L7.25 9.042L5.854 7.646a.5.5 0 1 0-.708.708l1.75 1.75a.5.5 0 0 0 .708 0l3.224-3.234a.5.5 0 0 0-.708-.706Z"},null,-1)]))}const FluentCheckmarkCircle16Filled=_export_sfc$1(_sfc_main$o,[["render",_sfc_render$c]]),_sfc_main$n={name:"FluentDismissCircle16Filled"},_hoisted_1$g={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"};function _sfc_render$b(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$g,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2ZM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057Z"},null,-1)]))}const FluentDismissCircle16Filled=_export_sfc$1(_sfc_main$n,[["render",_sfc_render$b]]),_sfc_main$m={name:"FluentErrorCircle16Filled"},_hoisted_1$f={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"};function _sfc_render$a(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$f,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2Zm0 8a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5Zm0-5.5a.5.5 0 0 0-.492.41L7.5 5v3.5l.008.09a.5.5 0 0 0 .984 0L8.5 8.5V5l-.008-.09A.5.5 0 0 0 8 4.5Z"},null,-1)]))}const FluentErrorCircle16Filled=_export_sfc$1(_sfc_main$m,[["render",_sfc_render$a]]);let seed=0;function getUuid(){return"message_"+seed++}const _sfc_main$l=defineComponent({components:{FluentCheckmarkCircle16Filled,FluentDismissCircle16Filled,FluentErrorCircle16Filled},setup(){const r={info:"FluentErrorCircle16Filled",success:"FluentCheckmarkCircle16Filled",warning:"FluentDismissCircle16Filled",error:"FluentErrorCircle16Filled"},n=ref$1([]);function g($){const L=getUuid(),re={name:L,show:!0,...$};n.value.push(re);const ae=$.duration;setTimeout(()=>{y(L)},ae*1e3)}function y($){for(const[L,re]of n.value.entries())if(re.name===$){n.value.splice(L,1);break}}return{components:r,messages:n,add:g,remove:y}}}),_hoisted_1$e={class:"demoblock-message-content"};function _sfc_render$9(r,n,g,y,$,L){return openBlock(),createBlock(TransitionGroup,{name:"demoblock-fade-transition",tag:"div",class:"demoblock-messages"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.messages,re=>(openBlock(),createElementBlock("div",{key:re.name,class:"demoblock-message-wrap"},[createBaseVNode("div",{class:normalizeClass(["demoblock-message",re.type?`demoblock-message--${re.type}`:""])},[(openBlock(),createBlock(resolveDynamicComponent(r.components[re.type]),{class:"demoblock-message-icon"})),createBaseVNode("div",_hoisted_1$e,toDisplayString(re.content),1)],2)]))),128))]),_:1})}const Message=_export_sfc$1(_sfc_main$l,[["render",_sfc_render$9],["__scopeId","data-v-5ab21857"]]);Message.newInstance=(r={})=>{const n=document.createElement("div"),$=createApp({render(){return h$1(Message,{...r,ref:"messageRef"})}}).mount(n).$refs.messageRef;return document.body.appendChild(n.firstElementChild),{add(L){$.add(L)},remove(L){$.remove(L)}}};let messageInstance;function getMessageInstance(){return messageInstance=messageInstance||Message.newInstance(),messageInstance}function message(r,{duration:n=3,type:g=""}){getMessageInstance().add({content:r,duration:n,type:g})}const message$1={info(r,n){return message(r,{...n,type:"info"})},warning(r,n){return message(r,{...n,type:"warning"})},success(r,n){return message(r,{...n,type:"success"})},error(r,n){return message(r,{...n,type:"error"})}},_sfc_main$k={name:"RiFlaskLine"},_hoisted_1$d={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function _sfc_render$8(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$d,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M16 2v2h-1v3.243a8 8 0 0 0 .736 3.352l4.281 9.276A1.5 1.5 0 0 1 18.655 22H5.344a1.5 1.5 0 0 1-1.362-2.129l4.281-9.276A8 8 0 0 0 9 7.243V4H8V2h8Zm-2.613 8.001h-2.776a9.986 9.986 0 0 1-.374 1.071l-.158.362L6.124 20h11.75l-3.954-8.566A9.99 9.99 0 0 1 13.387 10ZM11 7.243c0 .253-.01.506-.028.758h2.057a9.59 9.59 0 0 1-.02-.364L13 7.243V4h-2v3.243Z"},null,-1)]))}const RiFlaskLine=_export_sfc$1(_sfc_main$k,[["render",_sfc_render$8]]),_sfc_main$j={name:"RiGithubLine"},_hoisted_1$c={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function _sfc_render$7(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$c,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M5.884 18.653c-.3-.2-.558-.456-.86-.816a50.59 50.59 0 0 1-.466-.579c-.463-.575-.755-.841-1.056-.95a1 1 0 1 1 .675-1.882c.752.27 1.261.735 1.947 1.588c-.094-.117.34.427.433.539c.19.227.33.365.44.438c.204.137.588.196 1.15.14c.024-.382.094-.753.202-1.096c-2.968-.725-4.648-2.64-4.648-6.396c0-1.238.37-2.355 1.058-3.291c-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.583c.081-.024.127-.034.208-.047c.803-.123 1.937.17 3.415 1.097a11.731 11.731 0 0 1 2.687-.308c.912 0 1.819.103 2.684.308c1.477-.933 2.614-1.227 3.422-1.097c.085.014.158.032.218.051a1 1 0 0 1 .616.58c.487 1.215.52 2.296.302 3.19c.691.936 1.058 2.045 1.058 3.292c0 3.758-1.674 5.666-4.642 6.393c.125.415.19.878.19 1.38c0 .664-.002 1.299-.007 2.01c0 .19-.002.394-.005.706a1 1 0 0 1-.018 1.957c-1.14.228-1.984-.532-1.984-1.524l.002-.447l.005-.705c.005-.707.008-1.338.008-1.997c0-.697-.184-1.152-.426-1.361c-.661-.57-.326-1.654.541-1.751c2.966-.334 4.336-1.483 4.336-4.66c0-.955-.312-1.745-.913-2.405a1 1 0 0 1-.189-1.044c.166-.415.236-.957.095-1.614l-.01.002c-.491.14-1.11.44-1.858.95a1 1 0 0 1-.833.135a9.626 9.626 0 0 0-2.592-.35c-.89 0-1.772.12-2.592.35a1 1 0 0 1-.829-.133c-.753-.507-1.374-.807-1.87-.947c-.143.653-.072 1.194.093 1.607a1 1 0 0 1-.189 1.044c-.597.656-.913 1.459-.913 2.404c0 3.172 1.371 4.33 4.322 4.66c.865.098 1.202 1.178.545 1.749c-.193.167-.43.732-.43 1.364v3.149c0 .986-.834 1.726-1.96 1.529a1 1 0 0 1-.04-1.963v-.99c-.91.062-1.661-.087-2.254-.484Z"},null,-1)]))}const RiGithubLine=_export_sfc$1(_sfc_main$j,[["render",_sfc_render$7]]),_sfc_main$i={name:"RiFileCopyLine"},_hoisted_1$b={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function _sfc_render$6(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$b,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.006-1H7ZM5.002 8L5 20h10V8H5.002ZM9 6h8v10h2V4H9v2Z"},null,-1)]))}const RiFileCopyLine=_export_sfc$1(_sfc_main$i,[["render",_sfc_render$6]]),_sfc_main$h={name:"RiCodeLine"},_hoisted_1$a={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function _sfc_render$5(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$a,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"m23 12l-7.071 7.07l-1.414-1.413L20.172 12l-5.657-5.657l1.414-1.414L23 11.999ZM3.828 12l5.657 5.657l-1.414 1.414L1 12l7.071-7.071l1.414 1.414L3.828 12Z"},null,-1)]))}const RiCodeLine=_export_sfc$1(_sfc_main$h,[["render",_sfc_render$5]]),_sfc_main$g={name:"EpCaretTop"},_hoisted_1$9={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"};function _sfc_render$4(r,n,g,y,$,L){return openBlock(),createElementBlock("svg",_hoisted_1$9,n[0]||(n[0]=[createBaseVNode("path",{fill:"currentColor",d:"M512 320L192 704h639.936z"},null,-1)]))}const EpCaretTop=_export_sfc$1(_sfc_main$g,[["render",_sfc_render$4]]),_sfc_main$f={props:{placement:{type:String,default:"top"},content:{type:String,default:""}},setup(r){const n=ref$1(null),g=ref$1(null),y=ref$1(!1);function $(){computePosition(n.value,g.value,{placement:r.placement,middleware:[offset$2(11),flip$2(),shift$1()]}).then(({x:le,y:ue,placement:he,middlewareData:_e})=>{var Ce;Object.assign((Ce=g.value)==null?void 0:Ce.style,{left:0,top:0,transform:`translate(${le}px, ${ue}px)`,willChange:"transform",pointerEvents:"none"})})}function L(){y.value=!0,$()}function re(){y.value=!1}return{reference:n,floating:g,showFloating:y,componentProps:{mouseenter:L,mouseleave:re,focus:L,blur:re},showTooltip:L}}},_hoisted_1$8={class:"demoblock-tooltip"};function _sfc_render$3(r,n,g,y,$,L){return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",mergeProps({ref:"reference",class:"demoblock-tooltip-trigger"},toHandlers(y.componentProps,!0)),[renderSlot(r.$slots,"default",{},void 0,!0)],16),withDirectives(createBaseVNode("div",{ref:"floating",class:"demoblock-tooltip-content"},toDisplayString(g.content),513),[[vShow,y.showFloating]])])}const Tooltip=_export_sfc$1(_sfc_main$f,[["render",_sfc_render$3],["__scopeId","data-v-674b8197"]]),_sfc_main$e=defineComponent({setup(){return{ns:useNamespace("collapse-transition"),on:{beforeEnter(g){g.dataset||(g.dataset={}),g.dataset.oldPaddingTop=g.style.paddingTop,g.dataset.oldPaddingBottom=g.style.paddingBottom,g.style.maxHeight=0,g.style.paddingTop=0,g.style.paddingBottom=0},enter(g){g.dataset.oldOverflow=g.style.overflow,g.scrollHeight!==0?(g.style.maxHeight=`${g.scrollHeight}px`,g.style.paddingTop=g.dataset.oldPaddingTop,g.style.paddingBottom=g.dataset.oldPaddingBottom):(g.style.maxHeight=0,g.style.paddingTop=g.dataset.oldPaddingTop,g.style.paddingBottom=g.dataset.oldPaddingBottom),g.style.overflow="hidden"},afterEnter(g){g.style.maxHeight="",g.style.overflow=g.dataset.oldOverflow},beforeLeave(g){g.dataset||(g.dataset={}),g.dataset.oldPaddingTop=g.style.paddingTop,g.dataset.oldPaddingBottom=g.style.paddingBottom,g.dataset.oldOverflow=g.style.overflow,g.style.maxHeight=`${g.scrollHeight}px`,g.style.overflow="hidden"},leave(g){g.scrollHeight!==0&&(g.style.maxHeight=0,g.style.paddingTop=0,g.style.paddingBottom=0)},afterLeave(g){g.style.maxHeight="",g.style.overflow=g.dataset.oldOverflow,g.style.paddingTop=g.dataset.oldPaddingTop,g.style.paddingBottom=g.dataset.oldPaddingBottom}}}}});function _sfc_render$2(r,n,g,y,$,L){return openBlock(),createBlock(Transition,mergeProps({name:r.ns.b()},toHandlers(r.on)),{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3},16,["name"])}const CollapseTransition=_export_sfc$1(_sfc_main$e,[["render",_sfc_render$2]]),_sfc_main$d={components:{RiFlaskLine,RiGithubLine,RiFileCopyLine,RiCodeLine,EpCaretTop,Tooltip,CollapseTransition},props:{customClass:String,sourceCode:String,options:String},setup(props,ctx){const{copy}=useClipboard(),data=useData$2(),route=useRoute();let instance;onMounted(()=>{instance=getCurrentInstance()}),watch$1(()=>route.path,r=>{pathArr.value=r.split("/")});const pathArr=ref$1(route.path.split("/")),component=computed(()=>pathArr.value[pathArr.value.length-1].split(".")[0]),blockClass=computed(()=>`demo-${component.value}`),source=ref$1(null),control=ref$1(null),demoblock=ref$1(null),onPlaygroundClick=()=>{const{link:r}=usePlayground(props.sourceCode);isClient$1&&window.open(r)},isExpanded=ref$1(!1),onControlClick=()=>{isExpanded.value=!isExpanded.value},locale=computed(()=>{var r;return((r=data.theme.value.demoblock)==null?void 0:r[data.localeIndex.value])??{"view-source":"","hide-source":"","edit-in-editor":" Playground ","edit-on-github":" Github ","copy-code":"","copy-success":"","copy-error":""}}),onCopy=async()=>{const options=JSON.parse(props.options);try{if(copy(props.sourceCode),options.onCopySuccess){const onCopySuccess=eval(options.onCopySuccess);onCopySuccess(instance,locale.value["copy-success"])}else message$1.success(locale.value["copy-success"])}catch(err){if(options.onCopyError){const onCopyError=eval(options.onCopyError);onCopyError(instance,locale.value["copy-error"])}else message$1.error(locale.value["copy-error"])}};return{blockClass,locale,source,control,demoblock,isExpanded,onControlClick,onCopy,onPlaygroundClick}}},_hoisted_1$7={class:"demoblock-view vp-raw"},_hoisted_2$4={class:"demoblock-op-btns"},_hoisted_3$4={ref:"source",class:"demoblock-source"},_hoisted_4$4={class:"highlight"},_hoisted_5$1={class:"control-text"};function _sfc_render$1(r,n,g,y,$,L){const re=resolveComponent("RiFlaskLine"),ae=resolveComponent("Tooltip"),le=resolveComponent("RiGithubLine"),ue=resolveComponent("RiFileCopyLine"),he=resolveComponent("RiCodeLine"),_e=resolveComponent("CollapseTransition"),Ce=resolveComponent("EpCaretTop"),$e=resolveComponent("ClientOnly");return openBlock(),createBlock($e,null,{default:withCtx(()=>[createBaseVNode("div",{ref:"demoblock",class:normalizeClass(["demoblock",y.blockClass,g.customClass?g.customClass:""])},[createBaseVNode("div",_hoisted_1$7,[renderSlot(r.$slots,"default",{},void 0,!0)]),n[1]||(n[1]=createBaseVNode("div",{class:"demoblock-divider demoblock-divider--horizontal"},null,-1)),createBaseVNode("div",_hoisted_2$4,[createCommentVNode("",!0),createCommentVNode("",!0),createVNode$1(ae,{placement:"top",content:y.locale["copy-code"]},{default:withCtx(()=>[createVNode$1(ue,{class:"demoblock-op-btn",onClick:y.onCopy},null,8,["onClick"])]),_:1},8,["content"]),createVNode$1(ae,{placement:"top",content:y.locale["view-source"]},{default:withCtx(()=>[createVNode$1(he,{class:"demoblock-op-btn",onClick:y.onControlClick},null,8,["onClick"])]),_:1},8,["content"])]),createVNode$1(_e,null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$4,[renderSlot(r.$slots,"highlight",{},void 0,!0)])],512),[[vShow,y.isExpanded]])]),_:3}),createVNode$1(Transition,{name:"demoblock-fade-in-linear"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref:"control",class:"demoblock-control",onClick:n[0]||(n[0]=(...Oe)=>y.onControlClick&&y.onControlClick(...Oe))},[createVNode$1(Ce,{class:"control-icon"}),createBaseVNode("span",_hoisted_5$1,toDisplayString(y.locale["hide-source"]),1)],512),[[vShow,y.isExpanded]])]),_:1})],2)]),_:3})}const Demo=_export_sfc$1(_sfc_main$d,[["render",_sfc_render$1],["__scopeId","data-v-e0a2c07b"]]),_sfc_main$c=defineComponent({name:"DemoBlock",props:{customClass:String}}),_hoisted_1$6={class:"demoblock-view"};function _sfc_render(r,n,g,y,$,L){return openBlock(),createElementBlock("div",{class:normalizeClass(["demoblock",[r.customClass?r.customClass:""]])},[createBaseVNode("div",_hoisted_1$6,[renderSlot(r.$slots,"default",{},void 0,!0)])],2)}const DemoBlock=_export_sfc$1(_sfc_main$c,[["render",_sfc_render],["__scopeId","data-v-9f2540cd"]]);function useComponents(r){r.component("Demo",Demo),r.component("DemoBlock",DemoBlock)}var zhCn={name:"zh-cn",el:{breadcrumb:{label:""},colorpicker:{confirm:"",clear:"",defaultLabel:"",description:" {color} Enter ",alphaLabel:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",dateTablePrompt:" Enter ",monthTablePrompt:" Enter ",yearTablePrompt:" Enter ",selectedDate:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},weeksFull:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},inputNumber:{decrease:"",increase:""},select:{loading:"",noMatch:"",noData:"",placeholder:""},dropdown:{toggleDropdown:""},mention:{loading:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:"",page:"",prev:"",next:"",currentPage:" {pager} ",prevPages:" {pager} ",nextPages:" {pager} ",deprecationWarning:" el-pagination "},dialog:{close:""},drawer:{close:""},messagebox:{title:"",confirm:"",cancel:"",error:"!",close:""},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},slider:{defaultLabel:" {min}  {max}",defaultRangeStartLabel:"",defaultRangeEndLabel:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tour:{next:"",previous:"",finish:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""},carousel:{leftArrow:"",rightArrow:"",indicator:" {index}"}}};const AjmerFontIcon=defineComponent({name:"AjmerFontIcon",props:{icon:{type:String,default:""}},render(){const r=this.$attrs;return Object.keys(r).includes("uni")||(r==null?void 0:r.iconType)==="uni"?h$1("i",{class:"iconfont",...r},this.icon):Object.keys(r).includes("svg")||(r==null?void 0:r.iconType)==="svg"?h$1("svg",{class:"icon-svg","aria-hidden":!0},{default:()=>[h$1("use",{"xlink:href":`#${this.icon}`})]}):h$1("i",{class:`iconfont ${this.icon}`,...r})}});AjmerFontIcon.install=r=>{r.component(AjmerFontIcon.name,AjmerFontIcon)};const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations});Object.freeze({...defaultIconProps,body:"",hidden:!1});({...defaultIconDimensions});const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations});function mergeCustomisations(r,n){const g={...r};for(const y in n){const $=n[y],L=typeof $;y in defaultIconSizeCustomisations?($===null||$&&(L==="string"||L==="number"))&&(g[y]=$):L===typeof g[y]&&(g[y]=y==="rotate"?$%4:$)}return g}const separator=/[\s,]+/;function flipFromString(r,n){n.split(separator).forEach(g=>{switch(g.trim()){case"horizontal":r.hFlip=!0;break;case"vertical":r.vFlip=!0;break}})}function rotateFromString(r,n=0){const g=r.replace(/^-?[0-9.]*/,"");function y($){for(;$<0;)$+=4;return $%4}if(g===""){const $=parseInt(r);return isNaN($)?0:y($)}else if(g!==r){let $=0;switch(g){case"%":$=25;break;case"deg":$=90}if($){let L=parseFloat(r.slice(0,r.length-g.length));return isNaN(L)?0:(L=L/$,L%1===0?y(L):0)}}return n}const unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(r,n,g){if(n===1)return r;if(g=g||100,typeof r=="number")return Math.ceil(r*n*g)/g;if(typeof r!="string")return r;const y=r.split(unitsSplit);if(y===null||!y.length)return r;const $=[];let L=y.shift(),re=unitsTest.test(L);for(;;){if(re){const ae=parseFloat(L);isNaN(ae)?$.push(L):$.push(Math.ceil(ae*n*g)/g)}else $.push(L);if(L=y.shift(),L===void 0)return $.join("");re=!re}}function splitSVGDefs(r,n="defs"){let g="";const y=r.indexOf("<"+n);for(;y>=0;){const $=r.indexOf(">",y),L=r.indexOf("</"+n);if($===-1||L===-1)break;const re=r.indexOf(">",L);if(re===-1)break;g+=r.slice($+1,L).trim(),r=r.slice(0,y).trim()+r.slice(re+1)}return{defs:g,content:r}}function mergeDefsAndContent(r,n){return r?"<defs>"+r+"</defs>"+n:n}function wrapSVGContent(r,n,g){const y=splitSVGDefs(r);return mergeDefsAndContent(y.defs,n+y.content+g)}const isUnsetKeyword=r=>r==="unset"||r==="undefined"||r==="none";function iconToSVG(r,n){const g={...defaultIconProps,...r},y={...defaultIconCustomisations,...n},$={left:g.left,top:g.top,width:g.width,height:g.height};let L=g.body;[g,y].forEach(xe=>{const Ne=[],Ie=xe.hFlip,Fe=xe.vFlip;let Ve=xe.rotate;Ie?Fe?Ve+=2:(Ne.push("translate("+($.width+$.left).toString()+" "+(0-$.top).toString()+")"),Ne.push("scale(-1 1)"),$.top=$.left=0):Fe&&(Ne.push("translate("+(0-$.left).toString()+" "+($.height+$.top).toString()+")"),Ne.push("scale(1 -1)"),$.top=$.left=0);let ze;switch(Ve<0&&(Ve-=Math.floor(Ve/4)*4),Ve=Ve%4,Ve){case 1:ze=$.height/2+$.top,Ne.unshift("rotate(90 "+ze.toString()+" "+ze.toString()+")");break;case 2:Ne.unshift("rotate(180 "+($.width/2+$.left).toString()+" "+($.height/2+$.top).toString()+")");break;case 3:ze=$.width/2+$.left,Ne.unshift("rotate(-90 "+ze.toString()+" "+ze.toString()+")");break}Ve%2===1&&($.left!==$.top&&(ze=$.left,$.left=$.top,$.top=ze),$.width!==$.height&&(ze=$.width,$.width=$.height,$.height=ze)),Ne.length&&(L=wrapSVGContent(L,'<g transform="'+Ne.join(" ")+'">',"</g>"))});const re=y.width,ae=y.height,le=$.width,ue=$.height;let he,_e;re===null?(_e=ae===null?"1em":ae==="auto"?ue:ae,he=calculateSize(_e,le/ue)):(he=re==="auto"?le:re,_e=ae===null?calculateSize(he,ue/le):ae==="auto"?ue:ae);const Ce={},$e=(xe,Ne)=>{isUnsetKeyword(Ne)||(Ce[xe]=Ne.toString())};$e("width",he),$e("height",_e);const Oe=[$.left,$.top,le,ue];return Ce.viewBox=Oe.join(" "),{attributes:Ce,viewBox:Oe,body:L}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(r,n=randomPrefix){const g=[];let y;for(;y=regex.exec(r);)g.push(y[1]);if(!g.length)return r;const $="suffix"+(Math.random()*16777216|Date.now()).toString(16);return g.forEach(L=>{const re=typeof n=="function"?n(L):n+(counter++).toString(),ae=L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");r=r.replace(new RegExp('([#;"])('+ae+')([")]|\\.[a-z])',"g"),"$1"+re+$+"$3")}),r=r.replace(new RegExp($,"g"),""),r}function iconToHTML(r,n){let g=r.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const y in n)g+=" "+y+'="'+n[y]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+g+">"+r+"</svg>"}function encodeSVGforURL(r){return r.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData(r){return"data:image/svg+xml,"+encodeSVGforURL(r)}function svgToURL(r){return'url("'+svgToData(r)+'")'}const defaultExtendedIconCustomisations={...defaultIconCustomisations,inline:!1},svgDefaults={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps={display:"inline-block"},monotoneProps={backgroundColor:"currentColor"},coloredProps={backgroundColor:"transparent"},propsToAdd={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo={webkitMask:monotoneProps,mask:monotoneProps,background:coloredProps};for(const r in propsToAddTo){const n=propsToAddTo[r];for(const g in propsToAdd)n[r+g]=propsToAdd[g]}const customisationAliases={};["horizontal","vertical"].forEach(r=>{const n=r.slice(0,1)+"Flip";customisationAliases[r+"-flip"]=n,customisationAliases[r.slice(0,1)+"-flip"]=n,customisationAliases[r+"Flip"]=n});function fixSize(r){return r+(r.match(/^[-0-9.]+$/)?"px":"")}const render$2=(r,n)=>{const g=mergeCustomisations(defaultExtendedIconCustomisations,n),y={...svgDefaults},$=n.mode||"svg",L={},re=n.style,ae=typeof re=="object"&&!(re instanceof Array)?re:{};for(let xe in n){const Ne=n[xe];if(Ne!==void 0)switch(xe){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":g[xe]=Ne===!0||Ne==="true"||Ne===1;break;case"flip":typeof Ne=="string"&&flipFromString(g,Ne);break;case"color":L.color=Ne;break;case"rotate":typeof Ne=="string"?g[xe]=rotateFromString(Ne):typeof Ne=="number"&&(g[xe]=Ne);break;case"ariaHidden":case"aria-hidden":Ne!==!0&&Ne!=="true"&&delete y["aria-hidden"];break;default:{const Ie=customisationAliases[xe];Ie?(Ne===!0||Ne==="true"||Ne===1)&&(g[Ie]=!0):defaultExtendedIconCustomisations[xe]===void 0&&(y[xe]=Ne)}}}const le=iconToSVG(r,g),ue=le.attributes;if(g.inline&&(L.verticalAlign="-0.125em"),$==="svg"){y.style={...L,...ae},Object.assign(y,ue);let xe=0,Ne=n.id;return typeof Ne=="string"&&(Ne=Ne.replace(/-/g,"_")),y.innerHTML=replaceIDs(le.body,Ne?()=>Ne+"ID"+xe++:"iconifyVue"),h$1("svg",y)}const{body:he,width:_e,height:Ce}=r,$e=$==="mask"||($==="bg"?!1:he.indexOf("currentColor")!==-1),Oe=iconToHTML(he,{...ue,width:_e+"",height:Ce+""});return y.style={...L,"--svg":svgToURL(Oe),width:fixSize(ue.width),height:fixSize(ue.height),...commonProps,...$e?monotoneProps:coloredProps,...ae},h$1("span",y)},storage$1=Object.create(null),Icon=defineComponent({inheritAttrs:!1,render(){const r=this.$attrs,n=r.icon,g=typeof n=="string"?storage$1[n]:typeof n=="object"?n:null;return g===null||typeof g!="object"||typeof g.body!="string"?this.$slots.default?this.$slots.default():null:render$2({...defaultIconProps,...g},r)}}),AjmerIconifyIconOffline=defineComponent({name:"AjmerIconifyIconOffline",components:{IconifyIcon:Icon},props:{icon:{default:null}},render(){const r=this.$attrs;return h$1(Icon,{icon:this.icon,style:r!=null&&r.style?Object.assign(r.style,{outline:"none"}):{outline:"none"},...r},{default:()=>[]})}});AjmerIconifyIconOffline.install=r=>{r.component(AjmerIconifyIconOffline.name,AjmerIconifyIconOffline)};const _hoisted_1$5={key:0,class:"ajmer-loading"},_sfc_main$b=Object.assign({name:"AjmerLoading"},{__name:"index",props:{config:{type:Object,default:()=>{}}},setup(r){return(n,g)=>r.config.showToast?(openBlock(),createElementBlock("div",_hoisted_1$5,g[0]||(g[0]=[createBaseVNode("div",{class:"ajmer-loading-loader"},null,-1)]))):createCommentVNode("",!0)}}),AjmerLoading=_export_sfc$1(_sfc_main$b,[["__scopeId","data-v-a7759cba"]]);AjmerLoading.install=r=>{const n=reactive({showToast:!0});if(typeof document<"u"){const g=document.createElement("div"),y=createApp(AjmerLoading,{config:n}).mount(g),$={show(){n.showToast=!0,document.body.appendChild(y.$el)},hide(){n.showToast=!1}};r.config.globalProperties.$ajmerLoading=$,window.$ajmerLoading=$}};function isPlainObject(r){if(r===null||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n!==null&&n!==Object.prototype&&Object.getPrototypeOf(n)!==null||Symbol.iterator in r?!1:Symbol.toStringTag in r?Object.prototype.toString.call(r)==="[object Module]":!0}function _defu(r,n,g=".",y){if(!isPlainObject(n))return _defu(r,{},g,y);const $=Object.assign({},n);for(const L in r){if(L==="__proto__"||L==="constructor")continue;const re=r[L];re!=null&&(y&&y($,L,re,g)||(Array.isArray(re)&&Array.isArray($[L])?$[L]=[...re,...$[L]]:isPlainObject(re)&&isPlainObject($[L])?$[L]=_defu(re,$[L],(g?`${g}.`:"")+L.toString(),y):$[L]=re))}return $}function createDefu(r){return(...n)=>n.reduce((g,y)=>_defu(g,y,"",r),{})}const defu=createDefu(),defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?r=>window.requestAnimationFrame(r):r=>setTimeout(()=>r(getCurrentTime()),defaultTimestep);function createRenderStep(r){let n=[],g=[],y=0,$=!1,L=!1;const re=new WeakSet,ae={schedule:(le,ue=!1,he=!1)=>{const _e=he&&$,Ce=_e?n:g;return ue&&re.add(le),Ce.indexOf(le)===-1&&(Ce.push(le),_e&&$&&(y=n.length)),le},cancel:le=>{const ue=g.indexOf(le);ue!==-1&&g.splice(ue,1),re.delete(le)},process:le=>{if($){L=!0;return}if($=!0,[n,g]=[g,n],g.length=0,y=n.length,y)for(let ue=0;ue<y;ue++){const he=n[ue];he(le),re.has(he)&&(ae.schedule(he),r())}$=!1,L&&(L=!1,ae.process(le))}};return ae}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((r,n)=>(r[n]=createRenderStep(()=>runNextFrame=!0),r),{}),sync=stepsOrder.reduce((r,n)=>{const g=steps[n];return r[n]=(y,$=!1,L=!1)=>(runNextFrame||startLoop(),g.schedule(y,$,L)),r},{}),cancelSync=stepsOrder.reduce((r,n)=>(r[n]=steps[n].cancel,r),{});stepsOrder.reduce((r,n)=>(r[n]=()=>steps[n].process(frame),r),{});const processStep=r=>steps[r].process(frame),processFrame=r=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(r-frame.timestamp,maxElapsed),1),frame.timestamp=r,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;function __rest(r,n){var g={};for(var y in r)Object.prototype.hasOwnProperty.call(r,y)&&n.indexOf(y)<0&&(g[y]=r[y]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,y=Object.getOwnPropertySymbols(r);$<y.length;$++)n.indexOf(y[$])<0&&Object.prototype.propertyIsEnumerable.call(r,y[$])&&(g[y[$]]=r[y[$]]);return g}var invariant=function(){};const clamp$2=(r,n,g)=>Math.min(Math.max(g,r),n),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:r=800,bounce:n=.25,velocity:g=0,mass:y=1}){let $,L,re=1-n;re=clamp$2(minDamping,maxDamping,re),r=clamp$2(minDuration,maxDuration,r/1e3),re<1?($=ue=>{const he=ue*re,_e=he*r,Ce=he-g,$e=calcAngularFreq(ue,re),Oe=Math.exp(-_e);return safeMin-Ce/$e*Oe},L=ue=>{const _e=ue*re*r,Ce=_e*g+g,$e=Math.pow(re,2)*Math.pow(ue,2)*r,Oe=Math.exp(-_e),xe=calcAngularFreq(Math.pow(ue,2),re);return(-$(ue)+safeMin>0?-1:1)*((Ce-$e)*Oe)/xe}):($=ue=>{const he=Math.exp(-ue*r),_e=(ue-g)*r+1;return-.001+he*_e},L=ue=>{const he=Math.exp(-ue*r),_e=(g-ue)*(r*r);return he*_e});const ae=5/r,le=approximateRoot($,L,ae);if(r=r*1e3,isNaN(le))return{stiffness:100,damping:10,duration:r};{const ue=Math.pow(le,2)*y;return{stiffness:ue,damping:re*2*Math.sqrt(y*ue),duration:r}}}const rootIterations=12;function approximateRoot(r,n,g){let y=g;for(let $=1;$<rootIterations;$++)y=y-r(y)/n(y);return y}function calcAngularFreq(r,n){return r*Math.sqrt(1-n*n)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(r,n){return n.some(g=>r[g]!==void 0)}function getSpringOptions(r){let n=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},r);if(!isSpringType(r,physicsKeys)&&isSpringType(r,durationKeys)){const g=findSpring(r);n=Object.assign(Object.assign(Object.assign({},n),g),{velocity:0,mass:1}),n.isResolvedFromDuration=!0}return n}function spring(r){var{from:n=0,to:g=1,restSpeed:y=2,restDelta:$}=r,L=__rest(r,["from","to","restSpeed","restDelta"]);const re={done:!1,value:n};let{stiffness:ae,damping:le,mass:ue,velocity:he,duration:_e,isResolvedFromDuration:Ce}=getSpringOptions(L),$e=zero,Oe=zero;function xe(){const Ne=he?-(he/1e3):0,Ie=g-n,Fe=le/(2*Math.sqrt(ae*ue)),Ve=Math.sqrt(ae/ue)/1e3;if($===void 0&&($=Math.min(Math.abs(g-n)/100,.4)),Fe<1){const ze=calcAngularFreq(Ve,Fe);$e=Ue=>{const qe=Math.exp(-Fe*Ve*Ue);return g-qe*((Ne+Fe*Ve*Ie)/ze*Math.sin(ze*Ue)+Ie*Math.cos(ze*Ue))},Oe=Ue=>{const qe=Math.exp(-Fe*Ve*Ue);return Fe*Ve*qe*(Math.sin(ze*Ue)*(Ne+Fe*Ve*Ie)/ze+Ie*Math.cos(ze*Ue))-qe*(Math.cos(ze*Ue)*(Ne+Fe*Ve*Ie)-ze*Ie*Math.sin(ze*Ue))}}else if(Fe===1)$e=ze=>g-Math.exp(-Ve*ze)*(Ie+(Ne+Ve*Ie)*ze);else{const ze=Ve*Math.sqrt(Fe*Fe-1);$e=Ue=>{const qe=Math.exp(-Fe*Ve*Ue),kt=Math.min(ze*Ue,300);return g-qe*((Ne+Fe*Ve*Ie)*Math.sinh(kt)+ze*Ie*Math.cosh(kt))/ze}}}return xe(),{next:Ne=>{const Ie=$e(Ne);if(Ce)re.done=Ne>=_e;else{const Fe=Oe(Ne)*1e3,Ve=Math.abs(Fe)<=y,ze=Math.abs(g-Ie)<=$;re.done=Ve&&ze}return re.value=re.done?g:Ie,re},flipTarget:()=>{he=-he,[n,g]=[g,n],xe()}}}spring.needsInterpolation=(r,n)=>typeof r=="string"||typeof n=="string";const zero=r=>0,progress=(r,n,g)=>{const y=n-r;return y===0?1:(g-r)/y},mix=(r,n,g)=>-g*r+g*n+r,clamp$1=(r,n)=>g=>Math.max(Math.min(g,n),r),sanitize=r=>r%1?Number(r.toFixed(5)):r,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(r){return typeof r=="string"}const number$4={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},alpha=Object.assign(Object.assign({},number$4),{transform:clamp$1(0,1)}),scale$3=Object.assign(Object.assign({},number$4),{default:1}),createUnitType=r=>({test:n=>isString$1(n)&&n.endsWith(r)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${r}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),progressPercentage=Object.assign(Object.assign({},percent),{parse:r=>percent.parse(r)/100,transform:r=>percent.transform(r*100)}),isColorString=(r,n)=>g=>!!(isString$1(g)&&singleColorRegex.test(g)&&g.startsWith(r)||n&&Object.prototype.hasOwnProperty.call(g,n)),splitColor=(r,n,g)=>y=>{if(!isString$1(y))return y;const[$,L,re,ae]=y.match(floatRegex);return{[r]:parseFloat($),[n]:parseFloat(L),[g]:parseFloat(re),alpha:ae!==void 0?parseFloat(ae):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:r,saturation:n,lightness:g,alpha:y=1})=>"hsla("+Math.round(r)+", "+percent.transform(sanitize(n))+", "+percent.transform(sanitize(g))+", "+sanitize(alpha.transform(y))+")"},clampRgbUnit=clamp$1(0,255),rgbUnit=Object.assign(Object.assign({},number$4),{transform:r=>Math.round(clampRgbUnit(r))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:r,green:n,blue:g,alpha:y=1})=>"rgba("+rgbUnit.transform(r)+", "+rgbUnit.transform(n)+", "+rgbUnit.transform(g)+", "+sanitize(alpha.transform(y))+")"};function parseHex(r){let n="",g="",y="",$="";return r.length>5?(n=r.substr(1,2),g=r.substr(3,2),y=r.substr(5,2),$=r.substr(7,2)):(n=r.substr(1,1),g=r.substr(2,1),y=r.substr(3,1),$=r.substr(4,1),n+=n,g+=g,y+=y,$+=$),{red:parseInt(n,16),green:parseInt(g,16),blue:parseInt(y,16),alpha:$?parseInt($,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color$1={test:r=>rgba.test(r)||hex.test(r)||hsla.test(r),parse:r=>rgba.test(r)?rgba.parse(r):hsla.test(r)?hsla.parse(r):hex.parse(r),transform:r=>isString$1(r)?r:r.hasOwnProperty("red")?rgba.transform(r):hsla.transform(r)},colorToken="${c}",numberToken="${n}";function test(r){var n,g,y,$;return isNaN(r)&&isString$1(r)&&((g=(n=r.match(floatRegex))===null||n===void 0?void 0:n.length)!==null&&g!==void 0?g:0)+(($=(y=r.match(colorRegex))===null||y===void 0?void 0:y.length)!==null&&$!==void 0?$:0)>0}function analyse$1(r){typeof r=="number"&&(r=`${r}`);const n=[];let g=0;const y=r.match(colorRegex);y&&(g=y.length,r=r.replace(colorRegex,colorToken),n.push(...y.map(color$1.parse)));const $=r.match(floatRegex);return $&&(r=r.replace(floatRegex,numberToken),n.push(...$.map(number$4.parse))),{values:n,numColors:g,tokenised:r}}function parse$1(r){return analyse$1(r).values}function createTransformer(r){const{values:n,numColors:g,tokenised:y}=analyse$1(r),$=n.length;return L=>{let re=y;for(let ae=0;ae<$;ae++)re=re.replace(ae<g?colorToken:numberToken,ae<g?color$1.transform(L[ae]):sanitize(L[ae]));return re}}const convertNumbersToZero=r=>typeof r=="number"?0:r;function getAnimatableNone$1(r){const n=parse$1(r);return createTransformer(r)(n.map(convertNumbersToZero))}const complex={test,parse:parse$1,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(r){let[n,g]=r.slice(0,-1).split("(");if(n==="drop-shadow")return r;const[y]=g.match(floatRegex)||[];if(!y)return r;const $=g.replace(y,"");let L=maxDefaults.has(n)?1:0;return y!==g&&(L*=100),n+"("+L+$+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter$1=Object.assign(Object.assign({},complex),{getAnimatableNone:r=>{const n=r.match(functionRegex);return n?n.map(applyDefaultFilter).join(" "):r}});function hueToRgb(r,n,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?r+(n-r)*6*g:g<1/2?n:g<2/3?r+(n-r)*(2/3-g)*6:r}function hslaToRgba({hue:r,saturation:n,lightness:g,alpha:y}){r/=360,n/=100,g/=100;let $=0,L=0,re=0;if(!n)$=L=re=g;else{const ae=g<.5?g*(1+n):g+n-g*n,le=2*g-ae;$=hueToRgb(le,ae,r+1/3),L=hueToRgb(le,ae,r),re=hueToRgb(le,ae,r-1/3)}return{red:Math.round($*255),green:Math.round(L*255),blue:Math.round(re*255),alpha:y}}const mixLinearColor=(r,n,g)=>{const y=r*r,$=n*n;return Math.sqrt(Math.max(0,g*($-y)+y))},colorTypes=[hex,rgba,hsla],getColorType=r=>colorTypes.find(n=>n.test(r)),mixColor=(r,n)=>{let g=getColorType(r),y=getColorType(n),$=g.parse(r),L=y.parse(n);g===hsla&&($=hslaToRgba($),g=rgba),y===hsla&&(L=hslaToRgba(L),y=rgba);const re=Object.assign({},$);return ae=>{for(const le in re)le!=="alpha"&&(re[le]=mixLinearColor($[le],L[le],ae));return re.alpha=mix($.alpha,L.alpha,ae),g.transform(re)}},isNum=r=>typeof r=="number",combineFunctions=(r,n)=>g=>n(r(g)),pipe=(...r)=>r.reduce(combineFunctions);function getMixer(r,n){return isNum(r)?g=>mix(r,n,g):color$1.test(r)?mixColor(r,n):mixComplex(r,n)}const mixArray=(r,n)=>{const g=[...r],y=g.length,$=r.map((L,re)=>getMixer(L,n[re]));return L=>{for(let re=0;re<y;re++)g[re]=$[re](L);return g}},mixObject=(r,n)=>{const g=Object.assign(Object.assign({},r),n),y={};for(const $ in g)r[$]!==void 0&&n[$]!==void 0&&(y[$]=getMixer(r[$],n[$]));return $=>{for(const L in y)g[L]=y[L]($);return g}};function analyse(r){const n=complex.parse(r),g=n.length;let y=0,$=0,L=0;for(let re=0;re<g;re++)y||typeof n[re]=="number"?y++:n[re].hue!==void 0?L++:$++;return{parsed:n,numNumbers:y,numRGB:$,numHSL:L}}const mixComplex=(r,n)=>{const g=complex.createTransformer(n),y=analyse(r),$=analyse(n);return y.numHSL===$.numHSL&&y.numRGB===$.numRGB&&y.numNumbers>=$.numNumbers?pipe(mixArray(y.parsed,$.parsed),g):re=>`${re>0?n:r}`},mixNumber=(r,n)=>g=>mix(r,n,g);function detectMixerFactory(r){if(typeof r=="number")return mixNumber;if(typeof r=="string")return color$1.test(r)?mixColor:mixComplex;if(Array.isArray(r))return mixArray;if(typeof r=="object")return mixObject}function createMixers(r,n,g){const y=[],$=g||detectMixerFactory(r[0]),L=r.length-1;for(let re=0;re<L;re++){let ae=$(r[re],r[re+1]);if(n){const le=Array.isArray(n)?n[re]:n;ae=pipe(le,ae)}y.push(ae)}return y}function fastInterpolate([r,n],[g]){return y=>g(progress(r,n,y))}function slowInterpolate(r,n){const g=r.length,y=g-1;return $=>{let L=0,re=!1;if($<=r[0]?re=!0:$>=r[y]&&(L=y-1,re=!0),!re){let le=1;for(;le<g&&!(r[le]>$||le===y);le++);L=le-1}const ae=progress(r[L],r[L+1],$);return n[L](ae)}}function interpolate(r,n,{clamp:g=!0,ease:y,mixer:$}={}){const L=r.length;invariant(L===n.length),invariant(!y||!Array.isArray(y)||y.length===L-1),r[0]>r[L-1]&&(r=[].concat(r),n=[].concat(n),r.reverse(),n.reverse());const re=createMixers(n,y,$),ae=L===2?fastInterpolate(r,re):slowInterpolate(r,re);return g?le=>ae(clamp$2(r[0],r[L-1],le)):ae}const reverseEasing=r=>n=>1-r(1-n),mirrorEasing=r=>n=>n<=.5?r(2*n)/2:(2-r(2*(1-n)))/2,createExpoIn=r=>n=>Math.pow(n,r),createBackIn=r=>n=>n*n*((r+1)*n-r),createAnticipate=r=>{const n=createBackIn(r);return g=>(g*=2)<1?.5*n(g):.5*(2-Math.pow(2,-10*(g-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=r=>r,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=r=>1-Math.sin(Math.acos(r)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=r=>{if(r===1||r===0)return r;const n=r*r;return r<BOUNCE_FIRST_THRESHOLD?7.5625*n:r<BOUNCE_SECOND_THRESHOLD?9.075*n-9.9*r+3.4:r<BOUNCE_THIRD_THRESHOLD?ca*n-cb*r+cc:10.8*r*r-20.52*r+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=r=>r<.5?.5*(1-bounceOut(1-r*2)):.5*bounceOut(r*2-1)+.5;function defaultEasing(r,n){return r.map(()=>n||easeInOut).splice(0,r.length-1)}function defaultOffset(r){const n=r.length;return r.map((g,y)=>y!==0?y/(n-1):0)}function convertOffsetToTimes(r,n){return r.map(g=>g*n)}function keyframes$1({from:r=0,to:n=1,ease:g,offset:y,duration:$=300}){const L={done:!1,value:r},re=Array.isArray(n)?n:[r,n],ae=convertOffsetToTimes(y&&y.length===re.length?y:defaultOffset(re),$);function le(){return interpolate(ae,re,{ease:Array.isArray(g)?g:defaultEasing(re,g)})}let ue=le();return{next:he=>(L.value=ue(he),L.done=he>=$,L),flipTarget:()=>{re.reverse(),ue=le()}}}function decay({velocity:r=0,from:n=0,power:g=.8,timeConstant:y=350,restDelta:$=.5,modifyTarget:L}){const re={done:!1,value:n};let ae=g*r;const le=n+ae,ue=L===void 0?le:L(le);return ue!==le&&(ae=ue-n),{next:he=>{const _e=-ae*Math.exp(-he/y);return re.done=!(_e>$||_e<-$),re.value=re.done?ue:ue+_e,re},flipTarget:()=>{}}}const types$1={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(r){if(Array.isArray(r.to))return keyframes$1;if(types$1[r.type])return types$1[r.type];const n=new Set(Object.keys(r));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?keyframes$1:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?spring:keyframes$1}function loopElapsed(r,n,g=0){return r-n-g}function reverseElapsed(r,n,g=0,y=!0){return y?loopElapsed(n+-r,n,g):n-(r-n)+g}function hasRepeatDelayElapsed(r,n,g,y){return y?r>=n+g:r<=-g}const framesync=r=>{const n=({delta:g})=>r(g);return{start:()=>sync.update(n,!0),stop:()=>cancelSync.update(n)}};function animate(r){var n,g,{from:y,autoplay:$=!0,driver:L=framesync,elapsed:re=0,repeat:ae=0,repeatType:le="loop",repeatDelay:ue=0,onPlay:he,onStop:_e,onComplete:Ce,onRepeat:$e,onUpdate:Oe}=r,xe=__rest(r,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:Ne}=xe,Ie,Fe=0,Ve=xe.duration,ze,Ue=!1,qe=!0,kt;const Et=detectAnimationFromOptions(xe);!((g=(n=Et).needsInterpolation)===null||g===void 0)&&g.call(n,y,Ne)&&(kt=interpolate([0,100],[y,Ne],{clamp:!1}),y=0,Ne=100);const Pt=Et(Object.assign(Object.assign({},xe),{from:y,to:Ne}));function At(){Fe++,le==="reverse"?(qe=Fe%2===0,re=reverseElapsed(re,Ve,ue,qe)):(re=loopElapsed(re,Ve,ue),le==="mirror"&&Pt.flipTarget()),Ue=!1,$e&&$e()}function Dt(){Ie.stop(),Ce&&Ce()}function Lt(_n){if(qe||(_n=-_n),re+=_n,!Ue){const vn=Pt.next(Math.max(0,re));ze=vn.value,kt&&(ze=kt(ze)),Ue=qe?vn.done:re<=0}Oe==null||Oe(ze),Ue&&(Fe===0&&(Ve??(Ve=re)),Fe<ae?hasRepeatDelayElapsed(re,Ve,ue,qe)&&At():Dt())}function hn(){he==null||he(),Ie=L(Lt),Ie.start()}return $&&hn(),{stop:()=>{_e==null||_e(),Ie.stop()}}}function velocityPerSecond(r,n){return n?r*(1e3/n):0}function inertia({from:r=0,velocity:n=0,min:g,max:y,power:$=.8,timeConstant:L=750,bounceStiffness:re=500,bounceDamping:ae=10,restDelta:le=1,modifyTarget:ue,driver:he,onUpdate:_e,onComplete:Ce,onStop:$e}){let Oe;function xe(Ve){return g!==void 0&&Ve<g||y!==void 0&&Ve>y}function Ne(Ve){return g===void 0?y:y===void 0||Math.abs(g-Ve)<Math.abs(y-Ve)?g:y}function Ie(Ve){Oe==null||Oe.stop(),Oe=animate(Object.assign(Object.assign({},Ve),{driver:he,onUpdate:ze=>{var Ue;_e==null||_e(ze),(Ue=Ve.onUpdate)===null||Ue===void 0||Ue.call(Ve,ze)},onComplete:Ce,onStop:$e}))}function Fe(Ve){Ie(Object.assign({type:"spring",stiffness:re,damping:ae,restDelta:le},Ve))}if(xe(r))Fe({from:r,velocity:n,to:Ne(r)});else{let Ve=$*n+r;typeof ue<"u"&&(Ve=ue(Ve));const ze=Ne(Ve),Ue=ze===g?-1:1;let qe,kt;const Et=Pt=>{qe=kt,kt=Pt,n=velocityPerSecond(Pt-qe,getFrameData().delta),(Ue===1&&Pt>ze||Ue===-1&&Pt<ze)&&Fe({from:Pt,to:ze,velocity:n})};Ie({type:"decay",from:r,velocity:n,timeConstant:L,power:$,restDelta:le,modifyTarget:ue,onUpdate:xe(Ve)?Et:void 0})}return{stop:()=>Oe==null?void 0:Oe.stop()}}const a=(r,n)=>1-3*n+3*r,b=(r,n)=>3*n-6*r,c=r=>3*r,calcBezier=(r,n,g)=>((a(n,g)*r+b(n,g))*r+c(n))*r,getSlope=(r,n,g)=>3*a(n,g)*r*r+2*b(n,g)*r+c(n),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(r,n,g,y,$){let L,re,ae=0;do re=n+(g-n)/2,L=calcBezier(re,y,$)-r,L>0?g=re:n=re;while(Math.abs(L)>subdivisionPrecision&&++ae<subdivisionMaxIterations);return re}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(r,n,g,y){for(let $=0;$<newtonIterations;++$){const L=getSlope(n,g,y);if(L===0)return n;const re=calcBezier(n,g,y)-r;n-=re/L}return n}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(r,n,g,y){if(r===n&&g===y)return linear;const $=new Float32Array(kSplineTableSize);for(let re=0;re<kSplineTableSize;++re)$[re]=calcBezier(re*kSampleStepSize,r,g);function L(re){let ae=0,le=1;const ue=kSplineTableSize-1;for(;le!==ue&&$[le]<=re;++le)ae+=kSampleStepSize;--le;const he=(re-$[le])/($[le+1]-$[le]),_e=ae+he*kSampleStepSize,Ce=getSlope(_e,r,g);return Ce>=newtonMinSlope?newtonRaphsonIterate(re,_e,r,g):Ce===0?_e:binarySubdivide(re,ae,ae+kSampleStepSize,r,g)}return re=>re===0||re===1?re:calcBezier(L(re),n,y)}const motionState={};var __defProp$1=Object.defineProperty,__defNormalProp$1=(r,n,g)=>n in r?__defProp$1(r,n,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[n]=g,__publicField$1=(r,n,g)=>(__defNormalProp$1(r,n+"",g),g);class SubscriptionManager{constructor(){__publicField$1(this,"subscriptions",new Set)}add(n){return this.subscriptions.add(n),()=>this.subscriptions.delete(n)}notify(n,g,y){if(this.subscriptions.size)for(const $ of this.subscriptions)$(n,g,y)}clear(){this.subscriptions.clear()}}var __defProp=Object.defineProperty,__defNormalProp=(r,n,g)=>n in r?__defProp(r,n,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[n]=g,__publicField=(r,n,g)=>(__defNormalProp(r,typeof n!="symbol"?n+"":n,g),g);function isFloat(r){return!Number.isNaN(Number.parseFloat(r))}class MotionValue{constructor(n){__publicField(this,"current"),__publicField(this,"prev"),__publicField(this,"timeDelta",0),__publicField(this,"lastUpdated",0),__publicField(this,"updateSubscribers",new SubscriptionManager),__publicField(this,"stopAnimation"),__publicField(this,"canTrackVelocity",!1),__publicField(this,"updateAndNotify",g=>{this.prev=this.current,this.current=g;const{delta:y,timestamp:$}=getFrameData();this.lastUpdated!==$&&(this.timeDelta=y,this.lastUpdated=$),sync.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)}),__publicField(this,"scheduleVelocityCheck",()=>sync.postRender(this.velocityCheck)),__publicField(this,"velocityCheck",({timestamp:g})=>{this.canTrackVelocity||(this.canTrackVelocity=isFloat(this.current)),g!==this.lastUpdated&&(this.prev=this.current)}),this.prev=this.current=n,this.canTrackVelocity=isFloat(this.current)}onChange(n){return this.updateSubscribers.add(n)}clearListeners(){this.updateSubscribers.clear()}set(n){this.updateAndNotify(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(Number.parseFloat(this.current)-Number.parseFloat(this.prev),this.timeDelta):0}start(n){return this.stop(),new Promise(g=>{const{stop:y}=n(g);this.stopAnimation=y}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function getMotionValue(r){return new MotionValue(r)}const{isArray:isArray$3}=Array;function useMotionValues(){const r=ref$1({}),n=y=>{const $=L=>{r.value[L]&&(r.value[L].stop(),r.value[L].destroy(),delete r.value[L])};y?isArray$3(y)?y.forEach($):$(y):Object.keys(r.value).forEach($)},g=(y,$,L)=>{if(r.value[y])return r.value[y];const re=getMotionValue($);return re.onChange(ae=>L[y]=ae),r.value[y]=re,re};return tryOnUnmounted(n),{motionValues:r,get:g,stop:n}}function isKeyframesTarget(r){return Array.isArray(r)}function underDampedSpring(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function criticallyDampedSpring(r){return{type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function overDampedSpring(r){return{type:"spring",stiffness:550,damping:r===0?100:30,restDelta:.01,restSpeed:10}}function linearTween(){return{type:"keyframes",ease:"linear",duration:300}}function keyframes(r){return{type:"keyframes",duration:800,values:r}}const defaultTransitions={default:overDampedSpring,x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,backgroundColor:linearTween,color:linearTween,opacity:linearTween};function getDefaultTransition(r,n){let g;return isKeyframesTarget(n)?g=keyframes:g=defaultTransitions[r]||defaultTransitions.default,{to:n,...g(n)}}const int={...number$4,transform:Math.round},valueTypes={color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$3,scaleX:scale$3,scaleY:scale$3,scaleZ:scale$3,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,filter:filter$1,WebkitFilter:filter$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},getValueType=r=>valueTypes[r];function getValueAsType(r,n){return n&&typeof r=="number"&&n.transform?n.transform(r):r}function getAnimatableNone(r,n){let g=getValueType(r);return g!==filter$1&&(g=complex),g.getAnimatableNone?g.getAnimatableNone(n):void 0}const easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut};function easingDefinitionToFunction(r){if(Array.isArray(r)){const[n,g,y,$]=r;return cubicBezier(n,g,y,$)}else if(typeof r=="string")return easingLookup[r];return r}function isEasingArray(r){return Array.isArray(r)&&typeof r[0]!="number"}function isAnimatable(r,n){return r==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&complex.test(n)&&!n.startsWith("url("))}function hydrateKeyframes(r){return Array.isArray(r.to)&&r.to[0]===null&&(r.to=[...r.to],r.to[0]=r.from),r}function convertTransitionToAnimationOptions({ease:r,times:n,delay:g,...y}){const $={...y};return n&&($.offset=n),r&&($.ease=isEasingArray(r)?r.map(easingDefinitionToFunction):easingDefinitionToFunction(r)),g&&($.elapsed=-g),$}function getPopmotionAnimationOptions(r,n,g){return Array.isArray(n.to)&&(r.duration||(r.duration=800)),hydrateKeyframes(n),isTransitionDefined(r)||(r={...r,...getDefaultTransition(g,n.to)}),{...n,...convertTransitionToAnimationOptions(r)}}function isTransitionDefined({delay:r,repeat:n,repeatType:g,repeatDelay:y,from:$,...L}){return!!Object.keys(L).length}function getValueTransition(r,n){return r[n]||r.default||r}function getAnimation(r,n,g,y,$){const L=getValueTransition(y,r);let re=L.from===null||L.from===void 0?n.get():L.from;const ae=isAnimatable(r,g);re==="none"&&ae&&typeof g=="string"&&(re=getAnimatableNone(r,g));const le=isAnimatable(r,re);function ue(_e){const Ce={from:re,to:g,velocity:y.velocity?y.velocity:n.getVelocity(),onUpdate:$e=>n.set($e)};return L.type==="inertia"||L.type==="decay"?inertia({...Ce,...L}):animate({...getPopmotionAnimationOptions(L,Ce,r),onUpdate:$e=>{Ce.onUpdate($e),L.onUpdate&&L.onUpdate($e)},onComplete:()=>{$&&$(),_e&&_e()}})}function he(_e){return n.set(g),$&&$(),_e&&_e(),{stop:()=>{}}}return!le||!ae||L.type===!1?he:ue}function useMotionTransitions(){const{motionValues:r,stop:n,get:g}=useMotionValues();return{motionValues:r,stop:n,push:($,L,re,ae={},le)=>{const ue=re[$],he=g($,ue,re);if(ae&&ae.immediate){he.set(L);return}const _e=getAnimation($,he,L,ae,le);he.start(_e)}}}function useMotionControls(r,n={},{motionValues:g,push:y,stop:$}=useMotionTransitions()){const L=unref(n),re=ref$1(!1);watch$1(g,_e=>{re.value=Object.values(_e).filter(Ce=>Ce.isAnimating()).length>0},{immediate:!0,deep:!0});const ae=_e=>{if(!L||!L[_e])throw new Error(`The variant ${_e} does not exist.`);return L[_e]},le=_e=>{typeof _e=="string"&&(_e=ae(_e));const Ce=Object.entries(_e).map(([Oe,xe])=>{if(Oe!=="transition")return new Promise(Ne=>y(Oe,xe,r,_e.transition||getDefaultTransition(Oe,_e[Oe]),Ne))}).filter(Boolean);async function $e(){var Oe,xe;await Promise.all(Ce),(xe=(Oe=_e.transition)==null?void 0:Oe.onComplete)==null||xe.call(Oe)}return Promise.all([$e()])};return{isAnimating:re,apply:le,set:_e=>{const Ce=isObject$6(_e)?_e:ae(_e);Object.entries(Ce).forEach(([$e,Oe])=>{$e!=="transition"&&y($e,Oe,r,{immediate:!0})})},leave:async _e=>{let Ce;if(L&&(L.leave&&(Ce=L.leave),!L.leave&&L.initial&&(Ce=L.initial)),!Ce){_e();return}await le(Ce),_e()},stop:$}}const isBrowser$1=typeof window<"u",supportsPointerEvents=()=>isBrowser$1&&(window.onpointerdown===null||void 0),supportsTouchEvents=()=>isBrowser$1&&(window.ontouchstart===null||void 0),supportsMouseEvents=()=>isBrowser$1&&(window.onmousedown===null||void 0);function registerEventListeners({target:r,state:n,variants:g,apply:y}){const $=unref(g),L=ref$1(!1),re=ref$1(!1),ae=ref$1(!1),le=computed(()=>{let he=[...Object.keys(n.value||{})];return $&&($.hovered&&(he=[...he,...Object.keys($.hovered)]),$.tapped&&(he=[...he,...Object.keys($.tapped)]),$.focused&&(he=[...he,...Object.keys($.focused)])),he}),ue=computed(()=>{const he={};Object.assign(he,n.value),L.value&&$.hovered&&Object.assign(he,$.hovered),re.value&&$.tapped&&Object.assign(he,$.tapped),ae.value&&$.focused&&Object.assign(he,$.focused);for(const _e in he)le.value.includes(_e)||delete he[_e];return he});$.hovered&&(useEventListener$1(r,"mouseenter",()=>L.value=!0),useEventListener$1(r,"mouseleave",()=>{L.value=!1,re.value=!1})),$.tapped&&(supportsMouseEvents()&&(useEventListener$1(r,"mousedown",()=>re.value=!0),useEventListener$1(r,"mouseup",()=>re.value=!1)),supportsPointerEvents()&&(useEventListener$1(r,"pointerdown",()=>re.value=!0),useEventListener$1(r,"pointerup",()=>re.value=!1)),supportsTouchEvents()&&(useEventListener$1(r,"touchstart",()=>re.value=!0),useEventListener$1(r,"touchend",()=>re.value=!1))),$.focused&&(useEventListener$1(r,"focus",()=>ae.value=!0),useEventListener$1(r,"blur",()=>ae.value=!1)),watch$1([L,re,ae],()=>{y(ue.value)})}function registerLifeCycleHooks({set:r,target:n,variants:g,variant:y}){const $=unref(g);watch$1(()=>n,()=>{$&&($.initial&&(r("initial"),y.value="initial"),$.enter&&(y.value="enter"))},{immediate:!0,flush:"pre"})}function registerVariantsSync({state:r,apply:n}){watch$1(r,g=>{g&&n(g)},{immediate:!0})}function registerVisibilityHooks({target:r,variants:n,variant:g}){const y=unref(n);y&&(y.visible||y.visibleOnce)&&useIntersectionObserver(r,([{isIntersecting:$}])=>{y.visible?$?g.value="visible":g.value="initial":y.visibleOnce&&($&&g.value!=="visibleOnce"?g.value="visibleOnce":g.value||(g.value="initial"))})}function useMotionFeatures(r,n={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){n.lifeCycleHooks&&registerLifeCycleHooks(r),n.syncVariants&&registerVariantsSync(r),n.visibilityHooks&&registerVisibilityHooks(r),n.eventListeners&&registerEventListeners(r)}function reactiveStyle(r={}){const n=reactive({...r}),g=ref$1({});return watch$1(n,()=>{const y={};for(const[$,L]of Object.entries(n)){const re=getValueType($),ae=getValueAsType(L,re);y[$]=ae}g.value=y},{immediate:!0,deep:!0}),{state:n,style:g}}function usePermissiveTarget(r,n){watch$1(()=>unrefElement$1(r),g=>{g&&n(g)},{immediate:!0})}const translateAlias={x:"translateX",y:"translateY",z:"translateZ"};function reactiveTransform(r={},n=!0){const g=reactive({...r}),y=ref$1("");return watch$1(g,$=>{let L="",re=!1;if(n&&($.x||$.y||$.z)){const ae=[$.x||0,$.y||0,$.z||0].map(le=>getValueAsType(le,px)).join(",");L+=`translate3d(${ae}) `,re=!0}for(const[ae,le]of Object.entries($)){if(n&&(ae==="x"||ae==="y"||ae==="z"))continue;const ue=getValueType(ae),he=getValueAsType(le,ue);L+=`${translateAlias[ae]||ae}(${he}) `}n&&!re&&(L+="translateZ(0px) "),y.value=L.trim()},{immediate:!0,deep:!0}),{state:g,transform:y}}const transformAxes=["","X","Y","Z"],order$1=["perspective","translate","scale","rotate","skew"],transformProps=["transformPerspective","x","y","z"];order$1.forEach(r=>{transformAxes.forEach(n=>{const g=r+n;transformProps.push(g)})});const transformPropSet=new Set(transformProps);function isTransformProp(r){return transformPropSet.has(r)}const transformOriginProps=new Set(["originX","originY","originZ"]);function isTransformOriginProp(r){return transformOriginProps.has(r)}function splitValues(r){const n={},g={};return Object.entries(r).forEach(([y,$])=>{isTransformProp(y)||isTransformOriginProp(y)?n[y]=$:g[y]=$}),{transform:n,style:g}}function variantToStyle(r){const{transform:n,style:g}=splitValues(r),{transform:y}=reactiveTransform(n),{style:$}=reactiveStyle(g);return y.value&&($.value.transform=y.value),$.value}function useElementStyle(r,n){let g,y;const{state:$,style:L}=reactiveStyle();return usePermissiveTarget(r,re=>{y=re;for(const ae of Object.keys(valueTypes))re.style[ae]===null||re.style[ae]===""||isTransformProp(ae)||isTransformOriginProp(ae)||($[ae]=re.style[ae]);g&&Object.entries(g).forEach(([ae,le])=>re.style[ae]=le),n($)}),watch$1(L,re=>{if(!y){g=re;return}for(const ae in re)y.style[ae]=re[ae]},{immediate:!0}),{style:$}}function parseTransform(r){const n=r.trim().split(/\) |\)/);if(n.length===1)return{};const g=y=>y.endsWith("px")||y.endsWith("deg")?Number.parseFloat(y):Number.isNaN(Number(y))?Number(y):y;return n.reduce((y,$)=>{if(!$)return y;const[L,re]=$.split("("),le=re.split(",").map(he=>g(he.endsWith(")")?he.replace(")",""):he.trim())),ue=le.length===1?le[0]:le;return{...y,[L]:ue}},{})}function stateFromTransform(r,n){Object.entries(parseTransform(n)).forEach(([g,y])=>{const $=["x","y","z"];if(g==="translate3d"){if(y===0){$.forEach(L=>r[L]=0);return}y.forEach((L,re)=>r[$[re]]=L);return}if(y=Number.parseFloat(`${y}`),g==="translateX"){r.x=y;return}if(g==="translateY"){r.y=y;return}if(g==="translateZ"){r.z=y;return}r[g]=y})}function useElementTransform(r,n){let g,y;const{state:$,transform:L}=reactiveTransform();return usePermissiveTarget(r,re=>{y=re,re.style.transform&&stateFromTransform($,re.style.transform),g&&(re.style.transform=g),n($)}),watch$1(L,re=>{if(!y){g=re;return}y.style.transform=re},{immediate:!0}),{transform:$}}function objectEntries(r){return Object.entries(r)}function useMotionProperties(r,n){const g=reactive({}),y=re=>Object.entries(re).forEach(([ae,le])=>g[ae]=le),{style:$}=useElementStyle(r,y),{transform:L}=useElementTransform(r,y);return watch$1(g,re=>{objectEntries(re).forEach(([ae,le])=>{const ue=isTransformProp(ae)?L:$;ue[ae]&&ue[ae]===le||(ue[ae]=le)})},{immediate:!0,deep:!0}),usePermissiveTarget(r,()=>n),{motionProperties:g,style:$,transform:L}}function useMotionVariants(r={}){const n=unref(r),g=ref$1();return{state:computed(()=>{if(g.value)return n[g.value]}),variant:g}}function useMotion(r,n={},g){const{motionProperties:y}=useMotionProperties(r),{variant:$,state:L}=useMotionVariants(n),re=useMotionControls(y,n),ae={target:r,variant:$,variants:n,state:L,motionProperties:y,...re};return useMotionFeatures(ae,g),ae}const transitionKeys=["delay","duration"],directivePropsKeys=["initial","enter","leave","visible","visible-once","visibleOnce","hovered","tapped","focused",...transitionKeys];function isTransitionKey(r){return transitionKeys.includes(r)}function resolveVariants(r,n){const g=r.props?r.props:r.data&&r.data.attrs?r.data.attrs:{};if(g){g.variants&&isObject$6(g.variants)&&(n.value={...n.value,...g.variants});for(let y of directivePropsKeys)if(!(!g||!g[y])){if(isTransitionKey(y)&&typeof g[y]=="number"){for(const $ of["enter","visible","visibleOnce"]){const L=n.value[$];L!=null&&(L.transition??(L.transition={}),L.transition[y]=g[y])}continue}if(isObject$6(g[y])){const $=g[y];y==="visible-once"&&(y="visibleOnce"),n.value[y]=$}}}}function directive(r,n=!1){return{created:($,L,re)=>{const ae=L.value&&typeof L.value=="string"?L.value:re.key;ae&&motionState[ae]&&motionState[ae].stop();const le=n?structuredClone(toRaw(r)||{}):r||{},ue=ref$1(le);typeof L.value=="object"&&(ue.value=L.value),resolveVariants(re,ue);const _e=useMotion($,ue,{eventListeners:!0,lifeCycleHooks:!0,syncVariants:!0,visibilityHooks:!1});$.motionInstance=_e,ae&&(motionState[ae]=_e)},mounted:($,L,re)=>{$.motionInstance&&registerVisibilityHooks($.motionInstance)},getSSRProps($,L){let{initial:re}=$.value||L&&(L==null?void 0:L.props)||{};re=unref(re);const ae=defu({},(r==null?void 0:r.initial)||{},re||{});return!ae||Object.keys(ae).length===0?void 0:{style:variantToStyle(ae)}}}}const fade={initial:{opacity:0},enter:{opacity:1}},fadeVisible={initial:{opacity:0},visible:{opacity:1}},fadeVisibleOnce={initial:{opacity:0},visibleOnce:{opacity:1}},pop$1={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},popVisible={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},popVisibleOnce={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},rollLeft={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollVisibleLeft={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollVisibleOnceLeft={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},rollRight={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollVisibleRight={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollVisibleOnceRight={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},rollTop={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollVisibleTop={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},rollVisibleOnceTop={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rollBottom={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollVisibleBottom={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},rollVisibleOnceBottom={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},slideLeft={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},slideVisibleLeft={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},slideVisibleOnceLeft={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},slideRight={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},slideVisibleRight={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},slideVisibleOnceRight={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},slideTop={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},slideVisibleTop={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},slideVisibleOnceTop={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},slideBottom={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},slideVisibleBottom={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},slideVisibleOnceBottom={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},presets={__proto__:null,fade,fadeVisible,fadeVisibleOnce,pop:pop$1,popVisible,popVisibleOnce,rollBottom,rollLeft,rollRight,rollTop,rollVisibleBottom,rollVisibleLeft,rollVisibleOnceBottom,rollVisibleOnceLeft,rollVisibleOnceRight,rollVisibleOnceTop,rollVisibleRight,rollVisibleTop,slideBottom,slideLeft,slideRight,slideTop,slideVisibleBottom,slideVisibleLeft,slideVisibleOnceBottom,slideVisibleOnceLeft,slideVisibleOnceRight,slideVisibleOnceTop,slideVisibleRight,slideVisibleTop};function slugify(r){const n="/_,:;",g="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",y=new RegExp(n.split("").join("|"),"g");return r.toString().replace(/[A-Z]/g,$=>`-${$}`).toLowerCase().replace(/\s+/g,"-").replace(y,$=>g.charAt(n.indexOf($))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/-{2,}/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const CUSTOM_PRESETS=Symbol(import.meta.dev?"motionCustomPresets":""),MotionComponentProps={preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1},duration:{type:[Number,String],required:!1}};function isObject$4(r){return Object.prototype.toString.call(r)==="[object Object]"}function clone$5(r){if(Array.isArray(r))return r.map(clone$5);if(isObject$4(r)){const n={};for(const g in r)n[g]=clone$5(r[g]);return n}return r}function setupMotionComponent(r){const n=reactive({}),g=inject(CUSTOM_PRESETS,{}),y=computed(()=>r.preset==null?{}:g!=null&&r.preset in g?structuredClone(toRaw(g)[r.preset]):r.preset in presets?structuredClone(presets[r.preset]):{}),$=computed(()=>({initial:r.initial,enter:r.enter,leave:r.leave,visible:r.visible,visibleOnce:r.visibleOnce,hovered:r.hovered,tapped:r.tapped,focused:r.focused}));function L(le,ue){for(const he of["delay","duration"]){if(ue[he]==null)continue;const _e=Number.parseInt(ue[he]);for(const Ce of["enter","visible","visibleOnce"]){const $e=le[Ce];$e!=null&&($e.transition??($e.transition={}),$e.transition[he]=_e)}}return le}const re=computed(()=>{const le=defu({},$.value,y.value,r.variants||{});return L({...le},r)});if(import.meta.dev){r.preset!=null&&(presets==null?void 0:presets[r.preset])==null&&(g==null?void 0:g[r.preset])==null&&console.warn(`[@vueuse/motion]: Preset \`${r.preset}\` not found.`);const le=ue=>{var he;(he=ue.variants)!=null&&he.initial&&ue.set("initial"),nextTick$1(()=>{var _e,Ce,$e;(_e=ue.variants)!=null&&_e.enter&&ue.apply("enter"),(Ce=ue.variants)!=null&&Ce.visible&&ue.apply("visible"),($e=ue.variants)!=null&&$e.visibleOnce&&ue.apply("visibleOnce")})};onUpdated(()=>{for(const ue in n)le(n[ue])})}function ae(le,ue,he){var _e;le.props??(le.props={}),(_e=le.props).style??(_e.style={}),le.props.style={...le.props.style,...he};const Ce=L(clone$5(re.value),le.props);return le.props.onVnodeMounted=({el:$e})=>{n[ue]=useMotion($e,Ce)},le.props.onVnodeUpdated=({el:$e})=>{const Oe=variantToStyle(n[ue].state);for(const[xe,Ne]of Object.entries(Oe))$e.style[xe]=Ne},le}return{motionConfig:re,setNodeInstance:ae}}const MotionComponent=defineComponent({name:"Motion",props:{...MotionComponentProps,is:{type:[String,Object],default:"div"}},setup(r){const n=useSlots(),{motionConfig:g,setNodeInstance:y}=setupMotionComponent(r);return()=>{const $=variantToStyle(g.value.initial||{}),L=h$1(r.is,void 0,n);return y(L,0,$),L}}}),MotionGroupComponent=defineComponent({name:"MotionGroup",props:{...MotionComponentProps,is:{type:[String,Object],required:!1}},setup(r){const n=useSlots(),{motionConfig:g,setNodeInstance:y}=setupMotionComponent(r);return()=>{var re;const $=variantToStyle(g.value.initial||{}),L=((re=n.default)==null?void 0:re.call(n))||[];for(let ae=0;ae<L.length;ae++){const le=L[ae];le.type===Fragment&&Array.isArray(le.children)?le.children.forEach(function ue(he,_e){if(he!=null){if(Array.isArray(he)){ue(he,_e);return}typeof he=="object"&&y(he,_e,$)}}):y(le,ae,$)}return r.is?h$1(r.is,void 0,L):L}}}),MotionPlugin={install(r,n){if(r.directive("motion",directive()),!n||n&&!n.excludePresets)for(const g in presets){const y=presets[g];r.directive(`motion-${slugify(g)}`,directive(y,!0))}if(n&&n.directives)for(const g in n.directives){const y=n.directives[g];!y.initial&&import.meta.dev&&console.warn(`Your directive v-motion-${g} is missing initial variant!`),r.directive(`motion-${g}`,directive(y,!0))}r.provide(CUSTOM_PRESETS,n==null?void 0:n.directives),r.component("Motion",MotionComponent),r.component("MotionGroup",MotionGroupComponent)}},AjmerMotion=defineComponent({name:"AjmerMotion",props:{delay:{type:Number,default:50}},render(){const{delay:r}=this,n=resolveDirective("motion");return withDirectives(h$1("div",{},{default:()=>[this.$slots.default()]}),[[n,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:r}}}]])}});AjmerMotion.install=r=>{r.component(AjmerMotion.name,AjmerMotion),r.use(MotionPlugin)};const _hoisted_1$4={class:"ajmer-query"},_hoisted_2$3={class:"each-item"},_hoisted_3$3={class:"query-btns"},_hoisted_4$3={class:"out-btns"},_sfc_main$a=Object.assign({name:"AjmerQuery"},{__name:"index",props:{config:{type:Array,default:()=>[]},modelValue:{type:Object,default:()=>({})}},emits:["reCalculateTableHeight"],setup(r,{emit:n}){const g=n,y=ref$1(!1),$=()=>{y.value=!y.value,g("reCalculateTableHeight")};let L=ue=>{if(ue.placeholder)return ue.placeholder;let he="";return["input"].includes(ue.type)?he=`${ue.label}`:["select"].includes(ue.type)&&(he=`${ue.label}`),he};const re=ref$1(!1),ae=ref$1(0);let le=()=>{ae.value=0,document.querySelectorAll(".query-formwrapper .each-item").forEach(he=>{ae.value+=he.offsetWidth,ae.value+=27});const ue=document.querySelectorAll(".query-formwrapper")[0].clientWidth;re.value=ue<ae.value};return onMounted(()=>{nextTick$1(()=>{le()}),window.addEventListener("resize",le)}),onUnmounted(()=>{window.removeEventListener("resize",le)}),(ue,he)=>{const _e=resolveComponent("el-input"),Ce=resolveComponent("el-option"),$e=resolveComponent("el-select"),Oe=resolveComponent("el-time-picker"),xe=resolveComponent("el-date-picker");return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",{class:normalizeClass(["query-topbox",y.value?"normal-collapse":"small-collapse"])},[(openBlock(),createElementBlock("div",{class:"query-formwrapper",key:r.config.length},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.config,Ne=>(openBlock(),createElementBlock("div",_hoisted_2$3,[createBaseVNode("label",null,toDisplayString(Ne.label),1),Ne.type==="input"?(openBlock(),createBlock(_e,{key:0,style:normalizeStyle$1({width:Ne.width?Ne.width:"250px"}),modelValue:r.modelValue[Ne.prop],"onUpdate:modelValue":Ie=>r.modelValue[Ne.prop]=Ie,modelModifiers:{trim:!0},placeholder:unref(L)(Ne),clearable:""},null,8,["style","modelValue","onUpdate:modelValue","placeholder"])):Ne.type==="select"?(openBlock(),createBlock($e,{key:1,style:normalizeStyle$1({width:Ne.width?Ne.width:"250px"}),multiple:Ne.multiple,modelValue:r.modelValue[Ne.prop],"onUpdate:modelValue":Ie=>r.modelValue[Ne.prop]=Ie,placeholder:unref(L)(Ne),clearable:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ne.options,Ie=>(openBlock(),createBlock(Ce,{key:Ie.value,label:Ie.label,value:Ie.value},null,8,["label","value"]))),128))]),_:2},1032,["style","multiple","modelValue","onUpdate:modelValue","placeholder"])):Ne.type==="time"?(openBlock(),createBlock(Oe,{key:2,style:normalizeStyle$1({width:Ne.width?Ne.width:"250px"}),"arrow-control":Ne.arrowControl,"is-range":Ne.isRange,format:Ne.format,"range-separator":"To","value-format":Ne.valueFormat,modelValue:r.modelValue[Ne.prop],"onUpdate:modelValue":Ie=>r.modelValue[Ne.prop]=Ie,placeholder:unref(L)(Ne),clearable:""},null,8,["style","arrow-control","is-range","format","value-format","modelValue","onUpdate:modelValue","placeholder"])):Ne.type==="data"?(openBlock(),createBlock(xe,{key:3,style:normalizeStyle$1({width:Ne.width?Ne.width:"250px"}),format:Ne.format,"range-separator":"To",type:Ne.subtype,"value-format":Ne.valueFormat,modelValue:r.modelValue[Ne.prop],"onUpdate:modelValue":Ie=>r.modelValue[Ne.prop]=Ie,placeholder:unref(L)(Ne),clearable:""},null,8,["style","format","type","value-format","modelValue","onUpdate:modelValue","placeholder"])):createCommentVNode("",!0)]))),256)),renderSlot(ue.$slots,"queryItems",{},void 0,!0)])),createBaseVNode("div",_hoisted_3$3,[re.value?(openBlock(),createElementBlock("div",{key:0,class:"btn-show",onClick:$},[createBaseVNode("span",null,toDisplayString(y.value?"":""),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$3,[renderSlot(ue.$slots,"outBtns",{},void 0,!0)])])],2)])}}}),AjmerQuery=_export_sfc$1(_sfc_main$a,[["__scopeId","data-v-84133bf7"]]);AjmerQuery.install=r=>{r.component(AjmerQuery.name,AjmerQuery)};function doRequest(r){const n=Object.assign(r);n.request.then(g=>{n.onSuccess&&n.onSuccess(g)}).catch(g=>{n.onError&&n.onError(g)}).finally(()=>{n.onFinally&&n.onFinally()})}const noData="/assets/noData.ZjBxRM3n.png",requestConfigDefault={pagingBackEnd:["page","size","list"],request:null,queryParam:{},checkRequestSuccess:r=>r.code===200,onPageLoadSuccess:()=>{console.log("")}},paginationConfigDefault={total:0,current:1,pageSize:5,pageSizes:[5,100,150,200],paginationLayout:"total, sizes, prev, pager, next"},tableConfigDefault={loading:!1,columns:[],rowkey:"id",height:"100%",size:"small",border:!1,stripe:!1,highlightCurrentRow:!1,settingShow:!0,lazy:!1,serialNumberShow:!1,treeProps:{children:"children"},showSummary:!1,sumText:"",tableLayout:"auto",paginationShow:!0,defaultExpandAll:!1,defaultSort:void 0,noDataImg:noData,headerDragend:(r,n,g,y)=>{},sortChange:r=>{console.log(r)},tableRowClassName:({row:r,rowIndex:n})=>"",load:(r,n,g)=>{setTimeout(()=>{g([{id:31,date:"2016-05-01",name:"wangxiaohu",address:"No. 189, Grove St, Los Angeles"},{id:32,date:"2016-05-01",name:"wangxiaohu",address:"No. 189, Grove St, Los Angeles"}])},1e3)},summaryMethod:void 0,spanMethod:({row:r,column:n,rowIndex:g,columnIndex:y})=>{}},useTable=r=>{const n=ref$1([]),g=ref$1({}),y=ref$1({}),$=ref$1({}),L=ref$1([]),re=ref$1([]),ae=ref$1([]);g.value={...requestConfigDefault,...r.requestConfig},y.value={...paginationConfigDefault,...r.paginationConfig},$.value={...tableConfigDefault,...r.tableOptions};const le=()=>{let Ne={};return g.value.pagingBackEnd[0]&&g.value.pagingBackEnd[1]&&(Ne={[g.value.pagingBackEnd[0]]:y.value.current,[g.value.pagingBackEnd[1]]:y.value.pageSize}),Object.assign({},r.requestConfig.queryParam,Ne)},ue=function(){$.value.loading=!0;const Ne=le();doRequest({request:r.requestConfig.request(Object.keys(Ne).length?Ne:void 0),onSuccess:Ie=>{var Ve,ze,Ue,qe;let Fe=Ie.data;(ze=(Ve=r.requestConfig).onPageLoadSuccess)!=null&&ze.call(Ve,Fe)&&(Fe=(qe=(Ue=r.requestConfig).onPageLoadSuccess)==null?void 0:qe.call(Ue,Fe)),n.value=g.value.pagingBackEnd[2]?Fe[g.value.pagingBackEnd[2]]:Fe,y.value.total=Number(Fe.total),$.value.loading=!1},onError:()=>{n.value=[],$.value.loading=!1},onFinally:()=>{}})};return{dataSource:n,requestConfig:g,paginationConfig:y,tableConfig:$,selectedRowKeys:L,selectedRows:re,radioRows:ae,loadData:ue,reloadTable:(Ne=!0)=>{Ne&&(y.value.current=1),ue()},handleTableChange:Ne=>{y.value={...y.value,...Ne},ue()},onSelectChange:Ne=>{re.value=Ne,$.value.rowkey&&(L.value=[],re.value.forEach(Ie=>{Ie[$.value.rowkey]&&L.value.push(Ie[$.value.rowkey])}))},currentChange:Ne=>{$.value.highlightCurrentRow&&(ae.value=Ne)},indexMethod:Ne=>Ne+(y.value.current-1)*y.value.pageSize+1,clearSelected:()=>{L.value=[],re.value=[]}}},_sfc_main$9={__name:"ajmer-table-column",props:{item:{type:Object}},setup(r){return(n,g)=>{const y=resolveComponent("ajmerTableColumn",!0),$=resolveComponent("el-table-column");return openBlock(),createBlock($,{fixed:r.item.fixed?r.item.fixed:!1,"column-key":r.item.prop,label:r.item.label,prop:r.item.prop,width:r.item.width,sortable:r.item.sortable,"sort-method":r.item.sortMethod,"sort-by":r.item.sortBy,filters:r.item.filters,"filter-method":r.item.filterMethod,"show-overflow-tooltip":""},createSlots({default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.item.children,L=>(openBlock(),createBlock(y,{key:L.label,item:L},createSlots({_:2},[renderList(Object.keys(n.$slots),re=>({name:re,fn:withCtx(ae=>[renderSlot(n.$slots,re,mergeProps({ref_for:!0},ae))])}))]),1032,["item"]))),128))]),_:2},[r.item.children&&r.item.children.length?void 0:{name:"header",fn:withCtx(()=>[renderSlot(n.$slots,`${r.item.prop}Header`)]),key:"0"},r.item.children&&r.item.children.length?void 0:{name:"default",fn:withCtx(L=>[renderSlot(n.$slots,r.item.prop,normalizeProps(guardReactiveProps(L)),()=>[createTextVNode(toDisplayString(L.row[r.item.prop]),1)])]),key:"1"}]),1032,["fixed","column-key","label","prop","width","sortable","sort-method","sort-by","filters","filter-method"])}}},_hoisted_1$3={class:"builder-ajmer"},_hoisted_2$2=["src"],_hoisted_3$2={key:0,class:"ajmer-page"},_hoisted_4$2={key:0,class:"ajmer-do"},_hoisted_5={key:1,class:"papagination_wrapper"},_sfc_main$8=Object.assign({name:"AjmerTable"},{__name:"index",props:{config:{type:Object,default:()=>({})}},setup(r,{expose:n}){let g=ref$1(null);const y=r;let $=ref$1();const L=computed(()=>{var he,_e,Ce;return(he=$.value)!=null&&he.tableConfig&&((_e=$.value)!=null&&_e.tableConfig.paginationShow||(Ce=$.value)!=null&&Ce.tableConfig.settingShow)?"calc(100% - 32px)":"100%"});let re=ref$1(0);watch$1(()=>y.config,()=>{re.value++,$.value=useTable(y.config)},{deep:!0,immediate:!0});let ae=()=>{g.value.doLayout()},le=he=>{$.value.handleTableChange({current:he})},ue=he=>{$.value.handleTableChange({pageSize:he})};return n({allConfig:$}),(he,_e)=>{const Ce=resolveComponent("el-table-column"),$e=resolveComponent("el-table"),Oe=resolveComponent("AjmerIconifyIconOnline"),xe=resolveComponent("el-radio-button"),Ne=resolveComponent("el-radio-group"),Ie=resolveComponent("el-form-item"),Fe=resolveComponent("el-checkbox"),Ve=resolveComponent("el-form"),ze=resolveComponent("el-popover"),Ue=resolveComponent("el-pagination"),qe=resolveDirective("loading");return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("div",{class:"ajmer-table",style:normalizeStyle$1({height:L.value})},[withDirectives((openBlock(),createBlock($e,{key:unref(re),data:unref($).dataSource,class:"fixed-table",ref_key:"ajmerTable",ref:g,height:"100%",load:unref($).tableConfig.load,lazy:unref($).tableConfig.lazy,"row-key":unref($).tableConfig.rowkey,onHeaderDragend:unref($).tableConfig.headerDragend,size:unref($).tableConfig.size,border:unref($).tableConfig.border,stripe:unref($).tableConfig.stripe,onSelectionChange:unref($).onSelectChange,"row-class-name":unref($).tableConfig.tableRowClassName,onSortChange:unref($).tableConfig.sortChange,"tree-props":unref($).tableConfig.treeProps,"highlight-current-row":unref($).tableConfig.highlightCurrentRow,"show-summary":unref($).tableConfig.showSummary,"sum-text":unref($).tableConfig.sumText,"default-expand-all":unref($).tableConfig.defaultExpandAll,"summary-method":unref($).tableConfig.summaryMethod,"span-method":unref($).tableConfig.spanMethod,"table-layout":unref($).tableConfig.tableLayout,"default-sort":unref($).tableConfig.defaultSort,onCurrentChange:unref($).currentChange},{empty:withCtx(()=>[unref($).tableConfig.noDataImg?(openBlock(),createElementBlock("img",{key:0,src:unref($).tableConfig.noDataImg,alt:""},null,8,_hoisted_2$2)):createCommentVNode("",!0),_e[8]||(_e[8]=createBaseVNode("span",null,toDisplayString(""),-1))]),default:withCtx(()=>[renderSlot(he.$slots,"selection",{},void 0,!0),renderSlot(he.$slots,"expand",{},void 0,!0),unref($).tableConfig.serialNumberShow?(openBlock(),createBlock(Ce,{key:0,label:"#",type:"index",index:unref($).indexMethod},null,8,["index"])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($).tableConfig.columns,kt=>(openBlock(),createBlock(_sfc_main$9,{key:kt.label,item:kt},createSlots({_:2},[renderList(Object.keys(he.$slots),Et=>({name:`${Et}Header`,fn:withCtx(()=>[renderSlot(he.$slots,`${Et}Header`,{},void 0,!0)])})),renderList(Object.keys(he.$slots),Et=>({name:Et,fn:withCtx(Pt=>[renderSlot(he.$slots,Et,mergeProps({ref_for:!0},Pt),void 0,!0)])}))]),1032,["item"]))),128))]),_:3},8,["data","load","lazy","row-key","onHeaderDragend","size","border","stripe","onSelectionChange","row-class-name","onSortChange","tree-props","highlight-current-row","show-summary","sum-text","default-expand-all","summary-method","span-method","table-layout","default-sort","onCurrentChange"])),[[qe,unref($).tableConfig.loading]])],4),unref($).tableConfig.settingShow||unref($).tableConfig.paginationShow?(openBlock(),createElementBlock("div",_hoisted_3$2,[unref($).tableConfig.settingShow?(openBlock(),createElementBlock("div",_hoisted_4$2,[createVNode$1(ze,{placement:"top",title:"",width:400,trigger:"click","hide-after":0},{reference:withCtx(()=>[createVNode$1(Oe,{icon:"ep:tools"})]),default:withCtx(()=>[createVNode$1(Ve,{"label-position":"top"},{default:withCtx(()=>[createVNode$1(Ie,{label:""},{default:withCtx(()=>[createVNode$1(Ne,{modelValue:unref($).tableConfig.size,"onUpdate:modelValue":_e[0]||(_e[0]=kt=>unref($).tableConfig.size=kt),size:"small",onChange:unref(ae)},{default:withCtx(()=>[createVNode$1(xe,{label:"",value:"small"}),createVNode$1(xe,{label:"",value:"default"}),createVNode$1(xe,{label:"",value:"large"})]),_:1},8,["modelValue","onChange"])]),_:1}),createVNode$1(Ie,{label:""},{default:withCtx(()=>[createVNode$1(Fe,{modelValue:unref($).tableConfig.border,"onUpdate:modelValue":_e[1]||(_e[1]=kt=>unref($).tableConfig.border=kt),label:""},null,8,["modelValue"]),createVNode$1(Fe,{modelValue:unref($).tableConfig.stripe,"onUpdate:modelValue":_e[2]||(_e[2]=kt=>unref($).tableConfig.stripe=kt),label:""},null,8,["modelValue"]),createVNode$1(Fe,{modelValue:unref($).tableConfig.highlightCurrentRow,"onUpdate:modelValue":_e[3]||(_e[3]=kt=>unref($).tableConfig.highlightCurrentRow=kt),label:""},null,8,["modelValue"]),createVNode$1(Fe,{modelValue:unref($).tableConfig.paginationShow,"onUpdate:modelValue":_e[4]||(_e[4]=kt=>unref($).tableConfig.paginationShow=kt),label:""},null,8,["modelValue"]),createVNode$1(Fe,{modelValue:unref($).tableConfig.settingShow,"onUpdate:modelValue":_e[5]||(_e[5]=kt=>unref($).tableConfig.settingShow=kt),label:""},null,8,["modelValue"]),createVNode$1(Fe,{modelValue:unref($).tableConfig.serialNumberShow,"onUpdate:modelValue":_e[6]||(_e[6]=kt=>unref($).tableConfig.serialNumberShow=kt),label:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])):createCommentVNode("",!0),unref($).tableConfig.paginationShow?(openBlock(),createElementBlock("div",_hoisted_5,[createVNode$1(Ue,{size:"small",layout:unref($).paginationConfig.paginationLayout,total:unref($).paginationConfig.total,"page-size":unref($).paginationConfig.pageSize,"page-sizes":unref($).paginationConfig.pageSizes,currentPage:unref($).paginationConfig.current,"onUpdate:currentPage":_e[7]||(_e[7]=kt=>unref($).paginationConfig.current=kt),onCurrentChange:unref(le),"onUpdate:pageSize":unref(ue)},null,8,["layout","total","page-size","page-sizes","currentPage","onCurrentChange","onUpdate:pageSize"])])):createCommentVNode("",!0)])):createCommentVNode("",!0)])}}}),AjmerTable=_export_sfc$1(_sfc_main$8,[["__scopeId","data-v-fef14777"]]);AjmerTable.install=r=>{r.component(AjmerTable.name,AjmerTable)};const _hoisted_1$2={class:"upDown"},_hoisted_2$1=["id"],_hoisted_3$1=["id"],_hoisted_4$1={class:"bottom"},_sfc_main$7=Object.assign({name:"AjmerUpDown"},{__name:"index",props:{modelValue:{type:Object,default:()=>({height:200,sidebarBackground:"#e5e5e5"})}},emits:["update:modelValue"],setup(r,{emit:n}){const g=n,y=r,L=ref$1((ae=>{ae=ae||32;const le=new Date().getTime(),ue="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnpfrstwxyz2345678",he=ue.length;let _e="";for(let Ce=0;Ce<ae;Ce++)_e+=ue.charAt(Math.floor(Math.random()*he));return _e+le})(15)),re=(ae,le)=>{const ue=document.getElementById(ae),he=document.getElementById(le);ue.onmousedown=function(_e){const Ce=_e.clientY;he.backupsHeight=he.offsetHeight,document.onmousemove=function($e){const Oe=$e.clientY,xe=he.backupsHeight+(Oe-Ce);g("update:modelValue",{...y.modelValue,height:xe}),he.style.height=xe+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,ue.releaseCapture&&ue.releaseCapture()}}};return onMounted(()=>{re(`sidebar${L.value}`,`top${L.value}`)}),(ae,le)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",{class:"top",id:`top${L.value}`,style:normalizeStyle$1(`height: ${y.modelValue.height}px`)},[renderSlot(ae.$slots,"top",{},()=>[le[0]||(le[0]=createTextVNode("  "))],!0)],12,_hoisted_2$1),createBaseVNode("div",{class:"sidebar",id:`sidebar${L.value}`,title:"",style:normalizeStyle$1(`background: ${y.modelValue.sidebarBackground}`)},null,12,_hoisted_3$1),createBaseVNode("div",_hoisted_4$1,[renderSlot(ae.$slots,"bottom",{},()=>[le[1]||(le[1]=createTextVNode("  "))],!0)])]))}}),AjmerUpDown=_export_sfc$1(_sfc_main$7,[["__scopeId","data-v-b056ca38"]]);AjmerUpDown.install=r=>{r.component(AjmerUpDown.name,AjmerUpDown)};function makeMap(r,n=null){const g=Object.create(null),y=r.split(",");for(let $=0;$<y.length;$++)g[y[$]]=!0;return n?$=>g[$.toLowerCase()]:$=>g[$]}const isAttr=makeMap("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrapprefix-icon"),isNotProps=makeMap("layout,prepend,regList,tag,document,changeTag,defaultValue"),componentChild={"el-button":{default(r,n,g){return n[g]}},"el-select":{options(r,n,g){return n.options.map(y=>r(resolveComponent("el-option"),{label:y.label,value:y.value}))}},"el-radio-group":{options(r,n,g){return n.optionType==="button"?n.options.map(y=>r(resolveComponent("el-checkbox-button"),{label:y.value},()=>y.label)):n.options.map(y=>r(resolveComponent("el-radio"),{label:y.value,border:n.border},()=>y.label))}},"el-checkbox-group":{options(r,n,g){return n.optionType==="button"?n.options.map(y=>r(resolveComponent("el-checkbox-button"),{label:y.value},()=>y.label)):n.options.map(y=>r(resolveComponent("el-checkbox"),{label:y.value,border:n.border},()=>y.label))}},"el-upload":{"list-type":(r,n,g)=>{const y={};return n["list-type"]==="picture-card"?r(resolveComponent("el-icon"),y,()=>r(resolveComponent("Plus"))):(y.type="primary",y.icon="Upload",r(resolveComponent("el-button"),y,()=>n.buttonText))}}},componentSlot={"el-upload":{tip:(r,n,g)=>{if(n.showTip)return()=>r("div",{class:"el-upload__tip"},""+n.fileSize+n.sizeUnit+""+n.accept+"")}},"el-input":{prepend:(r,n,g)=>()=>r("div",n.prepend),append:(r,n,g)=>()=>r("div",n.append)}},AjmerRender=defineComponent({name:"AjmerRender",props:{config:{type:Object,required:!0}},render(){const r={attrs:{},props:{},on:{},style:{}},n=JSON.parse(JSON.stringify(this.config)),g=[],y={},$=componentChild[n.tag];$&&Object.keys($).forEach(re=>{const ae=$[re];n[re]&&g.push(ae(h$1,n,re))});const L=componentSlot[n.tag];return L&&Object.keys(L).forEach(re=>{const ae=L[re];n[re]&&(y[re]=ae(h$1,n,re))}),Object.keys(n).forEach(re=>{const ae=n[re];r[re]?r[re]=ae:isAttr(re)?r.attrs[re]=ae:isNotProps(re)||(r.props[re]=ae)}),g.length>0&&(y.default=()=>g),h$1(resolveComponent(this.config.tag),{modelValue:this.$attrs.modelValue,...r.props,...r.attrs,style:{...r.style}},y)}});AjmerRender.install=r=>{r.component(AjmerRender.name,AjmerRender)};function parseRegExp(r){const n=r.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1]):new RegExp(r)}const trigger$2={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"};let buildRules=(r,n)=>{if(r.vModel===void 0)return;const g=[];if(trigger$2[r.tag]){if(r.required){const y=Array.isArray(r.defaultValue)?"array":"";let $=r.placeholder?r.placeholder:`${r.label}`,L=y?{required:!0,type:y,message:$,trigger:trigger$2[r.tag]}:{required:!0,message:$,trigger:trigger$2[r.tag]};g.push(L)}r.regList&&Array.isArray(r.regList)&&r.regList.forEach(y=>{y.pattern&&(console.log(y),g.push({pattern:parseRegExp(y.pattern),message:y.message,trigger:trigger$2[r.tag]}))}),n[r.vModel]=g}},buildFormfData=(r,n)=>{r.vModel!==void 0&&(n[r.vModel]=r.defaultValue?r.defaultValue:void 0)};const _sfc_main$6={__name:"formItem",props:{formData:{type:Object,default:()=>{}},item:{type:Object,default:()=>{}}},setup(r){let n=ref(null),g=r;return watch(()=>g.item,()=>{n.value=g.item.defaultValue},{deep:!0,immediate:!0}),(y,$)=>{const L=resolveComponent("AjmerRender"),re=resolveComponent("el-form-item"),ae=resolveComponent("formItem",!0),le=resolveComponent("el-row"),ue=resolveComponent("el-col");return openBlock(),createBlock(ue,{span:r.item.span},{default:withCtx(()=>[r.item.layout==="colFormItem"?(openBlock(),createBlock(re,{key:0,label:r.item.label,"label-width":r.item.labelWidth?r.item.labelWidth+"px":null,required:r.item.required,prop:r.item.vModel},{default:withCtx(()=>[(openBlock(),createBlock(L,{key:r.item.vModel,modelValue:r.formData[r.item.vModel],"onUpdate:modelValue":$[0]||($[0]=he=>r.formData[r.item.vModel]=he),config:r.item},null,8,["modelValue","config"]))]),_:1},8,["label","label-width","required","prop"])):(openBlock(),createBlock(le,{key:1,gutter:r.item.gutter},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.item.children,he=>(openBlock(),createBlock(ae,{formData:r.formData,key:he.renderKey,item:he},null,8,["formData","item"]))),128))]),_:1},8,["gutter"]))]),_:1},8,["span"])}}},_hoisted_1$1={class:"AjmerForm"},_sfc_main$5=Object.assign({name:"AjmerForm"},{__name:"index",props:{config:{type:Object,default:()=>{}},modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(r,{expose:n,emit:g}){const y=r,$=g;let L=ref({}),re=ref({});watch(()=>y.config,()=>{L.value={},re.value={},y.config.fields.forEach(he=>{buildFormfData(he,L.value),buildRules(he,re.value),he.children&&he.children.forEach(_e=>{buildFormfData(_e,L.value),buildRules(_e,re.value)})})},{deep:!0,immediate:!0});const ae=ref();return n({confirm:()=>new Promise(he=>{ae.value.validate(_e=>{if(!_e)return;let Ce={...y.modelValue,...L.value};$("update:modelValue",Ce),he(Ce)})}),resetForm:()=>new Promise(he=>{ae.value.resetFields();let _e={...y.modelValue,...L.value};$("update:modelValue",_e),he(_e)})}),(he,_e)=>{const Ce=resolveComponent("el-form"),$e=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode$1($e,{class:"center-board-row",gutter:r.config.gutter},{default:withCtx(()=>[createVNode$1(Ce,{ref_key:"formRef",ref:ae,model:unref(L),size:r.config.size,"label-position":r.config.labelPosition,disabled:r.config.disabled,rules:unref(re),"label-width":r.config.labelWidth+"px"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.config.fields,Oe=>(openBlock(),createBlock(_sfc_main$6,{key:Oe.renderKey,formData:unref(L),item:Oe},null,8,["formData","item"]))),128))]),_:1},8,["model","size","label-position","disabled","rules","label-width"])]),_:1},8,["gutter"])])}}});_sfc_main$5.install=r=>{r.component(_sfc_main$5.name,_sfc_main$5)};const data={width:1024,height:1024,body:'<path fill="currentColor" d="m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"/>'},_hoisted_1={class:"AjmerIconSelect"},_hoisted_2={class:"rightIcon"},_hoisted_3=["title","onClick"],_hoisted_4={class:"bottomPaging"},_sfc_main$4=Object.assign({name:"AjmerIconSelect"},{__name:"index",props:{modelValue:{type:String},modelModifiers:{}},emits:["update:modelValue"],setup(r){const n=useModel(r,"modelValue"),g=ref$1({"ep:":["add-location","aim","alarm-clock","apple","arrow-down","arrow-down-bold","arrow-left","arrow-left-bold","arrow-right","arrow-right-bold","arrow-up","arrow-up-bold","avatar","back","baseball","basketball","bell","bell-filled","bicycle","bottom","bottom-left","bottom-right","bowl","box","briefcase","brush","brush-filled","burger","calendar","camera","camera-filled","caret-bottom","caret-left","caret-right","caret-top","cellphone","chat-dot-round","chat-dot-square","chat-line-round","chat-line-square","chat-round","chat-square","check","checked","cherry","chicken","chrome-filled","circle-check","circle-check-filled","circle-close","circle-close-filled","circle-plus","circle-plus-filled","clock","close","close-bold","cloudy","coffee","coffee-cup","coin","cold-drink","collection","collection-tag","comment","compass","connection","coordinate","copy-document","cpu","credit-card","crop","d-arrow-left","d-arrow-right","d-caret","data-analysis","data-board","data-line","delete","delete-filled","delete-location","dessert","discount","dish","dish-dot","document","document-add","document-checked","document-copy","document-delete","document-remove","download","drizzling","edit","edit-pen","eleme","eleme-filled","element-plus","expand","failed","female","files","film","filter","finished","first-aid-kit","flag","fold","folder","folder-add","folder-checked","folder-delete","folder-opened","folder-remove","food","football","fork-spoon","fries","full-screen","goblet","goblet-full","goblet-square","goblet-square-full","gold-medal","goods","goods-filled","grape","grid","guide","handbag","headset","help","help-filled","hide","histogram","home-filled","hot-water","house","ice-cream","ice-cream-round","ice-cream-square","ice-drink","ice-tea","info-filled","iphone","key","knife-fork","lightning","link","list","loading","location","location-filled","location-information","lock","lollipop","magic-stick","magnet","male","management","map-location","medal","memo","menu","message","message-box","mic","microphone","milk-tea","minus","money","monitor","moon","moon-night","more","more-filled","mostly-cloudy","mouse","mug","mute","mute-notification","no-smoking","notebook","notification","odometer","office-building","open","operation","opportunity","orange","paperclip","partly-cloudy","pear","phone","phone-filled","picture","picture-filled","picture-rounded","pie-chart","place","platform","plus","pointer","position","postcard","pouring","present","price-tag","printer","promotion","quartz-watch","question-filled","rank","reading","reading-lamp","refresh","refresh-left","refresh-right","refrigerator","remove","remove-filled","right","scale-to-original","school","scissor","search","select","sell","semi-select","service","set-up","setting","share","ship","shop","shopping-bag","shopping-cart","shopping-cart-full","shopping-trolley","smoking","soccer","sold-out","sort","sort-down","sort-up","stamp","star","star-filled","stopwatch","success-filled","sugar","suitcase","suitcase-line","sunny","sunrise","sunset","switch","switch-button","switch-filled","takeaway-box","ticket","tickets","timer","toilet-paper","tools","top","top-left","top-right","trend-charts","trophy","trophy-base","turn-off","umbrella","unlock","upload","upload-filled","user","user-filled","van","video-camera","video-camera-filled","video-pause","video-play","view","wallet","wallet-filled","warn-triangle-filled","warning","warning-filled","watch","watermelon","wind-power","zoom-in","zoom-out"],"ri:":["24-hours-fill","24-hours-line","4k-fill","4k-line","a-b","account-box-fill","account-box-line","account-circle-fill","account-circle-line","account-pin-box-fill","account-pin-box-line","account-pin-circle-fill","account-pin-circle-line","add-box-fill","add-box-line","add-circle-fill","add-circle-line","add-fill","add-line","admin-fill","admin-line","advertisement-fill","advertisement-line","ai-generate","airplay-fill","airplay-line","alarm-fill","alarm-line","alarm-warning-fill","alarm-warning-line","album-fill","album-line","alert-fill","alert-line","aliens-fill","aliens-line","align-bottom","align-center","align-justify","align-left","align-right","align-top","align-vertically","alipay-fill","alipay-line","amazon-fill","amazon-line","anchor-fill","anchor-line","ancient-gate-fill","ancient-gate-line","ancient-pavilion-fill","ancient-pavilion-line","android-fill","android-line","angularjs-fill","angularjs-line","anticlockwise-2-fill","anticlockwise-2-line","anticlockwise-fill","anticlockwise-line","app-store-fill","app-store-line","apple-fill","apple-line","apps-2-fill","apps-2-line","apps-fill","apps-line","archive-2-fill","archive-2-line","archive-drawer-fill","archive-drawer-line","archive-fill","archive-line","arrow-down-circle-fill","arrow-down-circle-line","arrow-down-double-fill","arrow-down-double-line","arrow-down-fill","arrow-down-line","arrow-down-s-fill","arrow-down-s-line","arrow-drop-down-fill","arrow-drop-down-line","arrow-drop-left-fill","arrow-drop-left-line","arrow-drop-right-fill","arrow-drop-right-line","arrow-drop-up-fill","arrow-drop-up-line","arrow-go-back-fill","arrow-go-back-line","arrow-go-forward-fill","arrow-go-forward-line","arrow-left-circle-fill","arrow-left-circle-line","arrow-left-double-fill","arrow-left-double-line","arrow-left-down-fill","arrow-left-down-line","arrow-left-fill","arrow-left-line","arrow-left-right-fill","arrow-left-right-line","arrow-left-s-fill","arrow-left-s-line","arrow-left-up-fill","arrow-left-up-line","arrow-right-circle-fill","arrow-right-circle-line","arrow-right-double-fill","arrow-right-double-line","arrow-right-down-fill","arrow-right-down-line","arrow-right-fill","arrow-right-line","arrow-right-s-fill","arrow-right-s-line","arrow-right-up-fill","arrow-right-up-line","arrow-turn-back-fill","arrow-turn-back-line","arrow-turn-forward-fill","arrow-turn-forward-line","arrow-up-circle-fill","arrow-up-circle-line","arrow-up-double-fill","arrow-up-double-line","arrow-up-down-fill","arrow-up-down-line","arrow-up-fill","arrow-up-line","arrow-up-s-fill","arrow-up-s-line","artboard-2-fill","artboard-2-line","artboard-fill","artboard-line","article-fill","article-line","aspect-ratio-fill","aspect-ratio-line","asterisk","at-fill","at-line","attachment-2","attachment-fill","attachment-line","auction-fill","auction-line","award-fill","award-line","baidu-fill","baidu-line","ball-pen-fill","ball-pen-line","bank-card-2-fill","bank-card-2-line","bank-card-fill","bank-card-line","bank-fill","bank-line","bar-chart-2-fill","bar-chart-2-line","bar-chart-box-fill","bar-chart-box-line","bar-chart-fill","bar-chart-grouped-fill","bar-chart-grouped-line","bar-chart-horizontal-fill","bar-chart-horizontal-line","bar-chart-line","barcode-box-fill","barcode-box-line","barcode-fill","barcode-line","bard-fill","bard-line","barricade-fill","barricade-line","base-station-fill","base-station-line","basketball-fill","basketball-line","battery-2-charge-fill","battery-2-charge-line","battery-2-fill","battery-2-line","battery-charge-fill","battery-charge-line","battery-fill","battery-line","battery-low-fill","battery-low-line","battery-saver-fill","battery-saver-line","battery-share-fill","battery-share-line","bear-smile-fill","bear-smile-line","beer-fill","beer-line","behance-fill","behance-line","bell-fill","bell-line","bike-fill","bike-line","bilibili-fill","bilibili-line","bill-fill","bill-line","billiards-fill","billiards-line","bit-coin-fill","bit-coin-line","blaze-fill","blaze-line","blender-fill","blender-line","bluetooth-connect-fill","bluetooth-connect-line","bluetooth-fill","bluetooth-line","blur-off-fill","blur-off-line","body-scan-fill","body-scan-line","bold","book-2-fill","book-2-line","book-3-fill","book-3-line","book-fill","book-line","book-mark-fill","book-mark-line","book-open-fill","book-open-line","book-read-fill","book-read-line","booklet-fill","booklet-line","bookmark-2-fill","bookmark-2-line","bookmark-3-fill","bookmark-3-line","bookmark-fill","bookmark-line","bootstrap-fill","bootstrap-line","box-1-fill","box-1-line","box-2-fill","box-2-line","box-3-fill","box-3-line","boxing-fill","boxing-line","braces-fill","braces-line","brackets-fill","brackets-line","brain-fill","brain-line","briefcase-2-fill","briefcase-2-line","briefcase-3-fill","briefcase-3-line","briefcase-4-fill","briefcase-4-line","briefcase-5-fill","briefcase-5-line","briefcase-fill","briefcase-line","bring-forward","bring-to-front","broadcast-fill","broadcast-line","brush-2-fill","brush-2-line","brush-3-fill","brush-3-line","brush-4-fill","brush-4-line","brush-fill","brush-line","bubble-chart-fill","bubble-chart-line","bug-2-fill","bug-2-line","bug-fill","bug-line","building-2-fill","building-2-line","building-3-fill","building-3-line","building-4-fill","building-4-line","building-fill","building-line","bus-2-fill","bus-2-line","bus-fill","bus-line","bus-wifi-fill","bus-wifi-line","cactus-fill","cactus-line","cake-2-fill","cake-2-line","cake-3-fill","cake-3-line","cake-fill","cake-line","calculator-fill","calculator-line","calendar-2-fill","calendar-2-line","calendar-check-fill","calendar-check-line","calendar-close-fill","calendar-close-line","calendar-event-fill","calendar-event-line","calendar-fill","calendar-line","calendar-todo-fill","calendar-todo-line","camera-2-fill","camera-2-line","camera-3-fill","camera-3-line","camera-fill","camera-lens-fill","camera-lens-line","camera-line","camera-off-fill","camera-off-line","camera-switch-fill","camera-switch-line","candle-fill","candle-line","capsule-fill","capsule-line","car-fill","car-line","car-washing-fill","car-washing-line","caravan-fill","caravan-line","cash-fill","cash-line","cast-fill","cast-line","cellphone-fill","cellphone-line","celsius-fill","celsius-line","centos-fill","centos-line","character-recognition-fill","character-recognition-line","charging-pile-2-fill","charging-pile-2-line","charging-pile-fill","charging-pile-line","chat-1-fill","chat-1-line","chat-2-fill","chat-2-line","chat-3-fill","chat-3-line","chat-4-fill","chat-4-line","chat-check-fill","chat-check-line","chat-delete-fill","chat-delete-line","chat-download-fill","chat-download-line","chat-follow-up-fill","chat-follow-up-line","chat-forward-fill","chat-forward-line","chat-heart-fill","chat-heart-line","chat-history-fill","chat-history-line","chat-new-fill","chat-new-line","chat-off-fill","chat-off-line","chat-poll-fill","chat-poll-line","chat-private-fill","chat-private-line","chat-quote-fill","chat-quote-line","chat-settings-fill","chat-settings-line","chat-smile-2-fill","chat-smile-2-line","chat-smile-3-fill","chat-smile-3-line","chat-smile-fill","chat-smile-line","chat-upload-fill","chat-upload-line","chat-voice-fill","chat-voice-line","check-double-fill","check-double-line","check-fill","check-line","checkbox-blank-circle-fill","checkbox-blank-circle-line","checkbox-blank-fill","checkbox-blank-line","checkbox-circle-fill","checkbox-circle-line","checkbox-fill","checkbox-indeterminate-fill","checkbox-indeterminate-line","checkbox-line","checkbox-multiple-blank-fill","checkbox-multiple-blank-line","checkbox-multiple-fill","checkbox-multiple-line","china-railway-fill","china-railway-line","chrome-fill","chrome-line","circle-fill","circle-line","clapperboard-fill","clapperboard-line","clipboard-fill","clipboard-line","clockwise-2-fill","clockwise-2-line","clockwise-fill","clockwise-line","close-circle-fill","close-circle-line","close-fill","close-line","closed-captioning-fill","closed-captioning-line","cloud-fill","cloud-line","cloud-off-fill","cloud-off-line","cloud-windy-fill","cloud-windy-line","cloudy-2-fill","cloudy-2-line","cloudy-fill","cloudy-line","code-box-fill","code-box-line","code-fill","code-line","code-s-fill","code-s-line","code-s-slash-fill","code-s-slash-line","code-view","codepen-fill","codepen-line","coin-fill","coin-line","coins-fill","coins-line","collage-fill","collage-line","command-fill","command-line","community-fill","community-line","compass-2-fill","compass-2-line","compass-3-fill","compass-3-line","compass-4-fill","compass-4-line","compass-discover-fill","compass-discover-line","compass-fill","compass-line","compasses-2-fill","compasses-2-line","compasses-fill","compasses-line","computer-fill","computer-line","contacts-book-2-fill","contacts-book-2-line","contacts-book-fill","contacts-book-line","contacts-book-upload-fill","contacts-book-upload-line","contacts-fill","contacts-line","contract-left-fill","contract-left-line","contract-left-right-fill","contract-left-right-line","contract-right-fill","contract-right-line","contract-up-down-fill","contract-up-down-line","contrast-2-fill","contrast-2-line","contrast-drop-2-fill","contrast-drop-2-line","contrast-drop-fill","contrast-drop-line","contrast-fill","contrast-line","copilot-fill","copilot-line","copper-coin-fill","copper-coin-line","copper-diamond-fill","copper-diamond-line","copyleft-fill","copyleft-line","copyright-fill","copyright-line","coreos-fill","coreos-line","corner-down-left-fill","corner-down-left-line","corner-down-right-fill","corner-down-right-line","corner-left-down-fill","corner-left-down-line","corner-left-up-fill","corner-left-up-line","corner-right-down-fill","corner-right-down-line","corner-right-up-fill","corner-right-up-line","corner-up-left-double-fill","corner-up-left-double-line","corner-up-left-fill","corner-up-left-line","corner-up-right-double-fill","corner-up-right-double-line","corner-up-right-fill","corner-up-right-line","coupon-2-fill","coupon-2-line","coupon-3-fill","coupon-3-line","coupon-4-fill","coupon-4-line","coupon-5-fill","coupon-5-line","coupon-fill","coupon-line","cpu-fill","cpu-line","creative-commons-by-fill","creative-commons-by-line","creative-commons-fill","creative-commons-line","creative-commons-nc-fill","creative-commons-nc-line","creative-commons-nd-fill","creative-commons-nd-line","creative-commons-sa-fill","creative-commons-sa-line","creative-commons-zero-fill","creative-commons-zero-line","criminal-fill","criminal-line","crop-2-fill","crop-2-line","crop-fill","crop-line","cross-fill","cross-line","crosshair-2-fill","crosshair-2-line","crosshair-fill","crosshair-line","css3-fill","css3-line","cup-fill","cup-line","currency-fill","currency-line","cursor-fill","cursor-line","customer-service-2-fill","customer-service-2-line","customer-service-fill","customer-service-line","dashboard-2-fill","dashboard-2-line","dashboard-3-fill","dashboard-3-line","dashboard-fill","dashboard-line","database-2-fill","database-2-line","database-fill","database-line","delete-back-2-fill","delete-back-2-line","delete-back-fill","delete-back-line","delete-bin-2-fill","delete-bin-2-line","delete-bin-3-fill","delete-bin-3-line","delete-bin-4-fill","delete-bin-4-line","delete-bin-5-fill","delete-bin-5-line","delete-bin-6-fill","delete-bin-6-line","delete-bin-7-fill","delete-bin-7-line","delete-bin-fill","delete-bin-line","delete-column","delete-row","device-fill","device-line","device-recover-fill","device-recover-line","dingding-fill","dingding-line","direction-fill","direction-line","disc-fill","disc-line","discord-fill","discord-line","discuss-fill","discuss-line","dislike-fill","dislike-line","disqus-fill","disqus-line","divide-fill","divide-line","donut-chart-fill","donut-chart-line","door-closed-fill","door-closed-line","door-fill","door-line","door-lock-box-fill","door-lock-box-line","door-lock-fill","door-lock-line","door-open-fill","door-open-line","dossier-fill","dossier-line","douban-fill","douban-line","double-quotes-l","double-quotes-r","download-2-fill","download-2-line","download-cloud-2-fill","download-cloud-2-line","download-cloud-fill","download-cloud-line","download-fill","download-line","draft-fill","draft-line","drag-drop-fill","drag-drop-line","drag-move-2-fill","drag-move-2-line","drag-move-fill","drag-move-line","draggable","dribbble-fill","dribbble-line","drive-fill","drive-line","drizzle-fill","drizzle-line","drop-fill","drop-line","dropbox-fill","dropbox-line","dropdown-list","dual-sim-1-fill","dual-sim-1-line","dual-sim-2-fill","dual-sim-2-line","dv-fill","dv-line","dvd-fill","dvd-line","e-bike-2-fill","e-bike-2-line","e-bike-fill","e-bike-line","earth-fill","earth-line","earthquake-fill","earthquake-line","edge-fill","edge-line","edge-new-fill","edge-new-line","edit-2-fill","edit-2-line","edit-box-fill","edit-box-line","edit-circle-fill","edit-circle-line","edit-fill","edit-line","eject-fill","eject-line","emoji-sticker-fill","emoji-sticker-line","emotion-2-fill","emotion-2-line","emotion-fill","emotion-happy-fill","emotion-happy-line","emotion-laugh-fill","emotion-laugh-line","emotion-line","emotion-normal-fill","emotion-normal-line","emotion-sad-fill","emotion-sad-line","emotion-unhappy-fill","emotion-unhappy-line","empathize-fill","empathize-line","emphasis","emphasis-cn","english-input","equal-fill","equal-line","equalizer-fill","equalizer-line","eraser-fill","eraser-line","error-warning-fill","error-warning-line","evernote-fill","evernote-line","exchange-box-fill","exchange-box-line","exchange-cny-fill","exchange-cny-line","exchange-dollar-fill","exchange-dollar-line","exchange-fill","exchange-funds-fill","exchange-funds-line","exchange-line","expand-left-fill","expand-left-line","expand-left-right-fill","expand-left-right-line","expand-right-fill","expand-right-line","expand-up-down-fill","expand-up-down-line","external-link-fill","external-link-line","eye-2-fill","eye-2-line","eye-close-fill","eye-close-line","eye-fill","eye-line","eye-off-fill","eye-off-line","facebook-box-fill","facebook-box-line","facebook-circle-fill","facebook-circle-line","facebook-fill","facebook-line","fahrenheit-fill","fahrenheit-line","feedback-fill","feedback-line","file-2-fill","file-2-line","file-3-fill","file-3-line","file-4-fill","file-4-line","file-add-fill","file-add-line","file-chart-2-fill","file-chart-2-line","file-chart-fill","file-chart-line","file-close-fill","file-close-line","file-cloud-fill","file-cloud-line","file-code-fill","file-code-line","file-copy-2-fill","file-copy-2-line","file-copy-fill","file-copy-line","file-damage-fill","file-damage-line","file-download-fill","file-download-line","file-edit-fill","file-edit-line","file-excel-2-fill","file-excel-2-line","file-excel-fill","file-excel-line","file-fill","file-forbid-fill","file-forbid-line","file-gif-fill","file-gif-line","file-history-fill","file-history-line","file-hwp-fill","file-hwp-line","file-image-fill","file-image-line","file-info-fill","file-info-line","file-line","file-list-2-fill","file-list-2-line","file-list-3-fill","file-list-3-line","file-list-fill","file-list-line","file-lock-fill","file-lock-line","file-mark-fill","file-mark-line","file-music-fill","file-music-line","file-paper-2-fill","file-paper-2-line","file-paper-fill","file-paper-line","file-pdf-2-fill","file-pdf-2-line","file-pdf-fill","file-pdf-line","file-ppt-2-fill","file-ppt-2-line","file-ppt-fill","file-ppt-line","file-reduce-fill","file-reduce-line","file-search-fill","file-search-line","file-settings-fill","file-settings-line","file-shield-2-fill","file-shield-2-line","file-shield-fill","file-shield-line","file-shred-fill","file-shred-line","file-text-fill","file-text-line","file-transfer-fill","file-transfer-line","file-unknow-fill","file-unknow-line","file-upload-fill","file-upload-line","file-user-fill","file-user-line","file-video-fill","file-video-line","file-warning-fill","file-warning-line","file-word-2-fill","file-word-2-line","file-word-fill","file-word-line","file-zip-fill","file-zip-line","film-fill","film-line","filter-2-fill","filter-2-line","filter-3-fill","filter-3-line","filter-fill","filter-line","filter-off-fill","filter-off-line","find-replace-fill","find-replace-line","finder-fill","finder-line","fingerprint-2-fill","fingerprint-2-line","fingerprint-fill","fingerprint-line","fire-fill","fire-line","firefox-fill","firefox-line","first-aid-kit-fill","first-aid-kit-line","flag-2-fill","flag-2-line","flag-fill","flag-line","flashlight-fill","flashlight-line","flask-fill","flask-line","flickr-fill","flickr-line","flight-land-fill","flight-land-line","flight-takeoff-fill","flight-takeoff-line","flood-fill","flood-line","flow-chart","flutter-fill","flutter-line","focus-2-fill","focus-2-line","focus-3-fill","focus-3-line","focus-fill","focus-line","foggy-fill","foggy-line","folder-2-fill","folder-2-line","folder-3-fill","folder-3-line","folder-4-fill","folder-4-line","folder-5-fill","folder-5-line","folder-add-fill","folder-add-line","folder-chart-2-fill","folder-chart-2-line","folder-chart-fill","folder-chart-line","folder-download-fill","folder-download-line","folder-fill","folder-forbid-fill","folder-forbid-line","folder-history-fill","folder-history-line","folder-image-fill","folder-image-line","folder-info-fill","folder-info-line","folder-keyhole-fill","folder-keyhole-line","folder-line","folder-lock-fill","folder-lock-line","folder-music-fill","folder-music-line","folder-open-fill","folder-open-line","folder-received-fill","folder-received-line","folder-reduce-fill","folder-reduce-line","folder-settings-fill","folder-settings-line","folder-shared-fill","folder-shared-line","folder-shield-2-fill","folder-shield-2-line","folder-shield-fill","folder-shield-line","folder-transfer-fill","folder-transfer-line","folder-unknow-fill","folder-unknow-line","folder-upload-fill","folder-upload-line","folder-user-fill","folder-user-line","folder-video-fill","folder-video-line","folder-warning-fill","folder-warning-line","folder-zip-fill","folder-zip-line","folders-fill","folders-line","font-color","font-family","font-mono","font-sans","font-sans-serif","font-size","font-size-2","football-fill","football-line","footprint-fill","footprint-line","forbid-2-fill","forbid-2-line","forbid-fill","forbid-line","format-clear","forward-10-fill","forward-10-line","forward-15-fill","forward-15-line","forward-30-fill","forward-30-line","forward-5-fill","forward-5-line","fridge-fill","fridge-line","fullscreen-exit-fill","fullscreen-exit-line","fullscreen-fill","fullscreen-line","function-fill","function-line","functions","funds-box-fill","funds-box-line","funds-fill","funds-line","gallery-fill","gallery-line","gallery-upload-fill","gallery-upload-line","game-fill","game-line","gamepad-fill","gamepad-line","gas-station-fill","gas-station-line","gatsby-fill","gatsby-line","genderless-fill","genderless-line","ghost-2-fill","ghost-2-line","ghost-fill","ghost-line","ghost-smile-fill","ghost-smile-line","gift-2-fill","gift-2-line","gift-fill","gift-line","git-branch-fill","git-branch-line","git-close-pull-request-fill","git-close-pull-request-line","git-commit-fill","git-commit-line","git-merge-fill","git-merge-line","git-pull-request-fill","git-pull-request-line","git-repository-commits-fill","git-repository-commits-line","git-repository-fill","git-repository-line","git-repository-private-fill","git-repository-private-line","github-fill","github-line","gitlab-fill","gitlab-line","global-fill","global-line","globe-fill","globe-line","goblet-fill","goblet-line","google-fill","google-line","google-play-fill","google-play-line","government-fill","government-line","gps-fill","gps-line","gradienter-fill","gradienter-line","graduation-cap-fill","graduation-cap-line","grid-fill","grid-line","group-2-fill","group-2-line","group-fill","group-line","guide-fill","guide-line","h-1","h-2","h-3","h-4","h-5","h-6","hail-fill","hail-line","hammer-fill","hammer-line","hand-coin-fill","hand-coin-line","hand-heart-fill","hand-heart-line","hand-sanitizer-fill","hand-sanitizer-line","handbag-fill","handbag-line","hard-drive-2-fill","hard-drive-2-line","hard-drive-3-fill","hard-drive-3-line","hard-drive-fill","hard-drive-line","hashtag","haze-2-fill","haze-2-line","haze-fill","haze-line","hd-fill","hd-line","heading","headphone-fill","headphone-line","health-book-fill","health-book-line","heart-2-fill","heart-2-line","heart-3-fill","heart-3-line","heart-add-fill","heart-add-line","heart-fill","heart-line","heart-pulse-fill","heart-pulse-line","hearts-fill","hearts-line","heavy-showers-fill","heavy-showers-line","hexagon-fill","hexagon-line","history-fill","history-line","home-2-fill","home-2-line","home-3-fill","home-3-line","home-4-fill","home-4-line","home-5-fill","home-5-line","home-6-fill","home-6-line","home-7-fill","home-7-line","home-8-fill","home-8-line","home-fill","home-gear-fill","home-gear-line","home-heart-fill","home-heart-line","home-line","home-office-fill","home-office-line","home-smile-2-fill","home-smile-2-line","home-smile-fill","home-smile-line","home-wifi-fill","home-wifi-line","honor-of-kings-fill","honor-of-kings-line","honour-fill","honour-line","hospital-fill","hospital-line","hotel-bed-fill","hotel-bed-line","hotel-fill","hotel-line","hotspot-fill","hotspot-line","hourglass-2-fill","hourglass-2-line","hourglass-fill","hourglass-line","hq-fill","hq-line","html5-fill","html5-line","ie-fill","ie-line","image-2-fill","image-2-line","image-add-fill","image-add-line","image-edit-fill","image-edit-line","image-fill","image-line","inbox-2-fill","inbox-2-line","inbox-archive-fill","inbox-archive-line","inbox-fill","inbox-line","inbox-unarchive-fill","inbox-unarchive-line","increase-decrease-fill","increase-decrease-line","indent-decrease","indent-increase","indeterminate-circle-fill","indeterminate-circle-line","infinity-fill","infinity-line","information-fill","information-line","infrared-thermometer-fill","infrared-thermometer-line","ink-bottle-fill","ink-bottle-line","input-cursor-move","input-method-fill","input-method-line","insert-column-left","insert-column-right","insert-row-bottom","insert-row-top","instagram-fill","instagram-line","install-fill","install-line","instance-fill","instance-line","invision-fill","invision-line","italic","javascript-fill","javascript-line","kakao-talk-fill","kakao-talk-line","key-2-fill","key-2-line","key-fill","key-line","keyboard-box-fill","keyboard-box-line","keyboard-fill","keyboard-line","keynote-fill","keynote-line","kick-fill","kick-line","knife-blood-fill","knife-blood-line","knife-fill","knife-line","landscape-fill","landscape-line","layout-2-fill","layout-2-line","layout-3-fill","layout-3-line","layout-4-fill","layout-4-line","layout-5-fill","layout-5-line","layout-6-fill","layout-6-line","layout-bottom-2-fill","layout-bottom-2-line","layout-bottom-fill","layout-bottom-line","layout-column-fill","layout-column-line","layout-fill","layout-grid-fill","layout-grid-line","layout-left-2-fill","layout-left-2-line","layout-left-fill","layout-left-line","layout-line","layout-masonry-fill","layout-masonry-line","layout-right-2-fill","layout-right-2-line","layout-right-fill","layout-right-line","layout-row-fill","layout-row-line","layout-top-2-fill","layout-top-2-line","layout-top-fill","layout-top-line","leaf-fill","leaf-line","lifebuoy-fill","lifebuoy-line","lightbulb-fill","lightbulb-flash-fill","lightbulb-flash-line","lightbulb-line","line-chart-fill","line-chart-line","line-fill","line-height","line-line","link","link-m","link-unlink","link-unlink-m","linkedin-box-fill","linkedin-box-line","linkedin-fill","linkedin-line","links-fill","links-line","list-check","list-check-2","list-check-3","list-indefinite","list-ordered","list-ordered-2","list-radio","list-settings-fill","list-settings-line","list-unordered","live-fill","live-line","loader-2-fill","loader-2-line","loader-3-fill","loader-3-line","loader-4-fill","loader-4-line","loader-5-fill","loader-5-line","loader-fill","loader-line","lock-2-fill","lock-2-line","lock-fill","lock-line","lock-password-fill","lock-password-line","lock-unlock-fill","lock-unlock-line","login-box-fill","login-box-line","login-circle-fill","login-circle-line","logout-box-fill","logout-box-line","logout-box-r-fill","logout-box-r-line","logout-circle-fill","logout-circle-line","logout-circle-r-fill","logout-circle-r-line","loop-left-fill","loop-left-line","loop-right-fill","loop-right-line","luggage-cart-fill","luggage-cart-line","luggage-deposit-fill","luggage-deposit-line","lungs-fill","lungs-line","mac-fill","mac-line","macbook-fill","macbook-line","magic-fill","magic-line","mail-add-fill","mail-add-line","mail-check-fill","mail-check-line","mail-close-fill","mail-close-line","mail-download-fill","mail-download-line","mail-fill","mail-forbid-fill","mail-forbid-line","mail-line","mail-lock-fill","mail-lock-line","mail-open-fill","mail-open-line","mail-send-fill","mail-send-line","mail-settings-fill","mail-settings-line","mail-star-fill","mail-star-line","mail-unread-fill","mail-unread-line","mail-volume-fill","mail-volume-line","map-2-fill","map-2-line","map-fill","map-line","map-pin-2-fill","map-pin-2-line","map-pin-3-fill","map-pin-3-line","map-pin-4-fill","map-pin-4-line","map-pin-5-fill","map-pin-5-line","map-pin-add-fill","map-pin-add-line","map-pin-fill","map-pin-line","map-pin-range-fill","map-pin-range-line","map-pin-time-fill","map-pin-time-line","map-pin-user-fill","map-pin-user-line","mark-pen-fill","mark-pen-line","markdown-fill","markdown-line","markup-fill","markup-line","mastercard-fill","mastercard-line","mastodon-fill","mastodon-line","medal-2-fill","medal-2-line","medal-fill","medal-line","medicine-bottle-fill","medicine-bottle-line","medium-fill","medium-line","megaphone-fill","megaphone-line","memories-fill","memories-line","men-fill","men-line","mental-health-fill","mental-health-line","menu-2-fill","menu-2-line","menu-3-fill","menu-3-line","menu-4-fill","menu-4-line","menu-5-fill","menu-5-line","menu-add-fill","menu-add-line","menu-fill","menu-fold-fill","menu-fold-line","menu-line","menu-search-fill","menu-search-line","menu-unfold-fill","menu-unfold-line","merge-cells-horizontal","merge-cells-vertical","message-2-fill","message-2-line","message-3-fill","message-3-line","message-fill","message-line","messenger-fill","messenger-line","meta-fill","meta-line","meteor-fill","meteor-line","mic-2-fill","mic-2-line","mic-fill","mic-line","mic-off-fill","mic-off-line","mickey-fill","mickey-line","microscope-fill","microscope-line","microsoft-fill","microsoft-line","microsoft-loop-fill","microsoft-loop-line","mind-map","mini-program-fill","mini-program-line","mist-fill","mist-line","money-cny-box-fill","money-cny-box-line","money-cny-circle-fill","money-cny-circle-line","money-dollar-box-fill","money-dollar-box-line","money-dollar-circle-fill","money-dollar-circle-line","money-euro-box-fill","money-euro-box-line","money-euro-circle-fill","money-euro-circle-line","money-pound-box-fill","money-pound-box-line","money-pound-circle-fill","money-pound-circle-line","moon-clear-fill","moon-clear-line","moon-cloudy-fill","moon-cloudy-line","moon-fill","moon-foggy-fill","moon-foggy-line","moon-line","more-2-fill","more-2-line","more-fill","more-line","motorbike-fill","motorbike-line","mouse-fill","mouse-line","movie-2-fill","movie-2-line","movie-fill","movie-line","music-2-fill","music-2-line","music-fill","music-line","mv-fill","mv-line","navigation-fill","navigation-line","netease-cloud-music-fill","netease-cloud-music-line","netflix-fill","netflix-line","newspaper-fill","newspaper-line","nft-fill","nft-line","node-tree","notification-2-fill","notification-2-line","notification-3-fill","notification-3-line","notification-4-fill","notification-4-line","notification-badge-fill","notification-badge-line","notification-fill","notification-line","notification-off-fill","notification-off-line","notion-fill","notion-line","npmjs-fill","npmjs-line","number-0","number-1","number-2","number-3","number-4","number-5","number-6","number-7","number-8","number-9","numbers-fill","numbers-line","nurse-fill","nurse-line","octagon-fill","octagon-line","oil-fill","oil-line","omega","open-arm-fill","open-arm-line","open-source-fill","open-source-line","openai-fill","openai-line","openbase-fill","openbase-line","opera-fill","opera-line","order-play-fill","order-play-line","organization-chart","outlet-2-fill","outlet-2-line","outlet-fill","outlet-line","overline","p2p-fill","p2p-line","page-separator","pages-fill","pages-line","paint-brush-fill","paint-brush-line","paint-fill","paint-line","palette-fill","palette-line","pantone-fill","pantone-line","paragraph","parent-fill","parent-line","parentheses-fill","parentheses-line","parking-box-fill","parking-box-line","parking-fill","parking-line","pass-expired-fill","pass-expired-line","pass-pending-fill","pass-pending-line","pass-valid-fill","pass-valid-line","passport-fill","passport-line","patreon-fill","patreon-line","pause-circle-fill","pause-circle-line","pause-fill","pause-line","pause-mini-fill","pause-mini-line","paypal-fill","paypal-line","pen-nib-fill","pen-nib-line","pencil-fill","pencil-line","pencil-ruler-2-fill","pencil-ruler-2-line","pencil-ruler-fill","pencil-ruler-line","pentagon-fill","pentagon-line","percent-fill","percent-line","phone-camera-fill","phone-camera-line","phone-fill","phone-find-fill","phone-find-line","phone-line","phone-lock-fill","phone-lock-line","picture-in-picture-2-fill","picture-in-picture-2-line","picture-in-picture-exit-fill","picture-in-picture-exit-line","picture-in-picture-fill","picture-in-picture-line","pie-chart-2-fill","pie-chart-2-line","pie-chart-box-fill","pie-chart-box-line","pie-chart-fill","pie-chart-line","pin-distance-fill","pin-distance-line","ping-pong-fill","ping-pong-line","pinterest-fill","pinterest-line","pinyin-input","pixelfed-fill","pixelfed-line","plane-fill","plane-line","planet-fill","planet-line","plant-fill","plant-line","play-circle-fill","play-circle-line","play-fill","play-line","play-list-2-fill","play-list-2-line","play-list-add-fill","play-list-add-line","play-list-fill","play-list-line","play-mini-fill","play-mini-line","playstation-fill","playstation-line","plug-2-fill","plug-2-line","plug-fill","plug-line","polaroid-2-fill","polaroid-2-line","polaroid-fill","polaroid-line","police-car-fill","police-car-line","presentation-fill","presentation-line","price-tag-2-fill","price-tag-2-line","price-tag-3-fill","price-tag-3-line","price-tag-fill","price-tag-line","printer-cloud-fill","printer-cloud-line","printer-fill","printer-line","product-hunt-fill","product-hunt-line","profile-fill","profile-line","prohibited-fill","prohibited-line","projector-2-fill","projector-2-line","projector-fill","projector-line","psychotherapy-fill","psychotherapy-line","pulse-fill","pulse-line","pushpin-2-fill","pushpin-2-line","pushpin-fill","pushpin-line","qq-fill","qq-line","qr-code-fill","qr-code-line","qr-scan-2-fill","qr-scan-2-line","qr-scan-fill","qr-scan-line","question-answer-fill","question-answer-line","question-fill","question-line","question-mark","questionnaire-fill","questionnaire-line","quill-pen-fill","quill-pen-line","quote-text","radar-fill","radar-line","radio-2-fill","radio-2-line","radio-button-fill","radio-button-line","radio-fill","radio-line","rainbow-fill","rainbow-line","rainy-fill","rainy-line","reactjs-fill","reactjs-line","record-circle-fill","record-circle-line","record-mail-fill","record-mail-line","rectangle-fill","rectangle-line","recycle-fill","recycle-line","red-packet-fill","red-packet-line","reddit-fill","reddit-line","refresh-fill","refresh-line","refund-2-fill","refund-2-line","refund-fill","refund-line","registered-fill","registered-line","remixicon-fill","remixicon-line","remote-control-2-fill","remote-control-2-line","remote-control-fill","remote-control-line","repeat-2-fill","repeat-2-line","repeat-fill","repeat-line","repeat-one-fill","repeat-one-line","replay-10-fill","replay-10-line","replay-15-fill","replay-15-line","replay-30-fill","replay-30-line","replay-5-fill","replay-5-line","reply-all-fill","reply-all-line","reply-fill","reply-line","reserved-fill","reserved-line","rest-time-fill","rest-time-line","restart-fill","restart-line","restaurant-2-fill","restaurant-2-line","restaurant-fill","restaurant-line","rewind-fill","rewind-line","rewind-mini-fill","rewind-mini-line","rfid-fill","rfid-line","rhythm-fill","rhythm-line","riding-fill","riding-line","road-map-fill","road-map-line","roadster-fill","roadster-line","robot-2-fill","robot-2-line","robot-fill","robot-line","rocket-2-fill","rocket-2-line","rocket-fill","rocket-line","rotate-lock-fill","rotate-lock-line","rounded-corner","route-fill","route-line","router-fill","router-line","rss-fill","rss-line","ruler-2-fill","ruler-2-line","ruler-fill","ruler-line","run-fill","run-line","safari-fill","safari-line","safe-2-fill","safe-2-line","safe-fill","safe-line","sailboat-fill","sailboat-line","save-2-fill","save-2-line","save-3-fill","save-3-line","save-fill","save-line","scales-2-fill","scales-2-line","scales-3-fill","scales-3-line","scales-fill","scales-line","scan-2-fill","scan-2-line","scan-fill","scan-line","school-fill","school-line","scissors-2-fill","scissors-2-line","scissors-cut-fill","scissors-cut-line","scissors-fill","scissors-line","screenshot-2-fill","screenshot-2-line","screenshot-fill","screenshot-line","sd-card-fill","sd-card-line","sd-card-mini-fill","sd-card-mini-line","search-2-fill","search-2-line","search-eye-fill","search-eye-line","search-fill","search-line","secure-payment-fill","secure-payment-line","seedling-fill","seedling-line","send-backward","send-plane-2-fill","send-plane-2-line","send-plane-fill","send-plane-line","send-to-back","sensor-fill","sensor-line","seo-fill","seo-line","separator","server-fill","server-line","service-fill","service-line","settings-2-fill","settings-2-line","settings-3-fill","settings-3-line","settings-4-fill","settings-4-line","settings-5-fill","settings-5-line","settings-6-fill","settings-6-line","settings-fill","settings-line","shake-hands-fill","shake-hands-line","shape-2-fill","shape-2-line","shape-fill","shape-line","shapes-fill","shapes-line","share-box-fill","share-box-line","share-circle-fill","share-circle-line","share-fill","share-forward-2-fill","share-forward-2-line","share-forward-box-fill","share-forward-box-line","share-forward-fill","share-forward-line","share-line","shield-check-fill","shield-check-line","shield-cross-fill","shield-cross-line","shield-fill","shield-flash-fill","shield-flash-line","shield-keyhole-fill","shield-keyhole-line","shield-line","shield-star-fill","shield-star-line","shield-user-fill","shield-user-line","shining-2-fill","shining-2-line","shining-fill","shining-line","ship-2-fill","ship-2-line","ship-fill","ship-line","shirt-fill","shirt-line","shopping-bag-2-fill","shopping-bag-2-line","shopping-bag-3-fill","shopping-bag-3-line","shopping-bag-fill","shopping-bag-line","shopping-basket-2-fill","shopping-basket-2-line","shopping-basket-fill","shopping-basket-line","shopping-cart-2-fill","shopping-cart-2-line","shopping-cart-fill","shopping-cart-line","showers-fill","showers-line","shuffle-fill","shuffle-line","shut-down-fill","shut-down-line","side-bar-fill","side-bar-line","signal-tower-fill","signal-tower-line","signal-wifi-1-fill","signal-wifi-1-line","signal-wifi-2-fill","signal-wifi-2-line","signal-wifi-3-fill","signal-wifi-3-line","signal-wifi-error-fill","signal-wifi-error-line","signal-wifi-fill","signal-wifi-line","signal-wifi-off-fill","signal-wifi-off-line","sim-card-2-fill","sim-card-2-line","sim-card-fill","sim-card-line","single-quotes-l","single-quotes-r","sip-fill","sip-line","sketching","skip-back-fill","skip-back-line","skip-back-mini-fill","skip-back-mini-line","skip-down-fill","skip-down-line","skip-forward-fill","skip-forward-line","skip-forward-mini-fill","skip-forward-mini-line","skip-left-fill","skip-left-line","skip-right-fill","skip-right-line","skip-up-fill","skip-up-line","skull-2-fill","skull-2-line","skull-fill","skull-line","skype-fill","skype-line","slack-fill","slack-line","slash-commands","slash-commands-2","slice-fill","slice-line","slideshow-2-fill","slideshow-2-line","slideshow-3-fill","slideshow-3-line","slideshow-4-fill","slideshow-4-line","slideshow-fill","slideshow-line","slow-down-fill","slow-down-line","smartphone-fill","smartphone-line","snapchat-fill","snapchat-line","snowy-fill","snowy-line","sort-asc","sort-desc","sound-module-fill","sound-module-line","soundcloud-fill","soundcloud-line","space","space-ship-fill","space-ship-line","spam-2-fill","spam-2-line","spam-3-fill","spam-3-line","spam-fill","spam-line","sparkling-2-fill","sparkling-2-line","sparkling-fill","sparkling-line","speak-fill","speak-line","speaker-2-fill","speaker-2-line","speaker-3-fill","speaker-3-line","speaker-fill","speaker-line","spectrum-fill","spectrum-line","speed-fill","speed-line","speed-mini-fill","speed-mini-line","speed-up-fill","speed-up-line","split-cells-horizontal","split-cells-vertical","spotify-fill","spotify-line","spy-fill","spy-line","square-fill","square-line","stack-fill","stack-line","stack-overflow-fill","stack-overflow-line","stackshare-fill","stackshare-line","star-fill","star-half-fill","star-half-line","star-half-s-fill","star-half-s-line","star-line","star-s-fill","star-s-line","star-smile-fill","star-smile-line","steam-fill","steam-line","steering-2-fill","steering-2-line","steering-fill","steering-line","stethoscope-fill","stethoscope-line","sticky-note-2-fill","sticky-note-2-line","sticky-note-fill","sticky-note-line","stock-fill","stock-line","stop-circle-fill","stop-circle-line","stop-fill","stop-line","stop-mini-fill","stop-mini-line","store-2-fill","store-2-line","store-3-fill","store-3-line","store-fill","store-line","strikethrough","strikethrough-2","subscript","subscript-2","subtract-fill","subtract-line","subway-fill","subway-line","subway-wifi-fill","subway-wifi-line","suitcase-2-fill","suitcase-2-line","suitcase-3-fill","suitcase-3-line","suitcase-fill","suitcase-line","sun-cloudy-fill","sun-cloudy-line","sun-fill","sun-foggy-fill","sun-foggy-line","sun-line","supabase-fill","supabase-line","superscript","superscript-2","surgical-mask-fill","surgical-mask-line","surround-sound-fill","surround-sound-line","survey-fill","survey-line","swap-box-fill","swap-box-line","swap-fill","swap-line","switch-fill","switch-line","sword-fill","sword-line","syringe-fill","syringe-line","t-box-fill","t-box-line","t-shirt-2-fill","t-shirt-2-line","t-shirt-air-fill","t-shirt-air-line","t-shirt-fill","t-shirt-line","table-2","table-alt-fill","table-alt-line","table-fill","table-line","tablet-fill","tablet-line","takeaway-fill","takeaway-line","taobao-fill","taobao-line","tape-fill","tape-line","task-fill","task-line","taxi-fill","taxi-line","taxi-wifi-fill","taxi-wifi-line","team-fill","team-line","telegram-fill","telegram-line","temp-cold-fill","temp-cold-line","temp-hot-fill","temp-hot-line","tent-fill","tent-line","terminal-box-fill","terminal-box-line","terminal-fill","terminal-line","terminal-window-fill","terminal-window-line","test-tube-fill","test-tube-line","text","text-direction-l","text-direction-r","text-spacing","text-wrap","thermometer-fill","thermometer-line","threads-fill","threads-line","thumb-down-fill","thumb-down-line","thumb-up-fill","thumb-up-line","thunderstorms-fill","thunderstorms-line","ticket-2-fill","ticket-2-line","ticket-fill","ticket-line","tiktok-fill","tiktok-line","time-fill","time-line","timer-2-fill","timer-2-line","timer-fill","timer-flash-fill","timer-flash-line","timer-line","todo-fill","todo-line","toggle-fill","toggle-line","token-swap-fill","token-swap-line","tools-fill","tools-line","tornado-fill","tornado-line","trademark-fill","trademark-line","traffic-light-fill","traffic-light-line","train-fill","train-line","train-wifi-fill","train-wifi-line","translate","translate-2","travesti-fill","travesti-line","treasure-map-fill","treasure-map-line","tree-fill","tree-line","trello-fill","trello-line","triangle-fill","triangle-line","trophy-fill","trophy-line","truck-fill","truck-line","tumblr-fill","tumblr-line","tv-2-fill","tv-2-line","tv-fill","tv-line","twitch-fill","twitch-line","twitter-fill","twitter-line","twitter-x-fill","twitter-x-line","typhoon-fill","typhoon-line","u-disk-fill","u-disk-line","ubuntu-fill","ubuntu-line","umbrella-fill","umbrella-line","underline","uninstall-fill","uninstall-line","unpin-fill","unpin-line","unsplash-fill","unsplash-line","upload-2-fill","upload-2-line","upload-cloud-2-fill","upload-cloud-2-line","upload-cloud-fill","upload-cloud-line","upload-fill","upload-line","usb-fill","usb-line","user-2-fill","user-2-line","user-3-fill","user-3-line","user-4-fill","user-4-line","user-5-fill","user-5-line","user-6-fill","user-6-line","user-add-fill","user-add-line","user-fill","user-follow-fill","user-follow-line","user-forbid-fill","user-forbid-line","user-heart-fill","user-heart-line","user-line","user-location-fill","user-location-line","user-received-2-fill","user-received-2-line","user-received-fill","user-received-line","user-search-fill","user-search-line","user-settings-fill","user-settings-line","user-shared-2-fill","user-shared-2-line","user-shared-fill","user-shared-line","user-smile-fill","user-smile-line","user-star-fill","user-star-line","user-unfollow-fill","user-unfollow-line","user-voice-fill","user-voice-line","verified-badge-fill","verified-badge-line","video-add-fill","video-add-line","video-chat-fill","video-chat-line","video-download-fill","video-download-line","video-fill","video-line","video-upload-fill","video-upload-line","vidicon-2-fill","vidicon-2-line","vidicon-fill","vidicon-line","vimeo-fill","vimeo-line","vip-crown-2-fill","vip-crown-2-line","vip-crown-fill","vip-crown-line","vip-diamond-fill","vip-diamond-line","vip-fill","vip-line","virus-fill","virus-line","visa-fill","visa-line","voice-recognition-fill","voice-recognition-line","voiceprint-fill","voiceprint-line","volume-down-fill","volume-down-line","volume-mute-fill","volume-mute-line","volume-off-vibrate-fill","volume-off-vibrate-line","volume-up-fill","volume-up-line","volume-vibrate-fill","volume-vibrate-line","vuejs-fill","vuejs-line","walk-fill","walk-line","wallet-2-fill","wallet-2-line","wallet-3-fill","wallet-3-line","wallet-fill","wallet-line","water-flash-fill","water-flash-line","water-percent-fill","water-percent-line","webcam-fill","webcam-line","wechat-2-fill","wechat-2-line","wechat-channels-fill","wechat-channels-line","wechat-fill","wechat-line","wechat-pay-fill","wechat-pay-line","weibo-fill","weibo-line","whatsapp-fill","whatsapp-line","wheelchair-fill","wheelchair-line","wifi-fill","wifi-line","wifi-off-fill","wifi-off-line","window-2-fill","window-2-line","window-fill","window-line","windows-fill","windows-line","windy-fill","windy-line","wireless-charging-fill","wireless-charging-line","women-fill","women-line","wordpress-fill","wordpress-line","wubi-input","xbox-fill","xbox-line","xing-fill","xing-line","youtube-fill","youtube-line","yuque-fill","yuque-line","zcool-fill","zcool-line","zhihu-fill","zhihu-line","zoom-in-fill","zoom-in-line","zoom-out-fill","zoom-out-line","zzz-fill","zzz-line"],"fa-solid:":["abacus","ad","address-book","address-card","adjust","air-freshener","align-center","align-justify","align-left","align-right","allergies","ambulance","american-sign-language-interpreting","anchor","angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","angry","ankh","apple-alt","archive","archway","arrow-alt-circle-down","arrow-alt-circle-left","arrow-alt-circle-right","arrow-alt-circle-up","arrow-circle-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows-alt","arrows-alt-h","arrows-alt-v","assistive-listening-systems","asterisk","at","atlas","atom","audio-description","award","baby","baby-carriage","backspace","backward","bacon","bacteria","bacterium","bahai","balance-scale","balance-scale-left","balance-scale-right","ban","band-aid","barcode","bars","baseball-ball","basketball-ball","bath","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","bell","bell-slash","bezier-curve","bible","bicycle","biking","binoculars","biohazard","birthday-cake","blender","blender-phone","blind","blog","bold","bolt","bomb","bone","bong","book","book-dead","book-medical","book-open","book-reader","bookmark","border-all","border-none","border-style","bowling-ball","box","box-open","box-tissue","boxes","braille","brain","bread-slice","briefcase","briefcase-medical","broadcast-tower","broom","brush","bug","building","bullhorn","bullseye","burn","bus","bus-alt","business-time","calculator","calculator-alt","calendar","calendar-alt","calendar-check","calendar-day","calendar-minus","calendar-plus","calendar-times","calendar-week","camera","camera-retro","campground","candy-cane","cannabis","capsules","car","car-alt","car-battery","car-crash","car-side","caravan","caret-down","caret-left","caret-right","caret-square-down","caret-square-left","caret-square-right","caret-square-up","caret-up","carrot","cart-arrow-down","cart-plus","cash-register","cat","certificate","chair","chalkboard","chalkboard-teacher","charging-station","chart-area","chart-bar","chart-line","chart-pie","check","check-circle","check-double","check-square","cheese","chess","chess-bishop","chess-board","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","child","church","circle","circle-notch","city","clinic-medical","clipboard","clipboard-check","clipboard-list","clock","clone","closed-captioning","cloud","cloud-download-alt","cloud-meatball","cloud-moon","cloud-moon-rain","cloud-rain","cloud-showers-heavy","cloud-sun","cloud-sun-rain","cloud-upload-alt","cocktail","code","code-branch","coffee","cog","cogs","coins","columns","comment","comment-alt","comment-dollar","comment-dots","comment-medical","comment-slash","comments","comments-dollar","compact-disc","compass","compress","compress-alt","compress-arrows-alt","concierge-bell","cookie","cookie-bite","copy","copyright","couch","credit-card","crop","crop-alt","cross","crosshairs","crow","crown","crutch","cube","cubes","cut","database","deaf","democrat","desktop","dharmachakra","diagnoses","dice","dice-d20","dice-d6","dice-five","dice-four","dice-one","dice-six","dice-three","dice-two","digital-tachograph","directions","disease","divide","dizzy","dna","dog","dollar-sign","dolly","dolly-flatbed","donate","door-closed","door-open","dot-circle","dove","download","drafting-compass","dragon","draw-polygon","drum","drum-steelpan","drumstick-bite","dumbbell","dumpster","dumpster-fire","dungeon","edit","egg","eject","ellipsis-h","ellipsis-v","empty-set","envelope","envelope-open","envelope-open-text","envelope-square","equals","eraser","ethernet","euro-sign","exchange-alt","exclamation","exclamation-circle","exclamation-triangle","expand","expand-alt","expand-arrows-alt","external-link-alt","external-link-square-alt","eye","eye-dropper","eye-slash","fan","fast-backward","fast-forward","faucet","fax","feather","feather-alt","female","fighter-jet","file","file-alt","file-archive","file-audio","file-code","file-contract","file-csv","file-download","file-excel","file-export","file-image","file-import","file-invoice","file-invoice-dollar","file-medical","file-medical-alt","file-pdf","file-powerpoint","file-prescription","file-signature","file-upload","file-video","file-word","fill","fill-drip","film","filter","fingerprint","fire","fire-alt","fire-extinguisher","first-aid","fish","fist-raised","flag","flag-checkered","flag-usa","flask","flushed","folder","folder-minus","folder-open","folder-plus","font","football-ball","forward","frog","frown","frown-open","function","funnel-dollar","futbol","gamepad","gas-pump","gavel","gem","genderless","ghost","gift","gifts","glass-cheers","glass-martini","glass-martini-alt","glass-whiskey","glasses","globe","globe-africa","globe-americas","globe-asia","globe-europe","golf-ball","gopuram","graduation-cap","greater-than","greater-than-equal","grimace","grin","grin-alt","grin-beam","grin-beam-sweat","grin-hearts","grin-squint","grin-squint-tears","grin-stars","grin-tears","grin-tongue","grin-tongue-squint","grin-tongue-wink","grin-wink","grip-horizontal","grip-lines","grip-lines-vertical","grip-vertical","guitar","h-square","hamburger","hammer","hamsa","hand-holding","hand-holding-heart","hand-holding-medical","hand-holding-usd","hand-holding-water","hand-lizard","hand-middle-finger","hand-paper","hand-peace","hand-point-down","hand-point-left","hand-point-right","hand-point-up","hand-pointer","hand-rock","hand-scissors","hand-sparkles","hand-spock","hands","hands-helping","hands-wash","handshake","handshake-alt-slash","handshake-slash","hanukiah","hard-hat","hashtag","hat-cowboy","hat-cowboy-side","hat-wizard","hdd","head-side-cough","head-side-cough-slash","head-side-mask","head-side-virus","heading","headphones","headphones-alt","headset","heart","heart-broken","heartbeat","helicopter","highlighter","hiking","hippo","history","hockey-puck","holly-berry","home","horse","horse-head","hospital","hospital-alt","hospital-symbol","hospital-user","hot-tub","hotdog","hotel","hourglass","hourglass-end","hourglass-half","hourglass-start","house-damage","house-user","hryvnia","i-cursor","ice-cream","icicles","icons","id-badge","id-card","id-card-alt","igloo","image","images","inbox","indent","industry","infinity","info","info-circle","integral","intersection","italic","jedi","joint","journal-whills","kaaba","key","keyboard","khanda","kiss","kiss-beam","kiss-wink-heart","kiwi-bird","lambda","landmark","language","laptop","laptop-code","laptop-house","laptop-medical","laugh","laugh-beam","laugh-squint","laugh-wink","layer-group","leaf","lemon","less-than","less-than-equal","level-down-alt","level-up-alt","life-ring","lightbulb","link","lira-sign","list","list-alt","list-ol","list-ul","location-arrow","lock","lock-open","long-arrow-alt-down","long-arrow-alt-left","long-arrow-alt-right","long-arrow-alt-up","low-vision","luggage-cart","lungs","lungs-virus","magic","magnet","mail-bulk","male","map","map-marked","map-marked-alt","map-marker","map-marker-alt","map-pin","map-signs","marker","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","mask","medal","medkit","meh","meh-blank","meh-rolling-eyes","memory","menorah","mercury","meteor","microchip","microphone","microphone-alt","microphone-alt-slash","microphone-slash","microscope","minus","minus-circle","minus-square","mitten","mobile","mobile-alt","money-bill","money-bill-alt","money-bill-wave","money-bill-wave-alt","money-check","money-check-alt","monument","moon","mortar-pestle","mosque","motorcycle","mountain","mouse","mouse-pointer","mug-hot","music","network-wired","neuter","newspaper","not-equal","notes-medical","object-group","object-ungroup","oil-can","om","omega","otter","outdent","pager","paint-brush","paint-roller","palette","pallet","paper-plane","paperclip","parachute-box","paragraph","parking","passport","pastafarianism","paste","pause","pause-circle","paw","peace","pen","pen-alt","pen-fancy","pen-nib","pen-square","pencil-alt","pencil-ruler","people-arrows","people-carry","pepper-hot","percent","percentage","person-booth","phone","phone-alt","phone-slash","phone-square","phone-square-alt","phone-volume","photo-video","pi","piggy-bank","pills","pizza-slice","place-of-worship","plane","plane-arrival","plane-departure","plane-slash","play","play-circle","plug","plus","plus-circle","plus-square","podcast","poll","poll-h","poo","poo-storm","poop","portrait","pound-sign","power-off","pray","praying-hands","prescription","prescription-bottle","prescription-bottle-alt","print","procedures","project-diagram","pump-medical","pump-soap","puzzle-piece","qrcode","question","question-circle","quidditch","quote-left","quote-right","quran","radiation","radiation-alt","rainbow","random","receipt","record-vinyl","recycle","redo","redo-alt","registered","remove-format","reply","reply-all","republican","restroom","retweet","ribbon","ring","road","robot","rocket","route","rss","rss-square","ruble-sign","ruler","ruler-combined","ruler-horizontal","ruler-vertical","running","rupee-sign","sad-cry","sad-tear","satellite","satellite-dish","save","school","screwdriver","scroll","sd-card","search","search-dollar","search-location","search-minus","search-plus","seedling","server","shapes","share","share-alt","share-alt-square","share-square","shekel-sign","shield-alt","shield-virus","ship","shipping-fast","shoe-prints","shopping-bag","shopping-basket","shopping-cart","shower","shuttle-van","sigma","sign","sign-in-alt","sign-language","sign-out-alt","signal","signal-alt","signal-alt-slash","signal-slash","signature","sim-card","sink","sitemap","skating","skiing","skiing-nordic","skull","skull-crossbones","slash","sleigh","sliders-h","smile","smile-beam","smile-wink","smog","smoking","smoking-ban","sms","snowboarding","snowflake","snowman","snowplow","soap","socks","solar-panel","sort","sort-alpha-down","sort-alpha-down-alt","sort-alpha-up","sort-alpha-up-alt","sort-amount-down","sort-amount-down-alt","sort-amount-up","sort-amount-up-alt","sort-down","sort-numeric-down","sort-numeric-down-alt","sort-numeric-up","sort-numeric-up-alt","sort-up","spa","space-shuttle","spell-check","spider","spinner","splotch","spray-can","square","square-full","square-root","square-root-alt","stamp","star","star-and-crescent","star-half","star-half-alt","star-of-david","star-of-life","step-backward","step-forward","stethoscope","sticky-note","stop","stop-circle","stopwatch","stopwatch-20","store","store-alt","store-alt-slash","store-slash","stream","street-view","strikethrough","stroopwafel","subscript","subway","suitcase","suitcase-rolling","sun","superscript","surprise","swatchbook","swimmer","swimming-pool","synagogue","sync","sync-alt","syringe","table","table-tennis","tablet","tablet-alt","tablets","tachometer-alt","tag","tags","tally","tape","tasks","taxi","teeth","teeth-open","temperature-high","temperature-low","tenge","terminal","text-height","text-width","th","th-large","th-list","theater-masks","thermometer","thermometer-empty","thermometer-full","thermometer-half","thermometer-quarter","thermometer-three-quarters","theta","thumbs-down","thumbs-up","thumbtack","ticket-alt","tilde","times","times-circle","tint","tint-slash","tired","toggle-off","toggle-on","toilet","toilet-paper","toilet-paper-slash","toolbox","tools","tooth","torah","torii-gate","tractor","trademark","traffic-light","trailer","train","tram","transgender","transgender-alt","trash","trash-alt","trash-restore","trash-restore-alt","tree","trophy","truck","truck-loading","truck-monster","truck-moving","truck-pickup","tshirt","tty","tv","umbrella","umbrella-beach","underline","undo","undo-alt","union","universal-access","university","unlink","unlock","unlock-alt","upload","user","user-alt","user-alt-slash","user-astronaut","user-check","user-circle","user-clock","user-cog","user-edit","user-friends","user-graduate","user-injured","user-lock","user-md","user-minus","user-ninja","user-nurse","user-plus","user-secret","user-shield","user-slash","user-tag","user-tie","user-times","users","users-cog","users-slash","utensil-spoon","utensils","value-absolute","vector-square","venus","venus-double","venus-mars","vest","vest-patches","vial","vials","video","video-slash","vihara","virus","virus-slash","viruses","voicemail","volleyball-ball","volume","volume-down","volume-mute","volume-off","volume-slash","volume-up","vote-yea","vr-cardboard","walking","wallet","warehouse","water","wave-square","weight","weight-hanging","wheelchair","wifi","wifi-slash","wind","window-close","window-maximize","window-minimize","window-restore","wine-bottle","wine-glass","wine-glass-alt","won-sign","wrench","x-ray","yen-sign","yin-yang"]}),y=ref$1(),$=ref$1("ep:"),L=Cn(g.value),re=ref$1(0),ae=ref$1(35),le=ref$1(1),ue=ref$1(""),he=[{label:"Element Plus",name:"ep:"},{label:"Remix Icon",name:"ri:"},{label:"Font Awesome 5 Solid",name:"fa-solid:"}],_e=computed(()=>L[$.value].filter(ze=>ze.includes(ue.value)).slice((le.value-1)*ae.value,le.value*ae.value)),Ce=computed(()=>ze=>{if(n.value===$.value+ze)return{borderColor:"var(--el-color-primary)",color:"var(--el-color-primary)"}});function $e(){$.value=n.value.substring(0,n.value.indexOf(":")+1),y.value=n.value.substring(n.value.indexOf(":")+1)}function Oe(){if(j(y.value))return;$e();const ze=L[$.value].findIndex(Ue=>Ue===y.value);le.value=Math.ceil((ze+1)/ae.value)}function xe(){ue.value=""}function Ne({props:ze}){le.value=1,$.value=ze.name}function Ie(ze){y.value=ze,n.value=$.value+ze}function Fe(ze){le.value=ze}function Ve(){y.value="",n.value=""}return watch$1(()=>_e.value,()=>re.value=L[$.value].filter(ze=>ze.includes(ue.value)).length,{immediate:!0}),watch$1(()=>n.value,ze=>ze&&$e(),{immediate:!0}),watch$1(()=>ue.value,()=>le.value=1),(ze,Ue)=>{const qe=resolveComponent("AjmerIconifyIconOffline"),kt=resolveComponent("AjmerIconifyIconOnline"),Et=resolveComponent("el-input"),Pt=resolveComponent("el-empty"),At=resolveComponent("el-scrollbar"),Dt=resolveComponent("el-tab-pane"),Lt=resolveComponent("el-tabs"),hn=resolveComponent("el-pagination"),_n=resolveComponent("el-button"),vn=resolveComponent("el-popover");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode$1(Et,{modelValue:n.value,"onUpdate:modelValue":Ue[2]||(Ue[2]=jt=>n.value=jt),disabled:""},{append:withCtx(()=>[createVNode$1(vn,{width:350,trigger:"click","popper-class":"pure-popper AjmerIconSelect-popper","popper-options":{placement:"auto"},onBeforeEnter:Oe,onAfterLeave:xe},{reference:withCtx(()=>[createBaseVNode("div",_hoisted_2,[y.value?(openBlock(),createBlock(kt,{key:1,icon:n.value},null,8,["icon"])):(openBlock(),createBlock(qe,{key:0,icon:unref(data)},null,8,["icon"]))])]),default:withCtx(()=>[createVNode$1(Et,{modelValue:ue.value,"onUpdate:modelValue":Ue[0]||(Ue[0]=jt=>ue.value=jt),class:"search",placeholder:"",clearable:""},null,8,["modelValue"]),createVNode$1(Lt,{modelValue:$.value,"onUpdate:modelValue":Ue[1]||(Ue[1]=jt=>$.value=jt),onTabClick:Ne},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(he,(jt,$n)=>createVNode$1(Dt,{key:$n,label:jt.label,name:jt.name},{default:withCtx(()=>[createVNode$1(At,{height:"220px"},{default:withCtx(()=>[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.value,(Sn,bn)=>(openBlock(),createElementBlock("li",{key:bn,title:Sn,style:normalizeStyle$1(Ce.value(Sn)),onClick:wn=>Ie(Sn)},[createVNode$1(kt,{icon:$.value+Sn,width:"20px",height:"20px"},null,8,["icon"])],12,_hoisted_3))),128))]),withDirectives(createVNode$1(Pt,{description:`${ue.value} `,"image-size":60},null,8,["description"]),[[vShow,_e.value.length===0]])]),_:1})]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"]),createBaseVNode("div",_hoisted_4,[createVNode$1(hn,{total:re.value,"current-page":le.value,"page-size":ae.value,"pager-count":5,layout:"pager",background:"",small:"",onCurrentChange:Fe},null,8,["total","current-page","page-size"]),createVNode$1(_n,{type:"danger",size:"small",text:"",bg:"",onClick:Ve},{default:withCtx(()=>Ue[3]||(Ue[3]=[createTextVNode("  ")])),_:1})])]),_:1})]),_:1},8,["modelValue"])])}}}),AjmerIconSelect=_export_sfc$1(_sfc_main$4,[["__scopeId","data-v-7ce95ece"]]);AjmerIconSelect.install=r=>{r.component(AjmerIconSelect.name,AjmerIconSelect)};const T={color:["#409EFF","#36CE9E","#f56e6a","#626c91","#edb00d","#909399"],grid:{left:"4px",right:"4px",bottom:"10",top:"40",containLabel:!0},legend:{left:"45px",textStyle:{color:"#999"},inactiveColor:"rgba(128,128,128,0.4)"},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"rgba(128,128,128,0.2)",width:1}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{color:"#999"},splitLine:{show:!1,lineStyle:{color:["#eee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(255,255,255,0.01)","rgba(0,0,0,0.01)"]}}},valueAxis:{axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!0,lineStyle:{color:"rgba(128,128,128,0.2)"}}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(r,n){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var $ in y)Object.prototype.hasOwnProperty.call(y,$)&&(g[$]=y[$])},extendStatics$1(r,n)};function __extends$1(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics$1(r,n);function g(){this.constructor=r}r.prototype=n===null?Object.create(n):(g.prototype=n.prototype,new g)}var Browser=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),Env=function(){function r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(r,n){var g=n.browser,y=r.match(/Firefox\/([\d.]+)/),$=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),L=r.match(/Edge?\/([\d.]+)/),re=/micromessenger/i.test(r);y&&(g.firefox=!0,g.version=y[1]),$&&(g.ie=!0,g.version=$[1]),L&&(g.edge=!0,g.version=L[1],g.newEdge=+L[1].split(".")[0]>18),re&&(g.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!g.ie&&!g.edge,n.pointerEventsSupported="onpointerdown"in window&&(g.edge||g.ie&&+g.version>=11),n.domSupported=typeof document<"u";var ae=document.documentElement.style;n.transform3dSupported=(g.ie&&"transition"in ae||g.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in ae)&&!("OTransition"in ae),n.transformSupported=n.transform3dSupported||g.ie&&+g.version>=9}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(r){var n={};if(typeof JSON>"u")return n;for(var g=0;g<r.length;g++){var y=String.fromCharCode(g+32),$=(r.charCodeAt(g)-OFFSET)/SCALE;n[y]=$}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,n;return function(g,y){if(!r){var $=platformApi.createCanvas();r=$&&$.getContext("2d")}if(r)return n!==y&&(n=r.font=y||DEFAULT_FONT),r.measureText(g);g=g||"",y=y||DEFAULT_FONT;var L=/((?:\d+)?\.?\d*)px/.exec(y),re=L&&+L[1]||DEFAULT_FONT_SIZE,ae=0;if(y.indexOf("mono")>=0)ae=re*g.length;else for(var le=0;le<g.length;le++){var ue=DEFAULT_TEXT_WIDTH_MAP[g[le]];ae+=ue==null?re:ue*re}return{width:ae}}}(),loadImage:function(r,n,g){var y=new Image;return y.onload=n,y.onerror=g,y.src=r,y}};function setPlatformAPI(r){for(var n in platformApi)r[n]&&(platformApi[n]=r[n])}var BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,n){return r["[object "+n+"]"]=!0,r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,n){return r["[object "+n+"Array]"]=!0,r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];typeof console<"u"&&console.error.apply(console,r)}function clone$4(r){if(r==null||typeof r!="object")return r;var n=r,g=objToString.call(r);if(g==="[object Array]"){if(!isPrimitive(r)){n=[];for(var y=0,$=r.length;y<$;y++)n[y]=clone$4(r[y])}}else if(TYPED_ARRAY[g]){if(!isPrimitive(r)){var L=r.constructor;if(L.from)n=L.from(r);else{n=new L(r.length);for(var y=0,$=r.length;y<$;y++)n[y]=r[y]}}}else if(!BUILTIN_OBJECT[g]&&!isPrimitive(r)&&!isDom(r)){n={};for(var re in r)r.hasOwnProperty(re)&&re!==protoKey&&(n[re]=clone$4(r[re]))}return n}function merge$1(r,n,g){if(!isObject$3(n)||!isObject$3(r))return g?clone$4(n):r;for(var y in n)if(n.hasOwnProperty(y)&&y!==protoKey){var $=r[y],L=n[y];isObject$3(L)&&isObject$3($)&&!isArray$2(L)&&!isArray$2($)&&!isDom(L)&&!isDom($)&&!isBuiltInObject(L)&&!isBuiltInObject($)&&!isPrimitive(L)&&!isPrimitive($)?merge$1($,L,g):(g||!(y in r))&&(r[y]=clone$4(n[y]))}return r}function mergeAll(r,n){for(var g=r[0],y=1,$=r.length;y<$;y++)g=merge$1(g,r[y],n);return g}function extend(r,n){if(Object.assign)Object.assign(r,n);else for(var g in n)n.hasOwnProperty(g)&&g!==protoKey&&(r[g]=n[g]);return r}function defaults$2(r,n,g){for(var y=keys$1(n),$=0,L=y.length;$<L;$++){var re=y[$];(g?n[re]!=null:r[re]==null)&&(r[re]=n[re])}return r}var createCanvas=platformApi.createCanvas;function indexOf(r,n){if(r){if(r.indexOf)return r.indexOf(n);for(var g=0,y=r.length;g<y;g++)if(r[g]===n)return g}return-1}function inherits(r,n){var g=r.prototype;function y(){}y.prototype=n.prototype,r.prototype=new y;for(var $ in g)g.hasOwnProperty($)&&(r.prototype[$]=g[$]);r.prototype.constructor=r,r.superClass=n}function mixin(r,n,g){if(r="prototype"in r?r.prototype:r,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var y=Object.getOwnPropertyNames(n),$=0;$<y.length;$++){var L=y[$];L!=="constructor"&&(g?n[L]!=null:r[L]==null)&&(r[L]=n[L])}else defaults$2(r,n,g)}function isArrayLike(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function each$f(r,n,g){if(r&&n)if(r.forEach&&r.forEach===nativeForEach)r.forEach(n,g);else if(r.length===+r.length)for(var y=0,$=r.length;y<$;y++)n.call(g,r[y],y,r);else for(var L in r)r.hasOwnProperty(L)&&n.call(g,r[L],L,r)}function map$1(r,n,g){if(!r)return[];if(!n)return slice(r);if(r.map&&r.map===nativeMap)return r.map(n,g);for(var y=[],$=0,L=r.length;$<L;$++)y.push(n.call(g,r[$],$,r));return y}function reduce(r,n,g,y){if(r&&n){for(var $=0,L=r.length;$<L;$++)g=n.call(y,g,r[$],$,r);return g}}function filter(r,n,g){if(!r)return[];if(!n)return slice(r);if(r.filter&&r.filter===nativeFilter)return r.filter(n,g);for(var y=[],$=0,L=r.length;$<L;$++)n.call(g,r[$],$,r)&&y.push(r[$]);return y}function find$1(r,n,g){if(r&&n){for(var y=0,$=r.length;y<$;y++)if(n.call(g,r[y],y,r))return r[y]}}function keys$1(r){if(!r)return[];if(Object.keys)return Object.keys(r);var n=[];for(var g in r)r.hasOwnProperty(g)&&n.push(g);return n}function bindPolyfill(r,n){for(var g=[],y=2;y<arguments.length;y++)g[y-2]=arguments[y];return function(){return r.apply(n,g.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(r){for(var n=[],g=1;g<arguments.length;g++)n[g-1]=arguments[g];return function(){return r.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$2(r){return Array.isArray?Array.isArray(r):objToString.call(r)==="[object Array]"}function isFunction(r){return typeof r=="function"}function isString(r){return typeof r=="string"}function isStringSafe(r){return objToString.call(r)==="[object String]"}function isNumber$1(r){return typeof r=="number"}function isObject$3(r){var n=typeof r;return n==="function"||!!r&&n==="object"}function isBuiltInObject(r){return!!BUILTIN_OBJECT[objToString.call(r)]}function isTypedArray(r){return!!TYPED_ARRAY[objToString.call(r)]}function isDom(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function isGradientObject(r){return r.colorStops!=null}function isImagePatternObject(r){return r.image!=null}function isRegExp(r){return objToString.call(r)==="[object RegExp]"}function eqNaN(r){return r!==r}function retrieve(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var g=0,y=r.length;g<y;g++)if(r[g]!=null)return r[g]}function retrieve2(r,n){return r??n}function retrieve3(r,n,g){return r??n??g}function slice(r){for(var n=[],g=1;g<arguments.length;g++)n[g-1]=arguments[g];return nativeSlice.apply(r,n)}function normalizeCssArray$1(r){if(typeof r=="number")return[r,r,r,r];var n=r.length;return n===2?[r[0],r[1],r[0],r[1]]:n===3?[r[0],r[1],r[2],r[1]]:r}function assert(r,n){if(!r)throw new Error(n)}function trim$1(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(r){r[primitiveKey]=!0}function isPrimitive(r){return r[primitiveKey]}var MapPolyfill=function(){function r(){this.data={}}return r.prototype.delete=function(n){var g=this.has(n);return g&&delete this.data[n],g},r.prototype.has=function(n){return this.data.hasOwnProperty(n)},r.prototype.get=function(n){return this.data[n]},r.prototype.set=function(n,g){return this.data[n]=g,this},r.prototype.keys=function(){return keys$1(this.data)},r.prototype.forEach=function(n){var g=this.data;for(var y in g)g.hasOwnProperty(y)&&n(g[y],y)},r}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function r(n){var g=isArray$2(n);this.data=maybeNativeMap();var y=this;n instanceof r?n.each($):n&&each$f(n,$);function $(L,re){g?y.set(L,re):y.set(re,L)}}return r.prototype.hasKey=function(n){return this.data.has(n)},r.prototype.get=function(n){return this.data.get(n)},r.prototype.set=function(n,g){return this.data.set(n,g),g},r.prototype.each=function(n,g){this.data.forEach(function(y,$){n.call(g,y,$)})},r.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},r.prototype.removeKey=function(n){this.data.delete(n)},r}();function createHashMap(r){return new HashMap(r)}function concatArray(r,n){for(var g=new r.constructor(r.length+n.length),y=0;y<r.length;y++)g[y]=r[y];for(var $=r.length,y=0;y<n.length;y++)g[y+$]=n[y];return g}function createObject(r,n){var g;if(Object.create)g=Object.create(r);else{var y=function(){};y.prototype=r,g=new y}return n&&extend(g,n),g}function disableUserSelect(r){var n=r.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn(r,n){return r.hasOwnProperty(n)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;const util$1=Object.freeze(Object.defineProperty({__proto__:null,HashMap,RADIAN_TO_DEGREE,assert,bind:bind$1,clone:clone$4,concatArray,createCanvas,createHashMap,createObject,curry:curry$1,defaults:defaults$2,disableUserSelect,each:each$f,eqNaN,extend,filter,find:find$1,guid,hasOwn,indexOf,inherits,isArray:isArray$2,isArrayLike,isBuiltInObject,isDom,isFunction,isGradientObject,isImagePatternObject,isNumber:isNumber$1,isObject:isObject$3,isPrimitive,isRegExp,isString,isStringSafe,isTypedArray,keys:keys$1,logError,map:map$1,merge:merge$1,mergeAll,mixin,noop,normalizeCssArray:normalizeCssArray$1,reduce,retrieve,retrieve2,retrieve3,setAsPrimitive,slice,trim:trim$1},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(r,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var $ in y)Object.prototype.hasOwnProperty.call(y,$)&&(g[$]=y[$])},extendStatics(r,n)};function __extends(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(r,n);function g(){this.constructor=r}r.prototype=n===null?Object.create(n):(g.prototype=n.prototype,new g)}function create$2(r,n){return r==null&&(r=0),n==null&&(n=0),[r,n]}function copy$1(r,n){return r[0]=n[0],r[1]=n[1],r}function clone$3(r){return[r[0],r[1]]}function set$1(r,n,g){return r[0]=n,r[1]=g,r}function add$1(r,n,g){return r[0]=n[0]+g[0],r[1]=n[1]+g[1],r}function scaleAndAdd$1(r,n,g,y){return r[0]=n[0]+g[0]*y,r[1]=n[1]+g[1]*y,r}function sub(r,n,g){return r[0]=n[0]-g[0],r[1]=n[1]-g[1],r}function len(r){return Math.sqrt(lenSquare(r))}var length=len;function lenSquare(r){return r[0]*r[0]+r[1]*r[1]}var lengthSquare=lenSquare;function mul$1(r,n,g){return r[0]=n[0]*g[0],r[1]=n[1]*g[1],r}function div$1(r,n,g){return r[0]=n[0]/g[0],r[1]=n[1]/g[1],r}function dot$1(r,n){return r[0]*n[0]+r[1]*n[1]}function scale$2(r,n,g){return r[0]=n[0]*g,r[1]=n[1]*g,r}function normalize$3(r,n){var g=len(n);return g===0?(r[0]=0,r[1]=0):(r[0]=n[0]/g,r[1]=n[1]/g),r}function distance(r,n){return Math.sqrt((r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1]))}var dist$2=distance;function distanceSquare(r,n){return(r[0]-n[0])*(r[0]-n[0])+(r[1]-n[1])*(r[1]-n[1])}var distSquare=distanceSquare;function negate(r,n){return r[0]=-n[0],r[1]=-n[1],r}function lerp$1(r,n,g,y){return r[0]=n[0]+y*(g[0]-n[0]),r[1]=n[1]+y*(g[1]-n[1]),r}function applyTransform$1(r,n,g){var y=n[0],$=n[1];return r[0]=g[0]*y+g[2]*$+g[4],r[1]=g[1]*y+g[3]*$+g[5],r}function min$2(r,n,g){return r[0]=Math.min(n[0],g[0]),r[1]=Math.min(n[1],g[1]),r}function max$2(r,n,g){return r[0]=Math.max(n[0],g[0]),r[1]=Math.max(n[1],g[1]),r}const vector=Object.freeze(Object.defineProperty({__proto__:null,add:add$1,applyTransform:applyTransform$1,clone:clone$3,copy:copy$1,create:create$2,dist:dist$2,distSquare,distance,distanceSquare,div:div$1,dot:dot$1,len,lenSquare,length,lengthSquare,lerp:lerp$1,max:max$2,min:min$2,mul:mul$1,negate,normalize:normalize$3,scale:scale$2,scaleAndAdd:scaleAndAdd$1,set:set$1,sub},Symbol.toStringTag,{value:"Module"}));var Param=function(){function r(n,g){this.target=n,this.topTarget=g&&g.topTarget}return r}(),Draggable=function(){function r(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(n){for(var g=n.target;g&&!g.draggable;)g=g.parent||g.__hostTarget;g&&(this._draggingTarget=g,g.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(g,n),"dragstart",n.event))},r.prototype._drag=function(n){var g=this._draggingTarget;if(g){var y=n.offsetX,$=n.offsetY,L=y-this._x,re=$-this._y;this._x=y,this._y=$,g.drift(L,re,n),this.handler.dispatchToElement(new Param(g,n),"drag",n.event);var ae=this.handler.findHover(y,$,g).target,le=this._dropTarget;this._dropTarget=ae,g!==ae&&(le&&ae!==le&&this.handler.dispatchToElement(new Param(le,n),"dragleave",n.event),ae&&ae!==le&&this.handler.dispatchToElement(new Param(ae,n),"dragenter",n.event))}},r.prototype._dragEnd=function(n){var g=this._draggingTarget;g&&(g.dragging=!1),this.handler.dispatchToElement(new Param(g,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},r}(),Eventful=function(){function r(n){n&&(this._$eventProcessor=n)}return r.prototype.on=function(n,g,y,$){this._$handlers||(this._$handlers={});var L=this._$handlers;if(typeof g=="function"&&($=y,y=g,g=null),!y||!n)return this;var re=this._$eventProcessor;g!=null&&re&&re.normalizeQuery&&(g=re.normalizeQuery(g)),L[n]||(L[n]=[]);for(var ae=0;ae<L[n].length;ae++)if(L[n][ae].h===y)return this;var le={h:y,query:g,ctx:$||this,callAtLast:y.zrEventfulCallAtLast},ue=L[n].length-1,he=L[n][ue];return he&&he.callAtLast?L[n].splice(ue,0,le):L[n].push(le),this},r.prototype.isSilent=function(n){var g=this._$handlers;return!g||!g[n]||!g[n].length},r.prototype.off=function(n,g){var y=this._$handlers;if(!y)return this;if(!n)return this._$handlers={},this;if(g){if(y[n]){for(var $=[],L=0,re=y[n].length;L<re;L++)y[n][L].h!==g&&$.push(y[n][L]);y[n]=$}y[n]&&y[n].length===0&&delete y[n]}else delete y[n];return this},r.prototype.trigger=function(n){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];if(!this._$handlers)return this;var $=this._$handlers[n],L=this._$eventProcessor;if($)for(var re=g.length,ae=$.length,le=0;le<ae;le++){var ue=$[le];if(!(L&&L.filter&&ue.query!=null&&!L.filter(n,ue.query)))switch(re){case 0:ue.h.call(ue.ctx);break;case 1:ue.h.call(ue.ctx,g[0]);break;case 2:ue.h.call(ue.ctx,g[0],g[1]);break;default:ue.h.apply(ue.ctx,g);break}}return L&&L.afterTrigger&&L.afterTrigger(n),this},r.prototype.triggerWithContext=function(n){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];if(!this._$handlers)return this;var $=this._$handlers[n],L=this._$eventProcessor;if($)for(var re=g.length,ae=g[re-1],le=$.length,ue=0;ue<le;ue++){var he=$[ue];if(!(L&&L.filter&&he.query!=null&&!L.filter(n,he.query)))switch(re){case 0:he.h.call(ae);break;case 1:he.h.call(ae,g[0]);break;case 2:he.h.call(ae,g[0],g[1]);break;default:he.h.apply(ae,g.slice(1,re-1));break}}return L&&L.afterTrigger&&L.afterTrigger(n),this},r}(),LN2=Math.log(2);function determinant(r,n,g,y,$,L){var re=y+"-"+$,ae=r.length;if(L.hasOwnProperty(re))return L[re];if(n===1){var le=Math.round(Math.log((1<<ae)-1&~$)/LN2);return r[g][le]}for(var ue=y|1<<g,he=g+1;y&1<<he;)he++;for(var _e=0,Ce=0,$e=0;Ce<ae;Ce++){var Oe=1<<Ce;Oe&$||(_e+=($e%2?-1:1)*r[g][Ce]*determinant(r,n-1,he,ue,$|Oe,L),$e++)}return L[re]=_e,_e}function buildTransformer(r,n){var g=[[r[0],r[1],1,0,0,0,-n[0]*r[0],-n[0]*r[1]],[0,0,0,r[0],r[1],1,-n[1]*r[0],-n[1]*r[1]],[r[2],r[3],1,0,0,0,-n[2]*r[2],-n[2]*r[3]],[0,0,0,r[2],r[3],1,-n[3]*r[2],-n[3]*r[3]],[r[4],r[5],1,0,0,0,-n[4]*r[4],-n[4]*r[5]],[0,0,0,r[4],r[5],1,-n[5]*r[4],-n[5]*r[5]],[r[6],r[7],1,0,0,0,-n[6]*r[6],-n[6]*r[7]],[0,0,0,r[6],r[7],1,-n[7]*r[6],-n[7]*r[7]]],y={},$=determinant(g,8,0,0,0,y);if($!==0){for(var L=[],re=0;re<8;re++)for(var ae=0;ae<8;ae++)L[ae]==null&&(L[ae]=0),L[ae]+=((re+ae)%2?-1:1)*determinant(g,7,re===0?1:0,1<<re,1<<ae,y)/$*n[re];return function(le,ue,he){var _e=ue*L[6]+he*L[7]+1;le[0]=(ue*L[0]+he*L[1]+L[2])/_e,le[1]=(ue*L[3]+he*L[4]+L[5])/_e}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(r,n,g,y,$){return transformCoordWithViewport(_calcOut$1,n,y,$,!0)&&transformCoordWithViewport(r,g,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(r,n,g,y,$){if(n.getBoundingClientRect&&env.domSupported&&!isCanvasEl(n)){var L=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),re=prepareCoordMarkers(n,L),ae=preparePointerTransformer(re,L,$);if(ae)return ae(r,g,y),!0}return!1}function prepareCoordMarkers(r,n){var g=n.markers;if(g)return g;g=n.markers=[];for(var y=["left","right"],$=["top","bottom"],L=0;L<4;L++){var re=document.createElement("div"),ae=re.style,le=L%2,ue=(L>>1)%2;ae.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",y[le]+":0",$[ue]+":0",y[1-le]+":auto",$[1-ue]+":auto",""].join("!important;"),r.appendChild(re),g.push(re)}return g}function preparePointerTransformer(r,n,g){for(var y=g?"invTrans":"trans",$=n[y],L=n.srcCoords,re=[],ae=[],le=!0,ue=0;ue<4;ue++){var he=r[ue].getBoundingClientRect(),_e=2*ue,Ce=he.left,$e=he.top;re.push(Ce,$e),le=le&&L&&Ce===L[_e]&&$e===L[_e+1],ae.push(r[ue].offsetLeft,r[ue].offsetTop)}return le&&$?$:(n.srcCoords=re,n[y]=g?buildTransformer(ae,re):buildTransformer(re,ae))}function isCanvasEl(r){return r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(r){return r==null?"":(r+"").replace(replaceReg,function(n,g){return replaceMap[g]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(r,n,g,y){return g=g||{},y?calculateZrXY(r,n,g):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(g.zrX=n.layerX,g.zrY=n.layerY):n.offsetX!=null?(g.zrX=n.offsetX,g.zrY=n.offsetY):calculateZrXY(r,n,g),g}function calculateZrXY(r,n,g){if(env.domSupported&&r.getBoundingClientRect){var y=n.clientX,$=n.clientY;if(isCanvasEl(r)){var L=r.getBoundingClientRect();g.zrX=y-L.left,g.zrY=$-L.top;return}else if(transformCoordWithViewport(_calcOut,r,y,$)){g.zrX=_calcOut[0],g.zrY=_calcOut[1];return}}g.zrX=g.zrY=0}function getNativeEvent(r){return r||window.event}function normalizeEvent(r,n,g){if(n=getNativeEvent(n),n.zrX!=null)return n;var y=n.type,$=y&&y.indexOf("touch")>=0;if($){var re=y!=="touchend"?n.targetTouches[0]:n.changedTouches[0];re&&clientToLocal(r,re,n,g)}else{clientToLocal(r,n,n,g);var L=getWheelDeltaMayPolyfill(n);n.zrDelta=L?L/120:-(n.detail||0)/3}var ae=n.button;return n.which==null&&ae!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=ae&1?1:ae&2?3:ae&4?2:0),n}function getWheelDeltaMayPolyfill(r){var n=r.wheelDelta;if(n)return n;var g=r.deltaX,y=r.deltaY;if(g==null||y==null)return n;var $=Math.abs(y!==0?y:g),L=y>0?-1:y<0?1:g>0?-1:1;return 3*$*L}function addEventListener(r,n,g,y){r.addEventListener(n,g,y)}function removeEventListener(r,n,g,y){r.removeEventListener(n,g,y)}var stop=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(r){return r.which===2||r.which===3}var GestureMgr=function(){function r(){this._track=[]}return r.prototype.recognize=function(n,g,y){return this._doTrack(n,g,y),this._recognize(n)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(n,g,y){var $=n.touches;if($){for(var L={points:[],touches:[],target:g,event:n},re=0,ae=$.length;re<ae;re++){var le=$[re],ue=clientToLocal(y,le,{});L.points.push([ue.zrX,ue.zrY]),L.touches.push(le)}this._track.push(L)}},r.prototype._recognize=function(n){for(var g in recognizers)if(recognizers.hasOwnProperty(g)){var y=recognizers[g](this._track,n);if(y)return y}},r}();function dist$1(r){var n=r[1][0]-r[0][0],g=r[1][1]-r[0][1];return Math.sqrt(n*n+g*g)}function center$1(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var recognizers={pinch:function(r,n){var g=r.length;if(g){var y=(r[g-1]||{}).points,$=(r[g-2]||{}).points||y;if($&&$.length>1&&y&&y.length>1){var L=dist$1(y)/dist$1($);!isFinite(L)&&(L=1),n.pinchScale=L;var re=center$1(y);return n.pinchX=re[0],n.pinchY=re[1],{type:"pinch",target:r[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function copy(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r}function mul(r,n,g){var y=n[0]*g[0]+n[2]*g[1],$=n[1]*g[0]+n[3]*g[1],L=n[0]*g[2]+n[2]*g[3],re=n[1]*g[2]+n[3]*g[3],ae=n[0]*g[4]+n[2]*g[5]+n[4],le=n[1]*g[4]+n[3]*g[5]+n[5];return r[0]=y,r[1]=$,r[2]=L,r[3]=re,r[4]=ae,r[5]=le,r}function translate(r,n,g){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4]+g[0],r[5]=n[5]+g[1],r}function rotate(r,n,g,y){y===void 0&&(y=[0,0]);var $=n[0],L=n[2],re=n[4],ae=n[1],le=n[3],ue=n[5],he=Math.sin(g),_e=Math.cos(g);return r[0]=$*_e+ae*he,r[1]=-$*he+ae*_e,r[2]=L*_e+le*he,r[3]=-L*he+_e*le,r[4]=_e*(re-y[0])+he*(ue-y[1])+y[0],r[5]=_e*(ue-y[1])-he*(re-y[0])+y[1],r}function scale$1(r,n,g){var y=g[0],$=g[1];return r[0]=n[0]*y,r[1]=n[1]*$,r[2]=n[2]*y,r[3]=n[3]*$,r[4]=n[4]*y,r[5]=n[5]*$,r}function invert(r,n){var g=n[0],y=n[2],$=n[4],L=n[1],re=n[3],ae=n[5],le=g*re-L*y;return le?(le=1/le,r[0]=re*le,r[1]=-L*le,r[2]=-y*le,r[3]=g*le,r[4]=(y*ae-re*$)*le,r[5]=(L*$-g*ae)*le,r):null}function clone$2(r){var n=create$1();return copy(n,r),n}const matrix=Object.freeze(Object.defineProperty({__proto__:null,clone:clone$2,copy,create:create$1,identity,invert,mul,rotate,scale:scale$1,translate},Symbol.toStringTag,{value:"Module"}));var Point=function(){function r(n,g){this.x=n||0,this.y=g||0}return r.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(n,g){return this.x=n,this.y=g,this},r.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},r.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},r.prototype.scale=function(n){this.x*=n,this.y*=n},r.prototype.scaleAndAdd=function(n,g){this.x+=n.x*g,this.y+=n.y*g},r.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},r.prototype.dot=function(n){return this.x*n.x+this.y*n.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},r.prototype.distance=function(n){var g=this.x-n.x,y=this.y-n.y;return Math.sqrt(g*g+y*y)},r.prototype.distanceSquare=function(n){var g=this.x-n.x,y=this.y-n.y;return g*g+y*y},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(n){if(n){var g=this.x,y=this.y;return this.x=n[0]*g+n[2]*y+n[4],this.y=n[1]*g+n[3]*y+n[5],this}},r.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},r.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},r.set=function(n,g,y){n.x=g,n.y=y},r.copy=function(n,g){n.x=g.x,n.y=g.y},r.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},r.lenSquare=function(n){return n.x*n.x+n.y*n.y},r.dot=function(n,g){return n.x*g.x+n.y*g.y},r.add=function(n,g,y){n.x=g.x+y.x,n.y=g.y+y.y},r.sub=function(n,g,y){n.x=g.x-y.x,n.y=g.y-y.y},r.scale=function(n,g,y){n.x=g.x*y,n.y=g.y*y},r.scaleAndAdd=function(n,g,y,$){n.x=g.x+y.x*$,n.y=g.y+y.y*$},r.lerp=function(n,g,y,$){var L=1-$;n.x=L*g.x+$*y.x,n.y=L*g.y+$*y.y},r}(),mathMin$a=Math.min,mathMax$a=Math.max,lt$1=new Point,rb=new Point,lb=new Point,rt=new Point,minTv$1=new Point,maxTv$1=new Point,BoundingRect=function(){function r(n,g,y,$){y<0&&(n=n+y,y=-y),$<0&&(g=g+$,$=-$),this.x=n,this.y=g,this.width=y,this.height=$}return r.prototype.union=function(n){var g=mathMin$a(n.x,this.x),y=mathMin$a(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(n.x+n.width,this.x+this.width)-g:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(n.y+n.height,this.y+this.height)-y:this.height=n.height,this.x=g,this.y=y},r.prototype.applyTransform=function(n){r.applyTransform(this,this,n)},r.prototype.calculateTransform=function(n){var g=this,y=n.width/g.width,$=n.height/g.height,L=create$1();return translate(L,L,[-g.x,-g.y]),scale$1(L,L,[y,$]),translate(L,L,[n.x,n.y]),L},r.prototype.intersect=function(n,g){if(!n)return!1;n instanceof r||(n=r.create(n));var y=this,$=y.x,L=y.x+y.width,re=y.y,ae=y.y+y.height,le=n.x,ue=n.x+n.width,he=n.y,_e=n.y+n.height,Ce=!(L<le||ue<$||ae<he||_e<re);if(g){var $e=1/0,Oe=0,xe=Math.abs(L-le),Ne=Math.abs(ue-$),Ie=Math.abs(ae-he),Fe=Math.abs(_e-re),Ve=Math.min(xe,Ne),ze=Math.min(Ie,Fe);L<le||ue<$?Ve>Oe&&(Oe=Ve,xe<Ne?Point.set(maxTv$1,-xe,0):Point.set(maxTv$1,Ne,0)):Ve<$e&&($e=Ve,xe<Ne?Point.set(minTv$1,xe,0):Point.set(minTv$1,-Ne,0)),ae<he||_e<re?ze>Oe&&(Oe=ze,Ie<Fe?Point.set(maxTv$1,0,-Ie):Point.set(maxTv$1,0,Fe)):Ve<$e&&($e=Ve,Ie<Fe?Point.set(minTv$1,0,Ie):Point.set(minTv$1,0,-Fe))}return g&&Point.copy(g,Ce?minTv$1:maxTv$1),Ce},r.prototype.contain=function(n,g){var y=this;return n>=y.x&&n<=y.x+y.width&&g>=y.y&&g<=y.y+y.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(n){r.copy(this,n)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(n){return new r(n.x,n.y,n.width,n.height)},r.copy=function(n,g){n.x=g.x,n.y=g.y,n.width=g.width,n.height=g.height},r.applyTransform=function(n,g,y){if(!y){n!==g&&r.copy(n,g);return}if(y[1]<1e-5&&y[1]>-1e-5&&y[2]<1e-5&&y[2]>-1e-5){var $=y[0],L=y[3],re=y[4],ae=y[5];n.x=g.x*$+re,n.y=g.y*L+ae,n.width=g.width*$,n.height=g.height*L,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt$1.x=lb.x=g.x,lt$1.y=rt.y=g.y,rb.x=rt.x=g.x+g.width,rb.y=lb.y=g.y+g.height,lt$1.transform(y),rt.transform(y),rb.transform(y),lb.transform(y),n.x=mathMin$a(lt$1.x,rb.x,lb.x,rt.x),n.y=mathMin$a(lt$1.y,rb.y,lb.y,rt.y);var le=mathMax$a(lt$1.x,rb.x,lb.x,rt.x),ue=mathMax$a(lt$1.y,rb.y,lb.y,rt.y);n.width=le-n.x,n.height=ue-n.y},r}(),SILENT="silent";function makeEventPacket(r,n,g){return{type:r,event:g,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:g.zrX,offsetY:g.zrY,gestureEvent:g.gestureEvent,pinchX:g.pinchX,pinchY:g.pinchY,pinchScale:g.pinchScale,wheelDelta:g.zrDelta,zrByTouch:g.zrByTouch,which:g.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(r){__extends(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.handler=null,g}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful),HoveredResult=function(){function r(n,g){this.x=n,this.y=g}return r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=function(r){__extends(n,r);function n(g,y,$,L,re){var ae=r.call(this)||this;return ae._hovered=new HoveredResult(0,0),ae.storage=g,ae.painter=y,ae.painterRoot=L,ae._pointerSize=re,$=$||new EmptyProxy,ae.proxy=null,ae.setHandlerProxy($),ae._draggingMgr=new Draggable(ae),ae}return n.prototype.setHandlerProxy=function(g){this.proxy&&this.proxy.dispose(),g&&(each$f(handlerNames,function(y){g.on&&g.on(y,this[y],this)},this),g.handler=this),this.proxy=g},n.prototype.mousemove=function(g){var y=g.zrX,$=g.zrY,L=isOutsideBoundary(this,y,$),re=this._hovered,ae=re.target;ae&&!ae.__zr&&(re=this.findHover(re.x,re.y),ae=re.target);var le=this._hovered=L?new HoveredResult(y,$):this.findHover(y,$),ue=le.target,he=this.proxy;he.setCursor&&he.setCursor(ue?ue.cursor:"default"),ae&&ue!==ae&&this.dispatchToElement(re,"mouseout",g),this.dispatchToElement(le,"mousemove",g),ue&&ue!==ae&&this.dispatchToElement(le,"mouseover",g)},n.prototype.mouseout=function(g){var y=g.zrEventControl;y!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",g),y!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:g})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(g,y){var $=this[g];$&&$.call(this,y)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(g){var y=this.proxy;y.setCursor&&y.setCursor(g)},n.prototype.dispatchToElement=function(g,y,$){g=g||{};var L=g.target;if(!(L&&L.silent)){for(var re="on"+y,ae=makeEventPacket(y,g,$);L&&(L[re]&&(ae.cancelBubble=!!L[re].call(L,ae)),L.trigger(y,ae),L=L.__hostTarget?L.__hostTarget:L.parent,!ae.cancelBubble););ae.cancelBubble||(this.trigger(y,ae),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(le){typeof le[re]=="function"&&le[re].call(le,ae),le.trigger&&le.trigger(y,ae)}))}},n.prototype.findHover=function(g,y,$){var L=this.storage.getDisplayList(),re=new HoveredResult(g,y);if(setHoverTarget(L,re,g,y,$),this._pointerSize&&!re.target){for(var ae=[],le=this._pointerSize,ue=le/2,he=new BoundingRect(g-ue,y-ue,le,le),_e=L.length-1;_e>=0;_e--){var Ce=L[_e];Ce!==$&&!Ce.ignore&&!Ce.ignoreCoarsePointer&&(!Ce.parent||!Ce.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(Ce.getBoundingRect()),Ce.transform&&tmpRect$1.applyTransform(Ce.transform),tmpRect$1.intersect(he)&&ae.push(Ce))}if(ae.length)for(var $e=4,Oe=Math.PI/12,xe=Math.PI*2,Ne=0;Ne<ue;Ne+=$e)for(var Ie=0;Ie<xe;Ie+=Oe){var Fe=g+Ne*Math.cos(Ie),Ve=y+Ne*Math.sin(Ie);if(setHoverTarget(ae,re,Fe,Ve,$),re.target)return re}}return re},n.prototype.processGesture=function(g,y){this._gestureMgr||(this._gestureMgr=new GestureMgr);var $=this._gestureMgr;y==="start"&&$.clear();var L=$.recognize(g,this.findHover(g.zrX,g.zrY,null).target,this.proxy.dom);if(y==="end"&&$.clear(),L){var re=L.type;g.gestureEvent=re;var ae=new HoveredResult;ae.target=L.target,this.dispatchToElement(ae,re,L.event)}},n}(Eventful);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Handler.prototype[r]=function(n){var g=n.zrX,y=n.zrY,$=isOutsideBoundary(this,g,y),L,re;if((r!=="mouseup"||!$)&&(L=this.findHover(g,y),re=L.target),r==="mousedown")this._downEl=re,this._downPoint=[n.zrX,n.zrY],this._upEl=re;else if(r==="mouseup")this._upEl=re;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$2(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(L,r,n)}});function isHover(r,n,g){if(r[r.rectHover?"rectContain":"contain"](n,g)){for(var y=r,$=void 0,L=!1;y;){if(y.ignoreClip&&(L=!0),!L){var re=y.getClipPath();if(re&&!re.contain(n,g))return!1}y.silent&&($=!0);var ae=y.__hostTarget;y=ae||y.parent}return $?SILENT:!0}return!1}function setHoverTarget(r,n,g,y,$){for(var L=r.length-1;L>=0;L--){var re=r[L],ae=void 0;if(re!==$&&!re.ignore&&(ae=isHover(re,g,y))&&(!n.topTarget&&(n.topTarget=re),ae!==SILENT)){n.target=re;break}}}function isOutsideBoundary(r,n,g){var y=r.painter;return n<0||n>y.getWidth()||g<0||g>y.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(r){for(var n=0;r>=DEFAULT_MIN_MERGE;)n|=r&1,r>>=1;return r+n}function makeAscendingRun(r,n,g,y){var $=n+1;if($===g)return 1;if(y(r[$++],r[n])<0){for(;$<g&&y(r[$],r[$-1])<0;)$++;reverseRun(r,n,$)}else for(;$<g&&y(r[$],r[$-1])>=0;)$++;return $-n}function reverseRun(r,n,g){for(g--;n<g;){var y=r[n];r[n++]=r[g],r[g--]=y}}function binaryInsertionSort(r,n,g,y,$){for(y===n&&y++;y<g;y++){for(var L=r[y],re=n,ae=y,le;re<ae;)le=re+ae>>>1,$(L,r[le])<0?ae=le:re=le+1;var ue=y-re;switch(ue){case 3:r[re+3]=r[re+2];case 2:r[re+2]=r[re+1];case 1:r[re+1]=r[re];break;default:for(;ue>0;)r[re+ue]=r[re+ue-1],ue--}r[re]=L}}function gallopLeft(r,n,g,y,$,L){var re=0,ae=0,le=1;if(L(r,n[g+$])>0){for(ae=y-$;le<ae&&L(r,n[g+$+le])>0;)re=le,le=(le<<1)+1,le<=0&&(le=ae);le>ae&&(le=ae),re+=$,le+=$}else{for(ae=$+1;le<ae&&L(r,n[g+$-le])<=0;)re=le,le=(le<<1)+1,le<=0&&(le=ae);le>ae&&(le=ae);var ue=re;re=$-le,le=$-ue}for(re++;re<le;){var he=re+(le-re>>>1);L(r,n[g+he])>0?re=he+1:le=he}return le}function gallopRight(r,n,g,y,$,L){var re=0,ae=0,le=1;if(L(r,n[g+$])<0){for(ae=$+1;le<ae&&L(r,n[g+$-le])<0;)re=le,le=(le<<1)+1,le<=0&&(le=ae);le>ae&&(le=ae);var ue=re;re=$-le,le=$-ue}else{for(ae=y-$;le<ae&&L(r,n[g+$+le])>=0;)re=le,le=(le<<1)+1,le<=0&&(le=ae);le>ae&&(le=ae),re+=$,le+=$}for(re++;re<le;){var he=re+(le-re>>>1);L(r,n[g+he])<0?le=he:re=he+1}return le}function TimSort(r,n){var g=DEFAULT_MIN_GALLOPING,y,$,L=0,re=[];y=[],$=[];function ae($e,Oe){y[L]=$e,$[L]=Oe,L+=1}function le(){for(;L>1;){var $e=L-2;if($e>=1&&$[$e-1]<=$[$e]+$[$e+1]||$e>=2&&$[$e-2]<=$[$e]+$[$e-1])$[$e-1]<$[$e+1]&&$e--;else if($[$e]>$[$e+1])break;he($e)}}function ue(){for(;L>1;){var $e=L-2;$e>0&&$[$e-1]<$[$e+1]&&$e--,he($e)}}function he($e){var Oe=y[$e],xe=$[$e],Ne=y[$e+1],Ie=$[$e+1];$[$e]=xe+Ie,$e===L-3&&(y[$e+1]=y[$e+2],$[$e+1]=$[$e+2]),L--;var Fe=gallopRight(r[Ne],r,Oe,xe,0,n);Oe+=Fe,xe-=Fe,xe!==0&&(Ie=gallopLeft(r[Oe+xe-1],r,Ne,Ie,Ie-1,n),Ie!==0&&(xe<=Ie?_e(Oe,xe,Ne,Ie):Ce(Oe,xe,Ne,Ie)))}function _e($e,Oe,xe,Ne){var Ie=0;for(Ie=0;Ie<Oe;Ie++)re[Ie]=r[$e+Ie];var Fe=0,Ve=xe,ze=$e;if(r[ze++]=r[Ve++],--Ne===0){for(Ie=0;Ie<Oe;Ie++)r[ze+Ie]=re[Fe+Ie];return}if(Oe===1){for(Ie=0;Ie<Ne;Ie++)r[ze+Ie]=r[Ve+Ie];r[ze+Ne]=re[Fe];return}for(var Ue=g,qe,kt,Et;;){qe=0,kt=0,Et=!1;do if(n(r[Ve],re[Fe])<0){if(r[ze++]=r[Ve++],kt++,qe=0,--Ne===0){Et=!0;break}}else if(r[ze++]=re[Fe++],qe++,kt=0,--Oe===1){Et=!0;break}while((qe|kt)<Ue);if(Et)break;do{if(qe=gallopRight(r[Ve],re,Fe,Oe,0,n),qe!==0){for(Ie=0;Ie<qe;Ie++)r[ze+Ie]=re[Fe+Ie];if(ze+=qe,Fe+=qe,Oe-=qe,Oe<=1){Et=!0;break}}if(r[ze++]=r[Ve++],--Ne===0){Et=!0;break}if(kt=gallopLeft(re[Fe],r,Ve,Ne,0,n),kt!==0){for(Ie=0;Ie<kt;Ie++)r[ze+Ie]=r[Ve+Ie];if(ze+=kt,Ve+=kt,Ne-=kt,Ne===0){Et=!0;break}}if(r[ze++]=re[Fe++],--Oe===1){Et=!0;break}Ue--}while(qe>=DEFAULT_MIN_GALLOPING||kt>=DEFAULT_MIN_GALLOPING);if(Et)break;Ue<0&&(Ue=0),Ue+=2}if(g=Ue,g<1&&(g=1),Oe===1){for(Ie=0;Ie<Ne;Ie++)r[ze+Ie]=r[Ve+Ie];r[ze+Ne]=re[Fe]}else{if(Oe===0)throw new Error;for(Ie=0;Ie<Oe;Ie++)r[ze+Ie]=re[Fe+Ie]}}function Ce($e,Oe,xe,Ne){var Ie=0;for(Ie=0;Ie<Ne;Ie++)re[Ie]=r[xe+Ie];var Fe=$e+Oe-1,Ve=Ne-1,ze=xe+Ne-1,Ue=0,qe=0;if(r[ze--]=r[Fe--],--Oe===0){for(Ue=ze-(Ne-1),Ie=0;Ie<Ne;Ie++)r[Ue+Ie]=re[Ie];return}if(Ne===1){for(ze-=Oe,Fe-=Oe,qe=ze+1,Ue=Fe+1,Ie=Oe-1;Ie>=0;Ie--)r[qe+Ie]=r[Ue+Ie];r[ze]=re[Ve];return}for(var kt=g;;){var Et=0,Pt=0,At=!1;do if(n(re[Ve],r[Fe])<0){if(r[ze--]=r[Fe--],Et++,Pt=0,--Oe===0){At=!0;break}}else if(r[ze--]=re[Ve--],Pt++,Et=0,--Ne===1){At=!0;break}while((Et|Pt)<kt);if(At)break;do{if(Et=Oe-gallopRight(re[Ve],r,$e,Oe,Oe-1,n),Et!==0){for(ze-=Et,Fe-=Et,Oe-=Et,qe=ze+1,Ue=Fe+1,Ie=Et-1;Ie>=0;Ie--)r[qe+Ie]=r[Ue+Ie];if(Oe===0){At=!0;break}}if(r[ze--]=re[Ve--],--Ne===1){At=!0;break}if(Pt=Ne-gallopLeft(r[Fe],re,0,Ne,Ne-1,n),Pt!==0){for(ze-=Pt,Ve-=Pt,Ne-=Pt,qe=ze+1,Ue=Ve+1,Ie=0;Ie<Pt;Ie++)r[qe+Ie]=re[Ue+Ie];if(Ne<=1){At=!0;break}}if(r[ze--]=r[Fe--],--Oe===0){At=!0;break}kt--}while(Et>=DEFAULT_MIN_GALLOPING||Pt>=DEFAULT_MIN_GALLOPING);if(At)break;kt<0&&(kt=0),kt+=2}if(g=kt,g<1&&(g=1),Ne===1){for(ze-=Oe,Fe-=Oe,qe=ze+1,Ue=Fe+1,Ie=Oe-1;Ie>=0;Ie--)r[qe+Ie]=r[Ue+Ie];r[ze]=re[Ve]}else{if(Ne===0)throw new Error;for(Ue=ze-(Ne-1),Ie=0;Ie<Ne;Ie++)r[Ue+Ie]=re[Ie]}}return{mergeRuns:le,forceMergeRuns:ue,pushRun:ae}}function sort$2(r,n,g,y){g||(g=0),y||(y=r.length);var $=y-g;if(!($<2)){var L=0;if($<DEFAULT_MIN_MERGE){L=makeAscendingRun(r,g,y,n),binaryInsertionSort(r,g,y,g+L,n);return}var re=TimSort(r,n),ae=minRunLength($);do{if(L=makeAscendingRun(r,g,y,n),L<ae){var le=$;le>ae&&(le=ae),binaryInsertionSort(r,g,g+le,g+L,n),L=le}re.pushRun(g,L),re.mergeRuns(),$-=L,g+=L}while($!==0);re.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(r,n){return r.zlevel===n.zlevel?r.z===n.z?r.z2-n.z2:r.z-n.z:r.zlevel-n.zlevel}var Storage=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return r.prototype.traverse=function(n,g){for(var y=0;y<this._roots.length;y++)this._roots[y].traverse(n,g)},r.prototype.getDisplayList=function(n,g){g=g||!1;var y=this._displayList;return(n||!y.length)&&this.updateDisplayList(g),y},r.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var g=this._roots,y=this._displayList,$=0,L=g.length;$<L;$++)this._updateAndAddDisplayable(g[$],null,n);y.length=this._displayListLen,sort$2(y,shapeCompareFunc)},r.prototype._updateAndAddDisplayable=function(n,g,y){if(!(n.ignore&&!y)){n.beforeUpdate(),n.update(),n.afterUpdate();var $=n.getClipPath();if(n.ignoreClip)g=null;else if($){g?g=g.slice():g=[];for(var L=$,re=n;L;)L.parent=re,L.updateTransform(),g.push(L),re=L,L=L.getClipPath()}if(n.childrenRef){for(var ae=n.childrenRef(),le=0;le<ae.length;le++){var ue=ae[le];n.__dirty&&(ue.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(ue,g,y)}n.__dirty=0}else{var he=n;g&&g.length?he.__clipPaths=g:he.__clipPaths&&he.__clipPaths.length>0&&(he.__clipPaths=[]),isNaN(he.z)&&(logInvalidZError(),he.z=0),isNaN(he.z2)&&(logInvalidZError(),he.z2=0),isNaN(he.zlevel)&&(logInvalidZError(),he.zlevel=0),this._displayList[this._displayListLen++]=he}var _e=n.getDecalElement&&n.getDecalElement();_e&&this._updateAndAddDisplayable(_e,g,y);var Ce=n.getTextGuideLine();Ce&&this._updateAndAddDisplayable(Ce,g,y);var $e=n.getTextContent();$e&&this._updateAndAddDisplayable($e,g,y)}},r.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},r.prototype.delRoot=function(n){if(n instanceof Array){for(var g=0,y=n.length;g<y;g++)this.delRoot(n[g]);return}var $=indexOf(this._roots,n);$>=0&&this._roots.splice($,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),requestAnimationFrame$1;requestAnimationFrame$1=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var easingFuncs={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var n,g=.1,y=.4;return r===0?0:r===1?1:(!g||g<1?(g=1,n=y/4):n=y*Math.asin(1/g)/(2*Math.PI),-(g*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/y)))},elasticOut:function(r){var n,g=.1,y=.4;return r===0?0:r===1?1:(!g||g<1?(g=1,n=y/4):n=y*Math.asin(1/g)/(2*Math.PI),g*Math.pow(2,-10*r)*Math.sin((r-n)*(2*Math.PI)/y)+1)},elasticInOut:function(r){var n,g=.1,y=.4;return r===0?0:r===1?1:(!g||g<1?(g=1,n=y/4):n=y*Math.asin(1/g)/(2*Math.PI),(r*=2)<1?-.5*(g*Math.pow(2,10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/y)):g*Math.pow(2,-10*(r-=1))*Math.sin((r-n)*(2*Math.PI)/y)*.5+1)},backIn:function(r){var n=1.70158;return r*r*((n+1)*r-n)},backOut:function(r){var n=1.70158;return--r*r*((n+1)*r+n)+1},backInOut:function(r){var n=2.5949095;return(r*=2)<1?.5*(r*r*((n+1)*r-n)):.5*((r-=2)*r*((n+1)*r+n)+2)},bounceIn:function(r){return 1-easingFuncs.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?easingFuncs.bounceIn(r*2)*.5:easingFuncs.bounceOut(r*2-1)*.5+.5}},mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(r){return r>-1e-8&&r<EPSILON$4}function isNotAroundZero$1(r){return r>EPSILON$4||r<-1e-8}function cubicAt(r,n,g,y,$){var L=1-$;return L*L*(L*r+3*$*n)+$*$*($*y+3*L*g)}function cubicDerivativeAt(r,n,g,y,$){var L=1-$;return 3*(((n-r)*L+2*(g-n)*$)*L+(y-g)*$*$)}function cubicRootAt(r,n,g,y,$,L){var re=y+3*(n-g)-r,ae=3*(g-n*2+r),le=3*(n-r),ue=r-$,he=ae*ae-3*re*le,_e=ae*le-9*re*ue,Ce=le*le-3*ae*ue,$e=0;if(isAroundZero$1(he)&&isAroundZero$1(_e))if(isAroundZero$1(ae))L[0]=0;else{var Oe=-le/ae;Oe>=0&&Oe<=1&&(L[$e++]=Oe)}else{var xe=_e*_e-4*he*Ce;if(isAroundZero$1(xe)){var Ne=_e/he,Oe=-ae/re+Ne,Ie=-Ne/2;Oe>=0&&Oe<=1&&(L[$e++]=Oe),Ie>=0&&Ie<=1&&(L[$e++]=Ie)}else if(xe>0){var Fe=mathSqrt$3(xe),Ve=he*ae+1.5*re*(-_e+Fe),ze=he*ae+1.5*re*(-_e-Fe);Ve<0?Ve=-mathPow$2(-Ve,ONE_THIRD):Ve=mathPow$2(Ve,ONE_THIRD),ze<0?ze=-mathPow$2(-ze,ONE_THIRD):ze=mathPow$2(ze,ONE_THIRD);var Oe=(-ae-(Ve+ze))/(3*re);Oe>=0&&Oe<=1&&(L[$e++]=Oe)}else{var Ue=(2*he*ae-3*re*_e)/(2*mathSqrt$3(he*he*he)),qe=Math.acos(Ue)/3,kt=mathSqrt$3(he),Et=Math.cos(qe),Oe=(-ae-2*kt*Et)/(3*re),Ie=(-ae+kt*(Et+THREE_SQRT*Math.sin(qe)))/(3*re),Pt=(-ae+kt*(Et-THREE_SQRT*Math.sin(qe)))/(3*re);Oe>=0&&Oe<=1&&(L[$e++]=Oe),Ie>=0&&Ie<=1&&(L[$e++]=Ie),Pt>=0&&Pt<=1&&(L[$e++]=Pt)}}return $e}function cubicExtrema(r,n,g,y,$){var L=6*g-12*n+6*r,re=9*n+3*y-3*r-9*g,ae=3*n-3*r,le=0;if(isAroundZero$1(re)){if(isNotAroundZero$1(L)){var ue=-ae/L;ue>=0&&ue<=1&&($[le++]=ue)}}else{var he=L*L-4*re*ae;if(isAroundZero$1(he))$[0]=-L/(2*re);else if(he>0){var _e=mathSqrt$3(he),ue=(-L+_e)/(2*re),Ce=(-L-_e)/(2*re);ue>=0&&ue<=1&&($[le++]=ue),Ce>=0&&Ce<=1&&($[le++]=Ce)}}return le}function cubicSubdivide(r,n,g,y,$,L){var re=(n-r)*$+r,ae=(g-n)*$+n,le=(y-g)*$+g,ue=(ae-re)*$+re,he=(le-ae)*$+ae,_e=(he-ue)*$+ue;L[0]=r,L[1]=re,L[2]=ue,L[3]=_e,L[4]=_e,L[5]=he,L[6]=le,L[7]=y}function cubicProjectPoint(r,n,g,y,$,L,re,ae,le,ue,he){var _e,Ce=.005,$e=1/0,Oe,xe,Ne,Ie;_v0[0]=le,_v0[1]=ue;for(var Fe=0;Fe<1;Fe+=.05)_v1[0]=cubicAt(r,g,$,re,Fe),_v1[1]=cubicAt(n,y,L,ae,Fe),Ne=distSquare(_v0,_v1),Ne<$e&&(_e=Fe,$e=Ne);$e=1/0;for(var Ve=0;Ve<32&&!(Ce<EPSILON_NUMERIC);Ve++)Oe=_e-Ce,xe=_e+Ce,_v1[0]=cubicAt(r,g,$,re,Oe),_v1[1]=cubicAt(n,y,L,ae,Oe),Ne=distSquare(_v1,_v0),Oe>=0&&Ne<$e?(_e=Oe,$e=Ne):(_v2[0]=cubicAt(r,g,$,re,xe),_v2[1]=cubicAt(n,y,L,ae,xe),Ie=distSquare(_v2,_v0),xe<=1&&Ie<$e?(_e=xe,$e=Ie):Ce*=.5);return he&&(he[0]=cubicAt(r,g,$,re,_e),he[1]=cubicAt(n,y,L,ae,_e)),mathSqrt$3($e)}function cubicLength(r,n,g,y,$,L,re,ae,le){for(var ue=r,he=n,_e=0,Ce=1/le,$e=1;$e<=le;$e++){var Oe=$e*Ce,xe=cubicAt(r,g,$,re,Oe),Ne=cubicAt(n,y,L,ae,Oe),Ie=xe-ue,Fe=Ne-he;_e+=Math.sqrt(Ie*Ie+Fe*Fe),ue=xe,he=Ne}return _e}function quadraticAt$1(r,n,g,y){var $=1-y;return $*($*r+2*y*n)+y*y*g}function quadraticDerivativeAt(r,n,g,y){return 2*((1-y)*(n-r)+y*(g-n))}function quadraticRootAt(r,n,g,y,$){var L=r-2*n+g,re=2*(n-r),ae=r-y,le=0;if(isAroundZero$1(L)){if(isNotAroundZero$1(re)){var ue=-ae/re;ue>=0&&ue<=1&&($[le++]=ue)}}else{var he=re*re-4*L*ae;if(isAroundZero$1(he)){var ue=-re/(2*L);ue>=0&&ue<=1&&($[le++]=ue)}else if(he>0){var _e=mathSqrt$3(he),ue=(-re+_e)/(2*L),Ce=(-re-_e)/(2*L);ue>=0&&ue<=1&&($[le++]=ue),Ce>=0&&Ce<=1&&($[le++]=Ce)}}return le}function quadraticExtremum(r,n,g){var y=r+g-2*n;return y===0?.5:(r-n)/y}function quadraticSubdivide(r,n,g,y,$){var L=(n-r)*y+r,re=(g-n)*y+n,ae=(re-L)*y+L;$[0]=r,$[1]=L,$[2]=ae,$[3]=ae,$[4]=re,$[5]=g}function quadraticProjectPoint(r,n,g,y,$,L,re,ae,le){var ue,he=.005,_e=1/0;_v0[0]=re,_v0[1]=ae;for(var Ce=0;Ce<1;Ce+=.05){_v1[0]=quadraticAt$1(r,g,$,Ce),_v1[1]=quadraticAt$1(n,y,L,Ce);var $e=distSquare(_v0,_v1);$e<_e&&(ue=Ce,_e=$e)}_e=1/0;for(var Oe=0;Oe<32&&!(he<EPSILON_NUMERIC);Oe++){var xe=ue-he,Ne=ue+he;_v1[0]=quadraticAt$1(r,g,$,xe),_v1[1]=quadraticAt$1(n,y,L,xe);var $e=distSquare(_v1,_v0);if(xe>=0&&$e<_e)ue=xe,_e=$e;else{_v2[0]=quadraticAt$1(r,g,$,Ne),_v2[1]=quadraticAt$1(n,y,L,Ne);var Ie=distSquare(_v2,_v0);Ne<=1&&Ie<_e?(ue=Ne,_e=Ie):he*=.5}}return le&&(le[0]=quadraticAt$1(r,g,$,ue),le[1]=quadraticAt$1(n,y,L,ue)),mathSqrt$3(_e)}function quadraticLength(r,n,g,y,$,L,re){for(var ae=r,le=n,ue=0,he=1/re,_e=1;_e<=re;_e++){var Ce=_e*he,$e=quadraticAt$1(r,g,$,Ce),Oe=quadraticAt$1(n,y,L,Ce),xe=$e-ae,Ne=Oe-le;ue+=Math.sqrt(xe*xe+Ne*Ne),ae=$e,le=Oe}return ue}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(r){var n=r&&regexp.exec(r);if(n){var g=n[1].split(","),y=+trim$1(g[0]),$=+trim$1(g[1]),L=+trim$1(g[2]),re=+trim$1(g[3]);if(isNaN(y+$+L+re))return;var ae=[];return function(le){return le<=0?0:le>=1?1:cubicRootAt(0,y,L,1,le,ae)&&cubicAt(0,$,re,1,ae[0])}}}var Clip=function(){function r(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop,this.ondestroy=n.ondestroy||noop,this.onrestart=n.onrestart||noop,n.easing&&this.setEasing(n.easing)}return r.prototype.step=function(n,g){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=g;return}var y=this._life,$=n-this._startTime-this._pausedTime,L=$/y;L<0&&(L=0),L=Math.min(L,1);var re=this.easingFunc,ae=re?re(L):L;if(this.onframe(ae),L===1)if(this.loop){var le=$%y;this._startTime=n-le,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction(n)?n:easingFuncs[n]||createCubicEasingFunc(n)},r}(),Entry=function(){function r(n){this.value=n}return r}(),LinkedList=function(){function r(){this._len=0}return r.prototype.insert=function(n){var g=new Entry(n);return this.insertEntry(g),g},r.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},r.prototype.remove=function(n){var g=n.prev,y=n.next;g?g.next=y:this.head=y,y?y.prev=g:this.tail=g,n.next=n.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),LRU=function(){function r(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return r.prototype.put=function(n,g){var y=this._list,$=this._map,L=null;if($[n]==null){var re=y.len(),ae=this._lastRemovedEntry;if(re>=this._maxSize&&re>0){var le=y.head;y.remove(le),delete $[le.key],L=le.value,this._lastRemovedEntry=le}ae?ae.value=g:ae=new Entry(g),ae.key=n,y.insertEntry(ae),$[n]=ae}return L},r.prototype.get=function(n){var g=this._map[n],y=this._list;if(g!=null)return g!==y.tail&&(y.remove(g),y.insertEntry(g)),g.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(r){return r=Math.round(r),r<0?0:r>255?255:r}function clampCssAngle(r){return r=Math.round(r),r<0?0:r>360?360:r}function clampCssFloat(r){return r<0?0:r>1?1:r}function parseCssInt(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(r){var n=r;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(r,n,g){return g<0?g+=1:g>1&&(g-=1),g*6<1?r+(n-r)*g*6:g*2<1?n:g*3<2?r+(n-r)*(2/3-g)*6:r}function lerpNumber(r,n,g){return r+(n-r)*g}function setRgba(r,n,g,y,$){return r[0]=n,r[1]=g,r[2]=y,r[3]=$,r}function copyRgba(r,n){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(r,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(r,lastRemovedArr||n.slice())}function parse(r,n){if(r){n=n||[];var g=colorCache.get(r);if(g)return copyRgba(n,g);r=r+"";var y=r.replace(/ /g,"").toLowerCase();if(y in kCSSColorTable)return copyRgba(n,kCSSColorTable[y]),putToCache(r,n),n;var $=y.length;if(y.charAt(0)==="#"){if($===4||$===5){var L=parseInt(y.slice(1,4),16);if(!(L>=0&&L<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(L&3840)>>4|(L&3840)>>8,L&240|(L&240)>>4,L&15|(L&15)<<4,$===5?parseInt(y.slice(4),16)/15:1),putToCache(r,n),n}else if($===7||$===9){var L=parseInt(y.slice(1,7),16);if(!(L>=0&&L<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(L&16711680)>>16,(L&65280)>>8,L&255,$===9?parseInt(y.slice(7),16)/255:1),putToCache(r,n),n}return}var re=y.indexOf("("),ae=y.indexOf(")");if(re!==-1&&ae+1===$){var le=y.substr(0,re),ue=y.substr(re+1,ae-(re+1)).split(","),he=1;switch(le){case"rgba":if(ue.length!==4)return ue.length===3?setRgba(n,+ue[0],+ue[1],+ue[2],1):setRgba(n,0,0,0,1);he=parseCssFloat(ue.pop());case"rgb":if(ue.length>=3)return setRgba(n,parseCssInt(ue[0]),parseCssInt(ue[1]),parseCssInt(ue[2]),ue.length===3?he:parseCssFloat(ue[3])),putToCache(r,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(ue.length!==4){setRgba(n,0,0,0,1);return}return ue[3]=parseCssFloat(ue[3]),hsla2rgba(ue,n),putToCache(r,n),n;case"hsl":if(ue.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(ue,n),putToCache(r,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(r,n){var g=(parseFloat(r[0])%360+360)%360/360,y=parseCssFloat(r[1]),$=parseCssFloat(r[2]),L=$<=.5?$*(y+1):$+y-$*y,re=$*2-L;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(re,L,g+1/3)*255),clampCssByte(cssHueToRgb(re,L,g)*255),clampCssByte(cssHueToRgb(re,L,g-1/3)*255),1),r.length===4&&(n[3]=r[3]),n}function rgba2hsla(r){if(r){var n=r[0]/255,g=r[1]/255,y=r[2]/255,$=Math.min(n,g,y),L=Math.max(n,g,y),re=L-$,ae=(L+$)/2,le,ue;if(re===0)le=0,ue=0;else{ae<.5?ue=re/(L+$):ue=re/(2-L-$);var he=((L-n)/6+re/2)/re,_e=((L-g)/6+re/2)/re,Ce=((L-y)/6+re/2)/re;n===L?le=Ce-_e:g===L?le=1/3+he-Ce:y===L&&(le=2/3+_e-he),le<0&&(le+=1),le>1&&(le-=1)}var $e=[le*360,ue,ae];return r[3]!=null&&$e.push(r[3]),$e}}function lift(r,n){var g=parse(r);if(g){for(var y=0;y<3;y++)n<0?g[y]=g[y]*(1-n)|0:g[y]=(255-g[y])*n+g[y]|0,g[y]>255?g[y]=255:g[y]<0&&(g[y]=0);return stringify(g,g.length===4?"rgba":"rgb")}}function toHex(r){var n=parse(r);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)}function fastLerp(r,n,g){if(!(!(n&&n.length)||!(r>=0&&r<=1))){g=g||[];var y=r*(n.length-1),$=Math.floor(y),L=Math.ceil(y),re=n[$],ae=n[L],le=y-$;return g[0]=clampCssByte(lerpNumber(re[0],ae[0],le)),g[1]=clampCssByte(lerpNumber(re[1],ae[1],le)),g[2]=clampCssByte(lerpNumber(re[2],ae[2],le)),g[3]=clampCssFloat(lerpNumber(re[3],ae[3],le)),g}}var fastMapToColor=fastLerp;function lerp(r,n,g){if(!(!(n&&n.length)||!(r>=0&&r<=1))){var y=r*(n.length-1),$=Math.floor(y),L=Math.ceil(y),re=parse(n[$]),ae=parse(n[L]),le=y-$,ue=stringify([clampCssByte(lerpNumber(re[0],ae[0],le)),clampCssByte(lerpNumber(re[1],ae[1],le)),clampCssByte(lerpNumber(re[2],ae[2],le)),clampCssFloat(lerpNumber(re[3],ae[3],le))],"rgba");return g?{color:ue,leftIndex:$,rightIndex:L,value:y}:ue}}var mapToColor=lerp;function modifyHSL(r,n,g,y){var $=parse(r);if(r)return $=rgba2hsla($),n!=null&&($[0]=clampCssAngle(n)),g!=null&&($[1]=parseCssFloat(g)),y!=null&&($[2]=parseCssFloat(y)),stringify(hsla2rgba($),"rgba")}function modifyAlpha(r,n){var g=parse(r);if(g&&n!=null)return g[3]=clampCssFloat(n),stringify(g,"rgba")}function stringify(r,n){if(!(!r||!r.length)){var g=r[0]+","+r[1]+","+r[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(g+=","+r[3]),n+"("+g+")"}}function lum(r,n){var g=parse(r);return g?(.299*g[0]+.587*g[1]+.114*g[2])*g[3]/255+(1-g[3])*n:0}function random(){return stringify([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var liftedColorCache=new LRU(100);function liftColor(r){if(isString(r)){var n=liftedColorCache.get(r);return n||(n=lift(r,-.1),liftedColorCache.put(r,n)),n}else if(isGradientObject(r)){var g=extend({},r);return g.colorStops=map$1(r.colorStops,function(y){return{offset:y.offset,color:lift(y.color,-.1)}}),g}return r}const color=Object.freeze(Object.defineProperty({__proto__:null,fastLerp,fastMapToColor,lerp,lift,liftColor,lum,mapToColor,modifyAlpha,modifyHSL,parse,random,stringify,toHex},Symbol.toStringTag,{value:"Module"}));var mathRound$1=Math.round;function normalizeColor(r){var n;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var g=parse(r);g&&(r="rgb("+g[0]+","+g[1]+","+g[2]+")",n=g[3])}return{color:r,opacity:n??1}}var EPSILON$3=1e-4;function isAroundZero(r){return r<EPSILON$3&&r>-1e-4}function round3(r){return mathRound$1(r*1e3)/1e3}function round4(r){return mathRound$1(r*1e4)/1e4}function getMatrixStr(r){return"matrix("+round3(r[0])+","+round3(r[1])+","+round3(r[2])+","+round3(r[3])+","+round4(r[4])+","+round4(r[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(r,n,g){return g==="top"?r+=n/2:g==="bottom"&&(r-=n/2),r}function hasShadow(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function getShadowKey(r){var n=r.style,g=r.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),g[0],g[1]].join(",")}function isImagePattern(r){return r&&!!r.image}function isSVGPattern(r){return r&&!!r.svgElement}function isPattern(r){return isImagePattern(r)||isSVGPattern(r)}function isLinearGradient(r){return r.type==="linear"}function isRadialGradient(r){return r.type==="radial"}function isGradient(r){return r&&(r.type==="linear"||r.type==="radial")}function getIdURL(r){return"url(#"+r+")"}function getPathPrecision(r){var n=r.getGlobalScale(),g=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(g)/Math.log(10)),1)}function getSRTTransformString(r){var n=r.x||0,g=r.y||0,y=(r.rotation||0)*RADIAN_TO_DEGREE,$=retrieve2(r.scaleX,1),L=retrieve2(r.scaleY,1),re=r.skewX||0,ae=r.skewY||0,le=[];return(n||g)&&le.push("translate("+n+"px,"+g+"px)"),y&&le.push("rotate("+y+")"),($!==1||L!==1)&&le.push("scale("+$+","+L+")"),(re||ae)&&le.push("skew("+mathRound$1(re*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(ae*RADIAN_TO_DEGREE)+"deg)"),le.join(" ")}var encodeBase64=function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(r,n,g){return(n-r)*g+r}function interpolate1DArray(r,n,g,y){for(var $=n.length,L=0;L<$;L++)r[L]=interpolateNumber$1(n[L],g[L],y);return r}function interpolate2DArray(r,n,g,y){for(var $=n.length,L=$&&n[0].length,re=0;re<$;re++){r[re]||(r[re]=[]);for(var ae=0;ae<L;ae++)r[re][ae]=interpolateNumber$1(n[re][ae],g[re][ae],y)}return r}function add1DArray(r,n,g,y){for(var $=n.length,L=0;L<$;L++)r[L]=n[L]+g[L]*y;return r}function add2DArray(r,n,g,y){for(var $=n.length,L=$&&n[0].length,re=0;re<$;re++){r[re]||(r[re]=[]);for(var ae=0;ae<L;ae++)r[re][ae]=n[re][ae]+g[re][ae]*y}return r}function fillColorStops(r,n){for(var g=r.length,y=n.length,$=g>y?n:r,L=Math.min(g,y),re=$[L-1]||{color:[0,0,0,0],offset:0},ae=L;ae<Math.max(g,y);ae++)$.push({offset:re.offset,color:re.color.slice()})}function fillArray(r,n,g){var y=r,$=n;if(!(!y.push||!$.push)){var L=y.length,re=$.length;if(L!==re){var ae=L>re;if(ae)y.length=re;else for(var le=L;le<re;le++)y.push(g===1?$[le]:arraySlice.call($[le]))}for(var ue=y[0]&&y[0].length,le=0;le<y.length;le++)if(g===1)isNaN(y[le])&&(y[le]=$[le]);else for(var he=0;he<ue;he++)isNaN(y[le][he])&&(y[le][he]=$[le][he])}}function cloneValue(r){if(isArrayLike(r)){var n=r.length;if(isArrayLike(r[0])){for(var g=[],y=0;y<n;y++)g.push(arraySlice.call(r[y]));return g}return arraySlice.call(r)}return r}function rgba2String(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function guessArrayDim(r){return isArrayLike(r&&r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(r){return r===VALUE_TYPE_LINEAR_GRADIENT||r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(r){return r===VALUE_TYPE_1D_ARRAY||r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function r(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(n,g,y){this._needsSort=!0;var $=this.keyframes,L=$.length,re=!1,ae=VALUE_TYPE_UNKOWN,le=g;if(isArrayLike(g)){var ue=guessArrayDim(g);ae=ue,(ue===1&&!isNumber$1(g[0])||ue===2&&!isNumber$1(g[0][0]))&&(re=!0)}else if(isNumber$1(g)&&!eqNaN(g))ae=VALUE_TYPE_NUMBER;else if(isString(g))if(!isNaN(+g))ae=VALUE_TYPE_NUMBER;else{var he=parse(g);he&&(le=he,ae=VALUE_TYPE_COLOR)}else if(isGradientObject(g)){var _e=extend({},le);_e.colorStops=map$1(g.colorStops,function($e){return{offset:$e.offset,color:parse($e.color)}}),isLinearGradient(g)?ae=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(g)&&(ae=VALUE_TYPE_RADIAL_GRADIENT),le=_e}L===0?this.valType=ae:(ae!==this.valType||ae===VALUE_TYPE_UNKOWN)&&(re=!0),this.discrete=this.discrete||re;var Ce={time:n,value:le,rawValue:g,percent:0};return y&&(Ce.easing=y,Ce.easingFunc=isFunction(y)?y:easingFuncs[y]||createCubicEasingFunc(y)),$.push(Ce),Ce},r.prototype.prepare=function(n,g){var y=this.keyframes;this._needsSort&&y.sort(function(xe,Ne){return xe.time-Ne.time});for(var $=this.valType,L=y.length,re=y[L-1],ae=this.discrete,le=isArrayValueType($),ue=isGradientValueType($),he=0;he<L;he++){var _e=y[he],Ce=_e.value,$e=re.value;_e.percent=_e.time/n,ae||(le&&he!==L-1?fillArray(Ce,$e,$):ue&&fillColorStops(Ce.colorStops,$e.colorStops))}if(!ae&&$!==VALUE_TYPE_RADIAL_GRADIENT&&g&&this.needsAnimate()&&g.needsAnimate()&&$===g.valType&&!g._finished){this._additiveTrack=g;for(var Oe=y[0].value,he=0;he<L;he++)$===VALUE_TYPE_NUMBER?y[he].additiveValue=y[he].value-Oe:$===VALUE_TYPE_COLOR?y[he].additiveValue=add1DArray([],y[he].value,Oe,-1):isArrayValueType($)&&(y[he].additiveValue=$===VALUE_TYPE_1D_ARRAY?add1DArray([],y[he].value,Oe,-1):add2DArray([],y[he].value,Oe,-1))}},r.prototype.step=function(n,g){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var y=this._additiveTrack!=null,$=y?"additiveValue":"value",L=this.valType,re=this.keyframes,ae=re.length,le=this.propName,ue=L===VALUE_TYPE_COLOR,he,_e=this._lastFr,Ce=Math.min,$e,Oe;if(ae===1)$e=Oe=re[0];else{if(g<0)he=0;else if(g<this._lastFrP){var xe=Ce(_e+1,ae-1);for(he=xe;he>=0&&!(re[he].percent<=g);he--);he=Ce(he,ae-2)}else{for(he=_e;he<ae&&!(re[he].percent>g);he++);he=Ce(he-1,ae-2)}Oe=re[he+1],$e=re[he]}if($e&&Oe){this._lastFr=he,this._lastFrP=g;var Ne=Oe.percent-$e.percent,Ie=Ne===0?1:Ce((g-$e.percent)/Ne,1);Oe.easingFunc&&(Ie=Oe.easingFunc(Ie));var Fe=y?this._additiveValue:ue?tmpRgba:n[le];if((isArrayValueType(L)||ue)&&!Fe&&(Fe=this._additiveValue=[]),this.discrete)n[le]=Ie<1?$e.rawValue:Oe.rawValue;else if(isArrayValueType(L))L===VALUE_TYPE_1D_ARRAY?interpolate1DArray(Fe,$e[$],Oe[$],Ie):interpolate2DArray(Fe,$e[$],Oe[$],Ie);else if(isGradientValueType(L)){var Ve=$e[$],ze=Oe[$],Ue=L===VALUE_TYPE_LINEAR_GRADIENT;n[le]={type:Ue?"linear":"radial",x:interpolateNumber$1(Ve.x,ze.x,Ie),y:interpolateNumber$1(Ve.y,ze.y,Ie),colorStops:map$1(Ve.colorStops,function(kt,Et){var Pt=ze.colorStops[Et];return{offset:interpolateNumber$1(kt.offset,Pt.offset,Ie),color:rgba2String(interpolate1DArray([],kt.color,Pt.color,Ie))}}),global:ze.global},Ue?(n[le].x2=interpolateNumber$1(Ve.x2,ze.x2,Ie),n[le].y2=interpolateNumber$1(Ve.y2,ze.y2,Ie)):n[le].r=interpolateNumber$1(Ve.r,ze.r,Ie)}else if(ue)interpolate1DArray(Fe,$e[$],Oe[$],Ie),y||(n[le]=rgba2String(Fe));else{var qe=interpolateNumber$1($e[$],Oe[$],Ie);y?this._additiveValue=qe:n[le]=qe}y&&this._addToTarget(n)}}},r.prototype._addToTarget=function(n){var g=this.valType,y=this.propName,$=this._additiveValue;g===VALUE_TYPE_NUMBER?n[y]=n[y]+$:g===VALUE_TYPE_COLOR?(parse(n[y],tmpRgba),add1DArray(tmpRgba,tmpRgba,$,1),n[y]=rgba2String(tmpRgba)):g===VALUE_TYPE_1D_ARRAY?add1DArray(n[y],n[y],$,1):g===VALUE_TYPE_2D_ARRAY&&add2DArray(n[y],n[y],$,1)},r}(),Animator=function(){function r(n,g,y,$){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=g,g&&$){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=$,this._allowDiscrete=y}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(n){this._target=n},r.prototype.when=function(n,g,y){return this.whenWithKeys(n,g,keys$1(g),y)},r.prototype.whenWithKeys=function(n,g,y,$){for(var L=this._tracks,re=0;re<y.length;re++){var ae=y[re],le=L[ae];if(!le){le=L[ae]=new Track(ae);var ue=void 0,he=this._getAdditiveTrack(ae);if(he){var _e=he.keyframes,Ce=_e[_e.length-1];ue=Ce&&Ce.value,he.valType===VALUE_TYPE_COLOR&&ue&&(ue=rgba2String(ue))}else ue=this._target[ae];if(ue==null)continue;n>0&&le.addKeyframe(0,cloneValue(ue),$),this._trackKeys.push(ae)}le.addKeyframe(n,cloneValue(g[ae]),$)}return this._maxTime=Math.max(this._maxTime,n),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var g=n.length,y=0;y<g;y++)n[y].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,g=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,g)for(var y=0;y<g.length;y++)g[y].call(this)},r.prototype._setTracksFinished=function(){for(var n=this._tracks,g=this._trackKeys,y=0;y<g.length;y++)n[g[y]].setFinished()},r.prototype._getAdditiveTrack=function(n){var g,y=this._additiveAnimators;if(y)for(var $=0;$<y.length;$++){var L=y[$].getTrack(n);L&&(g=L)}return g},r.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var g=this,y=[],$=this._maxTime||0,L=0;L<this._trackKeys.length;L++){var re=this._trackKeys[L],ae=this._tracks[re],le=this._getAdditiveTrack(re),ue=ae.keyframes,he=ue.length;if(ae.prepare($,le),ae.needsAnimate())if(!this._allowDiscrete&&ae.discrete){var _e=ue[he-1];_e&&(g._target[ae.propName]=_e.rawValue),ae.setFinished()}else y.push(ae)}if(y.length||this._force){var Ce=new Clip({life:$,loop:this._loop,delay:this._delay||0,onframe:function($e){g._started=2;var Oe=g._additiveAnimators;if(Oe){for(var xe=!1,Ne=0;Ne<Oe.length;Ne++)if(Oe[Ne]._clip){xe=!0;break}xe||(g._additiveAnimators=null)}for(var Ne=0;Ne<y.length;Ne++)y[Ne].step(g._target,$e);var Ie=g._onframeCbs;if(Ie)for(var Ne=0;Ne<Ie.length;Ne++)Ie[Ne](g._target,$e)},ondestroy:function(){g._doneCallback()}});this._clip=Ce,this.animation&&this.animation.addClip(Ce),n&&Ce.setEasing(n)}else this._doneCallback();return this}},r.prototype.stop=function(n){if(this._clip){var g=this._clip;n&&g.onframe(1),this._abortedCallback()}},r.prototype.delay=function(n){return this._delay=n,this},r.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},r.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},r.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(n){return this._tracks[n]},r.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(g){return n._tracks[g]})},r.prototype.stopTracks=function(n,g){if(!n.length||!this._clip)return!0;for(var y=this._tracks,$=this._trackKeys,L=0;L<n.length;L++){var re=y[n[L]];re&&!re.isFinished()&&(g?re.step(this._target,1):this._started===1&&re.step(this._target,0),re.setFinished())}for(var ae=!0,L=0;L<$.length;L++)if(!y[$[L]].isFinished()){ae=!1;break}return ae&&this._abortedCallback(),ae},r.prototype.saveTo=function(n,g,y){if(n){g=g||this._trackKeys;for(var $=0;$<g.length;$++){var L=g[$],re=this._tracks[L];if(!(!re||re.isFinished())){var ae=re.keyframes,le=ae[y?0:ae.length-1];le&&(n[L]=cloneValue(le.rawValue))}}}},r.prototype.__changeFinalValue=function(n,g){g=g||keys$1(n);for(var y=0;y<g.length;y++){var $=g[y],L=this._tracks[$];if(L){var re=L.keyframes;if(re.length>1){var ae=re.pop();L.addKeyframe(ae.time,n[$]),L.prepare(this._maxTime,L.getAdditiveTrack())}}}},r}();function getTime(){return new Date().getTime()}var Animation=function(r){__extends(n,r);function n(g){var y=r.call(this)||this;return y._running=!1,y._time=0,y._pausedTime=0,y._pauseStart=0,y._paused=!1,g=g||{},y.stage=g.stage||{},y}return n.prototype.addClip=function(g){g.animation&&this.removeClip(g),this._head?(this._tail.next=g,g.prev=this._tail,g.next=null,this._tail=g):this._head=this._tail=g,g.animation=this},n.prototype.addAnimator=function(g){g.animation=this;var y=g.getClip();y&&this.addClip(y)},n.prototype.removeClip=function(g){if(g.animation){var y=g.prev,$=g.next;y?y.next=$:this._head=$,$?$.prev=y:this._tail=y,g.next=g.prev=g.animation=null}},n.prototype.removeAnimator=function(g){var y=g.getClip();y&&this.removeClip(y),g.animation=null},n.prototype.update=function(g){for(var y=getTime()-this._pausedTime,$=y-this._time,L=this._head;L;){var re=L.next,ae=L.step(y,$);ae&&(L.ondestroy(),this.removeClip(L)),L=re}this._time=y,g||(this.trigger("frame",$),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var g=this;this._running=!0;function y(){g._running&&(requestAnimationFrame$1(y),!g._paused&&g.update())}requestAnimationFrame$1(y)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var g=this._head;g;){var y=g.next;g.prev=g.next=g.animation=null,g=y}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(g,y){y=y||{},this.start();var $=new Animator(g,y.loop);return this.addAnimator($),$},n}(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],g={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},y=map$1(r,function($){var L=$.replace("mouse","pointer");return g.hasOwnProperty(L)?L:$});return{mouse:r,touch:n,pointer:y}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(r){var n=r.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function markTouch(r){r&&(r.zrByTouch=!0)}function normalizeGlobalEvent(r,n){return normalizeEvent(r.dom,new FakeGlobalEvent(r,n),!0)}function isLocalEl(r,n){for(var g=n,y=!1;g&&g.nodeType!==9&&!(y=g.domBelongToZr||g!==n&&g===r.painterRoot);)g=g.parentNode;return y}var FakeGlobalEvent=function(){function r(n,g){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=g.type,this.target=this.currentTarget=n.dom,this.pointerType=g.pointerType,this.clientX=g.clientX,this.clientY=g.clientY}return r}(),localDOMHandlers={mousedown:function(r){r=normalizeEvent(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=normalizeEvent(this.dom,r);var n=this.__mayPointerCapture;n&&(r.zrX!==n[0]||r.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=normalizeEvent(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=normalizeEvent(this.dom,r);var n=r.toElement||r.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){wheelEventSupported=!0,r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){wheelEventSupported||(r=normalizeEvent(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),localDOMHandlers.mousemove.call(this,r),localDOMHandlers.mousedown.call(this,r)},touchmove:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"change"),localDOMHandlers.mousemove.call(this,r)},touchend:function(r){r=normalizeEvent(this.dom,r),markTouch(r),this.handler.processGesture(r,"end"),localDOMHandlers.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,r)},pointerdown:function(r){localDOMHandlers.mousedown.call(this,r)},pointermove:function(r){isPointerFromTouch(r)||localDOMHandlers.mousemove.call(this,r)},pointerup:function(r){localDOMHandlers.mouseup.call(this,r)},pointerout:function(r){isPointerFromTouch(r)||localDOMHandlers.mouseout.call(this,r)}};each$f(["click","dblclick","contextmenu"],function(r){localDOMHandlers[r]=function(n){n=normalizeEvent(this.dom,n),this.trigger(r,n)}});var globalDOMHandlers={pointermove:function(r){isPointerFromTouch(r)||globalDOMHandlers.mousemove.call(this,r)},pointerup:function(r){globalDOMHandlers.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),n&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mountLocalDOMEventListeners(r,n){var g=n.domHandlers;env.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(y){mountSingleDOMEventListener(n,y,function($){g[y].call(r,$)})}):(env.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(y){mountSingleDOMEventListener(n,y,function($){g[y].call(r,$),setTouchTimer(n)})}),each$f(localNativeListenerNames.mouse,function(y){mountSingleDOMEventListener(n,y,function($){$=getNativeEvent($),n.touching||g[y].call(r,$)})}))}function mountGlobalDOMEventListeners(r,n){env.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,g):env.touchEventsSupported||each$f(globalNativeListenerNames.mouse,g);function g(y){function $(L){L=getNativeEvent(L),isLocalEl(r,L.target)||(L=normalizeGlobalEvent(r,L),n.domHandlers[y].call(r,L))}mountSingleDOMEventListener(n,y,$,{capture:!0})}}function mountSingleDOMEventListener(r,n,g,y){r.mounted[n]=g,r.listenerOpts[n]=y,addEventListener(r.domTarget,n,g,y)}function unmountDOMEventListeners(r){var n=r.mounted;for(var g in n)n.hasOwnProperty(g)&&removeEventListener(r.domTarget,g,n[g],r.listenerOpts[g]);r.mounted={}}var DOMHandlerScope=function(){function r(n,g){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=g}return r}(),HandlerDomProxy=function(r){__extends(n,r);function n(g,y){var $=r.call(this)||this;return $.__pointerCapturing=!1,$.dom=g,$.painterRoot=y,$._localHandlerScope=new DOMHandlerScope(g,localDOMHandlers),globalEventSupported&&($._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners($,$._localHandlerScope),$}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(g){this.dom.style&&(this.dom.style.cursor=g||"default")},n.prototype.__togglePointerCapture=function(g){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+g){this.__pointerCapturing=g;var y=this._globalHandlerScope;g?mountGlobalDOMEventListeners(this,y):unmountDOMEventListeners(y)}},n}(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(r){return r>EPSILON$2||r<-5e-5}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function r(){}return r.prototype.getLocalTransform=function(n){return r.getLocalTransform(this,n)},r.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},r.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},r.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},r.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},r.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,g=this.needLocalTransform(),y=this.transform;if(!(g||n)){y&&(mIdentity(y),this.invTransform=null);return}y=y||create$1(),g?this.getLocalTransform(y):mIdentity(y),n&&(g?mul(y,n,y):copy(y,n)),this.transform=y,this._resolveGlobalScaleRatio(y)},r.prototype._resolveGlobalScaleRatio=function(n){var g=this.globalScaleRatio;if(g!=null&&g!==1){this.getGlobalScale(scaleTmp);var y=scaleTmp[0]<0?-1:1,$=scaleTmp[1]<0?-1:1,L=((scaleTmp[0]-y)*g+y)/scaleTmp[0]||0,re=((scaleTmp[1]-$)*g+$)/scaleTmp[1]||0;n[0]*=L,n[1]*=L,n[2]*=re,n[3]*=re}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,n)},r.prototype.getComputedTransform=function(){for(var n=this,g=[];n;)g.push(n),n=n.parent;for(;n=g.pop();)n.updateTransform();return this.transform},r.prototype.setLocalTransform=function(n){if(n){var g=n[0]*n[0]+n[1]*n[1],y=n[2]*n[2]+n[3]*n[3],$=Math.atan2(n[1],n[0]),L=Math.PI/2+$-Math.atan2(n[3],n[2]);y=Math.sqrt(y)*Math.cos(L),g=Math.sqrt(g),this.skewX=L,this.skewY=0,this.rotation=-$,this.x=+n[4],this.y=+n[5],this.scaleX=g,this.scaleY=y,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,g=this.transform;n&&n.transform&&(n.invTransform=n.invTransform||create$1(),mul(tmpTransform,n.invTransform,g),g=tmpTransform);var y=this.originX,$=this.originY;(y||$)&&(originTransform[4]=y,originTransform[5]=$,mul(tmpTransform,g,originTransform),tmpTransform[4]-=y,tmpTransform[5]-=$,g=tmpTransform),this.setLocalTransform(g)}},r.prototype.getGlobalScale=function(n){var g=this.transform;return n=n||[],g?(n[0]=Math.sqrt(g[0]*g[0]+g[1]*g[1]),n[1]=Math.sqrt(g[2]*g[2]+g[3]*g[3]),g[0]<0&&(n[0]=-n[0]),g[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},r.prototype.transformCoordToLocal=function(n,g){var y=[n,g],$=this.invTransform;return $&&applyTransform$1(y,y,$),y},r.prototype.transformCoordToGlobal=function(n,g){var y=[n,g],$=this.transform;return $&&applyTransform$1(y,y,$),y},r.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},r.prototype.copyTransform=function(n){copyTransform(this,n)},r.getLocalTransform=function(n,g){g=g||[];var y=n.originX||0,$=n.originY||0,L=n.scaleX,re=n.scaleY,ae=n.anchorX,le=n.anchorY,ue=n.rotation||0,he=n.x,_e=n.y,Ce=n.skewX?Math.tan(n.skewX):0,$e=n.skewY?Math.tan(-n.skewY):0;if(y||$||ae||le){var Oe=y+ae,xe=$+le;g[4]=-Oe*L-Ce*xe*re,g[5]=-xe*re-$e*Oe*L}else g[4]=g[5]=0;return g[0]=L,g[3]=re,g[1]=$e*L,g[2]=Ce*re,ue&&rotate(g,g,ue),g[4]+=y+he,g[5]+=$+_e,g},r.initDefaultProps=function(){var n=r.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(r,n){for(var g=0;g<TRANSFORMABLE_PROPS.length;g++){var y=TRANSFORMABLE_PROPS[g];r[y]=n[y]}}var textWidthCache={};function getWidth(r,n){n=n||DEFAULT_FONT;var g=textWidthCache[n];g||(g=textWidthCache[n]=new LRU(500));var y=g.get(r);return y==null&&(y=platformApi.measureText(r,n).width,g.put(r,y)),y}function innerGetBoundingRect(r,n,g,y){var $=getWidth(r,n),L=getLineHeight(n),re=adjustTextX(0,$,g),ae=adjustTextY(0,L,y),le=new BoundingRect(re,ae,$,L);return le}function getBoundingRect(r,n,g,y){var $=((r||"")+"").split(`
`),L=$.length;if(L===1)return innerGetBoundingRect($[0],n,g,y);for(var re=new BoundingRect(0,0,0,0),ae=0;ae<$.length;ae++){var le=innerGetBoundingRect($[ae],n,g,y);ae===0?re.copy(le):re.union(le)}return re}function adjustTextX(r,n,g){return g==="right"?r-=n:g==="center"&&(r-=n/2),r}function adjustTextY(r,n,g){return g==="middle"?r-=n/2:g==="bottom"&&(r-=n),r}function getLineHeight(r){return getWidth("",r)}function parsePercent$1(r,n){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*n:parseFloat(r):r}function calculateTextPosition(r,n,g){var y=n.position||"inside",$=n.distance!=null?n.distance:5,L=g.height,re=g.width,ae=L/2,le=g.x,ue=g.y,he="left",_e="top";if(y instanceof Array)le+=parsePercent$1(y[0],g.width),ue+=parsePercent$1(y[1],g.height),he=null,_e=null;else switch(y){case"left":le-=$,ue+=ae,he="right",_e="middle";break;case"right":le+=$+re,ue+=ae,_e="middle";break;case"top":le+=re/2,ue-=$,he="center",_e="bottom";break;case"bottom":le+=re/2,ue+=L+$,he="center";break;case"inside":le+=re/2,ue+=ae,he="center",_e="middle";break;case"insideLeft":le+=$,ue+=ae,_e="middle";break;case"insideRight":le+=re-$,ue+=ae,he="right",_e="middle";break;case"insideTop":le+=re/2,ue+=$,he="center";break;case"insideBottom":le+=re/2,ue+=L-$,he="center",_e="bottom";break;case"insideTopLeft":le+=$,ue+=$;break;case"insideTopRight":le+=re-$,ue+=$,he="right";break;case"insideBottomLeft":le+=$,ue+=L-$,_e="bottom";break;case"insideBottomRight":le+=re-$,ue+=L-$,he="right",_e="bottom";break}return r=r||{},r.x=le,r.y=ue,r.align=he,r.verticalAlign=_e,r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=!0,r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),Element$1=function(){function r(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return r.prototype._init=function(n){this.attr(n)},r.prototype.drift=function(n,g,y){switch(this.draggable){case"horizontal":g=0;break;case"vertical":n=0;break}var $=this.transform;$||($=this.transform=[1,0,0,1,0,0]),$[4]+=n,$[5]+=g,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(n){var g=this._textContent;if(g&&(!g.ignore||n)){this.textConfig||(this.textConfig={});var y=this.textConfig,$=y.local,L=g.innerTransformable,re=void 0,ae=void 0,le=!1;L.parent=$?this:null;var ue=!1;if(L.copyTransform(g),y.position!=null){var he=tmpBoundingRect;y.layoutRect?he.copy(y.layoutRect):he.copy(this.getBoundingRect()),$||he.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,y,he):calculateTextPosition(tmpTextPosCalcRes,y,he),L.x=tmpTextPosCalcRes.x,L.y=tmpTextPosCalcRes.y,re=tmpTextPosCalcRes.align,ae=tmpTextPosCalcRes.verticalAlign;var _e=y.origin;if(_e&&y.rotation!=null){var Ce=void 0,$e=void 0;_e==="center"?(Ce=he.width*.5,$e=he.height*.5):(Ce=parsePercent$1(_e[0],he.width),$e=parsePercent$1(_e[1],he.height)),ue=!0,L.originX=-L.x+Ce+($?0:he.x),L.originY=-L.y+$e+($?0:he.y)}}y.rotation!=null&&(L.rotation=y.rotation);var Oe=y.offset;Oe&&(L.x+=Oe[0],L.y+=Oe[1],ue||(L.originX=-Oe[0],L.originY=-Oe[1]));var xe=y.inside==null?typeof y.position=="string"&&y.position.indexOf("inside")>=0:y.inside,Ne=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),Ie=void 0,Fe=void 0,Ve=void 0;xe&&this.canBeInsideText()?(Ie=y.insideFill,Fe=y.insideStroke,(Ie==null||Ie==="auto")&&(Ie=this.getInsideTextFill()),(Fe==null||Fe==="auto")&&(Fe=this.getInsideTextStroke(Ie),Ve=!0)):(Ie=y.outsideFill,Fe=y.outsideStroke,(Ie==null||Ie==="auto")&&(Ie=this.getOutsideFill()),(Fe==null||Fe==="auto")&&(Fe=this.getOutsideStroke(Ie),Ve=!0)),Ie=Ie||"#000",(Ie!==Ne.fill||Fe!==Ne.stroke||Ve!==Ne.autoStroke||re!==Ne.align||ae!==Ne.verticalAlign)&&(le=!0,Ne.fill=Ie,Ne.stroke=Fe,Ne.autoStroke=Ve,Ne.align=re,Ne.verticalAlign=ae,g.setDefaultTextStyle(Ne)),g.__dirty|=REDRAW_BIT,le&&g.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(n){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},r.prototype.getOutsideStroke=function(n){var g=this.__zr&&this.__zr.getBackgroundColor(),y=typeof g=="string"&&parse(g);y||(y=[255,255,255,1]);for(var $=y[3],L=this.__zr.isDarkMode(),re=0;re<3;re++)y[re]=y[re]*$+(L?0:255)*(1-$);return y[3]=1,stringify(y,"rgba")},r.prototype.traverse=function(n,g){},r.prototype.attrKV=function(n,g){n==="textConfig"?this.setTextConfig(g):n==="textContent"?this.setTextContent(g):n==="clipPath"?this.setClipPath(g):n==="extra"?(this.extra=this.extra||{},extend(this.extra,g)):this[n]=g},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(n,g){if(typeof n=="string")this.attrKV(n,g);else if(isObject$3(n))for(var y=n,$=keys$1(y),L=0;L<$.length;L++){var re=$[L];this.attrKV(re,n[re])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var g=this._normalState,y=0;y<this.animators.length;y++){var $=this.animators[y],L=$.__fromStateTransition;if(!($.getLoop()||L&&L!==PRESERVED_NORMAL_STATE)){var re=$.targetName,ae=re?g[re]:g;$.saveTo(ae)}}},r.prototype._innerSaveToNormal=function(n){var g=this._normalState;g||(g=this._normalState={}),n.textConfig&&!g.textConfig&&(g.textConfig=this.textConfig),this._savePrimaryToNormal(n,g,PRIMARY_STATES_KEYS$1)},r.prototype._savePrimaryToNormal=function(n,g,y){for(var $=0;$<y.length;$++){var L=y[$];n[L]!=null&&!(L in g)&&(g[L]=this[L])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(n){return this.states[n]},r.prototype.ensureState=function(n){var g=this.states;return g[n]||(g[n]={}),g[n]},r.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},r.prototype.useState=function(n,g,y,$){var L=n===PRESERVED_NORMAL_STATE,re=this.hasState();if(!(!re&&L)){var ae=this.currentStates,le=this.stateTransition;if(!(indexOf(ae,n)>=0&&(g||ae.length===1))){var ue;if(this.stateProxy&&!L&&(ue=this.stateProxy(n)),ue||(ue=this.states&&this.states[n]),!ue&&!L){logError("State "+n+" not exists.");return}L||this.saveCurrentToNormalState(ue);var he=!!(ue&&ue.hoverLayer||$);he&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,ue,this._normalState,g,!y&&!this.__inHover&&le&&le.duration>0,le);var _e=this._textContent,Ce=this._textGuide;return _e&&_e.useState(n,g,y,he),Ce&&Ce.useState(n,g,y,he),L?(this.currentStates=[],this._normalState={}):g?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!he&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),ue}}},r.prototype.useStates=function(n,g,y){if(!n.length)this.clearStates();else{var $=[],L=this.currentStates,re=n.length,ae=re===L.length;if(ae){for(var le=0;le<re;le++)if(n[le]!==L[le]){ae=!1;break}}if(ae)return;for(var le=0;le<re;le++){var ue=n[le],he=void 0;this.stateProxy&&(he=this.stateProxy(ue,n)),he||(he=this.states[ue]),he&&$.push(he)}var _e=$[re-1],Ce=!!(_e&&_e.hoverLayer||y);Ce&&this._toggleHoverLayerFlag(!0);var $e=this._mergeStates($),Oe=this.stateTransition;this.saveCurrentToNormalState($e),this._applyStateObj(n.join(","),$e,this._normalState,!1,!g&&!this.__inHover&&Oe&&Oe.duration>0,Oe);var xe=this._textContent,Ne=this._textGuide;xe&&xe.useStates(n,g,Ce),Ne&&Ne.useStates(n,g,Ce),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!Ce&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},r.prototype.isSilent=function(){for(var n=this.silent,g=this.parent;!n&&g;){if(g.silent){n=!0;break}g=g.parent}return n},r.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var g=this.animators[n];g.targetName&&g.changeTarget(this[g.targetName])}},r.prototype.removeState=function(n){var g=indexOf(this.currentStates,n);if(g>=0){var y=this.currentStates.slice();y.splice(g,1),this.useStates(y)}},r.prototype.replaceState=function(n,g,y){var $=this.currentStates.slice(),L=indexOf($,n),re=indexOf($,g)>=0;L>=0?re?$.splice(L,1):$[L]=g:y&&!re&&$.push(g),this.useStates($)},r.prototype.toggleState=function(n,g){g?this.useState(n,!0):this.removeState(n)},r.prototype._mergeStates=function(n){for(var g={},y,$=0;$<n.length;$++){var L=n[$];extend(g,L),L.textConfig&&(y=y||{},extend(y,L.textConfig))}return y&&(g.textConfig=y),g},r.prototype._applyStateObj=function(n,g,y,$,L,re){var ae=!(g&&$);g&&g.textConfig?(this.textConfig=extend({},$?this.textConfig:y.textConfig),extend(this.textConfig,g.textConfig)):ae&&y.textConfig&&(this.textConfig=y.textConfig);for(var le={},ue=!1,he=0;he<PRIMARY_STATES_KEYS$1.length;he++){var _e=PRIMARY_STATES_KEYS$1[he],Ce=L&&DEFAULT_ANIMATABLE_MAP[_e];g&&g[_e]!=null?Ce?(ue=!0,le[_e]=g[_e]):this[_e]=g[_e]:ae&&y[_e]!=null&&(Ce?(ue=!0,le[_e]=y[_e]):this[_e]=y[_e])}if(!L)for(var he=0;he<this.animators.length;he++){var $e=this.animators[he],Oe=$e.targetName;$e.getLoop()||$e.__changeFinalValue(Oe?(g||y)[Oe]:g||y)}ue&&this._transitionState(n,le,re)},r.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var g=this.__zr;g&&n.addSelfToZr(g),n.__zr=g,n.__hostTarget=this}},r.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},r.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(n){var g=this._textContent;g!==n&&(g&&g!==n&&this.removeTextContent(),n.innerTransformable=new Transformable,this._attachComponent(n),this._textContent=n,this.markRedraw())},r.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var g=this._textContent,y=this._textGuide;g&&(g.__inHover=n),y&&(y.__inHover=n)},r.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var g=this.animators;if(g)for(var y=0;y<g.length;y++)n.animation.addAnimator(g[y]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var g=this.animators;if(g)for(var y=0;y<g.length;y++)n.animation.removeAnimator(g[y]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},r.prototype.animate=function(n,g,y){var $=n?this[n]:this,L=new Animator($,g,y);return n&&(L.targetName=n),this.addAnimator(L,n),L},r.prototype.addAnimator=function(n,g){var y=this.__zr,$=this;n.during(function(){$.updateDuringAnimation(g)}).done(function(){var L=$.animators,re=indexOf(L,n);re>=0&&L.splice(re,1)}),this.animators.push(n),y&&y.animation.addAnimator(n),y&&y.wakeUp()},r.prototype.updateDuringAnimation=function(n){this.markRedraw()},r.prototype.stopAnimation=function(n,g){for(var y=this.animators,$=y.length,L=[],re=0;re<$;re++){var ae=y[re];!n||n===ae.scope?ae.stop(g):L.push(ae)}return this.animators=L,this},r.prototype.animateTo=function(n,g,y){animateTo(this,n,g,y)},r.prototype.animateFrom=function(n,g,y){animateTo(this,n,g,y,!0)},r.prototype._transitionState=function(n,g,y,$){for(var L=animateTo(this,g,y,$),re=0;re<L.length;re++)L[re].__fromStateTransition=n},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var n=r.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;function g(y,$,L,re){Object.defineProperty(n,y,{get:function(){if(!this[$]){var le=this[$]=[];ae(this,le)}return this[$]},set:function(le){this[L]=le[0],this[re]=le[1],this[$]=le,ae(this,le)}});function ae(le,ue){Object.defineProperty(ue,0,{get:function(){return le[L]},set:function(he){le[L]=he}}),Object.defineProperty(ue,1,{get:function(){return le[re]},set:function(he){le[re]=he}})}}Object.defineProperty&&(g("position","_legacyPos","x","y"),g("scale","_legacyScale","scaleX","scaleY"),g("origin","_legacyOrigin","originX","originY"))}(),r}();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(r,n,g,y,$){g=g||{};var L=[];animateToShallow(r,"",r,n,g,y,L,$);var re=L.length,ae=!1,le=g.done,ue=g.aborted,he=function(){ae=!0,re--,re<=0&&(ae?le&&le():ue&&ue())},_e=function(){re--,re<=0&&(ae?le&&le():ue&&ue())};re||le&&le(),L.length>0&&g.during&&L[0].during(function(Oe,xe){g.during(xe)});for(var Ce=0;Ce<L.length;Ce++){var $e=L[Ce];$e.done(he),$e.aborted(_e),g.force&&$e.duration(g.duration),$e.start(g.easing)}return L}function copyArrShallow(r,n,g){for(var y=0;y<g;y++)r[y]=n[y]}function is2DArray(r){return isArrayLike(r[0])}function copyValue(r,n,g){if(isArrayLike(n[g]))if(isArrayLike(r[g])||(r[g]=[]),isTypedArray(n[g])){var y=n[g].length;r[g].length!==y&&(r[g]=new n[g].constructor(y),copyArrShallow(r[g],n[g],y))}else{var $=n[g],L=r[g],re=$.length;if(is2DArray($))for(var ae=$[0].length,le=0;le<re;le++)L[le]?copyArrShallow(L[le],$[le],ae):L[le]=Array.prototype.slice.call($[le]);else copyArrShallow(L,$,re);L.length=$.length}else r[g]=n[g]}function isValueSame(r,n){return r===n||isArrayLike(r)&&isArrayLike(n)&&is1DArraySame(r,n)}function is1DArraySame(r,n){var g=r.length;if(g!==n.length)return!1;for(var y=0;y<g;y++)if(r[y]!==n[y])return!1;return!0}function animateToShallow(r,n,g,y,$,L,re,ae){for(var le=keys$1(y),ue=$.duration,he=$.delay,_e=$.additive,Ce=$.setToFinal,$e=!isObject$3(L),Oe=r.animators,xe=[],Ne=0;Ne<le.length;Ne++){var Ie=le[Ne],Fe=y[Ie];if(Fe!=null&&g[Ie]!=null&&($e||L[Ie]))if(isObject$3(Fe)&&!isArrayLike(Fe)&&!isGradientObject(Fe)){if(n){ae||(g[Ie]=Fe,r.updateDuringAnimation(n));continue}animateToShallow(r,Ie,g[Ie],Fe,$,L&&L[Ie],re,ae)}else xe.push(Ie);else ae||(g[Ie]=Fe,r.updateDuringAnimation(n),xe.push(Ie))}var Ve=xe.length;if(!_e&&Ve)for(var ze=0;ze<Oe.length;ze++){var Ue=Oe[ze];if(Ue.targetName===n){var qe=Ue.stopTracks(xe);if(qe){var kt=indexOf(Oe,Ue);Oe.splice(kt,1)}}}if($.force||(xe=filter(xe,function(Dt){return!isValueSame(y[Dt],g[Dt])}),Ve=xe.length),Ve>0||$.force&&!re.length){var Et=void 0,Pt=void 0,At=void 0;if(ae){Pt={},Ce&&(Et={});for(var ze=0;ze<Ve;ze++){var Ie=xe[ze];Pt[Ie]=g[Ie],Ce?Et[Ie]=y[Ie]:g[Ie]=y[Ie]}}else if(Ce){At={};for(var ze=0;ze<Ve;ze++){var Ie=xe[ze];At[Ie]=cloneValue(g[Ie]),copyValue(g,y,Ie)}}var Ue=new Animator(g,!1,!1,_e?filter(Oe,function(Lt){return Lt.targetName===n}):null);Ue.targetName=n,$.scope&&(Ue.scope=$.scope),Ce&&Et&&Ue.whenWithKeys(0,Et,xe),At&&Ue.whenWithKeys(0,At,xe),Ue.whenWithKeys(ue??500,ae?Pt:y,xe).delay(he||0),r.addAnimator(Ue,n),re.push(Ue)}}var Group$3=function(r){__extends(n,r);function n(g){var y=r.call(this)||this;return y.isGroup=!0,y._children=[],y.attr(g),y}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(g){return this._children[g]},n.prototype.childOfName=function(g){for(var y=this._children,$=0;$<y.length;$++)if(y[$].name===g)return y[$]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(g){return g&&g!==this&&g.parent!==this&&(this._children.push(g),this._doAdd(g)),this},n.prototype.addBefore=function(g,y){if(g&&g!==this&&g.parent!==this&&y&&y.parent===this){var $=this._children,L=$.indexOf(y);L>=0&&($.splice(L,0,g),this._doAdd(g))}return this},n.prototype.replace=function(g,y){var $=indexOf(this._children,g);return $>=0&&this.replaceAt(y,$),this},n.prototype.replaceAt=function(g,y){var $=this._children,L=$[y];if(g&&g!==this&&g.parent!==this&&g!==L){$[y]=g,L.parent=null;var re=this.__zr;re&&L.removeSelfFromZr(re),this._doAdd(g)}return this},n.prototype._doAdd=function(g){g.parent&&g.parent.remove(g),g.parent=this;var y=this.__zr;y&&y!==g.__zr&&g.addSelfToZr(y),y&&y.refresh()},n.prototype.remove=function(g){var y=this.__zr,$=this._children,L=indexOf($,g);return L<0?this:($.splice(L,1),g.parent=null,y&&g.removeSelfFromZr(y),y&&y.refresh(),this)},n.prototype.removeAll=function(){for(var g=this._children,y=this.__zr,$=0;$<g.length;$++){var L=g[$];y&&L.removeSelfFromZr(y),L.parent=null}return g.length=0,this},n.prototype.eachChild=function(g,y){for(var $=this._children,L=0;L<$.length;L++){var re=$[L];g.call(y,re,L)}return this},n.prototype.traverse=function(g,y){for(var $=0;$<this._children.length;$++){var L=this._children[$],re=g.call(y,L);L.isGroup&&!re&&L.traverse(g,y)}return this},n.prototype.addSelfToZr=function(g){r.prototype.addSelfToZr.call(this,g);for(var y=0;y<this._children.length;y++){var $=this._children[y];$.addSelfToZr(g)}},n.prototype.removeSelfFromZr=function(g){r.prototype.removeSelfFromZr.call(this,g);for(var y=0;y<this._children.length;y++){var $=this._children[y];$.removeSelfFromZr(g)}},n.prototype.getBoundingRect=function(g){for(var y=new BoundingRect(0,0,0,0),$=g||this._children,L=[],re=null,ae=0;ae<$.length;ae++){var le=$[ae];if(!(le.ignore||le.invisible)){var ue=le.getBoundingRect(),he=le.getLocalTransform(L);he?(BoundingRect.applyTransform(y,ue,he),re=re||y.clone(),re.union(y)):(re=re||ue.clone(),re.union(ue))}}return re||y},n}(Element$1);Group$3.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(r){delete instances$1[r]}function isDarkMode(r){if(!r)return!1;if(typeof r=="string")return lum(r,1)<DARK_MODE_THRESHOLD;if(r.colorStops){for(var n=r.colorStops,g=0,y=n.length,$=0;$<y;$++)g+=lum(n[$].color,1);return g/=y,g<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function r(n,g,y){var $=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,y=y||{},this.dom=g,this.id=n;var L=new Storage,re=y.renderer||"canvas";painterCtors[re]||(re=keys$1(painterCtors)[0]),y.useDirtyRect=y.useDirtyRect==null?!1:y.useDirtyRect;var ae=new painterCtors[re](g,L,y,n),le=y.ssr||ae.ssrOnly;this.storage=L,this.painter=ae;var ue=!env.node&&!env.worker&&!le?new HandlerDomProxy(ae.getViewportRoot(),ae.root):null,he=y.useCoarsePointer,_e=he==null||he==="auto"?env.touchEventsSupported:!!he,Ce=44,$e;_e&&($e=retrieve2(y.pointerSize,Ce)),this.handler=new Handler(L,ae,ue,ae.root,$e),this.animation=new Animation({stage:{update:le?null:function(){return $._flush(!0)}}}),le||this.animation.start()}return r.prototype.add=function(n){this._disposed||!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},r.prototype.remove=function(n){this._disposed||!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(n,g){this._disposed||(this.painter.configLayer&&this.painter.configLayer(n,g),this.refresh())},r.prototype.setBackgroundColor=function(n){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(n){this._darkMode=n},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(n){this._disposed||(n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(n){var g,y=getTime();this._needsRefresh&&(g=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(g=!0,this.refreshHoverImmediately());var $=getTime();g?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:$-y})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(n){this._disposed||(n=n||{},this.painter.resize(n.width,n.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(n){this._disposed||this.handler.setCursorStyle(n)},r.prototype.findHover=function(n,g){if(!this._disposed)return this.handler.findHover(n,g)},r.prototype.on=function(n,g,y){return this._disposed||this.handler.on(n,g,y),this},r.prototype.off=function(n,g){this._disposed||this.handler.off(n,g)},r.prototype.trigger=function(n,g){this._disposed||this.handler.trigger(n,g)},r.prototype.clear=function(){if(!this._disposed){for(var n=this.storage.getRoots(),g=0;g<n.length;g++)n[g]instanceof Group$3&&n[g].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},r}();function init$2(r,n){var g=new ZRender(guid(),r,n);return instances$1[g.id]=g,g}function dispose$1(r){r.dispose()}function disposeAll(){for(var r in instances$1)instances$1.hasOwnProperty(r)&&instances$1[r].dispose();instances$1={}}function getInstance(r){return instances$1[r]}function registerPainter(r,n){painterCtors[r]=n}var ssrDataGetter;function getElementSSRData(r){if(typeof ssrDataGetter=="function")return ssrDataGetter(r)}function registerSSRDataGetter(r){ssrDataGetter=r}var version$1="5.6.1";const zrender=Object.freeze(Object.defineProperty({__proto__:null,dispose:dispose$1,disposeAll,getElementSSRData,getInstance,init:init$2,registerPainter,registerSSRDataGetter,version:version$1},Symbol.toStringTag,{value:"Module"}));var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(r){return r.replace(/^\s+|\s+$/g,"")}function linearMap$2(r,n,g,y){var $=n[0],L=n[1],re=g[0],ae=g[1],le=L-$,ue=ae-re;if(le===0)return ue===0?re:(re+ae)/2;if(y)if(le>0){if(r<=$)return re;if(r>=L)return ae}else{if(r>=$)return re;if(r<=L)return ae}else{if(r===$)return re;if(r===L)return ae}return(r-$)/le*ue+re}function parsePercent(r,n){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return isString(r)?_trim(r).match(/%$/)?parseFloat(r)/100*n:parseFloat(r):r==null?NaN:+r}function round$4(r,n,g){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),r=(+r).toFixed(n),g?r:+r}function asc$2(r){return r.sort(function(n,g){return n-g}),r}function getPrecision(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var n=1,g=0;g<15;g++,n*=10)if(Math.round(r*n)/n===r)return g}return getPrecisionSafe(r)}function getPrecisionSafe(r){var n=r.toString().toLowerCase(),g=n.indexOf("e"),y=g>0?+n.slice(g+1):0,$=g>0?g:n.length,L=n.indexOf("."),re=L<0?0:$-1-L;return Math.max(0,re-y)}function getPixelPrecision(r,n){var g=Math.log,y=Math.LN10,$=Math.floor(g(r[1]-r[0])/y),L=Math.round(g(Math.abs(n[1]-n[0]))/y),re=Math.min(Math.max(-$+L,0),20);return isFinite(re)?re:20}function getPercentWithPrecision(r,n,g){if(!r[n])return 0;var y=getPercentSeats(r,g);return y[n]||0}function getPercentSeats(r,n){var g=reduce(r,function($e,Oe){return $e+(isNaN(Oe)?0:Oe)},0);if(g===0)return[];for(var y=Math.pow(10,n),$=map$1(r,function($e){return(isNaN($e)?0:$e)/g*y*100}),L=y*100,re=map$1($,function($e){return Math.floor($e)}),ae=reduce(re,function($e,Oe){return $e+Oe},0),le=map$1($,function($e,Oe){return $e-re[Oe]});ae<L;){for(var ue=Number.NEGATIVE_INFINITY,he=null,_e=0,Ce=le.length;_e<Ce;++_e)le[_e]>ue&&(ue=le[_e],he=_e);++re[he],le[he]=0,++ae}return map$1(re,function($e){return $e/y})}function addSafe(r,n){var g=Math.max(getPrecision(r),getPrecision(n)),y=r+n;return g>ROUND_SUPPORTED_PRECISION_MAX?y:round$4(y,g)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(r){var n=Math.PI*2;return(r%n+n)%n}function isRadianAroundZero(r){return r>-1e-4&&r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(r){if(r instanceof Date)return r;if(isString(r)){var n=TIME_REG.exec(r);if(!n)return new Date(NaN);if(n[8]){var g=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(g-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,g,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function quantity(r){return Math.pow(10,quantityExponent(r))}function quantityExponent(r){if(r===0)return 0;var n=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,n)>=10&&n++,n}function nice(r,n){var g=quantityExponent(r),y=Math.pow(10,g),$=r/y,L;return n?$<1.5?L=1:$<2.5?L=2:$<4?L=3:$<7?L=5:L=10:$<1?L=1:$<2?L=2:$<3?L=3:$<5?L=5:L=10,r=L*y,g>=-20?+r.toFixed(g<0?-g:0):r}function quantile(r,n){var g=(r.length-1)*n+1,y=Math.floor(g),$=+r[y-1],L=g-y;return L?$+L*(r[y]-$):$}function reformIntervals(r){r.sort(function(le,ue){return ae(le,ue,0)?-1:1});for(var n=-1/0,g=1,y=0;y<r.length;){for(var $=r[y].interval,L=r[y].close,re=0;re<2;re++)$[re]<=n&&($[re]=n,L[re]=re?1:1-g),n=$[re],g=L[re];$[0]===$[1]&&L[0]*L[1]!==1?r.splice(y,1):y++}return r;function ae(le,ue,he){return le.interval[he]<ue.interval[he]||le.interval[he]===ue.interval[he]&&(le.close[he]-ue.close[he]===(he?-1:1)||!he&&ae(le,ue,1))}}function numericToNumber(r){var n=parseFloat(r);return n==r&&(n!==0||!isString(r)||r.indexOf("x")<=0)?n:NaN}function isNumeric(r){return!isNaN(numericToNumber(r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(r,n){return n===0?r:getGreatestCommonDividor(n,r%n)}function getLeastCommonMultiple(r,n){return r==null?n:n==null?r:r*n/getGreatestCommonDividor(r,n)}function throwError(r){throw new Error(r)}function interpolateNumber(r,n,g){return(n-r)*g+r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray$1(r){return r instanceof Array?r:r==null?[]:[r]}function defaultEmphasis(r,n,g){if(r){r[n]=r[n]||{},r.emphasis=r.emphasis||{},r.emphasis[n]=r.emphasis[n]||{};for(var y=0,$=g.length;y<$;y++){var L=g[y];!r.emphasis[n].hasOwnProperty(L)&&r[n].hasOwnProperty(L)&&(r.emphasis[n][L]=r[n][L])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(r){return isObject$3(r)&&!isArray$2(r)&&!(r instanceof Date)?r.value:r}function isDataItemOption(r){return isObject$3(r)&&!(r instanceof Array)}function mappingToExists(r,n,g){var y=g==="normalMerge",$=g==="replaceMerge",L=g==="replaceAll";r=r||[],n=(n||[]).slice();var re=createHashMap();each$f(n,function(le,ue){if(!isObject$3(le)){n[ue]=null;return}});var ae=prepareResult(r,re,g);return(y||$)&&mappingById(ae,r,re,n),y&&mappingByName(ae,n),y||$?mappingByIndex(ae,n,$):L&&mappingInReplaceAllMode(ae,n),makeIdAndName(ae),ae}function prepareResult(r,n,g){var y=[];if(g==="replaceAll")return y;for(var $=0;$<r.length;$++){var L=r[$];L&&L.id!=null&&n.set(L.id,$),y.push({existing:g==="replaceMerge"||isComponentIdInternal(L)?null:L,newOption:null,keyInfo:null,brandNew:null})}return y}function mappingById(r,n,g,y){each$f(y,function($,L){if(!(!$||$.id==null)){var re=makeComparableKey($.id),ae=g.get(re);if(ae!=null){var le=r[ae];assert(!le.newOption,'Duplicated option on id "'+re+'".'),le.newOption=$,le.existing=n[ae],y[L]=null}}})}function mappingByName(r,n){each$f(n,function(g,y){if(!(!g||g.name==null))for(var $=0;$<r.length;$++){var L=r[$].existing;if(!r[$].newOption&&L&&(L.id==null||g.id==null)&&!isComponentIdInternal(g)&&!isComponentIdInternal(L)&&keyExistAndEqual("name",L,g)){r[$].newOption=g,n[y]=null;return}}})}function mappingByIndex(r,n,g){each$f(n,function(y){if(y){for(var $,L=0;($=r[L])&&($.newOption||isComponentIdInternal($.existing)||$.existing&&y.id!=null&&!keyExistAndEqual("id",y,$.existing));)L++;$?($.newOption=y,$.brandNew=g):r.push({newOption:y,brandNew:g,existing:null,keyInfo:null}),L++}})}function mappingInReplaceAllMode(r,n){each$f(n,function(g){r.push({newOption:g,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(r){var n=createHashMap();each$f(r,function(g){var y=g.existing;y&&n.set(y.id,g)}),each$f(r,function(g){var y=g.newOption;assert(!y||y.id==null||!n.get(y.id)||n.get(y.id)===g,"id duplicates: "+(y&&y.id)),y&&y.id!=null&&n.set(y.id,g),!g.keyInfo&&(g.keyInfo={})}),each$f(r,function(g,y){var $=g.existing,L=g.newOption,re=g.keyInfo;if(isObject$3(L)){if(re.name=L.name!=null?makeComparableKey(L.name):$?$.name:DUMMY_COMPONENT_NAME_PREFIX+y,$)re.id=makeComparableKey($.id);else if(L.id!=null)re.id=makeComparableKey(L.id);else{var ae=0;do re.id="\0"+re.name+"\0"+ae++;while(n.get(re.id))}n.set(re.id,g)}})}function keyExistAndEqual(r,n,g){var y=convertOptionIdName(n[r],null),$=convertOptionIdName(g[r],null);return y!=null&&$!=null&&y===$}function makeComparableKey(r){return convertOptionIdName(r,"")}function convertOptionIdName(r,n){return r==null?n:isString(r)?r:isNumber$1(r)||isStringSafe(r)?r+"":n}function isNameSpecified(r){var n=r.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(r){return r&&r.id!=null&&makeComparableKey(r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(r){return INTERNAL_COMPONENT_ID_PREFIX+r}function setComponentTypeToKeyInfo(r,n,g){each$f(r,function(y){var $=y.newOption;isObject$3($)&&(y.keyInfo.mainType=n,y.keyInfo.subType=determineSubType(n,$,y.existing,g))})}function determineSubType(r,n,g,y){var $=n.type?n.type:g?g.subType:y.determineSubType(r,n);return $}function compressBatches(r,n){var g={},y={};return $(r||[],g),$(n||[],y,g),[L(g),L(y)];function $(re,ae,le){for(var ue=0,he=re.length;ue<he;ue++){var _e=convertOptionIdName(re[ue].seriesId,null);if(_e==null)return;for(var Ce=normalizeToArray$1(re[ue].dataIndex),$e=le&&le[_e],Oe=0,xe=Ce.length;Oe<xe;Oe++){var Ne=Ce[Oe];$e&&$e[Ne]?$e[Ne]=null:(ae[_e]||(ae[_e]={}))[Ne]=1}}}function L(re,ae){var le=[];for(var ue in re)if(re.hasOwnProperty(ue)&&re[ue]!=null)if(ae)le.push(+ue);else{var he=L(re[ue],!0);he.length&&le.push({seriesId:ue,dataIndex:he})}return le}}function queryDataIndex(r,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$2(n.dataIndex)?map$1(n.dataIndex,function(g){return r.indexOfRawIndex(g)}):r.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$2(n.name)?map$1(n.name,function(g){return r.indexOfName(g)}):r.indexOfName(n.name)}function makeInner(){var r="__ec_inner_"+innerUniqueIndex++;return function(n){return n[r]||(n[r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(r,n,g){var y=preParseFinder(n,g),$=y.mainTypeSpecified,L=y.queryOptionMap,re=y.others,ae=re,le=g?g.defaultMainType:null;return!$&&le&&L.set(le,{}),L.each(function(ue,he){var _e=queryReferringComponents(r,he,ue,{useDefault:le===he,enableAll:g&&g.enableAll!=null?g.enableAll:!0,enableNone:g&&g.enableNone!=null?g.enableNone:!0});ae[he+"Models"]=_e.models,ae[he+"Model"]=_e.models[0]}),ae}function preParseFinder(r,n){var g;if(isString(r)){var y={};y[r+"Index"]=0,g=y}else g=r;var $=createHashMap(),L={},re=!1;return each$f(g,function(ae,le){if(le==="dataIndex"||le==="dataIndexInside"){L[le]=ae;return}var ue=le.match(/^(\w+)(Index|Id|Name)$/)||[],he=ue[1],_e=(ue[2]||"").toLowerCase();if(!(!he||!_e||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,he)<0)){re=re||!!he;var Ce=$.get(he)||$.set(he,{});Ce[_e]=ae}}),{mainTypeSpecified:re,queryOptionMap:$,others:L}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(r,n,g,y){y=y||SINGLE_REFERRING;var $=g.index,L=g.id,re=g.name,ae={models:null,specified:$!=null||L!=null||re!=null};if(!ae.specified){var le=void 0;return ae.models=y.useDefault&&(le=r.getComponent(n))?[le]:[],ae}return $==="none"||$===!1?(assert(y.enableNone,'`"none"` or `false` is not a valid value on index option.'),ae.models=[],ae):($==="all"&&(assert(y.enableAll,'`"all"` is not a valid value on index option.'),$=L=re=null),ae.models=r.queryComponents({mainType:n,index:$,id:L,name:re}),ae)}function setAttribute(r,n,g){r.setAttribute?r.setAttribute(n,g):r[n]=g}function getAttribute(r,n){return r.getAttribute?r.getAttribute(n):r[n]}function getTooltipRenderMode(r){return r==="auto"?env.domSupported?"html":"richText":r||"html"}function groupData(r,n){var g=createHashMap(),y=[];return each$f(r,function($){var L=n($);(g.get(L)||(y.push(L),g.set(L,[]))).push($)}),{keys:y,buckets:g}}function interpolateRawValues(r,n,g,y,$){var L=n==null||n==="auto";if(y==null)return y;if(isNumber$1(y)){var re=interpolateNumber(g||0,y,$);return round$4(re,L?Math.max(getPrecision(g||0),getPrecision(y)):n)}else{if(isString(y))return $<1?g:y;for(var ae=[],le=g,ue=y,he=Math.max(le?le.length:0,ue.length),_e=0;_e<he;++_e){var Ce=r.getDimensionInfo(_e);if(Ce&&Ce.type==="ordinal")ae[_e]=($<1&&le?le:ue)[_e];else{var $e=le&&le[_e]?le[_e]:0,Oe=ue[_e],re=interpolateNumber($e,Oe,$);ae[_e]=round$4(re,L?Math.max(getPrecision($e),getPrecision(Oe)):n)}}return ae}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(r){var n={main:"",sub:""};if(r){var g=r.split(TYPE_DELIMITER);n.main=g[0]||"",n.sub=g[1]||""}return n}function checkClassType(r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function isExtendedClass(r){return!!(r&&r[IS_EXTENDED_CLASS])}function enableClassExtend(r,n){r.$constructor=r,r.extend=function(g){var y=this,$;return isESClass(y)?$=function(L){__extends$1(re,L);function re(){return L.apply(this,arguments)||this}return re}(y):($=function(){(g.$constructor||y).apply(this,arguments)},inherits($,this)),extend($.prototype,g),$[IS_EXTENDED_CLASS]=!0,$.extend=this.extend,$.superCall=superCall,$.superApply=superApply,$.superClass=y,$}}function isESClass(r){return isFunction(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function mountExtend(r,n){r.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(r){var n=["__\0is_clz",classBase++].join("_");r.prototype[n]=!0,r.isInstance=function(g){return!!(g&&g[n])}}function superCall(r,n){for(var g=[],y=2;y<arguments.length;y++)g[y-2]=arguments[y];return this.superClass.prototype[n].apply(r,g)}function superApply(r,n,g){return this.superClass.prototype[n].apply(r,g)}function enableClassManagement(r){var n={};r.registerClass=function(y){var $=y.type||y.prototype.type;if($){checkClassType($),y.prototype.type=$;var L=parseClassType($);if(!L.sub)n[L.main]=y;else if(L.sub!==IS_CONTAINER){var re=g(L);re[L.sub]=y}}return y},r.getClass=function(y,$,L){var re=n[y];if(re&&re[IS_CONTAINER]&&(re=$?re[$]:null),L&&!re)throw new Error($?"Component "+y+"."+($||"")+" is used but not imported.":y+".type should be specified.");return re},r.getClassesByMainType=function(y){var $=parseClassType(y),L=[],re=n[$.main];return re&&re[IS_CONTAINER]?each$f(re,function(ae,le){le!==IS_CONTAINER&&L.push(ae)}):L.push(re),L},r.hasClass=function(y){var $=parseClassType(y);return!!n[$.main]},r.getAllClassMainTypes=function(){var y=[];return each$f(n,function($,L){y.push(L)}),y},r.hasSubTypes=function(y){var $=parseClassType(y),L=n[$.main];return L&&L[IS_CONTAINER]};function g(y){var $=n[y.main];return(!$||!$[IS_CONTAINER])&&($=n[y.main]={},$[IS_CONTAINER]=!0),$}}function makeStyleMapper(r,n){for(var g=0;g<r.length;g++)r[g][1]||(r[g][1]=r[g][0]);return n=n||!1,function(y,$,L){for(var re={},ae=0;ae<r.length;ae++){var le=r[ae][1];if(!($&&indexOf($,le)>=0||L&&indexOf(L,le)<0)){var ue=y.getShallow(le,n);ue!=null&&(re[r[ae][0]]=ue)}}return re}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function r(){}return r.prototype.getAreaStyle=function(n,g){return getAreaStyle(this,n,g)},r}(),globalImageCache=new LRU(50);function findExistImage(r){if(typeof r=="string"){var n=globalImageCache.get(r);return n&&n.image}else return r}function createOrUpdateImage(r,n,g,y,$){if(r)if(typeof r=="string"){if(n&&n.__zrImageSrc===r||!g)return n;var L=globalImageCache.get(r),re={hostEl:g,cb:y,cbPayload:$};return L?(n=L.image,!isImageReady(n)&&L.pending.push(re)):(n=platformApi.loadImage(r,imageOnLoad,imageOnLoad),n.__zrImageSrc=r,globalImageCache.put(r,n.__cachedImgObj={image:n,pending:[re]})),n}else return r;else return n}function imageOnLoad(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<r.pending.length;n++){var g=r.pending[n],y=g.cb;y&&y(this,g.cbPayload),g.hostEl.dirty()}r.pending.length=0}function isImageReady(r){return r&&r.width&&r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(r,n,g,y,$){var L={};return truncateText2(L,r,n,g,y,$),L.text}function truncateText2(r,n,g,y,$,L){if(!g){r.text="",r.isTruncated=!1;return}var re=(n+"").split(`
`);L=prepareTruncateOptions(g,y,$,L);for(var ae=!1,le={},ue=0,he=re.length;ue<he;ue++)truncateSingleLine(le,re[ue],L),re[ue]=le.textLine,ae=ae||le.isTruncated;r.text=re.join(`
`),r.isTruncated=ae}function prepareTruncateOptions(r,n,g,y){y=y||{};var $=extend({},y);$.font=n,g=retrieve2(g,"..."),$.maxIterations=retrieve2(y.maxIterations,2);var L=$.minChar=retrieve2(y.minChar,0);$.cnCharWidth=getWidth("",n);var re=$.ascCharWidth=getWidth("a",n);$.placeholder=retrieve2(y.placeholder,"");for(var ae=r=Math.max(0,r-1),le=0;le<L&&ae>=re;le++)ae-=re;var ue=getWidth(g,n);return ue>ae&&(g="",ue=0),ae=r-ue,$.ellipsis=g,$.ellipsisWidth=ue,$.contentWidth=ae,$.containerWidth=r,$}function truncateSingleLine(r,n,g){var y=g.containerWidth,$=g.font,L=g.contentWidth;if(!y){r.textLine="",r.isTruncated=!1;return}var re=getWidth(n,$);if(re<=y){r.textLine=n,r.isTruncated=!1;return}for(var ae=0;;ae++){if(re<=L||ae>=g.maxIterations){n+=g.ellipsis;break}var le=ae===0?estimateLength(n,L,g.ascCharWidth,g.cnCharWidth):re>0?Math.floor(n.length*L/re):0;n=n.substr(0,le),re=getWidth(n,$)}n===""&&(n=g.placeholder),r.textLine=n,r.isTruncated=!0}function estimateLength(r,n,g,y){for(var $=0,L=0,re=r.length;L<re&&$<n;L++){var ae=r.charCodeAt(L);$+=0<=ae&&ae<=127?g:y}return L}function parsePlainText(r,n){r!=null&&(r+="");var g=n.overflow,y=n.padding,$=n.font,L=g==="truncate",re=getLineHeight($),ae=retrieve2(n.lineHeight,re),le=!!n.backgroundColor,ue=n.lineOverflow==="truncate",he=!1,_e=n.width,Ce;_e!=null&&(g==="break"||g==="breakAll")?Ce=r?wrapText(r,n.font,_e,g==="breakAll",0).lines:[]:Ce=r?r.split(`
`):[];var $e=Ce.length*ae,Oe=retrieve2(n.height,$e);if($e>Oe&&ue){var xe=Math.floor(Oe/ae);he=he||Ce.length>xe,Ce=Ce.slice(0,xe)}if(r&&L&&_e!=null)for(var Ne=prepareTruncateOptions(_e,$,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),Ie={},Fe=0;Fe<Ce.length;Fe++)truncateSingleLine(Ie,Ce[Fe],Ne),Ce[Fe]=Ie.textLine,he=he||Ie.isTruncated;for(var Ve=Oe,ze=0,Fe=0;Fe<Ce.length;Fe++)ze=Math.max(getWidth(Ce[Fe],$),ze);_e==null&&(_e=ze);var Ue=ze;return y&&(Ve+=y[0]+y[2],Ue+=y[1]+y[3],_e+=y[1]+y[3]),le&&(Ue=_e),{lines:Ce,height:Oe,outerWidth:Ue,outerHeight:Ve,lineHeight:ae,calculatedLineHeight:re,contentWidth:ze,contentHeight:$e,width:_e,isTruncated:he}}var RichTextToken=function(){function r(){}return r}(),RichTextLine=function(){function r(n){this.tokens=[],n&&(this.tokens=n)}return r}(),RichTextContentBlock=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r}();function parseRichText(r,n){var g=new RichTextContentBlock;if(r!=null&&(r+=""),!r)return g;for(var y=n.width,$=n.height,L=n.overflow,re=(L==="break"||L==="breakAll")&&y!=null?{width:y,accumWidth:0,breakAll:L==="breakAll"}:null,ae=STYLE_REG.lastIndex=0,le;(le=STYLE_REG.exec(r))!=null;){var ue=le.index;ue>ae&&pushTokens(g,r.substring(ae,ue),n,re),pushTokens(g,le[2],n,re,le[1]),ae=STYLE_REG.lastIndex}ae<r.length&&pushTokens(g,r.substring(ae,r.length),n,re);var he=[],_e=0,Ce=0,$e=n.padding,Oe=L==="truncate",xe=n.lineOverflow==="truncate",Ne={};function Ie(wn,On,Tn){wn.width=On,wn.lineHeight=Tn,_e+=Tn,Ce=Math.max(Ce,On)}e:for(var Fe=0;Fe<g.lines.length;Fe++){for(var Ve=g.lines[Fe],ze=0,Ue=0,qe=0;qe<Ve.tokens.length;qe++){var kt=Ve.tokens[qe],Et=kt.styleName&&n.rich[kt.styleName]||{},Pt=kt.textPadding=Et.padding,At=Pt?Pt[1]+Pt[3]:0,Dt=kt.font=Et.font||n.font;kt.contentHeight=getLineHeight(Dt);var Lt=retrieve2(Et.height,kt.contentHeight);if(kt.innerHeight=Lt,Pt&&(Lt+=Pt[0]+Pt[2]),kt.height=Lt,kt.lineHeight=retrieve3(Et.lineHeight,n.lineHeight,Lt),kt.align=Et&&Et.align||n.align,kt.verticalAlign=Et&&Et.verticalAlign||"middle",xe&&$!=null&&_e+kt.lineHeight>$){var hn=g.lines.length;qe>0?(Ve.tokens=Ve.tokens.slice(0,qe),Ie(Ve,Ue,ze),g.lines=g.lines.slice(0,Fe+1)):g.lines=g.lines.slice(0,Fe),g.isTruncated=g.isTruncated||g.lines.length<hn;break e}var _n=Et.width,vn=_n==null||_n==="auto";if(typeof _n=="string"&&_n.charAt(_n.length-1)==="%")kt.percentWidth=_n,he.push(kt),kt.contentWidth=getWidth(kt.text,Dt);else{if(vn){var jt=Et.backgroundColor,$n=jt&&jt.image;$n&&($n=findExistImage($n),isImageReady($n)&&(kt.width=Math.max(kt.width,$n.width*Lt/$n.height)))}var Sn=Oe&&y!=null?y-Ue:null;Sn!=null&&Sn<kt.width?!vn||Sn<At?(kt.text="",kt.width=kt.contentWidth=0):(truncateText2(Ne,kt.text,Sn-At,Dt,n.ellipsis,{minChar:n.truncateMinChar}),kt.text=Ne.text,g.isTruncated=g.isTruncated||Ne.isTruncated,kt.width=kt.contentWidth=getWidth(kt.text,Dt)):kt.contentWidth=getWidth(kt.text,Dt)}kt.width+=At,Ue+=kt.width,Et&&(ze=Math.max(ze,kt.lineHeight))}Ie(Ve,Ue,ze)}g.outerWidth=g.width=retrieve2(y,Ce),g.outerHeight=g.height=retrieve2($,_e),g.contentHeight=_e,g.contentWidth=Ce,$e&&(g.outerWidth+=$e[1]+$e[3],g.outerHeight+=$e[0]+$e[2]);for(var Fe=0;Fe<he.length;Fe++){var kt=he[Fe],bn=kt.percentWidth;kt.width=parseInt(bn,10)/100*g.width}return g}function pushTokens(r,n,g,y,$){var L=n==="",re=$&&g.rich[$]||{},ae=r.lines,le=re.font||g.font,ue=!1,he,_e;if(y){var Ce=re.padding,$e=Ce?Ce[1]+Ce[3]:0;if(re.width!=null&&re.width!=="auto"){var Oe=parsePercent$1(re.width,y.width)+$e;ae.length>0&&Oe+y.accumWidth>y.width&&(he=n.split(`
`),ue=!0),y.accumWidth=Oe}else{var xe=wrapText(n,le,y.width,y.breakAll,y.accumWidth);y.accumWidth=xe.accumWidth+$e,_e=xe.linesWidths,he=xe.lines}}else he=n.split(`
`);for(var Ne=0;Ne<he.length;Ne++){var Ie=he[Ne],Fe=new RichTextToken;if(Fe.styleName=$,Fe.text=Ie,Fe.isLineHolder=!Ie&&!L,typeof re.width=="number"?Fe.width=re.width:Fe.width=_e?_e[Ne]:getWidth(Ie,le),!Ne&&!ue){var Ve=(ae[ae.length-1]||(ae[0]=new RichTextLine)).tokens,ze=Ve.length;ze===1&&Ve[0].isLineHolder?Ve[0]=Fe:(Ie||!ze||L)&&Ve.push(Fe)}else ae.push(new RichTextLine([Fe]))}}function isAlphabeticLetter(r){var n=r.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(r,n){return r[n]=!0,r},{});function isWordBreakChar(r){return isAlphabeticLetter(r)?!!breakCharMap[r]:!0}function wrapText(r,n,g,y,$){for(var L=[],re=[],ae="",le="",ue=0,he=0,_e=0;_e<r.length;_e++){var Ce=r.charAt(_e);if(Ce===`
`){le&&(ae+=le,he+=ue),L.push(ae),re.push(he),ae="",le="",ue=0,he=0;continue}var $e=getWidth(Ce,n),Oe=y?!1:!isWordBreakChar(Ce);if(L.length?he+$e>g:$+he+$e>g){he?(ae||le)&&(Oe?(ae||(ae=le,le="",ue=0,he=ue),L.push(ae),re.push(he-ue),le+=Ce,ue+=$e,ae="",he=ue):(le&&(ae+=le,le="",ue=0),L.push(ae),re.push(he),ae=Ce,he=$e)):Oe?(L.push(le),re.push(ue),le=Ce,ue=$e):(L.push(Ce),re.push($e));continue}he+=$e,Oe?(le+=Ce,ue+=$e):(le&&(ae+=le,le="",ue=0),ae+=Ce)}return!L.length&&!ae&&(ae=r,le="",ue=0),le&&(ae+=le),ae&&(L.push(ae),re.push(he)),L.length===1&&(he+=$),{accumWidth:he,lines:L,linesWidths:re}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype._init=function(g){for(var y=keys$1(g),$=0;$<y.length;$++){var L=y[$];L==="style"?this.useStyle(g[L]):r.prototype.attrKV.call(this,L,g[L])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(g,y,$,L){var re=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,g,y)||re&&!re[0]&&!re[3])return!1;if($&&this.__clipPaths){for(var ae=0;ae<this.__clipPaths.length;++ae)if(this.__clipPaths[ae].isZeroArea())return!1}if(L&&this.parent)for(var le=this.parent;le;){if(le.ignore)return!1;le=le.parent}return!0},n.prototype.contain=function(g,y){return this.rectContain(g,y)},n.prototype.traverse=function(g,y){g.call(y,this)},n.prototype.rectContain=function(g,y){var $=this.transformCoordToLocal(g,y),L=this.getBoundingRect();return L.contain($[0],$[1])},n.prototype.getPaintRect=function(){var g=this._paintRect;if(!this._paintRect||this.__dirty){var y=this.transform,$=this.getBoundingRect(),L=this.style,re=L.shadowBlur||0,ae=L.shadowOffsetX||0,le=L.shadowOffsetY||0;g=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),y?BoundingRect.applyTransform(g,$,y):g.copy($),(re||ae||le)&&(g.width+=re*2+Math.abs(ae),g.height+=re*2+Math.abs(le),g.x=Math.min(g.x,g.x+ae-re),g.y=Math.min(g.y,g.y+le-re));var ue=this.dirtyRectTolerance;g.isZero()||(g.x=Math.floor(g.x-ue),g.y=Math.floor(g.y-ue),g.width=Math.ceil(g.width+1+ue*2),g.height=Math.ceil(g.height+1+ue*2))}return g},n.prototype.setPrevPaintRect=function(g){g?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(g)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(g){return this.animate("style",g)},n.prototype.updateDuringAnimation=function(g){g==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(g,y){g!=="style"?r.prototype.attrKV.call(this,g,y):this.style?this.setStyle(y):this.useStyle(y)},n.prototype.setStyle=function(g,y){return typeof g=="string"?this.style[g]=y:extend(this.style,g),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(g){g||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=-3},n.prototype.createStyle=function(g){return createObject(DEFAULT_COMMON_STYLE,g)},n.prototype.useStyle=function(g){g[STYLE_MAGIC_KEY]||(g=this.createStyle(g)),this.__inHover?this.__hoverStyle=g:this.style=g,this.dirtyStyle()},n.prototype.isStyleObject=function(g){return g[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(g){r.prototype._innerSaveToNormal.call(this,g);var y=this._normalState;g.style&&!y.style&&(y.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(g,y,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(g,y,$,L,re,ae){r.prototype._applyStateObj.call(this,g,y,$,L,re,ae);var le=!(y&&L),ue;if(y&&y.style?re?L?ue=y.style:(ue=this._mergeStyle(this.createStyle(),$.style),this._mergeStyle(ue,y.style)):(ue=this._mergeStyle(this.createStyle(),L?this.style:$.style),this._mergeStyle(ue,y.style)):le&&(ue=$.style),ue)if(re){var he=this.style;if(this.style=this.createStyle(le?{}:he),le)for(var _e=keys$1(he),Ce=0;Ce<_e.length;Ce++){var $e=_e[Ce];$e in ue&&(ue[$e]=ue[$e],this.style[$e]=he[$e])}for(var Oe=keys$1(ue),Ce=0;Ce<Oe.length;Ce++){var $e=Oe[Ce];this.style[$e]=this.style[$e]}this._transitionState(g,{style:ue},ae,this.getAnimationStyleProps())}else this.useStyle(ue);for(var xe=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,Ce=0;Ce<xe.length;Ce++){var $e=xe[Ce];y&&y[$e]!=null?this[$e]=y[$e]:le&&$[$e]!=null&&(this[$e]=$[$e])}},n.prototype._mergeStates=function(g){for(var y=r.prototype._mergeStates.call(this,g),$,L=0;L<g.length;L++){var re=g[L];re.style&&($=$||{},this._mergeStyle($,re.style))}return $&&(y.style=$),y},n.prototype._mergeStyle=function(g,y){return extend(g,y),g},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var g=n.prototype;g.type="displayable",g.invisible=!1,g.z=0,g.z2=0,g.zlevel=0,g.culling=!1,g.cursor="pointer",g.rectHover=!1,g.incremental=!1,g._rect=null,g.dirtyRectTolerance=0,g.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(r,n,g){return tmpRect.copy(r.getBoundingRect()),r.transform&&tmpRect.applyTransform(r.transform),viewRect.width=n,viewRect.height=g,!tmpRect.intersect(viewRect)}var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start$1=create$2(),end$1=create$2(),extremity=create$2();function fromPoints(r,n,g){if(r.length!==0){for(var y=r[0],$=y[0],L=y[0],re=y[1],ae=y[1],le=1;le<r.length;le++)y=r[le],$=mathMin$9($,y[0]),L=mathMax$9(L,y[0]),re=mathMin$9(re,y[1]),ae=mathMax$9(ae,y[1]);n[0]=$,n[1]=re,g[0]=L,g[1]=ae}}function fromLine(r,n,g,y,$,L){$[0]=mathMin$9(r,g),$[1]=mathMin$9(n,y),L[0]=mathMax$9(r,g),L[1]=mathMax$9(n,y)}var xDim=[],yDim=[];function fromCubic(r,n,g,y,$,L,re,ae,le,ue){var he=cubicExtrema,_e=cubicAt,Ce=he(r,g,$,re,xDim);le[0]=1/0,le[1]=1/0,ue[0]=-1/0,ue[1]=-1/0;for(var $e=0;$e<Ce;$e++){var Oe=_e(r,g,$,re,xDim[$e]);le[0]=mathMin$9(Oe,le[0]),ue[0]=mathMax$9(Oe,ue[0])}Ce=he(n,y,L,ae,yDim);for(var $e=0;$e<Ce;$e++){var xe=_e(n,y,L,ae,yDim[$e]);le[1]=mathMin$9(xe,le[1]),ue[1]=mathMax$9(xe,ue[1])}le[0]=mathMin$9(r,le[0]),ue[0]=mathMax$9(r,ue[0]),le[0]=mathMin$9(re,le[0]),ue[0]=mathMax$9(re,ue[0]),le[1]=mathMin$9(n,le[1]),ue[1]=mathMax$9(n,ue[1]),le[1]=mathMin$9(ae,le[1]),ue[1]=mathMax$9(ae,ue[1])}function fromQuadratic(r,n,g,y,$,L,re,ae){var le=quadraticExtremum,ue=quadraticAt$1,he=mathMax$9(mathMin$9(le(r,g,$),1),0),_e=mathMax$9(mathMin$9(le(n,y,L),1),0),Ce=ue(r,g,$,he),$e=ue(n,y,L,_e);re[0]=mathMin$9(r,$,Ce),re[1]=mathMin$9(n,L,$e),ae[0]=mathMax$9(r,$,Ce),ae[1]=mathMax$9(n,L,$e)}function fromArc(r,n,g,y,$,L,re,ae,le){var ue=min$2,he=max$2,_e=Math.abs($-L);if(_e%PI2$8<1e-4&&_e>1e-4){ae[0]=r-g,ae[1]=n-y,le[0]=r+g,le[1]=n+y;return}if(start$1[0]=mathCos$4($)*g+r,start$1[1]=mathSin$4($)*y+n,end$1[0]=mathCos$4(L)*g+r,end$1[1]=mathSin$4(L)*y+n,ue(ae,start$1,end$1),he(le,start$1,end$1),$=$%PI2$8,$<0&&($=$+PI2$8),L=L%PI2$8,L<0&&(L=L+PI2$8),$>L&&!re?L+=PI2$8:$<L&&re&&($+=PI2$8),re){var Ce=L;L=$,$=Ce}for(var $e=0;$e<L;$e+=Math.PI/2)$e>$&&(extremity[0]=mathCos$4($e)*g+r,extremity[1]=mathSin$4($e)*y+n,ue(ae,extremity,ae),he(le,extremity,le))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min$1=[],max$1=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(r){var n=Math.round(r/PI$8*1e8)/1e8;return n%2*PI$8}function normalizeArcAngles(r,n){var g=modPI2(r[0]);g<0&&(g+=PI2$7);var y=g-r[0],$=r[1];$+=y,!n&&$-g>=PI2$7?$=g+PI2$7:n&&g-$>=PI2$7?$=g-PI2$7:!n&&g>$?$=g+(PI2$7-modPI2(g-$)):n&&g<$&&($=g-(PI2$7-modPI2($-g))),r[0]=g,r[1]=$}var PathProxy=function(){function r(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(n,g,y){y=y||0,y>0&&(this._ux=mathAbs$2(y/devicePixelRatio/n)||0,this._uy=mathAbs$2(y/devicePixelRatio/g)||0)},r.prototype.setDPR=function(n){this.dpr=n},r.prototype.setContext=function(n){this._ctx=n},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(n,g){return this._drawPendingPt(),this.addData(CMD$4.M,n,g),this._ctx&&this._ctx.moveTo(n,g),this._x0=n,this._y0=g,this._xi=n,this._yi=g,this},r.prototype.lineTo=function(n,g){var y=mathAbs$2(n-this._xi),$=mathAbs$2(g-this._yi),L=y>this._ux||$>this._uy;if(this.addData(CMD$4.L,n,g),this._ctx&&L&&this._ctx.lineTo(n,g),L)this._xi=n,this._yi=g,this._pendingPtDist=0;else{var re=y*y+$*$;re>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=g,this._pendingPtDist=re)}return this},r.prototype.bezierCurveTo=function(n,g,y,$,L,re){return this._drawPendingPt(),this.addData(CMD$4.C,n,g,y,$,L,re),this._ctx&&this._ctx.bezierCurveTo(n,g,y,$,L,re),this._xi=L,this._yi=re,this},r.prototype.quadraticCurveTo=function(n,g,y,$){return this._drawPendingPt(),this.addData(CMD$4.Q,n,g,y,$),this._ctx&&this._ctx.quadraticCurveTo(n,g,y,$),this._xi=y,this._yi=$,this},r.prototype.arc=function(n,g,y,$,L,re){this._drawPendingPt(),tmpAngles[0]=$,tmpAngles[1]=L,normalizeArcAngles(tmpAngles,re),$=tmpAngles[0],L=tmpAngles[1];var ae=L-$;return this.addData(CMD$4.A,n,g,y,y,$,ae,0,re?0:1),this._ctx&&this._ctx.arc(n,g,y,$,L,re),this._xi=mathCos$3(L)*y+n,this._yi=mathSin$3(L)*y+g,this},r.prototype.arcTo=function(n,g,y,$,L){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,g,y,$,L),this},r.prototype.rect=function(n,g,y,$){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,g,y,$),this.addData(CMD$4.R,n,g,y,$),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var n=this._ctx,g=this._x0,y=this._y0;return n&&n.closePath(),this._xi=g,this._yi=y,this},r.prototype.fill=function(n){n&&n.fill(),this.toStatic()},r.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(n){var g=n.length;!(this.data&&this.data.length===g)&&hasTypedArray&&(this.data=new Float32Array(g));for(var y=0;y<g;y++)this.data[y]=n[y];this._len=g},r.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var g=n.length,y=0,$=this._len,L=0;L<g;L++)y+=n[L].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array($+y));for(var L=0;L<g;L++)for(var re=n[L].data,ae=0;ae<re.length;ae++)this.data[$++]=re[ae];this._len=$},r.prototype.addData=function(n,g,y,$,L,re,ae,le,ue){if(this._saveData){var he=this.data;this._len+arguments.length>he.length&&(this._expandData(),he=this.data);for(var _e=0;_e<arguments.length;_e++)he[this._len++]=arguments[_e]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],g=0;g<this._len;g++)n[g]=this.data[g];this.data=n}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},r.prototype.getBoundingRect=function(){min$1[0]=min$1[1]=min2[0]=min2[1]=Number.MAX_VALUE,max$1[0]=max$1[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,g=0,y=0,$=0,L=0,re;for(re=0;re<this._len;){var ae=n[re++],le=re===1;switch(le&&(g=n[re],y=n[re+1],$=g,L=y),ae){case CMD$4.M:g=$=n[re++],y=L=n[re++],min2[0]=$,min2[1]=L,max2[0]=$,max2[1]=L;break;case CMD$4.L:fromLine(g,y,n[re],n[re+1],min2,max2),g=n[re++],y=n[re++];break;case CMD$4.C:fromCubic(g,y,n[re++],n[re++],n[re++],n[re++],n[re],n[re+1],min2,max2),g=n[re++],y=n[re++];break;case CMD$4.Q:fromQuadratic(g,y,n[re++],n[re++],n[re],n[re+1],min2,max2),g=n[re++],y=n[re++];break;case CMD$4.A:var ue=n[re++],he=n[re++],_e=n[re++],Ce=n[re++],$e=n[re++],Oe=n[re++]+$e;re+=1;var xe=!n[re++];le&&($=mathCos$3($e)*_e+ue,L=mathSin$3($e)*Ce+he),fromArc(ue,he,_e,Ce,$e,Oe,xe,min2,max2),g=mathCos$3(Oe)*_e+ue,y=mathSin$3(Oe)*Ce+he;break;case CMD$4.R:$=g=n[re++],L=y=n[re++];var Ne=n[re++],Ie=n[re++];fromLine($,L,$+Ne,L+Ie,min2,max2);break;case CMD$4.Z:g=$,y=L;break}min$2(min$1,min$1,min2),max$2(max$1,max$1,max2)}return re===0&&(min$1[0]=min$1[1]=max$1[0]=max$1[1]=0),new BoundingRect(min$1[0],min$1[1],max$1[0]-min$1[0],max$1[1]-min$1[1])},r.prototype._calculateLength=function(){var n=this.data,g=this._len,y=this._ux,$=this._uy,L=0,re=0,ae=0,le=0;this._pathSegLen||(this._pathSegLen=[]);for(var ue=this._pathSegLen,he=0,_e=0,Ce=0;Ce<g;){var $e=n[Ce++],Oe=Ce===1;Oe&&(L=n[Ce],re=n[Ce+1],ae=L,le=re);var xe=-1;switch($e){case CMD$4.M:L=ae=n[Ce++],re=le=n[Ce++];break;case CMD$4.L:{var Ne=n[Ce++],Ie=n[Ce++],Fe=Ne-L,Ve=Ie-re;(mathAbs$2(Fe)>y||mathAbs$2(Ve)>$||Ce===g-1)&&(xe=Math.sqrt(Fe*Fe+Ve*Ve),L=Ne,re=Ie);break}case CMD$4.C:{var ze=n[Ce++],Ue=n[Ce++],Ne=n[Ce++],Ie=n[Ce++],qe=n[Ce++],kt=n[Ce++];xe=cubicLength(L,re,ze,Ue,Ne,Ie,qe,kt,10),L=qe,re=kt;break}case CMD$4.Q:{var ze=n[Ce++],Ue=n[Ce++],Ne=n[Ce++],Ie=n[Ce++];xe=quadraticLength(L,re,ze,Ue,Ne,Ie,10),L=Ne,re=Ie;break}case CMD$4.A:var Et=n[Ce++],Pt=n[Ce++],At=n[Ce++],Dt=n[Ce++],Lt=n[Ce++],hn=n[Ce++],_n=hn+Lt;Ce+=1,Oe&&(ae=mathCos$3(Lt)*At+Et,le=mathSin$3(Lt)*Dt+Pt),xe=mathMax$8(At,Dt)*mathMin$8(PI2$7,Math.abs(hn)),L=mathCos$3(_n)*At+Et,re=mathSin$3(_n)*Dt+Pt;break;case CMD$4.R:{ae=L=n[Ce++],le=re=n[Ce++];var vn=n[Ce++],jt=n[Ce++];xe=vn*2+jt*2;break}case CMD$4.Z:{var Fe=ae-L,Ve=le-re;xe=Math.sqrt(Fe*Fe+Ve*Ve),L=ae,re=le;break}}xe>=0&&(ue[_e++]=xe,he+=xe)}return this._pathLen=he,he},r.prototype.rebuildPath=function(n,g){var y=this.data,$=this._ux,L=this._uy,re=this._len,ae,le,ue,he,_e,Ce,$e=g<1,Oe,xe,Ne=0,Ie=0,Fe,Ve=0,ze,Ue;if(!($e&&(this._pathSegLen||this._calculateLength(),Oe=this._pathSegLen,xe=this._pathLen,Fe=g*xe,!Fe)))e:for(var qe=0;qe<re;){var kt=y[qe++],Et=qe===1;switch(Et&&(ue=y[qe],he=y[qe+1],ae=ue,le=he),kt!==CMD$4.L&&Ve>0&&(n.lineTo(ze,Ue),Ve=0),kt){case CMD$4.M:ae=ue=y[qe++],le=he=y[qe++],n.moveTo(ue,he);break;case CMD$4.L:{_e=y[qe++],Ce=y[qe++];var Pt=mathAbs$2(_e-ue),At=mathAbs$2(Ce-he);if(Pt>$||At>L){if($e){var Dt=Oe[Ie++];if(Ne+Dt>Fe){var Lt=(Fe-Ne)/Dt;n.lineTo(ue*(1-Lt)+_e*Lt,he*(1-Lt)+Ce*Lt);break e}Ne+=Dt}n.lineTo(_e,Ce),ue=_e,he=Ce,Ve=0}else{var hn=Pt*Pt+At*At;hn>Ve&&(ze=_e,Ue=Ce,Ve=hn)}break}case CMD$4.C:{var _n=y[qe++],vn=y[qe++],jt=y[qe++],$n=y[qe++],Sn=y[qe++],bn=y[qe++];if($e){var Dt=Oe[Ie++];if(Ne+Dt>Fe){var Lt=(Fe-Ne)/Dt;cubicSubdivide(ue,_n,jt,Sn,Lt,tmpOutX),cubicSubdivide(he,vn,$n,bn,Lt,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}Ne+=Dt}n.bezierCurveTo(_n,vn,jt,$n,Sn,bn),ue=Sn,he=bn;break}case CMD$4.Q:{var _n=y[qe++],vn=y[qe++],jt=y[qe++],$n=y[qe++];if($e){var Dt=Oe[Ie++];if(Ne+Dt>Fe){var Lt=(Fe-Ne)/Dt;quadraticSubdivide(ue,_n,jt,Lt,tmpOutX),quadraticSubdivide(he,vn,$n,Lt,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}Ne+=Dt}n.quadraticCurveTo(_n,vn,jt,$n),ue=jt,he=$n;break}case CMD$4.A:var wn=y[qe++],On=y[qe++],Tn=y[qe++],xn=y[qe++],Pn=y[qe++],An=y[qe++],Rn=y[qe++],Nn=!y[qe++],Dn=Tn>xn?Tn:xn,In=mathAbs$2(Tn-xn)>.001,Fn=Pn+An,Bn=!1;if($e){var Dt=Oe[Ie++];Ne+Dt>Fe&&(Fn=Pn+An*(Fe-Ne)/Dt,Bn=!0),Ne+=Dt}if(In&&n.ellipse?n.ellipse(wn,On,Tn,xn,Rn,Pn,Fn,Nn):n.arc(wn,On,Dn,Pn,Fn,Nn),Bn)break e;Et&&(ae=mathCos$3(Pn)*Tn+wn,le=mathSin$3(Pn)*xn+On),ue=mathCos$3(Fn)*Tn+wn,he=mathSin$3(Fn)*xn+On;break;case CMD$4.R:ae=ue=y[qe],le=he=y[qe+1],_e=y[qe++],Ce=y[qe++];var Mn=y[qe++],Hn=y[qe++];if($e){var Dt=Oe[Ie++];if(Ne+Dt>Fe){var Yn=Fe-Ne;n.moveTo(_e,Ce),n.lineTo(_e+mathMin$8(Yn,Mn),Ce),Yn-=Mn,Yn>0&&n.lineTo(_e+Mn,Ce+mathMin$8(Yn,Hn)),Yn-=Hn,Yn>0&&n.lineTo(_e+mathMax$8(Mn-Yn,0),Ce+Hn),Yn-=Mn,Yn>0&&n.lineTo(_e,Ce+mathMax$8(Hn-Yn,0));break e}Ne+=Dt}n.rect(_e,Ce,Mn,Hn);break;case CMD$4.Z:if($e){var Dt=Oe[Ie++];if(Ne+Dt>Fe){var Lt=(Fe-Ne)/Dt;n.lineTo(ue*(1-Lt)+ae*Lt,he*(1-Lt)+le*Lt);break e}Ne+=Dt}n.closePath(),ue=ae,he=le}}},r.prototype.clone=function(){var n=new r,g=this.data;return n.data=g.slice?g.slice():Array.prototype.slice.call(g),n._len=this._len,n},r.CMD=CMD$4,r.initDefaultProps=function(){var n=r.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),r}();function containStroke$4(r,n,g,y,$,L,re){if($===0)return!1;var ae=$,le=0,ue=r;if(re>n+ae&&re>y+ae||re<n-ae&&re<y-ae||L>r+ae&&L>g+ae||L<r-ae&&L<g-ae)return!1;if(r!==g)le=(n-y)/(r-g),ue=(r*y-g*n)/(r-g);else return Math.abs(L-r)<=ae/2;var he=le*L-re+ue,_e=he*he/(le*le+1);return _e<=ae/2*ae/2}function containStroke$3(r,n,g,y,$,L,re,ae,le,ue,he){if(le===0)return!1;var _e=le;if(he>n+_e&&he>y+_e&&he>L+_e&&he>ae+_e||he<n-_e&&he<y-_e&&he<L-_e&&he<ae-_e||ue>r+_e&&ue>g+_e&&ue>$+_e&&ue>re+_e||ue<r-_e&&ue<g-_e&&ue<$-_e&&ue<re-_e)return!1;var Ce=cubicProjectPoint(r,n,g,y,$,L,re,ae,ue,he,null);return Ce<=_e/2}function containStroke$2(r,n,g,y,$,L,re,ae,le){if(re===0)return!1;var ue=re;if(le>n+ue&&le>y+ue&&le>L+ue||le<n-ue&&le<y-ue&&le<L-ue||ae>r+ue&&ae>g+ue&&ae>$+ue||ae<r-ue&&ae<g-ue&&ae<$-ue)return!1;var he=quadraticProjectPoint(r,n,g,y,$,L,ae,le,null);return he<=ue/2}var PI2$6=Math.PI*2;function normalizeRadian(r){return r%=PI2$6,r<0&&(r+=PI2$6),r}var PI2$5=Math.PI*2;function containStroke$1(r,n,g,y,$,L,re,ae,le){if(re===0)return!1;var ue=re;ae-=r,le-=n;var he=Math.sqrt(ae*ae+le*le);if(he-ue>g||he+ue<g)return!1;if(Math.abs(y-$)%PI2$5<1e-4)return!0;if(L){var _e=y;y=normalizeRadian($),$=normalizeRadian(_e)}else y=normalizeRadian(y),$=normalizeRadian($);y>$&&($+=PI2$5);var Ce=Math.atan2(le,ae);return Ce<0&&(Ce+=PI2$5),Ce>=y&&Ce<=$||Ce+PI2$5>=y&&Ce+PI2$5<=$}function windingLine(r,n,g,y,$,L){if(L>n&&L>y||L<n&&L<y||y===n)return 0;var re=(L-n)/(y-n),ae=y<n?1:-1;(re===1||re===0)&&(ae=y<n?.5:-.5);var le=re*(g-r)+r;return le===$?1/0:le>$?ae:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(r,n){return Math.abs(r-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var r=extrema[0];extrema[0]=extrema[1],extrema[1]=r}function windingCubic(r,n,g,y,$,L,re,ae,le,ue){if(ue>n&&ue>y&&ue>L&&ue>ae||ue<n&&ue<y&&ue<L&&ue<ae)return 0;var he=cubicRootAt(n,y,L,ae,ue,roots);if(he===0)return 0;for(var _e=0,Ce=-1,$e=void 0,Oe=void 0,xe=0;xe<he;xe++){var Ne=roots[xe],Ie=Ne===0||Ne===1?.5:1,Fe=cubicAt(r,g,$,re,Ne);Fe<le||(Ce<0&&(Ce=cubicExtrema(n,y,L,ae,extrema),extrema[1]<extrema[0]&&Ce>1&&swapExtrema(),$e=cubicAt(n,y,L,ae,extrema[0]),Ce>1&&(Oe=cubicAt(n,y,L,ae,extrema[1]))),Ce===2?Ne<extrema[0]?_e+=$e<n?Ie:-Ie:Ne<extrema[1]?_e+=Oe<$e?Ie:-Ie:_e+=ae<Oe?Ie:-Ie:Ne<extrema[0]?_e+=$e<n?Ie:-Ie:_e+=ae<$e?Ie:-Ie)}return _e}function windingQuadratic(r,n,g,y,$,L,re,ae){if(ae>n&&ae>y&&ae>L||ae<n&&ae<y&&ae<L)return 0;var le=quadraticRootAt(n,y,L,ae,roots);if(le===0)return 0;var ue=quadraticExtremum(n,y,L);if(ue>=0&&ue<=1){for(var he=0,_e=quadraticAt$1(n,y,L,ue),Ce=0;Ce<le;Ce++){var $e=roots[Ce]===0||roots[Ce]===1?.5:1,Oe=quadraticAt$1(r,g,$,roots[Ce]);Oe<re||(roots[Ce]<ue?he+=_e<n?$e:-$e:he+=L<_e?$e:-$e)}return he}else{var $e=roots[0]===0||roots[0]===1?.5:1,Oe=quadraticAt$1(r,g,$,roots[0]);return Oe<re?0:L<n?$e:-$e}}function windingArc(r,n,g,y,$,L,re,ae){if(ae-=n,ae>g||ae<-g)return 0;var le=Math.sqrt(g*g-ae*ae);roots[0]=-le,roots[1]=le;var ue=Math.abs(y-$);if(ue<1e-4)return 0;if(ue>=PI2$4-1e-4){y=0,$=PI2$4;var he=L?1:-1;return re>=roots[0]+r&&re<=roots[1]+r?he:0}if(y>$){var _e=y;y=$,$=_e}y<0&&(y+=PI2$4,$+=PI2$4);for(var Ce=0,$e=0;$e<2;$e++){var Oe=roots[$e];if(Oe+r>re){var xe=Math.atan2(ae,Oe),he=L?1:-1;xe<0&&(xe=PI2$4+xe),(xe>=y&&xe<=$||xe+PI2$4>=y&&xe+PI2$4<=$)&&(xe>Math.PI/2&&xe<Math.PI*1.5&&(he=-he),Ce+=he)}}return Ce}function containPath(r,n,g,y,$){for(var L=r.data,re=r.len(),ae=0,le=0,ue=0,he=0,_e=0,Ce,$e,Oe=0;Oe<re;){var xe=L[Oe++],Ne=Oe===1;switch(xe===CMD$3.M&&Oe>1&&(g||(ae+=windingLine(le,ue,he,_e,y,$))),Ne&&(le=L[Oe],ue=L[Oe+1],he=le,_e=ue),xe){case CMD$3.M:he=L[Oe++],_e=L[Oe++],le=he,ue=_e;break;case CMD$3.L:if(g){if(containStroke$4(le,ue,L[Oe],L[Oe+1],n,y,$))return!0}else ae+=windingLine(le,ue,L[Oe],L[Oe+1],y,$)||0;le=L[Oe++],ue=L[Oe++];break;case CMD$3.C:if(g){if(containStroke$3(le,ue,L[Oe++],L[Oe++],L[Oe++],L[Oe++],L[Oe],L[Oe+1],n,y,$))return!0}else ae+=windingCubic(le,ue,L[Oe++],L[Oe++],L[Oe++],L[Oe++],L[Oe],L[Oe+1],y,$)||0;le=L[Oe++],ue=L[Oe++];break;case CMD$3.Q:if(g){if(containStroke$2(le,ue,L[Oe++],L[Oe++],L[Oe],L[Oe+1],n,y,$))return!0}else ae+=windingQuadratic(le,ue,L[Oe++],L[Oe++],L[Oe],L[Oe+1],y,$)||0;le=L[Oe++],ue=L[Oe++];break;case CMD$3.A:var Ie=L[Oe++],Fe=L[Oe++],Ve=L[Oe++],ze=L[Oe++],Ue=L[Oe++],qe=L[Oe++];Oe+=1;var kt=!!(1-L[Oe++]);Ce=Math.cos(Ue)*Ve+Ie,$e=Math.sin(Ue)*ze+Fe,Ne?(he=Ce,_e=$e):ae+=windingLine(le,ue,Ce,$e,y,$);var Et=(y-Ie)*ze/Ve+Ie;if(g){if(containStroke$1(Ie,Fe,ze,Ue,Ue+qe,kt,n,Et,$))return!0}else ae+=windingArc(Ie,Fe,ze,Ue,Ue+qe,kt,Et,$);le=Math.cos(Ue+qe)*Ve+Ie,ue=Math.sin(Ue+qe)*ze+Fe;break;case CMD$3.R:he=le=L[Oe++],_e=ue=L[Oe++];var Pt=L[Oe++],At=L[Oe++];if(Ce=he+Pt,$e=_e+At,g){if(containStroke$4(he,_e,Ce,_e,n,y,$)||containStroke$4(Ce,_e,Ce,$e,n,y,$)||containStroke$4(Ce,$e,he,$e,n,y,$)||containStroke$4(he,$e,he,_e,n,y,$))return!0}else ae+=windingLine(Ce,_e,Ce,$e,y,$),ae+=windingLine(he,$e,he,_e,y,$);break;case CMD$3.Z:if(g){if(containStroke$4(le,ue,he,_e,n,y,$))return!0}else ae+=windingLine(le,ue,he,_e,y,$);le=he,ue=_e;break}}return!g&&!isAroundEqual$1(ue,_e)&&(ae+=windingLine(le,ue,he,_e,y,$)||0),ae!==0}function contain$2(r,n,g){return containPath(r,0,!1,n,g)}function containStroke(r,n,g,y){return containPath(r,n,!0,g,y)}var DEFAULT_PATH_STYLE=defaults$2({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults$2({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.update=function(){var g=this;r.prototype.update.call(this);var y=this.style;if(y.decal){var $=this._decalEl=this._decalEl||new n;$.buildPath===n.prototype.buildPath&&($.buildPath=function(le){g.buildPath(le,g.shape)}),$.silent=!0;var L=$.style;for(var re in y)L[re]!==y[re]&&(L[re]=y[re]);L.fill=y.fill?y.decal:null,L.decal=null,L.shadowColor=null,y.strokeFirst&&(L.stroke=null);for(var ae=0;ae<pathCopyParams.length;++ae)$[pathCopyParams[ae]]=this[pathCopyParams[ae]];$.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(g){var y=keys$1(g);this.shape=this.getDefaultShape();var $=this.getDefaultStyle();$&&this.useStyle($);for(var L=0;L<y.length;L++){var re=y[L],ae=g[re];re==="style"?this.style?extend(this.style,ae):this.useStyle(ae):re==="shape"?extend(this.shape,ae):r.prototype.attrKV.call(this,re,ae)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var g=this.style.fill;if(g!=="none"){if(isString(g)){var y=lum(g,0);return y>.5?DARK_LABEL_COLOR:y>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(g)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(g){var y=this.style.fill;if(isString(y)){var $=this.__zr,L=!!($&&$.isDarkMode()),re=lum(g,0)<DARK_MODE_THRESHOLD;if(L===re)return y}},n.prototype.buildPath=function(g,y,$){},n.prototype.pathUpdated=function(){this.__dirty&=-5},n.prototype.getUpdatedPathProxy=function(g){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,g),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},n.prototype.hasStroke=function(){var g=this.style,y=g.stroke;return!(y==null||y==="none"||!(g.lineWidth>0))},n.prototype.hasFill=function(){var g=this.style,y=g.fill;return y!=null&&y!=="none"},n.prototype.getBoundingRect=function(){var g=this._rect,y=this.style,$=!g;if($){var L=!1;this.path||(L=!0,this.createPathProxy());var re=this.path;(L||this.__dirty&SHAPE_CHANGED_BIT)&&(re.beginPath(),this.buildPath(re,this.shape,!1),this.pathUpdated()),g=re.getBoundingRect()}if(this._rect=g,this.hasStroke()&&this.path&&this.path.len()>0){var ae=this._rectStroke||(this._rectStroke=g.clone());if(this.__dirty||$){ae.copy(g);var le=y.strokeNoScale?this.getLineScale():1,ue=y.lineWidth;if(!this.hasFill()){var he=this.strokeContainThreshold;ue=Math.max(ue,he??4)}le>1e-10&&(ae.width+=ue/le,ae.height+=ue/le,ae.x-=ue/le/2,ae.y-=ue/le/2)}return ae}return g},n.prototype.contain=function(g,y){var $=this.transformCoordToLocal(g,y),L=this.getBoundingRect(),re=this.style;if(g=$[0],y=$[1],L.contain(g,y)){var ae=this.path;if(this.hasStroke()){var le=re.lineWidth,ue=re.strokeNoScale?this.getLineScale():1;if(ue>1e-10&&(this.hasFill()||(le=Math.max(le,this.strokeContainThreshold)),containStroke(ae,le/ue,g,y)))return!0}if(this.hasFill())return contain$2(ae,g,y)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(g){return this.animate("shape",g)},n.prototype.updateDuringAnimation=function(g){g==="style"?this.dirtyStyle():g==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(g,y){g==="shape"?this.setShape(y):r.prototype.attrKV.call(this,g,y)},n.prototype.setShape=function(g,y){var $=this.shape;return $||($=this.shape={}),typeof g=="string"?$[g]=y:extend($,g),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(g){return createObject(DEFAULT_PATH_STYLE,g)},n.prototype._innerSaveToNormal=function(g){r.prototype._innerSaveToNormal.call(this,g);var y=this._normalState;g.shape&&!y.shape&&(y.shape=extend({},this.shape))},n.prototype._applyStateObj=function(g,y,$,L,re,ae){r.prototype._applyStateObj.call(this,g,y,$,L,re,ae);var le=!(y&&L),ue;if(y&&y.shape?re?L?ue=y.shape:(ue=extend({},$.shape),extend(ue,y.shape)):(ue=extend({},L?this.shape:$.shape),extend(ue,y.shape)):le&&(ue=$.shape),ue)if(re){this.shape=extend({},this.shape);for(var he={},_e=keys$1(ue),Ce=0;Ce<_e.length;Ce++){var $e=_e[Ce];typeof ue[$e]=="object"?this.shape[$e]=ue[$e]:he[$e]=ue[$e]}this._transitionState(g,{shape:he},ae)}else this.shape=ue,this.dirtyShape()},n.prototype._mergeStates=function(g){for(var y=r.prototype._mergeStates.call(this,g),$,L=0;L<g.length;L++){var re=g[L];re.shape&&($=$||{},this._mergeStyle($,re.shape))}return $&&(y.shape=$),y},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(g){var y=function(L){__extends(re,L);function re(ae){var le=L.call(this,ae)||this;return g.init&&g.init.call(le,ae),le}return re.prototype.getDefaultStyle=function(){return clone$4(g.style)},re.prototype.getDefaultShape=function(){return clone$4(g.shape)},re}(n);for(var $ in g)typeof g[$]=="function"&&(y.prototype[$]=g[$]);return y},n.initDefaultProps=function(){var g=n.prototype;g.type="path",g.strokeContainThreshold=5,g.segmentIgnoreThreshold=0,g.subPixelOptimize=!1,g.autoBatch=!1,g.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable),DEFAULT_TSPAN_STYLE=defaults$2({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var g=this.style,y=g.stroke;return y!=null&&y!=="none"&&g.lineWidth>0},n.prototype.hasFill=function(){var g=this.style,y=g.fill;return y!=null&&y!=="none"},n.prototype.createStyle=function(g){return createObject(DEFAULT_TSPAN_STYLE,g)},n.prototype.setBoundingRect=function(g){this._rect=g},n.prototype.getBoundingRect=function(){var g=this.style;if(!this._rect){var y=g.text;y!=null?y+="":y="";var $=getBoundingRect(y,g.font,g.textAlign,g.textBaseline);if($.x+=g.x||0,$.y+=g.y||0,this.hasStroke()){var L=g.lineWidth;$.x-=L/2,$.y-=L/2,$.width+=L,$.height+=L}this._rect=$}return this._rect},n.initDefaultProps=function(){var g=n.prototype;g.dirtyRectTolerance=10}(),n}(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults$2({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults$2({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ZRImage=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.createStyle=function(g){return createObject(DEFAULT_IMAGE_STYLE,g)},n.prototype._getSize=function(g){var y=this.style,$=y[g];if($!=null)return $;var L=isImageLike$1(y.image)?y.image:this.__image;if(!L)return 0;var re=g==="width"?"height":"width",ae=y[re];return ae==null?L[g]:L[g]/L[re]*ae},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var g=this.style;return this._rect||(this._rect=new BoundingRect(g.x||0,g.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable);ZRImage.prototype.type="image";function buildPath$2(r,n){var g=n.x,y=n.y,$=n.width,L=n.height,re=n.r,ae,le,ue,he;$<0&&(g=g+$,$=-$),L<0&&(y=y+L,L=-L),typeof re=="number"?ae=le=ue=he=re:re instanceof Array?re.length===1?ae=le=ue=he=re[0]:re.length===2?(ae=ue=re[0],le=he=re[1]):re.length===3?(ae=re[0],le=he=re[1],ue=re[2]):(ae=re[0],le=re[1],ue=re[2],he=re[3]):ae=le=ue=he=0;var _e;ae+le>$&&(_e=ae+le,ae*=$/_e,le*=$/_e),ue+he>$&&(_e=ue+he,ue*=$/_e,he*=$/_e),le+ue>L&&(_e=le+ue,le*=L/_e,ue*=L/_e),ae+he>L&&(_e=ae+he,ae*=L/_e,he*=L/_e),r.moveTo(g+ae,y),r.lineTo(g+$-le,y),le!==0&&r.arc(g+$-le,y+le,le,-Math.PI/2,0),r.lineTo(g+$,y+L-ue),ue!==0&&r.arc(g+$-ue,y+L-ue,ue,0,Math.PI/2),r.lineTo(g+he,y+L),he!==0&&r.arc(g+he,y+L-he,he,Math.PI/2,Math.PI),r.lineTo(g,y+ae),ae!==0&&r.arc(g+ae,y+ae,ae,Math.PI,Math.PI*1.5)}var round$3=Math.round;function subPixelOptimizeLine$1(r,n,g){if(n){var y=n.x1,$=n.x2,L=n.y1,re=n.y2;r.x1=y,r.x2=$,r.y1=L,r.y2=re;var ae=g&&g.lineWidth;return ae&&(round$3(y*2)===round$3($*2)&&(r.x1=r.x2=subPixelOptimize$1(y,ae,!0)),round$3(L*2)===round$3(re*2)&&(r.y1=r.y2=subPixelOptimize$1(L,ae,!0))),r}}function subPixelOptimizeRect$1(r,n,g){if(n){var y=n.x,$=n.y,L=n.width,re=n.height;r.x=y,r.y=$,r.width=L,r.height=re;var ae=g&&g.lineWidth;return ae&&(r.x=subPixelOptimize$1(y,ae,!0),r.y=subPixelOptimize$1($,ae,!0),r.width=Math.max(subPixelOptimize$1(y+L,ae,!1)-r.x,L===0?0:1),r.height=Math.max(subPixelOptimize$1($+re,ae,!1)-r.y,re===0?0:1)),r}}function subPixelOptimize$1(r,n,g){if(!n)return r;var y=round$3(r*2);return(y+round$3(n))%2===0?y/2:(y+(g?1:-1))/2}var RectShape=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),subPixelOptimizeOutputShape$1={},Rect$2=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(g,y){var $,L,re,ae;if(this.subPixelOptimize){var le=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,y,this.style);$=le.x,L=le.y,re=le.width,ae=le.height,le.r=y.r,y=le}else $=y.x,L=y.y,re=y.width,ae=y.height;y.r?buildPath$2(g,y):g.rect($,L,re,ae)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path);Rect$2.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults$2({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(r){__extends(n,r);function n(g){var y=r.call(this)||this;return y.type="text",y._children=[],y._defaultStyle=DEFAULT_RICH_TEXT_COLOR,y.attr(g),y}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var g=0;g<this._children.length;g++){var y=this._children[g];y.zlevel=this.zlevel,y.z=this.z,y.z2=this.z2,y.culling=this.culling,y.cursor=this.cursor,y.invisible=this.invisible}},n.prototype.updateTransform=function(){var g=this.innerTransformable;g?(g.updateTransform(),g.transform&&(this.transform=g.transform)):r.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(g){var y=this.innerTransformable;return y?y.getLocalTransform(g):r.prototype.getLocalTransform.call(this,g)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(g){r.prototype.addSelfToZr.call(this,g);for(var y=0;y<this._children.length;y++)this._children[y].__zr=g},n.prototype.removeSelfFromZr=function(g){r.prototype.removeSelfFromZr.call(this,g);for(var y=0;y<this._children.length;y++)this._children[y].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var g=new BoundingRect(0,0,0,0),y=this._children,$=[],L=null,re=0;re<y.length;re++){var ae=y[re],le=ae.getBoundingRect(),ue=ae.getLocalTransform($);ue?(g.copy(le),g.applyTransform(ue),L=L||g.clone(),L.union(g)):(L=L||le.clone(),L.union(le))}this._rect=L||g}return this._rect},n.prototype.setDefaultTextStyle=function(g){this._defaultStyle=g||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(g){},n.prototype._mergeStyle=function(g,y){if(!y)return g;var $=y.rich,L=g.rich||$&&{};return extend(g,y),$&&L?(this._mergeRich(L,$),g.rich=L):L&&(g.rich=L),g},n.prototype._mergeRich=function(g,y){for(var $=keys$1(y),L=0;L<$.length;L++){var re=$[L];g[re]=g[re]||{},extend(g[re],y[re])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(g){var y=this._children[this._childCursor];return(!y||!(y instanceof g))&&(y=new g),this._children[this._childCursor++]=y,y.__zr=this.__zr,y.parent=this,y},n.prototype._updatePlainTexts=function(){var g=this.style,y=g.font||DEFAULT_FONT,$=g.padding,L=getStyleText(g),re=parsePlainText(L,g),ae=needDrawBackground(g),le=!!g.backgroundColor,ue=re.outerHeight,he=re.outerWidth,_e=re.contentWidth,Ce=re.lines,$e=re.lineHeight,Oe=this._defaultStyle;this.isTruncated=!!re.isTruncated;var xe=g.x||0,Ne=g.y||0,Ie=g.align||Oe.align||"left",Fe=g.verticalAlign||Oe.verticalAlign||"top",Ve=xe,ze=adjustTextY(Ne,re.contentHeight,Fe);if(ae||$){var Ue=adjustTextX(xe,he,Ie),qe=adjustTextY(Ne,ue,Fe);ae&&this._renderBackground(g,g,Ue,qe,he,ue)}ze+=$e/2,$&&(Ve=getTextXForPadding(xe,Ie,$),Fe==="top"?ze+=$[0]:Fe==="bottom"&&(ze-=$[2]));for(var kt=0,Et=!1,Pt=getFill("fill"in g?g.fill:(Et=!0,Oe.fill)),At=getStroke("stroke"in g?g.stroke:!le&&(!Oe.autoStroke||Et)?(kt=DEFAULT_STROKE_LINE_WIDTH,Oe.stroke):null),Dt=g.textShadowBlur>0,Lt=g.width!=null&&(g.overflow==="truncate"||g.overflow==="break"||g.overflow==="breakAll"),hn=re.calculatedLineHeight,_n=0;_n<Ce.length;_n++){var vn=this._getOrCreateChild(TSpan),jt=vn.createStyle();vn.useStyle(jt),jt.text=Ce[_n],jt.x=Ve,jt.y=ze,jt.textAlign=Ie,jt.textBaseline="middle",jt.opacity=g.opacity,jt.strokeFirst=!0,Dt&&(jt.shadowBlur=g.textShadowBlur||0,jt.shadowColor=g.textShadowColor||"transparent",jt.shadowOffsetX=g.textShadowOffsetX||0,jt.shadowOffsetY=g.textShadowOffsetY||0),jt.stroke=At,jt.fill=Pt,At&&(jt.lineWidth=g.lineWidth||kt,jt.lineDash=g.lineDash,jt.lineDashOffset=g.lineDashOffset||0),jt.font=y,setSeparateFont(jt,g),ze+=$e,Lt&&vn.setBoundingRect(new BoundingRect(adjustTextX(jt.x,_e,jt.textAlign),adjustTextY(jt.y,hn,jt.textBaseline),_e,hn))}},n.prototype._updateRichTexts=function(){var g=this.style,y=getStyleText(g),$=parseRichText(y,g),L=$.width,re=$.outerWidth,ae=$.outerHeight,le=g.padding,ue=g.x||0,he=g.y||0,_e=this._defaultStyle,Ce=g.align||_e.align,$e=g.verticalAlign||_e.verticalAlign;this.isTruncated=!!$.isTruncated;var Oe=adjustTextX(ue,re,Ce),xe=adjustTextY(he,ae,$e),Ne=Oe,Ie=xe;le&&(Ne+=le[3],Ie+=le[0]);var Fe=Ne+L;needDrawBackground(g)&&this._renderBackground(g,g,Oe,xe,re,ae);for(var Ve=!!g.backgroundColor,ze=0;ze<$.lines.length;ze++){for(var Ue=$.lines[ze],qe=Ue.tokens,kt=qe.length,Et=Ue.lineHeight,Pt=Ue.width,At=0,Dt=Ne,Lt=Fe,hn=kt-1,_n=void 0;At<kt&&(_n=qe[At],!_n.align||_n.align==="left");)this._placeToken(_n,g,Et,Ie,Dt,"left",Ve),Pt-=_n.width,Dt+=_n.width,At++;for(;hn>=0&&(_n=qe[hn],_n.align==="right");)this._placeToken(_n,g,Et,Ie,Lt,"right",Ve),Pt-=_n.width,Lt-=_n.width,hn--;for(Dt+=(L-(Dt-Ne)-(Fe-Lt)-Pt)/2;At<=hn;)_n=qe[At],this._placeToken(_n,g,Et,Ie,Dt+_n.width/2,"center",Ve),Dt+=_n.width,At++;Ie+=Et}},n.prototype._placeToken=function(g,y,$,L,re,ae,le){var ue=y.rich[g.styleName]||{};ue.text=g.text;var he=g.verticalAlign,_e=L+$/2;he==="top"?_e=L+g.height/2:he==="bottom"&&(_e=L+$-g.height/2);var Ce=!g.isLineHolder&&needDrawBackground(ue);Ce&&this._renderBackground(ue,y,ae==="right"?re-g.width:ae==="center"?re-g.width/2:re,_e-g.height/2,g.width,g.height);var $e=!!ue.backgroundColor,Oe=g.textPadding;Oe&&(re=getTextXForPadding(re,ae,Oe),_e-=g.height/2-Oe[0]-g.innerHeight/2);var xe=this._getOrCreateChild(TSpan),Ne=xe.createStyle();xe.useStyle(Ne);var Ie=this._defaultStyle,Fe=!1,Ve=0,ze=getFill("fill"in ue?ue.fill:"fill"in y?y.fill:(Fe=!0,Ie.fill)),Ue=getStroke("stroke"in ue?ue.stroke:"stroke"in y?y.stroke:!$e&&!le&&(!Ie.autoStroke||Fe)?(Ve=DEFAULT_STROKE_LINE_WIDTH,Ie.stroke):null),qe=ue.textShadowBlur>0||y.textShadowBlur>0;Ne.text=g.text,Ne.x=re,Ne.y=_e,qe&&(Ne.shadowBlur=ue.textShadowBlur||y.textShadowBlur||0,Ne.shadowColor=ue.textShadowColor||y.textShadowColor||"transparent",Ne.shadowOffsetX=ue.textShadowOffsetX||y.textShadowOffsetX||0,Ne.shadowOffsetY=ue.textShadowOffsetY||y.textShadowOffsetY||0),Ne.textAlign=ae,Ne.textBaseline="middle",Ne.font=g.font||DEFAULT_FONT,Ne.opacity=retrieve3(ue.opacity,y.opacity,1),setSeparateFont(Ne,ue),Ue&&(Ne.lineWidth=retrieve3(ue.lineWidth,y.lineWidth,Ve),Ne.lineDash=retrieve2(ue.lineDash,y.lineDash),Ne.lineDashOffset=y.lineDashOffset||0,Ne.stroke=Ue),ze&&(Ne.fill=ze);var kt=g.contentWidth,Et=g.contentHeight;xe.setBoundingRect(new BoundingRect(adjustTextX(Ne.x,kt,Ne.textAlign),adjustTextY(Ne.y,Et,Ne.textBaseline),kt,Et))},n.prototype._renderBackground=function(g,y,$,L,re,ae){var le=g.backgroundColor,ue=g.borderWidth,he=g.borderColor,_e=le&&le.image,Ce=le&&!_e,$e=g.borderRadius,Oe=this,xe,Ne;if(Ce||g.lineHeight||ue&&he){xe=this._getOrCreateChild(Rect$2),xe.useStyle(xe.createStyle()),xe.style.fill=null;var Ie=xe.shape;Ie.x=$,Ie.y=L,Ie.width=re,Ie.height=ae,Ie.r=$e,xe.dirtyShape()}if(Ce){var Fe=xe.style;Fe.fill=le||null,Fe.fillOpacity=retrieve2(g.fillOpacity,1)}else if(_e){Ne=this._getOrCreateChild(ZRImage),Ne.onload=function(){Oe.dirtyStyle()};var Ve=Ne.style;Ve.image=le.image,Ve.x=$,Ve.y=L,Ve.width=re,Ve.height=ae}if(ue&&he){var Fe=xe.style;Fe.lineWidth=ue,Fe.stroke=he,Fe.strokeOpacity=retrieve2(g.strokeOpacity,1),Fe.lineDash=g.borderDash,Fe.lineDashOffset=g.borderDashOffset||0,xe.strokeContainThreshold=0,xe.hasFill()&&xe.hasStroke()&&(Fe.strokeFirst=!0,Fe.lineWidth*=2)}var ze=(xe||Ne).style;ze.shadowBlur=g.shadowBlur||0,ze.shadowColor=g.shadowColor||"transparent",ze.shadowOffsetX=g.shadowOffsetX||0,ze.shadowOffsetY=g.shadowOffsetY||0,ze.opacity=retrieve3(g.opacity,y.opacity,1)},n.makeFont=function(g){var y="";return hasSeparateFont(g)&&(y=[g.fontStyle,g.fontWeight,parseFontSize(g.fontSize),g.fontFamily||"sans-serif"].join(" ")),y&&trim$1(y)||g.textFont||g.font},n}(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?DEFAULT_FONT_SIZE+"px":r+"px"}function setSeparateFont(r,n){for(var g=0;g<FONT_PARTS.length;g++){var y=FONT_PARTS[g],$=n[y];$!=null&&(r[y]=$)}}function hasSeparateFont(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function normalizeTextStyle(r){return normalizeStyle(r),each$f(r.rich,normalizeStyle),r}function normalizeStyle(r){if(r){r.font=ZRText.makeFont(r);var n=r.align;n==="middle"&&(n="center"),r.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var g=r.verticalAlign;g==="center"&&(g="middle"),r.verticalAlign=g==null||VALID_TEXT_VERTICAL_ALIGN[g]?g:"top";var y=r.padding;y&&(r.padding=normalizeCssArray$1(r.padding))}}function getStroke(r,n){return r==null||n<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function getFill(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function getTextXForPadding(r,n,g){return n==="right"?r-g[1]:n==="center"?r+g[3]/2-g[1]/2:r+g[3]}function getStyleText(r){var n=r.text;return n!=null&&(n+=""),n}function needDrawBackground(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var getECData=makeInner(),setCommonECData=function(r,n,g,y){if(y){var $=getECData(y);$.dataIndex=g,$.dataType=n,$.seriesIndex=r,$.ssrType="chart",y.type==="group"&&y.traverse(function(L){var re=getECData(L);re.seriesIndex=r,re.dataIndex=g,re.dataType=n,re.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(r){return r!=null&&r!=="none"}function doChangeHoverState(r,n,g){r.onHoverStateChange&&(r.hoverState||0)!==g&&r.onHoverStateChange(n),r.hoverState=g}function singleEnterEmphasis(r){doChangeHoverState(r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(r){r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(r){doChangeHoverState(r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(r){r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(r){r.selected=!0}function singleLeaveSelect(r){r.selected=!1}function updateElementState(r,n,g){n(r,g)}function traverseUpdateState(r,n,g){updateElementState(r,n,g),r.isGroup&&r.traverse(function(y){updateElementState(y,n,g)})}function setStatesFlag(r,n){switch(n){case"emphasis":r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":r.hoverState=HOVER_STATE_NORMAL;break;case"blur":r.hoverState=HOVER_STATE_BLUR;break;case"select":r.selected=!0}}function getFromStateStyle(r,n,g,y){for(var $=r.style,L={},re=0;re<n.length;re++){var ae=n[re],le=$[ae];L[ae]=le??y[ae]}for(var re=0;re<r.animators.length;re++){var ue=r.animators[re];ue.__fromStateTransition&&ue.__fromStateTransition.indexOf(g)<0&&ue.targetName==="style"&&ue.saveTo(L,n)}return L}function createEmphasisDefaultState(r,n,g,y){var $=g&&indexOf(g,"select")>=0,L=!1;if(r instanceof Path){var re=getSavedStates(r),ae=$&&re.selectFill||re.normalFill,le=$&&re.selectStroke||re.normalStroke;if(hasFillOrStroke(ae)||hasFillOrStroke(le)){y=y||{};var ue=y.style||{};ue.fill==="inherit"?(L=!0,y=extend({},y),ue=extend({},ue),ue.fill=ae):!hasFillOrStroke(ue.fill)&&hasFillOrStroke(ae)?(L=!0,y=extend({},y),ue=extend({},ue),ue.fill=liftColor(ae)):!hasFillOrStroke(ue.stroke)&&hasFillOrStroke(le)&&(L||(y=extend({},y),ue=extend({},ue)),ue.stroke=liftColor(le)),y.style=ue}}if(y&&y.z2==null){L||(y=extend({},y));var he=r.z2EmphasisLift;y.z2=r.z2+(he??Z2_EMPHASIS_LIFT)}return y}function createSelectDefaultState(r,n,g){if(g&&g.z2==null){g=extend({},g);var y=r.z2SelectLift;g.z2=r.z2+(y??Z2_SELECT_LIFT)}return g}function createBlurDefaultState(r,n,g){var y=indexOf(r.currentStates,n)>=0,$=r.style.opacity,L=y?null:getFromStateStyle(r,["opacity"],n,{opacity:1});g=g||{};var re=g.style||{};return re.opacity==null&&(g=extend({},g),re=extend({opacity:y?$:L.opacity*.1},re),g.style=re),g}function elementStateProxy(r,n){var g=this.states[r];if(this.style){if(r==="emphasis")return createEmphasisDefaultState(this,r,n,g);if(r==="blur")return createBlurDefaultState(this,r,g);if(r==="select")return createSelectDefaultState(this,r,g)}return g}function setDefaultStateProxy(r){r.stateProxy=elementStateProxy;var n=r.getTextContent(),g=r.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),g&&(g.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(r,n){!shouldSilent(r,n)&&!r.__highByOuter&&traverseUpdateState(r,singleLeaveEmphasis)}function enterEmphasis(r,n){r.__highByOuter|=1<<(n||0),traverseUpdateState(r,singleEnterEmphasis)}function leaveEmphasis(r,n){!(r.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(r,singleLeaveEmphasis)}function enterBlur(r){traverseUpdateState(r,singleEnterBlur)}function leaveBlur(r){traverseUpdateState(r,singleLeaveBlur)}function enterSelect(r){traverseUpdateState(r,singleEnterSelect)}function leaveSelect(r){traverseUpdateState(r,singleLeaveSelect)}function shouldSilent(r,n){return r.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(r){var n=r.getModel(),g=[],y=[];n.eachComponent(function($,L){var re=getComponentStates(L),ae=$==="series",le=ae?r.getViewOfSeriesModel(L):r.getViewOfComponentModel(L);!ae&&y.push(le),re.isBlured&&(le.group.traverse(function(ue){singleLeaveBlur(ue)}),ae&&g.push(L)),re.isBlured=!1}),each$f(y,function($){$&&$.toggleBlurSeries&&$.toggleBlurSeries(g,!1,n)})}function blurSeries(r,n,g,y){var $=y.getModel();g=g||"coordinateSystem";function L(ue,he){for(var _e=0;_e<he.length;_e++){var Ce=ue.getItemGraphicEl(he[_e]);Ce&&leaveBlur(Ce)}}if(r!=null&&!(!n||n==="none")){var re=$.getSeriesByIndex(r),ae=re.coordinateSystem;ae&&ae.master&&(ae=ae.master);var le=[];$.eachSeries(function(ue){var he=re===ue,_e=ue.coordinateSystem;_e&&_e.master&&(_e=_e.master);var Ce=_e&&ae?_e===ae:he;if(!(g==="series"&&!he||g==="coordinateSystem"&&!Ce||n==="series"&&he)){var $e=y.getViewOfSeriesModel(ue);if($e.group.traverse(function(Ne){Ne.__highByOuter&&he&&n==="self"||singleEnterBlur(Ne)}),isArrayLike(n))L(ue.getData(),n);else if(isObject$3(n))for(var Oe=keys$1(n),xe=0;xe<Oe.length;xe++)L(ue.getData(Oe[xe]),n[Oe[xe]]);le.push(ue),getComponentStates(ue).isBlured=!0}}),$.eachComponent(function(ue,he){if(ue!=="series"){var _e=y.getViewOfComponentModel(he);_e&&_e.toggleBlurSeries&&_e.toggleBlurSeries(le,!0,$)}})}}function blurComponent(r,n,g){if(!(r==null||n==null)){var y=g.getModel().getComponent(r,n);if(y){getComponentStates(y).isBlured=!0;var $=g.getViewOfComponentModel(y);!$||!$.focusBlurEnabled||$.group.traverse(function(L){singleEnterBlur(L)})}}}function blurSeriesFromHighlightPayload(r,n,g){var y=r.seriesIndex,$=r.getData(n.dataType);if($){var L=queryDataIndex($,n);L=(isArray$2(L)?L[0]:L)||0;var re=$.getItemGraphicEl(L);if(!re)for(var ae=$.count(),le=0;!re&&le<ae;)re=$.getItemGraphicEl(le++);if(re){var ue=getECData(re);blurSeries(y,ue.focus,ue.blurScope,g)}else{var he=r.get(["emphasis","focus"]),_e=r.get(["emphasis","blurScope"]);he!=null&&blurSeries(y,he,_e,g)}}}function findComponentHighDownDispatchers(r,n,g,y){var $={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||n==null||g==null)return $;var L=y.getModel().getComponent(r,n);if(!L)return $;var re=y.getViewOfComponentModel(L);if(!re||!re.findHighDownDispatchers)return $;for(var ae=re.findHighDownDispatchers(g),le,ue=0;ue<ae.length;ue++)if(getECData(ae[ue]).focus==="self"){le=!0;break}return{focusSelf:le,dispatchers:ae}}function handleGlobalMouseOverForHighDown(r,n,g){var y=getECData(r),$=findComponentHighDownDispatchers(y.componentMainType,y.componentIndex,y.componentHighDownName,g),L=$.dispatchers,re=$.focusSelf;L?(re&&blurComponent(y.componentMainType,y.componentIndex,g),each$f(L,function(ae){return enterEmphasisWhenMouseOver(ae,n)})):(blurSeries(y.seriesIndex,y.focus,y.blurScope,g),y.focus==="self"&&blurComponent(y.componentMainType,y.componentIndex,g),enterEmphasisWhenMouseOver(r,n))}function handleGlobalMouseOutForHighDown(r,n,g){allLeaveBlur(g);var y=getECData(r),$=findComponentHighDownDispatchers(y.componentMainType,y.componentIndex,y.componentHighDownName,g).dispatchers;$?each$f($,function(L){return leaveEmphasisWhenMouseOut(L,n)}):leaveEmphasisWhenMouseOut(r,n)}function toggleSelectionFromPayload(r,n,g){if(isSelectChangePayload(n)){var y=n.dataType,$=r.getData(y),L=queryDataIndex($,n);isArray$2(L)||(L=[L]),r[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](L,y)}}function updateSeriesElementSelection(r){var n=r.getAllData();each$f(n,function(g){var y=g.data,$=g.type;y.eachItemGraphicEl(function(L,re){r.isSelected(re,$)?enterSelect(L):leaveSelect(L)})})}function getAllSelectedIndices(r){var n=[];return r.eachSeries(function(g){var y=g.getAllData();each$f(y,function($){$.data;var L=$.type,re=g.getSelectedDataIndices();if(re.length>0){var ae={dataIndex:re,seriesIndex:g.seriesIndex};L!=null&&(ae.dataType=L),n.push(ae)}})}),n}function enableHoverEmphasis(r,n,g){setAsHighDownDispatcher(r,!0),traverseUpdateState(r,setDefaultStateProxy),enableHoverFocus(r,n,g)}function disableHoverEmphasis(r){setAsHighDownDispatcher(r,!1)}function toggleHoverEmphasis(r,n,g,y){y?disableHoverEmphasis(r):enableHoverEmphasis(r,n,g)}function enableHoverFocus(r,n,g){var y=getECData(r);n!=null?(y.focus=n,y.blurScope=g):y.focus&&(y.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(r,n,g,y){g=g||"itemStyle";for(var $=0;$<OTHER_STATES.length;$++){var L=OTHER_STATES[$],re=n.getModel([L,g]),ae=r.ensureState(L);ae.style=y?y(re):re[defaultStyleGetterMap[g]]()}}function setAsHighDownDispatcher(r,n){var g=n===!1,y=r;r.highDownSilentOnTouch&&(y.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!g||y.__highDownDispatcher)&&(y.__highByOuter=y.__highByOuter||0,y.__highDownDispatcher=!g)}function isHighDownDispatcher(r){return!!(r&&r.__highDownDispatcher)}function enableComponentHighDownFeatures(r,n,g){var y=getECData(r);y.componentMainType=n.mainType,y.componentIndex=n.componentIndex,y.componentHighDownName=g}function getHighlightDigit(r){var n=_highlightKeyMap[r];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[r]=_highlightNextDigit++),n}function isSelectChangePayload(r){var n=r.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(r){var n=r.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(r){var n=getSavedStates(r);n.normalFill=r.style.fill,n.normalStroke=r.style.stroke;var g=r.states.select||{};n.selectFill=g.style&&g.style.fill||null,n.selectStroke=g.style&&g.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(r,n){if(n){var g=r.data,y=r.len(),$,L,re,ae,le,ue,he=CMD$2.M,_e=CMD$2.C,Ce=CMD$2.L,$e=CMD$2.R,Oe=CMD$2.A,xe=CMD$2.Q;for(re=0,ae=0;re<y;){switch($=g[re++],ae=re,L=0,$){case he:L=1;break;case Ce:L=1;break;case _e:L=3;break;case xe:L=2;break;case Oe:var Ne=n[4],Ie=n[5],Fe=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),Ve=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),ze=mathAtan2(-n[1]/Ve,n[0]/Fe);g[re]*=Fe,g[re++]+=Ne,g[re]*=Ve,g[re++]+=Ie,g[re++]*=Fe,g[re++]*=Ve,g[re++]+=ze,g[re++]+=ze,re+=2,ae=re;break;case $e:ue[0]=g[re++],ue[1]=g[re++],applyTransform$1(ue,ue,n),g[ae++]=ue[0],g[ae++]=ue[1],ue[0]+=g[re++],ue[1]+=g[re++],applyTransform$1(ue,ue,n),g[ae++]=ue[0],g[ae++]=ue[1]}for(le=0;le<L;le++){var Ue=points$2[le];Ue[0]=g[re++],Ue[1]=g[re++],applyTransform$1(Ue,Ue,n),g[ae++]=Ue[0],g[ae++]=Ue[1]}}r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vRatio(r,n){return(r[0]*n[0]+r[1]*n[1])/(vMag(r)*vMag(n))}function vAngle(r,n){return(r[0]*n[1]<r[1]*n[0]?-1:1)*Math.acos(vRatio(r,n))}function processArc(r,n,g,y,$,L,re,ae,le,ue,he){var _e=le*(PI$7/180),Ce=mathCos$2(_e)*(r-g)/2+mathSin$2(_e)*(n-y)/2,$e=-1*mathSin$2(_e)*(r-g)/2+mathCos$2(_e)*(n-y)/2,Oe=Ce*Ce/(re*re)+$e*$e/(ae*ae);Oe>1&&(re*=mathSqrt$1(Oe),ae*=mathSqrt$1(Oe));var xe=($===L?-1:1)*mathSqrt$1((re*re*(ae*ae)-re*re*($e*$e)-ae*ae*(Ce*Ce))/(re*re*($e*$e)+ae*ae*(Ce*Ce)))||0,Ne=xe*re*$e/ae,Ie=xe*-ae*Ce/re,Fe=(r+g)/2+mathCos$2(_e)*Ne-mathSin$2(_e)*Ie,Ve=(n+y)/2+mathSin$2(_e)*Ne+mathCos$2(_e)*Ie,ze=vAngle([1,0],[(Ce-Ne)/re,($e-Ie)/ae]),Ue=[(Ce-Ne)/re,($e-Ie)/ae],qe=[(-1*Ce-Ne)/re,(-1*$e-Ie)/ae],kt=vAngle(Ue,qe);if(vRatio(Ue,qe)<=-1&&(kt=PI$7),vRatio(Ue,qe)>=1&&(kt=0),kt<0){var Et=Math.round(kt/PI$7*1e6)/1e6;kt=PI$7*2+Et%2*PI$7}he.addData(ue,Fe,Ve,re,ae,ze,kt,_e,L)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(r){var n=new PathProxy;if(!r)return n;var g=0,y=0,$=g,L=y,re,ae=PathProxy.CMD,le=r.match(commandReg);if(!le)return n;for(var ue=0;ue<le.length;ue++){for(var he=le[ue],_e=he.charAt(0),Ce=void 0,$e=he.match(numberReg$1)||[],Oe=$e.length,xe=0;xe<Oe;xe++)$e[xe]=parseFloat($e[xe]);for(var Ne=0;Ne<Oe;){var Ie=void 0,Fe=void 0,Ve=void 0,ze=void 0,Ue=void 0,qe=void 0,kt=void 0,Et=g,Pt=y,At=void 0,Dt=void 0;switch(_e){case"l":g+=$e[Ne++],y+=$e[Ne++],Ce=ae.L,n.addData(Ce,g,y);break;case"L":g=$e[Ne++],y=$e[Ne++],Ce=ae.L,n.addData(Ce,g,y);break;case"m":g+=$e[Ne++],y+=$e[Ne++],Ce=ae.M,n.addData(Ce,g,y),$=g,L=y,_e="l";break;case"M":g=$e[Ne++],y=$e[Ne++],Ce=ae.M,n.addData(Ce,g,y),$=g,L=y,_e="L";break;case"h":g+=$e[Ne++],Ce=ae.L,n.addData(Ce,g,y);break;case"H":g=$e[Ne++],Ce=ae.L,n.addData(Ce,g,y);break;case"v":y+=$e[Ne++],Ce=ae.L,n.addData(Ce,g,y);break;case"V":y=$e[Ne++],Ce=ae.L,n.addData(Ce,g,y);break;case"C":Ce=ae.C,n.addData(Ce,$e[Ne++],$e[Ne++],$e[Ne++],$e[Ne++],$e[Ne++],$e[Ne++]),g=$e[Ne-2],y=$e[Ne-1];break;case"c":Ce=ae.C,n.addData(Ce,$e[Ne++]+g,$e[Ne++]+y,$e[Ne++]+g,$e[Ne++]+y,$e[Ne++]+g,$e[Ne++]+y),g+=$e[Ne-2],y+=$e[Ne-1];break;case"S":Ie=g,Fe=y,At=n.len(),Dt=n.data,re===ae.C&&(Ie+=g-Dt[At-4],Fe+=y-Dt[At-3]),Ce=ae.C,Et=$e[Ne++],Pt=$e[Ne++],g=$e[Ne++],y=$e[Ne++],n.addData(Ce,Ie,Fe,Et,Pt,g,y);break;case"s":Ie=g,Fe=y,At=n.len(),Dt=n.data,re===ae.C&&(Ie+=g-Dt[At-4],Fe+=y-Dt[At-3]),Ce=ae.C,Et=g+$e[Ne++],Pt=y+$e[Ne++],g+=$e[Ne++],y+=$e[Ne++],n.addData(Ce,Ie,Fe,Et,Pt,g,y);break;case"Q":Et=$e[Ne++],Pt=$e[Ne++],g=$e[Ne++],y=$e[Ne++],Ce=ae.Q,n.addData(Ce,Et,Pt,g,y);break;case"q":Et=$e[Ne++]+g,Pt=$e[Ne++]+y,g+=$e[Ne++],y+=$e[Ne++],Ce=ae.Q,n.addData(Ce,Et,Pt,g,y);break;case"T":Ie=g,Fe=y,At=n.len(),Dt=n.data,re===ae.Q&&(Ie+=g-Dt[At-4],Fe+=y-Dt[At-3]),g=$e[Ne++],y=$e[Ne++],Ce=ae.Q,n.addData(Ce,Ie,Fe,g,y);break;case"t":Ie=g,Fe=y,At=n.len(),Dt=n.data,re===ae.Q&&(Ie+=g-Dt[At-4],Fe+=y-Dt[At-3]),g+=$e[Ne++],y+=$e[Ne++],Ce=ae.Q,n.addData(Ce,Ie,Fe,g,y);break;case"A":Ve=$e[Ne++],ze=$e[Ne++],Ue=$e[Ne++],qe=$e[Ne++],kt=$e[Ne++],Et=g,Pt=y,g=$e[Ne++],y=$e[Ne++],Ce=ae.A,processArc(Et,Pt,g,y,qe,kt,Ve,ze,Ue,Ce,n);break;case"a":Ve=$e[Ne++],ze=$e[Ne++],Ue=$e[Ne++],qe=$e[Ne++],kt=$e[Ne++],Et=g,Pt=y,g+=$e[Ne++],y+=$e[Ne++],Ce=ae.A,processArc(Et,Pt,g,y,qe,kt,Ve,ze,Ue,Ce,n);break}}(_e==="z"||_e==="Z")&&(Ce=ae.Z,n.addData(Ce),g=$,y=L),re=Ce}return n.toStatic(),n}var SVGPath=function(r){__extends(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.applyTransform=function(g){},n}(Path);function isPathProxy(r){return r.setData!=null}function createPathOptions(r,n){var g=createPathProxyFromString(r),y=extend({},n);return y.buildPath=function($){if(isPathProxy($)){$.setData(g.data);var L=$.getContext();L&&$.rebuildPath(L,1)}else{var L=$;g.rebuildPath(L,1)}},y.applyTransform=function($){transformPath(g,$),this.dirtyShape()},y}function createFromString(r,n){return new SVGPath(createPathOptions(r,n))}function extendFromString(r,n){var g=createPathOptions(r,n),y=function($){__extends(L,$);function L(re){var ae=$.call(this,re)||this;return ae.applyTransform=g.applyTransform,ae.buildPath=g.buildPath,ae}return L}(SVGPath);return y}function mergePath$1(r,n){for(var g=[],y=r.length,$=0;$<y;$++){var L=r[$];g.push(L.getUpdatedPathProxy(!0))}var re=new Path(n);return re.createPathProxy(),re.buildPath=function(ae){if(isPathProxy(ae)){ae.appendPath(g);var le=ae.getContext();le&&ae.rebuildPath(le,1)}},re}function clonePath(r,n){n=n||{};var g=new Path;return r.shape&&g.setShape(r.shape),g.setStyle(r.style),n.bakeTransform?transformPath(g.path,r.getComputedTransform()):n.toLocal?g.setLocalTransform(r.getComputedTransform()):g.copyTransform(r),g.buildPath=r.buildPath,g.applyTransform=g.applyTransform,g.z=r.z,g.z2=r.z2,g.zlevel=r.zlevel,g}var CircleShape=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),Circle=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(g,y){g.moveTo(y.cx+y.r,y.cy),g.arc(y.cx,y.cy,y.r,0,Math.PI*2)},n}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),Ellipse=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(g,y){var $=.5522848,L=y.cx,re=y.cy,ae=y.rx,le=y.ry,ue=ae*$,he=le*$;g.moveTo(L-ae,re),g.bezierCurveTo(L-ae,re-he,L-ue,re-le,L,re-le),g.bezierCurveTo(L+ue,re-le,L+ae,re-he,L+ae,re),g.bezierCurveTo(L+ae,re+he,L+ue,re+le,L,re+le),g.bezierCurveTo(L-ue,re+le,L-ae,re+he,L-ae,re),g.closePath()},n}(Path);Ellipse.prototype.type="ellipse";var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(r,n,g,y,$,L,re,ae){var le=g-r,ue=y-n,he=re-$,_e=ae-L,Ce=_e*le-he*ue;if(!(Ce*Ce<e))return Ce=(he*(n-L)-_e*(r-$))/Ce,[r+Ce*le,n+Ce*ue]}function computeCornerTangents(r,n,g,y,$,L,re){var ae=r-g,le=n-y,ue=(re?L:-L)/mathSqrt(ae*ae+le*le),he=ue*le,_e=-ue*ae,Ce=r+he,$e=n+_e,Oe=g+he,xe=y+_e,Ne=(Ce+Oe)/2,Ie=($e+xe)/2,Fe=Oe-Ce,Ve=xe-$e,ze=Fe*Fe+Ve*Ve,Ue=$-L,qe=Ce*xe-Oe*$e,kt=(Ve<0?-1:1)*mathSqrt(mathMax$7(0,Ue*Ue*ze-qe*qe)),Et=(qe*Ve-Fe*kt)/ze,Pt=(-qe*Fe-Ve*kt)/ze,At=(qe*Ve+Fe*kt)/ze,Dt=(-qe*Fe+Ve*kt)/ze,Lt=Et-Ne,hn=Pt-Ie,_n=At-Ne,vn=Dt-Ie;return Lt*Lt+hn*hn>_n*_n+vn*vn&&(Et=At,Pt=Dt),{cx:Et,cy:Pt,x0:-he,y0:-_e,x1:Et*($/Ue-1),y1:Pt*($/Ue-1)}}function normalizeCornerRadius(r){var n;if(isArray$2(r)){var g=r.length;if(!g)return r;g===1?n=[r[0],r[0],0,0]:g===2?n=[r[0],r[0],r[1],r[1]]:g===3?n=r.concat(r[2]):n=r}else n=[r,r,r,r];return n}function buildPath$1(r,n){var g,y=mathMax$7(n.r,0),$=mathMax$7(n.r0||0,0),L=y>0,re=$>0;if(!(!L&&!re)){if(L||(y=$,$=0),$>y){var ae=y;y=$,$=ae}var le=n.startAngle,ue=n.endAngle;if(!(isNaN(le)||isNaN(ue))){var he=n.cx,_e=n.cy,Ce=!!n.clockwise,$e=mathAbs$1(ue-le),Oe=$e>PI2$3&&$e%PI2$3;if(Oe>e&&($e=Oe),!(y>e))r.moveTo(he,_e);else if($e>PI2$3-e)r.moveTo(he+y*mathCos$1(le),_e+y*mathSin$1(le)),r.arc(he,_e,y,le,ue,!Ce),$>e&&(r.moveTo(he+$*mathCos$1(ue),_e+$*mathSin$1(ue)),r.arc(he,_e,$,ue,le,Ce));else{var xe=void 0,Ne=void 0,Ie=void 0,Fe=void 0,Ve=void 0,ze=void 0,Ue=void 0,qe=void 0,kt=void 0,Et=void 0,Pt=void 0,At=void 0,Dt=void 0,Lt=void 0,hn=void 0,_n=void 0,vn=y*mathCos$1(le),jt=y*mathSin$1(le),$n=$*mathCos$1(ue),Sn=$*mathSin$1(ue),bn=$e>e;if(bn){var wn=n.cornerRadius;wn&&(g=normalizeCornerRadius(wn),xe=g[0],Ne=g[1],Ie=g[2],Fe=g[3]);var On=mathAbs$1(y-$)/2;if(Ve=mathMin$7(On,Ie),ze=mathMin$7(On,Fe),Ue=mathMin$7(On,xe),qe=mathMin$7(On,Ne),Pt=kt=mathMax$7(Ve,ze),At=Et=mathMax$7(Ue,qe),(kt>e||Et>e)&&(Dt=y*mathCos$1(ue),Lt=y*mathSin$1(ue),hn=$*mathCos$1(le),_n=$*mathSin$1(le),$e<PI$6)){var Tn=intersect(vn,jt,hn,_n,Dt,Lt,$n,Sn);if(Tn){var xn=vn-Tn[0],Pn=jt-Tn[1],An=Dt-Tn[0],Rn=Lt-Tn[1],Nn=1/mathSin$1(mathACos((xn*An+Pn*Rn)/(mathSqrt(xn*xn+Pn*Pn)*mathSqrt(An*An+Rn*Rn)))/2),Dn=mathSqrt(Tn[0]*Tn[0]+Tn[1]*Tn[1]);Pt=mathMin$7(kt,(y-Dn)/(Nn+1)),At=mathMin$7(Et,($-Dn)/(Nn-1))}}}if(!bn)r.moveTo(he+vn,_e+jt);else if(Pt>e){var In=mathMin$7(Ie,Pt),Fn=mathMin$7(Fe,Pt),Bn=computeCornerTangents(hn,_n,vn,jt,y,In,Ce),Mn=computeCornerTangents(Dt,Lt,$n,Sn,y,Fn,Ce);r.moveTo(he+Bn.cx+Bn.x0,_e+Bn.cy+Bn.y0),Pt<kt&&In===Fn?r.arc(he+Bn.cx,_e+Bn.cy,Pt,mathATan2(Bn.y0,Bn.x0),mathATan2(Mn.y0,Mn.x0),!Ce):(In>0&&r.arc(he+Bn.cx,_e+Bn.cy,In,mathATan2(Bn.y0,Bn.x0),mathATan2(Bn.y1,Bn.x1),!Ce),r.arc(he,_e,y,mathATan2(Bn.cy+Bn.y1,Bn.cx+Bn.x1),mathATan2(Mn.cy+Mn.y1,Mn.cx+Mn.x1),!Ce),Fn>0&&r.arc(he+Mn.cx,_e+Mn.cy,Fn,mathATan2(Mn.y1,Mn.x1),mathATan2(Mn.y0,Mn.x0),!Ce))}else r.moveTo(he+vn,_e+jt),r.arc(he,_e,y,le,ue,!Ce);if(!($>e)||!bn)r.lineTo(he+$n,_e+Sn);else if(At>e){var In=mathMin$7(xe,At),Fn=mathMin$7(Ne,At),Bn=computeCornerTangents($n,Sn,Dt,Lt,$,-Fn,Ce),Mn=computeCornerTangents(vn,jt,hn,_n,$,-In,Ce);r.lineTo(he+Bn.cx+Bn.x0,_e+Bn.cy+Bn.y0),At<Et&&In===Fn?r.arc(he+Bn.cx,_e+Bn.cy,At,mathATan2(Bn.y0,Bn.x0),mathATan2(Mn.y0,Mn.x0),!Ce):(Fn>0&&r.arc(he+Bn.cx,_e+Bn.cy,Fn,mathATan2(Bn.y0,Bn.x0),mathATan2(Bn.y1,Bn.x1),!Ce),r.arc(he,_e,$,mathATan2(Bn.cy+Bn.y1,Bn.cx+Bn.x1),mathATan2(Mn.cy+Mn.y1,Mn.cx+Mn.x1),Ce),In>0&&r.arc(he+Mn.cx,_e+Mn.cy,In,mathATan2(Mn.y1,Mn.x1),mathATan2(Mn.y0,Mn.x0),!Ce))}else r.lineTo(he+$n,_e+Sn),r.arc(he,_e,$,ue,le,Ce)}r.closePath()}}}var SectorShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),Sector=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(g,y){buildPath$1(g,y)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path);Sector.prototype.type="sector";var RingShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ring=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(g,y){var $=y.cx,L=y.cy,re=Math.PI*2;g.moveTo($+y.r,L),g.arc($,L,y.r,0,re,!1),g.moveTo($+y.r0,L),g.arc($,L,y.r0,0,re,!0)},n}(Path);Ring.prototype.type="ring";function smoothBezier(r,n,g,y){var $=[],L=[],re=[],ae=[],le,ue,he,_e;if(y){he=[1/0,1/0],_e=[-1/0,-1/0];for(var Ce=0,$e=r.length;Ce<$e;Ce++)min$2(he,he,r[Ce]),max$2(_e,_e,r[Ce]);min$2(he,he,y[0]),max$2(_e,_e,y[1])}for(var Ce=0,$e=r.length;Ce<$e;Ce++){var Oe=r[Ce];if(g)le=r[Ce?Ce-1:$e-1],ue=r[(Ce+1)%$e];else if(Ce===0||Ce===$e-1){$.push(clone$3(r[Ce]));continue}else le=r[Ce-1],ue=r[Ce+1];sub(L,ue,le),scale$2(L,L,n);var xe=distance(Oe,le),Ne=distance(Oe,ue),Ie=xe+Ne;Ie!==0&&(xe/=Ie,Ne/=Ie),scale$2(re,L,-xe),scale$2(ae,L,Ne);var Fe=add$1([],Oe,re),Ve=add$1([],Oe,ae);y&&(max$2(Fe,Fe,he),min$2(Fe,Fe,_e),max$2(Ve,Ve,he),min$2(Ve,Ve,_e)),$.push(Fe),$.push(Ve)}return g&&$.push($.shift()),$}function buildPath(r,n,g){var y=n.smooth,$=n.points;if($&&$.length>=2){if(y){var L=smoothBezier($,y,g,n.smoothConstraint);r.moveTo($[0][0],$[0][1]);for(var re=$.length,ae=0;ae<(g?re:re-1);ae++){var le=L[ae*2],ue=L[ae*2+1],he=$[(ae+1)%re];r.bezierCurveTo(le[0],le[1],ue[0],ue[1],he[0],he[1])}}else{r.moveTo($[0][0],$[0][1]);for(var ae=1,_e=$.length;ae<_e;ae++)r.lineTo($[ae][0],$[ae][1])}g&&r.closePath()}}var PolygonShape=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),Polygon=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(g,y){buildPath(g,y,!0)},n}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),Polyline$1=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(g,y){buildPath(g,y,!1)},n}(Path);Polyline$1.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Line$2=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(g,y){var $,L,re,ae;if(this.subPixelOptimize){var le=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,y,this.style);$=le.x1,L=le.y1,re=le.x2,ae=le.y2}else $=y.x1,L=y.y1,re=y.x2,ae=y.y2;var ue=y.percent;ue!==0&&(g.moveTo($,L),ue<1&&(re=$*(1-ue)+re*ue,ae=L*(1-ue)+ae*ue),g.lineTo(re,ae))},n.prototype.pointAt=function(g){var y=this.shape;return[y.x1*(1-g)+y.x2*g,y.y1*(1-g)+y.y2*g]},n}(Path);Line$2.prototype.type="line";var out=[],BezierCurveShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function someVectorAt(r,n,g){var y=r.cpx2,$=r.cpy2;return y!=null||$!=null?[(g?cubicDerivativeAt:cubicAt)(r.x1,r.cpx1,r.cpx2,r.x2,n),(g?cubicDerivativeAt:cubicAt)(r.y1,r.cpy1,r.cpy2,r.y2,n)]:[(g?quadraticDerivativeAt:quadraticAt$1)(r.x1,r.cpx1,r.x2,n),(g?quadraticDerivativeAt:quadraticAt$1)(r.y1,r.cpy1,r.y2,n)]}var BezierCurve=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(g,y){var $=y.x1,L=y.y1,re=y.x2,ae=y.y2,le=y.cpx1,ue=y.cpy1,he=y.cpx2,_e=y.cpy2,Ce=y.percent;Ce!==0&&(g.moveTo($,L),he==null||_e==null?(Ce<1&&(quadraticSubdivide($,le,re,Ce,out),le=out[1],re=out[2],quadraticSubdivide(L,ue,ae,Ce,out),ue=out[1],ae=out[2]),g.quadraticCurveTo(le,ue,re,ae)):(Ce<1&&(cubicSubdivide($,le,he,re,Ce,out),le=out[1],he=out[2],re=out[3],cubicSubdivide(L,ue,_e,ae,Ce,out),ue=out[1],_e=out[2],ae=out[3]),g.bezierCurveTo(le,ue,he,_e,re,ae)))},n.prototype.pointAt=function(g){return someVectorAt(this.shape,g,!1)},n.prototype.tangentAt=function(g){var y=someVectorAt(this.shape,g,!0);return normalize$3(y,y)},n}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),Arc=function(r){__extends(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(g,y){var $=y.cx,L=y.cy,re=Math.max(y.r,0),ae=y.startAngle,le=y.endAngle,ue=y.clockwise,he=Math.cos(ae),_e=Math.sin(ae);g.moveTo(he*re+$,_e*re+L),g.arc($,L,re,ae,le,!ue)},n}(Path);Arc.prototype.type="arc";var CompoundPath=function(r){__extends(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="compound",g}return n.prototype._updatePathDirty=function(){for(var g=this.shape.paths,y=this.shapeChanged(),$=0;$<g.length;$++)y=y||g[$].shapeChanged();y&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var g=this.shape.paths||[],y=this.getGlobalScale(),$=0;$<g.length;$++)g[$].path||g[$].createPathProxy(),g[$].path.setScale(y[0],y[1],g[$].segmentIgnoreThreshold)},n.prototype.buildPath=function(g,y){for(var $=y.paths||[],L=0;L<$.length;L++)$[L].buildPath(g,$[L].shape,!0)},n.prototype.afterBrush=function(){for(var g=this.shape.paths||[],y=0;y<g.length;y++)g[y].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},n}(Path),Gradient=function(){function r(n){this.colorStops=n||[]}return r.prototype.addColorStop=function(n,g){this.colorStops.push({offset:n,color:g})},r}(),LinearGradient=function(r){__extends(n,r);function n(g,y,$,L,re,ae){var le=r.call(this,re)||this;return le.x=g??0,le.y=y??0,le.x2=$??1,le.y2=L??0,le.type="linear",le.global=ae||!1,le}return n}(Gradient),RadialGradient=function(r){__extends(n,r);function n(g,y,$,L,re){var ae=r.call(this,L)||this;return ae.x=g??.5,ae.y=y??.5,ae.r=$??.5,ae.type="radial",ae.global=re||!1,ae}return n}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function r(n,g){this._corners=[],this._axes=[],this._origin=[0,0];for(var y=0;y<4;y++)this._corners[y]=new Point;for(var y=0;y<2;y++)this._axes[y]=new Point;n&&this.fromBoundingRect(n,g)}return r.prototype.fromBoundingRect=function(n,g){var y=this._corners,$=this._axes,L=n.x,re=n.y,ae=L+n.width,le=re+n.height;if(y[0].set(L,re),y[1].set(ae,re),y[2].set(ae,le),y[3].set(L,le),g)for(var ue=0;ue<4;ue++)y[ue].transform(g);Point.sub($[0],y[1],y[0]),Point.sub($[1],y[3],y[0]),$[0].normalize(),$[1].normalize();for(var ue=0;ue<2;ue++)this._origin[ue]=$[ue].dot(y[0])},r.prototype.intersect=function(n,g){var y=!0,$=!g;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,$,1)&&(y=!1,$)||!this._intersectCheckOneSide(n,this,minTv,maxTv,$,-1)&&(y=!1,$)||$||Point.copy(g,y?minTv:maxTv),y},r.prototype._intersectCheckOneSide=function(n,g,y,$,L,re){for(var ae=!0,le=0;le<2;le++){var ue=this._axes[le];if(this._getProjMinMaxOnAxis(le,n._corners,extent),this._getProjMinMaxOnAxis(le,g._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(ae=!1,L)return ae;var he=Math.abs(extent2[0]-extent[1]),_e=Math.abs(extent[0]-extent2[1]);Math.min(he,_e)>$.len()&&(he<_e?Point.scale($,ue,-he*re):Point.scale($,ue,_e*re))}else if(y){var he=Math.abs(extent2[0]-extent[1]),_e=Math.abs(extent[0]-extent2[1]);Math.min(he,_e)<y.len()&&(he<_e?Point.scale(y,ue,he*re):Point.scale(y,ue,-_e*re))}}return ae},r.prototype._getProjMinMaxOnAxis=function(n,g,y){for(var $=this._axes[n],L=this._origin,re=g[0].dot($)+L[n],ae=re,le=re,ue=1;ue<g.length;ue++){var he=g[ue].dot($)+L[n];ae=Math.min(he,ae),le=Math.max(he,le)}y[0]=ae,y[1]=le},r}(),m=[],IncrementalDisplayable=function(r){__extends(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.notClear=!0,g.incremental=!0,g._displayables=[],g._temporaryDisplayables=[],g._cursor=0,g}return n.prototype.traverse=function(g,y){g.call(y,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(g,y){y?this._temporaryDisplayables.push(g):this._displayables.push(g),this.markRedraw()},n.prototype.addDisplayables=function(g,y){y=y||!1;for(var $=0;$<g.length;$++)this.addDisplayable(g[$],y)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(g){for(var y=this._cursor;y<this._displayables.length;y++)g&&g(this._displayables[y]);for(var y=0;y<this._temporaryDisplayables.length;y++)g&&g(this._temporaryDisplayables[y])},n.prototype.update=function(){this.updateTransform();for(var g=this._cursor;g<this._displayables.length;g++){var y=this._displayables[g];y.parent=this,y.update(),y.parent=null}for(var g=0;g<this._temporaryDisplayables.length;g++){var y=this._temporaryDisplayables[g];y.parent=this,y.update(),y.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var g=new BoundingRect(1/0,1/0,-1/0,-1/0),y=0;y<this._displayables.length;y++){var $=this._displayables[y],L=$.getBoundingRect().clone();$.needLocalTransform()&&L.applyTransform($.getLocalTransform(m)),g.union(L)}this._rect=g}return this._rect},n.prototype.contain=function(g,y){var $=this.transformCoordToLocal(g,y),L=this.getBoundingRect();if(L.contain($[0],$[1]))for(var re=0;re<this._displayables.length;re++){var ae=this._displayables[re];if(ae.contain(g,y))return!0}return!1},n}(Displayable),transitionStore=makeInner();function getAnimationConfig(r,n,g,y,$){var L;if(n&&n.ecModel){var re=n.ecModel.getUpdatePayload();L=re&&re.animation}var ae=n&&n.isAnimationEnabled(),le=r==="update";if(ae){var ue=void 0,he=void 0,_e=void 0;y?(ue=retrieve2(y.duration,200),he=retrieve2(y.easing,"cubicOut"),_e=0):(ue=n.getShallow(le?"animationDurationUpdate":"animationDuration"),he=n.getShallow(le?"animationEasingUpdate":"animationEasing"),_e=n.getShallow(le?"animationDelayUpdate":"animationDelay")),L&&(L.duration!=null&&(ue=L.duration),L.easing!=null&&(he=L.easing),L.delay!=null&&(_e=L.delay)),isFunction(_e)&&(_e=_e(g,$)),isFunction(ue)&&(ue=ue(g));var Ce={duration:ue||0,delay:_e,easing:he};return Ce}else return null}function animateOrSetProps(r,n,g,y,$,L,re){var ae=!1,le;isFunction($)?(re=L,L=$,$=null):isObject$3($)&&(L=$.cb,re=$.during,ae=$.isFrom,le=$.removeOpt,$=$.dataIndex);var ue=r==="leave";ue||n.stopAnimation("leave");var he=getAnimationConfig(r,y,$,ue?le||{}:null,y&&y.getAnimationDelayParams?y.getAnimationDelayParams(n,$):null);if(he&&he.duration>0){var _e=he.duration,Ce=he.delay,$e=he.easing,Oe={duration:_e,delay:Ce||0,easing:$e,done:L,force:!!L||!!re,setToFinal:!ue,scope:r,during:re};ae?n.animateFrom(g,Oe):n.animateTo(g,Oe)}else n.stopAnimation(),!ae&&n.attr(g),re&&re(1),L&&L()}function updateProps$1(r,n,g,y,$,L){animateOrSetProps("update",r,n,g,y,$,L)}function initProps(r,n,g,y,$,L){animateOrSetProps("enter",r,n,g,y,$,L)}function isElementRemoved(r){if(!r.__zr)return!0;for(var n=0;n<r.animators.length;n++){var g=r.animators[n];if(g.scope==="leave")return!0}return!1}function removeElement(r,n,g,y,$,L){isElementRemoved(r)||animateOrSetProps("leave",r,n,g,y,$,L)}function fadeOutDisplayable(r,n,g,y){r.removeTextContent(),r.removeTextGuideLine(),removeElement(r,{style:{opacity:0}},n,g,y)}function removeElementWithFadeOut(r,n,g){function y(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function($){$.isGroup||fadeOutDisplayable($,n,g,y)}):fadeOutDisplayable(r,n,g,y)}function saveOldStyle(r){transitionStore(r).oldStyle=r.style}function getOldStyle(r){return transitionStore(r).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(r){return Path.extend(r)}var extendPathFromString=extendFromString;function extendPath(r,n){return extendPathFromString(r,n)}function registerShape(r,n){_customShapeMap[r]=n}function getShapeClass(r){if(_customShapeMap.hasOwnProperty(r))return _customShapeMap[r]}function makePath(r,n,g,y){var $=createFromString(r,n);return g&&(y==="center"&&(g=centerGraphic(g,$.getBoundingRect())),resizePath($,g)),$}function makeImage(r,n,g){var y=new ZRImage({style:{image:r,x:n.x,y:n.y,width:n.width,height:n.height},onload:function($){if(g==="center"){var L={width:$.width,height:$.height};y.setStyle(centerGraphic(n,L))}}});return y}function centerGraphic(r,n){var g=n.width/n.height,y=r.height*g,$;y<=r.width?$=r.height:(y=r.width,$=y/g);var L=r.x+r.width/2,re=r.y+r.height/2;return{x:L-y/2,y:re-$/2,width:y,height:$}}var mergePath=mergePath$1;function resizePath(r,n){if(r.applyTransform){var g=r.getBoundingRect(),y=g.calculateTransform(n);r.applyTransform(y)}}function subPixelOptimizeLine(r,n){return subPixelOptimizeLine$1(r,r,{lineWidth:n}),r}function subPixelOptimizeRect(r){return subPixelOptimizeRect$1(r.shape,r.shape,r.style),r}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(r,n){for(var g=identity([]);r&&r!==n;)mul(g,r.getLocalTransform(),g),r=r.parent;return g}function applyTransform(r,n,g){return n&&!isArrayLike(n)&&(n=Transformable.getLocalTransform(n)),g&&(n=invert([],n)),applyTransform$1([],r,n)}function transformDirection(r,n,g){var y=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),$=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),L=[r==="left"?-y:r==="right"?y:0,r==="top"?-$:r==="bottom"?$:0];return L=applyTransform(L,n,g),Math.abs(L[0])>Math.abs(L[1])?L[0]>0?"right":"left":L[1]>0?"bottom":"top"}function isNotGroup(r){return!r.isGroup}function isPath$1(r){return r.shape!=null}function groupTransition(r,n,g){if(!r||!n)return;function y(re){var ae={};return re.traverse(function(le){isNotGroup(le)&&le.anid&&(ae[le.anid]=le)}),ae}function $(re){var ae={x:re.x,y:re.y,rotation:re.rotation};return isPath$1(re)&&(ae.shape=extend({},re.shape)),ae}var L=y(r);n.traverse(function(re){if(isNotGroup(re)&&re.anid){var ae=L[re.anid];if(ae){var le=$(re);re.attr($(ae)),updateProps$1(re,le,g,getECData(re).dataIndex)}}})}function clipPointsByRect(r,n){return map$1(r,function(g){var y=g[0];y=mathMax$6(y,n.x),y=mathMin$6(y,n.x+n.width);var $=g[1];return $=mathMax$6($,n.y),$=mathMin$6($,n.y+n.height),[y,$]})}function clipRectByRect(r,n){var g=mathMax$6(r.x,n.x),y=mathMin$6(r.x+r.width,n.x+n.width),$=mathMax$6(r.y,n.y),L=mathMin$6(r.y+r.height,n.y+n.height);if(y>=g&&L>=$)return{x:g,y:$,width:y-g,height:L-$}}function createIcon(r,n,g){var y=extend({rectHover:!0},n),$=y.style={strokeNoScale:!0};if(g=g||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?($.image=r.slice(8),defaults$2($,g),new ZRImage(y)):makePath(r.replace("path://",""),y,g,"center")}function linePolygonIntersect(r,n,g,y,$){for(var L=0,re=$[$.length-1];L<$.length;L++){var ae=$[L];if(lineLineIntersect$1(r,n,g,y,ae[0],ae[1],re[0],re[1]))return!0;re=ae}}function lineLineIntersect$1(r,n,g,y,$,L,re,ae){var le=g-r,ue=y-n,he=re-$,_e=ae-L,Ce=crossProduct2d$1(he,_e,le,ue);if(nearZero(Ce))return!1;var $e=r-$,Oe=n-L,xe=crossProduct2d$1($e,Oe,le,ue)/Ce;if(xe<0||xe>1)return!1;var Ne=crossProduct2d$1($e,Oe,he,_e)/Ce;return!(Ne<0||Ne>1)}function crossProduct2d$1(r,n,g,y){return r*y-g*n}function nearZero(r){return r<=1e-6&&r>=-1e-6}function setTooltipConfig(r){var n=r.itemTooltipOption,g=r.componentModel,y=r.itemName,$=isString(n)?{formatter:n}:n,L=g.mainType,re=g.componentIndex,ae={componentType:L,name:y,$vars:["name"]};ae[L+"Index"]=re;var le=r.formatterParamsExtra;le&&each$f(keys$1(le),function(he){hasOwn(ae,he)||(ae[he]=le[he],ae.$vars.push(he))});var ue=getECData(r.el);ue.componentMainType=L,ue.componentIndex=re,ue.tooltipConfig={name:y,option:defaults$2({content:y,encodeHTMLContent:!0,formatterParams:ae},$)}}function traverseElement(r,n){var g;r.isGroup&&(g=n(r)),g||r.traverse(n)}function traverseElements(r,n){if(r)if(isArray$2(r))for(var g=0;g<r.length;g++)traverseElement(r[g],n);else traverseElement(r,n)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$2);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic$1=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$2,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(r,n){for(var g=0;g<SPECIAL_STATES.length;g++){var y=SPECIAL_STATES[g],$=n[y],L=r.ensureState(y);L.style=L.style||{},L.style.text=$}var re=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:n.normal}),r.useStates(re,!0)}function getLabelText(r,n,g){var y=r.labelFetcher,$=r.labelDataIndex,L=r.labelDimIndex,re=n.normal,ae;y&&(ae=y.getFormattedLabel($,"normal",null,L,re&&re.get("formatter"),g!=null?{interpolatedValue:g}:null)),ae==null&&(ae=isFunction(r.defaultText)?r.defaultText($,r,g):r.defaultText);for(var le={normal:ae},ue=0;ue<SPECIAL_STATES.length;ue++){var he=SPECIAL_STATES[ue],_e=n[he];le[he]=retrieve2(y?y.getFormattedLabel($,he,null,L,_e&&_e.get("formatter")):null,ae)}return le}function setLabelStyle(r,n,g,y){g=g||EMPTY_OBJ;for(var $=r instanceof ZRText,L=!1,re=0;re<DISPLAY_STATES.length;re++){var ae=n[DISPLAY_STATES[re]];if(ae&&ae.getShallow("show")){L=!0;break}}var le=$?r:r.getTextContent();if(L){$||(le||(le=new ZRText,r.setTextContent(le)),r.stateProxy&&(le.stateProxy=r.stateProxy));var ue=getLabelText(g,n),he=n.normal,_e=!!he.getShallow("show"),Ce=createTextStyle$1(he,y&&y.normal,g,!1,!$);Ce.text=ue.normal,$||r.setTextConfig(createTextConfig(he,g,!1));for(var re=0;re<SPECIAL_STATES.length;re++){var $e=SPECIAL_STATES[re],ae=n[$e];if(ae){var Oe=le.ensureState($e),xe=!!retrieve2(ae.getShallow("show"),_e);if(xe!==_e&&(Oe.ignore=!xe),Oe.style=createTextStyle$1(ae,y&&y[$e],g,!0,!$),Oe.style.text=ue[$e],!$){var Ne=r.ensureState($e);Ne.textConfig=createTextConfig(ae,g,!0)}}}le.silent=!!he.getShallow("silent"),le.style.x!=null&&(Ce.x=le.style.x),le.style.y!=null&&(Ce.y=le.style.y),le.ignore=!_e,le.useStyle(Ce),le.dirty(),g.enableTextSetter&&(labelInner(le).setLabelText=function(Ie){var Fe=getLabelText(g,n,Ie);setLabelText(le,Fe)})}else le&&(le.ignore=!0);r.dirty()}function getLabelStatesModels(r,n){n=n||"label";for(var g={normal:r.getModel(n)},y=0;y<SPECIAL_STATES.length;y++){var $=SPECIAL_STATES[y];g[$]=r.getModel([$,n])}return g}function createTextStyle$1(r,n,g,y,$){var L={};return setTextStyleCommon(L,r,g,y,$),n&&extend(L,n),L}function createTextConfig(r,n,g){n=n||{};var y={},$,L=r.getShallow("rotate"),re=retrieve2(r.getShallow("distance"),g?null:5),ae=r.getShallow("offset");return $=r.getShallow("position")||(g?null:"inside"),$==="outside"&&($=n.defaultOutsidePosition||"top"),$!=null&&(y.position=$),ae!=null&&(y.offset=ae),L!=null&&(L*=Math.PI/180,y.rotation=L),re!=null&&(y.distance=re),y.outsideFill=r.get("color")==="inherit"?n.inheritColor||null:"auto",y}function setTextStyleCommon(r,n,g,y,$){g=g||EMPTY_OBJ;var L=n.ecModel,re=L&&L.option.textStyle,ae=getRichItemNames(n),le;if(ae){le={};for(var ue in ae)if(ae.hasOwnProperty(ue)){var he=n.getModel(["rich",ue]);setTokenTextStyle(le[ue]={},he,re,g,y,$,!1,!0)}}le&&(r.rich=le);var _e=n.get("overflow");_e&&(r.overflow=_e);var Ce=n.get("minMargin");Ce!=null&&(r.margin=Ce),setTokenTextStyle(r,n,re,g,y,$,!0,!1)}function getRichItemNames(r){for(var n;r&&r!==r.ecModel;){var g=(r.option||EMPTY_OBJ).rich;if(g){n=n||{};for(var y=keys$1(g),$=0;$<y.length;$++){var L=y[$];n[L]=1}}r=r.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(r,n,g,y,$,L,re,ae){g=!$&&g||EMPTY_OBJ;var le=y&&y.inheritColor,ue=n.getShallow("color"),he=n.getShallow("textBorderColor"),_e=retrieve2(n.getShallow("opacity"),g.opacity);(ue==="inherit"||ue==="auto")&&(le?ue=le:ue=null),(he==="inherit"||he==="auto")&&(le?he=le:he=null),L||(ue=ue||g.color,he=he||g.textBorderColor),ue!=null&&(r.fill=ue),he!=null&&(r.stroke=he);var Ce=retrieve2(n.getShallow("textBorderWidth"),g.textBorderWidth);Ce!=null&&(r.lineWidth=Ce);var $e=retrieve2(n.getShallow("textBorderType"),g.textBorderType);$e!=null&&(r.lineDash=$e);var Oe=retrieve2(n.getShallow("textBorderDashOffset"),g.textBorderDashOffset);Oe!=null&&(r.lineDashOffset=Oe),!$&&_e==null&&!ae&&(_e=y&&y.defaultOpacity),_e!=null&&(r.opacity=_e),!$&&!L&&r.fill==null&&y.inheritColor&&(r.fill=y.inheritColor);for(var xe=0;xe<TEXT_PROPS_WITH_GLOBAL.length;xe++){var Ne=TEXT_PROPS_WITH_GLOBAL[xe],Ie=retrieve2(n.getShallow(Ne),g[Ne]);Ie!=null&&(r[Ne]=Ie)}for(var xe=0;xe<TEXT_PROPS_SELF.length;xe++){var Ne=TEXT_PROPS_SELF[xe],Ie=n.getShallow(Ne);Ie!=null&&(r[Ne]=Ie)}if(r.verticalAlign==null){var Fe=n.getShallow("baseline");Fe!=null&&(r.verticalAlign=Fe)}if(!re||!y.disableBox){for(var xe=0;xe<TEXT_PROPS_BOX.length;xe++){var Ne=TEXT_PROPS_BOX[xe],Ie=n.getShallow(Ne);Ie!=null&&(r[Ne]=Ie)}var Ve=n.getShallow("borderType");Ve!=null&&(r.borderDash=Ve),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&le&&(r.backgroundColor=le),(r.borderColor==="auto"||r.borderColor==="inherit")&&le&&(r.borderColor=le)}}function getFont(r,n){var g=n&&n.getModel("textStyle");return trim$1([r.fontStyle||g&&g.getShallow("fontStyle")||"",r.fontWeight||g&&g.getShallow("fontWeight")||"",(r.fontSize||g&&g.getShallow("fontSize")||12)+"px",r.fontFamily||g&&g.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(r,n,g,y){if(r){var $=labelInner(r);$.prevValue=$.value,$.value=g;var L=n.normal;$.valueAnimation=L.get("valueAnimation"),$.valueAnimation&&($.precision=L.get("precision"),$.defaultInterpolatedText=y,$.statesModels=n)}}function animateLabelValue(r,n,g,y,$){var L=labelInner(r);if(!L.valueAnimation||L.prevValue===L.value)return;var re=L.defaultInterpolatedText,ae=retrieve2(L.interpolatedValue,L.prevValue),le=L.value;function ue(he){var _e=interpolateRawValues(g,L.precision,ae,le,he);L.interpolatedValue=he===1?null:_e;var Ce=getLabelText({labelDataIndex:n,labelFetcher:$,defaultText:re?re(_e):_e+""},L.statesModels,_e);setLabelText(r,Ce)}r.percent=0,(L.prevValue==null?initProps:updateProps$1)(r,{percent:1},y,n,null,ue)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function r(){}return r.prototype.getTextColor=function(n){var g=this.ecModel;return this.getShallow("color")||(!n&&g?g.get(PATH_COLOR):null)},r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(n){for(var g={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},y=0;y<textStyleParams.length;y++)g[textStyleParams[y]]=this.getShallow(textStyleParams[y]);return tmpText.useStyle(g),tmpText.update(),tmpText.getBoundingRect()},r}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function r(){}return r.prototype.getLineStyle=function(n){return getLineStyle(this,n)},r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function r(){}return r.prototype.getItemStyle=function(n,g){return getItemStyle(this,n,g)},r}(),Model=function(){function r(n,g,y){this.parentModel=g,this.ecModel=y,this.option=n}return r.prototype.init=function(n,g,y){},r.prototype.mergeOption=function(n,g){merge$1(this.option,n,!0)},r.prototype.get=function(n,g){return n==null?this.option:this._doGet(this.parsePath(n),!g&&this.parentModel)},r.prototype.getShallow=function(n,g){var y=this.option,$=y==null?y:y[n];if($==null&&!g){var L=this.parentModel;L&&($=L.getShallow(n))}return $},r.prototype.getModel=function(n,g){var y=n!=null,$=y?this.parsePath(n):null,L=y?this._doGet($):this.option;return g=g||this.parentModel&&this.parentModel.getModel(this.resolveParentPath($)),new r(L,g,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var n=this.constructor;return new n(clone$4(this.option))},r.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},r.prototype.resolveParentPath=function(n){return n},r.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(n,g){var y=this.option;if(!n)return y;for(var $=0;$<n.length&&!(n[$]&&(y=y&&typeof y=="object"?y[n[$]]:null,y==null));$++);return y==null&&g&&(y=g._doGet(this.resolveParentPath(n),g.parentModel)),y},r}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base$1=Math.round(Math.random()*10);function getUID(r){return[r||"",base$1++].join("_")}function enableSubTypeDefaulter(r){var n={};r.registerSubTypeDefaulter=function(g,y){var $=parseClassType(g);n[$.main]=y},r.determineSubType=function(g,y){var $=y.type;if(!$){var L=parseClassType(g).main;r.hasSubTypes(g)&&n[L]&&($=n[L](y))}return $}}function enableTopologicalTravel(r,n){r.topologicalTravel=function(L,re,ae,le){if(!L.length)return;var ue=g(re),he=ue.graph,_e=ue.noEntryList,Ce={};for(each$f(L,function(Fe){Ce[Fe]=!0});_e.length;){var $e=_e.pop(),Oe=he[$e],xe=!!Ce[$e];xe&&(ae.call(le,$e,Oe.originalDeps.slice()),delete Ce[$e]),each$f(Oe.successor,xe?Ie:Ne)}each$f(Ce,function(){var Fe="";throw new Error(Fe)});function Ne(Fe){he[Fe].entryCount--,he[Fe].entryCount===0&&_e.push(Fe)}function Ie(Fe){Ce[Fe]=!0,Ne(Fe)}};function g(L){var re={},ae=[];return each$f(L,function(le){var ue=y(re,le),he=ue.originalDeps=n(le),_e=$(he,L);ue.entryCount=_e.length,ue.entryCount===0&&ae.push(le),each$f(_e,function(Ce){indexOf(ue.predecessor,Ce)<0&&ue.predecessor.push(Ce);var $e=y(re,Ce);indexOf($e.successor,Ce)<0&&$e.successor.push(le)})}),{graph:re,noEntryList:ae}}function y(L,re){return L[re]||(L[re]={predecessor:[],successor:[]}),L[re]}function $(L,re){var ae=[];return each$f(L,function(le){indexOf(re,le)>=0&&ae.push(le)}),ae}}function inheritDefaultOption(r,n){return merge$1(merge$1({},r,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(r,n){r=r.toUpperCase(),localeModels[r]=new Model(n),localeStorage[r]=n}function createLocaleObject(r){if(isString(r)){var n=localeStorage[r.toUpperCase()]||{};return r===LOCALE_ZH||r===LOCALE_EN?clone$4(n):merge$1(clone$4(n),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge$1(clone$4(r),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(r){return localeModels[r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(r,n){return r+="","0000".substr(0,n-r.length)+r}function getPrimaryTimeUnit(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function isPrimaryTimeUnit(r){return r===getPrimaryTimeUnit(r)}function getDefaultFormatPrecisionOfInterval(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format$1(r,n,g,y){var $=parseDate(r),L=$[fullYearGetterName(g)](),re=$[monthGetterName(g)]()+1,ae=Math.floor((re-1)/3)+1,le=$[dateGetterName(g)](),ue=$["get"+(g?"UTC":"")+"Day"](),he=$[hoursGetterName(g)](),_e=(he-1)%12+1,Ce=$[minutesGetterName(g)](),$e=$[secondsGetterName(g)](),Oe=$[millisecondsGetterName(g)](),xe=he>=12?"pm":"am",Ne=xe.toUpperCase(),Ie=y instanceof Model?y:getLocaleModel(y||SYSTEM_LANG)||getDefaultLocaleModel(),Fe=Ie.getModel("time"),Ve=Fe.get("month"),ze=Fe.get("monthAbbr"),Ue=Fe.get("dayOfWeek"),qe=Fe.get("dayOfWeekAbbr");return(n||"").replace(/{a}/g,xe+"").replace(/{A}/g,Ne+"").replace(/{yyyy}/g,L+"").replace(/{yy}/g,pad(L%100+"",2)).replace(/{Q}/g,ae+"").replace(/{MMMM}/g,Ve[re-1]).replace(/{MMM}/g,ze[re-1]).replace(/{MM}/g,pad(re,2)).replace(/{M}/g,re+"").replace(/{dd}/g,pad(le,2)).replace(/{d}/g,le+"").replace(/{eeee}/g,Ue[ue]).replace(/{ee}/g,qe[ue]).replace(/{e}/g,ue+"").replace(/{HH}/g,pad(he,2)).replace(/{H}/g,he+"").replace(/{hh}/g,pad(_e+"",2)).replace(/{h}/g,_e+"").replace(/{mm}/g,pad(Ce,2)).replace(/{m}/g,Ce+"").replace(/{ss}/g,pad($e,2)).replace(/{s}/g,$e+"").replace(/{SSS}/g,pad(Oe,3)).replace(/{S}/g,Oe+"")}function leveledFormat(r,n,g,y,$){var L=null;if(isString(g))L=g;else if(isFunction(g))L=g(r.value,n,{level:r.level});else{var re=extend({},defaultLeveledFormatter);if(r.level>0)for(var ae=0;ae<primaryTimeUnits.length;++ae)re[primaryTimeUnits[ae]]="{primary|"+re[primaryTimeUnits[ae]]+"}";var le=g?g.inherit===!1?g:defaults$2(g,re):re,ue=getUnitFromValue(r.value,$);if(le[ue])L=le[ue];else if(le.inherit){for(var he=timeUnits.indexOf(ue),ae=he-1;ae>=0;--ae)if(le[ue]){L=le[ue];break}L=L||re.none}if(isArray$2(L)){var _e=r.level==null?0:r.level>=0?r.level:L.length+r.level;_e=Math.min(_e,L.length-1),L=L[_e]}}return format$1(new Date(r.value),L,$,y)}function getUnitFromValue(r,n){var g=parseDate(r),y=g[monthGetterName(n)]()+1,$=g[dateGetterName(n)](),L=g[hoursGetterName(n)](),re=g[minutesGetterName(n)](),ae=g[secondsGetterName(n)](),le=g[millisecondsGetterName(n)](),ue=le===0,he=ue&&ae===0,_e=he&&re===0,Ce=_e&&L===0,$e=Ce&&$===1,Oe=$e&&y===1;return Oe?"year":$e?"month":Ce?"day":_e?"hour":he?"minute":ue?"second":"millisecond"}function getUnitValue(r,n,g){var y=isNumber$1(r)?parseDate(r):r;switch(n=n||getUnitFromValue(r,g),n){case"year":return y[fullYearGetterName(g)]();case"half-year":return y[monthGetterName(g)]()>=6?1:0;case"quarter":return Math.floor((y[monthGetterName(g)]()+1)/4);case"month":return y[monthGetterName(g)]();case"day":return y[dateGetterName(g)]();case"half-day":return y[hoursGetterName(g)]()/24;case"hour":return y[hoursGetterName(g)]();case"minute":return y[minutesGetterName(g)]();case"second":return y[secondsGetterName(g)]();case"millisecond":return y[millisecondsGetterName(g)]()}}function fullYearGetterName(r){return r?"getUTCFullYear":"getFullYear"}function monthGetterName(r){return r?"getUTCMonth":"getMonth"}function dateGetterName(r){return r?"getUTCDate":"getDate"}function hoursGetterName(r){return r?"getUTCHours":"getHours"}function minutesGetterName(r){return r?"getUTCMinutes":"getMinutes"}function secondsGetterName(r){return r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(r){return r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(r){return r?"setUTCFullYear":"setFullYear"}function monthSetterName(r){return r?"setUTCMonth":"setMonth"}function dateSetterName(r){return r?"setUTCDate":"setDate"}function hoursSetterName(r){return r?"setUTCHours":"setHours"}function minutesSetterName(r){return r?"setUTCMinutes":"setMinutes"}function secondsSetterName(r){return r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(r){return r?"setUTCMilliseconds":"setMilliseconds"}function getTextRect(r,n,g,y,$,L,re,ae){var le=new ZRText({style:{text:r,font:n,align:g,verticalAlign:y,padding:$,rich:L,overflow:re?"truncate":null,lineHeight:ae}});return le.getBoundingRect()}function addCommas(r){if(!isNumeric(r))return isString(r)?r:"-";var n=(r+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(r,n){return r=(r||"").toLowerCase().replace(/-(.)/g,function(g,y){return y.toUpperCase()}),n&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(r,n,g){var y="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function $(he){return he&&trim$1(he)?he:"-"}function L(he){return!!(he!=null&&!isNaN(he)&&isFinite(he))}var re=n==="time",ae=r instanceof Date;if(re||ae){var le=re?parseDate(r):r;if(isNaN(+le)){if(ae)return"-"}else return format$1(le,y,g)}if(n==="ordinal")return isStringSafe(r)?$(r):isNumber$1(r)&&L(r)?r+"":"-";var ue=numericToNumber(r);return L(ue)?addCommas(ue):isStringSafe(r)?$(r):typeof r=="boolean"?r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(r,n){return"{"+r+(n??"")+"}"};function formatTpl(r,n,g){isArray$2(n)||(n=[n]);var y=n.length;if(!y)return"";for(var $=n[0].$vars||[],L=0;L<$.length;L++){var re=TPL_VAR_ALIAS[L];r=r.replace(wrapVar(re),wrapVar(re,0))}for(var ae=0;ae<y;ae++)for(var le=0;le<$.length;le++){var ue=n[ae][$[le]];r=r.replace(wrapVar(TPL_VAR_ALIAS[le],ae),g?encodeHTML(ue):ue)}return r}function formatTplSimple(r,n,g){return each$f(n,function(y,$){r=r.replace("{"+$+"}",y)}),r}function getTooltipMarker(r,n){var g=isString(r)?{color:r,extraCssText:n}:r||{},y=g.color,$=g.type;n=g.extraCssText;var L=g.renderMode||"html";if(!y)return"";if(L==="html")return $==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(y)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(y)+";"+(n||"")+'"></span>';var re=g.markerId||"markerX";return{renderMode:L,content:"{"+re+"|}  ",style:$==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:y}:{width:10,height:10,borderRadius:5,backgroundColor:y}}}function formatTime(r,n,g){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var y=parseDate(n),$=g?"getUTC":"get",L=y[$+"FullYear"](),re=y[$+"Month"]()+1,ae=y[$+"Date"](),le=y[$+"Hours"](),ue=y[$+"Minutes"](),he=y[$+"Seconds"](),_e=y[$+"Milliseconds"]();return r=r.replace("MM",pad(re,2)).replace("M",re).replace("yyyy",L).replace("yy",pad(L%100+"",2)).replace("dd",pad(ae,2)).replace("d",ae).replace("hh",pad(le,2)).replace("h",le).replace("mm",pad(ue,2)).replace("m",ue).replace("ss",pad(he,2)).replace("s",he).replace("SSS",pad(_e,3)),r}function capitalFirst(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function convertToColorString(r,n){return n=n||"transparent",isString(r)?r:isObject$3(r)&&r.colorStops&&(r.colorStops[0]||{}).color||n}function windowOpen(r,n){if(n==="_blank"||n==="blank"){var g=window.open();g.opener=null,g.location.href=r}else window.open(r,n)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(r,n,g,y,$){var L=0,re=0;y==null&&(y=1/0),$==null&&($=1/0);var ae=0;n.eachChild(function(le,ue){var he=le.getBoundingRect(),_e=n.childAt(ue+1),Ce=_e&&_e.getBoundingRect(),$e,Oe;if(r==="horizontal"){var xe=he.width+(Ce?-Ce.x+he.x:0);$e=L+xe,$e>y||le.newline?(L=0,$e=xe,re+=ae+g,ae=he.height):ae=Math.max(ae,he.height)}else{var Ne=he.height+(Ce?-Ce.y+he.y:0);Oe=re+Ne,Oe>$||le.newline?(L+=ae+g,re=0,Oe=Ne,ae=he.width):ae=Math.max(ae,he.width)}le.newline||(le.x=L,le.y=re,le.markRedraw(),r==="horizontal"?L=$e+g:re=Oe+g)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(r,n,g){var y=n.width,$=n.height,L=parsePercent(r.left,y),re=parsePercent(r.top,$),ae=parsePercent(r.right,y),le=parsePercent(r.bottom,$);return(isNaN(L)||isNaN(parseFloat(r.left)))&&(L=0),(isNaN(ae)||isNaN(parseFloat(r.right)))&&(ae=y),(isNaN(re)||isNaN(parseFloat(r.top)))&&(re=0),(isNaN(le)||isNaN(parseFloat(r.bottom)))&&(le=$),g=normalizeCssArray(g||0),{width:Math.max(ae-L-g[1]-g[3],0),height:Math.max(le-re-g[0]-g[2],0)}}function getLayoutRect$1(r,n,g){g=normalizeCssArray(g||0);var y=n.width,$=n.height,L=parsePercent(r.left,y),re=parsePercent(r.top,$),ae=parsePercent(r.right,y),le=parsePercent(r.bottom,$),ue=parsePercent(r.width,y),he=parsePercent(r.height,$),_e=g[2]+g[0],Ce=g[1]+g[3],$e=r.aspect;switch(isNaN(ue)&&(ue=y-ae-Ce-L),isNaN(he)&&(he=$-le-_e-re),$e!=null&&(isNaN(ue)&&isNaN(he)&&($e>y/$?ue=y*.8:he=$*.8),isNaN(ue)&&(ue=$e*he),isNaN(he)&&(he=ue/$e)),isNaN(L)&&(L=y-ae-ue-Ce),isNaN(re)&&(re=$-le-he-_e),r.left||r.right){case"center":L=y/2-ue/2-g[3];break;case"right":L=y-ue-Ce;break}switch(r.top||r.bottom){case"middle":case"center":re=$/2-he/2-g[0];break;case"bottom":re=$-he-_e;break}L=L||0,re=re||0,isNaN(ue)&&(ue=y-Ce-L-(ae||0)),isNaN(he)&&(he=$-_e-re-(le||0));var Oe=new BoundingRect(L+g[3],re+g[0],ue,he);return Oe.margin=g,Oe}function positionElement(r,n,g,y,$,L){var re=!$||!$.hv||$.hv[0],ae=!$||!$.hv||$.hv[1],le=$&&$.boundingMode||"all";if(L=L||r,L.x=r.x,L.y=r.y,!re&&!ae)return!1;var ue;if(le==="raw")ue=r.type==="group"?new BoundingRect(0,0,+n.width||0,+n.height||0):r.getBoundingRect();else if(ue=r.getBoundingRect(),r.needLocalTransform()){var he=r.getLocalTransform();ue=ue.clone(),ue.applyTransform(he)}var _e=getLayoutRect$1(defaults$2({width:ue.width,height:ue.height},n),g,y),Ce=re?_e.x-ue.x:0,$e=ae?_e.y-ue.y:0;return le==="raw"?(L.x=Ce,L.y=$e):(L.x+=Ce,L.y+=$e),L===r&&r.markRedraw(),!0}function sizeCalculable(r,n){return r[HV_NAMES[n][0]]!=null||r[HV_NAMES[n][1]]!=null&&r[HV_NAMES[n][2]]!=null}function fetchLayoutMode(r){var n=r.layoutMode||r.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(r,n,g){var y=g&&g.ignoreSize;!isArray$2(y)&&(y=[y,y]);var $=re(HV_NAMES[0],0),L=re(HV_NAMES[1],1);ue(HV_NAMES[0],r,$),ue(HV_NAMES[1],r,L);function re(he,_e){var Ce={},$e=0,Oe={},xe=0,Ne=2;if(each$e(he,function(Ve){Oe[Ve]=r[Ve]}),each$e(he,function(Ve){ae(n,Ve)&&(Ce[Ve]=Oe[Ve]=n[Ve]),le(Ce,Ve)&&$e++,le(Oe,Ve)&&xe++}),y[_e])return le(n,he[1])?Oe[he[2]]=null:le(n,he[2])&&(Oe[he[1]]=null),Oe;if(xe===Ne||!$e)return Oe;if($e>=Ne)return Ce;for(var Ie=0;Ie<he.length;Ie++){var Fe=he[Ie];if(!ae(Ce,Fe)&&ae(r,Fe)){Ce[Fe]=r[Fe];break}}return Ce}function ae(he,_e){return he.hasOwnProperty(_e)}function le(he,_e){return he[_e]!=null&&he[_e]!=="auto"}function ue(he,_e,Ce){each$e(he,function($e){_e[$e]=Ce[$e]})}}function getLayoutParams(r){return copyLayoutParams({},r)}function copyLayoutParams(r,n){return n&&r&&each$e(LOCATION_PARAMS,function(g){n.hasOwnProperty(g)&&(r[g]=n[g])}),r}var inner$l=makeInner(),ComponentModel=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this,g,y,$)||this;return L.uid=getUID("ec_cpt_model"),L}return n.prototype.init=function(g,y,$){this.mergeDefaultAndTheme(g,$)},n.prototype.mergeDefaultAndTheme=function(g,y){var $=fetchLayoutMode(this),L=$?getLayoutParams(g):{},re=y.getTheme();merge$1(g,re.get(this.mainType)),merge$1(g,this.getDefaultOption()),$&&mergeLayoutParam(g,L,$)},n.prototype.mergeOption=function(g,y){merge$1(this.option,g,!0);var $=fetchLayoutMode(this);$&&mergeLayoutParam(this.option,g,$)},n.prototype.optionUpdated=function(g,y){},n.prototype.getDefaultOption=function(){var g=this.constructor;if(!isExtendedClass(g))return g.defaultOption;var y=inner$l(this);if(!y.defaultOption){for(var $=[],L=g;L;){var re=L.prototype.defaultOption;re&&$.push(re),L=L.superClass}for(var ae={},le=$.length-1;le>=0;le--)ae=merge$1(ae,$[le],!0);y.defaultOption=ae}return y.defaultOption},n.prototype.getReferringComponents=function(g,y){var $=g+"Index",L=g+"Id";return queryReferringComponents(this.ecModel,g,{index:this.get($,!0),id:this.get(L,!0)},y)},n.prototype.getBoxLayoutParams=function(){var g=this;return{left:g.get("left"),top:g.get("top"),right:g.get("right"),bottom:g.get("bottom"),width:g.get("width"),height:g.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(g){this.option.zlevel=g},n.protoInitialize=function(){var g=n.prototype;g.type="component",g.id="",g.name="",g.mainType="",g.subType="",g.componentIndex=0}(),n}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(r){var n=[];return each$f(ComponentModel.getClassesByMainType(r),function(g){n=n.concat(g.dependencies||g.prototype.dependencies||[])}),n=map$1(n,function(g){return parseClassType(g).main}),r!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(r){innerGlobalModel(r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(r,n,g){var y={},$=querySeriesUpstreamDatasetModel(n);if(!$||!r)return y;var L=[],re=[],ae=n.ecModel,le=innerGlobalModel(ae).datasetMap,ue=$.uid+"_"+g.seriesLayoutBy,he,_e;r=r.slice(),each$f(r,function(xe,Ne){var Ie=isObject$3(xe)?xe:r[Ne]={name:xe};Ie.type==="ordinal"&&he==null&&(he=Ne,_e=Oe(Ie)),y[Ie.name]=[]});var Ce=le.get(ue)||le.set(ue,{categoryWayDim:_e,valueWayDim:0});each$f(r,function(xe,Ne){var Ie=xe.name,Fe=Oe(xe);if(he==null){var Ve=Ce.valueWayDim;$e(y[Ie],Ve,Fe),$e(re,Ve,Fe),Ce.valueWayDim+=Fe}else if(he===Ne)$e(y[Ie],0,Fe),$e(L,0,Fe);else{var Ve=Ce.categoryWayDim;$e(y[Ie],Ve,Fe),$e(re,Ve,Fe),Ce.categoryWayDim+=Fe}});function $e(xe,Ne,Ie){for(var Fe=0;Fe<Ie;Fe++)xe.push(Ne+Fe)}function Oe(xe){var Ne=xe.dimsDef;return Ne?Ne.length:1}return L.length&&(y.itemName=L),re.length&&(y.seriesName=re),y}function makeSeriesEncodeForNameBased(r,n,g){var y={},$=querySeriesUpstreamDatasetModel(r);if(!$)return y;var L=n.sourceFormat,re=n.dimensionsDefine,ae;(L===SOURCE_FORMAT_OBJECT_ROWS||L===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(re,function(he,_e){(isObject$3(he)?he.name:he)==="name"&&(ae=_e)});var le=function(){for(var he={},_e={},Ce=[],$e=0,Oe=Math.min(5,g);$e<Oe;$e++){var xe=doGuessOrdinal(n.data,L,n.seriesLayoutBy,re,n.startIndex,$e);Ce.push(xe);var Ne=xe===BE_ORDINAL.Not;if(Ne&&he.v==null&&$e!==ae&&(he.v=$e),(he.n==null||he.n===he.v||!Ne&&Ce[he.n]===BE_ORDINAL.Not)&&(he.n=$e),Ie(he)&&Ce[he.n]!==BE_ORDINAL.Not)return he;Ne||(xe===BE_ORDINAL.Might&&_e.v==null&&$e!==ae&&(_e.v=$e),(_e.n==null||_e.n===_e.v)&&(_e.n=$e))}function Ie(Fe){return Fe.v!=null&&Fe.n!=null}return Ie(he)?he:Ie(_e)?_e:null}();if(le){y.value=[le.v];var ue=ae??le.n;y.itemName=[ue],y.seriesName=[ue]}return y}function querySeriesUpstreamDatasetModel(r){var n=r.get("data",!0);if(!n)return queryReferringComponents(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:queryReferringComponents(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(r,n){return doGuessOrdinal(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,n)}function doGuessOrdinal(r,n,g,y,$,L){var re,ae=5;if(isTypedArray(r))return BE_ORDINAL.Not;var le,ue;if(y){var he=y[L];isObject$3(he)?(le=he.name,ue=he.type):isString(he)&&(le=he)}if(ue!=null)return ue==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var _e=r;if(g===SERIES_LAYOUT_BY_ROW){for(var Ce=_e[L],$e=0;$e<(Ce||[]).length&&$e<ae;$e++)if((re=ze(Ce[$+$e]))!=null)return re}else for(var $e=0;$e<_e.length&&$e<ae;$e++){var Oe=_e[$+$e];if(Oe&&(re=ze(Oe[L]))!=null)return re}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var xe=r;if(!le)return BE_ORDINAL.Not;for(var $e=0;$e<xe.length&&$e<ae;$e++){var Ne=xe[$e];if(Ne&&(re=ze(Ne[le]))!=null)return re}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var Ie=r;if(!le)return BE_ORDINAL.Not;var Ce=Ie[le];if(!Ce||isTypedArray(Ce))return BE_ORDINAL.Not;for(var $e=0;$e<Ce.length&&$e<ae;$e++)if((re=ze(Ce[$e]))!=null)return re}else if(n===SOURCE_FORMAT_ORIGINAL)for(var Fe=r,$e=0;$e<Fe.length&&$e<ae;$e++){var Ne=Fe[$e],Ve=getDataItemValue(Ne);if(!isArray$2(Ve))return BE_ORDINAL.Not;if((re=ze(Ve[L]))!=null)return re}function ze(Ue){var qe=isString(Ue);if(Ue!=null&&Number.isFinite(Number(Ue))&&Ue!=="")return qe?BE_ORDINAL.Might:BE_ORDINAL.Not;if(qe&&Ue!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(r,n){assert(internalOptionCreatorMap.get(r)==null&&n),internalOptionCreatorMap.set(r,n)}function concatInternalOptions(r,n,g){var y=internalOptionCreatorMap.get(n);if(!y)return g;var $=y(r);return $?g.concat($):g}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function r(){}return r.prototype.getColorFromPalette=function(n,g,y){var $=normalizeToArray$1(this.get("color",!0)),L=this.get("colorLayer",!0);return getFromPalette(this,innerColor,$,L,n,g,y)},r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},r}();function getDecalFromPalette(r,n,g,y){var $=normalizeToArray$1(r.get(["aria","decal","decals"]));return getFromPalette(r,innerDecal,$,null,n,g,y)}function getNearestPalette(r,n){for(var g=r.length,y=0;y<g;y++)if(r[y].length>n)return r[y];return r[g-1]}function getFromPalette(r,n,g,y,$,L,re){L=L||r;var ae=n(L),le=ae.paletteIdx||0,ue=ae.paletteNameMap=ae.paletteNameMap||{};if(ue.hasOwnProperty($))return ue[$];var he=re==null||!y?g:getNearestPalette(y,re);if(he=he||g,!(!he||!he.length)){var _e=he[le];return $&&(ue[$]=_e),ae.paletteIdx=(le+1)%he.length,_e}}function clearPalette(r,n){n(r).paletteIdx=0,n(r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(g,y,$,L,re,ae){L=L||{},this.option=null,this._theme=new Model(L),this._locale=new Model(re),this._optionManager=ae},n.prototype.setOption=function(g,y,$){var L=normalizeSetOptionInput(y);this._optionManager.setOption(g,$,L),this._resetOption(null,L)},n.prototype.resetOption=function(g,y){return this._resetOption(g,normalizeSetOptionInput(y))},n.prototype._resetOption=function(g,y){var $=!1,L=this._optionManager;if(!g||g==="recreate"){var re=L.mountOption(g==="recreate");!this.option||g==="recreate"?initBase(this,re):(this.restoreData(),this._mergeOption(re,y)),$=!0}if((g==="timeline"||g==="media")&&this.restoreData(),!g||g==="recreate"||g==="timeline"){var ae=L.getTimelineOption(this);ae&&($=!0,this._mergeOption(ae,y))}if(!g||g==="recreate"||g==="media"){var le=L.getMediaOption(this);le.length&&each$f(le,function(ue){$=!0,this._mergeOption(ue,y)},this)}return $},n.prototype.mergeOption=function(g){this._mergeOption(g,null)},n.prototype._mergeOption=function(g,y){var $=this.option,L=this._componentsMap,re=this._componentsCount,ae=[],le=createHashMap(),ue=y&&y.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(g,function(_e,Ce){_e!=null&&(ComponentModel.hasClass(Ce)?Ce&&(ae.push(Ce),le.set(Ce,!0)):$[Ce]=$[Ce]==null?clone$4(_e):merge$1($[Ce],_e,!0))}),ue&&ue.each(function(_e,Ce){ComponentModel.hasClass(Ce)&&!le.get(Ce)&&(ae.push(Ce),le.set(Ce,!0))}),ComponentModel.topologicalTravel(ae,ComponentModel.getAllClassMainTypes(),he,this);function he(_e){var Ce=concatInternalOptions(this,_e,normalizeToArray$1(g[_e])),$e=L.get(_e),Oe=$e?ue&&ue.get(_e)?"replaceMerge":"normalMerge":"replaceAll",xe=mappingToExists($e,Ce,Oe);setComponentTypeToKeyInfo(xe,_e,ComponentModel),$[_e]=null,L.set(_e,null),re.set(_e,0);var Ne=[],Ie=[],Fe=0,Ve;each$f(xe,function(ze,Ue){var qe=ze.existing,kt=ze.newOption;if(!kt)qe&&(qe.mergeOption({},this),qe.optionUpdated({},!1));else{var Et=_e==="series",Pt=ComponentModel.getClass(_e,ze.keyInfo.subType,!Et);if(!Pt)return;if(_e==="tooltip"){if(Ve)return;Ve=!0}if(qe&&qe.constructor===Pt)qe.name=ze.keyInfo.name,qe.mergeOption(kt,this),qe.optionUpdated(kt,!1);else{var At=extend({componentIndex:Ue},ze.keyInfo);qe=new Pt(kt,this,this,At),extend(qe,At),ze.brandNew&&(qe.__requireNewView=!0),qe.init(kt,this,this),qe.optionUpdated(null,!0)}}qe?(Ne.push(qe.option),Ie.push(qe),Fe++):(Ne.push(void 0),Ie.push(void 0))},this),$[_e]=Ne,L.set(_e,Ie),re.set(_e,Fe),_e==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var g=clone$4(this.option);return each$f(g,function(y,$){if(ComponentModel.hasClass($)){for(var L=normalizeToArray$1(y),re=L.length,ae=!1,le=re-1;le>=0;le--)L[le]&&!isComponentIdInternal(L[le])?ae=!0:(L[le]=null,!ae&&re--);L.length=re,g[$]=L}}),delete g[OPTION_INNER_KEY],g},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(g){this._payload=g},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(g,y){var $=this._componentsMap.get(g);if($){var L=$[y||0];if(L)return L;if(y==null){for(var re=0;re<$.length;re++)if($[re])return $[re]}}},n.prototype.queryComponents=function(g){var y=g.mainType;if(!y)return[];var $=g.index,L=g.id,re=g.name,ae=this._componentsMap.get(y);if(!ae||!ae.length)return[];var le;return $!=null?(le=[],each$f(normalizeToArray$1($),function(ue){ae[ue]&&le.push(ae[ue])})):L!=null?le=queryByIdOrName("id",L,ae):re!=null?le=queryByIdOrName("name",re,ae):le=filter(ae,function(ue){return!!ue}),filterBySubType(le,g)},n.prototype.findComponents=function(g){var y=g.query,$=g.mainType,L=ae(y),re=L?this.queryComponents(L):filter(this._componentsMap.get($),function(ue){return!!ue});return le(filterBySubType(re,g));function ae(ue){var he=$+"Index",_e=$+"Id",Ce=$+"Name";return ue&&(ue[he]!=null||ue[_e]!=null||ue[Ce]!=null)?{mainType:$,index:ue[he],id:ue[_e],name:ue[Ce]}:null}function le(ue){return g.filter?filter(ue,g.filter):ue}},n.prototype.eachComponent=function(g,y,$){var L=this._componentsMap;if(isFunction(g)){var re=y,ae=g;L.each(function(_e,Ce){for(var $e=0;_e&&$e<_e.length;$e++){var Oe=_e[$e];Oe&&ae.call(re,Ce,Oe,Oe.componentIndex)}})}else for(var le=isString(g)?L.get(g):isObject$3(g)?this.findComponents(g):null,ue=0;le&&ue<le.length;ue++){var he=le[ue];he&&y.call($,he,he.componentIndex)}},n.prototype.getSeriesByName=function(g){var y=convertOptionIdName(g,null);return filter(this._componentsMap.get("series"),function($){return!!$&&y!=null&&$.name===y})},n.prototype.getSeriesByIndex=function(g){return this._componentsMap.get("series")[g]},n.prototype.getSeriesByType=function(g){return filter(this._componentsMap.get("series"),function(y){return!!y&&y.subType===g})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(g){return!!g})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(g,y){assertSeriesInitialized(this),each$f(this._seriesIndices,function($){var L=this._componentsMap.get("series")[$];g.call(y,L,$)},this)},n.prototype.eachRawSeries=function(g,y){each$f(this._componentsMap.get("series"),function($){$&&g.call(y,$,$.componentIndex)})},n.prototype.eachSeriesByType=function(g,y,$){assertSeriesInitialized(this),each$f(this._seriesIndices,function(L){var re=this._componentsMap.get("series")[L];re.subType===g&&y.call($,re,L)},this)},n.prototype.eachRawSeriesByType=function(g,y,$){return each$f(this.getSeriesByType(g),y,$)},n.prototype.isSeriesFiltered=function(g){return assertSeriesInitialized(this),this._seriesIndicesMap.get(g.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(g,y){assertSeriesInitialized(this);var $=[];each$f(this._seriesIndices,function(L){var re=this._componentsMap.get("series")[L];g.call(y,re,L)&&$.push(L)},this),this._seriesIndices=$,this._seriesIndicesMap=createHashMap($)},n.prototype.restoreData=function(g){reCreateSeriesIndices(this);var y=this._componentsMap,$=[];y.each(function(L,re){ComponentModel.hasClass(re)&&$.push(re)}),ComponentModel.topologicalTravel($,ComponentModel.getAllClassMainTypes(),function(L){each$f(y.get(L),function(re){re&&(L!=="series"||!isNotTargetSeries(re,g))&&re.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(g){var y=g._seriesIndices=[];each$f(g._componentsMap.get("series"),function($){$&&y.push($.componentIndex)}),g._seriesIndicesMap=createHashMap(y)},assertSeriesInitialized=function(g){},initBase=function(g,y){g.option={},g.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,g._componentsMap=createHashMap({series:[]}),g._componentsCount=createHashMap();var $=y.aria;isObject$3($)&&$.enabled==null&&($.enabled=!0),mergeTheme(y,g._theme.option),merge$1(y,globalDefault,!1),g._mergeOption(y,null)}}(),n}(Model);function isNotTargetSeries(r,n){if(n){var g=n.seriesIndex,y=n.seriesId,$=n.seriesName;return g!=null&&r.componentIndex!==g||y!=null&&r.id!==y||$!=null&&r.name!==$}}function mergeTheme(r,n){var g=r.color&&!r.colorLayer;each$f(n,function(y,$){$==="colorLayer"&&g||ComponentModel.hasClass($)||(typeof y=="object"?r[$]=r[$]?merge$1(r[$],y,!1):clone$4(y):r[$]==null&&(r[$]=y))})}function queryByIdOrName(r,n,g){if(isArray$2(n)){var y=createHashMap();return each$f(n,function(L){if(L!=null){var re=convertOptionIdName(L,null);re!=null&&y.set(L,!0)}}),filter(g,function(L){return L&&y.get(L[r])})}else{var $=convertOptionIdName(n,null);return filter(g,function(L){return L&&$!=null&&L[r]===$})}}function filterBySubType(r,n){return n.hasOwnProperty("subType")?filter(r,function(g){return g&&g.subType===n.subType}):r}function normalizeSetOptionInput(r){var n=createHashMap();return r&&each$f(normalizeToArray$1(r.replaceMerge),function(g){n.set(g,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function r(n){each$f(availableMethods,function(g){this[g]=bind$1(n[g],n)},this)}return r}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(n,g){var y=[];each$f(coordinateSystemCreators,function($,L){var re=$.create(n,g);y=y.concat(re||[])}),this._coordinateSystems=y},r.prototype.update=function(n,g){each$f(this._coordinateSystems,function(y){y.update&&y.update(n,g)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(n,g){coordinateSystemCreators[n]=g},r.get=function(n){return coordinateSystemCreators[n]},r}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function r(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return r.prototype.setOption=function(n,g,y){n&&(each$f(normalizeToArray$1(n.series),function(re){re&&re.data&&isTypedArray(re.data)&&setAsPrimitive(re.data)}),each$f(normalizeToArray$1(n.dataset),function(re){re&&re.source&&isTypedArray(re.source)&&setAsPrimitive(re.source)})),n=clone$4(n);var $=this._optionBackup,L=parseRawOption(n,g,!$);this._newBaseOption=L.baseOption,$?(L.timelineOptions.length&&($.timelineOptions=L.timelineOptions),L.mediaList.length&&($.mediaList=L.mediaList),L.mediaDefault&&($.mediaDefault=L.mediaDefault)):this._optionBackup=L},r.prototype.mountOption=function(n){var g=this._optionBackup;return this._timelineOptions=g.timelineOptions,this._mediaList=g.mediaList,this._mediaDefault=g.mediaDefault,this._currentMediaIndices=[],clone$4(n?g.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(n){var g,y=this._timelineOptions;if(y.length){var $=n.getComponent("timeline");$&&(g=clone$4(y[$.getCurrentIndex()]))}return g},r.prototype.getMediaOption=function(n){var g=this._api.getWidth(),y=this._api.getHeight(),$=this._mediaList,L=this._mediaDefault,re=[],ae=[];if(!$.length&&!L)return ae;for(var le=0,ue=$.length;le<ue;le++)applyMediaQuery($[le].query,g,y)&&re.push(le);return!re.length&&L&&(re=[-1]),re.length&&!indicesEquals(re,this._currentMediaIndices)&&(ae=map$1(re,function(he){return clone$4(he===-1?L.option:$[he].option)})),this._currentMediaIndices=re,ae},r}();function parseRawOption(r,n,g){var y=[],$,L,re=r.baseOption,ae=r.timeline,le=r.options,ue=r.media,he=!!r.media,_e=!!(le||ae||re&&re.timeline);re?(L=re,L.timeline||(L.timeline=ae)):((_e||he)&&(r.options=r.media=null),L=r),he&&isArray$2(ue)&&each$f(ue,function($e){$e&&$e.option&&($e.query?y.push($e):$||($=$e))}),Ce(L),each$f(le,function($e){return Ce($e)}),each$f(y,function($e){return Ce($e.option)});function Ce($e){each$f(n,function(Oe){Oe($e,g)})}return{baseOption:L,timelineOptions:le||[],mediaDefault:$,mediaList:y}}function applyMediaQuery(r,n,g){var y={width:n,height:g,aspectratio:n/g},$=!0;return each$f(r,function(L,re){var ae=re.match(QUERY_REG);if(!(!ae||!ae[1]||!ae[2])){var le=ae[1],ue=ae[2].toLowerCase();compare$1(y[ue],L,le)||($=!1)}}),$}function compare$1(r,n,g){return g==="min"?r>=n:g==="max"?r<=n:r===n}function indicesEquals(r,n){return r.join(",")===n.join(",")}var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(r){var n=r&&r.itemStyle;if(n)for(var g=0,y=POSSIBLE_STYLES.length;g<y;g++){var $=POSSIBLE_STYLES[g],L=n.normal,re=n.emphasis;L&&L[$]&&(r[$]=r[$]||{},r[$].normal?merge$1(r[$].normal,L[$]):r[$].normal=L[$],L[$]=null),re&&re[$]&&(r[$]=r[$]||{},r[$].emphasis?merge$1(r[$].emphasis,re[$]):r[$].emphasis=re[$],re[$]=null)}}function convertNormalEmphasis(r,n,g){if(r&&r[n]&&(r[n].normal||r[n].emphasis)){var y=r[n].normal,$=r[n].emphasis;y&&(g?(r[n].normal=r[n].emphasis=null,defaults$2(r[n],y)):r[n]=y),$&&(r.emphasis=r.emphasis||{},r.emphasis[n]=$,$.focus&&(r.emphasis.focus=$.focus),$.blurScope&&(r.emphasis.blurScope=$.blurScope))}}function removeEC3NormalStatus(r){convertNormalEmphasis(r,"itemStyle"),convertNormalEmphasis(r,"lineStyle"),convertNormalEmphasis(r,"areaStyle"),convertNormalEmphasis(r,"label"),convertNormalEmphasis(r,"labelLine"),convertNormalEmphasis(r,"upperLabel"),convertNormalEmphasis(r,"edgeLabel")}function compatTextStyle(r,n){var g=isObject$2(r)&&r[n],y=isObject$2(g)&&g.textStyle;if(y)for(var $=0,L=TEXT_STYLE_OPTIONS.length;$<L;$++){var re=TEXT_STYLE_OPTIONS[$];y.hasOwnProperty(re)&&(g[re]=y[re])}}function compatEC3CommonStyles(r){r&&(removeEC3NormalStatus(r),compatTextStyle(r,"label"),r.emphasis&&compatTextStyle(r.emphasis,"label"))}function processSeries(r){if(isObject$2(r)){compatEC2ItemStyle(r),removeEC3NormalStatus(r),compatTextStyle(r,"label"),compatTextStyle(r,"upperLabel"),compatTextStyle(r,"edgeLabel"),r.emphasis&&(compatTextStyle(r.emphasis,"label"),compatTextStyle(r.emphasis,"upperLabel"),compatTextStyle(r.emphasis,"edgeLabel"));var n=r.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var g=r.markLine;g&&(compatEC2ItemStyle(g),compatEC3CommonStyles(g));var y=r.markArea;y&&compatEC3CommonStyles(y);var $=r.data;if(r.type==="graph"){$=$||r.nodes;var L=r.links||r.edges;if(L&&!isTypedArray(L))for(var re=0;re<L.length;re++)compatEC3CommonStyles(L[re]);each$f(r.categories,function(ue){removeEC3NormalStatus(ue)})}if($&&!isTypedArray($))for(var re=0;re<$.length;re++)compatEC3CommonStyles($[re]);if(n=r.markPoint,n&&n.data)for(var ae=n.data,re=0;re<ae.length;re++)compatEC3CommonStyles(ae[re]);if(g=r.markLine,g&&g.data)for(var le=g.data,re=0;re<le.length;re++)isArray$2(le[re])?(compatEC3CommonStyles(le[re][0]),compatEC3CommonStyles(le[re][1])):compatEC3CommonStyles(le[re]);r.type==="gauge"?(compatTextStyle(r,"axisLabel"),compatTextStyle(r,"title"),compatTextStyle(r,"detail")):r.type==="treemap"?(convertNormalEmphasis(r.breadcrumb,"itemStyle"),each$f(r.levels,function(ue){removeEC3NormalStatus(ue)})):r.type==="tree"&&removeEC3NormalStatus(r.leaves)}}function toArr(r){return isArray$2(r)?r:r?[r]:[]}function toObj(r){return(isArray$2(r)?r[0]:r)||{}}function globalCompatStyle(r,n){each$d(toArr(r.series),function(y){isObject$2(y)&&processSeries(y)});var g=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&g.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(g,function(y){each$d(toArr(r[y]),function($){$&&(compatTextStyle($,"axisLabel"),compatTextStyle($.axisPointer,"label"))})}),each$d(toArr(r.parallel),function(y){var $=y&&y.parallelAxisDefault;compatTextStyle($,"axisLabel"),compatTextStyle($&&$.axisPointer,"label")}),each$d(toArr(r.calendar),function(y){convertNormalEmphasis(y,"itemStyle"),compatTextStyle(y,"dayLabel"),compatTextStyle(y,"monthLabel"),compatTextStyle(y,"yearLabel")}),each$d(toArr(r.radar),function(y){compatTextStyle(y,"name"),y.name&&y.axisName==null&&(y.axisName=y.name,delete y.name),y.nameGap!=null&&y.axisNameGap==null&&(y.axisNameGap=y.nameGap,delete y.nameGap)}),each$d(toArr(r.geo),function(y){isObject$2(y)&&(compatEC3CommonStyles(y),each$d(toArr(y.regions),function($){compatEC3CommonStyles($)}))}),each$d(toArr(r.timeline),function(y){compatEC3CommonStyles(y),convertNormalEmphasis(y,"label"),convertNormalEmphasis(y,"itemStyle"),convertNormalEmphasis(y,"controlStyle",!0);var $=y.data;isArray$2($)&&each$f($,function(L){isObject$3(L)&&(convertNormalEmphasis(L,"label"),convertNormalEmphasis(L,"itemStyle"))})}),each$d(toArr(r.toolbox),function(y){convertNormalEmphasis(y,"iconStyle"),each$d(y.feature,function($){convertNormalEmphasis($,"iconStyle")})}),compatTextStyle(toObj(r.axisPointer),"label"),compatTextStyle(toObj(r.tooltip).axisPointer,"label")}function get(r,n){for(var g=n.split(","),y=r,$=0;$<g.length&&(y=y&&y[g[$]],y!=null);$++);return y}function set(r,n,g,y){for(var $=n.split(","),L=r,re,ae=0;ae<$.length-1;ae++)re=$[ae],L[re]==null&&(L[re]={}),L=L[re];L[$[ae]]==null&&(L[$[ae]]=g)}function compatLayoutProperties(r){r&&each$f(LAYOUT_PROPERTIES,function(n){n[0]in r&&!(n[1]in r)&&(r[n[1]]=r[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(r){var n=r&&r.itemStyle;if(n)for(var g=0;g<BAR_ITEM_STYLE_MAP.length;g++){var y=BAR_ITEM_STYLE_MAP[g][1],$=BAR_ITEM_STYLE_MAP[g][0];n[y]!=null&&(n[$]=n[y])}}function compatPieLabel(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function compatSunburstState(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function compatGraphFocus(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function traverseTree(r,n){if(r)for(var g=0;g<r.length;g++)n(r[g]),r[g]&&traverseTree(r[g].children,n)}function globalBackwardCompat(r,n){globalCompatStyle(r,n),r.series=normalizeToArray$1(r.series),each$f(r.series,function(g){if(isObject$3(g)){var y=g.type;if(y==="line")g.clipOverflow!=null&&(g.clip=g.clipOverflow);else if(y==="pie"||y==="gauge"){g.clockWise!=null&&(g.clockwise=g.clockWise),compatPieLabel(g.label);var $=g.data;if($&&!isTypedArray($))for(var L=0;L<$.length;L++)compatPieLabel($[L]);g.hoverOffset!=null&&(g.emphasis=g.emphasis||{},(g.emphasis.scaleSize=null)&&(g.emphasis.scaleSize=g.hoverOffset))}else if(y==="gauge"){var re=get(g,"pointer.color");re!=null&&set(g,"itemStyle.color",re)}else if(y==="bar"){compatBarItemStyle(g),compatBarItemStyle(g.backgroundStyle),compatBarItemStyle(g.emphasis);var $=g.data;if($&&!isTypedArray($))for(var L=0;L<$.length;L++)typeof $[L]=="object"&&(compatBarItemStyle($[L]),compatBarItemStyle($[L]&&$[L].emphasis))}else if(y==="sunburst"){var ae=g.highlightPolicy;ae&&(g.emphasis=g.emphasis||{},g.emphasis.focus||(g.emphasis.focus=ae)),compatSunburstState(g),traverseTree(g.data,compatSunburstState)}else y==="graph"||y==="sankey"?compatGraphFocus(g):y==="map"&&(g.mapType&&!g.map&&(g.map=g.mapType),g.mapLocation&&defaults$2(g,g.mapLocation));g.hoverAnimation!=null&&(g.emphasis=g.emphasis||{},g.emphasis&&g.emphasis.scale==null&&(g.emphasis.scale=g.hoverAnimation)),compatLayoutProperties(g)}}),r.dataRange&&(r.visualMap=r.dataRange),each$f(COMPATITABLE_COMPONENTS,function(g){var y=r[g];y&&(isArray$2(y)||(y=[y]),each$f(y,function($){compatLayoutProperties($)}))})}function dataStack$1(r){var n=createHashMap();r.eachSeries(function(g){var y=g.get("stack");if(y){var $=n.get(y)||n.set(y,[]),L=g.getData(),re={stackResultDimension:L.getCalculationInfo("stackResultDimension"),stackedOverDimension:L.getCalculationInfo("stackedOverDimension"),stackedDimension:L.getCalculationInfo("stackedDimension"),stackedByDimension:L.getCalculationInfo("stackedByDimension"),isStackedByIndex:L.getCalculationInfo("isStackedByIndex"),data:L,seriesModel:g};if(!re.stackedDimension||!(re.isStackedByIndex||re.stackedByDimension))return;$.length&&L.setCalculationInfo("stackedOnSeries",$[$.length-1].seriesModel),$.push(re)}}),n.each(calculateStack)}function calculateStack(r){each$f(r,function(n,g){var y=[],$=[NaN,NaN],L=[n.stackResultDimension,n.stackedOverDimension],re=n.data,ae=n.isStackedByIndex,le=n.seriesModel.get("stackStrategy")||"samesign";re.modify(L,function(ue,he,_e){var Ce=re.get(n.stackedDimension,_e);if(isNaN(Ce))return $;var $e,Oe;ae?Oe=re.getRawIndex(_e):$e=re.get(n.stackedByDimension,_e);for(var xe=NaN,Ne=g-1;Ne>=0;Ne--){var Ie=r[Ne];if(ae||(Oe=Ie.data.rawIndexOf(Ie.stackedByDimension,$e)),Oe>=0){var Fe=Ie.data.getByRawIndex(Ie.stackResultDimension,Oe);if(le==="all"||le==="positive"&&Fe>0||le==="negative"&&Fe<0||le==="samesign"&&Ce>=0&&Fe>0||le==="samesign"&&Ce<=0&&Fe<0){Ce=addSafe(Ce,Fe),xe=Fe;break}}}return y[0]=Ce,y[1]=xe,y})})}var SourceImpl=function(){function r(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var g=this.dimensionsDefine=n.dimensionsDefine;if(g)for(var y=0;y<g.length;y++){var $=g[y];$.type==null&&guessOrdinal(this,y)===BE_ORDINAL.Must&&($.type="ordinal")}}return r}();function isSourceInstance(r){return r instanceof SourceImpl}function createSource(r,n,g){g=g||detectSourceFormat(r);var y=n.seriesLayoutBy,$=determineSourceDimensions(r,g,y,n.sourceHeader,n.dimensions),L=new SourceImpl({data:r,sourceFormat:g,seriesLayoutBy:y,dimensionsDefine:$.dimensionsDefine,startIndex:$.startIndex,dimensionsDetectedCount:$.dimensionsDetectedCount,metaRawOption:clone$4(n)});return L}function createSourceFromSeriesDataOption(r){return new SourceImpl({data:r,sourceFormat:isTypedArray(r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(r){return new SourceImpl({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:clone$4(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function detectSourceFormat(r){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(r))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$2(r)){r.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var g=0,y=r.length;g<y;g++){var $=r[g];if($!=null){if(isArray$2($)||isTypedArray($)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3($)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(r)){for(var L in r)if(hasOwn(r,L)&&isArrayLike(r[L])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(r,n,g,y,$){var L,re;if(!r)return{dimensionsDefine:normalizeDimensionsOption($),startIndex:re,dimensionsDetectedCount:L};if(n===SOURCE_FORMAT_ARRAY_ROWS){var ae=r;y==="auto"||y==null?arrayRowsTravelFirst(function(ue){ue!=null&&ue!=="-"&&(isString(ue)?re==null&&(re=1):re=0)},g,ae,10):re=isNumber$1(y)?y:y?1:0,!$&&re===1&&($=[],arrayRowsTravelFirst(function(ue,he){$[he]=ue!=null?ue+"":""},g,ae,1/0)),L=$?$.length:g===SERIES_LAYOUT_BY_ROW?ae.length:ae[0]?ae[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)$||($=objectRowsCollectDimensions(r));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)$||($=[],each$f(r,function(ue,he){$.push(he)}));else if(n===SOURCE_FORMAT_ORIGINAL){var le=getDataItemValue(r[0]);L=isArray$2(le)&&le.length||1}return{startIndex:re,dimensionsDefine:normalizeDimensionsOption($),dimensionsDetectedCount:L}}function objectRowsCollectDimensions(r){for(var n=0,g;n<r.length&&!(g=r[n++]););if(g)return keys$1(g)}function normalizeDimensionsOption(r){if(r){var n=createHashMap();return map$1(r,function(g,y){g=isObject$3(g)?g:{name:g};var $={name:g.name,displayName:g.displayName,type:g.type};if($.name==null)return $;$.name+="",$.displayName==null&&($.displayName=$.name);var L=n.get($.name);return L?$.name+="-"+L.count++:n.set($.name,{count:1}),$})}}function arrayRowsTravelFirst(r,n,g,y){if(n===SERIES_LAYOUT_BY_ROW)for(var $=0;$<g.length&&$<y;$++)r(g[$]?g[$][0]:null,$);else for(var L=g[0]||[],$=0;$<L.length&&$<y;$++)r(L[$],$)}function shouldRetrieveDataByName(r){var n=r.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a$2,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function r(n,g){var y=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=y;var $=this._data=y.data;y.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=g,this._data=$),mountMethods(this,$,y)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(n,g){},r.prototype.appendData=function(n){},r.prototype.clean=function(){},r.protoInitialize=function(){var n=r.prototype;n.pure=!1,n.persistent=!0}(),r.internalField=function(){var n;mountMethods=function(re,ae,le){var ue=le.sourceFormat,he=le.seriesLayoutBy,_e=le.startIndex,Ce=le.dimensionsDefine,$e=providerMethods[getMethodMapKey(ue,he)];if(extend(re,$e),ue===SOURCE_FORMAT_TYPED_ARRAY)re.getItem=g,re.count=$,re.fillStorage=y;else{var Oe=getRawSourceItemGetter(ue,he);re.getItem=bind$1(Oe,null,ae,_e,Ce);var xe=getRawSourceDataCounter(ue,he);re.count=bind$1(xe,null,ae,_e,Ce)}};var g=function(re,ae){re=re-this._offset,ae=ae||[];for(var le=this._data,ue=this._dimSize,he=ue*re,_e=0;_e<ue;_e++)ae[_e]=le[he+_e];return ae},y=function(re,ae,le,ue){for(var he=this._data,_e=this._dimSize,Ce=0;Ce<_e;Ce++){for(var $e=ue[Ce],Oe=$e[0]==null?1/0:$e[0],xe=$e[1]==null?-1/0:$e[1],Ne=ae-re,Ie=le[Ce],Fe=0;Fe<Ne;Fe++){var Ve=he[Fe*_e+Ce];Ie[re+Fe]=Ve,Ve<Oe&&(Oe=Ve),Ve>xe&&(xe=Ve)}$e[0]=Oe,$e[1]=xe}},$=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:L},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:L},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(re){var ae=this._data;each$f(re,function(le,ue){for(var he=ae[ue]||(ae[ue]=[]),_e=0;_e<(le||[]).length;_e++)he.push(le[_e])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:L},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(re){this._data=re},clean:function(){this._offset+=this.count(),this._data=null}},n);function L(re){for(var ae=0;ae<re.length;ae++)this._data.push(re[ae])}}(),r}(),getItemSimply=function(r,n,g,y){return r[y]},rawSourceItemGetterMap=(_a$2={},_a$2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,g,y){return r[y+n]},_a$2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,g,y,$){y+=n;for(var L=$||[],re=r,ae=0;ae<re.length;ae++){var le=re[ae];L[ae]=le?le[y]:null}return L},_a$2[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$2[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,g,y,$){for(var L=$||[],re=0;re<g.length;re++){var ae=g[re].name,le=r[ae];L[re]=le?le[y]:null}return L},_a$2[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$2);function getRawSourceItemGetter(r,n){var g=rawSourceItemGetterMap[getMethodMapKey(r,n)];return g}var countSimply=function(r,n,g){return r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(r,n,g){return Math.max(0,r.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(r,n,g){var y=r[0];return y?Math.max(0,y.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(r,n,g){var y=g[0].name,$=r[y];return $?$.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(r,n){var g=rawSourceDataCounterMap[getMethodMapKey(r,n)];return g}var getRawValueSimply=function(r,n,g){return r[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(r,n,g){return r[g]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(r,n,g){var y=getDataItemValue(r);return y instanceof Array?y[n]:y},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(r){var n=rawSourceValueGetterMap[r];return n}function getMethodMapKey(r,n){return r===SOURCE_FORMAT_ARRAY_ROWS?r+"_"+n:r}function retrieveRawValue(r,n,g){if(r){var y=r.getRawDataItem(n);if(y!=null){var $=r.getStore(),L=$.getSource().sourceFormat;if(g!=null){var re=r.getDimensionIndex(g),ae=$.getDimensionProperty(re);return getRawSourceValueGetter(L)(y,re,ae)}else{var le=y;return L===SOURCE_FORMAT_ORIGINAL&&(le=getDataItemValue(y)),le}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function r(){}return r.prototype.getDataParams=function(n,g){var y=this.getData(g),$=this.getRawValue(n,g),L=y.getRawIndex(n),re=y.getName(n),ae=y.getRawDataItem(n),le=y.getItemVisual(n,"style"),ue=le&&le[y.getItemVisual(n,"drawType")||"fill"],he=le&&le.stroke,_e=this.mainType,Ce=_e==="series",$e=y.userOutput&&y.userOutput.get();return{componentType:_e,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:Ce?this.subType:null,seriesIndex:this.seriesIndex,seriesId:Ce?this.id:null,seriesName:Ce?this.name:null,name:re,dataIndex:L,data:ae,dataType:g,value:$,color:ue,borderColor:he,dimensionNames:$e?$e.fullDimensions:null,encode:$e?$e.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(n,g,y,$,L,re){g=g||"normal";var ae=this.getData(y),le=this.getDataParams(n,y);if(re&&(le.value=re.interpolatedValue),$!=null&&isArray$2(le.value)&&(le.value=le.value[$]),!L){var ue=ae.getItemModel(n);L=ue.get(g==="normal"?["label","formatter"]:[g,"label","formatter"])}if(isFunction(L))return le.status=g,le.dimensionIndex=$,L(le);if(isString(L)){var he=formatTpl(L,le);return he.replace(DIMENSION_LABEL_REG,function(_e,Ce){var $e=Ce.length,Oe=Ce;Oe.charAt(0)==="["&&Oe.charAt($e-1)==="]"&&(Oe=+Oe.slice(1,$e-1));var xe=retrieveRawValue(ae,n,Oe);if(re&&isArray$2(re.interpolatedValue)){var Ne=ae.getDimensionIndex(Oe);Ne>=0&&(xe=re.interpolatedValue[Ne])}return xe!=null?xe+"":""})}},r.prototype.getRawValue=function(n,g){return retrieveRawValue(this.getData(g),n)},r.prototype.formatTooltip=function(n,g,y){},r}();function normalizeTooltipFormatResult(r){var n,g;return isObject$3(r)?r.type&&(g=r):n=r,{text:n,frag:g}}function createTask(r){return new Task(r)}var Task=function(){function r(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return r.prototype.perform=function(n){var g=this._upstream,y=n&&n.skip;if(this._dirty&&g){var $=this.context;$.data=$.outputData=g.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var L;this._plan&&!y&&(L=this._plan(this.context));var re=he(this._modBy),ae=this._modDataCount||0,le=he(n&&n.modBy),ue=n&&n.modDataCount||0;(re!==le||ae!==ue)&&(L="reset");function he(Fe){return!(Fe>=1)&&(Fe=1),Fe}var _e;(this._dirty||L==="reset")&&(this._dirty=!1,_e=this._doReset(y)),this._modBy=le,this._modDataCount=ue;var Ce=n&&n.step;if(g?this._dueEnd=g._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var $e=this._dueIndex,Oe=Math.min(Ce!=null?this._dueIndex+Ce:1/0,this._dueEnd);if(!y&&(_e||$e<Oe)){var xe=this._progress;if(isArray$2(xe))for(var Ne=0;Ne<xe.length;Ne++)this._doProgress(xe[Ne],$e,Oe,le,ue);else this._doProgress(xe,$e,Oe,le,ue)}this._dueIndex=Oe;var Ie=this._settedOutputEnd!=null?this._settedOutputEnd:Oe;this._outputDueEnd=Ie}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(n,g,y,$,L){iterator.reset(g,y,$,L),this._callingProgress=n,this._callingProgress({start:g,end:y,count:y-g,next:iterator.next},this.context)},r.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var g,y;!n&&this._reset&&(g=this._reset(this.context),g&&g.progress&&(y=g.forceFirstProgress,g=g.progress),isArray$2(g)&&!g.length&&(g=null)),this._progress=g,this._modBy=this._modDataCount=null;var $=this._downstream;return $&&$.dirty(),y},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},r}(),iterator=function(){var r,n,g,y,$,L={reset:function(le,ue,he,_e){n=le,r=ue,g=he,y=_e,$=Math.ceil(y/g),L.next=g>1&&y>0?ae:re}};return L;function re(){return n<r?n++:null}function ae(){var le=n%$*g+Math.ceil(n/$),ue=n>=r?null:le<y?le:n;return n++,ue}}();function parseDataValue(r,n){var g=n&&n.type;return g==="ordinal"?r:(g==="time"&&!isNumber$1(r)&&r!=null&&r!=="-"&&(r=+parseDate(r)),r==null||r===""?NaN:Number(r))}var valueParserMap=createHashMap({number:function(r){return parseFloat(r)},time:function(r){return+parseDate(r)},trim:function(r){return isString(r)?trim$1(r):r}});function getRawValueParser(r){return valueParserMap.get(r)}var ORDER_COMPARISON_OP_MAP={lt:function(r,n){return r<n},lte:function(r,n){return r<=n},gt:function(r,n){return r>n},gte:function(r,n){return r>=n}},FilterOrderComparator=function(){function r(n,g){if(!isNumber$1(g)){var y="";throwError(y)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(g)}return r.prototype.evaluate=function(n){return isNumber$1(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},r}(),SortOrderComparator=function(){function r(n,g){var y=n==="desc";this._resultLT=y?1:-1,g==null&&(g=y?"min":"max"),this._incomparable=g==="min"?-1/0:1/0}return r.prototype.evaluate=function(n,g){var y=isNumber$1(n)?n:numericToNumber(n),$=isNumber$1(g)?g:numericToNumber(g),L=isNaN(y),re=isNaN($);if(L&&(y=this._incomparable),re&&($=this._incomparable),L&&re){var ae=isString(n),le=isString(g);ae&&(y=le?n:0),le&&($=ae?g:0)}return y<$?this._resultLT:y>$?-this._resultLT:0},r}(),FilterEqualityComparator=function(){function r(n,g){this._rval=g,this._isEQ=n,this._rvalTypeof=typeof g,this._rvalFloat=numericToNumber(g)}return r.prototype.evaluate=function(n){var g=n===this._rval;if(!g){var y=typeof n;y!==this._rvalTypeof&&(y==="number"||this._rvalTypeof==="number")&&(g=numericToNumber(n)===this._rvalFloat)}return this._isEQ?g:!g},r}();function createFilterComparator(r,n){return r==="eq"||r==="ne"?new FilterEqualityComparator(r==="eq",n):hasOwn(ORDER_COMPARISON_OP_MAP,r)?new FilterOrderComparator(r,n):null}var ExternalSource=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(n){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(n){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(n,g){},r.prototype.retrieveValueFromItem=function(n,g){},r.prototype.convertValue=function(n,g){return parseDataValue(n,g)},r}();function createExternalSource(r,n){var g=new ExternalSource,y=r.data,$=g.sourceFormat=r.sourceFormat,L=r.startIndex,re="";r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(re);var ae=[],le={},ue=r.dimensionsDefine;if(ue)each$f(ue,function(xe,Ne){var Ie=xe.name,Fe={index:Ne,name:Ie,displayName:xe.displayName};if(ae.push(Fe),Ie!=null){var Ve="";hasOwn(le,Ie)&&throwError(Ve),le[Ie]=Fe}});else for(var he=0;he<r.dimensionsDetectedCount;he++)ae.push({index:he});var _e=getRawSourceItemGetter($,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(g.getRawDataItem=function(xe){return _e(y,L,ae,xe)},g.getRawData=bind$1(getRawData,null,r)),g.cloneRawData=bind$1(cloneRawData,null,r);var Ce=getRawSourceDataCounter($,SERIES_LAYOUT_BY_COLUMN);g.count=bind$1(Ce,null,y,L,ae);var $e=getRawSourceValueGetter($);g.retrieveValue=function(xe,Ne){var Ie=_e(y,L,ae,xe);return Oe(Ie,Ne)};var Oe=g.retrieveValueFromItem=function(xe,Ne){if(xe!=null){var Ie=ae[Ne];if(Ie)return $e(xe,Ne,Ie.name)}};return g.getDimensionInfo=bind$1(getDimensionInfo,null,ae,le),g.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,ae),g}function getRawData(r){var n=r.sourceFormat;if(!isSupportedSourceFormat(n)){var g="";throwError(g)}return r.data}function cloneRawData(r){var n=r.sourceFormat,g=r.data;if(!isSupportedSourceFormat(n)){var y="";throwError(y)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var $=[],L=0,re=g.length;L<re;L++)$.push(g[L].slice());return $}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var $=[],L=0,re=g.length;L<re;L++)$.push(extend({},g[L]));return $}}function getDimensionInfo(r,n,g){if(g!=null){if(isNumber$1(g)||!isNaN(g)&&!hasOwn(n,g))return r[g];if(hasOwn(n,g))return n[g]}}function cloneAllDimensionInfo(r){return clone$4(r)}var externalTransformMap=createHashMap();function registerExternalTransform(r){r=clone$4(r);var n=r.type,g="";n||throwError(g);var y=n.split(":");y.length!==2&&throwError(g);var $=!1;y[0]==="echarts"&&(n=y[1],$=!0),r.__isBuiltIn=$,externalTransformMap.set(n,r)}function applyDataTransform(r,n,g){var y=normalizeToArray$1(r),$=y.length,L="";$||throwError(L);for(var re=0,ae=$;re<ae;re++){var le=y[re];n=applySingleDataTransform(le,n),re!==ae-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(r,n,g,y){var $="";n.length||throwError($),isObject$3(r)||throwError($);var L=r.type,re=externalTransformMap.get(L);re||throwError($);var ae=map$1(n,function(ue){return createExternalSource(ue,re)}),le=normalizeToArray$1(re.transform({upstream:ae[0],upstreamList:ae,config:clone$4(r.config)}));return map$1(le,function(ue,he){var _e="";isObject$3(ue)||throwError(_e),ue.data||throwError(_e);var Ce=detectSourceFormat(ue.data);isSupportedSourceFormat(Ce)||throwError(_e);var $e,Oe=n[0];if(Oe&&he===0&&!ue.dimensions){var xe=Oe.startIndex;xe&&(ue.data=Oe.data.slice(0,xe).concat(ue.data)),$e={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:xe,dimensions:Oe.metaRawOption.dimensions}}else $e={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:ue.dimensions};return createSource(ue.data,$e,null)})}function isSupportedSourceFormat(r){return r===SOURCE_FORMAT_ARRAY_ROWS||r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(r){return r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(r){var n=r.constructor;return n===Array?r.slice():new n(r)}function prepareStore(r,n,g,y,$){var L=dataCtors[g||"float"];if($){var re=r[n],ae=re&&re.length;if(ae!==y){for(var le=new L(y),ue=0;ue<ae;ue++)le[ue]=re[ue];r[n]=le}}else r[n]=new L(y)}var DataStore=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return r.prototype.initData=function(n,g,y){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var $=n.getSource(),L=this.defaultDimValueGetter=defaultDimValueGetters[$.sourceFormat];this._dimValueGetter=y||L,this._rawExtent=[],shouldRetrieveDataByName($),this._dimensions=map$1(g,function(re){return{type:re.type,property:re.property}}),this._initDataFromProvider(0,n.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(n,g){var y=this._calcDimNameToIdx,$=this._dimensions,L=y.get(n);if(L!=null){if($[L].type===g)return L}else L=$.length;return $[L]={type:g},y.set(n,L),this._chunks[L]=new dataCtors[g||"float"](this._rawCount),this._rawExtent[L]=getInitialExtent(),L},r.prototype.collectOrdinalMeta=function(n,g){var y=this._chunks[n],$=this._dimensions[n],L=this._rawExtent,re=$.ordinalOffset||0,ae=y.length;re===0&&(L[n]=getInitialExtent());for(var le=L[n],ue=re;ue<ae;ue++){var he=y[ue]=g.parseAndCollect(y[ue]);isNaN(he)||(le[0]=Math.min(he,le[0]),le[1]=Math.max(he,le[1]))}$.ordinalMeta=g,$.ordinalOffset=ae,$.type="ordinal"},r.prototype.getOrdinalMeta=function(n){var g=this._dimensions[n],y=g.ordinalMeta;return y},r.prototype.getDimensionProperty=function(n){var g=this._dimensions[n];return g&&g.property},r.prototype.appendData=function(n){var g=this._provider,y=this.count();g.appendData(n);var $=g.count();return g.persistent||($+=y),y<$&&this._initDataFromProvider(y,$,!0),[y,$]},r.prototype.appendValues=function(n,g){for(var y=this._chunks,$=this._dimensions,L=$.length,re=this._rawExtent,ae=this.count(),le=ae+Math.max(n.length,g||0),ue=0;ue<L;ue++){var he=$[ue];prepareStore(y,ue,he.type,le,!0)}for(var _e=[],Ce=ae;Ce<le;Ce++)for(var $e=Ce-ae,Oe=0;Oe<L;Oe++){var he=$[Oe],xe=defaultDimValueGetters.arrayRows.call(this,n[$e]||_e,he.property,$e,Oe);y[Oe][Ce]=xe;var Ne=re[Oe];xe<Ne[0]&&(Ne[0]=xe),xe>Ne[1]&&(Ne[1]=xe)}return this._rawCount=this._count=le,{start:ae,end:le}},r.prototype._initDataFromProvider=function(n,g,y){for(var $=this._provider,L=this._chunks,re=this._dimensions,ae=re.length,le=this._rawExtent,ue=map$1(re,function(Fe){return Fe.property}),he=0;he<ae;he++){var _e=re[he];le[he]||(le[he]=getInitialExtent()),prepareStore(L,he,_e.type,g,y)}if($.fillStorage)$.fillStorage(n,g,L,le);else for(var Ce=[],$e=n;$e<g;$e++){Ce=$.getItem($e,Ce);for(var Oe=0;Oe<ae;Oe++){var xe=L[Oe],Ne=this._dimValueGetter(Ce,ue[Oe],$e,Oe);xe[$e]=Ne;var Ie=le[Oe];Ne<Ie[0]&&(Ie[0]=Ne),Ne>Ie[1]&&(Ie[1]=Ne)}}!$.persistent&&$.clean&&$.clean(),this._rawCount=this._count=g,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(n,g){if(!(g>=0&&g<this._count))return NaN;var y=this._chunks[n];return y?y[this.getRawIndex(g)]:NaN},r.prototype.getValues=function(n,g){var y=[],$=[];if(g==null){g=n,n=[];for(var L=0;L<this._dimensions.length;L++)$.push(L)}else $=n;for(var L=0,re=$.length;L<re;L++)y.push(this.get($[L],g));return y},r.prototype.getByRawIndex=function(n,g){if(!(g>=0&&g<this._rawCount))return NaN;var y=this._chunks[n];return y?y[g]:NaN},r.prototype.getSum=function(n){var g=this._chunks[n],y=0;if(g)for(var $=0,L=this.count();$<L;$++){var re=this.get(n,$);isNaN(re)||(y+=re)}return y},r.prototype.getMedian=function(n){var g=[];this.each([n],function(L){isNaN(L)||g.push(L)});var y=g.sort(function(L,re){return L-re}),$=this.count();return $===0?0:$%2===1?y[($-1)/2]:(y[$/2]+y[$/2-1])/2},r.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var g=this._indices,y=g[n];if(y!=null&&y<this._count&&y===n)return n;for(var $=0,L=this._count-1;$<=L;){var re=($+L)/2|0;if(g[re]<n)$=re+1;else if(g[re]>n)L=re-1;else return re}return-1},r.prototype.indicesOfNearest=function(n,g,y){var $=this._chunks,L=$[n],re=[];if(!L)return re;y==null&&(y=1/0);for(var ae=1/0,le=-1,ue=0,he=0,_e=this.count();he<_e;he++){var Ce=this.getRawIndex(he),$e=g-L[Ce],Oe=Math.abs($e);Oe<=y&&((Oe<ae||Oe===ae&&$e>=0&&le<0)&&(ae=Oe,le=$e,ue=0),$e===le&&(re[ue++]=he))}return re.length=ue,re},r.prototype.getIndices=function(){var n,g=this._indices;if(g){var y=g.constructor,$=this._count;if(y===Array){n=new y($);for(var L=0;L<$;L++)n[L]=g[L]}else n=new y(g.buffer,0,$)}else{var y=getIndicesCtor(this._rawCount);n=new y(this.count());for(var L=0;L<n.length;L++)n[L]=L}return n},r.prototype.filter=function(n,g){if(!this._count)return this;for(var y=this.clone(),$=y.count(),L=getIndicesCtor(y._rawCount),re=new L($),ae=[],le=n.length,ue=0,he=n[0],_e=y._chunks,Ce=0;Ce<$;Ce++){var $e=void 0,Oe=y.getRawIndex(Ce);if(le===0)$e=g(Ce);else if(le===1){var xe=_e[he][Oe];$e=g(xe,Ce)}else{for(var Ne=0;Ne<le;Ne++)ae[Ne]=_e[n[Ne]][Oe];ae[Ne]=Ce,$e=g.apply(null,ae)}$e&&(re[ue++]=Oe)}return ue<$&&(y._indices=re),y._count=ue,y._extent=[],y._updateGetRawIdx(),y},r.prototype.selectRange=function(n){var g=this.clone(),y=g._count;if(!y)return this;var $=keys$1(n),L=$.length;if(!L)return this;var re=g.count(),ae=getIndicesCtor(g._rawCount),le=new ae(re),ue=0,he=$[0],_e=n[he][0],Ce=n[he][1],$e=g._chunks,Oe=!1;if(!g._indices){var xe=0;if(L===1){for(var Ne=$e[$[0]],Ie=0;Ie<y;Ie++){var Fe=Ne[Ie];(Fe>=_e&&Fe<=Ce||isNaN(Fe))&&(le[ue++]=xe),xe++}Oe=!0}else if(L===2){for(var Ne=$e[$[0]],Ve=$e[$[1]],ze=n[$[1]][0],Ue=n[$[1]][1],Ie=0;Ie<y;Ie++){var Fe=Ne[Ie],qe=Ve[Ie];(Fe>=_e&&Fe<=Ce||isNaN(Fe))&&(qe>=ze&&qe<=Ue||isNaN(qe))&&(le[ue++]=xe),xe++}Oe=!0}}if(!Oe)if(L===1)for(var Ie=0;Ie<re;Ie++){var kt=g.getRawIndex(Ie),Fe=$e[$[0]][kt];(Fe>=_e&&Fe<=Ce||isNaN(Fe))&&(le[ue++]=kt)}else for(var Ie=0;Ie<re;Ie++){for(var Et=!0,kt=g.getRawIndex(Ie),Pt=0;Pt<L;Pt++){var At=$[Pt],Fe=$e[At][kt];(Fe<n[At][0]||Fe>n[At][1])&&(Et=!1)}Et&&(le[ue++]=g.getRawIndex(Ie))}return ue<re&&(g._indices=le),g._count=ue,g._extent=[],g._updateGetRawIdx(),g},r.prototype.map=function(n,g){var y=this.clone(n);return this._updateDims(y,n,g),y},r.prototype.modify=function(n,g){this._updateDims(this,n,g)},r.prototype._updateDims=function(n,g,y){for(var $=n._chunks,L=[],re=g.length,ae=n.count(),le=[],ue=n._rawExtent,he=0;he<g.length;he++)ue[g[he]]=getInitialExtent();for(var _e=0;_e<ae;_e++){for(var Ce=n.getRawIndex(_e),$e=0;$e<re;$e++)le[$e]=$[g[$e]][Ce];le[re]=_e;var Oe=y&&y.apply(null,le);if(Oe!=null){typeof Oe!="object"&&(L[0]=Oe,Oe=L);for(var he=0;he<Oe.length;he++){var xe=g[he],Ne=Oe[he],Ie=ue[xe],Fe=$[xe];Fe&&(Fe[Ce]=Ne),Ne<Ie[0]&&(Ie[0]=Ne),Ne>Ie[1]&&(Ie[1]=Ne)}}}},r.prototype.lttbDownSample=function(n,g){var y=this.clone([n],!0),$=y._chunks,L=$[n],re=this.count(),ae=0,le=Math.floor(1/g),ue=this.getRawIndex(0),he,_e,Ce,$e=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(re/le)+2)*2,re));$e[ae++]=ue;for(var Oe=1;Oe<re-1;Oe+=le){for(var xe=Math.min(Oe+le,re-1),Ne=Math.min(Oe+le*2,re),Ie=(Ne+xe)/2,Fe=0,Ve=xe;Ve<Ne;Ve++){var ze=this.getRawIndex(Ve),Ue=L[ze];isNaN(Ue)||(Fe+=Ue)}Fe/=Ne-xe;var qe=Oe,kt=Math.min(Oe+le,re),Et=Oe-1,Pt=L[ue];he=-1,Ce=qe;for(var At=-1,Dt=0,Ve=qe;Ve<kt;Ve++){var ze=this.getRawIndex(Ve),Ue=L[ze];if(isNaN(Ue)){Dt++,At<0&&(At=ze);continue}_e=Math.abs((Et-Ie)*(Ue-Pt)-(Et-Ve)*(Fe-Pt)),_e>he&&(he=_e,Ce=ze)}Dt>0&&Dt<kt-qe&&($e[ae++]=Math.min(At,Ce),Ce=Math.max(At,Ce)),$e[ae++]=Ce,ue=Ce}return $e[ae++]=this.getRawIndex(re-1),y._count=ae,y._indices=$e,y.getRawIndex=this._getRawIdx,y},r.prototype.minmaxDownSample=function(n,g){for(var y=this.clone([n],!0),$=y._chunks,L=Math.floor(1/g),re=$[n],ae=this.count(),le=new(getIndicesCtor(this._rawCount))(Math.ceil(ae/L)*2),ue=0,he=0;he<ae;he+=L){var _e=he,Ce=re[this.getRawIndex(_e)],$e=he,Oe=re[this.getRawIndex($e)],xe=L;he+L>ae&&(xe=ae-he);for(var Ne=0;Ne<xe;Ne++){var Ie=this.getRawIndex(he+Ne),Fe=re[Ie];Fe<Ce&&(Ce=Fe,_e=he+Ne),Fe>Oe&&(Oe=Fe,$e=he+Ne)}var Ve=this.getRawIndex(_e),ze=this.getRawIndex($e);_e<$e?(le[ue++]=Ve,le[ue++]=ze):(le[ue++]=ze,le[ue++]=Ve)}return y._count=ue,y._indices=le,y._updateGetRawIdx(),y},r.prototype.downSample=function(n,g,y,$){for(var L=this.clone([n],!0),re=L._chunks,ae=[],le=Math.floor(1/g),ue=re[n],he=this.count(),_e=L._rawExtent[n]=getInitialExtent(),Ce=new(getIndicesCtor(this._rawCount))(Math.ceil(he/le)),$e=0,Oe=0;Oe<he;Oe+=le){le>he-Oe&&(le=he-Oe,ae.length=le);for(var xe=0;xe<le;xe++){var Ne=this.getRawIndex(Oe+xe);ae[xe]=ue[Ne]}var Ie=y(ae),Fe=this.getRawIndex(Math.min(Oe+$(ae,Ie)||0,he-1));ue[Fe]=Ie,Ie<_e[0]&&(_e[0]=Ie),Ie>_e[1]&&(_e[1]=Ie),Ce[$e++]=Fe}return L._count=$e,L._indices=Ce,L._updateGetRawIdx(),L},r.prototype.each=function(n,g){if(this._count)for(var y=n.length,$=this._chunks,L=0,re=this.count();L<re;L++){var ae=this.getRawIndex(L);switch(y){case 0:g(L);break;case 1:g($[n[0]][ae],L);break;case 2:g($[n[0]][ae],$[n[1]][ae],L);break;default:for(var le=0,ue=[];le<y;le++)ue[le]=$[n[le]][ae];ue[le]=L,g.apply(null,ue)}}},r.prototype.getDataExtent=function(n){var g=this._chunks[n],y=getInitialExtent();if(!g)return y;var $=this.count(),L=!this._indices,re;if(L)return this._rawExtent[n].slice();if(re=this._extent[n],re)return re.slice();re=y;for(var ae=re[0],le=re[1],ue=0;ue<$;ue++){var he=this.getRawIndex(ue),_e=g[he];_e<ae&&(ae=_e),_e>le&&(le=_e)}return re=[ae,le],this._extent[n]=re,re},r.prototype.getRawDataItem=function(n){var g=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(g);for(var y=[],$=this._chunks,L=0;L<$.length;L++)y.push($[L][g]);return y},r.prototype.clone=function(n,g){var y=new r,$=this._chunks,L=n&&reduce(n,function(ae,le){return ae[le]=!0,ae},{});if(L)for(var re=0;re<$.length;re++)y._chunks[re]=L[re]?cloneChunk($[re]):$[re];else y._chunks=$;return this._copyCommonProps(y),g||(y._indices=this._cloneIndices()),y._updateGetRawIdx(),y},r.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$4(this._extent),n._rawExtent=clone$4(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,g=void 0;if(n===Array){var y=this._indices.length;g=new n(y);for(var $=0;$<y;$++)g[$]=this._indices[$]}else g=new n(this._indices);return g}return null},r.prototype._getRawIdxIdentity=function(n){return n},r.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function n(g,y,$,L){return parseDataValue(g[L],this._dimensions[L])}defaultDimValueGetters={arrayRows:n,objectRows:function(g,y,$,L){return parseDataValue(g[y],this._dimensions[L])},keyedColumns:n,original:function(g,y,$,L){var re=g&&(g.value==null?g:g.value);return parseDataValue(re instanceof Array?re[L]:re,this._dimensions[L])},typedArray:function(g,y,$,L){return g[L]}}}(),r}(),SourceManager=function(){function r(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(n,g){this._sourceList=n,this._upstreamSignList=g,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,g=this._getUpstreamSourceManagers(),y=!!g.length,$,L;if(isSeries(n)){var re=n,ae=void 0,le=void 0,ue=void 0;if(y){var he=g[0];he.prepareSource(),ue=he.getSource(),ae=ue.data,le=ue.sourceFormat,L=[he._getVersionSign()]}else ae=re.get("data",!0),le=isTypedArray(ae)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,L=[];var _e=this._getSourceMetaRawOption()||{},Ce=ue&&ue.metaRawOption||{},$e=retrieve2(_e.seriesLayoutBy,Ce.seriesLayoutBy)||null,Oe=retrieve2(_e.sourceHeader,Ce.sourceHeader),xe=retrieve2(_e.dimensions,Ce.dimensions),Ne=$e!==Ce.seriesLayoutBy||!!Oe!=!!Ce.sourceHeader||xe;$=Ne?[createSource(ae,{seriesLayoutBy:$e,sourceHeader:Oe,dimensions:xe},le)]:[]}else{var Ie=n;if(y){var Fe=this._applyTransform(g);$=Fe.sourceList,L=Fe.upstreamSignList}else{var Ve=Ie.get("source",!0);$=[createSource(Ve,this._getSourceMetaRawOption(),null)],L=[]}}this._setLocalSource($,L)},r.prototype._applyTransform=function(n){var g=this._sourceHost,y=g.get("transform",!0),$=g.get("fromTransformResult",!0);if($!=null){var L="";n.length!==1&&doThrow(L)}var re,ae=[],le=[];return each$f(n,function(ue){ue.prepareSource();var he=ue.getSource($||0),_e="";$!=null&&!he&&doThrow(_e),ae.push(he),le.push(ue._getVersionSign())}),y?re=applyDataTransform(y,ae,{datasetIndex:g.componentIndex}):$!=null&&(re=[cloneSourceShallow(ae[0])]),{sourceList:re,upstreamSignList:le}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),g=0;g<n.length;g++){var y=n[g];if(y._isDirty()||this._upstreamSignList[g]!==y._getVersionSign())return!0}},r.prototype.getSource=function(n){n=n||0;var g=this._sourceList[n];if(!g){var y=this._getUpstreamSourceManagers();return y[0]&&y[0].getSource(n)}return g},r.prototype.getSharedDataStore=function(n){var g=n.makeStoreSchema();return this._innerGetDataStore(g.dimensions,n.source,g.hash)},r.prototype._innerGetDataStore=function(n,g,y){var $=0,L=this._storeList,re=L[$];re||(re=L[$]={});var ae=re[y];if(!ae){var le=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&le?ae=le._innerGetDataStore(n,g,y):(ae=new DataStore,ae.initData(new DefaultDataProvider(g,n.length),n)),re[y]=ae}return ae},r.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var g=querySeriesUpstreamDatasetModel(n);return g?[g.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(y){return y.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,g,y,$;if(isSeries(n))g=n.get("seriesLayoutBy",!0),y=n.get("sourceHeader",!0),$=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var L=n;g=L.get("seriesLayoutBy",!0),y=L.get("sourceHeader",!0),$=L.get("dimensions",!0)}return{seriesLayoutBy:g,sourceHeader:y,dimensions:$}},r}();function disableTransformOptionMerge(r){var n=r.option.transform;n&&setAsPrimitive(r.option.transform)}function isSeries(r){return r.mainType==="series"}function doThrow(r){throw new Error(r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(r){var n=r.lineHeight;return n==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(n+"")+"px"}function getTooltipTextStyle(r,n){var g=r.color||"#6e7079",y=r.fontSize||12,$=r.fontWeight||"400",L=r.color||"#464646",re=r.fontSize||14,ae=r.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(y+"")+"px;color:"+encodeHTML(g)+";font-weight:"+encodeHTML($+""),valueStyle:"font-size:"+encodeHTML(re+"")+"px;color:"+encodeHTML(L)+";font-weight:"+encodeHTML(ae+"")}:{nameStyle:{fontSize:y,fill:g,fontWeight:$},valueStyle:{fontSize:re,fill:L,fontWeight:ae}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(r,n){return n.type=r,n}function isSectionFragment(r){return r.type==="section"}function getBuilder(r){return isSectionFragment(r)?buildSection:buildNameValue}function getBlockGapLevel(r){if(isSectionFragment(r)){var n=0,g=r.blocks.length,y=g>1||g>0&&!r.noHeader;return each$f(r.blocks,function($){var L=getBlockGapLevel($);L>=n&&(n=L+ +(y&&(!L||isSectionFragment($)&&!$.noHeader)))}),n}return 0}function buildSection(r,n,g,y){var $=n.noHeader,L=getGap(getBlockGapLevel(n)),re=[],ae=n.blocks||[];assert(!ae||isArray$2(ae)),ae=ae||[];var le=r.orderMode;if(n.sortBlocks&&le){ae=ae.slice();var ue={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(ue,le)){var he=new SortOrderComparator(ue[le],null);ae.sort(function(xe,Ne){return he.evaluate(xe.sortParam,Ne.sortParam)})}else le==="seriesDesc"&&ae.reverse()}each$f(ae,function(xe,Ne){var Ie=n.valueFormatter,Fe=getBuilder(xe)(Ie?extend(extend({},r),{valueFormatter:Ie}):r,xe,Ne>0?L.html:0,y);Fe!=null&&re.push(Fe)});var _e=r.renderMode==="richText"?re.join(L.richText):wrapBlockHTML(y,re.join(""),$?g:L.html);if($)return _e;var Ce=makeValueReadable(n.header,"ordinal",r.useUTC),$e=getTooltipTextStyle(y,r.renderMode).nameStyle,Oe=getTooltipLineHeight(y);return r.renderMode==="richText"?wrapInlineNameRichText(r,Ce,$e)+L.richText+_e:wrapBlockHTML(y,'<div style="'+$e+";"+Oe+';">'+encodeHTML(Ce)+"</div>"+_e,g)}function buildNameValue(r,n,g,y){var $=r.renderMode,L=n.noName,re=n.noValue,ae=!n.markerType,le=n.name,ue=r.useUTC,he=n.valueFormatter||r.valueFormatter||function(ze){return ze=isArray$2(ze)?ze:[ze],map$1(ze,function(Ue,qe){return makeValueReadable(Ue,isArray$2($e)?$e[qe]:$e,ue)})};if(!(L&&re)){var _e=ae?"":r.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",$),Ce=L?"":makeValueReadable(le,"ordinal",ue),$e=n.valueType,Oe=re?[]:he(n.value,n.dataIndex),xe=!ae||!L,Ne=!ae&&L,Ie=getTooltipTextStyle(y,$),Fe=Ie.nameStyle,Ve=Ie.valueStyle;return $==="richText"?(ae?"":_e)+(L?"":wrapInlineNameRichText(r,Ce,Fe))+(re?"":wrapInlineValueRichText(r,Oe,xe,Ne,Ve)):wrapBlockHTML(y,(ae?"":_e)+(L?"":wrapInlineNameHTML(Ce,!ae,Fe))+(re?"":wrapInlineValueHTML(Oe,xe,Ne,Ve)),g)}}function buildTooltipMarkup(r,n,g,y,$,L){if(r){var re=getBuilder(r),ae={useUTC:$,renderMode:g,orderMode:y,markupStyleCreator:n,valueFormatter:r.valueFormatter};return re(ae,r,0,L)}}function getGap(r){return{html:HTML_GAPS[r],richText:RICH_TEXT_GAPS[r]}}function wrapBlockHTML(r,n,g){var y='<div style="clear:both"></div>',$="margin: "+g+"px 0 0",L=getTooltipLineHeight(r);return'<div style="'+$+";"+L+';">'+n+y+"</div>"}function wrapInlineNameHTML(r,n,g){var y=n?"margin-left:2px":"";return'<span style="'+g+";"+y+'">'+encodeHTML(r)+"</span>"}function wrapInlineValueHTML(r,n,g,y){var $=g?"10px":"20px",L=n?"float:right;margin-left:"+$:"";return r=isArray$2(r)?r:[r],'<span style="'+L+";"+y+'">'+map$1(r,function(re){return encodeHTML(re)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(r,n,g){return r.markupStyleCreator.wrapRichTextStyle(n,g)}function wrapInlineValueRichText(r,n,g,y,$){var L=[$],re=y?10:20;return g&&L.push({padding:[0,0,0,re],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(isArray$2(n)?n.join("  "):n,L)}function retrieveVisualColorForTooltipMarker(r,n){var g=r.getData().getItemVisual(n,"style"),y=g[r.visualDrawType];return convertToColorString(y)}function getPaddingFromTooltipModel(r,n){var g=r.get("padding");return g??(n==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(n,g,y){var $=y==="richText"?this._generateStyleName():null,L=getTooltipMarker({color:g,type:n,renderMode:y,markerId:$});return isString(L)?L:(this.richTextStyles[$]=L.style,L.content)},r.prototype.wrapRichTextStyle=function(n,g){var y={};isArray$2(g)?each$f(g,function(L){return extend(y,L)}):extend(y,g);var $=this._generateStyleName();return this.richTextStyles[$]=y,"{"+$+"|"+n+"}"},r}();function defaultSeriesFormatTooltip(r){var n=r.series,g=r.dataIndex,y=r.multipleSeries,$=n.getData(),L=$.mapDimensionsAll("defaultedTooltip"),re=L.length,ae=n.getRawValue(g),le=isArray$2(ae),ue=retrieveVisualColorForTooltipMarker(n,g),he,_e,Ce,$e;if(re>1||le&&!re){var Oe=formatTooltipArrayValue(ae,n,g,L,ue);he=Oe.inlineValues,_e=Oe.inlineValueTypes,Ce=Oe.blocks,$e=Oe.inlineValues[0]}else if(re){var xe=$.getDimensionInfo(L[0]);$e=he=retrieveRawValue($,g,L[0]),_e=xe.type}else $e=he=le?ae[0]:ae;var Ne=isNameSpecified(n),Ie=Ne&&n.name||"",Fe=$.getName(g),Ve=y?Ie:Fe;return createTooltipMarkup("section",{header:Ie,noHeader:y||!Ne,sortParam:$e,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:ue,name:Ve,noName:!trim$1(Ve),value:he,valueType:_e,dataIndex:g})].concat(Ce||[])})}function formatTooltipArrayValue(r,n,g,y,$){var L=n.getData(),re=reduce(r,function(_e,Ce,$e){var Oe=L.getDimensionInfo($e);return _e=_e||Oe&&Oe.tooltip!==!1&&Oe.displayName!=null},!1),ae=[],le=[],ue=[];y.length?each$f(y,function(_e){he(retrieveRawValue(L,g,_e),_e)}):each$f(r,he);function he(_e,Ce){var $e=L.getDimensionInfo(Ce);!$e||$e.otherDims.tooltip===!1||(re?ue.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:$,name:$e.displayName,value:_e,valueType:$e.type})):(ae.push(_e),le.push($e.type)))}return{inlineValues:ae,inlineValueTypes:le,blocks:ue}}var inner$k=makeInner();function getSelectionKey(r,n){return r.getName(n)||r.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g._selectedDataIndicesMap={},g}return n.prototype.init=function(g,y,$){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(g,$);var L=inner$k(this).sourceManager=new SourceManager(this);L.prepareSource();var re=this.getInitialData(g,$);wrapData(re,this),this.dataTask.context.data=re,inner$k(this).dataBeforeProcessed=re,autoSeriesName(this),this._initSelectedMapFromData(re)},n.prototype.mergeDefaultAndTheme=function(g,y){var $=fetchLayoutMode(this),L=$?getLayoutParams(g):{},re=this.subType;ComponentModel.hasClass(re)&&(re+="Series"),merge$1(g,y.getTheme().get(this.subType)),merge$1(g,this.getDefaultOption()),defaultEmphasis(g,"label",["show"]),this.fillDataTextStyle(g.data),$&&mergeLayoutParam(g,L,$)},n.prototype.mergeOption=function(g,y){g=merge$1(this.option,g,!0),this.fillDataTextStyle(g.data);var $=fetchLayoutMode(this);$&&mergeLayoutParam(this.option,g,$);var L=inner$k(this).sourceManager;L.dirty(),L.prepareSource();var re=this.getInitialData(g,y);wrapData(re,this),this.dataTask.dirty(),this.dataTask.context.data=re,inner$k(this).dataBeforeProcessed=re,autoSeriesName(this),this._initSelectedMapFromData(re)},n.prototype.fillDataTextStyle=function(g){if(g&&!isTypedArray(g))for(var y=["show"],$=0;$<g.length;$++)g[$]&&g[$].label&&defaultEmphasis(g[$],"label",y)},n.prototype.getInitialData=function(g,y){},n.prototype.appendData=function(g){var y=this.getRawData();y.appendData(g.data)},n.prototype.getData=function(g){var y=getCurrentTask(this);if(y){var $=y.context.data;return g==null||!$.getLinkedData?$:$.getLinkedData(g)}else return inner$k(this).data},n.prototype.getAllData=function(){var g=this.getData();return g&&g.getLinkedDataAll?g.getLinkedDataAll():[{data:g}]},n.prototype.setData=function(g){var y=getCurrentTask(this);if(y){var $=y.context;$.outputData=g,y!==this.dataTask&&($.data=g)}inner$k(this).data=g},n.prototype.getEncode=function(){var g=this.get("encode",!0);if(g)return createHashMap(g)},n.prototype.getSourceManager=function(){return inner$k(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var g=this.get("colorBy");return g||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var g=this.coordinateSystem;return g&&g.getBaseAxis&&g.getBaseAxis()},n.prototype.formatTooltip=function(g,y,$){return defaultSeriesFormatTooltip({series:this,dataIndex:g,multipleSeries:y})},n.prototype.isAnimationEnabled=function(){var g=this.ecModel;if(env.node&&!(g&&g.ssr))return!1;var y=this.getShallow("animation");return y&&this.getData().count()>this.getShallow("animationThreshold")&&(y=!1),!!y},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(g,y,$){var L=this.ecModel,re=PaletteMixin.prototype.getColorFromPalette.call(this,g,y,$);return re||(re=L.getColorFromPalette(g,y,$)),re},n.prototype.coordDimToDataDim=function(g){return this.getRawData().mapDimensionsAll(g)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(g,y){this._innerSelect(this.getData(y),g)},n.prototype.unselect=function(g,y){var $=this.option.selectedMap;if($){var L=this.option.selectedMode,re=this.getData(y);if(L==="series"||$==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var ae=0;ae<g.length;ae++){var le=g[ae],ue=getSelectionKey(re,le);$[ue]=!1,this._selectedDataIndicesMap[ue]=-1}}},n.prototype.toggleSelect=function(g,y){for(var $=[],L=0;L<g.length;L++)$[0]=g[L],this.isSelected(g[L],y)?this.unselect($,y):this.select($,y)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var g=this._selectedDataIndicesMap,y=keys$1(g),$=[],L=0;L<y.length;L++){var re=g[y[L]];re>=0&&$.push(re)}return $},n.prototype.isSelected=function(g,y){var $=this.option.selectedMap;if(!$)return!1;var L=this.getData(y);return($==="all"||$[getSelectionKey(L,g)])&&!L.getItemModel(g).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var g=this.option.universalTransition;return g?g===!0?!0:g&&g.enabled:!1},n.prototype._innerSelect=function(g,y){var $,L,re=this.option,ae=re.selectedMode,le=y.length;if(!(!ae||!le)){if(ae==="series")re.selectedMap="all";else if(ae==="multiple"){isObject$3(re.selectedMap)||(re.selectedMap={});for(var ue=re.selectedMap,he=0;he<le;he++){var _e=y[he],Ce=getSelectionKey(g,_e);ue[Ce]=!0,this._selectedDataIndicesMap[Ce]=g.getRawIndex(_e)}}else if(ae==="single"||ae===!0){var $e=y[le-1],Ce=getSelectionKey(g,$e);re.selectedMap=($={},$[Ce]=!0,$),this._selectedDataIndicesMap=(L={},L[Ce]=g.getRawIndex($e),L)}}},n.prototype._initSelectedMapFromData=function(g){if(!this.option.selectedMap){var y=[];g.hasItemOption&&g.each(function($){var L=g.getRawDataItem($);L&&L.selected&&y.push($)}),y.length>0&&this._innerSelect(g,y)}},n.registerClass=function(g){return ComponentModel.registerClass(g)},n.protoInitialize=function(){var g=n.prototype;g.type="series.__base__",g.seriesIndex=0,g.ignoreStyleOnData=!1,g.hasSymbolVisual=!1,g.defaultSymbol="circle",g.visualStyleAccessPath="itemStyle",g.visualDrawType="fill"}(),n}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(r){var n=r.name;isNameSpecified(r)||(r.name=getSeriesAutoName(r)||n)}function getSeriesAutoName(r){var n=r.getRawData(),g=n.mapDimensionsAll("seriesName"),y=[];return each$f(g,function($){var L=n.getDimensionInfo($);L.displayName&&y.push(L.displayName)}),y.join(" ")}function dataTaskCount(r){return r.model.getRawData().count()}function dataTaskReset(r){var n=r.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(r,n){n.outputData&&r.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(r,n){each$f(concatArray(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(g){r.wrapMethod(g,curry$1(onDataChange,n))})}function onDataChange(r,n){var g=getCurrentTask(r);return g&&g.setOutputEnd((n||this).count()),n}function getCurrentTask(r){var n=(r.ecModel||{}).scheduler,g=n&&n.getPipeline(r.uid);if(g){var y=g.currentTask;if(y){var $=y.agentStubMap;$&&(y=$.get(r.uid))}return y}}var ComponentView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewComponent")}return r.prototype.init=function(n,g){},r.prototype.render=function(n,g,y,$){},r.prototype.dispose=function(n,g){},r.prototype.updateView=function(n,g,y,$){},r.prototype.updateLayout=function(n,g,y,$){},r.prototype.updateVisual=function(n,g,y,$){},r.prototype.toggleBlurSeries=function(n,g,y){},r.prototype.eachRendered=function(n){var g=this.group;g&&g.traverse(n)},r}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var r=makeInner();return function(n){var g=r(n),y=n.pipelineContext,$=!!g.large,L=!!g.progressiveRender,re=g.large=!!(y&&y.large),ae=g.progressiveRender=!!(y&&y.progressiveRender);return($!==re||L!==ae)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function r(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return r.prototype.init=function(n,g){},r.prototype.render=function(n,g,y,$){},r.prototype.highlight=function(n,g,y,$){var L=n.getData($&&$.dataType);L&&toggleHighlight(L,$,"emphasis")},r.prototype.downplay=function(n,g,y,$){var L=n.getData($&&$.dataType);L&&toggleHighlight(L,$,"normal")},r.prototype.remove=function(n,g){this.group.removeAll()},r.prototype.dispose=function(n,g){},r.prototype.updateView=function(n,g,y,$){this.render(n,g,y,$)},r.prototype.updateLayout=function(n,g,y,$){this.render(n,g,y,$)},r.prototype.updateVisual=function(n,g,y,$){this.render(n,g,y,$)},r.prototype.eachRendered=function(n){traverseElements(this.group,n)},r.markUpdateMethod=function(n,g){inner$j(n).updateMethod=g},r.protoInitialize=function(){var n=r.prototype;n.type="chart"}(),r}();function elSetState(r,n,g){r&&isHighDownDispatcher(r)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(r,g)}function toggleHighlight(r,n,g){var y=queryDataIndex(r,n),$=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;y!=null?each$f(normalizeToArray$1(y),function(L){elSetState(r.getItemGraphicEl(L),g,$)}):r.eachItemGraphicEl(function(L){elSetState(L,g,$)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(r){return renderPlanner(r.model)}function renderTaskReset(r){var n=r.model,g=r.ecModel,y=r.api,$=r.payload,L=n.pipelineContext.progressiveRender,re=r.view,ae=$&&inner$j($).updateMethod,le=L?"incrementalPrepareRender":ae&&re[ae]?ae:"render";return le!=="render"&&re[le](n,g,y,$),progressMethodMap[le]}var progressMethodMap={incrementalPrepareRender:{progress:function(r,n){n.view.incrementalRender(r,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(r,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(r,n,g){var y,$=0,L=0,re=null,ae,le,ue,he;n=n||0;function _e(){L=new Date().getTime(),re=null,r.apply(le,ue||[])}var Ce=function(){for(var $e=[],Oe=0;Oe<arguments.length;Oe++)$e[Oe]=arguments[Oe];y=new Date().getTime(),le=this,ue=$e;var xe=he||n,Ne=he||g;he=null,ae=y-(Ne?$:L)-xe,clearTimeout(re),Ne?re=setTimeout(_e,xe):ae>=0?_e():re=setTimeout(_e,-ae),$=y};return Ce.clear=function(){re&&(clearTimeout(re),re=null)},Ce.debounceNextCall=function($e){he=$e},Ce}function createOrUpdate(r,n,g,y){var $=r[n];if($){var L=$[ORIGIN_METHOD]||$,re=$[THROTTLE_TYPE],ae=$[RATE];if(ae!==g||re!==y){if(g==null||!y)return r[n]=L;$=r[n]=throttle(L,g,y==="debounce"),$[ORIGIN_METHOD]=L,$[THROTTLE_TYPE]=y,$[RATE]=g}return $}}function clear$1(r,n){var g=r[n];g&&g[ORIGIN_METHOD]&&(g.clear&&g.clear(),r[n]=g[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(r,n){var g=r.visualStyleMapper||defaultStyleMappers[n];return g||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(r,n){var g=r.visualDrawType||defaultColorKey[n];return g||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var g=r.getData(),y=r.visualStyleAccessPath||"itemStyle",$=r.getModel(y),L=getStyleMapper(r,y),re=L($),ae=$.getShallow("decal");ae&&(g.setVisual("decal",ae),ae.dirty=!0);var le=getDefaultColorKey(r,y),ue=re[le],he=isFunction(ue)?ue:null,_e=re.fill==="auto"||re.stroke==="auto";if(!re[le]||he||_e){var Ce=r.getColorFromPalette(r.name,null,n.getSeriesCount());re[le]||(re[le]=Ce,g.setVisual("colorFromPalette",!0)),re.fill=re.fill==="auto"||isFunction(re.fill)?Ce:re.fill,re.stroke=re.stroke==="auto"||isFunction(re.stroke)?Ce:re.stroke}if(g.setVisual("style",re),g.setVisual("drawType",le),!n.isSeriesFiltered(r)&&he)return g.setVisual("colorFromPalette",!1),{dataEach:function($e,Oe){var xe=r.getDataParams(Oe),Ne=extend({},re);Ne[le]=he(xe),$e.setItemVisual(Oe,"style",Ne)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!(r.ignoreStyleOnData||n.isSeriesFiltered(r))){var g=r.getData(),y=r.visualStyleAccessPath||"itemStyle",$=getStyleMapper(r,y),L=g.getVisual("drawType");return{dataEach:g.hasItemOption?function(re,ae){var le=re.getRawDataItem(ae);if(le&&le[y]){sharedModel.option=le[y];var ue=$(sharedModel),he=re.ensureUniqueItemVisual(ae,"style");extend(he,ue),sharedModel.option.decal&&(re.setItemVisual(ae,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),L in ue&&re.setItemVisual(ae,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(r){var n=createHashMap();r.eachSeries(function(g){var y=g.getColorBy();if(!g.isColorBySeries()){var $=g.type+"-"+y,L=n.get($);L||(L={},n.set($,L)),inner$i(g).scope=L}}),r.eachSeries(function(g){if(!(g.isColorBySeries()||r.isSeriesFiltered(g))){var y=g.getRawData(),$={},L=g.getData(),re=inner$i(g).scope,ae=g.visualStyleAccessPath||"itemStyle",le=getDefaultColorKey(g,ae);L.each(function(ue){var he=L.getRawIndex(ue);$[he]=ue}),y.each(function(ue){var he=$[ue],_e=L.getItemVisual(he,"colorFromPalette");if(_e){var Ce=L.ensureUniqueItemVisual(he,"style"),$e=y.getName(ue)||ue+"",Oe=y.count();Ce[le]=g.getColorFromPalette($e,re,Oe)}})}})}},PI$5=Math.PI;function defaultLoading(r,n){n=n||{},defaults$2(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var g=new Group$3,y=new Rect$2({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});g.add(y);var $=new ZRText({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),L=new Rect$2({style:{fill:"none"},textContent:$,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});g.add(L);var re;return n.showSpinner&&(re=new Arc({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),re.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),re.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),g.add(re)),g.resize=function(){var ae=$.getBoundingRect().width,le=n.showSpinner?n.spinnerRadius:0,ue=(r.getWidth()-le*2-(n.showSpinner&&ae?10:0)-ae)/2-(n.showSpinner&&ae?0:5+ae/2)+(n.showSpinner?0:ae/2)+(ae?0:le),he=r.getHeight()/2;n.showSpinner&&re.setShape({cx:ue,cy:he}),L.setShape({x:ue-le,y:he-le,width:le*2,height:le*2}),y.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},g.resize(),g}var Scheduler=function(){function r(n,g,y,$){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=g,y=this._dataProcessorHandlers=y.slice(),$=this._visualHandlers=$.slice(),this._allHandlers=y.concat($)}return r.prototype.restoreData=function(n,g){n.restoreData(g),this._stageTaskMap.each(function(y){var $=y.overallTask;$&&$.dirty()})},r.prototype.getPerformArgs=function(n,g){if(n.__pipeline){var y=this._pipelineMap.get(n.__pipeline.id),$=y.context,L=!g&&y.progressiveEnabled&&(!$||$.progressiveRender)&&n.__idxInPipeline>y.blockIndex,re=L?y.step:null,ae=$&&$.modDataCount,le=ae!=null?Math.ceil(ae/re):null;return{step:re,modBy:le,modDataCount:ae}}},r.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},r.prototype.updateStreamModes=function(n,g){var y=this._pipelineMap.get(n.uid),$=n.getData(),L=$.count(),re=y.progressiveEnabled&&g.incrementalPrepareRender&&L>=y.threshold,ae=n.get("large")&&L>=n.get("largeThreshold"),le=n.get("progressiveChunkMode")==="mod"?L:null;n.pipelineContext=y.context={progressiveRender:re,modDataCount:le,large:ae}},r.prototype.restorePipelines=function(n){var g=this,y=g._pipelineMap=createHashMap();n.eachSeries(function($){var L=$.getProgressive(),re=$.uid;y.set(re,{id:re,head:null,tail:null,threshold:$.getProgressiveThreshold(),progressiveEnabled:L&&!($.preventIncremental&&$.preventIncremental()),blockIndex:-1,step:Math.round(L||700),count:0}),g._pipe($,$.dataTask)})},r.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,g=this.api.getModel(),y=this.api;each$f(this._allHandlers,function($){var L=n.get($.uid)||n.set($.uid,{}),re="";assert(!($.reset&&$.overallReset),re),$.reset&&this._createSeriesStageTask($,L,g,y),$.overallReset&&this._createOverallStageTask($,L,g,y)},this)},r.prototype.prepareView=function(n,g,y,$){var L=n.renderTask,re=L.context;re.model=g,re.ecModel=y,re.api=$,L.__block=!n.incrementalPrepareRender,this._pipe(g,L)},r.prototype.performDataProcessorTasks=function(n,g){this._performStageTasks(this._dataProcessorHandlers,n,g,{block:!0})},r.prototype.performVisualTasks=function(n,g,y){this._performStageTasks(this._visualHandlers,n,g,y)},r.prototype._performStageTasks=function(n,g,y,$){$=$||{};var L=!1,re=this;each$f(n,function(le,ue){if(!($.visualType&&$.visualType!==le.visualType)){var he=re._stageTaskMap.get(le.uid),_e=he.seriesTaskMap,Ce=he.overallTask;if(Ce){var $e,Oe=Ce.agentStubMap;Oe.each(function(Ne){ae($,Ne)&&(Ne.dirty(),$e=!0)}),$e&&Ce.dirty(),re.updatePayload(Ce,y);var xe=re.getPerformArgs(Ce,$.block);Oe.each(function(Ne){Ne.perform(xe)}),Ce.perform(xe)&&(L=!0)}else _e&&_e.each(function(Ne,Ie){ae($,Ne)&&Ne.dirty();var Fe=re.getPerformArgs(Ne,$.block);Fe.skip=!le.performRawSeries&&g.isSeriesFiltered(Ne.context.model),re.updatePayload(Ne,y),Ne.perform(Fe)&&(L=!0)})}});function ae(le,ue){return le.setDirty&&(!le.dirtyMap||le.dirtyMap.get(ue.__pipeline.id))}this.unfinished=L||this.unfinished},r.prototype.performSeriesTasks=function(n){var g;n.eachSeries(function(y){g=y.dataTask.perform()||g}),this.unfinished=g||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(n){var g=n.tail;do{if(g.__block){n.blockIndex=g.__idxInPipeline;break}g=g.getUpstream()}while(g)})},r.prototype.updatePayload=function(n,g){g!=="remain"&&(n.context.payload=g)},r.prototype._createSeriesStageTask=function(n,g,y,$){var L=this,re=g.seriesTaskMap,ae=g.seriesTaskMap=createHashMap(),le=n.seriesType,ue=n.getTargetSeries;n.createOnAllSeries?y.eachRawSeries(he):le?y.eachRawSeriesByType(le,he):ue&&ue(y,$).each(he);function he(_e){var Ce=_e.uid,$e=ae.set(Ce,re&&re.get(Ce)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));$e.context={model:_e,ecModel:y,api:$,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:L},L._pipe(_e,$e)}},r.prototype._createOverallStageTask=function(n,g,y,$){var L=this,re=g.overallTask=g.overallTask||createTask({reset:overallTaskReset});re.context={ecModel:y,api:$,overallReset:n.overallReset,scheduler:L};var ae=re.agentStubMap,le=re.agentStubMap=createHashMap(),ue=n.seriesType,he=n.getTargetSeries,_e=!0,Ce=!1,$e="";assert(!n.createOnAllSeries,$e),ue?y.eachRawSeriesByType(ue,Oe):he?he(y,$).each(Oe):(_e=!1,each$f(y.getSeries(),Oe));function Oe(xe){var Ne=xe.uid,Ie=le.set(Ne,ae&&ae.get(Ne)||(Ce=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));Ie.context={model:xe,overallProgress:_e},Ie.agent=re,Ie.__block=_e,L._pipe(xe,Ie)}Ce&&re.dirty()},r.prototype._pipe=function(n,g){var y=n.uid,$=this._pipelineMap.get(y);!$.head&&($.head=g),$.tail&&$.tail.pipe(g),$.tail=g,g.__idxInPipeline=$.count++,g.__pipeline=$},r.wrapStageHandler=function(n,g){return isFunction(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),g&&(n.visualType=g),n},r}();function overallTaskReset(r){r.overallReset(r.ecModel,r.api,r.payload)}function stubReset(r){return r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function seriesTaskReset(r){r.useClearVisual&&r.data.clearAllVisual();var n=r.resetDefines=normalizeToArray$1(r.reset(r.model,r.ecModel,r.api,r.payload));return n.length>1?map$1(n,function(g,y){return makeSeriesTaskProgress(y)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(r){return function(n,g){var y=g.data,$=g.resetDefines[r];if($&&$.dataEach)for(var L=n.start;L<n.end;L++)$.dataEach(y,L);else $&&$.progress&&$.progress(n,y)}}function seriesTaskCount(r){return r.data.count()}function detectSeriseType(r){seriesType=null;try{r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(r){seriesType=r};ecModelMock.eachComponent=function(r){r.mainType==="series"&&r.subType&&(seriesType=r.subType)};function mockMethods(r,n){for(var g in n.prototype)r[g]=noop}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme$1={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme$1.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function r(){}return r.prototype.normalizeQuery=function(n){var g={},y={},$={};if(isString(n)){var L=parseClassType(n);g.mainType=L.main||null,g.subType=L.sub||null}else{var re=["Index","Name","Id"],ae={name:1,dataIndex:1,dataType:1};each$f(n,function(le,ue){for(var he=!1,_e=0;_e<re.length;_e++){var Ce=re[_e],$e=ue.lastIndexOf(Ce);if($e>0&&$e===ue.length-Ce.length){var Oe=ue.slice(0,$e);Oe!=="data"&&(g.mainType=Oe,g[Ce.toLowerCase()]=le,he=!0)}}ae.hasOwnProperty(ue)&&(y[ue]=le,he=!0),he||($[ue]=le)})}return{cptQuery:g,dataQuery:y,otherQuery:$}},r.prototype.filter=function(n,g){var y=this.eventInfo;if(!y)return!0;var $=y.targetEl,L=y.packedEvent,re=y.model,ae=y.view;if(!re||!ae)return!0;var le=g.cptQuery,ue=g.dataQuery;return he(le,re,"mainType")&&he(le,re,"subType")&&he(le,re,"index","componentIndex")&&he(le,re,"name")&&he(le,re,"id")&&he(ue,L,"name")&&he(ue,L,"dataIndex")&&he(ue,L,"dataType")&&(!ae.filterForExposedEvent||ae.filterForExposedEvent(n,g.otherQuery,$,L));function he(_e,Ce,$e,Oe){return _e[$e]==null||Ce[Oe||$e]===_e[$e]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){var g=r.getData();if(r.legendIcon&&g.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var y={},$={},L=!1,re=0;re<SYMBOL_PROPS_WITH_CB.length;re++){var ae=SYMBOL_PROPS_WITH_CB[re],le=r.get(ae);isFunction(le)?(L=!0,$[ae]=le):y[ae]=le}if(y.symbol=y.symbol||r.defaultSymbol,g.setVisual(extend({legendIcon:r.legendIcon||y.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},y)),n.isSeriesFiltered(r))return;var ue=keys$1($);function he(_e,Ce){for(var $e=r.getRawValue(Ce),Oe=r.getDataParams(Ce),xe=0;xe<ue.length;xe++){var Ne=ue[xe];_e.setItemVisual(Ce,Ne,$[Ne]($e,Oe))}}return{dataEach:L?he:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,n){if(!r.hasSymbolVisual||n.isSeriesFiltered(r))return;var g=r.getData();function y($,L){for(var re=$.getItemModel(L),ae=0;ae<SYMBOL_PROPS.length;ae++){var le=SYMBOL_PROPS[ae],ue=re.getShallow(le,!0);ue!=null&&$.setItemVisual(L,le,ue)}}return{dataEach:g.hasItemOption?y:null}}};function getItemVisualFromData(r,n,g){switch(g){case"color":var y=r.getItemVisual(n,"style");return y[r.getVisual("drawType")];case"opacity":return r.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(n,g)}}function getVisualFromData(r,n){switch(n){case"color":var g=r.getVisual("style");return g[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(n)}}function setItemVisualFromData(r,n,g,y){switch(g){case"color":var $=r.ensureUniqueItemVisual(n,"style");$[r.getVisual("drawType")]=y,r.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(n,"style").opacity=y;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(n,g,y);break}}function createLegacyDataSelectAction(r,n){function g(y,$){var L=[];return y.eachComponent({mainType:"series",subType:r,query:$},function(re){L.push(re.seriesIndex)}),L}each$f([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(y){n(y[0],function($,L,re){$=extend({},$),re.dispatchAction(extend($,{type:y[1],seriesIndex:g(L,$)}))})})}function handleSeriesLegacySelectEvents(r,n,g,y,$){var L=r+n;g.isSilent(L)||y.eachComponent({mainType:"series",subType:"pie"},function(re){for(var ae=re.seriesIndex,le=re.option.selectedMap,ue=$.selected,he=0;he<ue.length;he++)if(ue[he].seriesIndex===ae){var _e=re.getData(),Ce=queryDataIndex(_e,$.fromActionPayload);g.trigger(L,{type:L,seriesId:re.id,name:isArray$2(Ce)?_e.getName(Ce[0]):_e.getName(Ce),selected:isString(le)?le:extend({},le)})}})}function handleLegacySelectEvents(r,n,g){r.on("selectchanged",function(y){var $=g.getModel();y.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,$,y),handleSeriesLegacySelectEvents("pie","selectchanged",n,$,y)):y.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,$,y),handleSeriesLegacySelectEvents("pie","selected",n,$,y)):y.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,$,y),handleSeriesLegacySelectEvents("pie","unselected",n,$,y))})}function findEventDispatcher(r,n,g){for(var y;r&&!(n(r)&&(y=r,g));)r=r.__hostTarget||r.parent;return y}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function r(){this._id="__ec_inner_"+wmUniqueIndex++}return r.prototype.get=function(n){return this._guard(n)[this._id]},r.prototype.set=function(n,g){var y=this._guard(n);return supportDefineProperty?Object.defineProperty(y,this._id,{value:g,enumerable:!1,configurable:!0}):y[this._id]=g,this},r.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},r.prototype.has=function(n){return!!this._guard(n)[this._id]},r.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},r}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var g=n.cx,y=n.cy,$=n.width/2,L=n.height/2;r.moveTo(g,y-L),r.lineTo(g+$,y+L),r.lineTo(g-$,y+L),r.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,n){var g=n.cx,y=n.cy,$=n.width/2,L=n.height/2;r.moveTo(g,y-L),r.lineTo(g+$,y),r.lineTo(g,y+L),r.lineTo(g-$,y),r.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var g=n.x,y=n.y,$=n.width/5*3,L=Math.max($,n.height),re=$/2,ae=re*re/(L-re),le=y-L+re+ae,ue=Math.asin(ae/re),he=Math.cos(ue)*re,_e=Math.sin(ue),Ce=Math.cos(ue),$e=re*.6,Oe=re*.7;r.moveTo(g-he,le+ae),r.arc(g,le,re,Math.PI-ue,Math.PI*2+ue),r.bezierCurveTo(g+he-_e*$e,le+ae+Ce*$e,g,y-Oe,g,y),r.bezierCurveTo(g,y-Oe,g-he+_e*$e,le+ae+Ce*$e,g-he,le+ae),r.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,n){var g=n.height,y=n.width,$=n.x,L=n.y,re=y/3*2;r.moveTo($,L),r.lineTo($+re,L+g),r.lineTo($,L+g/4*3),r.lineTo($-re,L+g),r.lineTo($,L),r.closePath()}}),symbolCtors={line:Line$2,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(r,n,g,y,$){$.x1=r,$.y1=n+y/2,$.x2=r+g,$.y2=n+y/2},rect:function(r,n,g,y,$){$.x=r,$.y=n,$.width=g,$.height=y},roundRect:function(r,n,g,y,$){$.x=r,$.y=n,$.width=g,$.height=y,$.r=Math.min(g,y)/4},square:function(r,n,g,y,$){var L=Math.min(g,y);$.x=r,$.y=n,$.width=L,$.height=L},circle:function(r,n,g,y,$){$.cx=r+g/2,$.cy=n+y/2,$.r=Math.min(g,y)/2},diamond:function(r,n,g,y,$){$.cx=r+g/2,$.cy=n+y/2,$.width=g,$.height=y},pin:function(r,n,g,y,$){$.x=r+g/2,$.y=n+y/2,$.width=g,$.height=y},arrow:function(r,n,g,y,$){$.x=r+g/2,$.y=n+y/2,$.width=g,$.height=y},triangle:function(r,n,g,y,$){$.cx=r+g/2,$.cy=n+y/2,$.width=g,$.height=y}},symbolBuildProxies={};each$f(symbolCtors,function(r,n){symbolBuildProxies[n]=new r});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,n,g){var y=calculateTextPosition(r,n,g),$=this.shape;return $&&$.symbolType==="pin"&&n.position==="inside"&&(y.y=g.y+g.height*.4),y},buildPath:function(r,n,g){var y=n.symbolType;if(y!=="none"){var $=symbolBuildProxies[y];$||(y="rect",$=symbolBuildProxies[y]),symbolShapeMakers[y](n.x,n.y,n.width,n.height,$.shape),$.buildPath(r,$.shape,g)}}});function symbolPathSetColor(r,n){if(this.type!=="image"){var g=this.style;this.__isEmptyBrush?(g.stroke=r,g.fill=n||"#fff",g.lineWidth=2):this.shape.symbolType==="line"?g.stroke=r:g.fill=r,this.markRedraw()}}function createSymbol$1(r,n,g,y,$,L,re){var ae=r.indexOf("empty")===0;ae&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var le;return r.indexOf("image://")===0?le=makeImage(r.slice(8),new BoundingRect(n,g,y,$),re?"center":"cover"):r.indexOf("path://")===0?le=makePath(r.slice(7),{},new BoundingRect(n,g,y,$),re?"center":"cover"):le=new SymbolClz({shape:{symbolType:r,x:n,y:g,width:y,height:$}}),le.__isEmptyBrush=ae,le.setColor=symbolPathSetColor,L&&le.setColor(L),le}function normalizeSymbolSize(r){return isArray$2(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function normalizeSymbolOffset(r,n){if(r!=null)return isArray$2(r)||(r=[r,r]),[parsePercent(r[0],n[0])||0,parsePercent(retrieve2(r[1],r[0]),n[1])||0]}function isSafeNum(r){return isFinite(r)}function createLinearGradient(r,n,g){var y=n.x==null?0:n.x,$=n.x2==null?1:n.x2,L=n.y==null?0:n.y,re=n.y2==null?0:n.y2;n.global||(y=y*g.width+g.x,$=$*g.width+g.x,L=L*g.height+g.y,re=re*g.height+g.y),y=isSafeNum(y)?y:0,$=isSafeNum($)?$:1,L=isSafeNum(L)?L:0,re=isSafeNum(re)?re:0;var ae=r.createLinearGradient(y,L,$,re);return ae}function createRadialGradient(r,n,g){var y=g.width,$=g.height,L=Math.min(y,$),re=n.x==null?.5:n.x,ae=n.y==null?.5:n.y,le=n.r==null?.5:n.r;n.global||(re=re*y+g.x,ae=ae*$+g.y,le=le*L),re=isSafeNum(re)?re:.5,ae=isSafeNum(ae)?ae:.5,le=le>=0&&isSafeNum(le)?le:.5;var ue=r.createRadialGradient(re,ae,0,re,ae,le);return ue}function getCanvasGradient(r,n,g){for(var y=n.type==="radial"?createRadialGradient(r,n,g):createLinearGradient(r,n,g),$=n.colorStops,L=0;L<$.length;L++)y.addColorStop($[L].offset,$[L].color);return y}function isClipPathChanged(r,n){if(r===n||!r&&!n)return!1;if(!r||!n||r.length!==n.length)return!0;for(var g=0;g<r.length;g++)if(r[g]!==n[g])return!0;return!1}function parseInt10(r){return parseInt(r,10)}function getSize$1(r,n,g){var y=["width","height"][n],$=["clientWidth","clientHeight"][n],L=["paddingLeft","paddingTop"][n],re=["paddingRight","paddingBottom"][n];if(g[y]!=null&&g[y]!=="auto")return parseFloat(g[y]);var ae=document.defaultView.getComputedStyle(r);return(r[$]||parseInt10(ae[y])||parseInt10(r.style[y]))-(parseInt10(ae[L])||0)-(parseInt10(ae[re])||0)|0}function normalizeLineDash(r,n){return!r||r==="solid"||!(n>0)?null:r==="dashed"?[4*n,2*n]:r==="dotted"?[n]:isNumber$1(r)?[r]:isArray$2(r)?r:null}function getLineDash(r){var n=r.style,g=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),y=n.lineDashOffset;if(g){var $=n.strokeNoScale&&r.getLineScale?r.getLineScale():1;$&&$!==1&&(g=map$1(g,function(L){return L/$}),y/=$)}return[g,y]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(r){var n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))}function isValidStrokeFillStyle(r){return typeof r=="string"&&r!=="none"}function styleHasFill(r){var n=r.fill;return n!=null&&n!=="none"}function doFillPath(r,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var g=r.globalAlpha;r.globalAlpha=n.fillOpacity*n.opacity,r.fill(),r.globalAlpha=g}else r.fill()}function doStrokePath(r,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var g=r.globalAlpha;r.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(),r.globalAlpha=g}else r.stroke()}function createCanvasPattern(r,n,g){var y=createOrUpdateImage(n.image,n.__image,g);if(isImageReady(y)){var $=r.createPattern(y,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&$&&$.setTransform){var L=new DOMMatrix;L.translateSelf(n.x||0,n.y||0),L.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),L.scaleSelf(n.scaleX||1,n.scaleY||1),$.setTransform(L)}return $}}function brushPath(r,n,g,y){var $,L=styleHasStroke(g),re=styleHasFill(g),ae=g.strokePercent,le=ae<1,ue=!n.path;(!n.silent||le)&&ue&&n.createPathProxy();var he=n.path||pathProxyForDraw,_e=n.__dirty;if(!y){var Ce=g.fill,$e=g.stroke,Oe=re&&!!Ce.colorStops,xe=L&&!!$e.colorStops,Ne=re&&!!Ce.image,Ie=L&&!!$e.image,Fe=void 0,Ve=void 0,ze=void 0,Ue=void 0,qe=void 0;(Oe||xe)&&(qe=n.getBoundingRect()),Oe&&(Fe=_e?getCanvasGradient(r,Ce,qe):n.__canvasFillGradient,n.__canvasFillGradient=Fe),xe&&(Ve=_e?getCanvasGradient(r,$e,qe):n.__canvasStrokeGradient,n.__canvasStrokeGradient=Ve),Ne&&(ze=_e||!n.__canvasFillPattern?createCanvasPattern(r,Ce,n):n.__canvasFillPattern,n.__canvasFillPattern=ze),Ie&&(Ue=_e||!n.__canvasStrokePattern?createCanvasPattern(r,$e,n):n.__canvasStrokePattern,n.__canvasStrokePattern=ze),Oe?r.fillStyle=Fe:Ne&&(ze?r.fillStyle=ze:re=!1),xe?r.strokeStyle=Ve:Ie&&(Ue?r.strokeStyle=Ue:L=!1)}var kt=n.getGlobalScale();he.setScale(kt[0],kt[1],n.segmentIgnoreThreshold);var Et,Pt;r.setLineDash&&g.lineDash&&($=getLineDash(n),Et=$[0],Pt=$[1]);var At=!0;(ue||_e&SHAPE_CHANGED_BIT)&&(he.setDPR(r.dpr),le?he.setContext(null):(he.setContext(r),At=!1),he.reset(),n.buildPath(he,n.shape,y),he.toStatic(),n.pathUpdated()),At&&he.rebuildPath(r,le?ae:1),Et&&(r.setLineDash(Et),r.lineDashOffset=Pt),y||(g.strokeFirst?(L&&doStrokePath(r,g),re&&doFillPath(r,g)):(re&&doFillPath(r,g),L&&doStrokePath(r,g))),Et&&r.setLineDash([])}function brushImage(r,n,g){var y=n.__image=createOrUpdateImage(g.image,n.__image,n,n.onload);if(!(!y||!isImageReady(y))){var $=g.x||0,L=g.y||0,re=n.getWidth(),ae=n.getHeight(),le=y.width/y.height;if(re==null&&ae!=null?re=ae*le:ae==null&&re!=null?ae=re/le:re==null&&ae==null&&(re=y.width,ae=y.height),g.sWidth&&g.sHeight){var ue=g.sx||0,he=g.sy||0;r.drawImage(y,ue,he,g.sWidth,g.sHeight,$,L,re,ae)}else if(g.sx&&g.sy){var ue=g.sx,he=g.sy,_e=re-ue,Ce=ae-he;r.drawImage(y,ue,he,_e,Ce,$,L,re,ae)}else r.drawImage(y,$,L,re,ae)}}function brushText(r,n,g){var y,$=g.text;if($!=null&&($+=""),$){r.font=g.font||DEFAULT_FONT,r.textAlign=g.textAlign,r.textBaseline=g.textBaseline;var L=void 0,re=void 0;r.setLineDash&&g.lineDash&&(y=getLineDash(n),L=y[0],re=y[1]),L&&(r.setLineDash(L),r.lineDashOffset=re),g.strokeFirst?(styleHasStroke(g)&&r.strokeText($,g.x,g.y),styleHasFill(g)&&r.fillText($,g.x,g.y)):(styleHasFill(g)&&r.fillText($,g.x,g.y),styleHasStroke(g)&&r.strokeText($,g.x,g.y)),L&&r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(r,n,g,y,$){var L=!1;if(!y&&(g=g||{},n===g))return!1;if(y||n.opacity!==g.opacity){flushPathDrawn(r,$),L=!0;var re=Math.max(Math.min(n.opacity,1),0);r.globalAlpha=isNaN(re)?DEFAULT_COMMON_STYLE.opacity:re}(y||n.blend!==g.blend)&&(L||(flushPathDrawn(r,$),L=!0),r.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var ae=0;ae<SHADOW_NUMBER_PROPS.length;ae++){var le=SHADOW_NUMBER_PROPS[ae];(y||n[le]!==g[le])&&(L||(flushPathDrawn(r,$),L=!0),r[le]=r.dpr*(n[le]||0))}return(y||n.shadowColor!==g.shadowColor)&&(L||(flushPathDrawn(r,$),L=!0),r.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),L}function bindPathAndTextCommonStyle(r,n,g,y,$){var L=getStyle(n,$.inHover),re=y?null:g&&getStyle(g,$.inHover)||{};if(L===re)return!1;var ae=bindCommonProps(r,L,re,y,$);if((y||L.fill!==re.fill)&&(ae||(flushPathDrawn(r,$),ae=!0),isValidStrokeFillStyle(L.fill)&&(r.fillStyle=L.fill)),(y||L.stroke!==re.stroke)&&(ae||(flushPathDrawn(r,$),ae=!0),isValidStrokeFillStyle(L.stroke)&&(r.strokeStyle=L.stroke)),(y||L.opacity!==re.opacity)&&(ae||(flushPathDrawn(r,$),ae=!0),r.globalAlpha=L.opacity==null?1:L.opacity),n.hasStroke()){var le=L.lineWidth,ue=le/(L.strokeNoScale&&n.getLineScale?n.getLineScale():1);r.lineWidth!==ue&&(ae||(flushPathDrawn(r,$),ae=!0),r.lineWidth=ue)}for(var he=0;he<STROKE_PROPS.length;he++){var _e=STROKE_PROPS[he],Ce=_e[0];(y||L[Ce]!==re[Ce])&&(ae||(flushPathDrawn(r,$),ae=!0),r[Ce]=L[Ce]||_e[1])}return ae}function bindImageStyle(r,n,g,y,$){return bindCommonProps(r,getStyle(n,$.inHover),g&&getStyle(g,$.inHover),y,$)}function setContextTransform(r,n){var g=n.transform,y=r.dpr||1;g?r.setTransform(y*g[0],y*g[1],y*g[2],y*g[3],y*g[4],y*g[5]):r.setTransform(y,0,0,y,0,0)}function updateClipStatus(r,n,g){for(var y=!1,$=0;$<r.length;$++){var L=r[$];y=y||L.isZeroArea(),setContextTransform(n,L),n.beginPath(),L.buildPath(n,L.shape),n.clip()}g.allClipped=y}function isTransformChanged(r,n){return r&&n?r[0]!==n[0]||r[1]!==n[1]||r[2]!==n[2]||r[3]!==n[3]||r[4]!==n[4]||r[5]!==n[5]:!(!r&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(r){var n=styleHasFill(r),g=styleHasStroke(r);return!(r.lineDash||!(+n^+g)||n&&typeof r.fill!="string"||g&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function flushPathDrawn(r,n){n.batchFill&&r.fill(),n.batchStroke&&r.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(r,n){return n&&r.__hoverStyle||r.style}function brushSingle(r,n){brush$1(r,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(r,n,g,y){var $=n.transform;if(!n.shouldBePainted(g.viewWidth,g.viewHeight,!1,!1)){n.__dirty&=-2,n.__isRendered=!1;return}var L=n.__clipPaths,re=g.prevElClipPaths,ae=!1,le=!1;if((!re||isClipPathChanged(L,re))&&(re&&re.length&&(flushPathDrawn(r,g),r.restore(),le=ae=!0,g.prevElClipPaths=null,g.allClipped=!1,g.prevEl=null),L&&L.length&&(flushPathDrawn(r,g),r.save(),updateClipStatus(L,r,g),ae=!0),g.prevElClipPaths=L),g.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var ue=g.prevEl;ue||(le=ae=!0);var he=n instanceof Path&&n.autoBatch&&canPathBatch(n.style);ae||isTransformChanged($,ue.transform)?(flushPathDrawn(r,g),setContextTransform(r,n)):he||flushPathDrawn(r,g);var _e=getStyle(n,g.inHover);n instanceof Path?(g.lastDrawType!==DRAW_TYPE_PATH&&(le=!0,g.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(r,n,ue,le,g),(!he||!g.batchFill&&!g.batchStroke)&&r.beginPath(),brushPath(r,n,_e,he),he&&(g.batchFill=_e.fill||"",g.batchStroke=_e.stroke||"")):n instanceof TSpan?(g.lastDrawType!==DRAW_TYPE_TEXT&&(le=!0,g.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(r,n,ue,le,g),brushText(r,n,_e)):n instanceof ZRImage?(g.lastDrawType!==DRAW_TYPE_IMAGE&&(le=!0,g.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(r,n,ue,le,g),brushImage(r,n,_e)):n.getTemporalDisplayables&&(g.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(le=!0,g.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(r,n,g)),he&&y&&flushPathDrawn(r,g),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),g.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(r,n,g){var y=n.getDisplayables(),$=n.getTemporalDisplayables();r.save();var L={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:g.viewWidth,viewHeight:g.viewHeight,inHover:g.inHover},re,ae;for(re=n.getCursor(),ae=y.length;re<ae;re++){var le=y[re];le.beforeBrush&&le.beforeBrush(),le.innerBeforeBrush(),brush$1(r,le,L,re===ae-1),le.innerAfterBrush(),le.afterBrush&&le.afterBrush(),L.prevEl=le}for(var ue=0,he=$.length;ue<he;ue++){var le=$[ue];le.beforeBrush&&le.beforeBrush(),le.innerBeforeBrush(),brush$1(r,le,L,ue===he-1),le.innerAfterBrush(),le.afterBrush&&le.afterBrush(),L.prevEl=le}n.clearTemporalDisplayables(),n.notClear=!0,r.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(r,n){if(r==="none")return null;var g=n.getDevicePixelRatio(),y=n.getZr(),$=y.painter.type==="svg";r.dirty&&decalMap.delete(r);var L=decalMap.get(r);if(L)return L;var re=defaults$2(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});re.backgroundColor==="none"&&(re.backgroundColor=null);var ae={repeat:"repeat"};return le(ae),ae.rotation=re.rotation,ae.scaleX=ae.scaleY=$?1:1/g,decalMap.set(r,ae),r.dirty=!1,ae;function le(ue){for(var he=[g],_e=!0,Ce=0;Ce<decalKeys.length;++Ce){var $e=re[decalKeys[Ce]];if($e!=null&&!isArray$2($e)&&!isString($e)&&!isNumber$1($e)&&typeof $e!="boolean"){_e=!1;break}he.push($e)}var Oe;if(_e){Oe=he.join(",")+($?"-svg":"");var xe=decalCache.get(Oe);xe&&($?ue.svgElement=xe:ue.image=xe)}var Ne=normalizeDashArrayX(re.dashArrayX),Ie=normalizeDashArrayY(re.dashArrayY),Fe=normalizeSymbolArray(re.symbol),Ve=getLineBlockLengthX(Ne),ze=getLineBlockLengthY(Ie),Ue=!$&&platformApi.createCanvas(),qe=$&&{tag:"g",attrs:{},key:"dcl",children:[]},kt=Pt(),Et;Ue&&(Ue.width=kt.width*g,Ue.height=kt.height*g,Et=Ue.getContext("2d")),At(),_e&&decalCache.put(Oe,Ue||qe),ue.image=Ue,ue.svgElement=qe,ue.svgWidth=kt.width,ue.svgHeight=kt.height;function Pt(){for(var Dt=1,Lt=0,hn=Ve.length;Lt<hn;++Lt)Dt=getLeastCommonMultiple(Dt,Ve[Lt]);for(var _n=1,Lt=0,hn=Fe.length;Lt<hn;++Lt)_n=getLeastCommonMultiple(_n,Fe[Lt].length);Dt*=_n;var vn=ze*Ve.length*Fe.length;return{width:Math.max(1,Math.min(Dt,re.maxTileWidth)),height:Math.max(1,Math.min(vn,re.maxTileHeight))}}function At(){Et&&(Et.clearRect(0,0,Ue.width,Ue.height),re.backgroundColor&&(Et.fillStyle=re.backgroundColor,Et.fillRect(0,0,Ue.width,Ue.height)));for(var Dt=0,Lt=0;Lt<Ie.length;++Lt)Dt+=Ie[Lt];if(Dt<=0)return;for(var hn=-ze,_n=0,vn=0,jt=0;hn<kt.height;){if(_n%2===0){for(var $n=vn/2%Fe.length,Sn=0,bn=0,wn=0;Sn<kt.width*2;){for(var On=0,Lt=0;Lt<Ne[jt].length;++Lt)On+=Ne[jt][Lt];if(On<=0)break;if(bn%2===0){var Tn=(1-re.symbolSize)*.5,xn=Sn+Ne[jt][bn]*Tn,Pn=hn+Ie[_n]*Tn,An=Ne[jt][bn]*re.symbolSize,Rn=Ie[_n]*re.symbolSize,Nn=wn/2%Fe[$n].length;Dn(xn,Pn,An,Rn,Fe[$n][Nn])}Sn+=Ne[jt][bn],++wn,++bn,bn===Ne[jt].length&&(bn=0)}++jt,jt===Ne.length&&(jt=0)}hn+=Ie[_n],++vn,++_n,_n===Ie.length&&(_n=0)}function Dn(In,Fn,Bn,Mn,Hn){var Yn=$?1:g,qn=createSymbol$1(Hn,In*Yn,Fn*Yn,Bn*Yn,Mn*Yn,re.color,re.symbolKeepAspect);if($){var Xn=y.painter.renderOneToVNode(qn);Xn&&qe.children.push(Xn)}else brushSingle(Et,qn)}}}}function normalizeSymbolArray(r){if(!r||r.length===0)return[["rect"]];if(isString(r))return[[r]];for(var n=!0,g=0;g<r.length;++g)if(!isString(r[g])){n=!1;break}if(n)return normalizeSymbolArray([r]);for(var y=[],g=0;g<r.length;++g)isString(r[g])?y.push([r[g]]):y.push(r[g]);return y}function normalizeDashArrayX(r){if(!r||r.length===0)return[[0,0]];if(isNumber$1(r)){var n=Math.ceil(r);return[[n,n]]}for(var g=!0,y=0;y<r.length;++y)if(!isNumber$1(r[y])){g=!1;break}if(g)return normalizeDashArrayX([r]);for(var $=[],y=0;y<r.length;++y)if(isNumber$1(r[y])){var n=Math.ceil(r[y]);$.push([n,n])}else{var n=map$1(r[y],function(ae){return Math.ceil(ae)});n.length%2===1?$.push(n.concat(n)):$.push(n)}return $}function normalizeDashArrayY(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(isNumber$1(r)){var n=Math.ceil(r);return[n,n]}var g=map$1(r,function(y){return Math.ceil(y)});return r.length%2?g.concat(g):g}function getLineBlockLengthX(r){return map$1(r,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(r){for(var n=0,g=0;g<r.length;++g)n+=r[g];return r.length%2===1?n*2:n}function decalVisual(r,n){r.eachRawSeries(function(g){if(!r.isSeriesFiltered(g)){var y=g.getData();y.hasItemVisual()&&y.each(function(re){var ae=y.getItemVisual(re,"decal");if(ae){var le=y.ensureUniqueItemVisual(re,"style");le.decal=createOrUpdatePatternFromDecal(ae,n)}});var $=y.getVisual("decal");if($){var L=y.getVisual("style");L.decal=createOrUpdatePatternFromDecal($,n)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(r,n){implsStore[r]=n}function getImpl(r){return implsStore[r]}var version="5.6.0",dependencies={zrender:"5.6.1"},TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(r){return function(){for(var n=[],g=0;g<arguments.length;g++)n[g]=arguments[g];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,r,n)}}function createRegisterEventWithLowercaseMessageCenter(r){return function(){for(var n=[],g=0;g<arguments.length;g++)n[g]=arguments[g];return toLowercaseNameAndCallEventful(this,r,n)}}function toLowercaseNameAndCallEventful(r,n,g){return g[0]=g[0]&&g[0].toLowerCase(),Eventful.prototype[n].apply(r,g)}var MessageCenter=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render$1,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this,new ECEventProcessor)||this;L._chartsViews=[],L._chartsMap={},L._componentsViews=[],L._componentsMap={},L._pendingActions=[],$=$||{},isString(y)&&(y=themeStorage[y]),L._dom=g;var re="canvas",ae="auto",le=!1;$.ssr&&registerSSRDataGetter(function(Ce){var $e=getECData(Ce),Oe=$e.dataIndex;if(Oe!=null){var xe=createHashMap();return xe.set("series_index",$e.seriesIndex),xe.set("data_index",Oe),$e.ssrType&&xe.set("ssr_type",$e.ssrType),xe}});var ue=L._zr=init$2(g,{renderer:$.renderer||re,devicePixelRatio:$.devicePixelRatio,width:$.width,height:$.height,ssr:$.ssr,useDirtyRect:retrieve2($.useDirtyRect,le),useCoarsePointer:retrieve2($.useCoarsePointer,ae),pointerSize:$.pointerSize});L._ssr=$.ssr,L._throttledZrFlush=throttle(bind$1(ue.flush,ue),17),y=clone$4(y),y&&globalBackwardCompat(y,!0),L._theme=y,L._locale=createLocaleObject($.locale||SYSTEM_LANG),L._coordSysMgr=new CoordinateSystemManager;var he=L._api=createExtensionAPI(L);function _e(Ce,$e){return Ce.__prio-$e.__prio}return sort$2(visualFuncs,_e),sort$2(dataProcessorFuncs,_e),L._scheduler=new Scheduler(L,he,dataProcessorFuncs,visualFuncs),L._messageCenter=new MessageCenter,L._initEvents(),L.resize=bind$1(L.resize,L),ue.animation.on("frame",L._onframe,L),bindRenderedEvent(ue,L),bindMouseEvent(ue,L),setAsPrimitive(L),L}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var g=this._scheduler;if(this[PENDING_UPDATE]){var y=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(le){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,le}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,y),triggerUpdatedEvent.call(this,y)}else if(g.unfinished){var $=TEST_FRAME_REMAIN_TIME,L=this._model,re=this._api;g.unfinished=!1;do{var ae=+new Date;g.performSeriesTasks(L),g.performDataProcessorTasks(L),updateStreamModes(this,L),g.performVisualTasks(L),renderSeries(this,this._model,re,"remain",{}),$-=+new Date-ae}while($>0&&g.unfinished);g.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(g,y,$){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var L,re,ae;if(isObject$3(y)&&($=y.lazyUpdate,L=y.silent,re=y.replaceMerge,ae=y.transition,y=y.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||y){var le=new OptionManager(this._api),ue=this._theme,he=this._model=new GlobalModel;he.scheduler=this._scheduler,he.ssr=this._ssr,he.init(null,null,null,ue,this._locale,le)}this._model.setOption(g,{replaceMerge:re},optionPreprocessorFuncs);var _e={seriesTransition:ae,optionChanged:!0};if($)this[PENDING_UPDATE]={silent:L,updateParams:_e},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,_e)}catch(Ce){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,Ce}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,L),triggerUpdatedEvent.call(this,L)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(g){return this.renderToCanvas(g)},n.prototype.renderToCanvas=function(g){g=g||{};var y=this._zr.painter;return y.getRenderedCanvas({backgroundColor:g.backgroundColor||this._model.get("backgroundColor"),pixelRatio:g.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(g){g=g||{};var y=this._zr.painter;return y.renderToString({useViewBox:g.useViewBox})},n.prototype.getSvgDataURL=function(){if(env.svgSupported){var g=this._zr,y=g.storage.getDisplayList();return each$f(y,function($){$.stopAnimation(null,!0)}),g.painter.toDataURL()}},n.prototype.getDataURL=function(g){if(this._disposed){this.id;return}g=g||{};var y=g.excludeComponents,$=this._model,L=[],re=this;each$f(y,function(le){$.eachComponent({mainType:le},function(ue){var he=re._componentsMap[ue.__viewId];he.group.ignore||(L.push(he),he.group.ignore=!0)})});var ae=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(g).toDataURL("image/"+(g&&g.type||"png"));return each$f(L,function(le){le.group.ignore=!1}),ae},n.prototype.getConnectedDataURL=function(g){if(this._disposed){this.id;return}var y=g.type==="svg",$=this.group,L=Math.min,re=Math.max,ae=1/0;if(connectedGroups[$]){var le=ae,ue=ae,he=-ae,_e=-ae,Ce=[],$e=g&&g.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(Ve,ze){if(Ve.group===$){var Ue=y?Ve.getZr().painter.getSvgDom().innerHTML:Ve.renderToCanvas(clone$4(g)),qe=Ve.getDom().getBoundingClientRect();le=L(qe.left,le),ue=L(qe.top,ue),he=re(qe.right,he),_e=re(qe.bottom,_e),Ce.push({dom:Ue,left:qe.left,top:qe.top})}}),le*=$e,ue*=$e,he*=$e,_e*=$e;var Oe=he-le,xe=_e-ue,Ne=platformApi.createCanvas(),Ie=init$2(Ne,{renderer:y?"svg":"canvas"});if(Ie.resize({width:Oe,height:xe}),y){var Fe="";return each$f(Ce,function(Ve){var ze=Ve.left-le,Ue=Ve.top-ue;Fe+='<g transform="translate('+ze+","+Ue+')">'+Ve.dom+"</g>"}),Ie.painter.getSvgRoot().innerHTML=Fe,g.connectedBackgroundColor&&Ie.painter.setBackgroundColor(g.connectedBackgroundColor),Ie.refreshImmediately(),Ie.painter.toDataURL()}else return g.connectedBackgroundColor&&Ie.add(new Rect$2({shape:{x:0,y:0,width:Oe,height:xe},style:{fill:g.connectedBackgroundColor}})),each$f(Ce,function(Ve){var ze=new ZRImage({style:{x:Ve.left*$e-le,y:Ve.top*$e-ue,image:Ve.dom}});Ie.add(ze)}),Ie.refreshImmediately(),Ne.toDataURL("image/"+(g&&g.type||"png"))}else return this.getDataURL(g)},n.prototype.convertToPixel=function(g,y){return doConvertPixel(this,"convertToPixel",g,y)},n.prototype.convertFromPixel=function(g,y){return doConvertPixel(this,"convertFromPixel",g,y)},n.prototype.containPixel=function(g,y){if(this._disposed){this.id;return}var $=this._model,L,re=parseFinder$1($,g);return each$f(re,function(ae,le){le.indexOf("Models")>=0&&each$f(ae,function(ue){var he=ue.coordinateSystem;if(he&&he.containPoint)L=L||!!he.containPoint(y);else if(le==="seriesModels"){var _e=this._chartsMap[ue.__viewId];_e&&_e.containPoint&&(L=L||_e.containPoint(y,ue))}},this)},this),!!L},n.prototype.getVisual=function(g,y){var $=this._model,L=parseFinder$1($,g,{defaultMainType:"series"}),re=L.seriesModel,ae=re.getData(),le=L.hasOwnProperty("dataIndexInside")?L.dataIndexInside:L.hasOwnProperty("dataIndex")?ae.indexOfRawIndex(L.dataIndex):null;return le!=null?getItemVisualFromData(ae,le,y):getVisualFromData(ae,y)},n.prototype.getViewOfComponentModel=function(g){return this._componentsMap[g.__viewId]},n.prototype.getViewOfSeriesModel=function(g){return this._chartsMap[g.__viewId]},n.prototype._initEvents=function(){var g=this;each$f(MOUSE_EVENT_NAMES,function(y){var $=function(L){var re=g.getModel(),ae=L.target,le,ue=y==="globalout";if(ue?le={}:ae&&findEventDispatcher(ae,function(Oe){var xe=getECData(Oe);if(xe&&xe.dataIndex!=null){var Ne=xe.dataModel||re.getSeriesByIndex(xe.seriesIndex);return le=Ne&&Ne.getDataParams(xe.dataIndex,xe.dataType,ae)||{},!0}else if(xe.eventData)return le=extend({},xe.eventData),!0},!0),le){var he=le.componentType,_e=le.componentIndex;(he==="markLine"||he==="markPoint"||he==="markArea")&&(he="series",_e=le.seriesIndex);var Ce=he&&_e!=null&&re.getComponent(he,_e),$e=Ce&&g[Ce.mainType==="series"?"_chartsMap":"_componentsMap"][Ce.__viewId];le.event=L,le.type=y,g._$eventProcessor.eventInfo={targetEl:ae,packedEvent:le,model:Ce,view:$e},g.trigger(y,le)}};$.zrEventfulCallAtLast=!0,g._zr.on(y,$,g)}),each$f(eventActionMap,function(y,$){g._messageCenter.on($,function(L){this.trigger($,L)},g)}),each$f(["selectchanged"],function(y){g._messageCenter.on(y,function($){this.trigger(y,$)},g)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var g=this.getDom();g&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var y=this,$=y._api,L=y._model;each$f(y._componentsViews,function(re){re.dispose(L,$)}),each$f(y._chartsViews,function(re){re.dispose(L,$)}),y._zr.dispose(),y._dom=y._model=y._chartsMap=y._componentsMap=y._chartsViews=y._componentsViews=y._scheduler=y._api=y._zr=y._throttledZrFlush=y._theme=y._coordSysMgr=y._messageCenter=null,delete instances[y.id]},n.prototype.resize=function(g){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(g);var y=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!y){var $=y.resetOption("media"),L=g&&g.silent;this[PENDING_UPDATE]&&(L==null&&(L=this[PENDING_UPDATE].silent),$=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{$&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},g&&g.animation)})}catch(re){throw this[IN_MAIN_PROCESS_KEY]=!1,re}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,L),triggerUpdatedEvent.call(this,L)}}},n.prototype.showLoading=function(g,y){if(this._disposed){this.id;return}if(isObject$3(g)&&(y=g,g=""),g=g||"default",this.hideLoading(),!!loadingEffects[g]){var $=loadingEffects[g](this._api,y),L=this._zr;this._loadingFX=$,L.add($)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(g){var y=extend({},g);return y.type=eventActionMap[g.type],y},n.prototype.dispatchAction=function(g,y){if(this._disposed){this.id;return}if(isObject$3(y)||(y={silent:!!y}),!!actions[g.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(g);return}var $=y.silent;doDispatchAction.call(this,g,$);var L=y.flush;L?this._zr.flush():L!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,$),triggerUpdatedEvent.call(this,$)}},n.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(g){if(this._disposed){this.id;return}var y=g.seriesIndex,$=this.getModel(),L=$.getSeriesByIndex(y);L.appendData(g),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(_e){var Ce=_e._scheduler;Ce.restorePipelines(_e._model),Ce.prepareStageTasks(),prepareView(_e,!0),prepareView(_e,!1),Ce.plan()},prepareView=function(_e,Ce){for(var $e=_e._model,Oe=_e._scheduler,xe=Ce?_e._componentsViews:_e._chartsViews,Ne=Ce?_e._componentsMap:_e._chartsMap,Ie=_e._zr,Fe=_e._api,Ve=0;Ve<xe.length;Ve++)xe[Ve].__alive=!1;Ce?$e.eachComponent(function(qe,kt){qe!=="series"&&ze(kt)}):$e.eachSeries(ze);function ze(qe){var kt=qe.__requireNewView;qe.__requireNewView=!1;var Et="_ec_"+qe.id+"_"+qe.type,Pt=!kt&&Ne[Et];if(!Pt){var At=parseClassType(qe.type),Dt=Ce?ComponentView.getClass(At.main,At.sub):ChartView.getClass(At.sub);Pt=new Dt,Pt.init($e,Fe),Ne[Et]=Pt,xe.push(Pt),Ie.add(Pt.group)}qe.__viewId=Pt.__id=Et,Pt.__alive=!0,Pt.__model=qe,Pt.group.__ecComponentInfo={mainType:qe.mainType,index:qe.componentIndex},!Ce&&Oe.prepareView(Pt,qe,$e,Fe)}for(var Ve=0;Ve<xe.length;){var Ue=xe[Ve];Ue.__alive?Ve++:(!Ce&&Ue.renderTask.dispose(),Ie.remove(Ue.group),Ue.dispose($e,Fe),xe.splice(Ve,1),Ne[Ue.__id]===Ue&&delete Ne[Ue.__id],Ue.__id=Ue.group.__ecComponentInfo=null)}},updateDirectly=function(_e,Ce,$e,Oe,xe){var Ne=_e._model;if(Ne.setUpdatePayload($e),!Oe){each$f([].concat(_e._componentsViews).concat(_e._chartsViews),Ue);return}var Ie={};Ie[Oe+"Id"]=$e[Oe+"Id"],Ie[Oe+"Index"]=$e[Oe+"Index"],Ie[Oe+"Name"]=$e[Oe+"Name"];var Fe={mainType:Oe,query:Ie};xe&&(Fe.subType=xe);var Ve=$e.excludeSeriesId,ze;Ve!=null&&(ze=createHashMap(),each$f(normalizeToArray$1(Ve),function(qe){var kt=convertOptionIdName(qe,null);kt!=null&&ze.set(kt,!0)})),Ne&&Ne.eachComponent(Fe,function(qe){var kt=ze&&ze.get(qe.id)!=null;if(!kt)if(isHighDownPayload($e))if(qe instanceof SeriesModel)$e.type===HIGHLIGHT_ACTION_TYPE&&!$e.notBlur&&!qe.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(qe,$e,_e._api);else{var Et=findComponentHighDownDispatchers(qe.mainType,qe.componentIndex,$e.name,_e._api),Pt=Et.focusSelf,At=Et.dispatchers;$e.type===HIGHLIGHT_ACTION_TYPE&&Pt&&!$e.notBlur&&blurComponent(qe.mainType,qe.componentIndex,_e._api),At&&each$f(At,function(Dt){$e.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(Dt):leaveEmphasis(Dt)})}else isSelectChangePayload($e)&&qe instanceof SeriesModel&&(toggleSelectionFromPayload(qe,$e,_e._api),updateSeriesElementSelection(qe),markStatusToUpdate(_e))},_e),Ne&&Ne.eachComponent(Fe,function(qe){var kt=ze&&ze.get(qe.id)!=null;kt||Ue(_e[Oe==="series"?"_chartsMap":"_componentsMap"][qe.__viewId])},_e);function Ue(qe){qe&&qe.__alive&&qe[Ce]&&qe[Ce](qe.__model,Ne,_e._api,$e)}},updateMethods={prepareAndUpdate:function(_e){prepare(this),updateMethods.update.call(this,_e,{optionChanged:_e.newOption!=null})},update:function(_e,Ce){var $e=this._model,Oe=this._api,xe=this._zr,Ne=this._coordSysMgr,Ie=this._scheduler;if($e){$e.setUpdatePayload(_e),Ie.restoreData($e,_e),Ie.performSeriesTasks($e),Ne.create($e,Oe),Ie.performDataProcessorTasks($e,_e),updateStreamModes(this,$e),Ne.update($e,Oe),g($e),Ie.performVisualTasks($e,_e),render$1(this,$e,Oe,_e,Ce);var Fe=$e.get("backgroundColor")||"transparent",Ve=$e.get("darkMode");xe.setBackgroundColor(Fe),Ve!=null&&Ve!=="auto"&&xe.setDarkMode(Ve),lifecycle.trigger("afterupdate",$e,Oe)}},updateTransform:function(_e){var Ce=this,$e=this._model,Oe=this._api;if($e){$e.setUpdatePayload(_e);var xe=[];$e.eachComponent(function(Ie,Fe){if(Ie!=="series"){var Ve=Ce.getViewOfComponentModel(Fe);if(Ve&&Ve.__alive)if(Ve.updateTransform){var ze=Ve.updateTransform(Fe,$e,Oe,_e);ze&&ze.update&&xe.push(Ve)}else xe.push(Ve)}});var Ne=createHashMap();$e.eachSeries(function(Ie){var Fe=Ce._chartsMap[Ie.__viewId];if(Fe.updateTransform){var Ve=Fe.updateTransform(Ie,$e,Oe,_e);Ve&&Ve.update&&Ne.set(Ie.uid,1)}else Ne.set(Ie.uid,1)}),g($e),this._scheduler.performVisualTasks($e,_e,{setDirty:!0,dirtyMap:Ne}),renderSeries(this,$e,Oe,_e,{},Ne),lifecycle.trigger("afterupdate",$e,Oe)}},updateView:function(_e){var Ce=this._model;Ce&&(Ce.setUpdatePayload(_e),ChartView.markUpdateMethod(_e,"updateView"),g(Ce),this._scheduler.performVisualTasks(Ce,_e,{setDirty:!0}),render$1(this,Ce,this._api,_e,{}),lifecycle.trigger("afterupdate",Ce,this._api))},updateVisual:function(_e){var Ce=this,$e=this._model;$e&&($e.setUpdatePayload(_e),$e.eachSeries(function(Oe){Oe.getData().clearAllVisual()}),ChartView.markUpdateMethod(_e,"updateVisual"),g($e),this._scheduler.performVisualTasks($e,_e,{visualType:"visual",setDirty:!0}),$e.eachComponent(function(Oe,xe){if(Oe!=="series"){var Ne=Ce.getViewOfComponentModel(xe);Ne&&Ne.__alive&&Ne.updateVisual(xe,$e,Ce._api,_e)}}),$e.eachSeries(function(Oe){var xe=Ce._chartsMap[Oe.__viewId];xe.updateVisual(Oe,$e,Ce._api,_e)}),lifecycle.trigger("afterupdate",$e,this._api))},updateLayout:function(_e){updateMethods.update.call(this,_e)}},doConvertPixel=function(_e,Ce,$e,Oe){if(_e._disposed){_e.id;return}for(var xe=_e._model,Ne=_e._coordSysMgr.getCoordinateSystems(),Ie,Fe=parseFinder$1(xe,$e),Ve=0;Ve<Ne.length;Ve++){var ze=Ne[Ve];if(ze[Ce]&&(Ie=ze[Ce](xe,Fe,Oe))!=null)return Ie}},updateStreamModes=function(_e,Ce){var $e=_e._chartsMap,Oe=_e._scheduler;Ce.eachSeries(function(xe){Oe.updateStreamModes(xe,$e[xe.__viewId])})},doDispatchAction=function(_e,Ce){var $e=this,Oe=this.getModel(),xe=_e.type,Ne=_e.escapeConnect,Ie=actions[xe],Fe=Ie.actionInfo,Ve=(Fe.update||"update").split(":"),ze=Ve.pop(),Ue=Ve[0]!=null&&parseClassType(Ve[0]);this[IN_MAIN_PROCESS_KEY]=!0;var qe=[_e],kt=!1;_e.batch&&(kt=!0,qe=map$1(_e.batch,function(_n){return _n=defaults$2(extend({},_n),_e),_n.batch=null,_n}));var Et=[],Pt,At=isSelectChangePayload(_e),Dt=isHighDownPayload(_e);if(Dt&&allLeaveBlur(this._api),each$f(qe,function(_n){if(Pt=Ie.action(_n,$e._model,$e._api),Pt=Pt||extend({},_n),Pt.type=Fe.event||Pt.type,Et.push(Pt),Dt){var vn=preParseFinder(_e),jt=vn.queryOptionMap,$n=vn.mainTypeSpecified,Sn=$n?jt.keys()[0]:"series";updateDirectly($e,ze,_n,Sn),markStatusToUpdate($e)}else At?(updateDirectly($e,ze,_n,"series"),markStatusToUpdate($e)):Ue&&updateDirectly($e,ze,_n,Ue.main,Ue.sub)}),ze!=="none"&&!Dt&&!At&&!Ue)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,_e),this[PENDING_UPDATE]=null):updateMethods[ze].call(this,_e)}catch(_n){throw this[IN_MAIN_PROCESS_KEY]=!1,_n}if(kt?Pt={type:Fe.event||xe,escapeConnect:Ne,batch:Et}:Pt=Et[0],this[IN_MAIN_PROCESS_KEY]=!1,!Ce){var Lt=this._messageCenter;if(Lt.trigger(Pt.type,Pt),At){var hn={type:"selectchanged",escapeConnect:Ne,selected:getAllSelectedIndices(Oe),isFromClick:_e.isFromClick||!1,fromAction:_e.type,fromActionPayload:_e};Lt.trigger(hn.type,hn)}}},flushPendingActions=function(_e){for(var Ce=this._pendingActions;Ce.length;){var $e=Ce.shift();doDispatchAction.call(this,$e,_e)}},triggerUpdatedEvent=function(_e){!_e&&this.trigger("updated")},bindRenderedEvent=function(_e,Ce){_e.on("rendered",function($e){Ce.trigger("rendered",$e),_e.animation.isFinished()&&!Ce[PENDING_UPDATE]&&!Ce._scheduler.unfinished&&!Ce._pendingActions.length&&Ce.trigger("finished")})},bindMouseEvent=function(_e,Ce){_e.on("mouseover",function($e){var Oe=$e.target,xe=findEventDispatcher(Oe,isHighDownDispatcher);xe&&(handleGlobalMouseOverForHighDown(xe,$e,Ce._api),markStatusToUpdate(Ce))}).on("mouseout",function($e){var Oe=$e.target,xe=findEventDispatcher(Oe,isHighDownDispatcher);xe&&(handleGlobalMouseOutForHighDown(xe,$e,Ce._api),markStatusToUpdate(Ce))}).on("click",function($e){var Oe=$e.target,xe=findEventDispatcher(Oe,function(Fe){return getECData(Fe).dataIndex!=null},!0);if(xe){var Ne=xe.selected?"unselect":"select",Ie=getECData(xe);Ce._api.dispatchAction({type:Ne,dataType:Ie.dataType,dataIndexInside:Ie.dataIndex,seriesIndex:Ie.seriesIndex,isFromClick:!0})}})};function g(_e){_e.clearColorPalette(),_e.eachSeries(function(Ce){Ce.clearColorPalette()})}function y(_e){var Ce=[],$e=[],Oe=!1;if(_e.eachComponent(function(Fe,Ve){var ze=Ve.get("zlevel")||0,Ue=Ve.get("z")||0,qe=Ve.getZLevelKey();Oe=Oe||!!qe,(Fe==="series"?$e:Ce).push({zlevel:ze,z:Ue,idx:Ve.componentIndex,type:Fe,key:qe})}),Oe){var xe=Ce.concat($e),Ne,Ie;sort$2(xe,function(Fe,Ve){return Fe.zlevel===Ve.zlevel?Fe.z-Ve.z:Fe.zlevel-Ve.zlevel}),each$f(xe,function(Fe){var Ve=_e.getComponent(Fe.type,Fe.idx),ze=Fe.zlevel,Ue=Fe.key;Ne!=null&&(ze=Math.max(Ne,ze)),Ue?(ze===Ne&&Ue!==Ie&&ze++,Ie=Ue):Ie&&(ze===Ne&&ze++,Ie=""),Ne=ze,Ve.setZLevel(ze)})}}render$1=function(_e,Ce,$e,Oe,xe){y(Ce),renderComponents(_e,Ce,$e,Oe,xe),each$f(_e._chartsViews,function(Ne){Ne.__alive=!1}),renderSeries(_e,Ce,$e,Oe,xe),each$f(_e._chartsViews,function(Ne){Ne.__alive||Ne.remove(Ce,$e)})},renderComponents=function(_e,Ce,$e,Oe,xe,Ne){each$f(Ne||_e._componentsViews,function(Ie){var Fe=Ie.__model;ue(Fe,Ie),Ie.render(Fe,Ce,$e,Oe),ae(Fe,Ie),he(Fe,Ie)})},renderSeries=function(_e,Ce,$e,Oe,xe,Ne){var Ie=_e._scheduler;xe=extend(xe||{},{updatedSeries:Ce.getSeries()}),lifecycle.trigger("series:beforeupdate",Ce,$e,xe);var Fe=!1;Ce.eachSeries(function(Ve){var ze=_e._chartsMap[Ve.__viewId];ze.__alive=!0;var Ue=ze.renderTask;Ie.updatePayload(Ue,Oe),ue(Ve,ze),Ne&&Ne.get(Ve.uid)&&Ue.dirty(),Ue.perform(Ie.getPerformArgs(Ue))&&(Fe=!0),ze.group.silent=!!Ve.get("silent"),re(Ve,ze),updateSeriesElementSelection(Ve)}),Ie.unfinished=Fe||Ie.unfinished,lifecycle.trigger("series:layoutlabels",Ce,$e,xe),lifecycle.trigger("series:transition",Ce,$e,xe),Ce.eachSeries(function(Ve){var ze=_e._chartsMap[Ve.__viewId];ae(Ve,ze),he(Ve,ze)}),L(_e,Ce),lifecycle.trigger("series:afterupdate",Ce,$e,xe)},markStatusToUpdate=function(_e){_e[STATUS_NEEDS_UPDATE_KEY]=!0,_e.getZr().wakeUp()},applyChangedStates=function(_e){_e[STATUS_NEEDS_UPDATE_KEY]&&(_e.getZr().storage.traverse(function(Ce){isElementRemoved(Ce)||$(Ce)}),_e[STATUS_NEEDS_UPDATE_KEY]=!1)};function $(_e){for(var Ce=[],$e=_e.currentStates,Oe=0;Oe<$e.length;Oe++){var xe=$e[Oe];xe==="emphasis"||xe==="blur"||xe==="select"||Ce.push(xe)}_e.selected&&_e.states.select&&Ce.push("select"),_e.hoverState===HOVER_STATE_EMPHASIS&&_e.states.emphasis?Ce.push("emphasis"):_e.hoverState===HOVER_STATE_BLUR&&_e.states.blur&&Ce.push("blur"),_e.useStates(Ce)}function L(_e,Ce){var $e=_e._zr,Oe=$e.storage,xe=0;Oe.traverse(function(Ne){Ne.isGroup||xe++}),xe>Ce.get("hoverLayerThreshold")&&!env.node&&!env.worker&&Ce.eachSeries(function(Ne){if(!Ne.preventUsingHoverLayer){var Ie=_e._chartsMap[Ne.__viewId];Ie.__alive&&Ie.eachRendered(function(Fe){Fe.states.emphasis&&(Fe.states.emphasis.hoverLayer=!0)})}})}function re(_e,Ce){var $e=_e.get("blendMode")||null;Ce.eachRendered(function(Oe){Oe.isGroup||(Oe.style.blend=$e)})}function ae(_e,Ce){if(!_e.preventAutoZ){var $e=_e.get("z")||0,Oe=_e.get("zlevel")||0;Ce.eachRendered(function(xe){return le(xe,$e,Oe,-1/0),!0})}}function le(_e,Ce,$e,Oe){var xe=_e.getTextContent(),Ne=_e.getTextGuideLine(),Ie=_e.isGroup;if(Ie)for(var Fe=_e.childrenRef(),Ve=0;Ve<Fe.length;Ve++)Oe=Math.max(le(Fe[Ve],Ce,$e,Oe),Oe);else _e.z=Ce,_e.zlevel=$e,Oe=Math.max(_e.z2,Oe);if(xe&&(xe.z=Ce,xe.zlevel=$e,isFinite(Oe)&&(xe.z2=Oe+2)),Ne){var ze=_e.textGuideLineConfig;Ne.z=Ce,Ne.zlevel=$e,isFinite(Oe)&&(Ne.z2=Oe+(ze&&ze.showAbove?1:-1))}return Oe}function ue(_e,Ce){Ce.eachRendered(function($e){if(!isElementRemoved($e)){var Oe=$e.getTextContent(),xe=$e.getTextGuideLine();$e.stateTransition&&($e.stateTransition=null),Oe&&Oe.stateTransition&&(Oe.stateTransition=null),xe&&xe.stateTransition&&(xe.stateTransition=null),$e.hasState()?($e.prevStates=$e.currentStates,$e.clearStates()):$e.prevStates&&($e.prevStates=null)}})}function he(_e,Ce){var $e=_e.getModel("stateAnimation"),Oe=_e.isAnimationEnabled(),xe=$e.get("duration"),Ne=xe>0?{duration:xe,delay:$e.get("delay"),easing:$e.get("easing")}:null;Ce.eachRendered(function(Ie){if(Ie.states&&Ie.states.emphasis){if(isElementRemoved(Ie))return;if(Ie instanceof Path&&savePathStates(Ie),Ie.__dirty){var Fe=Ie.prevStates;Fe&&Ie.useStates(Fe)}if(Oe){Ie.stateTransition=Ne;var Ve=Ie.getTextContent(),ze=Ie.getTextGuideLine();Ve&&(Ve.stateTransition=Ne),ze&&(ze.stateTransition=Ne)}Ie.__dirty&&$(Ie)}})}createExtensionAPI=function(_e){return new(function(Ce){__extends$1($e,Ce);function $e(){return Ce!==null&&Ce.apply(this,arguments)||this}return $e.prototype.getCoordinateSystems=function(){return _e._coordSysMgr.getCoordinateSystems()},$e.prototype.getComponentByElement=function(Oe){for(;Oe;){var xe=Oe.__ecComponentInfo;if(xe!=null)return _e._model.getComponent(xe.mainType,xe.index);Oe=Oe.parent}},$e.prototype.enterEmphasis=function(Oe,xe){enterEmphasis(Oe,xe),markStatusToUpdate(_e)},$e.prototype.leaveEmphasis=function(Oe,xe){leaveEmphasis(Oe,xe),markStatusToUpdate(_e)},$e.prototype.enterBlur=function(Oe){enterBlur(Oe),markStatusToUpdate(_e)},$e.prototype.leaveBlur=function(Oe){leaveBlur(Oe),markStatusToUpdate(_e)},$e.prototype.enterSelect=function(Oe){enterSelect(Oe),markStatusToUpdate(_e)},$e.prototype.leaveSelect=function(Oe){leaveSelect(Oe),markStatusToUpdate(_e)},$e.prototype.getModel=function(){return _e.getModel()},$e.prototype.getViewOfComponentModel=function(Oe){return _e.getViewOfComponentModel(Oe)},$e.prototype.getViewOfSeriesModel=function(Oe){return _e.getViewOfSeriesModel(Oe)},$e}(ExtensionAPI))(_e)},enableConnect=function(_e){function Ce($e,Oe){for(var xe=0;xe<$e.length;xe++){var Ne=$e[xe];Ne[CONNECT_STATUS_KEY]=Oe}}each$f(eventActionMap,function($e,Oe){_e._messageCenter.on(Oe,function(xe){if(connectedGroups[_e.group]&&_e[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(xe&&xe.escapeConnect)return;var Ne=_e.makeActionFromEvent(xe),Ie=[];each$f(instances,function(Fe){Fe!==_e&&Fe.group===_e.group&&Ie.push(Fe)}),Ce(Ie,CONNECT_STATUS_PENDING),each$f(Ie,function(Fe){Fe[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&Fe.dispatchAction(Ne)}),Ce(Ie,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(r,n,g){var y=this;function $(){for(var L=[],re=0;re<arguments.length;re++)L[re]=arguments[re];n&&n.apply&&n.apply(this,L),y.off(r,$)}this.on.call(this,r,$,g)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(r){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(r,n,g){var y=!(g&&g.ssr);if(y){var $=getInstanceByDom(r);if($)return $}var L=new ECharts(r,n,g);return L.id="ec_"+idBase++,instances[L.id]=L,y&&setAttribute(r,DOM_ATTRIBUTE_KEY,L.id),enableConnect(L),lifecycle.trigger("afterinit",L),L}function connect(r){if(isArray$2(r)){var n=r;r=null,each$f(n,function(g){g.group!=null&&(r=g.group)}),r=r||"g_"+groupIdBase++,each$f(n,function(g){g.group=r})}return connectedGroups[r]=!0,r}function disconnect(r){connectedGroups[r]=!1}var disConnect=disconnect;function dispose(r){isString(r)?r=instances[r]:r instanceof ECharts||(r=getInstanceByDom(r)),r instanceof ECharts&&!r.isDisposed()&&r.dispose()}function getInstanceByDom(r){return instances[getAttribute(r,DOM_ATTRIBUTE_KEY)]}function getInstanceById(r){return instances[r]}function registerTheme(r,n){themeStorage[r]=n}function registerPreprocessor(r){indexOf(optionPreprocessorFuncs,r)<0&&optionPreprocessorFuncs.push(r)}function registerProcessor(r,n){normalizeRegister(dataProcessorFuncs,r,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(r){registerUpdateLifecycle("afterinit",r)}function registerPostUpdate(r){registerUpdateLifecycle("afterupdate",r)}function registerUpdateLifecycle(r,n){lifecycle.on(r,n)}function registerAction(r,n,g){isFunction(n)&&(g=n,n="");var y=isObject$3(r)?r.type:[r,r={event:n}][0];r.event=(r.event||y).toLowerCase(),n=r.event,!eventActionMap[n]&&(assert(ACTION_REG.test(y)&&ACTION_REG.test(n)),actions[y]||(actions[y]={action:g,actionInfo:r}),eventActionMap[n]=y)}function registerCoordinateSystem(r,n){CoordinateSystemManager.register(r,n)}function getCoordinateSystemDimensions(r){var n=CoordinateSystemManager.get(r);if(n)return n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice()}function registerLayout(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(r,n){normalizeRegister(visualFuncs,r,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(r,n,g,y,$){if((isFunction(n)||isObject$3(n))&&(g=n,n=y),!(indexOf(registeredTasks,g)>=0)){registeredTasks.push(g);var L=Scheduler.wrapStageHandler(g,$);L.__prio=n,L.__raw=g,r.push(L)}}function registerLoading(r,n){loadingEffects[r]=n}function setCanvasCreator(r){setPlatformAPI({createCanvas:r})}function registerMap$1(r,n,g){var y=getImpl("registerMap");y&&y(r,n,g)}function getMap(r){var n=getImpl("getMap");return n&&n(r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack$1);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",theme$1);var dataTool={},extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(r){ComponentModel.registerClass(r)},registerComponentView:function(r){ComponentView.registerClass(r)},registerSeriesModel:function(r){SeriesModel.registerClass(r)},registerChartView:function(r){ChartView.registerClass(r)},registerSubTypeDefaulter:function(r,n){ComponentModel.registerSubTypeDefaulter(r,n)},registerPainter:function(r,n){registerPainter(r,n)}};function use(r){if(isArray$2(r)){each$f(r,function(n){use(n)});return}indexOf(extensions,r)>=0||(extensions.push(r),isFunction(r)&&(r={install:r}),r.install(extensionRegisters))}function dataIndexMapValueLength(r){return r==null?0:r.length||1}function defaultKeyGetter(r){return r}var DataDiffer=function(){function r(n,g,y,$,L,re){this._old=n,this._new=g,this._oldKeyGetter=y||defaultKeyGetter,this._newKeyGetter=$||defaultKeyGetter,this.context=L,this._diffModeMultiple=re==="multiple"}return r.prototype.add=function(n){return this._add=n,this},r.prototype.update=function(n){return this._update=n,this},r.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},r.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},r.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},r.prototype.remove=function(n){return this._remove=n,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var n=this._old,g=this._new,y={},$=new Array(n.length),L=new Array(g.length);this._initIndexMap(n,null,$,"_oldKeyGetter"),this._initIndexMap(g,y,L,"_newKeyGetter");for(var re=0;re<n.length;re++){var ae=$[re],le=y[ae],ue=dataIndexMapValueLength(le);if(ue>1){var he=le.shift();le.length===1&&(y[ae]=le[0]),this._update&&this._update(he,re)}else ue===1?(y[ae]=null,this._update&&this._update(le,re)):this._remove&&this._remove(re)}this._performRestAdd(L,y)},r.prototype._executeMultiple=function(){var n=this._old,g=this._new,y={},$={},L=[],re=[];this._initIndexMap(n,y,L,"_oldKeyGetter"),this._initIndexMap(g,$,re,"_newKeyGetter");for(var ae=0;ae<L.length;ae++){var le=L[ae],ue=y[le],he=$[le],_e=dataIndexMapValueLength(ue),Ce=dataIndexMapValueLength(he);if(_e>1&&Ce===1)this._updateManyToOne&&this._updateManyToOne(he,ue),$[le]=null;else if(_e===1&&Ce>1)this._updateOneToMany&&this._updateOneToMany(he,ue),$[le]=null;else if(_e===1&&Ce===1)this._update&&this._update(he,ue),$[le]=null;else if(_e>1&&Ce>1)this._updateManyToMany&&this._updateManyToMany(he,ue),$[le]=null;else if(_e>1)for(var $e=0;$e<_e;$e++)this._remove&&this._remove(ue[$e]);else this._remove&&this._remove(ue)}this._performRestAdd(re,$)},r.prototype._performRestAdd=function(n,g){for(var y=0;y<n.length;y++){var $=n[y],L=g[$],re=dataIndexMapValueLength(L);if(re>1)for(var ae=0;ae<re;ae++)this._add&&this._add(L[ae]);else re===1&&this._add&&this._add(L);g[$]=null}},r.prototype._initIndexMap=function(n,g,y,$){for(var L=this._diffModeMultiple,re=0;re<n.length;re++){var ae="_ec_"+this[$](n[re],re);if(L||(y[re]=ae),!!g){var le=g[ae],ue=dataIndexMapValueLength(le);ue===0?(g[ae]=re,L&&y.push(ae)):ue===1?g[ae]=[le,re]:le.push(re)}}},r}(),DimensionUserOuput=function(){function r(n,g){this._encode=n,this._schema=g}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function summarizeDimensions(r,n){var g={},y=g.encode={},$=createHashMap(),L=[],re=[],ae={};each$f(r.dimensions,function(Ce){var $e=r.getDimensionInfo(Ce),Oe=$e.coordDim;if(Oe){var xe=$e.coordDimIndex;getOrCreateEncodeArr(y,Oe)[xe]=Ce,$e.isExtraCoord||($.set(Oe,1),mayLabelDimType($e.type)&&(L[0]=Ce),getOrCreateEncodeArr(ae,Oe)[xe]=r.getDimensionIndex($e.name)),$e.defaultTooltip&&re.push(Ce)}VISUAL_DIMENSIONS.each(function(Ne,Ie){var Fe=getOrCreateEncodeArr(y,Ie),Ve=$e.otherDims[Ie];Ve!=null&&Ve!==!1&&(Fe[Ve]=$e.name)})});var le=[],ue={};$.each(function(Ce,$e){var Oe=y[$e];ue[$e]=Oe[0],le=le.concat(Oe)}),g.dataDimsOnCoord=le,g.dataDimIndicesOnCoord=map$1(le,function(Ce){return r.getDimensionInfo(Ce).storeDimIndex}),g.encodeFirstDimNotExtra=ue;var he=y.label;he&&he.length&&(L=he.slice());var _e=y.tooltip;return _e&&_e.length?re=_e.slice():re.length||(re=L.slice()),y.defaultedLabel=L,y.defaultedTooltip=re,g.userOutput=new DimensionUserOuput(ae,n),g}function getOrCreateEncodeArr(r,n){return r.hasOwnProperty(n)||(r[n]=[]),r[n]}function getDimensionTypeByAxis(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function mayLabelDimType(r){return!(r==="ordinal"||r==="time")}var SeriesDimensionDefine=function(){function r(n){this.otherDims={},n!=null&&extend(this,n)}return r}(),inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function r(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},r.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},r.prototype.getSourceDimension=function(n){var g=this.source.dimensionsDefine;if(g)return g[n]},r.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,g=shouldRetrieveDataByName(this.source),y=!shouldOmitUnusedDimensions(n),$="",L=[],re=0,ae=0;re<n;re++){var le=void 0,ue=void 0,he=void 0,_e=this.dimensions[ae];if(_e&&_e.storeDimIndex===re)le=g?_e.name:null,ue=_e.type,he=_e.ordinalMeta,ae++;else{var Ce=this.getSourceDimension(re);Ce&&(le=g?Ce.name:null,ue=Ce.type)}L.push({property:le,type:ue,ordinalMeta:he}),g&&le!=null&&(!_e||!_e.isCalculationCoord)&&($+=y?le.replace(/\`/g,"`1").replace(/\$/g,"`2"):le),$+="$",$+=dimTypeShort[ue]||"f",he&&($+=he.uid),$+="$"}var $e=this.source,Oe=[$e.seriesLayoutBy,$e.startIndex,$].join("$$");return{dimensions:L,hash:Oe}},r.prototype.makeOutputDimensionNames=function(){for(var n=[],g=0,y=0;g<this._fullDimCount;g++){var $=void 0,L=this.dimensions[y];if(L&&L.storeDimIndex===g)L.isCalculationCoord||($=L.name),y++;else{var re=this.getSourceDimension(g);re&&($=re.name)}n.push($)}return n},r.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function isSeriesDataSchema(r){return r instanceof SeriesDataSchema}function createDimNameMap(r){for(var n=createHashMap(),g=0;g<(r||[]).length;g++){var y=r[g],$=isObject$3(y)?y.name:y;$!=null&&n.get($)==null&&n.set($,g)}return n}function ensureSourceDimNameMap(r){var n=inner$h(r);return n.dimNameMap||(n.dimNameMap=createDimNameMap(r.dimensionsDefine))}function shouldOmitUnusedDimensions(r){return r>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function r(n,g){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var y,$=!1;isSeriesDataSchema(n)?(y=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):($=!0,y=n),y=y||["x","y"];for(var L={},re=[],ae={},le=!1,ue={},he=0;he<y.length;he++){var _e=y[he],Ce=isString(_e)?new SeriesDimensionDefine({name:_e}):_e instanceof SeriesDimensionDefine?_e:new SeriesDimensionDefine(_e),$e=Ce.name;Ce.type=Ce.type||"float",Ce.coordDim||(Ce.coordDim=$e,Ce.coordDimIndex=0);var Oe=Ce.otherDims=Ce.otherDims||{};re.push($e),L[$e]=Ce,ue[$e]!=null&&(le=!0),Ce.createInvertedIndices&&(ae[$e]=[]),Oe.itemName===0&&(this._nameDimIdx=he),Oe.itemId===0&&(this._idDimIdx=he),$&&(Ce.storeDimIndex=he)}if(this.dimensions=re,this._dimInfos=L,this._initGetDimensionInfo(le),this.hostModel=g,this._invertedIndicesMap=ae,this._dimOmitted){var xe=this._dimIdxToName=createHashMap();each$f(re,function(Ne){xe.set(L[Ne].storeDimIndex,Ne)})}}return r.prototype.getDimension=function(n){var g=this._recognizeDimIndex(n);if(g==null)return n;if(g=n,!this._dimOmitted)return this.dimensions[g];var y=this._dimIdxToName.get(g);if(y!=null)return y;var $=this._schema.getSourceDimension(g);if($)return $.name},r.prototype.getDimensionIndex=function(n){var g=this._recognizeDimIndex(n);if(g!=null)return g;if(n==null)return-1;var y=this._getDimInfo(n);return y?y.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},r.prototype._recognizeDimIndex=function(n){if(isNumber$1(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},r.prototype._getStoreDimIndex=function(n){var g=this.getDimensionIndex(n);return g},r.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},r.prototype._initGetDimensionInfo=function(n){var g=this._dimInfos;this._getDimInfo=n?function(y){return g.hasOwnProperty(y)?g[y]:void 0}:function(y){return g[y]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(n,g){var y=this._dimSummary;if(g==null)return y.encodeFirstDimNotExtra[n];var $=y.encode[n];return $?$[g]:null},r.prototype.mapDimensionsAll=function(n){var g=this._dimSummary,y=g.encode[n];return(y||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(n,g,y){var $=this,L;if(n instanceof DataStore&&(L=n),!L){var re=this.dimensions,ae=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,re.length):n;L=new DataStore;var le=map(re,function(ue){return{type:$._dimInfos[ue].type,property:ue}});L.initData(ae,le,y)}this._store=L,this._nameList=(g||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,L.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(n){var g=this._store.appendData(n);this._doInit(g[0],g[1])},r.prototype.appendValues=function(n,g){var y=this._store.appendValues(n,g&&g.length),$=y.start,L=y.end,re=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),g)for(var ae=$;ae<L;ae++){var le=ae-$;this._nameList[ae]=g[le],re&&makeIdFromName(this,ae)}},r.prototype._updateOrdinalMeta=function(){for(var n=this._store,g=this.dimensions,y=0;y<g.length;y++){var $=this._dimInfos[g[y]];$.ordinalMeta&&n.collectOrdinalMeta($.storeDimIndex,$.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},r.prototype._doInit=function(n,g){if(!(n>=g)){var y=this._store,$=y.getProvider();this._updateOrdinalMeta();var L=this._nameList,re=this._idList,ae=$.getSource().sourceFormat,le=ae===SOURCE_FORMAT_ORIGINAL;if(le&&!$.pure)for(var ue=[],he=n;he<g;he++){var _e=$.getItem(he,ue);if(!this.hasItemOption&&isDataItemOption(_e)&&(this.hasItemOption=!0),_e){var Ce=_e.name;L[he]==null&&Ce!=null&&(L[he]=convertOptionIdName(Ce,null));var $e=_e.id;re[he]==null&&$e!=null&&(re[he]=convertOptionIdName($e,null))}}if(this._shouldMakeIdFromName())for(var he=n;he<g;he++)makeIdFromName(this,he);prepareInvertedIndex(this)}},r.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.setApproximateExtent=function(n,g){g=this.getDimension(g),this._approximateExtent[g]=n.slice()},r.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},r.prototype.setCalculationInfo=function(n,g){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=g},r.prototype.getName=function(n){var g=this.getRawIndex(n),y=this._nameList[g];return y==null&&this._nameDimIdx!=null&&(y=getIdNameFromStore(this,this._nameDimIdx,g)),y==null&&(y=""),y},r.prototype._getCategory=function(n,g){var y=this._store.get(n,g),$=this._store.getOrdinalMeta(n);return $?$.categories[y]:y},r.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(n,g){var y=this._store,$=this._dimInfos[n];if($)return y.get($.storeDimIndex,g)},r.prototype.getByRawIndex=function(n,g){var y=this._store,$=this._dimInfos[n];if($)return y.getByRawIndex($.storeDimIndex,g)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},r.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},r.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},r.prototype.getValues=function(n,g){var y=this,$=this._store;return isArray$2(n)?$.getValues(map(n,function(L){return y._getStoreDimIndex(L)}),g):$.getValues(n)},r.prototype.hasValue=function(n){for(var g=this._dimSummary.dataDimIndicesOnCoord,y=0,$=g.length;y<$;y++)if(isNaN(this._store.get(g[y],n)))return!1;return!0},r.prototype.indexOfName=function(n){for(var g=0,y=this._store.count();g<y;g++)if(this.getName(g)===n)return g;return-1},r.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},r.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},r.prototype.rawIndexOf=function(n,g){var y=n&&this._invertedIndicesMap[n],$=y&&y[g];return $==null||isNaN($)?INDEX_NOT_FOUND:$},r.prototype.indicesOfNearest=function(n,g,y){return this._store.indicesOfNearest(this._getStoreDimIndex(n),g,y)},r.prototype.each=function(n,g,y){isFunction(n)&&(y=g,g=n,n=[]);var $=y||this,L=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(L,$?bind$1(g,$):g)},r.prototype.filterSelf=function(n,g,y){isFunction(n)&&(y=g,g=n,n=[]);var $=y||this,L=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(L,$?bind$1(g,$):g),this},r.prototype.selectRange=function(n){var g=this,y={},$=keys$1(n);return each$f($,function(L){var re=g._getStoreDimIndex(L);y[re]=n[L]}),this._store=this._store.selectRange(y),this},r.prototype.mapArray=function(n,g,y){isFunction(n)&&(y=g,g=n,n=[]),y=y||this;var $=[];return this.each(n,function(){$.push(g&&g.apply(this,arguments))},y),$},r.prototype.map=function(n,g,y,$){var L=y||$||this,re=map(normalizeDimensions(n),this._getStoreDimIndex,this),ae=cloneListForMapAndSample(this);return ae._store=this._store.map(re,L?bind$1(g,L):g),ae},r.prototype.modify=function(n,g,y,$){var L=y||$||this,re=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(re,L?bind$1(g,L):g)},r.prototype.downSample=function(n,g,y,$){var L=cloneListForMapAndSample(this);return L._store=this._store.downSample(this._getStoreDimIndex(n),g,y,$),L},r.prototype.minmaxDownSample=function(n,g){var y=cloneListForMapAndSample(this);return y._store=this._store.minmaxDownSample(this._getStoreDimIndex(n),g),y},r.prototype.lttbDownSample=function(n,g){var y=cloneListForMapAndSample(this);return y._store=this._store.lttbDownSample(this._getStoreDimIndex(n),g),y},r.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},r.prototype.getItemModel=function(n){var g=this.hostModel,y=this.getRawDataItem(n);return new Model(y,g,g&&g.ecModel)},r.prototype.diff=function(n){var g=this;return new DataDiffer(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(y){return getId(n,y)},function(y){return getId(g,y)})},r.prototype.getVisual=function(n){var g=this._visual;return g&&g[n]},r.prototype.setVisual=function(n,g){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=g},r.prototype.getItemVisual=function(n,g){var y=this._itemVisuals[n],$=y&&y[g];return $??this.getVisual(g)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(n,g){var y=this._itemVisuals,$=y[n];$||($=y[n]={});var L=$[g];return L==null&&(L=this.getVisual(g),isArray$2(L)?L=L.slice():isObject$1(L)&&(L=extend({},L)),$[g]=L),L},r.prototype.setItemVisual=function(n,g,y){var $=this._itemVisuals[n]||{};this._itemVisuals[n]=$,isObject$1(g)?extend($,g):$[g]=y},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(n,g){isObject$1(n)?extend(this._layout,n):this._layout[n]=g},r.prototype.getLayout=function(n){return this._layout[n]},r.prototype.getItemLayout=function(n){return this._itemLayouts[n]},r.prototype.setItemLayout=function(n,g,y){this._itemLayouts[n]=y?extend(this._itemLayouts[n]||{},g):g},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(n,g){var y=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(y,this.dataType,n,g),this._graphicEls[n]=g},r.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},r.prototype.eachItemGraphicEl=function(n,g){each$f(this._graphicEls,function(y,$){y&&n&&n.call(g,y,$)})},r.prototype.cloneShallow=function(n){return n||(n=new r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},r.prototype.wrapMethod=function(n,g){var y=this[n];isFunction(y)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var $=y.apply(this,arguments);return g.apply(this,[$].concat(slice(arguments)))})},r.internalField=function(){prepareInvertedIndex=function(n){var g=n._invertedIndicesMap;each$f(g,function(y,$){var L=n._dimInfos[$],re=L.ordinalMeta,ae=n._store;if(re){y=g[$]=new CtorInt32Array(re.categories.length);for(var le=0;le<y.length;le++)y[le]=INDEX_NOT_FOUND;for(var le=0;le<ae.count();le++)y[ae.get(L.storeDimIndex,le)]=le}})},getIdNameFromStore=function(n,g,y){return convertOptionIdName(n._getCategory(g,y),null)},getId=function(n,g){var y=n._idList[g];return y==null&&n._idDimIdx!=null&&(y=getIdNameFromStore(n,n._idDimIdx,g)),y==null&&(y=ID_PREFIX+g),y},normalizeDimensions=function(n){return isArray$2(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var g=new r(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(g,n),g},transferProperties=function(n,g){each$f(TRANSFERABLE_PROPERTIES.concat(g.__wrappedMethods||[]),function(y){g.hasOwnProperty(y)&&(n[y]=g[y])}),n.__wrappedMethods=g.__wrappedMethods,each$f(CLONE_PROPERTIES,function(y){n[y]=clone$4(g[y])}),n._calculationInfo=extend({},g._calculationInfo)},makeIdFromName=function(n,g){var y=n._nameList,$=n._idList,L=n._nameDimIdx,re=n._idDimIdx,ae=y[g],le=$[g];if(ae==null&&L!=null&&(y[g]=ae=getIdNameFromStore(n,L,g)),le==null&&re!=null&&($[g]=le=getIdNameFromStore(n,re,g)),le==null&&ae!=null){var ue=n._nameRepeatCount,he=ue[ae]=(ue[ae]||0)+1;le=ae,he>1&&(le+="__ec__"+he),$[g]=le}}}(),r}();function createDimensions(r,n){return prepareSeriesDataSchema(r,n).dimensions}function prepareSeriesDataSchema(r,n){isSourceInstance(r)||(r=createSourceFromSeriesDataOption(r)),n=n||{};var g=n.coordDimensions||[],y=n.dimensionsDefine||r.dimensionsDefine||[],$=createHashMap(),L=[],re=getDimCount(r,g,y,n.dimensionsCount),ae=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(re),le=y===r.dimensionsDefine,ue=le?ensureSourceDimNameMap(r):createDimNameMap(y),he=n.encodeDefine;!he&&n.encodeDefaulter&&(he=n.encodeDefaulter(r,re));for(var _e=createHashMap(he),Ce=new CtorInt32Array$1(re),$e=0;$e<Ce.length;$e++)Ce[$e]=-1;function Oe(Pt){var At=Ce[Pt];if(At<0){var Dt=y[Pt],Lt=isObject$3(Dt)?Dt:{name:Dt},hn=new SeriesDimensionDefine,_n=Lt.name;_n!=null&&ue.get(_n)!=null&&(hn.name=hn.displayName=_n),Lt.type!=null&&(hn.type=Lt.type),Lt.displayName!=null&&(hn.displayName=Lt.displayName);var vn=L.length;return Ce[Pt]=vn,hn.storeDimIndex=Pt,L.push(hn),hn}return L[At]}if(!ae)for(var $e=0;$e<re;$e++)Oe($e);_e.each(function(Pt,At){var Dt=normalizeToArray$1(Pt).slice();if(Dt.length===1&&!isString(Dt[0])&&Dt[0]<0){_e.set(At,!1);return}var Lt=_e.set(At,[]);each$f(Dt,function(hn,_n){var vn=isString(hn)?ue.get(hn):hn;vn!=null&&vn<re&&(Lt[_n]=vn,Ne(Oe(vn),At,_n))})});var xe=0;each$f(g,function(Pt){var At,Dt,Lt,hn;if(isString(Pt))At=Pt,hn={};else{hn=Pt,At=hn.name;var _n=hn.ordinalMeta;hn.ordinalMeta=null,hn=extend({},hn),hn.ordinalMeta=_n,Dt=hn.dimsDef,Lt=hn.otherDims,hn.name=hn.coordDim=hn.coordDimIndex=hn.dimsDef=hn.otherDims=null}var vn=_e.get(At);if(vn!==!1){if(vn=normalizeToArray$1(vn),!vn.length)for(var jt=0;jt<(Dt&&Dt.length||1);jt++){for(;xe<re&&Oe(xe).coordDim!=null;)xe++;xe<re&&vn.push(xe++)}each$f(vn,function($n,Sn){var bn=Oe($n);if(le&&hn.type!=null&&(bn.type=hn.type),Ne(defaults$2(bn,hn),At,Sn),bn.name==null&&Dt){var wn=Dt[Sn];!isObject$3(wn)&&(wn={name:wn}),bn.name=bn.displayName=wn.name,bn.defaultTooltip=wn.defaultTooltip}Lt&&defaults$2(bn.otherDims,Lt)})}});function Ne(Pt,At,Dt){VISUAL_DIMENSIONS.get(At)!=null?Pt.otherDims[At]=Dt:(Pt.coordDim=At,Pt.coordDimIndex=Dt,$.set(At,!0))}var Ie=n.generateCoord,Fe=n.generateCoordCount,Ve=Fe!=null;Fe=Ie?Fe||1:0;var ze=Ie||"value";function Ue(Pt){Pt.name==null&&(Pt.name=Pt.coordDim)}if(ae)each$f(L,function(Pt){Ue(Pt)}),L.sort(function(Pt,At){return Pt.storeDimIndex-At.storeDimIndex});else for(var qe=0;qe<re;qe++){var kt=Oe(qe),Et=kt.coordDim;Et==null&&(kt.coordDim=genCoordDimName(ze,$,Ve),kt.coordDimIndex=0,(!Ie||Fe<=0)&&(kt.isExtraCoord=!0),Fe--),Ue(kt),kt.type==null&&(guessOrdinal(r,qe)===BE_ORDINAL.Must||kt.isExtraCoord&&(kt.otherDims.itemName!=null||kt.otherDims.seriesName!=null))&&(kt.type="ordinal")}return removeDuplication(L),new SeriesDataSchema({source:r,dimensions:L,fullDimensionCount:re,dimensionOmitted:ae})}function removeDuplication(r){for(var n=createHashMap(),g=0;g<r.length;g++){var y=r[g],$=y.name,L=n.get($)||0;L>0&&(y.name=$+(L-1)),L++,n.set($,L)}}function getDimCount(r,n,g,y){var $=Math.max(r.dimensionsDetectedCount||1,n.length,g.length,y||0);return each$f(n,function(L){var re;isObject$3(L)&&(re=L.dimsDef)&&($=Math.max($,re.length))}),$}function genCoordDimName(r,n,g){if(g||n.hasKey(r)){for(var y=0;n.hasKey(r+y);)y++;r+=y}return n.set(r,!0),r}var CoordSysInfo=function(){function r(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return r}();function getCoordSysInfoBySeries(r){var n=r.get("coordinateSystem"),g=new CoordSysInfo(n),y=fetchers[n];if(y)return y(r,g,g.axisMap,g.categoryAxisMap),g}var fetchers={cartesian2d:function(r,n,g,y){var $=r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],L=r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["x","y"],g.set("x",$),g.set("y",L),isCategory($)&&(y.set("x",$),n.firstCategoryDimIndex=0),isCategory(L)&&(y.set("y",L),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(r,n,g,y){var $=r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["single"],g.set("single",$),isCategory($)&&(y.set("single",$),n.firstCategoryDimIndex=0)},polar:function(r,n,g,y){var $=r.getReferringComponents("polar",SINGLE_REFERRING).models[0],L=$.findAxisModel("radiusAxis"),re=$.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],g.set("radius",L),g.set("angle",re),isCategory(L)&&(y.set("radius",L),n.firstCategoryDimIndex=0),isCategory(re)&&(y.set("angle",re),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(r,n,g,y){n.coordSysDims=["lng","lat"]},parallel:function(r,n,g,y){var $=r.ecModel,L=$.getComponent("parallel",r.get("parallelIndex")),re=n.coordSysDims=L.dimensions.slice();each$f(L.parallelAxisIndex,function(ae,le){var ue=$.getComponent("parallelAxis",ae),he=re[le];g.set(he,ue),isCategory(ue)&&(y.set(he,ue),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=le))})}};function isCategory(r){return r.get("type")==="category"}function enableDataStack(r,n,g){g=g||{};var y=g.byIndex,$=g.stackedCoordDimension,L,re,ae;isLegacyDimensionsInput(n)?L=n:(re=n.schema,L=re.dimensions,ae=n.store);var le=!!(r&&r.get("stack")),ue,he,_e,Ce;if(each$f(L,function(Fe,Ve){isString(Fe)&&(L[Ve]=Fe={name:Fe}),le&&!Fe.isExtraCoord&&(!y&&!ue&&Fe.ordinalMeta&&(ue=Fe),!he&&Fe.type!=="ordinal"&&Fe.type!=="time"&&(!$||$===Fe.coordDim)&&(he=Fe))}),he&&!y&&!ue&&(y=!0),he){_e="__\0ecstackresult_"+r.id,Ce="__\0ecstackedover_"+r.id,ue&&(ue.createInvertedIndices=!0);var $e=he.coordDim,Oe=he.type,xe=0;each$f(L,function(Fe){Fe.coordDim===$e&&xe++});var Ne={name:_e,coordDim:$e,coordDimIndex:xe,type:Oe,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:L.length},Ie={name:Ce,coordDim:Ce,coordDimIndex:xe+1,type:Oe,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:L.length+1};re?(ae&&(Ne.storeDimIndex=ae.ensureCalculationDimension(Ce,Oe),Ie.storeDimIndex=ae.ensureCalculationDimension(_e,Oe)),re.appendCalculationDimension(Ne),re.appendCalculationDimension(Ie)):(L.push(Ne),L.push(Ie))}return{stackedDimension:he&&he.name,stackedByDimension:ue&&ue.name,isStackedByIndex:y,stackedOverDimension:Ce,stackResultDimension:_e}}function isLegacyDimensionsInput(r){return!isSeriesDataSchema(r.schema)}function isDimensionStacked(r,n){return!!n&&n===r.getCalculationInfo("stackedDimension")}function getStackedDimension(r,n){return isDimensionStacked(r,n)?r.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(r,n){var g=r.get("coordinateSystem"),y=CoordinateSystemManager.get(g),$;return n&&n.coordSysDims&&($=map$1(n.coordSysDims,function(L){var re={name:L},ae=n.axisMap.get(L);if(ae){var le=ae.get("type");re.type=getDimensionTypeByAxis(le)}return re})),$||($=y&&(y.getDimensionsInfo?y.getDimensionsInfo():y.dimensions.slice())||["x","y"]),$}function injectOrdinalMeta(r,n,g){var y,$;return g&&each$f(r,function(L,re){var ae=L.coordDim,le=g.categoryAxisMap.get(ae);le&&(y==null&&(y=re),L.ordinalMeta=le.getOrdinalMeta(),n&&(L.createInvertedIndices=!0)),L.otherDims.itemName!=null&&($=!0)}),!$&&y!=null&&(r[y].otherDims.itemName=0),y}function createSeriesData(r,n,g){g=g||{};var y=n.getSourceManager(),$,L=!1;r?(L=!0,$=createSourceFromSeriesDataOption(r)):($=y.getSource(),L=$.sourceFormat===SOURCE_FORMAT_ORIGINAL);var re=getCoordSysInfoBySeries(n),ae=getCoordSysDimDefs(n,re),le=g.useEncodeDefaulter,ue=isFunction(le)?le:le?curry$1(makeSeriesEncodeForAxisCoordSys,ae,n):null,he={coordDimensions:ae,generateCoord:g.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:ue,canOmitUnusedDimensions:!L},_e=prepareSeriesDataSchema($,he),Ce=injectOrdinalMeta(_e.dimensions,g.createInvertedIndices,re),$e=L?null:y.getSharedDataStore(_e),Oe=enableDataStack(n,{schema:_e,store:$e}),xe=new SeriesData(_e,n);xe.setCalculationInfo(Oe);var Ne=Ce!=null&&isNeedCompleteOrdinalData($)?function(Ie,Fe,Ve,ze){return ze===Ce?Ve:this.defaultDimValueGetter(Ie,Fe,Ve,ze)}:null;return xe.hasItemOption=!1,xe.initData(L?$:$e,null,Ne),xe}function isNeedCompleteOrdinalData(r){if(r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(r.data||[]);return!isArray$2(getDataItemValue(n))}}function firstDataNotNull(r){for(var n=0;n<r.length&&r[n]==null;)n++;return r[n]}var Scale=function(){function r(n){this._setting=n||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(n){return this._setting[n]},r.prototype.unionExtent=function(n){var g=this._extent;n[0]<g[0]&&(g[0]=n[0]),n[1]>g[1]&&(g[1]=n[1])},r.prototype.unionExtentFromData=function(n,g){this.unionExtent(n.getApproximateExtent(g))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(n,g){var y=this._extent;isNaN(n)||(y[0]=n),isNaN(g)||(y[1]=g)},r.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(n){this._isBlank=n},r}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function r(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return r.createByAxisModel=function(n){var g=n.option,y=g.data,$=y&&map$1(y,getName);return new r({categories:$,needCollect:!$,deduplication:g.dedplication!==!1})},r.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},r.prototype.parseAndCollect=function(n){var g,y=this._needCollect;if(!isString(n)&&!y)return n;if(y&&!this._deduplication)return g=this.categories.length,this.categories[g]=n,g;var $=this._getOrCreateMap();return g=$.get(n),g==null&&(y?(g=this.categories.length,this.categories[g]=n,$.set(n,g)):g=NaN),g},r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},r}();function getName(r){return isObject$3(r)&&r.value!=null?r.value:r+""}function isIntervalOrLogScale(r){return r.type==="interval"||r.type==="log"}function intervalScaleNiceTicks(r,n,g,y){var $={},L=r[1]-r[0],re=$.interval=nice(L/n,!0);g!=null&&re<g&&(re=$.interval=g),y!=null&&re>y&&(re=$.interval=y);var ae=$.intervalPrecision=getIntervalPrecision(re),le=$.niceTickExtent=[round$4(Math.ceil(r[0]/re)*re,ae),round$4(Math.floor(r[1]/re)*re,ae)];return fixExtent(le,r),$}function increaseInterval(r){var n=Math.pow(10,quantityExponent(r)),g=r/n;return g?g===2?g=3:g===3?g=5:g*=2:g=1,round$4(g*n)}function getIntervalPrecision(r){return getPrecision(r)+2}function clamp(r,n,g){r[n]=Math.max(Math.min(r[n],g[1]),g[0])}function fixExtent(r,n){!isFinite(r[0])&&(r[0]=n[0]),!isFinite(r[1])&&(r[1]=n[1]),clamp(r,0,n),clamp(r,1,n),r[0]>r[1]&&(r[0]=r[1])}function contain$1(r,n){return r>=n[0]&&r<=n[1]}function normalize$2(r,n){return n[1]===n[0]?.5:(r-n[0])/(n[1]-n[0])}function scale(r,n){return r*(n[1]-n[0])+n[0]}var OrdinalScale=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;y.type="ordinal";var $=y.getSetting("ordinalMeta");return $||($=new OrdinalMeta({})),isArray$2($)&&($=new OrdinalMeta({categories:map$1($,function(L){return isObject$3(L)?L.value:L})})),y._ordinalMeta=$,y._extent=y.getSetting("extent")||[0,$.categories.length-1],y}return n.prototype.parse=function(g){return g==null?NaN:isString(g)?this._ordinalMeta.getOrdinal(g):Math.round(g)},n.prototype.contain=function(g){return g=this.parse(g),contain$1(g,this._extent)&&this._ordinalMeta.categories[g]!=null},n.prototype.normalize=function(g){return g=this._getTickNumber(this.parse(g)),normalize$2(g,this._extent)},n.prototype.scale=function(g){return g=Math.round(scale(g,this._extent)),this.getRawOrdinalNumber(g)},n.prototype.getTicks=function(){for(var g=[],y=this._extent,$=y[0];$<=y[1];)g.push({value:$}),$++;return g},n.prototype.getMinorTicks=function(g){},n.prototype.setSortInfo=function(g){if(g==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var y=g.ordinalNumbers,$=this._ordinalNumbersByTick=[],L=this._ticksByOrdinalNumber=[],re=0,ae=this._ordinalMeta.categories.length,le=Math.min(ae,y.length);re<le;++re){var ue=y[re];$[re]=ue,L[ue]=re}for(var he=0;re<ae;++re){for(;L[he]!=null;)he++;$.push(he),L[he]=re}},n.prototype._getTickNumber=function(g){var y=this._ticksByOrdinalNumber;return y&&g>=0&&g<y.length?y[g]:g},n.prototype.getRawOrdinalNumber=function(g){var y=this._ordinalNumbersByTick;return y&&g>=0&&g<y.length?y[g]:g},n.prototype.getLabel=function(g){if(!this.isBlank()){var y=this.getRawOrdinalNumber(g.value),$=this._ordinalMeta.categories[y];return $==null?"":$+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(g,y){this.unionExtent(g.getApproximateExtent(y))},n.prototype.isInExtentRange=function(g){return g=this._getTickNumber(g),this._extent[0]<=g&&this._extent[1]>=g},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$4,IntervalScale=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="interval",g._interval=0,g._intervalPrecision=2,g}return n.prototype.parse=function(g){return g},n.prototype.contain=function(g){return contain$1(g,this._extent)},n.prototype.normalize=function(g){return normalize$2(g,this._extent)},n.prototype.scale=function(g){return scale(g,this._extent)},n.prototype.setExtent=function(g,y){var $=this._extent;isNaN(g)||($[0]=parseFloat(g)),isNaN(y)||($[1]=parseFloat(y))},n.prototype.unionExtent=function(g){var y=this._extent;g[0]<y[0]&&(y[0]=g[0]),g[1]>y[1]&&(y[1]=g[1]),this.setExtent(y[0],y[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(g){this._interval=g,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(g)},n.prototype.getTicks=function(g){var y=this._interval,$=this._extent,L=this._niceExtent,re=this._intervalPrecision,ae=[];if(!y)return ae;var le=1e4;$[0]<L[0]&&(g?ae.push({value:roundNumber(L[0]-y,re)}):ae.push({value:$[0]}));for(var ue=L[0];ue<=L[1]&&(ae.push({value:ue}),ue=roundNumber(ue+y,re),ue!==ae[ae.length-1].value);)if(ae.length>le)return[];var he=ae.length?ae[ae.length-1].value:L[1];return $[1]>he&&(g?ae.push({value:roundNumber(he+y,re)}):ae.push({value:$[1]})),ae},n.prototype.getMinorTicks=function(g){for(var y=this.getTicks(!0),$=[],L=this.getExtent(),re=1;re<y.length;re++){for(var ae=y[re],le=y[re-1],ue=0,he=[],_e=ae.value-le.value,Ce=_e/g;ue<g-1;){var $e=roundNumber(le.value+(ue+1)*Ce);$e>L[0]&&$e<L[1]&&he.push($e),ue++}$.push(he)}return $},n.prototype.getLabel=function(g,y){if(g==null)return"";var $=y&&y.precision;$==null?$=getPrecision(g.value)||0:$==="auto"&&($=this._intervalPrecision);var L=roundNumber(g.value,$,!0);return addCommas(L)},n.prototype.calcNiceTicks=function(g,y,$){g=g||5;var L=this._extent,re=L[1]-L[0];if(isFinite(re)){re<0&&(re=-re,L.reverse());var ae=intervalScaleNiceTicks(L,g,y,$);this._intervalPrecision=ae.intervalPrecision,this._interval=ae.interval,this._niceExtent=ae.niceTickExtent}},n.prototype.calcNiceExtent=function(g){var y=this._extent;if(y[0]===y[1])if(y[0]!==0){var $=Math.abs(y[0]);g.fixMax||(y[1]+=$/2),y[0]-=$/2}else y[1]=1;var L=y[1]-y[0];isFinite(L)||(y[0]=0,y[1]=1),this.calcNiceTicks(g.splitNumber,g.minInterval,g.maxInterval);var re=this._interval;g.fixMin||(y[0]=roundNumber(Math.floor(y[0]/re)*re)),g.fixMax||(y[1]=roundNumber(Math.ceil(y[1]/re)*re))},n.prototype.setNiceExtent=function(g,y){this._niceExtent=[g,y]},n.type="interval",n}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(r){return isArray$2(r)?supportFloat32Array?new Float32Array(r):r:new Float32ArrayCtor(r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(r){return r.get("stack")||STACK_PREFIX+r.seriesIndex}function getAxisKey$1(r){return r.dim+r.index}function getLayoutOnAxis(r){var n=[],g=r.axis,y="axis0";if(g.type==="category"){for(var $=g.getBandWidth(),L=0;L<r.count;L++)n.push(defaults$2({bandWidth:$,axisKey:y,stackId:STACK_PREFIX+L},r));for(var re=doCalBarWidthAndOffset(n),ae=[],L=0;L<r.count;L++){var le=re[y][STACK_PREFIX+L];le.offsetCenter=le.offset+le.width/2,ae.push(le)}return ae}}function prepareLayoutBarSeries(r,n){var g=[];return n.eachSeriesByType(r,function(y){isOnCartesian(y)&&g.push(y)}),g}function getValueAxesMinGaps(r){var n={};each$f(r,function(le){var ue=le.coordinateSystem,he=ue.getBaseAxis();if(!(he.type!=="time"&&he.type!=="value"))for(var _e=le.getData(),Ce=he.dim+"_"+he.index,$e=_e.getDimensionIndex(_e.mapDimension(he.dim)),Oe=_e.getStore(),xe=0,Ne=Oe.count();xe<Ne;++xe){var Ie=Oe.get($e,xe);n[Ce]?n[Ce].push(Ie):n[Ce]=[Ie]}});var g={};for(var y in n)if(n.hasOwnProperty(y)){var $=n[y];if($){$.sort(function(le,ue){return le-ue});for(var L=null,re=1;re<$.length;++re){var ae=$[re]-$[re-1];ae>0&&(L=L===null?ae:Math.min(L,ae))}g[y]=L}}return g}function makeColumnLayout(r){var n=getValueAxesMinGaps(r),g=[];return each$f(r,function(y){var $=y.coordinateSystem,L=$.getBaseAxis(),re=L.getExtent(),ae;if(L.type==="category")ae=L.getBandWidth();else if(L.type==="value"||L.type==="time"){var le=L.dim+"_"+L.index,ue=n[le],he=Math.abs(re[1]-re[0]),_e=L.scale.getExtent(),Ce=Math.abs(_e[1]-_e[0]);ae=ue?he/Ce*ue:he}else{var $e=y.getData();ae=Math.abs(re[1]-re[0])/$e.count()}var Oe=parsePercent(y.get("barWidth"),ae),xe=parsePercent(y.get("barMaxWidth"),ae),Ne=parsePercent(y.get("barMinWidth")||(isInLargeMode(y)?.5:1),ae),Ie=y.get("barGap"),Fe=y.get("barCategoryGap");g.push({bandWidth:ae,barWidth:Oe,barMaxWidth:xe,barMinWidth:Ne,barGap:Ie,barCategoryGap:Fe,axisKey:getAxisKey$1(L),stackId:getSeriesStackId$1(y)})}),doCalBarWidthAndOffset(g)}function doCalBarWidthAndOffset(r){var n={};each$f(r,function(y,$){var L=y.axisKey,re=y.bandWidth,ae=n[L]||{bandWidth:re,remainedWidth:re,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},le=ae.stacks;n[L]=ae;var ue=y.stackId;le[ue]||ae.autoWidthCount++,le[ue]=le[ue]||{width:0,maxWidth:0};var he=y.barWidth;he&&!le[ue].width&&(le[ue].width=he,he=Math.min(ae.remainedWidth,he),ae.remainedWidth-=he);var _e=y.barMaxWidth;_e&&(le[ue].maxWidth=_e);var Ce=y.barMinWidth;Ce&&(le[ue].minWidth=Ce);var $e=y.barGap;$e!=null&&(ae.gap=$e);var Oe=y.barCategoryGap;Oe!=null&&(ae.categoryGap=Oe)});var g={};return each$f(n,function(y,$){g[$]={};var L=y.stacks,re=y.bandWidth,ae=y.categoryGap;if(ae==null){var le=keys$1(L).length;ae=Math.max(35-le*4,15)+"%"}var ue=parsePercent(ae,re),he=parsePercent(y.gap,1),_e=y.remainedWidth,Ce=y.autoWidthCount,$e=(_e-ue)/(Ce+(Ce-1)*he);$e=Math.max($e,0),each$f(L,function(Ie){var Fe=Ie.maxWidth,Ve=Ie.minWidth;if(Ie.width){var ze=Ie.width;Fe&&(ze=Math.min(ze,Fe)),Ve&&(ze=Math.max(ze,Ve)),Ie.width=ze,_e-=ze+he*ze,Ce--}else{var ze=$e;Fe&&Fe<ze&&(ze=Math.min(Fe,_e)),Ve&&Ve>ze&&(ze=Ve),ze!==$e&&(Ie.width=ze,_e-=ze+he*ze,Ce--)}}),$e=(_e-ue)/(Ce+(Ce-1)*he),$e=Math.max($e,0);var Oe=0,xe;each$f(L,function(Ie,Fe){Ie.width||(Ie.width=$e),xe=Ie,Oe+=Ie.width*(1+he)}),xe&&(Oe-=xe.width*he);var Ne=-Oe/2;each$f(L,function(Ie,Fe){g[$][Fe]=g[$][Fe]||{bandWidth:re,offset:Ne,width:Ie.width},Ne+=Ie.width*(1+he)})}),g}function retrieveColumnLayout(r,n,g){if(r&&n){var y=r[getAxisKey$1(n)];return y}}function layout$3(r,n){var g=prepareLayoutBarSeries(r,n),y=makeColumnLayout(g);each$f(g,function($){var L=$.getData(),re=$.coordinateSystem,ae=re.getBaseAxis(),le=getSeriesStackId$1($),ue=y[getAxisKey$1(ae)][le],he=ue.offset,_e=ue.width;L.setLayout({bandWidth:ue.bandWidth,offset:he,size:_e})})}function createProgressiveLayout(r){return{seriesType:r,plan:createRenderPlanner(),reset:function(n){if(isOnCartesian(n)){var g=n.getData(),y=n.coordinateSystem,$=y.getBaseAxis(),L=y.getOtherAxis($),re=g.getDimensionIndex(g.mapDimension(L.dim)),ae=g.getDimensionIndex(g.mapDimension($.dim)),le=n.get("showBackground",!0),ue=g.mapDimension(L.dim),he=g.getCalculationInfo("stackResultDimension"),_e=isDimensionStacked(g,ue)&&!!g.getCalculationInfo("stackedOnSeries"),Ce=L.isHorizontal(),$e=getValueAxisStart($,L),Oe=isInLargeMode(n),xe=n.get("barMinHeight")||0,Ne=he&&g.getDimensionIndex(he),Ie=g.getLayout("size"),Fe=g.getLayout("offset");return{progress:function(Ve,ze){for(var Ue=Ve.count,qe=Oe&&createFloat32Array(Ue*3),kt=Oe&&le&&createFloat32Array(Ue*3),Et=Oe&&createFloat32Array(Ue),Pt=y.master.getRect(),At=Ce?Pt.width:Pt.height,Dt,Lt=ze.getStore(),hn=0;(Dt=Ve.next())!=null;){var _n=Lt.get(_e?Ne:re,Dt),vn=Lt.get(ae,Dt),jt=$e,$n=void 0;_e&&($n=+_n-Lt.get(re,Dt));var Sn=void 0,bn=void 0,wn=void 0,On=void 0;if(Ce){var Tn=y.dataToPoint([_n,vn]);if(_e){var xn=y.dataToPoint([$n,vn]);jt=xn[0]}Sn=jt,bn=Tn[1]+Fe,wn=Tn[0]-jt,On=Ie,Math.abs(wn)<xe&&(wn=(wn<0?-1:1)*xe)}else{var Tn=y.dataToPoint([vn,_n]);if(_e){var xn=y.dataToPoint([vn,$n]);jt=xn[1]}Sn=Tn[0]+Fe,bn=jt,wn=Ie,On=Tn[1]-jt,Math.abs(On)<xe&&(On=(On<=0?-1:1)*xe)}Oe?(qe[hn]=Sn,qe[hn+1]=bn,qe[hn+2]=Ce?wn:On,kt&&(kt[hn]=Ce?Pt.x:Sn,kt[hn+1]=Ce?bn:Pt.y,kt[hn+2]=At),Et[Dt]=Dt):ze.setItemLayout(Dt,{x:Sn,y:bn,width:wn,height:On}),hn+=3}Oe&&ze.setLayout({largePoints:qe,largeDataIndices:Et,largeBackgroundPoints:kt,valueAxisHorizontal:Ce})}}}}}}function isOnCartesian(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(r){return r.pipelineContext&&r.pipelineContext.large}function getValueAxisStart(r,n){var g=n.model.get("startValue");return g||(g=0),n.toGlobalCoord(n.dataToCoord(n.type==="log"?g>0?g:1:g))}var bisect=function(r,n,g,y){for(;g<y;){var $=g+y>>>1;r[$][1]<n?g=$+1:y=$}return g},TimeScale=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="time",y}return n.prototype.getLabel=function(g){var y=this.getSetting("useUTC");return format$1(g.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,y,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(g,y,$){var L=this.getSetting("useUTC"),re=this.getSetting("locale");return leveledFormat(g,y,$,re,L)},n.prototype.getTicks=function(){var g=this._interval,y=this._extent,$=[];if(!g)return $;$.push({value:y[0],level:0});var L=this.getSetting("useUTC"),re=getIntervalTicks(this._minLevelUnit,this._approxInterval,L,y);return $=$.concat(re),$.push({value:y[1],level:0}),$},n.prototype.calcNiceExtent=function(g){var y=this._extent;if(y[0]===y[1]&&(y[0]-=ONE_DAY,y[1]+=ONE_DAY),y[1]===-1/0&&y[0]===1/0){var $=new Date;y[1]=+new Date($.getFullYear(),$.getMonth(),$.getDate()),y[0]=y[1]-ONE_DAY}this.calcNiceTicks(g.splitNumber,g.minInterval,g.maxInterval)},n.prototype.calcNiceTicks=function(g,y,$){g=g||10;var L=this._extent,re=L[1]-L[0];this._approxInterval=re/g,y!=null&&this._approxInterval<y&&(this._approxInterval=y),$!=null&&this._approxInterval>$&&(this._approxInterval=$);var ae=scaleIntervals.length,le=Math.min(bisect(scaleIntervals,this._approxInterval,0,ae),ae-1);this._interval=scaleIntervals[le][1],this._minLevelUnit=scaleIntervals[Math.max(le-1,0)][0]},n.prototype.parse=function(g){return isNumber$1(g)?g:+parseDate(g)},n.prototype.contain=function(g){return contain$1(this.parse(g),this._extent)},n.prototype.normalize=function(g){return normalize$2(this.parse(g),this._extent)},n.prototype.scale=function(g){return scale(g,this._extent)},n.type="time",n}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(r,n,g,y){var $=parseDate(n),L=parseDate(g),re=function(Oe){return getUnitValue($,Oe,y)===getUnitValue(L,Oe,y)},ae=function(){return re("year")},le=function(){return ae()&&re("month")},ue=function(){return le()&&re("day")},he=function(){return ue()&&re("hour")},_e=function(){return he()&&re("minute")},Ce=function(){return _e()&&re("second")},$e=function(){return Ce()&&re("millisecond")};switch(r){case"year":return ae();case"month":return le();case"day":return ue();case"hour":return he();case"minute":return _e();case"second":return Ce();case"millisecond":return $e()}}function getDateInterval(r,n){return r/=ONE_DAY,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function getMonthInterval(r){var n=30*ONE_DAY;return r/=n,r>6?6:r>3?3:r>2?2:1}function getHourInterval(r){return r/=ONE_HOUR,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function getMinutesAndSecondsInterval(r,n){return r/=n?ONE_MINUTE:ONE_SECOND,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function getMillisecondsInterval(r){return nice(r,!0)}function getFirstTimestampOfUnit(r,n,g){var y=new Date(r);switch(getPrimaryTimeUnit(n)){case"year":case"month":y[monthSetterName(g)](0);case"day":y[dateSetterName(g)](1);case"hour":y[hoursSetterName(g)](0);case"minute":y[minutesSetterName(g)](0);case"second":y[secondsSetterName(g)](0),y[millisecondsSetterName(g)](0)}return y.getTime()}function getIntervalTicks(r,n,g,y){var $=1e4,L=timeUnits,re=0;function ae(At,Dt,Lt,hn,_n,vn,jt){for(var $n=new Date(Dt),Sn=Dt,bn=$n[hn]();Sn<Lt&&Sn<=y[1];)jt.push({value:Sn}),bn+=At,$n[_n](bn),Sn=$n.getTime();jt.push({value:Sn,notAdd:!0})}function le(At,Dt,Lt){var hn=[],_n=!Dt.length;if(!isUnitValueSame(getPrimaryTimeUnit(At),y[0],y[1],g)){_n&&(Dt=[{value:getFirstTimestampOfUnit(new Date(y[0]),At,g)},{value:y[1]}]);for(var vn=0;vn<Dt.length-1;vn++){var jt=Dt[vn].value,$n=Dt[vn+1].value;if(jt!==$n){var Sn=void 0,bn=void 0,wn=void 0,On=!1;switch(At){case"year":Sn=Math.max(1,Math.round(n/ONE_DAY/365)),bn=fullYearGetterName(g),wn=fullYearSetterName(g);break;case"half-year":case"quarter":case"month":Sn=getMonthInterval(n),bn=monthGetterName(g),wn=monthSetterName(g);break;case"week":case"half-week":case"day":Sn=getDateInterval(n),bn=dateGetterName(g),wn=dateSetterName(g),On=!0;break;case"half-day":case"quarter-day":case"hour":Sn=getHourInterval(n),bn=hoursGetterName(g),wn=hoursSetterName(g);break;case"minute":Sn=getMinutesAndSecondsInterval(n,!0),bn=minutesGetterName(g),wn=minutesSetterName(g);break;case"second":Sn=getMinutesAndSecondsInterval(n,!1),bn=secondsGetterName(g),wn=secondsSetterName(g);break;case"millisecond":Sn=getMillisecondsInterval(n),bn=millisecondsGetterName(g),wn=millisecondsSetterName(g);break}ae(Sn,jt,$n,bn,wn,On,hn),At==="year"&&Lt.length>1&&vn===0&&Lt.unshift({value:Lt[0].value-Sn})}}for(var vn=0;vn<hn.length;vn++)Lt.push(hn[vn]);return hn}}for(var ue=[],he=[],_e=0,Ce=0,$e=0;$e<L.length&&re++<$;++$e){var Oe=getPrimaryTimeUnit(L[$e]);if(isPrimaryTimeUnit(L[$e])){le(L[$e],ue[ue.length-1]||[],he);var xe=L[$e+1]?getPrimaryTimeUnit(L[$e+1]):null;if(Oe!==xe){if(he.length){Ce=_e,he.sort(function(At,Dt){return At.value-Dt.value});for(var Ne=[],Ie=0;Ie<he.length;++Ie){var Fe=he[Ie].value;(Ie===0||he[Ie-1].value!==Fe)&&(Ne.push(he[Ie]),Fe>=y[0]&&Fe<=y[1]&&_e++)}var Ve=(y[1]-y[0])/n;if(_e>Ve*1.5&&Ce>Ve/1.5||(ue.push(Ne),_e>Ve||r===L[$e]))break}he=[]}}}for(var ze=filter(map$1(ue,function(At){return filter(At,function(Dt){return Dt.value>=y[0]&&Dt.value<=y[1]&&!Dt.notAdd})}),function(At){return At.length>0}),Ue=[],qe=ze.length-1,$e=0;$e<ze.length;++$e)for(var kt=ze[$e],Et=0;Et<kt.length;++Et)Ue.push({value:kt[Et].value,level:qe-$e});Ue.sort(function(At,Dt){return At.value-Dt.value});for(var Pt=[],$e=0;$e<Ue.length;++$e)($e===0||Ue[$e].value!==Ue[$e-1].value)&&Pt.push(Ue[$e]);return Pt}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$4,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="log",g.base=10,g._originalScale=new IntervalScale,g._interval=0,g}return n.prototype.getTicks=function(g){var y=this._originalScale,$=this._extent,L=y.getExtent(),re=intervalScaleProto.getTicks.call(this,g);return map$1(re,function(ae){var le=ae.value,ue=round$4(mathPow$1(this.base,le));return ue=le===$[0]&&this._fixMin?fixRoundingError(ue,L[0]):ue,ue=le===$[1]&&this._fixMax?fixRoundingError(ue,L[1]):ue,{value:ue}},this)},n.prototype.setExtent=function(g,y){var $=mathLog$1(this.base);g=mathLog$1(Math.max(0,g))/$,y=mathLog$1(Math.max(0,y))/$,intervalScaleProto.setExtent.call(this,g,y)},n.prototype.getExtent=function(){var g=this.base,y=scaleProto.getExtent.call(this);y[0]=mathPow$1(g,y[0]),y[1]=mathPow$1(g,y[1]);var $=this._originalScale,L=$.getExtent();return this._fixMin&&(y[0]=fixRoundingError(y[0],L[0])),this._fixMax&&(y[1]=fixRoundingError(y[1],L[1])),y},n.prototype.unionExtent=function(g){this._originalScale.unionExtent(g);var y=this.base;g[0]=mathLog$1(g[0])/mathLog$1(y),g[1]=mathLog$1(g[1])/mathLog$1(y),scaleProto.unionExtent.call(this,g)},n.prototype.unionExtentFromData=function(g,y){this.unionExtent(g.getApproximateExtent(y))},n.prototype.calcNiceTicks=function(g){g=g||10;var y=this._extent,$=y[1]-y[0];if(!($===1/0||$<=0)){var L=quantity($),re=g/$*L;for(re<=.5&&(L*=10);!isNaN(L)&&Math.abs(L)<1&&Math.abs(L)>0;)L*=10;var ae=[round$4(mathCeil$1(y[0]/L)*L),round$4(mathFloor$1(y[1]/L)*L)];this._interval=L,this._niceExtent=ae}},n.prototype.calcNiceExtent=function(g){intervalScaleProto.calcNiceExtent.call(this,g),this._fixMin=g.fixMin,this._fixMax=g.fixMax},n.prototype.parse=function(g){return g},n.prototype.contain=function(g){return g=mathLog$1(g)/mathLog$1(this.base),contain$1(g,this._extent)},n.prototype.normalize=function(g){return g=mathLog$1(g)/mathLog$1(this.base),normalize$2(g,this._extent)},n.prototype.scale=function(g){return g=scale(g,this._extent),mathPow$1(this.base,g)},n.type="log",n}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(r,n){return roundingErrorFix(r,getPrecision(n))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function r(n,g,y){this._prepareParams(n,g,y)}return r.prototype._prepareParams=function(n,g,y){y[1]<y[0]&&(y=[NaN,NaN]),this._dataMin=y[0],this._dataMax=y[1];var $=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&g.getNeedCrossZero&&g.getNeedCrossZero();var L=g.get("min",!0);L==null&&(L=g.get("startValue",!0));var re=this._modelMinRaw=L;isFunction(re)?this._modelMinNum=parseAxisModelMinMax(n,re({min:y[0],max:y[1]})):re!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,re));var ae=this._modelMaxRaw=g.get("max",!0);if(isFunction(ae)?this._modelMaxNum=parseAxisModelMinMax(n,ae({min:y[0],max:y[1]})):ae!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,ae)),$)this._axisDataLen=g.getCategories().length;else{var le=g.get("boundaryGap"),ue=isArray$2(le)?le:[le||0,le||0];typeof ue[0]=="boolean"||typeof ue[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(ue[0],1),parsePercent$1(ue[1],1)]}},r.prototype.calculate=function(){var n=this._isOrdinal,g=this._dataMin,y=this._dataMax,$=this._axisDataLen,L=this._boundaryGapInner,re=n?null:y-g||Math.abs(g),ae=this._modelMinRaw==="dataMin"?g:this._modelMinNum,le=this._modelMaxRaw==="dataMax"?y:this._modelMaxNum,ue=ae!=null,he=le!=null;ae==null&&(ae=n?$?0:NaN:g-L[0]*re),le==null&&(le=n?$?$-1:NaN:y+L[1]*re),(ae==null||!isFinite(ae))&&(ae=NaN),(le==null||!isFinite(le))&&(le=NaN);var _e=eqNaN(ae)||eqNaN(le)||n&&!$;this._needCrossZero&&(ae>0&&le>0&&!ue&&(ae=0),ae<0&&le<0&&!he&&(le=0));var Ce=this._determinedMin,$e=this._determinedMax;return Ce!=null&&(ae=Ce,ue=!0),$e!=null&&(le=$e,he=!0),{min:ae,max:le,minFixed:ue,maxFixed:he,isBlank:_e}},r.prototype.modifyDataMinMax=function(n,g){this[DATA_MIN_MAX_ATTR[n]]=g},r.prototype.setDeterminedMinMax=function(n,g){var y=DETERMINED_MIN_MAX_ATTR[n];this[y]=g},r.prototype.freeze=function(){this.frozen=!0},r}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(r,n,g){var y=r.rawExtentInfo;return y||(y=new ScaleRawExtentInfo(r,n,g),r.rawExtentInfo=y,y)}function parseAxisModelMinMax(r,n){return n==null?null:eqNaN(n)?NaN:r.parse(n)}function getScaleExtent(r,n){var g=r.type,y=ensureScaleRawExtentInfo(r,n,r.getExtent()).calculate();r.setBlank(y.isBlank);var $=y.min,L=y.max,re=n.ecModel;if(re&&g==="time"){var ae=prepareLayoutBarSeries("bar",re),le=!1;if(each$f(ae,function(_e){le=le||_e.getBaseAxis()===n.axis}),le){var ue=makeColumnLayout(ae),he=adjustScaleForOverflow($,L,n,ue);$=he.min,L=he.max}}return{extent:[$,L],fixMin:y.minFixed,fixMax:y.maxFixed}}function adjustScaleForOverflow(r,n,g,y){var $=g.axis.getExtent(),L=Math.abs($[1]-$[0]),re=retrieveColumnLayout(y,g.axis);if(re===void 0)return{min:r,max:n};var ae=1/0;each$f(re,function($e){ae=Math.min($e.offset,ae)});var le=-1/0;each$f(re,function($e){le=Math.max($e.offset+$e.width,le)}),ae=Math.abs(ae),le=Math.abs(le);var ue=ae+le,he=n-r,_e=1-(ae+le)/L,Ce=he/_e-he;return n+=Ce*(le/ue),r-=Ce*(ae/ue),{min:r,max:n}}function niceScaleExtent(r,n){var g=n,y=getScaleExtent(r,g),$=y.extent,L=g.get("splitNumber");r instanceof LogScale&&(r.base=g.get("logBase"));var re=r.type,ae=g.get("interval"),le=re==="interval"||re==="time";r.setExtent($[0],$[1]),r.calcNiceExtent({splitNumber:L,fixMin:y.fixMin,fixMax:y.fixMax,minInterval:le?g.get("minInterval"):null,maxInterval:le?g.get("maxInterval"):null}),ae!=null&&r.setInterval&&r.setInterval(ae)}function createScaleByModel$1(r,n){if(n=n||r.get("type"),n)switch(n){case"category":return new OrdinalScale({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Scale.getClass(n)||IntervalScale)}}function ifAxisCrossZero(r){var n=r.scale.getExtent(),g=n[0],y=n[1];return!(g>0&&y>0||g<0&&y<0)}function makeLabelFormatter(r){var n=r.getLabelModel().get("formatter"),g=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(y){return function($,L){return r.scale.getFormattedLabel($,L,y)}}(n):isString(n)?function(y){return function($){var L=r.scale.getLabel($),re=y.replace("{value}",L??"");return re}}(n):isFunction(n)?function(y){return function($,L){return g!=null&&(L=$.value-g),y(getAxisRawValue(r,$),L,$.level!=null?{level:$.level}:null)}}(n):function(y){return r.scale.getLabel(y)}}function getAxisRawValue(r,n){return r.type==="category"?r.scale.getLabel(n):n.value}function estimateLabelUnionRect(r){var n=r.model,g=r.scale;if(!(!n.get(["axisLabel","show"])||g.isBlank())){var y,$,L=g.getExtent();g instanceof OrdinalScale?$=g.count():(y=g.getTicks(),$=y.length);var re=r.getLabelModel(),ae=makeLabelFormatter(r),le,ue=1;$>40&&(ue=Math.ceil($/40));for(var he=0;he<$;he+=ue){var _e=y?y[he]:{value:L[0]+he},Ce=ae(_e,he),$e=re.getTextRect(Ce),Oe=rotateTextRect($e,re.get("rotate")||0);le?le.union(Oe):le=Oe}return le}}function rotateTextRect(r,n){var g=n*Math.PI/180,y=r.width,$=r.height,L=y*Math.abs(Math.cos(g))+Math.abs($*Math.sin(g)),re=y*Math.abs(Math.sin(g))+Math.abs($*Math.cos(g)),ae=new BoundingRect(r.x,r.y,L,re);return ae}function getOptionCategoryInterval(r){var n=r.get("interval");return n??"auto"}function shouldShowAllLabels(r){return r.type==="category"&&getOptionCategoryInterval(r.getLabelModel())===0}function getDataDimensionsOnAxis(r,n){var g={};return each$f(r.mapDimensionsAll(n),function(y){g[getStackedDimension(r,y)]=!0}),keys$1(g)}function unionAxisExtentFromData(r,n,g){n&&each$f(getDataDimensionsOnAxis(n,g),function(y){var $=n.getApproximateExtent(y);$[0]<r[0]&&(r[0]=$[0]),$[1]>r[1]&&(r[1]=$[1])})}var AxisModelCommonMixin=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},r.prototype.getCoordSysModel=function(){},r}();function createList$2(r){return createSeriesData(null,r)}var dataStack={isDimensionStacked,enableDataStack,getStackedDimension};function createScale(r,n){var g=n;n instanceof Model||(g=new Model(n));var y=createScaleByModel$1(g);return y.setExtent(r[0],r[1]),niceScaleExtent(y,g),y}function mixinAxisModelCommonMethods(r){mixin(r,AxisModelCommonMixin)}function createTextStyle(r,n){return n=n||{},createTextStyle$1(r,null,null,n.state!=="normal")}const helper=Object.freeze(Object.defineProperty({__proto__:null,createDimensions,createList:createList$2,createScale,createSymbol:createSymbol$1,createTextStyle,dataStack,enableHoverEmphasis,getECData,getLayoutRect:getLayoutRect$1,mixinAxisModelCommonMethods},Symbol.toStringTag,{value:"Module"}));var EPSILON=1e-8;function isAroundEqual(r,n){return Math.abs(r-n)<EPSILON}function contain(r,n,g){var y=0,$=r[0];if(!$)return!1;for(var L=1;L<r.length;L++){var re=r[L];y+=windingLine($[0],$[1],re[0],re[1],n,g),$=re}var ae=r[0];return(!isAroundEqual($[0],ae[0])||!isAroundEqual($[1],ae[1]))&&(y+=windingLine($[0],$[1],ae[0],ae[1],n,g)),y!==0}var TMP_TRANSFORM=[];function transformPoints(r,n){for(var g=0;g<r.length;g++)applyTransform$1(r[g],r[g],n)}function updateBBoxFromPoints(r,n,g,y){for(var $=0;$<r.length;$++){var L=r[$];y&&(L=y.project(L)),L&&isFinite(L[0])&&isFinite(L[1])&&(min$2(n,n,L),max$2(g,g,L))}}function centroid$1(r){for(var n=0,g=0,y=0,$=r.length,L=r[$-1][0],re=r[$-1][1],ae=0;ae<$;ae++){var le=r[ae][0],ue=r[ae][1],he=L*ue-le*re;n+=he,g+=(L+le)*he,y+=(re+ue)*he,L=le,re=ue}return n?[g/n/3,y/n/3,n]:[r[0][0]||0,r[0][1]||0]}var Region=function(){function r(n){this.name=n}return r.prototype.setCenter=function(n){this._center=n},r.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},r}(),GeoJSONPolygonGeometry=function(){function r(n,g){this.type="polygon",this.exterior=n,this.interiors=g}return r}(),GeoJSONLineStringGeometry=function(){function r(n){this.type="linestring",this.points=n}return r}(),GeoJSONRegion=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this,g)||this;return L.type="geoJSON",L.geometries=y,L._center=$&&[$[0],$[1]],L}return n.prototype.calcCenter=function(){for(var g=this.geometries,y,$=0,L=0;L<g.length;L++){var re=g[L],ae=re.exterior,le=ae&&ae.length;le>$&&(y=re,$=le)}if(y)return centroid$1(y.exterior);var ue=this.getBoundingRect();return[ue.x+ue.width/2,ue.y+ue.height/2]},n.prototype.getBoundingRect=function(g){var y=this._rect;if(y&&!g)return y;var $=[1/0,1/0],L=[-1/0,-1/0],re=this.geometries;return each$f(re,function(ae){ae.type==="polygon"?updateBBoxFromPoints(ae.exterior,$,L,g):each$f(ae.points,function(le){updateBBoxFromPoints(le,$,L,g)})}),isFinite($[0])&&isFinite($[1])&&isFinite(L[0])&&isFinite(L[1])||($[0]=$[1]=L[0]=L[1]=0),y=new BoundingRect($[0],$[1],L[0]-$[0],L[1]-$[1]),g||(this._rect=y),y},n.prototype.contain=function(g){var y=this.getBoundingRect(),$=this.geometries;if(!y.contain(g[0],g[1]))return!1;e:for(var L=0,re=$.length;L<re;L++){var ae=$[L];if(ae.type==="polygon"){var le=ae.exterior,ue=ae.interiors;if(contain(le,g[0],g[1])){for(var he=0;he<(ue?ue.length:0);he++)if(contain(ue[he],g[0],g[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(g,y,$,L){var re=this.getBoundingRect(),ae=re.width/re.height;$?L||(L=$/ae):$=ae*L;for(var le=new BoundingRect(g,y,$,L),ue=re.calculateTransform(le),he=this.geometries,_e=0;_e<he.length;_e++){var Ce=he[_e];Ce.type==="polygon"?(transformPoints(Ce.exterior,ue),each$f(Ce.interiors,function($e){transformPoints($e,ue)})):each$f(Ce.points,function($e){transformPoints($e,ue)})}re=this._rect,re.copy(le),this._center=[re.x+re.width/2,re.y+re.height/2]},n.prototype.cloneShallow=function(g){g==null&&(g=this.name);var y=new n(g,this.geometries,this._center);return y._rect=this._rect,y.transformTo=null,y},n}(Region),GeoSVGRegion=function(r){__extends$1(n,r);function n(g,y){var $=r.call(this,g)||this;return $.type="geoSVG",$._elOnlyForCalculate=y,$}return n.prototype.calcCenter=function(){for(var g=this._elOnlyForCalculate,y=g.getBoundingRect(),$=[y.x+y.width/2,y.y+y.height/2],L=identity(TMP_TRANSFORM),re=g;re&&!re.isGeoSVGGraphicRoot;)mul(L,re.getLocalTransform(),L),re=re.parent;return invert(L,L),applyTransform$1($,$,L),$},n}(Region);function decode(r){if(!r.UTF8Encoding)return r;var n=r,g=n.UTF8Scale;g==null&&(g=1024);var y=n.features;return each$f(y,function($){var L=$.geometry,re=L.encodeOffsets,ae=L.coordinates;if(re)switch(L.type){case"LineString":L.coordinates=decodeRing(ae,re,g);break;case"Polygon":decodeRings(ae,re,g);break;case"MultiLineString":decodeRings(ae,re,g);break;case"MultiPolygon":each$f(ae,function(le,ue){return decodeRings(le,re[ue],g)})}}),n.UTF8Encoding=!1,n}function decodeRings(r,n,g){for(var y=0;y<r.length;y++)r[y]=decodeRing(r[y],n[y],g)}function decodeRing(r,n,g){for(var y=[],$=n[0],L=n[1],re=0;re<r.length;re+=2){var ae=r.charCodeAt(re)-64,le=r.charCodeAt(re+1)-64;ae=ae>>1^-(ae&1),le=le>>1^-(le&1),ae+=$,le+=L,$=ae,L=le,y.push([ae/g,le/g])}return y}function parseGeoJSON(r,n){return r=decode(r),map$1(filter(r.features,function(g){return g.geometry&&g.properties&&g.geometry.coordinates.length>0}),function(g){var y=g.properties,$=g.geometry,L=[];switch($.type){case"Polygon":var re=$.coordinates;L.push(new GeoJSONPolygonGeometry(re[0],re.slice(1)));break;case"MultiPolygon":each$f($.coordinates,function(le){le[0]&&L.push(new GeoJSONPolygonGeometry(le[0],le.slice(1)))});break;case"LineString":L.push(new GeoJSONLineStringGeometry([$.coordinates]));break;case"MultiLineString":L.push(new GeoJSONLineStringGeometry($.coordinates))}var ae=new GeoJSONRegion(y[n||"name"],L,y.cp);return ae.properties=y,ae})}const number$3=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER,asc:asc$2,getPercentWithPrecision,getPixelPrecision,getPrecision,getPrecisionSafe,isNumeric,isRadianAroundZero,linearMap:linearMap$2,nice,numericToNumber,parseDate,quantile,quantity,quantityExponent,reformIntervals,remRadian,round:round$4},Symbol.toStringTag,{value:"Module"})),time=Object.freeze(Object.defineProperty({__proto__:null,format:format$1,parse:parseDate},Symbol.toStringTag,{value:"Module"})),graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$2,LinearGradient,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,initProps,makeImage,makePath,mergePath,registerShape,resizePath,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"})),format=Object.freeze(Object.defineProperty({__proto__:null,addCommas,capitalFirst,encodeHTML,formatTime,formatTpl,getTextRect,getTooltipMarker,normalizeCssArray,toCamelCase,truncateText},Symbol.toStringTag,{value:"Module"})),util=Object.freeze(Object.defineProperty({__proto__:null,bind:bind$1,clone:clone$4,curry:curry$1,defaults:defaults$2,each:each$f,extend,filter,indexOf,inherits,isArray:isArray$2,isFunction,isObject:isObject$3,isString,map:map$1,merge:merge$1,reduce},Symbol.toStringTag,{value:"Module"}));var inner$g=makeInner();function tickValuesToNumbers(r,n){var g=map$1(n,function(y){return r.scale.parse(y)});return r.type==="time"&&g.length>0&&(g.sort(),g.unshift(g[0]),g.push(g[g.length-1])),g}function createAxisLabels(r){var n=r.getLabelModel().get("customValues");if(n){var g=makeLabelFormatter(r),y=r.scale.getExtent(),$=tickValuesToNumbers(r,n),L=filter($,function(re){return re>=y[0]&&re<=y[1]});return{labels:map$1(L,function(re){var ae={value:re};return{formattedLabel:g(ae),rawLabel:r.scale.getLabel(ae),tickValue:re}})}}return r.type==="category"?makeCategoryLabels(r):makeRealNumberLabels(r)}function createAxisTicks(r,n){var g=r.getTickModel().get("customValues");if(g){var y=r.scale.getExtent(),$=tickValuesToNumbers(r,g);return{ticks:filter($,function(L){return L>=y[0]&&L<=y[1]})}}return r.type==="category"?makeCategoryTicks(r,n):{ticks:map$1(r.scale.getTicks(),function(L){return L.value})}}function makeCategoryLabels(r){var n=r.getLabelModel(),g=makeCategoryLabelsActually(r,n);return!n.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:g.labelCategoryInterval}:g}function makeCategoryLabelsActually(r,n){var g=getListCache(r,"labels"),y=getOptionCategoryInterval(n),$=listCacheGet(g,y);if($)return $;var L,re;return isFunction(y)?L=makeLabelsByCustomizedCategoryInterval(r,y):(re=y==="auto"?makeAutoCategoryInterval(r):y,L=makeLabelsByNumericCategoryInterval(r,re)),listCacheSet(g,y,{labels:L,labelCategoryInterval:re})}function makeCategoryTicks(r,n){var g=getListCache(r,"ticks"),y=getOptionCategoryInterval(n),$=listCacheGet(g,y);if($)return $;var L,re;if((!n.get("show")||r.scale.isBlank())&&(L=[]),isFunction(y))L=makeLabelsByCustomizedCategoryInterval(r,y,!0);else if(y==="auto"){var ae=makeCategoryLabelsActually(r,r.getLabelModel());re=ae.labelCategoryInterval,L=map$1(ae.labels,function(le){return le.tickValue})}else re=y,L=makeLabelsByNumericCategoryInterval(r,re,!0);return listCacheSet(g,y,{ticks:L,tickCategoryInterval:re})}function makeRealNumberLabels(r){var n=r.scale.getTicks(),g=makeLabelFormatter(r);return{labels:map$1(n,function(y,$){return{level:y.level,formattedLabel:g(y,$),rawLabel:r.scale.getLabel(y),tickValue:y.value}})}}function getListCache(r,n){return inner$g(r)[n]||(inner$g(r)[n]=[])}function listCacheGet(r,n){for(var g=0;g<r.length;g++)if(r[g].key===n)return r[g].value}function listCacheSet(r,n,g){return r.push({key:n,value:g}),g}function makeAutoCategoryInterval(r){var n=inner$g(r).autoInterval;return n??(inner$g(r).autoInterval=r.calculateCategoryInterval())}function calculateCategoryInterval(r){var n=fetchAutoCategoryIntervalCalculationParams(r),g=makeLabelFormatter(r),y=(n.axisRotate-n.labelRotate)/180*Math.PI,$=r.scale,L=$.getExtent(),re=$.count();if(L[1]-L[0]<1)return 0;var ae=1;re>40&&(ae=Math.max(1,Math.floor(re/40)));for(var le=L[0],ue=r.dataToCoord(le+1)-r.dataToCoord(le),he=Math.abs(ue*Math.cos(y)),_e=Math.abs(ue*Math.sin(y)),Ce=0,$e=0;le<=L[1];le+=ae){var Oe=0,xe=0,Ne=getBoundingRect(g({value:le}),n.font,"center","top");Oe=Ne.width*1.3,xe=Ne.height*1.3,Ce=Math.max(Ce,Oe,7),$e=Math.max($e,xe,7)}var Ie=Ce/he,Fe=$e/_e;isNaN(Ie)&&(Ie=1/0),isNaN(Fe)&&(Fe=1/0);var Ve=Math.max(0,Math.floor(Math.min(Ie,Fe))),ze=inner$g(r.model),Ue=r.getExtent(),qe=ze.lastAutoInterval,kt=ze.lastTickCount;return qe!=null&&kt!=null&&Math.abs(qe-Ve)<=1&&Math.abs(kt-re)<=1&&qe>Ve&&ze.axisExtent0===Ue[0]&&ze.axisExtent1===Ue[1]?Ve=qe:(ze.lastTickCount=re,ze.lastAutoInterval=Ve,ze.axisExtent0=Ue[0],ze.axisExtent1=Ue[1]),Ve}function fetchAutoCategoryIntervalCalculationParams(r){var n=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(r,n,g){var y=makeLabelFormatter(r),$=r.scale,L=$.getExtent(),re=r.getLabelModel(),ae=[],le=Math.max((n||0)+1,1),ue=L[0],he=$.count();ue!==0&&le>1&&he/le>2&&(ue=Math.round(Math.ceil(ue/le)*le));var _e=shouldShowAllLabels(r),Ce=re.get("showMinLabel")||_e,$e=re.get("showMaxLabel")||_e;Ce&&ue!==L[0]&&xe(L[0]);for(var Oe=ue;Oe<=L[1];Oe+=le)xe(Oe);$e&&Oe-le!==L[1]&&xe(L[1]);function xe(Ne){var Ie={value:Ne};ae.push(g?Ne:{formattedLabel:y(Ie),rawLabel:$.getLabel(Ie),tickValue:Ne})}return ae}function makeLabelsByCustomizedCategoryInterval(r,n,g){var y=r.scale,$=makeLabelFormatter(r),L=[];return each$f(y.getTicks(),function(re){var ae=y.getLabel(re),le=re.value;n(re.value,ae)&&L.push(g?le:{formattedLabel:$(re),rawLabel:ae,tickValue:le})}),L}var NORMALIZED_EXTENT=[0,1],Axis=function(){function r(n,g,y){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=g,this._extent=y||[0,0]}return r.prototype.contain=function(n){var g=this._extent,y=Math.min(g[0],g[1]),$=Math.max(g[0],g[1]);return n>=y&&n<=$},r.prototype.containData=function(n){return this.scale.contain(n)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(n,g){var y=this._extent;y[0]=n,y[1]=g},r.prototype.dataToCoord=function(n,g){var y=this._extent,$=this.scale;return n=$.normalize(n),this.onBand&&$.type==="ordinal"&&(y=y.slice(),fixExtentWithBands(y,$.count())),linearMap$2(n,NORMALIZED_EXTENT,y,g)},r.prototype.coordToData=function(n,g){var y=this._extent,$=this.scale;this.onBand&&$.type==="ordinal"&&(y=y.slice(),fixExtentWithBands(y,$.count()));var L=linearMap$2(n,y,NORMALIZED_EXTENT,g);return this.scale.scale(L)},r.prototype.pointToData=function(n,g){},r.prototype.getTicksCoords=function(n){n=n||{};var g=n.tickModel||this.getTickModel(),y=createAxisTicks(this,g),$=y.ticks,L=map$1($,function(ae){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(ae):ae),tickValue:ae}},this),re=g.get("alignWithLabel");return fixOnBandTicksCoords(this,L,re,n.clamp),L},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),g=n.get("splitNumber");g>0&&g<100||(g=5);var y=this.scale.getMinorTicks(g),$=map$1(y,function(L){return map$1(L,function(re){return{coord:this.dataToCoord(re),tickValue:re}},this)},this);return $},r.prototype.getViewLabels=function(){return createAxisLabels(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var n=this._extent,g=this.scale.getExtent(),y=g[1]-g[0]+(this.onBand?1:0);y===0&&(y=1);var $=Math.abs(n[1]-n[0]);return Math.abs($)/y},r.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},r}();function fixExtentWithBands(r,n){var g=r[1]-r[0],y=n,$=g/y/2;r[0]+=$,r[1]-=$}function fixOnBandTicksCoords(r,n,g,y){var $=n.length;if(!r.onBand||g||!$)return;var L=r.getExtent(),re,ae;if($===1)n[0].coord=L[0],re=n[1]={coord:L[1],tickValue:n[0].tickValue};else{var le=n[$-1].tickValue-n[0].tickValue,ue=(n[$-1].coord-n[0].coord)/le;each$f(n,function($e){$e.coord-=ue/2});var he=r.scale.getExtent();ae=1+he[1]-n[$-1].tickValue,re={coord:n[$-1].coord+ue*ae,tickValue:he[1]+1},n.push(re)}var _e=L[0]>L[1];Ce(n[0].coord,L[0])&&(y?n[0].coord=L[0]:n.shift()),y&&Ce(L[0],n[0].coord)&&n.unshift({coord:L[0]}),Ce(L[1],re.coord)&&(y?re.coord=L[1]:n.pop()),y&&Ce(re.coord,L[1])&&n.push({coord:L[1]});function Ce($e,Oe){return $e=round$4($e),Oe=round$4(Oe),_e?$e>Oe:$e<Oe}}function extendComponentModel(r){var n=ComponentModel.extend(r);return ComponentModel.registerClass(n),n}function extendComponentView(r){var n=ComponentView.extend(r);return ComponentView.registerClass(n),n}function extendSeriesModel(r){var n=SeriesModel.extend(r);return SeriesModel.registerClass(n),n}function extendChartView(r){var n=ChartView.extend(r);return ChartView.registerClass(n),n}var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(r,n,g,y,$){var L=g.width,re=g.height;switch(r){case"top":y.set(g.x+L/2,g.y-n),$.set(0,-1);break;case"bottom":y.set(g.x+L/2,g.y+re+n),$.set(0,1);break;case"left":y.set(g.x-n,g.y+re/2),$.set(-1,0);break;case"right":y.set(g.x+L+n,g.y+re/2),$.set(1,0);break}}function projectPointToArc(r,n,g,y,$,L,re,ae,le){re-=r,ae-=n;var ue=Math.sqrt(re*re+ae*ae);re/=ue,ae/=ue;var he=re*g+r,_e=ae*g+n;if(Math.abs(y-$)%PI2$2<1e-4)return le[0]=he,le[1]=_e,ue-g;if(L){var Ce=y;y=normalizeRadian($),$=normalizeRadian(Ce)}else y=normalizeRadian(y),$=normalizeRadian($);y>$&&($+=PI2$2);var $e=Math.atan2(ae,re);if($e<0&&($e+=PI2$2),$e>=y&&$e<=$||$e+PI2$2>=y&&$e+PI2$2<=$)return le[0]=he,le[1]=_e,ue-g;var Oe=g*Math.cos(y)+r,xe=g*Math.sin(y)+n,Ne=g*Math.cos($)+r,Ie=g*Math.sin($)+n,Fe=(Oe-re)*(Oe-re)+(xe-ae)*(xe-ae),Ve=(Ne-re)*(Ne-re)+(Ie-ae)*(Ie-ae);return Fe<Ve?(le[0]=Oe,le[1]=xe,Math.sqrt(Fe)):(le[0]=Ne,le[1]=Ie,Math.sqrt(Ve))}function projectPointToLine(r,n,g,y,$,L,re,ae){var le=$-r,ue=L-n,he=g-r,_e=y-n,Ce=Math.sqrt(he*he+_e*_e);he/=Ce,_e/=Ce;var $e=le*he+ue*_e,Oe=$e/Ce;ae&&(Oe=Math.min(Math.max(Oe,0),1)),Oe*=Ce;var xe=re[0]=r+Oe*he,Ne=re[1]=n+Oe*_e;return Math.sqrt((xe-$)*(xe-$)+(Ne-L)*(Ne-L))}function projectPointToRect(r,n,g,y,$,L,re){g<0&&(r=r+g,g=-g),y<0&&(n=n+y,y=-y);var ae=r+g,le=n+y,ue=re[0]=Math.min(Math.max($,r),ae),he=re[1]=Math.min(Math.max(L,n),le);return Math.sqrt((ue-$)*(ue-$)+(he-L)*(he-L))}var tmpPt=[];function nearestPointOnRect(r,n,g){var y=projectPointToRect(n.x,n.y,n.width,n.height,r.x,r.y,tmpPt);return g.set(tmpPt[0],tmpPt[1]),y}function nearestPointOnPath(r,n,g){for(var y=0,$=0,L=0,re=0,ae,le,ue=1/0,he=n.data,_e=r.x,Ce=r.y,$e=0;$e<he.length;){var Oe=he[$e++];$e===1&&(y=he[$e],$=he[$e+1],L=y,re=$);var xe=ue;switch(Oe){case CMD$1.M:L=he[$e++],re=he[$e++],y=L,$=re;break;case CMD$1.L:xe=projectPointToLine(y,$,he[$e],he[$e+1],_e,Ce,tmpPt,!0),y=he[$e++],$=he[$e++];break;case CMD$1.C:xe=cubicProjectPoint(y,$,he[$e++],he[$e++],he[$e++],he[$e++],he[$e],he[$e+1],_e,Ce,tmpPt),y=he[$e++],$=he[$e++];break;case CMD$1.Q:xe=quadraticProjectPoint(y,$,he[$e++],he[$e++],he[$e],he[$e+1],_e,Ce,tmpPt),y=he[$e++],$=he[$e++];break;case CMD$1.A:var Ne=he[$e++],Ie=he[$e++],Fe=he[$e++],Ve=he[$e++],ze=he[$e++],Ue=he[$e++];$e+=1;var qe=!!(1-he[$e++]);ae=Math.cos(ze)*Fe+Ne,le=Math.sin(ze)*Ve+Ie,$e<=1&&(L=ae,re=le);var kt=(_e-Ne)*Ve/Fe+Ne;xe=projectPointToArc(Ne,Ie,Ve,ze,ze+Ue,qe,kt,Ce,tmpPt),y=Math.cos(ze+Ue)*Fe+Ne,$=Math.sin(ze+Ue)*Ve+Ie;break;case CMD$1.R:L=y=he[$e++],re=$=he[$e++];var Et=he[$e++],Pt=he[$e++];xe=projectPointToRect(L,re,Et,Pt,_e,Ce,tmpPt);break;case CMD$1.Z:xe=projectPointToLine(y,$,L,re,_e,Ce,tmpPt,!0),y=L,$=re;break}xe<ue&&(ue=xe,g.set(tmpPt[0],tmpPt[1]))}return ue}var pt0=new Point,pt1=new Point,pt2=new Point,dir=new Point,dir2=new Point;function updateLabelLinePoints(r,n){if(r){var g=r.getTextGuideLine(),y=r.getTextContent();if(y&&g){var $=r.textGuideLineConfig||{},L=[[0,0],[0,0],[0,0]],re=$.candidates||DEFAULT_SEARCH_SPACE,ae=y.getBoundingRect().clone();ae.applyTransform(y.getComputedTransform());var le=1/0,ue=$.anchor,he=r.getComputedTransform(),_e=he&&invert([],he),Ce=n.get("length2")||0;ue&&pt2.copy(ue);for(var $e=0;$e<re.length;$e++){var Oe=re[$e];getCandidateAnchor(Oe,0,ae,pt0,dir),Point.scaleAndAdd(pt1,pt0,dir,Ce),pt1.transform(_e);var xe=r.getBoundingRect(),Ne=ue?ue.distance(pt1):r instanceof Path?nearestPointOnPath(pt1,r.path,pt2):nearestPointOnRect(pt1,xe,pt2);Ne<le&&(le=Ne,pt1.transform(he),pt2.transform(he),pt2.toArray(L[0]),pt1.toArray(L[1]),pt0.toArray(L[2]))}limitTurnAngle(L,n.get("minTurnAngle")),g.setShape({points:L})}}}var tmpArr=[],tmpProjPoint=new Point;function limitTurnAngle(r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point.sub(dir,pt0,pt1),Point.sub(dir2,pt2,pt1);var g=dir.len(),y=dir2.len();if(!(g<.001||y<.001)){dir.scale(1/g),dir2.scale(1/y);var $=dir.dot(dir2),L=Math.cos(n);if(L<$){var re=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,re/Math.tan(Math.PI-n));var ae=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(ae))return;ae<0?Point.copy(tmpProjPoint,pt1):ae>1&&Point.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(r[1])}}}}function limitSurfaceAngle(r,n,g){if(g<=180&&g>0){g=g/180*Math.PI,pt0.fromArray(r[0]),pt1.fromArray(r[1]),pt2.fromArray(r[2]),Point.sub(dir,pt1,pt0),Point.sub(dir2,pt2,pt1);var y=dir.len(),$=dir2.len();if(!(y<.001||$<.001)){dir.scale(1/y),dir2.scale(1/$);var L=dir.dot(n),re=Math.cos(g);if(L<re){var ae=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var le=Math.PI/2,ue=Math.acos(dir2.dot(n)),he=le+ue-g;if(he>=le)Point.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,ae/Math.tan(Math.PI/2-he));var _e=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(_e))return;_e<0?Point.copy(tmpProjPoint,pt1):_e>1&&Point.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(r[1])}}}}function setLabelLineState(r,n,g,y){var $=g==="normal",L=$?r:r.ensureState(g);L.ignore=n;var re=y.get("smooth");re&&re===!0&&(re=.3),L.shape=L.shape||{},re>0&&(L.shape.smooth=re);var ae=y.getModel("lineStyle").getLineStyle();$?r.useStyle(ae):L.style=ae}function buildLabelLinePath(r,n){var g=n.smooth,y=n.points;if(y)if(r.moveTo(y[0][0],y[0][1]),g>0&&y.length>=3){var $=dist$2(y[0],y[1]),L=dist$2(y[1],y[2]);if(!$||!L){r.lineTo(y[1][0],y[1][1]),r.lineTo(y[2][0],y[2][1]);return}var re=Math.min($,L)*g,ae=lerp$1([],y[1],y[0],re/$),le=lerp$1([],y[1],y[2],re/L),ue=lerp$1([],ae,le,.5);r.bezierCurveTo(ae[0],ae[1],ae[0],ae[1],ue[0],ue[1]),r.bezierCurveTo(le[0],le[1],le[0],le[1],y[2][0],y[2][1])}else for(var he=1;he<y.length;he++)r.lineTo(y[he][0],y[he][1])}function setLabelLineStyle(r,n,g){var y=r.getTextGuideLine(),$=r.getTextContent();if(!$){y&&r.removeTextGuideLine();return}for(var L=n.normal,re=L.get("show"),ae=$.ignore,le=0;le<DISPLAY_STATES.length;le++){var ue=DISPLAY_STATES[le],he=n[ue],_e=ue==="normal";if(he){var Ce=he.get("show"),$e=_e?ae:retrieve2($.states[ue]&&$.states[ue].ignore,ae);if($e||!retrieve2(Ce,re)){var Oe=_e?y:y&&y.states[ue];Oe&&(Oe.ignore=!0),y&&setLabelLineState(y,!0,ue,he);continue}y||(y=new Polyline$1,r.setTextGuideLine(y),!_e&&(ae||!re)&&setLabelLineState(y,!0,"normal",n.normal),r.stateProxy&&(y.stateProxy=r.stateProxy)),setLabelLineState(y,!1,ue,he)}}if(y){defaults$2(y.style,g),y.style.fill=null;var xe=L.get("showAbove"),Ne=r.textGuideLineConfig=r.textGuideLineConfig||{};Ne.showAbove=xe||!1,y.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(r,n){n=n||"labelLine";for(var g={normal:r.getModel(n)},y=0;y<SPECIAL_STATES.length;y++){var $=SPECIAL_STATES[y];g[$]=r.getModel([$,n])}return g}function prepareLayoutList(r){for(var n=[],g=0;g<r.length;g++){var y=r[g];if(!y.defaultAttr.ignore){var $=y.label,L=$.getComputedTransform(),re=$.getBoundingRect(),ae=!L||L[1]<1e-5&&L[2]<1e-5,le=$.style.margin||0,ue=re.clone();ue.applyTransform(L),ue.x-=le/2,ue.y-=le/2,ue.width+=le,ue.height+=le;var he=ae?new OrientedBoundingRect(re,L):null;n.push({label:$,labelLine:y.labelLine,rect:ue,localRect:re,obb:he,priority:y.priority,defaultAttr:y.defaultAttr,layoutOption:y.computedLayoutOption,axisAligned:ae,transform:L})}}return n}function shiftLayout(r,n,g,y,$,L){var re=r.length;if(re<2)return;r.sort(function(qe,kt){return qe.rect[n]-kt.rect[n]});for(var ae=0,le,ue=!1,he=0;he<re;he++){var _e=r[he],Ce=_e.rect;le=Ce[n]-ae,le<0&&(Ce[n]-=le,_e.label[n]-=le,ue=!0),ae=Ce[n]+Ce[g]}var $e=r[0],Oe=r[re-1],xe,Ne;Ie(),xe<0&&ze(-xe,.8),Ne<0&&ze(Ne,.8),Ie(),Fe(xe,Ne,1),Fe(Ne,xe,-1),Ie(),xe<0&&Ue(-xe),Ne<0&&Ue(Ne);function Ie(){xe=$e.rect[n]-y,Ne=$-Oe.rect[n]-Oe.rect[g]}function Fe(qe,kt,Et){if(qe<0){var Pt=Math.min(kt,-qe);if(Pt>0){Ve(Pt*Et,0,re);var At=Pt+qe;At<0&&ze(-At*Et,1)}else ze(-qe*Et,1)}}function Ve(qe,kt,Et){qe!==0&&(ue=!0);for(var Pt=kt;Pt<Et;Pt++){var At=r[Pt],Dt=At.rect;Dt[n]+=qe,At.label[n]+=qe}}function ze(qe,kt){for(var Et=[],Pt=0,At=1;At<re;At++){var Dt=r[At-1].rect,Lt=Math.max(r[At].rect[n]-Dt[n]-Dt[g],0);Et.push(Lt),Pt+=Lt}if(Pt){var hn=Math.min(Math.abs(qe)/Pt,kt);if(qe>0)for(var At=0;At<re-1;At++){var _n=Et[At]*hn;Ve(_n,0,At+1)}else for(var At=re-1;At>0;At--){var _n=Et[At-1]*hn;Ve(-_n,At,re)}}}function Ue(qe){var kt=qe<0?-1:1;qe=Math.abs(qe);for(var Et=Math.ceil(qe/(re-1)),Pt=0;Pt<re-1;Pt++)if(kt>0?Ve(Et,0,Pt+1):Ve(-Et,re-Pt-1,re),qe-=Et,qe<=0)return}return ue}function shiftLayoutOnX(r,n,g,y){return shiftLayout(r,"x","width",n,g)}function shiftLayoutOnY(r,n,g,y){return shiftLayout(r,"y","height",n,g)}function hideOverlap(r){var n=[];r.sort(function(xe,Ne){return Ne.priority-xe.priority});var g=new BoundingRect(0,0,0,0);function y(xe){if(!xe.ignore){var Ne=xe.ensureState("emphasis");Ne.ignore==null&&(Ne.ignore=!1)}xe.ignore=!0}for(var $=0;$<r.length;$++){var L=r[$],re=L.axisAligned,ae=L.localRect,le=L.transform,ue=L.label,he=L.labelLine;g.copy(L.rect),g.width-=.1,g.height-=.1,g.x+=.05,g.y+=.05;for(var _e=L.obb,Ce=!1,$e=0;$e<n.length;$e++){var Oe=n[$e];if(g.intersect(Oe.rect)){if(re&&Oe.axisAligned){Ce=!0;break}if(Oe.obb||(Oe.obb=new OrientedBoundingRect(Oe.localRect,Oe.transform)),_e||(_e=new OrientedBoundingRect(ae,le)),_e.intersect(Oe.obb)){Ce=!0;break}}}Ce?(y(ue),he&&y(he)):(ue.attr("ignore",L.defaultAttr.ignore),he&&he.attr("ignore",L.defaultAttr.labelGuideIgnore),n.push(L))}}function cloneArr(r){if(r){for(var n=[],g=0;g<r.length;g++)n.push(r[g].slice());return n}}function prepareLayoutCallbackParams(r,n){var g=r.label,y=n&&n.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:g.style.align,verticalAlign:g.style.verticalAlign,labelLinePoints:cloneArr(y&&y.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(r,n,g){for(var y=0;y<g.length;y++){var $=g[y];n[$]!=null&&(r[$]=n[$])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(n,g,y,$,L){var re=$.style,ae=$.__hostTarget,le=ae.textConfig||{},ue=$.getComputedTransform(),he=$.getBoundingRect().plain();BoundingRect.applyTransform(he,he,ue),ue?dummyTransformable.setLocalTransform(ue):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var _e=$.__hostTarget,Ce;if(_e){Ce=_e.getBoundingRect().plain();var $e=_e.getComputedTransform();BoundingRect.applyTransform(Ce,Ce,$e)}var Oe=Ce&&_e.getTextGuideLine();this._labelList.push({label:$,labelLine:Oe,seriesModel:y,dataIndex:n,dataType:g,layoutOption:L,computedLayoutOption:null,rect:he,hostRect:Ce,priority:Ce?Ce.width*Ce.height:0,defaultAttr:{ignore:$.ignore,labelGuideIgnore:Oe&&Oe.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:re.x,y:re.y,align:re.align,verticalAlign:re.verticalAlign,width:re.width,height:re.height,fontSize:re.fontSize},cursor:$.cursor,attachedPos:le.position,attachedRot:le.rotation}})},r.prototype.addLabelsOfSeries=function(n){var g=this;this._chartViewList.push(n);var y=n.__model,$=y.get("labelLayout");(isFunction($)||keys$1($).length)&&n.group.traverse(function(L){if(L.ignore)return!0;var re=L.getTextContent(),ae=getECData(L);re&&!re.disableLabelLayout&&g._addLabel(ae.dataIndex,ae.dataType,y,re,$)})},r.prototype.updateLayoutConfig=function(n){var g=n.getWidth(),y=n.getHeight();function $(Ve,ze){return function(){updateLabelLinePoints(Ve,ze)}}for(var L=0;L<this._labelList.length;L++){var re=this._labelList[L],ae=re.label,le=ae.__hostTarget,ue=re.defaultAttr,he=void 0;isFunction(re.layoutOption)?he=re.layoutOption(prepareLayoutCallbackParams(re,le)):he=re.layoutOption,he=he||{},re.computedLayoutOption=he;var _e=Math.PI/180;le&&le.setTextConfig({local:!1,position:he.x!=null||he.y!=null?null:ue.attachedPos,rotation:he.rotate!=null?he.rotate*_e:ue.attachedRot,offset:[he.dx||0,he.dy||0]});var Ce=!1;if(he.x!=null?(ae.x=parsePercent(he.x,g),ae.setStyle("x",0),Ce=!0):(ae.x=ue.x,ae.setStyle("x",ue.style.x)),he.y!=null?(ae.y=parsePercent(he.y,y),ae.setStyle("y",0),Ce=!0):(ae.y=ue.y,ae.setStyle("y",ue.style.y)),he.labelLinePoints){var $e=le.getTextGuideLine();$e&&($e.setShape({points:he.labelLinePoints}),Ce=!1)}var Oe=labelLayoutInnerStore(ae);Oe.needsUpdateLabelLine=Ce,ae.rotation=he.rotate!=null?he.rotate*_e:ue.rotation,ae.scaleX=ue.scaleX,ae.scaleY=ue.scaleY;for(var xe=0;xe<LABEL_OPTION_TO_STYLE_KEYS.length;xe++){var Ne=LABEL_OPTION_TO_STYLE_KEYS[xe];ae.setStyle(Ne,he[Ne]!=null?he[Ne]:ue.style[Ne])}if(he.draggable){if(ae.draggable=!0,ae.cursor="move",le){var Ie=re.seriesModel;if(re.dataIndex!=null){var Fe=re.seriesModel.getData(re.dataType);Ie=Fe.getItemModel(re.dataIndex)}ae.on("drag",$(le,Ie.getModel("labelLine")))}}else ae.off("drag"),ae.cursor=ue.cursor}},r.prototype.layout=function(n){var g=n.getWidth(),y=n.getHeight(),$=prepareLayoutList(this._labelList),L=filter($,function(le){return le.layoutOption.moveOverlap==="shiftX"}),re=filter($,function(le){return le.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(L,0,g),shiftLayoutOnY(re,0,y);var ae=filter($,function(le){return le.layoutOption.hideOverlap});hideOverlap(ae)},r.prototype.processLabelsOverall=function(){var n=this;each$f(this._chartViewList,function(g){var y=g.__model,$=g.ignoreLabelLineUpdate,L=y.isAnimationEnabled();g.group.traverse(function(re){if(re.ignore&&!re.forceLabelAnimation)return!0;var ae=!$,le=re.getTextContent();!ae&&le&&(ae=labelLayoutInnerStore(le).needsUpdateLabelLine),ae&&n._updateLabelLine(re,y),L&&n._animateLabels(re,y)})})},r.prototype._updateLabelLine=function(n,g){var y=n.getTextContent(),$=getECData(n),L=$.dataIndex;if(y&&L!=null){var re=g.getData($.dataType),ae=re.getItemModel(L),le={},ue=re.getItemVisual(L,"style");if(ue){var he=re.getVisual("drawType");le.stroke=ue[he]}var _e=ae.getModel("labelLine");setLabelLineStyle(n,getLabelLineStatesModels(ae),le),updateLabelLinePoints(n,_e)}},r.prototype._animateLabels=function(n,g){var y=n.getTextContent(),$=n.getTextGuideLine();if(y&&(n.forceLabelAnimation||!y.ignore&&!y.invisible&&!n.disableLabelAnimation&&!isElementRemoved(n))){var L=labelLayoutInnerStore(y),re=L.oldLayout,ae=getECData(n),le=ae.dataIndex,ue={x:y.x,y:y.y,rotation:y.rotation},he=g.getData(ae.dataType);if(re){y.attr(re);var Ce=n.prevStates;Ce&&(indexOf(Ce,"select")>=0&&y.attr(L.oldLayoutSelect),indexOf(Ce,"emphasis")>=0&&y.attr(L.oldLayoutEmphasis)),updateProps$1(y,ue,g,le)}else if(y.attr(ue),!labelInner(y).valueAnimation){var _e=retrieve2(y.style.opacity,1);y.style.opacity=0,initProps(y,{style:{opacity:_e}},g,le)}if(L.oldLayout=ue,y.states.select){var $e=L.oldLayoutSelect={};extendWithKeys($e,ue,LABEL_LAYOUT_PROPS),extendWithKeys($e,y.states.select,LABEL_LAYOUT_PROPS)}if(y.states.emphasis){var Oe=L.oldLayoutEmphasis={};extendWithKeys(Oe,ue,LABEL_LAYOUT_PROPS),extendWithKeys(Oe,y.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(y,le,he,g,g)}if($&&!$.ignore&&!$.invisible){var L=labelLineAnimationStore($),re=L.oldLayout,xe={points:$.shape.points};re?($.attr({shape:re}),updateProps$1($,{shape:xe},g)):($.setShape(xe),$.style.strokePercent=0,initProps($,{style:{strokePercent:1}},g)),L.oldLayout=xe}},r}(),getLabelManager=makeInner();function installLabelLayout(r){r.registerUpdateLifecycle("series:beforeupdate",function(n,g,y){var $=getLabelManager(g).labelManager;$||($=getLabelManager(g).labelManager=new LabelManager),$.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(n,g,y){var $=getLabelManager(g).labelManager;y.updatedSeries.forEach(function(L){$.addLabelsOfSeries(g.getViewOfSeriesModel(L))}),$.updateLayoutConfig(g),$.layout(g),$.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function r(){}return r.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},r.prototype.moveTo=function(n,g){this._add("M",n,g)},r.prototype.lineTo=function(n,g){this._add("L",n,g)},r.prototype.bezierCurveTo=function(n,g,y,$,L,re){this._add("C",n,g,y,$,L,re)},r.prototype.quadraticCurveTo=function(n,g,y,$){this._add("Q",n,g,y,$)},r.prototype.arc=function(n,g,y,$,L,re){this.ellipse(n,g,y,y,0,$,L,re)},r.prototype.ellipse=function(n,g,y,$,L,re,ae,le){var ue=ae-re,he=!le,_e=Math.abs(ue),Ce=isAroundZero(_e-PI2$1)||(he?ue>=PI2$1:-ue>=PI2$1),$e=ue>0?ue%PI2$1:ue%PI2$1+PI2$1,Oe=!1;Ce?Oe=!0:isAroundZero(_e)?Oe=!1:Oe=$e>=PI$4==!!he;var xe=n+y*mathCos(re),Ne=g+$*mathSin(re);this._start&&this._add("M",xe,Ne);var Ie=Math.round(L*degree);if(Ce){var Fe=1/this._p,Ve=(he?1:-1)*(PI2$1-Fe);this._add("A",y,$,Ie,1,+he,n+y*mathCos(re+Ve),g+$*mathSin(re+Ve)),Fe>.01&&this._add("A",y,$,Ie,0,+he,xe,Ne)}else{var ze=n+y*mathCos(ae),Ue=g+$*mathSin(ae);this._add("A",y,$,Ie,+Oe,+he,ze,Ue)}},r.prototype.rect=function(n,g,y,$){this._add("M",n,g),this._add("l",y,0),this._add("l",0,$),this._add("l",-y,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(n,g,y,$,L,re,ae,le,ue){for(var he=[],_e=this._p,Ce=1;Ce<arguments.length;Ce++){var $e=arguments[Ce];if(isNaN($e)){this._invalid=!0;return}he.push(Math.round($e*_e)/_e)}this._d.push(n+he.join(" ")),this._start=n==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),NONE="none",mathRound=Math.round;function pathHasFill(r){var n=r.fill;return n!=null&&n!==NONE}function pathHasStroke(r){var n=r.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(r){return"stroke-"+r.toLowerCase()});function mapStyleToAttrs(r,n,g,y){var $=n.opacity==null?1:n.opacity;if(g instanceof ZRImage){r("opacity",$);return}if(pathHasFill(n)){var L=normalizeColor(n.fill);r("fill",L.color);var re=n.fillOpacity!=null?n.fillOpacity*L.opacity*$:L.opacity*$;re<1&&r("fill-opacity",re)}else r("fill",NONE);if(pathHasStroke(n)){var ae=normalizeColor(n.stroke);r("stroke",ae.color);var le=n.strokeNoScale?g.getLineScale():1,ue=le?(n.lineWidth||0)/le:0,he=n.strokeOpacity!=null?n.strokeOpacity*ae.opacity*$:ae.opacity*$,_e=n.strokeFirst;if(ue!==1&&r("stroke-width",ue),_e&&r("paint-order",_e?"stroke":"fill"),he<1&&r("stroke-opacity",he),n.lineDash){var Ce=getLineDash(g),$e=Ce[0],Oe=Ce[1];$e&&(Oe=mathRound(Oe||0),r("stroke-dasharray",$e.join(",")),(Oe||y)&&r("stroke-dashoffset",Oe))}for(var xe=0;xe<strokeProps.length;xe++){var Ne=strokeProps[xe];if(n[Ne]!==DEFAULT_PATH_STYLE[Ne]){var Ie=n[Ne]||DEFAULT_PATH_STYLE[Ne];Ie&&r(svgStrokeProps[xe],Ie)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement$1(r){return document.createElementNS(SVGNS,r)}function createVNode(r,n,g,y,$){return{tag:r,attrs:g||{},children:y,text:$,key:n}}function createElementOpen(r,n){var g=[];if(n)for(var y in n){var $=n[y],L=y;$!==!1&&($!==!0&&$!=null&&(L+='="'+$+'"'),g.push(L))}return"<"+r+" "+g.join(" ")+">"}function createElementClose(r){return"</"+r+">"}function vNodeToString(r,n){n=n||{};var g=n.newline?`
`:"";function y($){var L=$.children,re=$.tag,ae=$.attrs,le=$.text;return createElementOpen(re,ae)+(re!=="style"?encodeHTML(le):le||"")+(L?""+g+map$1(L,function(ue){return y(ue)}).join(g)+g:"")+createElementClose(re)}return y(r)}function getCssString(r,n,g){g=g||{};var y=g.newline?`
`:"",$=" {"+y,L=y+"}",re=map$1(keys$1(r),function(le){return le+$+map$1(keys$1(r[le]),function(ue){return ue+":"+r[le][ue]+";"}).join(y)+L}).join(y),ae=map$1(keys$1(n),function(le){return"@keyframes "+le+$+map$1(keys$1(n[le]),function(ue){return ue+$+map$1(keys$1(n[le][ue]),function(he){var _e=n[le][ue][he];return he==="d"&&(_e='path("'+_e+'")'),he+":"+_e+";"}).join(y)+L}).join(y)+L}).join(y);return!re&&!ae?"":["<![CDATA[",re,ae,"]]>"].join(y)}function createBrushScope(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(r,n,g,y){return createVNode("svg","root",{width:r,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:y?"0 0 "+r+" "+n:!1},g)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(r,n,g){var y=extend({},r.shape);extend(y,n),r.buildPath(g,y);var $=new SVGPathRebuilder;return $.reset(getPathPrecision(r)),g.rebuildPath($,1),$.generateStr(),$.getStr()}function setTransformOrigin(r,n){var g=n.originX,y=n.originY;(g||y)&&(r[transformOriginKey]=g+"px "+y+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(r,n){var g=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[g]=r,g}function createCompoundPathCSSAnimation(r,n,g){var y=r.shape.paths,$={},L,re;if(each$f(y,function(le){var ue=createBrushScope(g.zrId);ue.animation=!0,createCSSAnimation(le,{},ue,!0);var he=ue.cssAnims,_e=ue.cssNodes,Ce=keys$1(he),$e=Ce.length;if($e){re=Ce[$e-1];var Oe=he[re];for(var xe in Oe){var Ne=Oe[xe];$[xe]=$[xe]||{d:""},$[xe].d+=Ne.d||""}for(var Ie in _e){var Fe=_e[Ie].animation;Fe.indexOf(re)>=0&&(L=Fe)}}}),!!L){n.d=!1;var ae=addAnimation($,g);return L.replace(re,ae)}}function getEasingFunc(r){return isString(r)?EASING_MAP[r]?"cubic-bezier("+EASING_MAP[r]+")":createCubicEasingFunc(r)?r:"":""}function createCSSAnimation(r,n,g,y){var $=r.animators,L=$.length,re=[];if(r instanceof CompoundPath){var ae=createCompoundPathCSSAnimation(r,n,g);if(ae)re.push(ae);else if(!L)return}else if(!L)return;for(var le={},ue=0;ue<L;ue++){var he=$[ue],_e=[he.getMaxTime()/1e3+"s"],Ce=getEasingFunc(he.getClip().easing),$e=he.getDelay();Ce?_e.push(Ce):_e.push("linear"),$e&&_e.push($e/1e3+"s"),he.getLoop()&&_e.push("infinite");var Oe=_e.join(" ");le[Oe]=le[Oe]||[Oe,[]],le[Oe][1].push(he)}function xe(Fe){var Ve=Fe[1],ze=Ve.length,Ue={},qe={},kt={},Et="animation-timing-function";function Pt(Dn,In,Fn){for(var Bn=Dn.getTracks(),Mn=Dn.getMaxTime(),Hn=0;Hn<Bn.length;Hn++){var Yn=Bn[Hn];if(Yn.needsAnimate()){var qn=Yn.keyframes,Xn=Yn.propName;if(Fn&&(Xn=Fn(Xn)),Xn)for(var jn=0;jn<qn.length;jn++){var Zn=qn[jn],Un=Math.round(Zn.time/Mn*100)+"%",Jn=getEasingFunc(Zn.easing),tr=Zn.rawValue;(isString(tr)||isNumber$1(tr))&&(In[Un]=In[Un]||{},In[Un][Xn]=Zn.rawValue,Jn&&(In[Un][Et]=Jn))}}}}for(var At=0;At<ze;At++){var Dt=Ve[At],Lt=Dt.targetName;Lt?Lt==="shape"&&Pt(Dt,qe):!y&&Pt(Dt,Ue)}for(var hn in Ue){var _n={};copyTransform(_n,r),extend(_n,Ue[hn]);var vn=getSRTTransformString(_n),jt=Ue[hn][Et];kt[hn]=vn?{transform:vn}:{},setTransformOrigin(kt[hn],_n),jt&&(kt[hn][Et]=jt)}var $n,Sn=!0;for(var hn in qe){kt[hn]=kt[hn]||{};var bn=!$n,jt=qe[hn][Et];bn&&($n=new PathProxy);var wn=$n.len();$n.reset(),kt[hn].d=buildPathString(r,qe[hn],$n);var On=$n.len();if(!bn&&wn!==On){Sn=!1;break}jt&&(kt[hn][Et]=jt)}if(!Sn)for(var hn in kt)delete kt[hn].d;if(!y)for(var At=0;At<ze;At++){var Dt=Ve[At],Lt=Dt.targetName;Lt==="style"&&Pt(Dt,kt,function(Bn){return ANIMATE_STYLE_MAP[Bn]})}for(var Tn=keys$1(kt),xn=!0,Pn,At=1;At<Tn.length;At++){var An=Tn[At-1],Rn=Tn[At];if(kt[An][transformOriginKey]!==kt[Rn][transformOriginKey]){xn=!1;break}Pn=kt[An][transformOriginKey]}if(xn&&Pn){for(var hn in kt)kt[hn][transformOriginKey]&&delete kt[hn][transformOriginKey];n[transformOriginKey]=Pn}if(filter(Tn,function(Dn){return keys$1(kt[Dn]).length>0}).length){var Nn=addAnimation(kt,g);return Nn+" "+Fe[0]+" both"}}for(var Ne in le){var ae=xe(le[Ne]);ae&&re.push(ae)}if(re.length){var Ie=g.zrId+"-cls-"+getClassId();g.cssNodes["."+Ie]={animation:re.join(",")},n.class=Ie}}function createCSSEmphasis(r,n,g){if(!r.ignore)if(r.isSilent()){var y={"pointer-events":"none"};setClassAttribute(y,n,g)}else{var $=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},L=$.fill;if(!L){var re=r.style&&r.style.fill,ae=r.states.select&&r.states.select.style&&r.states.select.style.fill,le=r.currentStates.indexOf("select")>=0&&ae||re;le&&(L=liftColor(le))}var ue=$.lineWidth;if(ue){var he=!$.strokeNoScale&&r.transform?r.transform[0]:1;ue=ue/he}var y={cursor:"pointer"};L&&(y.fill=L),$.stroke&&(y.stroke=$.stroke),ue&&(y["stroke-width"]=ue),setClassAttribute(y,n,g)}}function setClassAttribute(r,n,g,y){var $=JSON.stringify(r),L=g.cssStyleCache[$];L||(L=g.zrId+"-cls-"+getClassId(),g.cssStyleCache[$]=L,g.cssNodes["."+L+":hover"]=r),n.class=n.class?n.class+" "+L:L}var round$2=Math.round;function isImageLike(r){return r&&isString(r.src)}function isCanvasLike(r){return r&&isFunction(r.toDataURL)}function setStyleAttrs(r,n,g,y){mapStyleToAttrs(function($,L){var re=$==="fill"||$==="stroke";re&&isGradient(L)?setGradient(n,r,$,y):re&&isPattern(L)?setPattern(g,r,$,y):r[$]=L,re&&y.ssr&&L==="none"&&(r["pointer-events"]="visible")},n,g,!1),setShadow(g,r,y)}function setMetaData(r,n){var g=getElementSSRData(n);g&&(g.each(function(y,$){y!=null&&(r[(META_DATA_PREFIX+$).toLowerCase()]=y+"")}),n.isSilent()&&(r[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(r){return isAroundZero(r[0]-1)&&isAroundZero(r[1])&&isAroundZero(r[2])&&isAroundZero(r[3]-1)}function noTranslate(r){return isAroundZero(r[4])&&isAroundZero(r[5])}function setTransform(r,n,g){if(n&&!(noTranslate(n)&&noRotateScale(n))){var y=1e4;r.transform=noRotateScale(n)?"translate("+round$2(n[4]*y)/y+" "+round$2(n[5]*y)/y+")":getMatrixStr(n)}}function convertPolyShape(r,n,g){for(var y=r.points,$=[],L=0;L<y.length;L++)$.push(round$2(y[L][0]*g)/g),$.push(round$2(y[L][1]*g)/g);n.points=$.join(" ")}function validatePolyShape(r){return!r.smooth}function createAttrsConvert(r){var n=map$1(r,function(g){return typeof g=="string"?[g,g]:g});return function(g,y,$){for(var L=0;L<n.length;L++){var re=n[L],ae=g[re[0]];ae!=null&&(y[re[1]]=round$2(ae*$)/$)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(r){for(var n=r.animators,g=0;g<n.length;g++)if(n[g].targetName==="shape")return!0;return!1}function brushSVGPath(r,n){var g=r.style,y=r.shape,$=builtinShapesDef[r.type],L={},re=n.animation,ae="path",le=r.style.strokePercent,ue=n.compress&&getPathPrecision(r)||4;if($&&!n.willUpdate&&!($[1]&&!$[1](y))&&!(re&&hasShapeAnimation(r))&&!(le<1)){ae=r.type;var he=Math.pow(10,ue);$[0](y,L,he)}else{var _e=!r.path||r.shapeChanged();r.path||r.createPathProxy();var Ce=r.path;_e&&(Ce.beginPath(),r.buildPath(Ce,r.shape),r.pathUpdated());var $e=Ce.getVersion(),Oe=r,xe=Oe.__svgPathBuilder;(Oe.__svgPathVersion!==$e||!xe||le!==Oe.__svgPathStrokePercent)&&(xe||(xe=Oe.__svgPathBuilder=new SVGPathRebuilder),xe.reset(ue),Ce.rebuildPath(xe,le),xe.generateStr(),Oe.__svgPathVersion=$e,Oe.__svgPathStrokePercent=le),L.d=xe.getStr()}return setTransform(L,r.transform),setStyleAttrs(L,g,r,n),setMetaData(L,r),n.animation&&createCSSAnimation(r,L,n),n.emphasis&&createCSSEmphasis(r,L,n),createVNode(ae,r.id+"",L)}function brushSVGImage(r,n){var g=r.style,y=g.image;if(y&&!isString(y)&&(isImageLike(y)?y=y.src:isCanvasLike(y)&&(y=y.toDataURL())),!!y){var $=g.x||0,L=g.y||0,re=g.width,ae=g.height,le={href:y,width:re,height:ae};return $&&(le.x=$),L&&(le.y=L),setTransform(le,r.transform),setStyleAttrs(le,g,r,n),setMetaData(le,r),n.animation&&createCSSAnimation(r,le,n),createVNode("image",r.id+"",le)}}function brushSVGTSpan(r,n){var g=r.style,y=g.text;if(y!=null&&(y+=""),!(!y||isNaN(g.x)||isNaN(g.y))){var $=g.font||DEFAULT_FONT,L=g.x||0,re=adjustTextY$1(g.y||0,getLineHeight($),g.textBaseline),ae=TEXT_ALIGN_TO_ANCHOR[g.textAlign]||g.textAlign,le={"dominant-baseline":"central","text-anchor":ae};if(hasSeparateFont(g)){var ue="",he=g.fontStyle,_e=parseFontSize(g.fontSize);if(!parseFloat(_e))return;var Ce=g.fontFamily||DEFAULT_FONT_FAMILY,$e=g.fontWeight;ue+="font-size:"+_e+";font-family:"+Ce+";",he&&he!=="normal"&&(ue+="font-style:"+he+";"),$e&&$e!=="normal"&&(ue+="font-weight:"+$e+";"),le.style=ue}else le.style="font: "+$;return y.match(/\s/)&&(le["xml:space"]="preserve"),L&&(le.x=L),re&&(le.y=re),setTransform(le,r.transform),setStyleAttrs(le,g,r,n),setMetaData(le,r),n.animation&&createCSSAnimation(r,le,n),createVNode("text",r.id+"",le,void 0,y)}}function brush(r,n){if(r instanceof Path)return brushSVGPath(r,n);if(r instanceof ZRImage)return brushSVGImage(r,n);if(r instanceof TSpan)return brushSVGTSpan(r,n)}function setShadow(r,n,g){var y=r.style;if(hasShadow(y)){var $=getShadowKey(r),L=g.shadowCache,re=L[$];if(!re){var ae=r.getGlobalScale(),le=ae[0],ue=ae[1];if(!le||!ue)return;var he=y.shadowOffsetX||0,_e=y.shadowOffsetY||0,Ce=y.shadowBlur,$e=normalizeColor(y.shadowColor),Oe=$e.opacity,xe=$e.color,Ne=Ce/2/le,Ie=Ce/2/ue,Fe=Ne+" "+Ie;re=g.zrId+"-s"+g.shadowIdx++,g.defs[re]=createVNode("filter",re,{id:re,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:he/le,dy:_e/ue,stdDeviation:Fe,"flood-color":xe,"flood-opacity":Oe})]),L[$]=re}n.filter=getIdURL(re)}}function setGradient(r,n,g,y){var $=r[g],L,re={gradientUnits:$.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient($))L="linearGradient",re.x1=$.x,re.y1=$.y,re.x2=$.x2,re.y2=$.y2;else if(isRadialGradient($))L="radialGradient",re.cx=retrieve2($.x,.5),re.cy=retrieve2($.y,.5),re.r=retrieve2($.r,.5);else return;for(var ae=$.colorStops,le=[],ue=0,he=ae.length;ue<he;++ue){var _e=round4(ae[ue].offset)*100+"%",Ce=ae[ue].color,$e=normalizeColor(Ce),Oe=$e.color,xe=$e.opacity,Ne={offset:_e};Ne["stop-color"]=Oe,xe<1&&(Ne["stop-opacity"]=xe),le.push(createVNode("stop",ue+"",Ne))}var Ie=createVNode(L,"",re,le),Fe=vNodeToString(Ie),Ve=y.gradientCache,ze=Ve[Fe];ze||(ze=y.zrId+"-g"+y.gradientIdx++,Ve[Fe]=ze,re.id=ze,y.defs[ze]=createVNode(L,ze,re,le)),n[g]=getIdURL(ze)}function setPattern(r,n,g,y){var $=r.style[g],L=r.getBoundingRect(),re={},ae=$.repeat,le=ae==="no-repeat",ue=ae==="repeat-x",he=ae==="repeat-y",_e;if(isImagePattern($)){var Ce=$.imageWidth,$e=$.imageHeight,Oe=void 0,xe=$.image;if(isString(xe)?Oe=xe:isImageLike(xe)?Oe=xe.src:isCanvasLike(xe)&&(Oe=xe.toDataURL()),typeof Image>"u"){var Ne="Image width/height must been given explictly in svg-ssr renderer.";assert(Ce,Ne),assert($e,Ne)}else if(Ce==null||$e==null){var Ie=function(At,Dt){if(At){var Lt=At.elm,hn=Ce||Dt.width,_n=$e||Dt.height;At.tag==="pattern"&&(ue?(_n=1,hn/=L.width):he&&(hn=1,_n/=L.height)),At.attrs.width=hn,At.attrs.height=_n,Lt&&(Lt.setAttribute("width",hn),Lt.setAttribute("height",_n))}},Fe=createOrUpdateImage(Oe,null,r,function(At){le||Ie(qe,At),Ie(_e,At)});Fe&&Fe.width&&Fe.height&&(Ce=Ce||Fe.width,$e=$e||Fe.height)}_e=createVNode("image","img",{href:Oe,width:Ce,height:$e}),re.width=Ce,re.height=$e}else $.svgElement&&(_e=clone$4($.svgElement),re.width=$.svgWidth,re.height=$.svgHeight);if(_e){var Ve,ze;le?Ve=ze=1:ue?(ze=1,Ve=re.width/L.width):he?(Ve=1,ze=re.height/L.height):re.patternUnits="userSpaceOnUse",Ve!=null&&!isNaN(Ve)&&(re.width=Ve),ze!=null&&!isNaN(ze)&&(re.height=ze);var Ue=getSRTTransformString($);Ue&&(re.patternTransform=Ue);var qe=createVNode("pattern","",re,[_e]),kt=vNodeToString(qe),Et=y.patternCache,Pt=Et[kt];Pt||(Pt=y.zrId+"-p"+y.patternIdx++,Et[kt]=Pt,re.id=Pt,qe=y.defs[Pt]=createVNode("pattern",Pt,re,[_e])),n[g]=getIdURL(Pt)}}function setClipPath(r,n,g){var y=g.clipPathCache,$=g.defs,L=y[r.id];if(!L){L=g.zrId+"-c"+g.clipPathIdx++;var re={id:L};y[r.id]=L,$[L]=createVNode("clipPath",L,re,[brushSVGPath(r,g)])}n["clip-path"]=getIdURL(L)}function createTextNode$1(r){return document.createTextNode(r)}function insertBefore(r,n,g){r.insertBefore(n,g)}function removeChild(r,n){r.removeChild(n)}function appendChild(r,n){r.appendChild(n)}function parentNode(r){return r.parentNode}function nextSibling(r){return r.nextSibling}function setTextContent(r,n){r.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(r){return r===void 0}function isDef(r){return r!==void 0}function createKeyToOldIdx(r,n,g){for(var y={},$=n;$<=g;++$){var L=r[$].key;L!==void 0&&(y[L]=$)}return y}function sameVnode(r,n){var g=r.key===n.key,y=r.tag===n.tag;return y&&g}function createElm(r){var n,g=r.children,y=r.tag;if(isDef(y)){var $=r.elm=createElement$1(y);if(updateAttrs$1(emptyNode,r),isArray$2(g))for(n=0;n<g.length;++n){var L=g[n];L!=null&&appendChild($,createElm(L))}else isDef(r.text)&&!isObject$3(r.text)&&appendChild($,createTextNode$1(r.text))}else r.elm=createTextNode$1(r.text);return r.elm}function addVnodes(r,n,g,y,$){for(;y<=$;++y){var L=g[y];L!=null&&insertBefore(r,createElm(L),n)}}function removeVnodes(r,n,g,y){for(;g<=y;++g){var $=n[g];if($!=null)if(isDef($.tag)){var L=parentNode($.elm);removeChild(L,$.elm)}else removeChild(r,$.elm)}}function updateAttrs$1(r,n){var g,y=n.elm,$=r&&r.attrs||{},L=n.attrs||{};if($!==L){for(g in L){var re=L[g],ae=$[g];ae!==re&&(re===!0?y.setAttribute(g,""):re===!1?y.removeAttribute(g):g==="style"?y.style.cssText=re:g.charCodeAt(0)!==xChar?y.setAttribute(g,re):g==="xmlns:xlink"||g==="xmlns"?y.setAttributeNS(XMLNS,g,re):g.charCodeAt(3)===colonChar?y.setAttributeNS(XML_NAMESPACE,g,re):g.charCodeAt(5)===colonChar?y.setAttributeNS(XLINKNS,g,re):y.setAttribute(g,re))}for(g in $)g in L||y.removeAttribute(g)}}function updateChildren(r,n,g){for(var y=0,$=0,L=n.length-1,re=n[0],ae=n[L],le=g.length-1,ue=g[0],he=g[le],_e,Ce,$e,Oe;y<=L&&$<=le;)re==null?re=n[++y]:ae==null?ae=n[--L]:ue==null?ue=g[++$]:he==null?he=g[--le]:sameVnode(re,ue)?(patchVnode(re,ue),re=n[++y],ue=g[++$]):sameVnode(ae,he)?(patchVnode(ae,he),ae=n[--L],he=g[--le]):sameVnode(re,he)?(patchVnode(re,he),insertBefore(r,re.elm,nextSibling(ae.elm)),re=n[++y],he=g[--le]):sameVnode(ae,ue)?(patchVnode(ae,ue),insertBefore(r,ae.elm,re.elm),ae=n[--L],ue=g[++$]):(isUndef(_e)&&(_e=createKeyToOldIdx(n,y,L)),Ce=_e[ue.key],isUndef(Ce)?insertBefore(r,createElm(ue),re.elm):($e=n[Ce],$e.tag!==ue.tag?insertBefore(r,createElm(ue),re.elm):(patchVnode($e,ue),n[Ce]=void 0,insertBefore(r,$e.elm,re.elm))),ue=g[++$]);(y<=L||$<=le)&&(y>L?(Oe=g[le+1]==null?null:g[le+1].elm,addVnodes(r,Oe,g,$,le)):removeVnodes(r,n,y,L))}function patchVnode(r,n){var g=n.elm=r.elm,y=r.children,$=n.children;r!==n&&(updateAttrs$1(r,n),isUndef(n.text)?isDef(y)&&isDef($)?y!==$&&updateChildren(g,y,$):isDef($)?(isDef(r.text)&&setTextContent(g,""),addVnodes(g,null,$,0,$.length-1)):isDef(y)?removeVnodes(g,y,0,y.length-1):isDef(r.text)&&setTextContent(g,""):r.text!==n.text&&(isDef(y)&&removeVnodes(g,y,0,y.length-1),setTextContent(g,n.text)))}function patch(r,n){if(sameVnode(r,n))patchVnode(r,n);else{var g=r.elm,y=parentNode(g);createElm(n),y!==null&&(insertBefore(y,n.elm,nextSibling(g)),removeVnodes(y,[r],0,0))}return n}var svgId=0,SVGPainter=function(){function r(n,g,y){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=g,this._opts=y=extend({},y),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(y.width,y.height),n&&!y.ssr){var $=this._viewport=document.createElement("div");$.style.cssText="position:relative;overflow:hidden";var L=this._svgDom=this._oldVNode.elm=createElement$1("svg");updateAttrs$1(null,this._oldVNode),$.appendChild(L),n.appendChild($)}this.resize(y.width,y.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},r.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},r.prototype.renderToVNode=function(n){n=n||{};var g=this.storage.getDisplayList(!0),y=this._width,$=this._height,L=createBrushScope(this._id);L.animation=n.animation,L.willUpdate=n.willUpdate,L.compress=n.compress,L.emphasis=n.emphasis,L.ssr=this._opts.ssr;var re=[],ae=this._bgVNode=createBackgroundVNode(y,$,this._backgroundColor,L);ae&&re.push(ae);var le=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(g,L,le?le.children:re),le&&re.push(le);var ue=map$1(keys$1(L.defs),function(Ce){return L.defs[Ce]});if(ue.length&&re.push(createVNode("defs","defs",{},ue)),n.animation){var he=getCssString(L.cssNodes,L.cssAnims,{newline:!0});if(he){var _e=createVNode("style","stl",{},[],he);re.push(_e)}}return createSVGVNode(y,$,re,n.useViewBox)},r.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),emphasis:retrieve2(n.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(n,g,y){for(var $=n.length,L=[],re=0,ae,le,ue=0,he=0;he<$;he++){var _e=n[he];if(!_e.invisible){var Ce=_e.__clipPaths,$e=Ce&&Ce.length||0,Oe=le&&le.length||0,xe=void 0;for(xe=Math.max($e-1,Oe-1);xe>=0&&!(Ce&&le&&Ce[xe]===le[xe]);xe--);for(var Ne=Oe-1;Ne>xe;Ne--)re--,ae=L[re-1];for(var Ie=xe+1;Ie<$e;Ie++){var Fe={};setClipPath(Ce[Ie],Fe,g);var Ve=createVNode("g","clip-g-"+ue++,Fe,[]);(ae?ae.children:y).push(Ve),L[re++]=Ve,ae=Ve}le=Ce;var ze=brush(_e,g);ze&&(ae?ae.children:y).push(ze)}}},r.prototype.resize=function(n,g){var y=this._opts,$=this.root,L=this._viewport;if(n!=null&&(y.width=n),g!=null&&(y.height=g),$&&L&&(L.style.display="none",n=getSize$1($,0,y),g=getSize$1($,1,y),L.style.display=""),this._width!==n||this._height!==g){if(this._width=n,this._height=g,L){var re=L.style;re.width=n+"px",re.height=g+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var ae=this._svgDom;ae&&(ae.setAttribute("width",n),ae.setAttribute("height",g));var le=this._bgVNode&&this._bgVNode.elm;le&&(le.setAttribute("width",n),le.setAttribute("height",g))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(n){var g=this.renderToString(),y="data:image/svg+xml;";return n?(g=encodeBase64(g),g&&y+"base64,"+g):y+"charset=UTF-8,"+encodeURIComponent(g)},r}();function createMethodNotSupport(r){return function(){}}function createBackgroundVNode(r,n,g,y){var $;if(g&&g!=="none")if($=createVNode("rect","bg",{width:r,height:n,x:"0",y:"0"}),isGradient(g))setGradient({fill:g},$.attrs,"fill",y);else if(isPattern(g))setPattern({style:{fill:g},dirty:noop,getBoundingRect:function(){return{width:r,height:n}}},$.attrs,"fill",y);else{var L=normalizeColor(g),re=L.color,ae=L.opacity;$.attrs.fill=re,ae<1&&($.attrs["fill-opacity"]=ae)}return $}function install$T(r){r.registerPainter("svg",SVGPainter)}function createDom(r,n,g){var y=platformApi.createCanvas(),$=n.getWidth(),L=n.getHeight(),re=y.style;return re&&(re.position="absolute",re.left="0",re.top="0",re.width=$+"px",re.height=L+"px",y.setAttribute("data-zr-dom-id",r)),y.width=$*g,y.height=L*g,y}var Layer=function(r){__extends(n,r);function n(g,y,$){var L=r.call(this)||this;L.motionBlur=!1,L.lastFrameAlpha=.7,L.dpr=1,L.virtual=!1,L.config={},L.incremental=!1,L.zlevel=0,L.maxRepaintRectCount=5,L.__dirty=!0,L.__firstTimePaint=!0,L.__used=!1,L.__drawIndex=0,L.__startIndex=0,L.__endIndex=0,L.__prevStartIndex=null,L.__prevEndIndex=null;var re;$=$||devicePixelRatio,typeof g=="string"?re=createDom(g,y,$):isObject$3(g)&&(re=g,g=re.id),L.id=g,L.dom=re;var ae=re.style;return ae&&(disableUserSelect(re),re.onselectstart=function(){return!1},ae.padding="0",ae.margin="0",ae.borderWidth="0"),L.painter=y,L.dpr=$,L}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var g=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,g),this.ctxBack=this.domBack.getContext("2d"),g!==1&&this.ctxBack.scale(g,g)},n.prototype.createRepaintRects=function(g,y,$,L){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var re=[],ae=this.maxRepaintRectCount,le=!1,ue=new BoundingRect(0,0,0,0);function he(Fe){if(!(!Fe.isFinite()||Fe.isZero()))if(re.length===0){var Ve=new BoundingRect(0,0,0,0);Ve.copy(Fe),re.push(Ve)}else{for(var ze=!1,Ue=1/0,qe=0,kt=0;kt<re.length;++kt){var Et=re[kt];if(Et.intersect(Fe)){var Pt=new BoundingRect(0,0,0,0);Pt.copy(Et),Pt.union(Fe),re[kt]=Pt,ze=!0;break}else if(le){ue.copy(Fe),ue.union(Et);var At=Fe.width*Fe.height,Dt=Et.width*Et.height,Lt=ue.width*ue.height,hn=Lt-At-Dt;hn<Ue&&(Ue=hn,qe=kt)}}if(le&&(re[qe].union(Fe),ze=!0),!ze){var Ve=new BoundingRect(0,0,0,0);Ve.copy(Fe),re.push(Ve)}le||(le=re.length>=ae)}}for(var _e=this.__startIndex;_e<this.__endIndex;++_e){var Ce=g[_e];if(Ce){var $e=Ce.shouldBePainted($,L,!0,!0),Oe=Ce.__isRendered&&(Ce.__dirty&REDRAW_BIT||!$e)?Ce.getPrevPaintRect():null;Oe&&he(Oe);var xe=$e&&(Ce.__dirty&REDRAW_BIT||!Ce.__isRendered)?Ce.getPaintRect():null;xe&&he(xe)}}for(var _e=this.__prevStartIndex;_e<this.__prevEndIndex;++_e){var Ce=y[_e],$e=Ce&&Ce.shouldBePainted($,L,!0,!0);if(Ce&&(!$e||!Ce.__zr)&&Ce.__isRendered){var Oe=Ce.getPrevPaintRect();Oe&&he(Oe)}}var Ne;do{Ne=!1;for(var _e=0;_e<re.length;){if(re[_e].isZero()){re.splice(_e,1);continue}for(var Ie=_e+1;Ie<re.length;)re[_e].intersect(re[Ie])?(Ne=!0,re[_e].union(re[Ie]),re.splice(Ie,1)):Ie++;_e++}}while(Ne);return this._paintRects=re,re},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(g,y){var $=this.dpr,L=this.dom,re=L.style,ae=this.domBack;re&&(re.width=g+"px",re.height=y+"px"),L.width=g*$,L.height=y*$,ae&&(ae.width=g*$,ae.height=y*$,$!==1&&this.ctxBack.scale($,$))},n.prototype.clear=function(g,y,$){var L=this.dom,re=this.ctx,ae=L.width,le=L.height;y=y||this.clearColor;var ue=this.motionBlur&&!g,he=this.lastFrameAlpha,_e=this.dpr,Ce=this;ue&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(L,0,0,ae/_e,le/_e));var $e=this.domBack;function Oe(xe,Ne,Ie,Fe){if(re.clearRect(xe,Ne,Ie,Fe),y&&y!=="transparent"){var Ve=void 0;if(isGradientObject(y)){var ze=y.global||y.__width===Ie&&y.__height===Fe;Ve=ze&&y.__canvasGradient||getCanvasGradient(re,y,{x:0,y:0,width:Ie,height:Fe}),y.__canvasGradient=Ve,y.__width=Ie,y.__height=Fe}else isImagePatternObject(y)&&(y.scaleX=y.scaleX||_e,y.scaleY=y.scaleY||_e,Ve=createCanvasPattern(re,y,{dirty:function(){Ce.setUnpainted(),Ce.painter.refresh()}}));re.save(),re.fillStyle=Ve||y,re.fillRect(xe,Ne,Ie,Fe),re.restore()}ue&&(re.save(),re.globalAlpha=he,re.drawImage($e,xe,Ne,Ie,Fe),re.restore())}!$||ue?Oe(0,0,ae,le):$.length&&each$f($,function(xe){Oe(xe.x*_e,xe.y*_e,xe.width*_e,xe.height*_e)})},n}(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function createRoot(r,n){var g=document.createElement("div");return g.style.cssText=["position:relative","width:"+r+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",g}var CanvasPainter=function(){function r(n,g,y,$){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var L=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=y=extend({},y||{}),this.dpr=y.devicePixelRatio||devicePixelRatio,this._singleCanvas=L,this.root=n;var re=n.style;re&&(disableUserSelect(n),n.innerHTML=""),this.storage=g;var ae=this._zlevelList;this._prevDisplayList=[];var le=this._layers;if(L){var he=n,_e=he.width,Ce=he.height;y.width!=null&&(_e=y.width),y.height!=null&&(Ce=y.height),this.dpr=y.devicePixelRatio||1,he.width=_e*this.dpr,he.height=Ce*this.dpr,this._width=_e,this._height=Ce;var $e=new Layer(he,this,this.dpr);$e.__builtin__=!0,$e.initContext(),le[CANVAS_ZLEVEL]=$e,$e.zlevel=CANVAS_ZLEVEL,ae.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize$1(n,0,y),this._height=getSize$1(n,1,y);var ue=this._domRoot=createRoot(this._width,this._height);n.appendChild(ue)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},r.prototype.refresh=function(n){var g=this.storage.getDisplayList(!0),y=this._prevDisplayList,$=this._zlevelList;this._redrawId=Math.random(),this._paintList(g,y,n,this._redrawId);for(var L=0;L<$.length;L++){var re=$[L],ae=this._layers[re];if(!ae.__builtin__&&ae.refresh){var le=L===0?this._backgroundColor:null;ae.refresh(le)}}return this._opts.useDirtyRect&&(this._prevDisplayList=g.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(n){var g=n.length,y=this._hoverlayer;if(y&&y.clear(),!!g){for(var $={inHover:!0,viewWidth:this._width,viewHeight:this._height},L,re=0;re<g;re++){var ae=n[re];ae.__inHover&&(y||(y=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),L||(L=y.ctx,L.save()),brush$1(L,ae,$,re===g-1))}L&&L.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},r.prototype.paintOne=function(n,g){brushSingle(n,g)},r.prototype._paintList=function(n,g,y,$){if(this._redrawId===$){y=y||!1,this._updateLayerStatus(n);var L=this._doPaintList(n,g,y),re=L.finished,ae=L.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),ae&&this._paintHoverList(n),re)this.eachLayer(function(ue){ue.afterBrush&&ue.afterBrush()});else{var le=this;requestAnimationFrame$1(function(){le._paintList(n,g,y,$)})}}},r.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,g=this._domRoot.width,y=this._domRoot.height;n.clearRect(0,0,g,y),this.eachBuiltinLayer(function($){$.virtual&&n.drawImage($.dom,0,0,g,y)})},r.prototype._doPaintList=function(n,g,y){for(var $=this,L=[],re=this._opts.useDirtyRect,ae=0;ae<this._zlevelList.length;ae++){var le=this._zlevelList[ae],ue=this._layers[le];ue.__builtin__&&ue!==this._hoverlayer&&(ue.__dirty||y)&&L.push(ue)}for(var he=!0,_e=!1,Ce=function(xe){var Ne=L[xe],Ie=Ne.ctx,Fe=re&&Ne.createRepaintRects(n,g,$e._width,$e._height),Ve=y?Ne.__startIndex:Ne.__drawIndex,ze=!y&&Ne.incremental&&Date.now,Ue=ze&&Date.now(),qe=Ne.zlevel===$e._zlevelList[0]?$e._backgroundColor:null;if(Ne.__startIndex===Ne.__endIndex)Ne.clear(!1,qe,Fe);else if(Ve===Ne.__startIndex){var kt=n[Ve];(!kt.incremental||!kt.notClear||y)&&Ne.clear(!1,qe,Fe)}Ve===-1&&(console.error("For some unknown reason. drawIndex is -1"),Ve=Ne.__startIndex);var Et,Pt=function(hn){var _n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:$._width,viewHeight:$._height};for(Et=Ve;Et<Ne.__endIndex;Et++){var vn=n[Et];if(vn.__inHover&&(_e=!0),$._doPaintEl(vn,Ne,re,hn,_n,Et===Ne.__endIndex-1),ze){var jt=Date.now()-Ue;if(jt>15)break}}_n.prevElClipPaths&&Ie.restore()};if(Fe)if(Fe.length===0)Et=Ne.__endIndex;else for(var At=$e.dpr,Dt=0;Dt<Fe.length;++Dt){var Lt=Fe[Dt];Ie.save(),Ie.beginPath(),Ie.rect(Lt.x*At,Lt.y*At,Lt.width*At,Lt.height*At),Ie.clip(),Pt(Lt),Ie.restore()}else Ie.save(),Pt(),Ie.restore();Ne.__drawIndex=Et,Ne.__drawIndex<Ne.__endIndex&&(he=!1)},$e=this,Oe=0;Oe<L.length;Oe++)Ce(Oe);return env.wxa&&each$f(this._layers,function(xe){xe&&xe.ctx&&xe.ctx.draw&&xe.ctx.draw()}),{finished:he,needsRefreshHover:_e}},r.prototype._doPaintEl=function(n,g,y,$,L,re){var ae=g.ctx;if(y){var le=n.getPaintRect();(!$||le&&le.intersect($))&&(brush$1(ae,n,L,re),n.setPrevPaintRect(le))}else brush$1(ae,n,L,re)},r.prototype.getLayer=function(n,g){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var y=this._layers[n];return y||(y=new Layer("zr_"+n,this,this.dpr),y.zlevel=n,y.__builtin__=!0,this._layerConfig[n]?merge$1(y,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge$1(y,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),g&&(y.virtual=g),this.insertLayer(n,y),y.initContext()),y},r.prototype.insertLayer=function(n,g){var y=this._layers,$=this._zlevelList,L=$.length,re=this._domRoot,ae=null,le=-1;if(!y[n]&&isLayerValid(g)){if(L>0&&n>$[0]){for(le=0;le<L-1&&!($[le]<n&&$[le+1]>n);le++);ae=y[$[le]]}if($.splice(le+1,0,n),y[n]=g,!g.virtual)if(ae){var ue=ae.dom;ue.nextSibling?re.insertBefore(g.dom,ue.nextSibling):re.appendChild(g.dom)}else re.firstChild?re.insertBefore(g.dom,re.firstChild):re.appendChild(g.dom);g.painter||(g.painter=this)}},r.prototype.eachLayer=function(n,g){for(var y=this._zlevelList,$=0;$<y.length;$++){var L=y[$];n.call(g,this._layers[L],L)}},r.prototype.eachBuiltinLayer=function(n,g){for(var y=this._zlevelList,$=0;$<y.length;$++){var L=y[$],re=this._layers[L];re.__builtin__&&n.call(g,re,L)}},r.prototype.eachOtherLayer=function(n,g){for(var y=this._zlevelList,$=0;$<y.length;$++){var L=y[$],re=this._layers[L];re.__builtin__||n.call(g,re,L)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(_e,Ce){_e.__dirty=_e.__used=!1});function g(_e){L&&(L.__endIndex!==_e&&(L.__dirty=!0),L.__endIndex=_e)}if(this._singleCanvas)for(var y=1;y<n.length;y++){var $=n[y];if($.zlevel!==n[y-1].zlevel||$.incremental){this._needsManuallyCompositing=!0;break}}var L=null,re=0,ae,le;for(le=0;le<n.length;le++){var $=n[le],ue=$.zlevel,he=void 0;ae!==ue&&(ae=ue,re=0),$.incremental?(he=this.getLayer(ue+INCREMENTAL_INC,this._needsManuallyCompositing),he.incremental=!0,re=1):he=this.getLayer(ue+(re>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),he.__builtin__||logError("ZLevel "+ue+" has been used by unkown layer "+he.id),he!==L&&(he.__used=!0,he.__startIndex!==le&&(he.__dirty=!0),he.__startIndex=le,he.incremental?he.__drawIndex=-1:he.__drawIndex=le,g(le),L=he),$.__dirty&REDRAW_BIT&&!$.__inHover&&(he.__dirty=!0,he.incremental&&he.__drawIndex<0&&(he.__drawIndex=le))}g(le),this.eachBuiltinLayer(function(_e,Ce){!_e.__used&&_e.getElementCount()>0&&(_e.__dirty=!0,_e.__startIndex=_e.__endIndex=_e.__drawIndex=0),_e.__dirty&&_e.__drawIndex<0&&(_e.__drawIndex=_e.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(n){n.clear()},r.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$f(this._layers,function(g){g.setUnpainted()})},r.prototype.configLayer=function(n,g){if(g){var y=this._layerConfig;y[n]?merge$1(y[n],g,!0):y[n]=g;for(var $=0;$<this._zlevelList.length;$++){var L=this._zlevelList[$];if(L===n||L===n+EL_AFTER_INCREMENTAL_INC){var re=this._layers[L];merge$1(re,y[n],!0)}}}},r.prototype.delLayer=function(n){var g=this._layers,y=this._zlevelList,$=g[n];$&&($.dom.parentNode.removeChild($.dom),delete g[n],y.splice(indexOf(y,n),1))},r.prototype.resize=function(n,g){if(this._domRoot.style){var y=this._domRoot;y.style.display="none";var $=this._opts,L=this.root;if(n!=null&&($.width=n),g!=null&&($.height=g),n=getSize$1(L,0,$),g=getSize$1(L,1,$),y.style.display="",this._width!==n||g!==this._height){y.style.width=n+"px",y.style.height=g+"px";for(var re in this._layers)this._layers.hasOwnProperty(re)&&this._layers[re].resize(n,g);this.refresh(!0)}this._width=n,this._height=g}else{if(n==null||g==null)return;this._width=n,this._height=g,this.getLayer(CANVAS_ZLEVEL).resize(n,g)}return this},r.prototype.clearLayer=function(n){var g=this._layers[n];g&&g.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var g=new Layer("image",this,n.pixelRatio||this.dpr);g.initContext(),g.clear(!1,n.backgroundColor||this._backgroundColor);var y=g.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var $=g.dom.width,L=g.dom.height;this.eachLayer(function(_e){_e.__builtin__?y.drawImage(_e.dom,0,0,$,L):_e.renderToCanvas&&(y.save(),_e.renderToCanvas(y),y.restore())})}else for(var re={inHover:!1,viewWidth:this._width,viewHeight:this._height},ae=this.storage.getDisplayList(!0),le=0,ue=ae.length;le<ue;le++){var he=ae[le];brush$1(y,he,re,le===ue-1)}return g.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function install$S(r){r.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.hasSymbolVisual=!0,g}return n.prototype.getInitialData=function(g){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(g){var y=new Group$3,$=createSymbol$1("line",0,g.itemHeight/2,g.itemWidth,0,g.lineStyle.stroke,!1);y.add($),$.setStyle(g.lineStyle);var L=this.getData().getVisual("symbol"),re=this.getData().getVisual("symbolRotate"),ae=L==="none"?"circle":L,le=g.itemHeight*.8,ue=createSymbol$1(ae,(g.itemWidth-le)/2,(g.itemHeight-le)/2,le,le,g.itemStyle.fill);y.add(ue),ue.setStyle(g.itemStyle);var he=g.iconRotate==="inherit"?re:g.iconRotate||0;return ue.rotation=he*Math.PI/180,ue.setOrigin([g.itemWidth/2,g.itemHeight/2]),ae.indexOf("empty")>-1&&(ue.style.stroke=ue.style.fill,ue.style.fill="#fff",ue.style.lineWidth=2),y},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel);function getDefaultLabel(r,n){var g=r.mapDimensionsAll("defaultedLabel"),y=g.length;if(y===1){var $=retrieveRawValue(r,n,g[0]);return $!=null?$+"":null}else if(y){for(var L=[],re=0;re<g.length;re++)L.push(retrieveRawValue(r,n,g[re]));return L.join(" ")}}function getDefaultInterpolatedLabel(r,n){var g=r.mapDimensionsAll("defaultedLabel");if(!isArray$2(n))return n+"";for(var y=[],$=0;$<g.length;$++){var L=r.getDimensionIndex(g[$]);L>=0&&y.push(n[L])}return y.join(" ")}var Symbol$1=function(r){__extends$1(n,r);function n(g,y,$,L){var re=r.call(this)||this;return re.updateData(g,y,$,L),re}return n.prototype._createSymbol=function(g,y,$,L,re){this.removeAll();var ae=createSymbol$1(g,-1,-1,2,2,null,re);ae.attr({z2:100,culling:!0,scaleX:L[0]/2,scaleY:L[1]/2}),ae.drift=driftSymbol,this._symbolType=g,this.add(ae)},n.prototype.stopSymbolAnimation=function(g){this.childAt(0).stopAnimation(null,g)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(g,y){var $=this.childAt(0);$.zlevel=g,$.z=y},n.prototype.setDraggable=function(g,y){var $=this.childAt(0);$.draggable=g,$.cursor=!y&&g?"move":$.cursor},n.prototype.updateData=function(g,y,$,L){this.silent=!1;var re=g.getItemVisual(y,"symbol")||"circle",ae=g.hostModel,le=n.getSymbolSize(g,y),ue=re!==this._symbolType,he=L&&L.disableAnimation;if(ue){var _e=g.getItemVisual(y,"symbolKeepAspect");this._createSymbol(re,g,y,le,_e)}else{var Ce=this.childAt(0);Ce.silent=!1;var $e={scaleX:le[0]/2,scaleY:le[1]/2};he?Ce.attr($e):updateProps$1(Ce,$e,ae,y),saveOldStyle(Ce)}if(this._updateCommon(g,y,le,$,L),ue){var Ce=this.childAt(0);if(!he){var $e={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:Ce.style.opacity}};Ce.scaleX=Ce.scaleY=0,Ce.style.opacity=0,initProps(Ce,$e,ae,y)}}he&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(g,y,$,L,re){var ae=this.childAt(0),le=g.hostModel,ue,he,_e,Ce,$e,Oe,xe,Ne,Ie;if(L&&(ue=L.emphasisItemStyle,he=L.blurItemStyle,_e=L.selectItemStyle,Ce=L.focus,$e=L.blurScope,xe=L.labelStatesModels,Ne=L.hoverScale,Ie=L.cursorStyle,Oe=L.emphasisDisabled),!L||g.hasItemOption){var Fe=L&&L.itemModel?L.itemModel:g.getItemModel(y),Ve=Fe.getModel("emphasis");ue=Ve.getModel("itemStyle").getItemStyle(),_e=Fe.getModel(["select","itemStyle"]).getItemStyle(),he=Fe.getModel(["blur","itemStyle"]).getItemStyle(),Ce=Ve.get("focus"),$e=Ve.get("blurScope"),Oe=Ve.get("disabled"),xe=getLabelStatesModels(Fe),Ne=Ve.getShallow("scale"),Ie=Fe.getShallow("cursor")}var ze=g.getItemVisual(y,"symbolRotate");ae.attr("rotation",(ze||0)*Math.PI/180||0);var Ue=normalizeSymbolOffset(g.getItemVisual(y,"symbolOffset"),$);Ue&&(ae.x=Ue[0],ae.y=Ue[1]),Ie&&ae.attr("cursor",Ie);var qe=g.getItemVisual(y,"style"),kt=qe.fill;if(ae instanceof ZRImage){var Et=ae.style;ae.useStyle(extend({image:Et.image,x:Et.x,y:Et.y,width:Et.width,height:Et.height},qe))}else ae.__isEmptyBrush?ae.useStyle(extend({},qe)):ae.useStyle(qe),ae.style.decal=null,ae.setColor(kt,re&&re.symbolInnerColor),ae.style.strokeNoScale=!0;var Pt=g.getItemVisual(y,"liftZ"),At=this._z2;Pt!=null?At==null&&(this._z2=ae.z2,ae.z2+=Pt):At!=null&&(ae.z2=At,this._z2=null);var Dt=re&&re.useNameLabel;setLabelStyle(ae,xe,{labelFetcher:le,labelDataIndex:y,defaultText:Lt,inheritColor:kt,defaultOpacity:qe.opacity});function Lt(vn){return Dt?g.getName(vn):getDefaultLabel(g,vn)}this._sizeX=$[0]/2,this._sizeY=$[1]/2;var hn=ae.ensureState("emphasis");hn.style=ue,ae.ensureState("select").style=_e,ae.ensureState("blur").style=he;var _n=Ne==null||Ne===!0?Math.max(1.1,3/this._sizeY):isFinite(Ne)&&Ne>0?+Ne:1;hn.scaleX=this._sizeX*_n,hn.scaleY=this._sizeY*_n,this.setSymbolScale(1),toggleHoverEmphasis(this,Ce,$e,Oe)},n.prototype.setSymbolScale=function(g){this.scaleX=this.scaleY=g},n.prototype.fadeOut=function(g,y,$){var L=this.childAt(0),re=getECData(this).dataIndex,ae=$&&$.animation;if(this.silent=L.silent=!0,$&&$.fadeLabel){var le=L.getTextContent();le&&removeElement(le,{style:{opacity:0}},y,{dataIndex:re,removeOpt:ae,cb:function(){L.removeTextContent()}})}else L.removeTextContent();removeElement(L,{style:{opacity:0},scaleX:0,scaleY:0},y,{dataIndex:re,cb:g,removeOpt:ae})},n.getSymbolSize=function(g,y){return normalizeSymbolSize(g.getItemVisual(y,"symbolSize"))},n}(Group$3);function driftSymbol(r,n){this.parent.drift(r,n)}function symbolNeedsDraw$1(r,n,g,y){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(y.isIgnore&&y.isIgnore(g))&&!(y.clipShape&&!y.clipShape.contain(n[0],n[1]))&&r.getItemVisual(g,"symbol")!=="none"}function normalizeUpdateOpt(r){return r!=null&&!isObject$3(r)&&(r={isIgnore:r}),r||{}}function makeSeriesScope$2(r){var n=r.hostModel,g=n.getModel("emphasis");return{emphasisItemStyle:g.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:g.get("focus"),blurScope:g.get("blurScope"),emphasisDisabled:g.get("disabled"),hoverScale:g.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function r(n){this.group=new Group$3,this._SymbolCtor=n||Symbol$1}return r.prototype.updateData=function(n,g){this._progressiveEls=null,g=normalizeUpdateOpt(g);var y=this.group,$=n.hostModel,L=this._data,re=this._SymbolCtor,ae=g.disableAnimation,le=makeSeriesScope$2(n),ue={disableAnimation:ae},he=g.getSymbolPoint||function(_e){return n.getItemLayout(_e)};L||y.removeAll(),n.diff(L).add(function(_e){var Ce=he(_e);if(symbolNeedsDraw$1(n,Ce,_e,g)){var $e=new re(n,_e,le,ue);$e.setPosition(Ce),n.setItemGraphicEl(_e,$e),y.add($e)}}).update(function(_e,Ce){var $e=L.getItemGraphicEl(Ce),Oe=he(_e);if(!symbolNeedsDraw$1(n,Oe,_e,g)){y.remove($e);return}var xe=n.getItemVisual(_e,"symbol")||"circle",Ne=$e&&$e.getSymbolType&&$e.getSymbolType();if(!$e||Ne&&Ne!==xe)y.remove($e),$e=new re(n,_e,le,ue),$e.setPosition(Oe);else{$e.updateData(n,_e,le,ue);var Ie={x:Oe[0],y:Oe[1]};ae?$e.attr(Ie):updateProps$1($e,Ie,$)}y.add($e),n.setItemGraphicEl(_e,$e)}).remove(function(_e){var Ce=L.getItemGraphicEl(_e);Ce&&Ce.fadeOut(function(){y.remove(Ce)},$)}).execute(),this._getSymbolPoint=he,this._data=n},r.prototype.updateLayout=function(){var n=this,g=this._data;g&&g.eachItemGraphicEl(function(y,$){var L=n._getSymbolPoint($);y.setPosition(L),y.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$2(n),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(n,g,y){this._progressiveEls=[],y=normalizeUpdateOpt(y);function $(le){le.isGroup||(le.incremental=!0,le.ensureState("emphasis").hoverLayer=!0)}for(var L=n.start;L<n.end;L++){var re=g.getItemLayout(L);if(symbolNeedsDraw$1(g,re,L,y)){var ae=new this._SymbolCtor(g,L,this._seriesScope);ae.traverse($),ae.setPosition(re),this.group.add(ae),g.setItemGraphicEl(L,ae),this._progressiveEls.push(ae)}}},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype.remove=function(n){var g=this.group,y=this._data;y&&n?y.eachItemGraphicEl(function($){$.fadeOut(function(){g.remove($)},y.hostModel)}):g.removeAll()},r}();function prepareDataCoordInfo(r,n,g){var y=r.getBaseAxis(),$=r.getOtherAxis(y),L=getValueStart($,g),re=y.dim,ae=$.dim,le=n.mapDimension(ae),ue=n.mapDimension(re),he=ae==="x"||ae==="radius"?1:0,_e=map$1(r.dimensions,function(Oe){return n.mapDimension(Oe)}),Ce=!1,$e=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,_e[0])&&(Ce=!0,_e[0]=$e),isDimensionStacked(n,_e[1])&&(Ce=!0,_e[1]=$e),{dataDimsForPoint:_e,valueStart:L,valueAxisDim:ae,baseAxisDim:re,stacked:!!Ce,valueDim:le,baseDim:ue,baseDataOffset:he,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(r,n){var g=0,y=r.scale.getExtent();return n==="start"?g=y[0]:n==="end"?g=y[1]:isNumber$1(n)&&!isNaN(n)?g=n:y[0]>0?g=y[0]:y[1]<0&&(g=y[1]),g}function getStackedOnPoint(r,n,g,y){var $=NaN;r.stacked&&($=g.get(g.getCalculationInfo("stackedOverDimension"),y)),isNaN($)&&($=r.valueStart);var L=r.baseDataOffset,re=[];return re[L]=g.get(r.baseDim,y),re[1-L]=$,n.dataToPoint(re)}function diffData(r,n){var g=[];return n.diff(r).add(function(y){g.push({cmd:"+",idx:y})}).update(function(y,$){g.push({cmd:"=",idx:$,idx1:y})}).remove(function(y){g.push({cmd:"-",idx:y})}).execute(),g}function lineAnimationDiff(r,n,g,y,$,L,re,ae){for(var le=diffData(r,n),ue=[],he=[],_e=[],Ce=[],$e=[],Oe=[],xe=[],Ne=prepareDataCoordInfo($,n,re),Ie=r.getLayout("points")||[],Fe=n.getLayout("points")||[],Ve=0;Ve<le.length;Ve++){var ze=le[Ve],Ue=!0,qe=void 0,kt=void 0;switch(ze.cmd){case"=":qe=ze.idx*2,kt=ze.idx1*2;var Et=Ie[qe],Pt=Ie[qe+1],At=Fe[kt],Dt=Fe[kt+1];(isNaN(Et)||isNaN(Pt))&&(Et=At,Pt=Dt),ue.push(Et,Pt),he.push(At,Dt),_e.push(g[qe],g[qe+1]),Ce.push(y[kt],y[kt+1]),xe.push(n.getRawIndex(ze.idx1));break;case"+":var Lt=ze.idx,hn=Ne.dataDimsForPoint,_n=$.dataToPoint([n.get(hn[0],Lt),n.get(hn[1],Lt)]);kt=Lt*2,ue.push(_n[0],_n[1]),he.push(Fe[kt],Fe[kt+1]);var vn=getStackedOnPoint(Ne,$,n,Lt);_e.push(vn[0],vn[1]),Ce.push(y[kt],y[kt+1]),xe.push(n.getRawIndex(Lt));break;case"-":Ue=!1}Ue&&($e.push(ze),Oe.push(Oe.length))}Oe.sort(function(An,Rn){return xe[An]-xe[Rn]});for(var jt=ue.length,$n=createFloat32Array(jt),Sn=createFloat32Array(jt),bn=createFloat32Array(jt),wn=createFloat32Array(jt),On=[],Ve=0;Ve<Oe.length;Ve++){var Tn=Oe[Ve],xn=Ve*2,Pn=Tn*2;$n[xn]=ue[Pn],$n[xn+1]=ue[Pn+1],Sn[xn]=he[Pn],Sn[xn+1]=he[Pn+1],bn[xn]=_e[Pn],bn[xn+1]=_e[Pn+1],wn[xn]=Ce[Pn],wn[xn+1]=Ce[Pn+1],On[Ve]=$e[Tn]}return{current:$n,next:Sn,stackedOnCurrent:bn,stackedOnNext:wn,status:On}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(r,n){return isNaN(r)||isNaN(n)}function drawSegment(r,n,g,y,$,L,re,ae,le){for(var ue,he,_e,Ce,$e,Oe,xe=g,Ne=0;Ne<y;Ne++){var Ie=n[xe*2],Fe=n[xe*2+1];if(xe>=$||xe<0)break;if(isPointNull$1(Ie,Fe)){if(le){xe+=L;continue}break}if(xe===g)r[L>0?"moveTo":"lineTo"](Ie,Fe),_e=Ie,Ce=Fe;else{var Ve=Ie-ue,ze=Fe-he;if(Ve*Ve+ze*ze<.5){xe+=L;continue}if(re>0){for(var Ue=xe+L,qe=n[Ue*2],kt=n[Ue*2+1];qe===Ie&&kt===Fe&&Ne<y;)Ne++,Ue+=L,xe+=L,qe=n[Ue*2],kt=n[Ue*2+1],Ie=n[xe*2],Fe=n[xe*2+1],Ve=Ie-ue,ze=Fe-he;var Et=Ne+1;if(le)for(;isPointNull$1(qe,kt)&&Et<y;)Et++,Ue+=L,qe=n[Ue*2],kt=n[Ue*2+1];var Pt=.5,At=0,Dt=0,Lt=void 0,hn=void 0;if(Et>=y||isPointNull$1(qe,kt))$e=Ie,Oe=Fe;else{At=qe-ue,Dt=kt-he;var _n=Ie-ue,vn=qe-Ie,jt=Fe-he,$n=kt-Fe,Sn=void 0,bn=void 0;if(ae==="x"){Sn=Math.abs(_n),bn=Math.abs(vn);var wn=At>0?1:-1;$e=Ie-wn*Sn*re,Oe=Fe,Lt=Ie+wn*bn*re,hn=Fe}else if(ae==="y"){Sn=Math.abs(jt),bn=Math.abs($n);var On=Dt>0?1:-1;$e=Ie,Oe=Fe-On*Sn*re,Lt=Ie,hn=Fe+On*bn*re}else Sn=Math.sqrt(_n*_n+jt*jt),bn=Math.sqrt(vn*vn+$n*$n),Pt=bn/(bn+Sn),$e=Ie-At*re*(1-Pt),Oe=Fe-Dt*re*(1-Pt),Lt=Ie+At*re*Pt,hn=Fe+Dt*re*Pt,Lt=mathMin$5(Lt,mathMax$5(qe,Ie)),hn=mathMin$5(hn,mathMax$5(kt,Fe)),Lt=mathMax$5(Lt,mathMin$5(qe,Ie)),hn=mathMax$5(hn,mathMin$5(kt,Fe)),At=Lt-Ie,Dt=hn-Fe,$e=Ie-At*Sn/bn,Oe=Fe-Dt*Sn/bn,$e=mathMin$5($e,mathMax$5(ue,Ie)),Oe=mathMin$5(Oe,mathMax$5(he,Fe)),$e=mathMax$5($e,mathMin$5(ue,Ie)),Oe=mathMax$5(Oe,mathMin$5(he,Fe)),At=Ie-$e,Dt=Fe-Oe,Lt=Ie+At*bn/Sn,hn=Fe+Dt*bn/Sn}r.bezierCurveTo(_e,Ce,$e,Oe,Ie,Fe),_e=Lt,Ce=hn}else r.lineTo(Ie,Fe)}ue=Ie,he=Fe,xe+=L}return Ne}var ECPolylineShape=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ECPolyline=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="ec-polyline",y}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(g,y){var $=y.points,L=0,re=$.length/2;if(y.connectNulls){for(;re>0&&isPointNull$1($[re*2-2],$[re*2-1]);re--);for(;L<re&&isPointNull$1($[L*2],$[L*2+1]);L++);}for(;L<re;)L+=drawSegment(g,$,L,re,re,1,y.smooth,y.smoothMonotone,y.connectNulls)+1},n.prototype.getPointOn=function(g,y){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var $=this.path,L=$.data,re=PathProxy.CMD,ae,le,ue=y==="x",he=[],_e=0;_e<L.length;){var Ce=L[_e++],$e=void 0,Oe=void 0,xe=void 0,Ne=void 0,Ie=void 0,Fe=void 0,Ve=void 0;switch(Ce){case re.M:ae=L[_e++],le=L[_e++];break;case re.L:if($e=L[_e++],Oe=L[_e++],Ve=ue?(g-ae)/($e-ae):(g-le)/(Oe-le),Ve<=1&&Ve>=0){var ze=ue?(Oe-le)*Ve+le:($e-ae)*Ve+ae;return ue?[g,ze]:[ze,g]}ae=$e,le=Oe;break;case re.C:$e=L[_e++],Oe=L[_e++],xe=L[_e++],Ne=L[_e++],Ie=L[_e++],Fe=L[_e++];var Ue=ue?cubicRootAt(ae,$e,xe,Ie,g,he):cubicRootAt(le,Oe,Ne,Fe,g,he);if(Ue>0)for(var qe=0;qe<Ue;qe++){var kt=he[qe];if(kt<=1&&kt>=0){var ze=ue?cubicAt(le,Oe,Ne,Fe,kt):cubicAt(ae,$e,xe,Ie,kt);return ue?[g,ze]:[ze,g]}}ae=Ie,le=Fe;break}}},n}(Path),ECPolygonShape=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="ec-polygon",y}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(g,y){var $=y.points,L=y.stackedOnPoints,re=0,ae=$.length/2,le=y.smoothMonotone;if(y.connectNulls){for(;ae>0&&isPointNull$1($[ae*2-2],$[ae*2-1]);ae--);for(;re<ae&&isPointNull$1($[re*2],$[re*2+1]);re++);}for(;re<ae;){var ue=drawSegment(g,$,re,ae,ae,1,y.smooth,le,y.connectNulls);drawSegment(g,L,re+ue-1,ue,ae,-1,y.stackedOnSmooth,le,y.connectNulls),re+=ue+1,g.closePath()}},n}(Path);function createGridClipPath(r,n,g,y,$){var L=r.getArea(),re=L.x,ae=L.y,le=L.width,ue=L.height,he=g.get(["lineStyle","width"])||0;re-=he/2,ae-=he/2,le+=he,ue+=he,le=Math.ceil(le),re!==Math.floor(re)&&(re=Math.floor(re),le++);var _e=new Rect$2({shape:{x:re,y:ae,width:le,height:ue}});if(n){var Ce=r.getBaseAxis(),$e=Ce.isHorizontal(),Oe=Ce.inverse;$e?(Oe&&(_e.shape.x+=le),_e.shape.width=0):(Oe||(_e.shape.y+=ue),_e.shape.height=0);var xe=isFunction($)?function(Ne){$(Ne,_e)}:null;initProps(_e,{shape:{width:le,height:ue,x:re,y:ae}},g,null,y,xe)}return _e}function createPolarClipPath(r,n,g){var y=r.getArea(),$=round$4(y.r0,1),L=round$4(y.r,1),re=new Sector({shape:{cx:round$4(r.cx,1),cy:round$4(r.cy,1),r0:$,r:L,startAngle:y.startAngle,endAngle:y.endAngle,clockwise:y.clockwise}});if(n){var ae=r.getBaseAxis().dim==="angle";ae?re.shape.endAngle=y.startAngle:re.shape.r=$,initProps(re,{shape:{endAngle:y.endAngle,r:L}},g)}return re}function createClipPath(r,n,g,y,$){if(r){if(r.type==="polar")return createPolarClipPath(r,n,g);if(r.type==="cartesian2d")return createGridClipPath(r,n,g,y,$)}else return null;return null}function isCoordinateSystemType(r,n){return r.type===n}function isPointsSame(r,n){if(r.length===n.length){for(var g=0;g<r.length;g++)if(r[g]!==n[g])return;return!0}}function bboxFromPoints(r){for(var n=1/0,g=1/0,y=-1/0,$=-1/0,L=0;L<r.length;){var re=r[L++],ae=r[L++];isNaN(re)||(n=Math.min(re,n),y=Math.max(re,y)),isNaN(ae)||(g=Math.min(ae,g),$=Math.max(ae,$))}return[[n,g],[y,$]]}function getBoundingDiff(r,n){var g=bboxFromPoints(r),y=g[0],$=g[1],L=bboxFromPoints(n),re=L[0],ae=L[1];return Math.max(Math.abs(y[0]-re[0]),Math.abs(y[1]-re[1]),Math.abs($[0]-ae[0]),Math.abs($[1]-ae[1]))}function getSmooth(r){return isNumber$1(r)?r:r?.5:0}function getStackedOnPoints(r,n,g){if(!g.valueDim)return[];for(var y=n.count(),$=createFloat32Array(y*2),L=0;L<y;L++){var re=getStackedOnPoint(g,r,n,L);$[L*2]=re[0],$[L*2+1]=re[1]}return $}function turnPointsIntoStep(r,n,g,y,$){var L=g.getBaseAxis(),re=L.dim==="x"||L.dim==="radius"?0:1,ae=[],le=0,ue=[],he=[],_e=[],Ce=[];if($){for(le=0;le<r.length;le+=2){var $e=n||r;!isNaN($e[le])&&!isNaN($e[le+1])&&Ce.push(r[le],r[le+1])}r=Ce}for(le=0;le<r.length-2;le+=2)switch(_e[0]=r[le+2],_e[1]=r[le+3],he[0]=r[le],he[1]=r[le+1],ae.push(he[0],he[1]),y){case"end":ue[re]=_e[re],ue[1-re]=he[1-re],ae.push(ue[0],ue[1]);break;case"middle":var Oe=(he[re]+_e[re])/2,xe=[];ue[re]=xe[re]=Oe,ue[1-re]=he[1-re],xe[1-re]=_e[1-re],ae.push(ue[0],ue[1]),ae.push(xe[0],xe[1]);break;default:ue[re]=he[re],ue[1-re]=_e[1-re],ae.push(ue[0],ue[1])}return ae.push(r[le++],r[le++]),ae}function clipColorStops(r,n){var g=[],y=r.length,$,L;function re(he,_e,Ce){var $e=he.coord,Oe=(Ce-$e)/(_e.coord-$e),xe=lerp(Oe,[he.color,_e.color]);return{coord:Ce,color:xe}}for(var ae=0;ae<y;ae++){var le=r[ae],ue=le.coord;if(ue<0)$=le;else if(ue>n){L?g.push(re(L,le,n)):$&&g.push(re($,le,0),re($,le,n));break}else $&&(g.push(re($,le,0)),$=null),g.push(le),L=le}return g}function getVisualGradient(r,n,g){var y=r.getVisual("visualMeta");if(!(!y||!y.length||!r.count())&&n.type==="cartesian2d"){for(var $,L,re=y.length-1;re>=0;re--){var ae=r.getDimensionInfo(y[re].dimension);if($=ae&&ae.coordDim,$==="x"||$==="y"){L=y[re];break}}if(L){var le=n.getAxis($),ue=map$1(L.stops,function(Ve){return{coord:le.toGlobalCoord(le.dataToCoord(Ve.value)),color:Ve.color}}),he=ue.length,_e=L.outerColors.slice();he&&ue[0].coord>ue[he-1].coord&&(ue.reverse(),_e.reverse());var Ce=clipColorStops(ue,$==="x"?g.getWidth():g.getHeight()),$e=Ce.length;if(!$e&&he)return ue[0].coord<0?_e[1]?_e[1]:ue[he-1].color:_e[0]?_e[0]:ue[0].color;var Oe=10,xe=Ce[0].coord-Oe,Ne=Ce[$e-1].coord+Oe,Ie=Ne-xe;if(Ie<.001)return"transparent";each$f(Ce,function(Ve){Ve.offset=(Ve.coord-xe)/Ie}),Ce.push({offset:$e?Ce[$e-1].offset:.5,color:_e[1]||"transparent"}),Ce.unshift({offset:$e?Ce[0].offset:.5,color:_e[0]||"transparent"});var Fe=new LinearGradient(0,0,0,0,Ce,!0);return Fe[$]=xe,Fe[$+"2"]=Ne,Fe}}}function getIsIgnoreFunc(r,n,g){var y=r.get("showAllSymbol"),$=y==="auto";if(!(y&&!$)){var L=g.getAxesByScale("ordinal")[0];if(L&&!($&&canShowAllSymbolForCategory(L,n))){var re=n.mapDimension(L.dim),ae={};return each$f(L.getViewLabels(),function(le){var ue=L.scale.getRawOrdinalNumber(le.tickValue);ae[ue]=1}),function(le){return!ae.hasOwnProperty(n.get(re,le))}}}}function canShowAllSymbolForCategory(r,n){var g=r.getExtent(),y=Math.abs(g[1]-g[0])/r.scale.count();isNaN(y)&&(y=0);for(var $=n.count(),L=Math.max(1,Math.round($/5)),re=0;re<$;re+=L)if(Symbol$1.getSymbolSize(n,re)[r.isHorizontal()?1:0]*1.5>y)return!1;return!0}function isPointNull(r,n){return isNaN(r)||isNaN(n)}function getLastIndexNotNull(r){for(var n=r.length/2;n>0&&isPointNull(r[n*2-2],r[n*2-1]);n--);return n-1}function getPointAtIndex(r,n){return[r[n*2],r[n*2+1]]}function getIndexRange(r,n,g){for(var y=r.length/2,$=g==="x"?0:1,L,re,ae=0,le=-1,ue=0;ue<y;ue++)if(re=r[ue*2+$],!(isNaN(re)||isNaN(r[ue*2+1-$]))){if(ue===0){L=re;continue}if(L<=n&&re>=n||L>=n&&re<=n){le=ue;break}ae=ue,L=re}return{range:[ae,le],t:(n-L)/(re-L)}}function anyStateShowEndLabel(r){if(r.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(r.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(r,n,g,y){if(isCoordinateSystemType(n,"cartesian2d")){var $=y.getModel("endLabel"),L=$.get("valueAnimation"),re=y.getData(),ae={lastFrameIndex:0},le=anyStateShowEndLabel(y)?function($e,Oe){r._endLabelOnDuring($e,Oe,re,ae,L,$,n)}:null,ue=n.getBaseAxis().isHorizontal(),he=createGridClipPath(n,g,y,function(){var $e=r._endLabel;$e&&g&&ae.originalX!=null&&$e.attr({x:ae.originalX,y:ae.originalY})},le);if(!y.get("clip",!0)){var _e=he.shape,Ce=Math.max(_e.width,_e.height);ue?(_e.y-=Ce,_e.height+=Ce*2):(_e.x-=Ce,_e.width+=Ce*2)}return le&&le(1,he),he}else return createPolarClipPath(n,g,y)}function getEndLabelStateSpecified(r,n){var g=n.getBaseAxis(),y=g.isHorizontal(),$=g.inverse,L=y?$?"right":"left":"center",re=y?"middle":$?"top":"bottom";return{normal:{align:r.get("align")||L,verticalAlign:r.get("verticalAlign")||re}}}var LineView$1=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(){var g=new Group$3,y=new SymbolDraw;this.group.add(y.group),this._symbolDraw=y,this._lineGroup=g,this._changePolyState=bind$1(this._changePolyState,this)},n.prototype.render=function(g,y,$){var L=g.coordinateSystem,re=this.group,ae=g.getData(),le=g.getModel("lineStyle"),ue=g.getModel("areaStyle"),he=ae.getLayout("points")||[],_e=L.type==="polar",Ce=this._coordSys,$e=this._symbolDraw,Oe=this._polyline,xe=this._polygon,Ne=this._lineGroup,Ie=!y.ssr&&g.get("animation"),Fe=!ue.isEmpty(),Ve=ue.get("origin"),ze=prepareDataCoordInfo(L,ae,Ve),Ue=Fe&&getStackedOnPoints(L,ae,ze),qe=g.get("showSymbol"),kt=g.get("connectNulls"),Et=qe&&!_e&&getIsIgnoreFunc(g,ae,L),Pt=this._data;Pt&&Pt.eachItemGraphicEl(function(An,Rn){An.__temp&&(re.remove(An),Pt.setItemGraphicEl(Rn,null))}),qe||$e.remove(),re.add(Ne);var At=_e?!1:g.get("step"),Dt;L&&L.getArea&&g.get("clip",!0)&&(Dt=L.getArea(),Dt.width!=null?(Dt.x-=.1,Dt.y-=.1,Dt.width+=.2,Dt.height+=.2):Dt.r0&&(Dt.r0-=.5,Dt.r+=.5)),this._clipShapeForSymbol=Dt;var Lt=getVisualGradient(ae,L,$)||ae.getVisual("style")[ae.getVisual("drawType")];if(!(Oe&&Ce.type===L.type&&At===this._step))qe&&$e.updateData(ae,{isIgnore:Et,clipShape:Dt,disableAnimation:!0,getSymbolPoint:function(An){return[he[An*2],he[An*2+1]]}}),Ie&&this._initSymbolLabelAnimation(ae,L,Dt),At&&(Ue&&(Ue=turnPointsIntoStep(Ue,he,L,At,kt)),he=turnPointsIntoStep(he,null,L,At,kt)),Oe=this._newPolyline(he),Fe?xe=this._newPolygon(he,Ue):xe&&(Ne.remove(xe),xe=this._polygon=null),_e||this._initOrUpdateEndLabel(g,L,convertToColorString(Lt)),Ne.setClipPath(createLineClipPath(this,L,!0,g));else{Fe&&!xe?xe=this._newPolygon(he,Ue):xe&&!Fe&&(Ne.remove(xe),xe=this._polygon=null),_e||this._initOrUpdateEndLabel(g,L,convertToColorString(Lt));var hn=Ne.getClipPath();if(hn){var _n=createLineClipPath(this,L,!1,g);initProps(hn,{shape:_n.shape},g)}else Ne.setClipPath(createLineClipPath(this,L,!0,g));qe&&$e.updateData(ae,{isIgnore:Et,clipShape:Dt,disableAnimation:!0,getSymbolPoint:function(An){return[he[An*2],he[An*2+1]]}}),(!isPointsSame(this._stackedOnPoints,Ue)||!isPointsSame(this._points,he))&&(Ie?this._doUpdateAnimation(ae,Ue,L,$,At,Ve,kt):(At&&(Ue&&(Ue=turnPointsIntoStep(Ue,he,L,At,kt)),he=turnPointsIntoStep(he,null,L,At,kt)),Oe.setShape({points:he}),xe&&xe.setShape({points:he,stackedOnPoints:Ue})))}var vn=g.getModel("emphasis"),jt=vn.get("focus"),$n=vn.get("blurScope"),Sn=vn.get("disabled");if(Oe.useStyle(defaults$2(le.getLineStyle(),{fill:"none",stroke:Lt,lineJoin:"bevel"})),setStatesStylesFromModel(Oe,g,"lineStyle"),Oe.style.lineWidth>0&&g.get(["emphasis","lineStyle","width"])==="bolder"){var bn=Oe.getState("emphasis").style;bn.lineWidth=+Oe.style.lineWidth+1}getECData(Oe).seriesIndex=g.seriesIndex,toggleHoverEmphasis(Oe,jt,$n,Sn);var wn=getSmooth(g.get("smooth")),On=g.get("smoothMonotone");if(Oe.setShape({smooth:wn,smoothMonotone:On,connectNulls:kt}),xe){var Tn=ae.getCalculationInfo("stackedOnSeries"),xn=0;xe.useStyle(defaults$2(ue.getAreaStyle(),{fill:Lt,opacity:.7,lineJoin:"bevel",decal:ae.getVisual("style").decal})),Tn&&(xn=getSmooth(Tn.get("smooth"))),xe.setShape({smooth:wn,stackedOnSmooth:xn,smoothMonotone:On,connectNulls:kt}),setStatesStylesFromModel(xe,g,"areaStyle"),getECData(xe).seriesIndex=g.seriesIndex,toggleHoverEmphasis(xe,jt,$n,Sn)}var Pn=this._changePolyState;ae.eachItemGraphicEl(function(An){An&&(An.onHoverStateChange=Pn)}),this._polyline.onHoverStateChange=Pn,this._data=ae,this._coordSys=L,this._stackedOnPoints=Ue,this._points=he,this._step=At,this._valueOrigin=Ve,g.get("triggerLineEvent")&&(this.packEventData(g,Oe),xe&&this.packEventData(g,xe))},n.prototype.packEventData=function(g,y){getECData(y).eventData={componentType:"series",componentSubType:"line",componentIndex:g.componentIndex,seriesIndex:g.seriesIndex,seriesName:g.name,seriesType:"line"}},n.prototype.highlight=function(g,y,$,L){var re=g.getData(),ae=queryDataIndex(re,L);if(this._changePolyState("emphasis"),!(ae instanceof Array)&&ae!=null&&ae>=0){var le=re.getLayout("points"),ue=re.getItemGraphicEl(ae);if(!ue){var he=le[ae*2],_e=le[ae*2+1];if(isNaN(he)||isNaN(_e)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(he,_e))return;var Ce=g.get("zlevel")||0,$e=g.get("z")||0;ue=new Symbol$1(re,ae),ue.x=he,ue.y=_e,ue.setZ(Ce,$e);var Oe=ue.getSymbolPath().getTextContent();Oe&&(Oe.zlevel=Ce,Oe.z=$e,Oe.z2=this._polyline.z2+1),ue.__temp=!0,re.setItemGraphicEl(ae,ue),ue.stopSymbolAnimation(!0),this.group.add(ue)}ue.highlight()}else ChartView.prototype.highlight.call(this,g,y,$,L)},n.prototype.downplay=function(g,y,$,L){var re=g.getData(),ae=queryDataIndex(re,L);if(this._changePolyState("normal"),ae!=null&&ae>=0){var le=re.getItemGraphicEl(ae);le&&(le.__temp?(re.setItemGraphicEl(ae,null),this.group.remove(le)):le.downplay())}else ChartView.prototype.downplay.call(this,g,y,$,L)},n.prototype._changePolyState=function(g){var y=this._polygon;setStatesFlag(this._polyline,g),y&&setStatesFlag(y,g)},n.prototype._newPolyline=function(g){var y=this._polyline;return y&&this._lineGroup.remove(y),y=new ECPolyline({shape:{points:g},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(y),this._polyline=y,y},n.prototype._newPolygon=function(g,y){var $=this._polygon;return $&&this._lineGroup.remove($),$=new ECPolygon({shape:{points:g,stackedOnPoints:y},segmentIgnoreThreshold:2}),this._lineGroup.add($),this._polygon=$,$},n.prototype._initSymbolLabelAnimation=function(g,y,$){var L,re,ae=y.getBaseAxis(),le=ae.inverse;y.type==="cartesian2d"?(L=ae.isHorizontal(),re=!1):y.type==="polar"&&(L=ae.dim==="angle",re=!0);var ue=g.hostModel,he=ue.get("animationDuration");isFunction(he)&&(he=he(null));var _e=ue.get("animationDelay")||0,Ce=isFunction(_e)?_e(null):_e;g.eachItemGraphicEl(function($e,Oe){var xe=$e;if(xe){var Ne=[$e.x,$e.y],Ie=void 0,Fe=void 0,Ve=void 0;if($)if(re){var ze=$,Ue=y.pointToCoord(Ne);L?(Ie=ze.startAngle,Fe=ze.endAngle,Ve=-Ue[1]/180*Math.PI):(Ie=ze.r0,Fe=ze.r,Ve=Ue[0])}else{var qe=$;L?(Ie=qe.x,Fe=qe.x+qe.width,Ve=$e.x):(Ie=qe.y+qe.height,Fe=qe.y,Ve=$e.y)}var kt=Fe===Ie?0:(Ve-Ie)/(Fe-Ie);le&&(kt=1-kt);var Et=isFunction(_e)?_e(Oe):he*kt+Ce,Pt=xe.getSymbolPath(),At=Pt.getTextContent();xe.attr({scaleX:0,scaleY:0}),xe.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Et}),At&&At.animateFrom({style:{opacity:0}},{duration:300,delay:Et}),Pt.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(g,y,$){var L=g.getModel("endLabel");if(anyStateShowEndLabel(g)){var re=g.getData(),ae=this._polyline,le=re.getLayout("points");if(!le){ae.removeTextContent(),this._endLabel=null;return}var ue=this._endLabel;ue||(ue=this._endLabel=new ZRText({z2:200}),ue.ignoreClip=!0,ae.setTextContent(this._endLabel),ae.disableLabelAnimation=!0);var he=getLastIndexNotNull(le);he>=0&&(setLabelStyle(ae,getLabelStatesModels(g,"endLabel"),{inheritColor:$,labelFetcher:g,labelDataIndex:he,defaultText:function(_e,Ce,$e){return $e!=null?getDefaultInterpolatedLabel(re,$e):getDefaultLabel(re,_e)},enableTextSetter:!0},getEndLabelStateSpecified(L,y)),ae.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(g,y,$,L,re,ae,le){var ue=this._endLabel,he=this._polyline;if(ue){g<1&&L.originalX==null&&(L.originalX=ue.x,L.originalY=ue.y);var _e=$.getLayout("points"),Ce=$.hostModel,$e=Ce.get("connectNulls"),Oe=ae.get("precision"),xe=ae.get("distance")||0,Ne=le.getBaseAxis(),Ie=Ne.isHorizontal(),Fe=Ne.inverse,Ve=y.shape,ze=Fe?Ie?Ve.x:Ve.y+Ve.height:Ie?Ve.x+Ve.width:Ve.y,Ue=(Ie?xe:0)*(Fe?-1:1),qe=(Ie?0:-xe)*(Fe?-1:1),kt=Ie?"x":"y",Et=getIndexRange(_e,ze,kt),Pt=Et.range,At=Pt[1]-Pt[0],Dt=void 0;if(At>=1){if(At>1&&!$e){var Lt=getPointAtIndex(_e,Pt[0]);ue.attr({x:Lt[0]+Ue,y:Lt[1]+qe}),re&&(Dt=Ce.getRawValue(Pt[0]))}else{var Lt=he.getPointOn(ze,kt);Lt&&ue.attr({x:Lt[0]+Ue,y:Lt[1]+qe});var hn=Ce.getRawValue(Pt[0]),_n=Ce.getRawValue(Pt[1]);re&&(Dt=interpolateRawValues($,Oe,hn,_n,Et.t))}L.lastFrameIndex=Pt[0]}else{var vn=g===1||L.lastFrameIndex>0?Pt[0]:0,Lt=getPointAtIndex(_e,vn);re&&(Dt=Ce.getRawValue(vn)),ue.attr({x:Lt[0]+Ue,y:Lt[1]+qe})}if(re){var jt=labelInner(ue);typeof jt.setLabelText=="function"&&jt.setLabelText(Dt)}}},n.prototype._doUpdateAnimation=function(g,y,$,L,re,ae,le){var ue=this._polyline,he=this._polygon,_e=g.hostModel,Ce=lineAnimationDiff(this._data,g,this._stackedOnPoints,y,this._coordSys,$,this._valueOrigin),$e=Ce.current,Oe=Ce.stackedOnCurrent,xe=Ce.next,Ne=Ce.stackedOnNext;if(re&&(Oe=turnPointsIntoStep(Ce.stackedOnCurrent,Ce.current,$,re,le),$e=turnPointsIntoStep(Ce.current,null,$,re,le),Ne=turnPointsIntoStep(Ce.stackedOnNext,Ce.next,$,re,le),xe=turnPointsIntoStep(Ce.next,null,$,re,le)),getBoundingDiff($e,xe)>3e3||he&&getBoundingDiff(Oe,Ne)>3e3){ue.stopAnimation(),ue.setShape({points:xe}),he&&(he.stopAnimation(),he.setShape({points:xe,stackedOnPoints:Ne}));return}ue.shape.__points=Ce.current,ue.shape.points=$e;var Ie={shape:{points:xe}};Ce.current!==$e&&(Ie.shape.__points=Ce.next),ue.stopAnimation(),updateProps$1(ue,Ie,_e),he&&(he.setShape({points:$e,stackedOnPoints:Oe}),he.stopAnimation(),updateProps$1(he,{shape:{stackedOnPoints:Ne}},_e),ue.shape.points!==he.shape.points&&(he.shape.points=ue.shape.points));for(var Fe=[],Ve=Ce.status,ze=0;ze<Ve.length;ze++){var Ue=Ve[ze].cmd;if(Ue==="="){var qe=g.getItemGraphicEl(Ve[ze].idx1);qe&&Fe.push({el:qe,ptIdx:ze})}}ue.animators&&ue.animators.length&&ue.animators[0].during(function(){he&&he.dirtyShape();for(var kt=ue.shape.__points,Et=0;Et<Fe.length;Et++){var Pt=Fe[Et].el,At=Fe[Et].ptIdx*2;Pt.x=kt[At],Pt.y=kt[At+1],Pt.markRedraw()}})},n.prototype.remove=function(g){var y=this.group,$=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),$&&$.eachItemGraphicEl(function(L,re){L.__temp&&(y.remove(L),$.setItemGraphicEl(re,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView);function pointsLayout(r,n){return{seriesType:r,plan:createRenderPlanner(),reset:function(g){var y=g.getData(),$=g.coordinateSystem,L=g.pipelineContext,re=n||L.large;if($){var ae=map$1($.dimensions,function($e){return y.mapDimension($e)}).slice(0,2),le=ae.length,ue=y.getCalculationInfo("stackResultDimension");isDimensionStacked(y,ae[0])&&(ae[0]=ue),isDimensionStacked(y,ae[1])&&(ae[1]=ue);var he=y.getStore(),_e=y.getDimensionIndex(ae[0]),Ce=y.getDimensionIndex(ae[1]);return le&&{progress:function($e,Oe){for(var xe=$e.end-$e.start,Ne=re&&createFloat32Array(xe*le),Ie=[],Fe=[],Ve=$e.start,ze=0;Ve<$e.end;Ve++){var Ue=void 0;if(le===1){var qe=he.get(_e,Ve);Ue=$.dataToPoint(qe,null,Fe)}else Ie[0]=he.get(_e,Ve),Ie[1]=he.get(Ce,Ve),Ue=$.dataToPoint(Ie,null,Fe);re?(Ne[ze++]=Ue[0],Ne[ze++]=Ue[1]):Oe.setItemLayout(Ve,Ue.slice())}re&&Oe.setLayout("points",Ne)}}}}}}var samplers={average:function(r){for(var n=0,g=0,y=0;y<r.length;y++)isNaN(r[y])||(n+=r[y],g++);return g===0?NaN:n/g},sum:function(r){for(var n=0,g=0;g<r.length;g++)n+=r[g]||0;return n},max:function(r){for(var n=-1/0,g=0;g<r.length;g++)r[g]>n&&(n=r[g]);return isFinite(n)?n:NaN},min:function(r){for(var n=1/0,g=0;g<r.length;g++)r[g]<n&&(n=r[g]);return isFinite(n)?n:NaN},nearest:function(r){return r[0]}},indexSampler=function(r){return Math.round(r.length/2)};function dataSample(r){return{seriesType:r,reset:function(n,g,y){var $=n.getData(),L=n.get("sampling"),re=n.coordinateSystem,ae=$.count();if(ae>10&&re.type==="cartesian2d"&&L){var le=re.getBaseAxis(),ue=re.getOtherAxis(le),he=le.getExtent(),_e=y.getDevicePixelRatio(),Ce=Math.abs(he[1]-he[0])*(_e||1),$e=Math.round(ae/Ce);if(isFinite($e)&&$e>1){L==="lttb"?n.setData($.lttbDownSample($.mapDimension(ue.dim),1/$e)):L==="minmax"&&n.setData($.minmaxDownSample($.mapDimension(ue.dim),1/$e));var Oe=void 0;isString(L)?Oe=samplers[L]:isFunction(L)&&(Oe=L),Oe&&n.setData($.downSample($.mapDimension(ue.dim),1/$e,Oe,indexSampler))}}}}}function install$R(r){r.registerChartView(LineView$1),r.registerSeriesModel(LineSeriesModel),r.registerLayout(pointsLayout("line",!0)),r.registerVisual({seriesType:"line",reset:function(n){var g=n.getData(),y=n.getModel("lineStyle").getLineStyle();y&&!y.stroke&&(y.stroke=g.getVisual("style").fill),g.setVisual("legendLineStyle",y)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.getInitialData=function(g,y){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(g,y,$){var L=this.coordinateSystem;if(L&&L.clampData){var re=L.clampData(g),ae=L.dataToPoint(re);if($)each$f(L.getAxes(),function(Ce,$e){if(Ce.type==="category"&&y!=null){var Oe=Ce.getTicksCoords(),xe=Ce.getTickModel().get("alignWithLabel"),Ne=re[$e],Ie=y[$e]==="x1"||y[$e]==="y1";if(Ie&&!xe&&(Ne+=1),Oe.length<2)return;if(Oe.length===2){ae[$e]=Ce.toGlobalCoord(Ce.getExtent()[Ie?1:0]);return}for(var Fe=void 0,Ve=void 0,ze=1,Ue=0;Ue<Oe.length;Ue++){var qe=Oe[Ue].coord,kt=Ue===Oe.length-1?Oe[Ue-1].tickValue+ze:Oe[Ue].tickValue;if(kt===Ne){Ve=qe;break}else if(kt<Ne)Fe=qe;else if(Fe!=null&&kt>Ne){Ve=(qe+Fe)/2;break}Ue===1&&(ze=kt-Oe[0].tickValue)}Ve==null&&(Fe?Fe&&(Ve=Oe[Oe.length-1].coord):Ve=Oe[0].coord),ae[$e]=Ce.toGlobalCoord(Ve)}});else{var le=this.getData(),ue=le.getLayout("offset"),he=le.getLayout("size"),_e=L.getBaseAxis().isHorizontal()?0:1;ae[_e]+=ue+he/2}return ae}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var g=this.get("progressiveThreshold"),y=this.get("largeThreshold");return y>g&&(g=y),g},n.prototype.brushSelector=function(g,y,$){return $.rect(y.getItemLayout(g))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel),SausageShape=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),SausagePath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="sausage",y}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(g,y){var $=y.cx,L=y.cy,re=Math.max(y.r0||0,0),ae=Math.max(y.r,0),le=(ae-re)*.5,ue=re+le,he=y.startAngle,_e=y.endAngle,Ce=y.clockwise,$e=Math.PI*2,Oe=Ce?_e-he<$e:he-_e<$e;Oe||(he=_e-(Ce?$e:-$e));var xe=Math.cos(he),Ne=Math.sin(he),Ie=Math.cos(_e),Fe=Math.sin(_e);Oe?(g.moveTo(xe*re+$,Ne*re+L),g.arc(xe*ue+$,Ne*ue+L,le,-Math.PI+he,he,!Ce)):g.moveTo(xe*ae+$,Ne*ae+L),g.arc($,L,ae,he,_e,!Ce),g.arc(Ie*ue+$,Fe*ue+L,le,_e-Math.PI*2,_e-Math.PI,!Ce),re!==0&&g.arc($,L,re,_e,he,Ce)},n}(Path);function createSectorCalculateTextPosition(r,n){n=n||{};var g=n.isRoundCap;return function(y,$,L){var re=$.position;if(!re||re instanceof Array)return calculateTextPosition(y,$,L);var ae=r(re),le=$.distance!=null?$.distance:5,ue=this.shape,he=ue.cx,_e=ue.cy,Ce=ue.r,$e=ue.r0,Oe=(Ce+$e)/2,xe=ue.startAngle,Ne=ue.endAngle,Ie=(xe+Ne)/2,Fe=g?Math.abs(Ce-$e)/2:0,Ve=Math.cos,ze=Math.sin,Ue=he+Ce*Ve(xe),qe=_e+Ce*ze(xe),kt="left",Et="top";switch(ae){case"startArc":Ue=he+($e-le)*Ve(Ie),qe=_e+($e-le)*ze(Ie),kt="center",Et="top";break;case"insideStartArc":Ue=he+($e+le)*Ve(Ie),qe=_e+($e+le)*ze(Ie),kt="center",Et="bottom";break;case"startAngle":Ue=he+Oe*Ve(xe)+adjustAngleDistanceX(xe,le+Fe,!1),qe=_e+Oe*ze(xe)+adjustAngleDistanceY(xe,le+Fe,!1),kt="right",Et="middle";break;case"insideStartAngle":Ue=he+Oe*Ve(xe)+adjustAngleDistanceX(xe,-le+Fe,!1),qe=_e+Oe*ze(xe)+adjustAngleDistanceY(xe,-le+Fe,!1),kt="left",Et="middle";break;case"middle":Ue=he+Oe*Ve(Ie),qe=_e+Oe*ze(Ie),kt="center",Et="middle";break;case"endArc":Ue=he+(Ce+le)*Ve(Ie),qe=_e+(Ce+le)*ze(Ie),kt="center",Et="bottom";break;case"insideEndArc":Ue=he+(Ce-le)*Ve(Ie),qe=_e+(Ce-le)*ze(Ie),kt="center",Et="top";break;case"endAngle":Ue=he+Oe*Ve(Ne)+adjustAngleDistanceX(Ne,le+Fe,!0),qe=_e+Oe*ze(Ne)+adjustAngleDistanceY(Ne,le+Fe,!0),kt="left",Et="middle";break;case"insideEndAngle":Ue=he+Oe*Ve(Ne)+adjustAngleDistanceX(Ne,-le+Fe,!0),qe=_e+Oe*ze(Ne)+adjustAngleDistanceY(Ne,-le+Fe,!0),kt="right",Et="middle";break;default:return calculateTextPosition(y,$,L)}return y=y||{},y.x=Ue,y.y=qe,y.align=kt,y.verticalAlign=Et,y}}function setSectorTextRotation(r,n,g,y){if(isNumber$1(y)){r.setTextConfig({rotation:y});return}else if(isArray$2(n)){r.setTextConfig({rotation:0});return}var $=r.shape,L=$.clockwise?$.startAngle:$.endAngle,re=$.clockwise?$.endAngle:$.startAngle,ae=(L+re)/2,le,ue=g(n);switch(ue){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":le=ae;break;case"startAngle":case"insideStartAngle":le=L;break;case"endAngle":case"insideEndAngle":le=re;break;default:r.setTextConfig({rotation:0});return}var he=Math.PI*1.5-le;ue==="middle"&&he>Math.PI/2&&he<Math.PI*1.5&&(he-=Math.PI),r.setTextConfig({rotation:he})}function adjustAngleDistanceX(r,n,g){return n*Math.sin(r)*(g?-1:1)}function adjustAngleDistanceY(r,n,g){return n*Math.cos(r)*(g?1:-1)}function getSectorCornerRadius(r,n,g){var y=r.get("borderRadius");if(y==null)return g?{cornerRadius:0}:null;isArray$2(y)||(y=[y,y,y,y]);var $=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(y,function(L){return parsePercent$1(L,$)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(r,n){var g=r.getArea&&r.getArea();if(isCoordinateSystemType(r,"cartesian2d")){var y=r.getBaseAxis();if(y.type!=="category"||!y.onBand){var $=n.getLayout("bandWidth");y.isHorizontal()?(g.x-=$,g.width+=$*2):(g.y-=$,g.height+=$*2)}}return g}var BarView=function(r){__extends$1(n,r);function n(){var g=r.call(this)||this;return g.type=n.type,g._isFirstFrame=!0,g}return n.prototype.render=function(g,y,$,L){this._model=g,this._removeOnRenderedListener($),this._updateDrawMode(g);var re=g.get("coordinateSystem");(re==="cartesian2d"||re==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(g,y,$):this._renderNormal(g,y,$,L))},n.prototype.incrementalPrepareRender=function(g){this._clear(),this._updateDrawMode(g),this._updateLargeClip(g)},n.prototype.incrementalRender=function(g,y){this._progressiveEls=[],this._incrementalRenderLarge(g,y)},n.prototype.eachRendered=function(g){traverseElements(this._progressiveEls||this.group,g)},n.prototype._updateDrawMode=function(g){var y=g.pipelineContext.large;(this._isLargeDraw==null||y!==this._isLargeDraw)&&(this._isLargeDraw=y,this._clear())},n.prototype._renderNormal=function(g,y,$,L){var re=this.group,ae=g.getData(),le=this._data,ue=g.coordinateSystem,he=ue.getBaseAxis(),_e;ue.type==="cartesian2d"?_e=he.isHorizontal():ue.type==="polar"&&(_e=he.dim==="angle");var Ce=g.isAnimationEnabled()?g:null,$e=shouldRealtimeSort(g,ue);$e&&this._enableRealtimeSort($e,ae,$);var Oe=g.get("clip",!0)||$e,xe=getClipArea(ue,ae);re.removeClipPath();var Ne=g.get("roundCap",!0),Ie=g.get("showBackground",!0),Fe=g.getModel("backgroundStyle"),Ve=Fe.get("borderRadius")||0,ze=[],Ue=this._backgroundEls,qe=L&&L.isInitSort,kt=L&&L.type==="changeAxisOrder";function Et(Dt){var Lt=getLayout[ue.type](ae,Dt),hn=createBackgroundEl(ue,_e,Lt);return hn.useStyle(Fe.getItemStyle()),ue.type==="cartesian2d"?hn.setShape("r",Ve):hn.setShape("cornerRadius",Ve),ze[Dt]=hn,hn}ae.diff(le).add(function(Dt){var Lt=ae.getItemModel(Dt),hn=getLayout[ue.type](ae,Dt,Lt);if(Ie&&Et(Dt),!(!ae.hasValue(Dt)||!isValidLayout[ue.type](hn))){var _n=!1;Oe&&(_n=clip$1[ue.type](xe,hn));var vn=elementCreator[ue.type](g,ae,Dt,hn,_e,Ce,he.model,!1,Ne);$e&&(vn.forceLabelAnimation=!0),updateStyle(vn,ae,Dt,Lt,hn,g,_e,ue.type==="polar"),qe?vn.attr({shape:hn}):$e?updateRealtimeAnimation($e,Ce,vn,hn,Dt,_e,!1,!1):initProps(vn,{shape:hn},g,Dt),ae.setItemGraphicEl(Dt,vn),re.add(vn),vn.ignore=_n}}).update(function(Dt,Lt){var hn=ae.getItemModel(Dt),_n=getLayout[ue.type](ae,Dt,hn);if(Ie){var vn=void 0;Ue.length===0?vn=Et(Lt):(vn=Ue[Lt],vn.useStyle(Fe.getItemStyle()),ue.type==="cartesian2d"?vn.setShape("r",Ve):vn.setShape("cornerRadius",Ve),ze[Dt]=vn);var jt=getLayout[ue.type](ae,Dt),$n=createBackgroundShape(_e,jt,ue);updateProps$1(vn,{shape:$n},Ce,Dt)}var Sn=le.getItemGraphicEl(Lt);if(!ae.hasValue(Dt)||!isValidLayout[ue.type](_n)){re.remove(Sn);return}var bn=!1;if(Oe&&(bn=clip$1[ue.type](xe,_n),bn&&re.remove(Sn)),Sn?saveOldStyle(Sn):Sn=elementCreator[ue.type](g,ae,Dt,_n,_e,Ce,he.model,!!Sn,Ne),$e&&(Sn.forceLabelAnimation=!0),kt){var wn=Sn.getTextContent();if(wn){var On=labelInner(wn);On.prevValue!=null&&(On.prevValue=On.value)}}else updateStyle(Sn,ae,Dt,hn,_n,g,_e,ue.type==="polar");qe?Sn.attr({shape:_n}):$e?updateRealtimeAnimation($e,Ce,Sn,_n,Dt,_e,!0,kt):updateProps$1(Sn,{shape:_n},g,Dt,null),ae.setItemGraphicEl(Dt,Sn),Sn.ignore=bn,re.add(Sn)}).remove(function(Dt){var Lt=le.getItemGraphicEl(Dt);Lt&&removeElementWithFadeOut(Lt,g,Dt)}).execute();var Pt=this._backgroundGroup||(this._backgroundGroup=new Group$3);Pt.removeAll();for(var At=0;At<ze.length;++At)Pt.add(ze[At]);re.add(Pt),this._backgroundEls=ze,this._data=ae},n.prototype._renderLarge=function(g,y,$){this._clear(),createLarge$1(g,this.group),this._updateLargeClip(g)},n.prototype._incrementalRenderLarge=function(g,y){this._removeBackground(),createLarge$1(y,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(g){var y=g.get("clip",!0)&&createClipPath(g.coordinateSystem,!1,g),$=this.group;y?$.setClipPath(y):$.removeClipPath()},n.prototype._enableRealtimeSort=function(g,y,$){var L=this;if(y.count()){var re=g.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(y,g,$),this._isFirstFrame=!1;else{var ae=function(le){var ue=y.getItemGraphicEl(le),he=ue&&ue.shape;return he&&Math.abs(re.isHorizontal()?he.height:he.width)||0};this._onRendered=function(){L._updateSortWithinSameData(y,ae,re,$)},$.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(g,y,$){var L=[];return g.each(g.mapDimension(y.dim),function(re,ae){var le=$(ae);le=le??NaN,L.push({dataIndex:ae,mappedValue:le,ordinalNumber:re})}),L.sort(function(re,ae){return ae.mappedValue-re.mappedValue}),{ordinalNumbers:map$1(L,function(re){return re.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(g,y,$){for(var L=$.scale,re=g.mapDimension($.dim),ae=Number.MAX_VALUE,le=0,ue=L.getOrdinalMeta().categories.length;le<ue;++le){var he=g.rawIndexOf(re,L.getRawOrdinalNumber(le)),_e=he<0?Number.MIN_VALUE:y(g.indexOfRawIndex(he));if(_e>ae)return!0;ae=_e}return!1},n.prototype._isOrderDifferentInView=function(g,y){for(var $=y.scale,L=$.getExtent(),re=Math.max(0,L[0]),ae=Math.min(L[1],$.getOrdinalMeta().categories.length-1);re<=ae;++re)if(g.ordinalNumbers[re]!==$.getRawOrdinalNumber(re))return!0},n.prototype._updateSortWithinSameData=function(g,y,$,L){if(this._isOrderChangedWithinSameData(g,y,$)){var re=this._dataSort(g,$,y);this._isOrderDifferentInView(re,$)&&(this._removeOnRenderedListener(L),L.dispatchAction({type:"changeAxisOrder",componentType:$.dim+"Axis",axisId:$.index,sortInfo:re}))}},n.prototype._dispatchInitSort=function(g,y,$){var L=y.baseAxis,re=this._dataSort(g,L,function(ae){return g.get(g.mapDimension(y.otherAxis.dim),ae)});$.dispatchAction({type:"changeAxisOrder",componentType:L.dim+"Axis",isInitSort:!0,axisId:L.index,sortInfo:re})},n.prototype.remove=function(g,y){this._clear(this._model),this._removeOnRenderedListener(y)},n.prototype.dispose=function(g,y){this._removeOnRenderedListener(y)},n.prototype._removeOnRenderedListener=function(g){this._onRendered&&(g.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(g){var y=this.group,$=this._data;g&&g.isAnimationEnabled()&&$&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],$.eachItemGraphicEl(function(L){removeElementWithFadeOut(L,g,getECData(L).dataIndex)})):y.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView),clip$1={cartesian2d:function(r,n){var g=n.width<0?-1:1,y=n.height<0?-1:1;g<0&&(n.x+=n.width,n.width=-n.width),y<0&&(n.y+=n.height,n.height=-n.height);var $=r.x+r.width,L=r.y+r.height,re=mathMax$4(n.x,r.x),ae=mathMin$4(n.x+n.width,$),le=mathMax$4(n.y,r.y),ue=mathMin$4(n.y+n.height,L),he=ae<re,_e=ue<le;return n.x=he&&re>$?ae:re,n.y=_e&&le>L?ue:le,n.width=he?0:ae-re,n.height=_e?0:ue-le,g<0&&(n.x+=n.width,n.width=-n.width),y<0&&(n.y+=n.height,n.height=-n.height),he||_e},polar:function(r,n){var g=n.r0<=n.r?1:-1;if(g<0){var y=n.r;n.r=n.r0,n.r0=y}var $=mathMin$4(n.r,r.r),L=mathMax$4(n.r0,r.r0);n.r=$,n.r0=L;var re=$-L<0;if(g<0){var y=n.r;n.r=n.r0,n.r0=y}return re}},elementCreator={cartesian2d:function(r,n,g,y,$,L,re,ae,le){var ue=new Rect$2({shape:extend({},y),z2:1});if(ue.__dataIndex=g,ue.name="item",L){var he=ue.shape,_e=$?"height":"width";he[_e]=0}return ue},polar:function(r,n,g,y,$,L,re,ae,le){var ue=!$&&le?SausagePath:Sector,he=new ue({shape:y,z2:1});he.name="item";var _e=createPolarPositionMapping($);if(he.calculateTextPosition=createSectorCalculateTextPosition(_e,{isRoundCap:ue===SausagePath}),L){var Ce=he.shape,$e=$?"r":"endAngle",Oe={};Ce[$e]=$?y.r0:y.startAngle,Oe[$e]=y[$e],(ae?updateProps$1:initProps)(he,{shape:Oe},L)}return he}};function shouldRealtimeSort(r,n){var g=r.get("realtimeSort",!0),y=n.getBaseAxis();if(g&&y.type==="category"&&n.type==="cartesian2d")return{baseAxis:y,otherAxis:n.getOtherAxis(y)}}function updateRealtimeAnimation(r,n,g,y,$,L,re,ae){var le,ue;L?(ue={x:y.x,width:y.width},le={y:y.y,height:y.height}):(ue={y:y.y,height:y.height},le={x:y.x,width:y.width}),ae||(re?updateProps$1:initProps)(g,{shape:le},n,$,null);var he=n?r.baseAxis.model:null;(re?updateProps$1:initProps)(g,{shape:ue},he,$)}function checkPropertiesNotValid(r,n){for(var g=0;g<n.length;g++)if(!isFinite(r[n[g]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(r){return!checkPropertiesNotValid(r,rectPropties)},polar:function(r){return!checkPropertiesNotValid(r,polarPropties)}},getLayout={cartesian2d:function(r,n,g){var y=r.getItemLayout(n),$=g?getLineWidth(g,y):0,L=y.width>0?1:-1,re=y.height>0?1:-1;return{x:y.x+L*$/2,y:y.y+re*$/2,width:y.width-L*$,height:y.height-re*$}},polar:function(r,n,g){var y=r.getItemLayout(n);return{cx:y.cx,cy:y.cy,r0:y.r0,r:y.r,startAngle:y.startAngle,endAngle:y.endAngle,clockwise:y.clockwise}}};function isZeroOnPolar(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function createPolarPositionMapping(r){return function(n){var g=n?"Arc":"Angle";return function(y){switch(y){case"start":case"insideStart":case"end":case"insideEnd":return y+g;default:return y}}}(r)}function updateStyle(r,n,g,y,$,L,re,ae){var le=n.getItemVisual(g,"style");if(ae){if(!L.get("roundCap")){var he=r.shape,_e=getSectorCornerRadius(y.getModel("itemStyle"),he,!0);extend(he,_e),r.setShape(he)}}else{var ue=y.get(["itemStyle","borderRadius"])||0;r.setShape("r",ue)}r.useStyle(le);var Ce=y.getShallow("cursor");Ce&&r.attr("cursor",Ce);var $e=ae?re?$.r>=$.r0?"endArc":"startArc":$.endAngle>=$.startAngle?"endAngle":"startAngle":re?$.height>=0?"bottom":"top":$.width>=0?"right":"left",Oe=getLabelStatesModels(y);setLabelStyle(r,Oe,{labelFetcher:L,labelDataIndex:g,defaultText:getDefaultLabel(L.getData(),g),inheritColor:le.fill,defaultOpacity:le.opacity,defaultOutsidePosition:$e});var xe=r.getTextContent();if(ae&&xe){var Ne=y.get(["label","position"]);r.textConfig.inside=Ne==="middle"?!0:null,setSectorTextRotation(r,Ne==="outside"?$e:Ne,createPolarPositionMapping(re),y.get(["label","rotate"]))}setLabelValueAnimation(xe,Oe,L.getRawValue(g),function(Fe){return getDefaultInterpolatedLabel(n,Fe)});var Ie=y.getModel(["emphasis"]);toggleHoverEmphasis(r,Ie.get("focus"),Ie.get("blurScope"),Ie.get("disabled")),setStatesStylesFromModel(r,y),isZeroOnPolar($)&&(r.style.fill="none",r.style.stroke="none",each$f(r.states,function(Fe){Fe.style&&(Fe.style.fill=Fe.style.stroke="none")}))}function getLineWidth(r,n){var g=r.get(["itemStyle","borderColor"]);if(!g||g==="none")return 0;var y=r.get(["itemStyle","borderWidth"])||0,$=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),L=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(y,$,L)}var LagePathShape=function(){function r(){}return r}(),LargePath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="largeBar",y}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(g,y){for(var $=y.points,L=this.baseDimIdx,re=1-this.baseDimIdx,ae=[],le=[],ue=this.barWidth,he=0;he<$.length;he+=3)le[L]=ue,le[re]=$[he+2],ae[L]=$[he+L],ae[re]=$[he+re],g.rect(ae[0],ae[1],le[0],le[1])},n}(Path);function createLarge$1(r,n,g,y){var $=r.getData(),L=$.getLayout("valueAxisHorizontal")?1:0,re=$.getLayout("largeDataIndices"),ae=$.getLayout("size"),le=r.getModel("backgroundStyle"),ue=$.getLayout("largeBackgroundPoints");if(ue){var he=new LargePath({shape:{points:ue},incremental:!!y,silent:!0,z2:0});he.baseDimIdx=L,he.largeDataIndices=re,he.barWidth=ae,he.useStyle(le.getItemStyle()),n.add(he),g&&g.push(he)}var _e=new LargePath({shape:{points:$.getLayout("largePoints")},incremental:!!y,ignoreCoarsePointer:!0,z2:1});_e.baseDimIdx=L,_e.largeDataIndices=re,_e.barWidth=ae,n.add(_e),_e.useStyle($.getVisual("style")),_e.style.stroke=null,getECData(_e).seriesIndex=r.seriesIndex,r.get("silent")||(_e.on("mousedown",largePathUpdateDataIndex),_e.on("mousemove",largePathUpdateDataIndex)),g&&g.push(_e)}var largePathUpdateDataIndex=throttle(function(r){var n=this,g=largePathFindDataIndex(n,r.offsetX,r.offsetY);getECData(n).dataIndex=g>=0?g:null},30,!1);function largePathFindDataIndex(r,n,g){for(var y=r.baseDimIdx,$=1-y,L=r.shape.points,re=r.largeDataIndices,ae=[],le=[],ue=r.barWidth,he=0,_e=L.length/3;he<_e;he++){var Ce=he*3;if(le[y]=ue,le[$]=L[Ce+2],ae[y]=L[Ce+y],ae[$]=L[Ce+$],le[$]<0&&(ae[$]+=le[$],le[$]=-le[$]),n>=ae[0]&&n<=ae[0]+le[0]&&g>=ae[1]&&g<=ae[1]+le[1])return re[he]}return-1}function createBackgroundShape(r,n,g){if(isCoordinateSystemType(g,"cartesian2d")){var y=n,$=g.getArea();return{x:r?y.x:$.x,y:r?$.y:y.y,width:r?y.width:$.width,height:r?$.height:y.height}}else{var $=g.getArea(),L=n;return{cx:$.cx,cy:$.cy,r0:r?$.r0:L.r0,r:r?$.r:L.r,startAngle:r?L.startAngle:0,endAngle:r?L.endAngle:Math.PI*2}}}function createBackgroundEl(r,n,g){var y=r.type==="polar"?Sector:Rect$2;return new y({shape:createBackgroundShape(n,g,r),silent:!0,z2:0})}function install$Q(r){r.registerChartView(BarView),r.registerSeriesModel(BarSeriesModel),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,g){var y=n.componentType||"series";g.eachComponent({mainType:y,query:n},function($){n.sortInfo&&$.axis.setCategorySortInfo(n.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(r,n){return getLayoutRect$1(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(r,n){var g=getViewRect$5(r,n),y=r.get("center"),$=r.get("radius");isArray$2($)||($=[0,$]);var L=parsePercent(g.width,n.getWidth()),re=parsePercent(g.height,n.getHeight()),ae=Math.min(L,re),le=parsePercent($[0],ae/2),ue=parsePercent($[1],ae/2),he,_e,Ce=r.coordinateSystem;if(Ce){var $e=Ce.dataToPoint(y);he=$e[0]||0,_e=$e[1]||0}else isArray$2(y)||(y=[y,y]),he=parsePercent(y[0],L)+g.x,_e=parsePercent(y[1],re)+g.y;return{cx:he,cy:_e,r0:le,r:ue}}function pieLayout(r,n,g){n.eachSeriesByType(r,function(y){var $=y.getData(),L=$.mapDimension("value"),re=getViewRect$5(y,g),ae=getBasicPieLayout(y,g),le=ae.cx,ue=ae.cy,he=ae.r,_e=ae.r0,Ce=-y.get("startAngle")*RADIAN$2,$e=y.get("endAngle"),Oe=y.get("padAngle")*RADIAN$2;$e=$e==="auto"?Ce-PI2:-$e*RADIAN$2;var xe=y.get("minAngle")*RADIAN$2,Ne=xe+Oe,Ie=0;$.each(L,function($n){!isNaN($n)&&Ie++});var Fe=$.getSum(L),Ve=Math.PI/(Fe||Ie)*2,ze=y.get("clockwise"),Ue=y.get("roseType"),qe=y.get("stillShowZeroSum"),kt=$.getDataExtent(L);kt[0]=0;var Et=ze?1:-1,Pt=[Ce,$e],At=Et*Oe/2;normalizeArcAngles(Pt,!ze),Ce=Pt[0],$e=Pt[1];var Dt=getSeriesLayoutData(y);Dt.startAngle=Ce,Dt.endAngle=$e,Dt.clockwise=ze;var Lt=Math.abs($e-Ce),hn=Lt,_n=0,vn=Ce;if($.setLayout({viewRect:re,r:he}),$.each(L,function($n,Sn){var bn;if(isNaN($n)){$.setItemLayout(Sn,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:ze,cx:le,cy:ue,r0:_e,r:Ue?NaN:he});return}Ue!=="area"?bn=Fe===0&&qe?Ve:$n*Ve:bn=Lt/Ie,bn<Ne?(bn=Ne,hn-=Ne):_n+=$n;var wn=vn+Et*bn,On=0,Tn=0;Oe>bn?(On=vn+Et*bn/2,Tn=On):(On=vn+At,Tn=wn-At),$.setItemLayout(Sn,{angle:bn,startAngle:On,endAngle:Tn,clockwise:ze,cx:le,cy:ue,r0:_e,r:Ue?linearMap$2($n,kt,[_e,he]):he}),vn=wn}),hn<PI2&&Ie)if(hn<=.001){var jt=Lt/Ie;$.each(L,function($n,Sn){if(!isNaN($n)){var bn=$.getItemLayout(Sn);bn.angle=jt;var wn=0,On=0;jt<Oe?(wn=Ce+Et*(Sn+1/2)*jt,On=wn):(wn=Ce+Et*Sn*jt+At,On=Ce+Et*(Sn+1)*jt-At),bn.startAngle=wn,bn.endAngle=On}})}else Ve=hn/_n,vn=Ce,$.each(L,function($n,Sn){if(!isNaN($n)){var bn=$.getItemLayout(Sn),wn=bn.angle===Ne?Ne:$n*Ve,On=0,Tn=0;wn<Oe?(On=vn+Et*wn/2,Tn=On):(On=vn+At,Tn=vn+Et*wn-At),bn.startAngle=On,bn.endAngle=Tn,vn+=Et*wn}})})}var getSeriesLayoutData=makeInner();function dataFilter$1(r){return{seriesType:r,reset:function(n,g){var y=g.findComponents({mainType:"legend"});if(!(!y||!y.length)){var $=n.getData();$.filterSelf(function(L){for(var re=$.getName(L),ae=0;ae<y.length;ae++)if(!y[ae].isSelected(re))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(r,n,g,y,$,L,re,ae,le,ue){if(r.length<2)return;function he(xe){for(var Ne=xe.rB,Ie=Ne*Ne,Fe=0;Fe<xe.list.length;Fe++){var Ve=xe.list[Fe],ze=Math.abs(Ve.label.y-g),Ue=y+Ve.len,qe=Ue*Ue,kt=Math.sqrt(Math.abs((1-ze*ze/Ie)*qe)),Et=n+(kt+Ve.len2)*$,Pt=Et-Ve.label.x,At=Ve.targetTextWidth-Pt*$;constrainTextWidth(Ve,At,!0),Ve.label.x=Et}}function _e(xe){for(var Ne={list:[],maxY:0},Ie={list:[],maxY:0},Fe=0;Fe<xe.length;Fe++)if(xe[Fe].labelAlignTo==="none"){var Ve=xe[Fe],ze=Ve.label.y>g?Ie:Ne,Ue=Math.abs(Ve.label.y-g);if(Ue>=ze.maxY){var qe=Ve.label.x-n-Ve.len2*$,kt=y+Ve.len,Et=Math.abs(qe)<kt?Math.sqrt(Ue*Ue/(1-qe*qe/kt/kt)):kt;ze.rB=Et,ze.maxY=Ue}ze.list.push(Ve)}he(Ne),he(Ie)}for(var Ce=r.length,$e=0;$e<Ce;$e++)if(r[$e].position==="outer"&&r[$e].labelAlignTo==="labelLine"){var Oe=r[$e].label.x-ue;r[$e].linePoints[1][0]+=Oe,r[$e].label.x=ue}shiftLayoutOnY(r,le,le+re)&&_e(r)}function avoidOverlap(r,n,g,y,$,L,re,ae){for(var le=[],ue=[],he=Number.MAX_VALUE,_e=-Number.MAX_VALUE,Ce=0;Ce<r.length;Ce++){var $e=r[Ce].label;isPositionCenter(r[Ce])||($e.x<n?(he=Math.min(he,$e.x),le.push(r[Ce])):(_e=Math.max(_e,$e.x),ue.push(r[Ce])))}for(var Ce=0;Ce<r.length;Ce++){var Oe=r[Ce];if(!isPositionCenter(Oe)&&Oe.linePoints){if(Oe.labelStyleWidth!=null)continue;var $e=Oe.label,xe=Oe.linePoints,Ne=void 0;Oe.labelAlignTo==="edge"?$e.x<n?Ne=xe[2][0]-Oe.labelDistance-re-Oe.edgeDistance:Ne=re+$-Oe.edgeDistance-xe[2][0]-Oe.labelDistance:Oe.labelAlignTo==="labelLine"?$e.x<n?Ne=he-re-Oe.bleedMargin:Ne=re+$-_e-Oe.bleedMargin:$e.x<n?Ne=$e.x-re-Oe.bleedMargin:Ne=re+$-$e.x-Oe.bleedMargin,Oe.targetTextWidth=Ne,constrainTextWidth(Oe,Ne)}}adjustSingleSide(ue,n,g,y,1,$,L,re,ae,_e),adjustSingleSide(le,n,g,y,-1,$,L,re,ae,he);for(var Ce=0;Ce<r.length;Ce++){var Oe=r[Ce];if(!isPositionCenter(Oe)&&Oe.linePoints){var $e=Oe.label,xe=Oe.linePoints,Ie=Oe.labelAlignTo==="edge",Fe=$e.style.padding,Ve=Fe?Fe[1]+Fe[3]:0,ze=$e.style.backgroundColor?0:Ve,Ue=Oe.rect.width+ze,qe=xe[1][0]-xe[2][0];Ie?$e.x<n?xe[2][0]=re+Oe.edgeDistance+Ue+Oe.labelDistance:xe[2][0]=re+$-Oe.edgeDistance-Ue-Oe.labelDistance:($e.x<n?xe[2][0]=$e.x+Oe.labelDistance:xe[2][0]=$e.x-Oe.labelDistance,xe[1][0]=xe[2][0]+qe),xe[1][1]=xe[2][1]=$e.y}}}function constrainTextWidth(r,n,g){if(g===void 0&&(g=!1),r.labelStyleWidth==null){var y=r.label,$=y.style,L=r.rect,re=$.backgroundColor,ae=$.padding,le=ae?ae[1]+ae[3]:0,ue=$.overflow,he=L.width+(re?0:le);if(n<he||g){var _e=L.height;if(ue&&ue.match("break")){y.setStyle("backgroundColor",null),y.setStyle("width",n-le);var Ce=y.getBoundingRect();y.setStyle("width",Math.ceil(Ce.width)),y.setStyle("backgroundColor",re)}else{var $e=n-le,Oe=n<he?$e:g?$e>r.unconstrainedWidth?null:$e:null;y.setStyle("width",Oe)}var xe=y.getBoundingRect();L.width=xe.width;var Ne=(y.style.margin||0)+2.1;L.height=xe.height+Ne,L.y-=(L.height-_e)/2}}}function isPositionCenter(r){return r.position==="center"}function pieLabelLayout(r){var n=r.getData(),g=[],y,$,L=!1,re=(r.get("minShowLabelAngle")||0)*RADIAN$1,ae=n.getLayout("viewRect"),le=n.getLayout("r"),ue=ae.width,he=ae.x,_e=ae.y,Ce=ae.height;function $e(qe){qe.ignore=!0}function Oe(qe){if(!qe.ignore)return!0;for(var kt in qe.states)if(qe.states[kt].ignore===!1)return!0;return!1}n.each(function(qe){var kt=n.getItemGraphicEl(qe),Et=kt.shape,Pt=kt.getTextContent(),At=kt.getTextGuideLine(),Dt=n.getItemModel(qe),Lt=Dt.getModel("label"),hn=Lt.get("position")||Dt.get(["emphasis","label","position"]),_n=Lt.get("distanceToLabelLine"),vn=Lt.get("alignTo"),jt=parsePercent(Lt.get("edgeDistance"),ue),$n=Lt.get("bleedMargin"),Sn=Dt.getModel("labelLine"),bn=Sn.get("length");bn=parsePercent(bn,ue);var wn=Sn.get("length2");if(wn=parsePercent(wn,ue),Math.abs(Et.endAngle-Et.startAngle)<re){each$f(Pt.states,$e),Pt.ignore=!0,At&&(each$f(At.states,$e),At.ignore=!0);return}if(Oe(Pt)){var On=(Et.startAngle+Et.endAngle)/2,Tn=Math.cos(On),xn=Math.sin(On),Pn,An,Rn,Nn;y=Et.cx,$=Et.cy;var Dn=hn==="inside"||hn==="inner";if(hn==="center")Pn=Et.cx,An=Et.cy,Nn="center";else{var In=(Dn?(Et.r+Et.r0)/2*Tn:Et.r*Tn)+y,Fn=(Dn?(Et.r+Et.r0)/2*xn:Et.r*xn)+$;if(Pn=In+Tn*3,An=Fn+xn*3,!Dn){var Bn=In+Tn*(bn+le-Et.r),Mn=Fn+xn*(bn+le-Et.r),Hn=Bn+(Tn<0?-1:1)*wn,Yn=Mn;vn==="edge"?Pn=Tn<0?he+jt:he+ue-jt:Pn=Hn+(Tn<0?-_n:_n),An=Yn,Rn=[[In,Fn],[Bn,Mn],[Hn,Yn]]}Nn=Dn?"center":vn==="edge"?Tn>0?"right":"left":Tn>0?"left":"right"}var qn=Math.PI,Xn=0,jn=Lt.get("rotate");if(isNumber$1(jn))Xn=jn*(qn/180);else if(hn==="center")Xn=0;else if(jn==="radial"||jn===!0){var Zn=Tn<0?-On+qn:-On;Xn=Zn}else if(jn==="tangential"&&hn!=="outside"&&hn!=="outer"){var Un=Math.atan2(Tn,xn);Un<0&&(Un=qn*2+Un);var Jn=xn>0;Jn&&(Un=qn+Un),Xn=Un-qn}if(L=!!Xn,Pt.x=Pn,Pt.y=An,Pt.rotation=Xn,Pt.setStyle({verticalAlign:"middle"}),Dn){Pt.setStyle({align:Nn});var or=Pt.states.select;or&&(or.x+=Pt.x,or.y+=Pt.y)}else{var tr=Pt.getBoundingRect().clone();tr.applyTransform(Pt.getComputedTransform());var sr=(Pt.style.margin||0)+2.1;tr.y-=sr/2,tr.height+=sr,g.push({label:Pt,labelLine:At,position:hn,len:bn,len2:wn,minTurnAngle:Sn.get("minTurnAngle"),maxSurfaceAngle:Sn.get("maxSurfaceAngle"),surfaceNormal:new Point(Tn,xn),linePoints:Rn,textAlign:Nn,labelDistance:_n,labelAlignTo:vn,edgeDistance:jt,bleedMargin:$n,rect:tr,unconstrainedWidth:tr.width,labelStyleWidth:Pt.style.width})}kt.setTextConfig({inside:Dn})}}),!L&&r.get("avoidLabelOverlap")&&avoidOverlap(g,y,$,le,ue,Ce,he,_e);for(var xe=0;xe<g.length;xe++){var Ne=g[xe],Ie=Ne.label,Fe=Ne.labelLine,Ve=isNaN(Ie.x)||isNaN(Ie.y);if(Ie){Ie.setStyle({align:Ne.textAlign}),Ve&&(each$f(Ie.states,$e),Ie.ignore=!0);var ze=Ie.states.select;ze&&(ze.x+=Ie.x,ze.y+=Ie.y)}if(Fe){var Ue=Ne.linePoints;Ve||!Ue?(each$f(Fe.states,$e),Fe.ignore=!0):(limitTurnAngle(Ue,Ne.minTurnAngle),limitSurfaceAngle(Ue,Ne.surfaceNormal,Ne.maxSurfaceAngle),Fe.setShape({points:Ue}),Ie.__hostTarget.textGuideLineConfig={anchor:new Point(Ue[0][0],Ue[0][1])})}}}var PiePiece=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this)||this;L.z2=2;var re=new ZRText;return L.setTextContent(re),L.updateData(g,y,$,!0),L}return n.prototype.updateData=function(g,y,$,L){var re=this,ae=g.hostModel,le=g.getItemModel(y),ue=le.getModel("emphasis"),he=g.getItemLayout(y),_e=extend(getSectorCornerRadius(le.getModel("itemStyle"),he,!0),he);if(isNaN(_e.startAngle)){re.setShape(_e);return}if(L){re.setShape(_e);var Ce=ae.getShallow("animationType");ae.ecModel.ssr?(initProps(re,{scaleX:0,scaleY:0},ae,{dataIndex:y,isFrom:!0}),re.originX=_e.cx,re.originY=_e.cy):Ce==="scale"?(re.shape.r=he.r0,initProps(re,{shape:{r:he.r}},ae,y)):$!=null?(re.setShape({startAngle:$,endAngle:$}),initProps(re,{shape:{startAngle:he.startAngle,endAngle:he.endAngle}},ae,y)):(re.shape.endAngle=he.startAngle,updateProps$1(re,{shape:{endAngle:he.endAngle}},ae,y))}else saveOldStyle(re),updateProps$1(re,{shape:_e},ae,y);re.useStyle(g.getItemVisual(y,"style")),setStatesStylesFromModel(re,le);var $e=(he.startAngle+he.endAngle)/2,Oe=ae.get("selectedOffset"),xe=Math.cos($e)*Oe,Ne=Math.sin($e)*Oe,Ie=le.getShallow("cursor");Ie&&re.attr("cursor",Ie),this._updateLabel(ae,g,y),re.ensureState("emphasis").shape=extend({r:he.r+(ue.get("scale")&&ue.get("scaleSize")||0)},getSectorCornerRadius(ue.getModel("itemStyle"),he)),extend(re.ensureState("select"),{x:xe,y:Ne,shape:getSectorCornerRadius(le.getModel(["select","itemStyle"]),he)}),extend(re.ensureState("blur"),{shape:getSectorCornerRadius(le.getModel(["blur","itemStyle"]),he)});var Fe=re.getTextGuideLine(),Ve=re.getTextContent();Fe&&extend(Fe.ensureState("select"),{x:xe,y:Ne}),extend(Ve.ensureState("select"),{x:xe,y:Ne}),toggleHoverEmphasis(this,ue.get("focus"),ue.get("blurScope"),ue.get("disabled"))},n.prototype._updateLabel=function(g,y,$){var L=this,re=y.getItemModel($),ae=re.getModel("labelLine"),le=y.getItemVisual($,"style"),ue=le&&le.fill,he=le&&le.opacity;setLabelStyle(L,getLabelStatesModels(re),{labelFetcher:y.hostModel,labelDataIndex:$,inheritColor:ue,defaultOpacity:he,defaultText:g.getFormattedLabel($,"normal")||y.getName($)});var _e=L.getTextContent();L.setTextConfig({position:null,rotation:null}),_e.attr({z2:10});var Ce=g.get(["label","position"]);if(Ce!=="outside"&&Ce!=="outer")L.removeTextGuideLine();else{var $e=this.getTextGuideLine();$e||($e=new Polyline$1,this.setTextGuideLine($e)),setLabelLineStyle(this,getLabelLineStatesModels(re),{stroke:ue,opacity:retrieve3(ae.get(["lineStyle","opacity"]),he,1)})}},n}(Sector),PieView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.ignoreLabelLineUpdate=!0,g}return n.prototype.render=function(g,y,$,L){var re=g.getData(),ae=this._data,le=this.group,ue;if(!ae&&re.count()>0){for(var he=re.getItemLayout(0),_e=1;isNaN(he&&he.startAngle)&&_e<re.count();++_e)he=re.getItemLayout(_e);he&&(ue=he.startAngle)}if(this._emptyCircleSector&&le.remove(this._emptyCircleSector),re.count()===0&&g.get("showEmptyCircle")){var Ce=getSeriesLayoutData(g),$e=new Sector({shape:extend(getBasicPieLayout(g,$),Ce)});$e.useStyle(g.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=$e,le.add($e)}re.diff(ae).add(function(Oe){var xe=new PiePiece(re,Oe,ue);re.setItemGraphicEl(Oe,xe),le.add(xe)}).update(function(Oe,xe){var Ne=ae.getItemGraphicEl(xe);Ne.updateData(re,Oe,ue),Ne.off("click"),le.add(Ne),re.setItemGraphicEl(Oe,Ne)}).remove(function(Oe){var xe=ae.getItemGraphicEl(Oe);removeElementWithFadeOut(xe,g,Oe)}).execute(),pieLabelLayout(g),g.get("animationTypeUpdate")!=="expansion"&&(this._data=re)},n.prototype.dispose=function(){},n.prototype.containPoint=function(g,y){var $=y.getData(),L=$.getItemLayout(0);if(L){var re=g[0]-L.cx,ae=g[1]-L.cy,le=Math.sqrt(re*re+ae*ae);return le<=L.r&&le>=L.r0}},n.type="pie",n}(ChartView);function createSeriesDataSimply(r,n,g){n=isArray$2(n)&&{coordDimensions:n}||extend({encodeDefine:r.getEncode()},n);var y=r.getSource(),$=prepareSeriesDataSchema(y,n).dimensions,L=new SeriesData($,r);return L.initData(y,g),L}var LegendVisualProvider=function(){function r(n,g){this._getDataWithEncodedVisual=n,this._getRawData=g}return r.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},r.prototype.containName=function(n){var g=this._getRawData();return g.indexOfName(n)>=0},r.prototype.indexOfName=function(n){var g=this._getDataWithEncodedVisual();return g.indexOfName(n)},r.prototype.getItemVisual=function(n,g){var y=this._getDataWithEncodedVisual();return y.getItemVisual(n,g)},r}(),innerData=makeInner(),PieSeriesModel=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.init=function(g){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(g)},n.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(g){var y=this.getData(),$=innerData(y),L=$.seats;if(!L){var re=[];y.each(y.mapDimension("value"),function(le){re.push(le)}),L=$.seats=getPercentSeats(re,y.hostModel.get("percentPrecision"))}var ae=r.prototype.getDataParams.call(this,g);return ae.percent=L[g]||0,ae.$vars.push("percent"),ae},n.prototype._defaultLabelLine=function(g){defaultEmphasis(g,"labelLine",["show"]);var y=g.labelLine,$=g.emphasis.labelLine;y.show=y.show&&g.label.show,$.show=$.show&&g.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel);function negativeDataFilter(r){return{seriesType:r,reset:function(n,g){var y=n.getData();y.filterSelf(function($){var L=y.mapDimension("value"),re=y.get(L,$);return!(isNumber$1(re)&&!isNaN(re)&&re<0)})}}}function install$P(r){r.registerChartView(PieView),r.registerSeriesModel(PieSeriesModel),createLegacyDataSelectAction("pie",r.registerAction),r.registerLayout(curry$1(pieLayout,"pie")),r.registerProcessor(dataFilter$1("pie")),r.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.hasSymbolVisual=!0,g}return n.prototype.getInitialData=function(g,y){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var g=this.option.progressive;return g??(this.option.large?5e3:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var g=this.option.progressiveThreshold;return g??(this.option.large?1e4:this.get("progressiveThreshold"))},n.prototype.brushSelector=function(g,y,$){return $.point(y.getItemLayout(g))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function r(){}return r}(),LargeSymbolPath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y._off=0,y.hoverDataIdx=-1,y}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(g,y){var $=y.points,L=y.size,re=this.symbolProxy,ae=re.shape,le=g.getContext?g.getContext():g,ue=le&&L[0]<BOOST_SIZE_THRESHOLD,he=this.softClipShape,_e;if(ue){this._ctx=le;return}for(this._ctx=null,_e=this._off;_e<$.length;){var Ce=$[_e++],$e=$[_e++];isNaN(Ce)||isNaN($e)||he&&!he.contain(Ce,$e)||(ae.x=Ce-L[0]/2,ae.y=$e-L[1]/2,ae.width=L[0],ae.height=L[1],re.buildPath(g,ae,!0))}this.incremental&&(this._off=_e,this.notClear=!0)},n.prototype.afterBrush=function(){var g=this.shape,y=g.points,$=g.size,L=this._ctx,re=this.softClipShape,ae;if(L){for(ae=this._off;ae<y.length;){var le=y[ae++],ue=y[ae++];isNaN(le)||isNaN(ue)||re&&!re.contain(le,ue)||L.fillRect(le-$[0]/2,ue-$[1]/2,$[0],$[1])}this.incremental&&(this._off=ae,this.notClear=!0)}},n.prototype.findDataIndex=function(g,y){for(var $=this.shape,L=$.points,re=$.size,ae=Math.max(re[0],4),le=Math.max(re[1],4),ue=L.length/2-1;ue>=0;ue--){var he=ue*2,_e=L[he]-ae/2,Ce=L[he+1]-le/2;if(g>=_e&&y>=Ce&&g<=_e+ae&&y<=Ce+le)return ue}return-1},n.prototype.contain=function(g,y){var $=this.transformCoordToLocal(g,y),L=this.getBoundingRect();if(g=$[0],y=$[1],L.contain(g,y)){var re=this.hoverDataIdx=this.findDataIndex(g,y);return re>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var g=this._rect;if(!g){for(var y=this.shape,$=y.points,L=y.size,re=L[0],ae=L[1],le=1/0,ue=1/0,he=-1/0,_e=-1/0,Ce=0;Ce<$.length;){var $e=$[Ce++],Oe=$[Ce++];le=Math.min($e,le),he=Math.max($e,he),ue=Math.min(Oe,ue),_e=Math.max(Oe,_e)}g=this._rect=new BoundingRect(le-re/2,ue-ae/2,he-le+re,_e-ue+ae)}return g},n}(Path),LargeSymbolDraw=function(){function r(){this.group=new Group$3}return r.prototype.updateData=function(n,g){this._clear();var y=this._create();y.setShape({points:n.getLayout("points")}),this._setCommon(y,n,g)},r.prototype.updateLayout=function(n){var g=n.getLayout("points");this.group.eachChild(function(y){if(y.startIndex!=null){var $=(y.endIndex-y.startIndex)*2,L=y.startIndex*4*2;g=new Float32Array(g.buffer,L,$)}y.setShape("points",g),y.reset()})},r.prototype.incrementalPrepareUpdate=function(n){this._clear()},r.prototype.incrementalUpdate=function(n,g,y){var $=this._newAdded[0],L=g.getLayout("points"),re=$&&$.shape.points;if(re&&re.length<2e4){var ae=re.length,le=new Float32Array(ae+L.length);le.set(re),le.set(L,ae),$.endIndex=n.end,$.setShape({points:le})}else{this._newAdded=[];var ue=this._create();ue.startIndex=n.start,ue.endIndex=n.end,ue.incremental=!0,ue.setShape({points:L}),this._setCommon(ue,g,y)}},r.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},r.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},r.prototype._setCommon=function(n,g,y){var $=g.hostModel;y=y||{};var L=g.getVisual("symbolSize");n.setShape("size",L instanceof Array?L:[L,L]),n.softClipShape=y.clipShape||null,n.symbolProxy=createSymbol$1(g.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var re=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle($.getModel("itemStyle").getItemStyle(re?["color","shadowBlur","shadowColor"]:["color"]));var ae=g.getVisual("style"),le=ae&&ae.fill;le&&n.setColor(le);var ue=getECData(n);ue.seriesIndex=$.seriesIndex,n.on("mousemove",function(he){ue.dataIndex=null;var _e=n.hoverDataIdx;_e>=0&&(ue.dataIndex=_e+(n.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),ScatterView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=g.getData(),re=this._updateSymbolDraw(L,g);re.updateData(L,{clipShape:this._getClipShape(g)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(g,y,$){var L=g.getData(),re=this._updateSymbolDraw(L,g);re.incrementalPrepareUpdate(L),this._finished=!1},n.prototype.incrementalRender=function(g,y,$){this._symbolDraw.incrementalUpdate(g,y.getData(),{clipShape:this._getClipShape(y)}),this._finished=g.end===y.getData().count()},n.prototype.updateTransform=function(g,y,$){var L=g.getData();if(this.group.dirty(),!this._finished||L.count()>1e4)return{update:!0};var re=pointsLayout("").reset(g,y,$);re.progress&&re.progress({start:0,end:L.count(),count:L.count()},L),this._symbolDraw.updateLayout(L)},n.prototype.eachRendered=function(g){this._symbolDraw&&this._symbolDraw.eachRendered(g)},n.prototype._getClipShape=function(g){if(g.get("clip",!0)){var y=g.coordinateSystem;return y&&y.getArea&&y.getArea(.1)}},n.prototype._updateSymbolDraw=function(g,y){var $=this._symbolDraw,L=y.pipelineContext,re=L.large;return(!$||re!==this._isLargeDraw)&&($&&$.remove(),$=this._symbolDraw=re?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=re,this.group.removeAll()),this.group.add($.group),$},n.prototype.remove=function(g,y){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView),GridModel=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel),CartesianAxisModel=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge$1({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge$1({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge$1({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults$2({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(r,n,g,y){each$f(AXIS_TYPES,function($,L){var re=merge$1(merge$1({},axisDefault[L],!0),y,!0),ae=function(le){__extends$1(ue,le);function ue(){var he=le!==null&&le.apply(this,arguments)||this;return he.type=n+"Axis."+L,he}return ue.prototype.mergeDefaultAndTheme=function(he,_e){var Ce=fetchLayoutMode(this),$e=Ce?getLayoutParams(he):{},Oe=_e.getTheme();merge$1(he,Oe.get(L+"Axis")),merge$1(he,this.getDefaultOption()),he.type=getAxisType(he),Ce&&mergeLayoutParam(he,$e,Ce)},ue.prototype.optionUpdated=function(){var he=this.option;he.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},ue.prototype.getCategories=function(he){var _e=this.option;if(_e.type==="category")return he?_e.data:this.__ordinalMeta.categories},ue.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},ue.type=n+"Axis."+L,ue.defaultOption=re,ue}(g);r.registerComponentModel(ae)}),r.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(r){return r.type||(r.data?"category":"value")}var Cartesian=function(){function r(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return r.prototype.getAxis=function(n){return this._axes[n]},r.prototype.getAxes=function(){return map$1(this._dimList,function(n){return this._axes[n]},this)},r.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(g){return g.scale.type===n})},r.prototype.addAxis=function(n){var g=n.dim;this._axes[g]=n,this._dimList.push(g)},r}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(r){return r.type==="interval"||r.type==="time"}var Cartesian2D=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="cartesian2d",g.dimensions=cartesian2DDimensions,g}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var g=this.getAxis("x").scale,y=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(g)||!canCalculateAffineTransform(y))){var $=g.getExtent(),L=y.getExtent(),re=this.dataToPoint([$[0],L[0]]),ae=this.dataToPoint([$[1],L[1]]),le=$[1]-$[0],ue=L[1]-L[0];if(!(!le||!ue)){var he=(ae[0]-re[0])/le,_e=(ae[1]-re[1])/ue,Ce=re[0]-$[0]*he,$e=re[1]-L[0]*_e,Oe=this._transform=[he,0,0,_e,Ce,$e];this._invTransform=invert([],Oe)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(g){var y=this.getAxis("x"),$=this.getAxis("y");return y.contain(y.toLocalCoord(g[0]))&&$.contain($.toLocalCoord(g[1]))},n.prototype.containData=function(g){return this.getAxis("x").containData(g[0])&&this.getAxis("y").containData(g[1])},n.prototype.containZone=function(g,y){var $=this.dataToPoint(g),L=this.dataToPoint(y),re=this.getArea(),ae=new BoundingRect($[0],$[1],L[0]-$[0],L[1]-$[1]);return re.intersect(ae)},n.prototype.dataToPoint=function(g,y,$){$=$||[];var L=g[0],re=g[1];if(this._transform&&L!=null&&isFinite(L)&&re!=null&&isFinite(re))return applyTransform$1($,g,this._transform);var ae=this.getAxis("x"),le=this.getAxis("y");return $[0]=ae.toGlobalCoord(ae.dataToCoord(L,y)),$[1]=le.toGlobalCoord(le.dataToCoord(re,y)),$},n.prototype.clampData=function(g,y){var $=this.getAxis("x").scale,L=this.getAxis("y").scale,re=$.getExtent(),ae=L.getExtent(),le=$.parse(g[0]),ue=L.parse(g[1]);return y=y||[],y[0]=Math.min(Math.max(Math.min(re[0],re[1]),le),Math.max(re[0],re[1])),y[1]=Math.min(Math.max(Math.min(ae[0],ae[1]),ue),Math.max(ae[0],ae[1])),y},n.prototype.pointToData=function(g,y){var $=[];if(this._invTransform)return applyTransform$1($,g,this._invTransform);var L=this.getAxis("x"),re=this.getAxis("y");return $[0]=L.coordToData(L.toLocalCoord(g[0]),y),$[1]=re.coordToData(re.toLocalCoord(g[1]),y),$},n.prototype.getOtherAxis=function(g){return this.getAxis(g.dim==="x"?"y":"x")},n.prototype.getArea=function(g){g=g||0;var y=this.getAxis("x").getGlobalExtent(),$=this.getAxis("y").getGlobalExtent(),L=Math.min(y[0],y[1])-g,re=Math.min($[0],$[1])-g,ae=Math.max(y[0],y[1])-L+g,le=Math.max($[0],$[1])-re+g;return new BoundingRect(L,re,ae,le)},n}(Cartesian),Axis2D=function(r){__extends$1(n,r);function n(g,y,$,L,re){var ae=r.call(this,g,y,$)||this;return ae.index=0,ae.type=L||"value",ae.position=re||"bottom",ae}return n.prototype.isHorizontal=function(){var g=this.position;return g==="top"||g==="bottom"},n.prototype.getGlobalExtent=function(g){var y=this.getExtent();return y[0]=this.toGlobalCoord(y[0]),y[1]=this.toGlobalCoord(y[1]),g&&y[0]>y[1]&&y.reverse(),y},n.prototype.pointToData=function(g,y){return this.coordToData(this.toLocalCoord(g[this.dim==="x"?0:1]),y)},n.prototype.setCategorySortInfo=function(g){if(this.type!=="category")return!1;this.model.option.categorySortInfo=g,this.scale.setSortInfo(g)},n}(Axis);function layout$2(r,n,g){g=g||{};var y=r.coordinateSystem,$=n.axis,L={},re=$.getAxesOnZeroOf()[0],ae=$.position,le=re?"onZero":ae,ue=$.dim,he=y.getRect(),_e=[he.x,he.x+he.width,he.y,he.y+he.height],Ce={left:0,right:1,top:0,bottom:1,onZero:2},$e=n.get("offset")||0,Oe=ue==="x"?[_e[2]-$e,_e[3]+$e]:[_e[0]-$e,_e[1]+$e];if(re){var xe=re.toGlobalCoord(re.dataToCoord(0));Oe[Ce.onZero]=Math.max(Math.min(xe,Oe[1]),Oe[0])}L.position=[ue==="y"?Oe[Ce[le]]:_e[0],ue==="x"?Oe[Ce[le]]:_e[3]],L.rotation=Math.PI/2*(ue==="x"?0:1);var Ne={top:-1,bottom:1,left:-1,right:1};L.labelDirection=L.tickDirection=L.nameDirection=Ne[ae],L.labelOffset=re?Oe[Ce[ae]]-Oe[Ce.onZero]:0,n.get(["axisTick","inside"])&&(L.tickDirection=-L.tickDirection),retrieve(g.labelInside,n.get(["axisLabel","inside"]))&&(L.labelDirection=-L.labelDirection);var Ie=n.get(["axisLabel","rotate"]);return L.labelRotate=le==="top"?-Ie:Ie,L.z2=1,L}function isCartesian2DSeries(r){return r.get("coordinateSystem")==="cartesian2d"}function findAxisModels(r){var n={xAxisModel:null,yAxisModel:null};return each$f(n,function(g,y){var $=y.replace(/Model$/,""),L=r.getReferringComponents($,SINGLE_REFERRING).models[0];n[y]=L}),n}var mathLog=Math.log;function alignScaleTicks(r,n,g){var y=IntervalScale.prototype,$=y.getTicks.call(g),L=y.getTicks.call(g,!0),re=$.length-1,ae=y.getInterval.call(g),le=getScaleExtent(r,n),ue=le.extent,he=le.fixMin,_e=le.fixMax;if(r.type==="log"){var Ce=mathLog(r.base);ue=[mathLog(ue[0])/Ce,mathLog(ue[1])/Ce]}r.setExtent(ue[0],ue[1]),r.calcNiceExtent({splitNumber:re,fixMin:he,fixMax:_e});var $e=y.getExtent.call(r);he&&(ue[0]=$e[0]),_e&&(ue[1]=$e[1]);var Oe=y.getInterval.call(r),xe=ue[0],Ne=ue[1];if(he&&_e)Oe=(Ne-xe)/re;else if(he)for(Ne=ue[0]+Oe*re;Ne<ue[1]&&isFinite(Ne)&&isFinite(ue[1]);)Oe=increaseInterval(Oe),Ne=ue[0]+Oe*re;else if(_e)for(xe=ue[1]-Oe*re;xe>ue[0]&&isFinite(xe)&&isFinite(ue[0]);)Oe=increaseInterval(Oe),xe=ue[1]-Oe*re;else{var Ie=r.getTicks().length-1;Ie>re&&(Oe=increaseInterval(Oe));var Fe=Oe*re;Ne=Math.ceil(ue[1]/Oe)*Oe,xe=round$4(Ne-Fe),xe<0&&ue[0]>=0?(xe=0,Ne=round$4(Fe)):Ne>0&&ue[1]<=0&&(Ne=0,xe=-round$4(Fe))}var Ve=($[0].value-L[0].value)/ae,ze=($[re].value-L[re].value)/ae;y.setExtent.call(r,xe+Oe*Ve,Ne+Oe*ze),y.setInterval.call(r,Oe),(Ve||ze)&&y.setNiceExtent.call(r,xe+Oe,Ne-Oe)}var Grid=function(){function r(n,g,y){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,g,y),this.model=n}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(n,g){var y=this._axesMap;this._updateScale(n,this.model);function $(re){var ae,le=keys$1(re),ue=le.length;if(ue){for(var he=[],_e=ue-1;_e>=0;_e--){var Ce=+le[_e],$e=re[Ce],Oe=$e.model,xe=$e.scale;isIntervalOrLogScale(xe)&&Oe.get("alignTicks")&&Oe.get("interval")==null?he.push($e):(niceScaleExtent(xe,Oe),isIntervalOrLogScale(xe)&&(ae=$e))}he.length&&(ae||(ae=he.pop(),niceScaleExtent(ae.scale,ae.model)),each$f(he,function(Ne){alignScaleTicks(Ne.scale,Ne.model,ae.scale)}))}}$(y.x),$(y.y);var L={};each$f(y.x,function(re){fixAxisOnZero(y,"y",re,L)}),each$f(y.y,function(re){fixAxisOnZero(y,"x",re,L)}),this.resize(this.model,g)},r.prototype.resize=function(n,g,y){var $=n.getBoxLayoutParams(),L=!y&&n.get("containLabel"),re=getLayoutRect$1($,{width:g.getWidth(),height:g.getHeight()});this._rect=re;var ae=this._axesList;le(),L&&(each$f(ae,function(ue){if(!ue.model.get(["axisLabel","inside"])){var he=estimateLabelUnionRect(ue);if(he){var _e=ue.isHorizontal()?"height":"width",Ce=ue.model.get(["axisLabel","margin"]);re[_e]-=he[_e]+Ce,ue.position==="top"?re.y+=he.height+Ce:ue.position==="left"&&(re.x+=he.width+Ce)}}}),le()),each$f(this._coordsList,function(ue){ue.calcAffineTransform()});function le(){each$f(ae,function(ue){var he=ue.isHorizontal(),_e=he?[0,re.width]:[0,re.height],Ce=ue.inverse?1:0;ue.setExtent(_e[Ce],_e[1-Ce]),updateAxisTransform(ue,he?re.x:re.y)})}},r.prototype.getAxis=function(n,g){var y=this._axesMap[n];if(y!=null)return y[g||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(n,g){if(n!=null&&g!=null){var y="x"+n+"y"+g;return this._coordsMap[y]}isObject$3(n)&&(g=n.yAxisIndex,n=n.xAxisIndex);for(var $=0,L=this._coordsList;$<L.length;$++)if(L[$].getAxis("x").index===n||L[$].getAxis("y").index===g)return L[$]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(n,g,y){var $=this._findConvertTarget(g);return $.cartesian?$.cartesian.dataToPoint(y):$.axis?$.axis.toGlobalCoord($.axis.dataToCoord(y)):null},r.prototype.convertFromPixel=function(n,g,y){var $=this._findConvertTarget(g);return $.cartesian?$.cartesian.pointToData(y):$.axis?$.axis.coordToData($.axis.toLocalCoord(y)):null},r.prototype._findConvertTarget=function(n){var g=n.seriesModel,y=n.xAxisModel||g&&g.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],$=n.yAxisModel||g&&g.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],L=n.gridModel,re=this._coordsList,ae,le;if(g)ae=g.coordinateSystem,indexOf(re,ae)<0&&(ae=null);else if(y&&$)ae=this.getCartesian(y.componentIndex,$.componentIndex);else if(y)le=this.getAxis("x",y.componentIndex);else if($)le=this.getAxis("y",$.componentIndex);else if(L){var ue=L.coordinateSystem;ue===this&&(ae=this._coordsList[0])}return{cartesian:ae,axis:le}},r.prototype.containPoint=function(n){var g=this._coordsList[0];if(g)return g.containPoint(n)},r.prototype._initCartesian=function(n,g,y){var $=this,L=this,re={left:!1,right:!1,top:!1,bottom:!1},ae={x:{},y:{}},le={x:0,y:0};if(g.eachComponent("xAxis",ue("x"),this),g.eachComponent("yAxis",ue("y"),this),!le.x||!le.y){this._axesMap={},this._axesList=[];return}this._axesMap=ae,each$f(ae.x,function(he,_e){each$f(ae.y,function(Ce,$e){var Oe="x"+_e+"y"+$e,xe=new Cartesian2D(Oe);xe.master=$,xe.model=n,$._coordsMap[Oe]=xe,$._coordsList.push(xe),xe.addAxis(he),xe.addAxis(Ce)})});function ue(he){return function(_e,Ce){if(isAxisUsedInTheGrid(_e,n)){var $e=_e.get("position");he==="x"?$e!=="top"&&$e!=="bottom"&&($e=re.bottom?"top":"bottom"):$e!=="left"&&$e!=="right"&&($e=re.left?"right":"left"),re[$e]=!0;var Oe=new Axis2D(he,createScaleByModel$1(_e),[0,0],_e.get("type"),$e),xe=Oe.type==="category";Oe.onBand=xe&&_e.get("boundaryGap"),Oe.inverse=_e.get("inverse"),_e.axis=Oe,Oe.model=_e,Oe.grid=L,Oe.index=Ce,L._axesList.push(Oe),ae[he][Ce]=Oe,le[he]++}}}},r.prototype._updateScale=function(n,g){each$f(this._axesList,function($){if($.scale.setExtent(1/0,-1/0),$.type==="category"){var L=$.model.get("categorySortInfo");$.scale.setSortInfo(L)}}),n.eachSeries(function($){if(isCartesian2DSeries($)){var L=findAxisModels($),re=L.xAxisModel,ae=L.yAxisModel;if(!isAxisUsedInTheGrid(re,g)||!isAxisUsedInTheGrid(ae,g))return;var le=this.getCartesian(re.componentIndex,ae.componentIndex),ue=$.getData(),he=le.getAxis("x"),_e=le.getAxis("y");y(ue,he),y(ue,_e)}},this);function y($,L){each$f(getDataDimensionsOnAxis($,L.dim),function(re){L.scale.unionExtentFromData($,re)})}},r.prototype.getTooltipAxes=function(n){var g=[],y=[];return each$f(this.getCartesians(),function($){var L=n!=null&&n!=="auto"?$.getAxis(n):$.getBaseAxis(),re=$.getOtherAxis(L);indexOf(g,L)<0&&g.push(L),indexOf(y,re)<0&&y.push(re)}),{baseAxes:g,otherAxes:y}},r.create=function(n,g){var y=[];return n.eachComponent("grid",function($,L){var re=new r($,n,g);re.name="grid_"+L,re.resize($,g,!0),$.coordinateSystem=re,y.push(re)}),n.eachSeries(function($){if(isCartesian2DSeries($)){var L=findAxisModels($),re=L.xAxisModel,ae=L.yAxisModel,le=re.getCoordSysModel(),ue=le.coordinateSystem;$.coordinateSystem=ue.getCartesian(re.componentIndex,ae.componentIndex)}}),y},r.dimensions=cartesian2DDimensions,r}();function isAxisUsedInTheGrid(r,n){return r.getCoordSysModel()===n}function fixAxisOnZero(r,n,g,y){g.getAxesOnZeroOf=function(){return L?[L]:[]};var $=r[n],L,re=g.model,ae=re.get(["axisLine","onZero"]),le=re.get(["axisLine","onZeroAxisIndex"]);if(!ae)return;if(le!=null)canOnZeroToAxis($[le])&&(L=$[le]);else for(var ue in $)if($.hasOwnProperty(ue)&&canOnZeroToAxis($[ue])&&!y[he($[ue])]){L=$[ue];break}L&&(y[he(L)]=!0);function he(_e){return _e.dim+"_"+_e.index}}function canOnZeroToAxis(r){return r&&r.type!=="category"&&r.type!=="time"&&ifAxisCrossZero(r)}function updateAxisTransform(r,n){var g=r.getExtent(),y=g[0]+g[1];r.toGlobalCoord=r.dim==="x"?function($){return $+n}:function($){return y-$+n},r.toLocalCoord=r.dim==="x"?function($){return $-n}:function($){return y-$+n}}var PI$3=Math.PI,AxisBuilder=function(){function r(n,g){this.group=new Group$3,this.opt=g,this.axisModel=n,defaults$2(g,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var y=new Group$3({x:g.position[0],y:g.position[1],rotation:g.rotation});y.updateTransform(),this._transformGroup=y}return r.prototype.hasBuilder=function(n){return!!builders[n]},r.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(n,g,y){var $=remRadian(g-n),L,re;return isRadianAroundZero($)?(re=y>0?"top":"bottom",L="center"):isRadianAroundZero($-PI$3)?(re=y>0?"bottom":"top",L="center"):(re="middle",$>0&&$<PI$3?L=y>0?"right":"left":L=y>0?"left":"right"),{rotation:$,textAlign:L,textVerticalAlign:re}},r.makeAxisEventDataBase=function(n){var g={componentType:n.mainType,componentIndex:n.componentIndex};return g[n.mainType+"Index"]=n.componentIndex,g},r.isLabelSilent=function(n){var g=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||g&&g.show)},r}(),builders={axisLine:function(r,n,g,y){var $=n.get(["axisLine","show"]);if($==="auto"&&r.handleAutoShown&&($=r.handleAutoShown("axisLine")),!!$){var L=n.axis.getExtent(),re=y.transform,ae=[L[0],0],le=[L[1],0],ue=ae[0]>le[0];re&&(applyTransform$1(ae,ae,re),applyTransform$1(le,le,re));var he=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),_e=new Line$2({shape:{x1:ae[0],y1:ae[1],x2:le[0],y2:le[1]},style:he,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(_e.shape,_e.style.lineWidth),_e.anid="line",g.add(_e);var Ce=n.get(["axisLine","symbol"]);if(Ce!=null){var $e=n.get(["axisLine","symbolSize"]);isString(Ce)&&(Ce=[Ce,Ce]),(isString($e)||isNumber$1($e))&&($e=[$e,$e]);var Oe=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,$e),xe=$e[0],Ne=$e[1];each$f([{rotate:r.rotation+Math.PI/2,offset:Oe[0],r:0},{rotate:r.rotation-Math.PI/2,offset:Oe[1],r:Math.sqrt((ae[0]-le[0])*(ae[0]-le[0])+(ae[1]-le[1])*(ae[1]-le[1]))}],function(Ie,Fe){if(Ce[Fe]!=="none"&&Ce[Fe]!=null){var Ve=createSymbol$1(Ce[Fe],-xe/2,-Ne/2,xe,Ne,he.stroke,!0),ze=Ie.r+Ie.offset,Ue=ue?le:ae;Ve.attr({rotation:Ie.rotate,x:Ue[0]+ze*Math.cos(r.rotation),y:Ue[1]-ze*Math.sin(r.rotation),silent:!0,z2:11}),g.add(Ve)}})}}},axisTickLabel:function(r,n,g,y){var $=buildAxisMajorTicks(g,y,n,r),L=buildAxisLabel(g,y,n,r);if(fixMinMaxLabelShow(n,L,$),buildAxisMinorTicks(g,y,n,r.tickDirection),n.get(["axisLabel","hideOverlap"])){var re=prepareLayoutList(map$1(L,function(ae){return{label:ae,priority:ae.z2,defaultAttr:{ignore:ae.ignore}}}));hideOverlap(re)}},axisName:function(r,n,g,y){var $=retrieve(r.axisName,n.get("name"));if($){var L=n.get("nameLocation"),re=r.nameDirection,ae=n.getModel("nameTextStyle"),le=n.get("nameGap")||0,ue=n.axis.getExtent(),he=ue[0]>ue[1]?-1:1,_e=[L==="start"?ue[0]-he*le:L==="end"?ue[1]+he*le:(ue[0]+ue[1])/2,isNameLocationCenter(L)?r.labelOffset+re*le:0],Ce,$e=n.get("nameRotate");$e!=null&&($e=$e*PI$3/180);var Oe;isNameLocationCenter(L)?Ce=AxisBuilder.innerTextLayout(r.rotation,$e??r.rotation,re):(Ce=endTextLayout(r.rotation,L,$e||0,ue),Oe=r.axisNameAvailableWidth,Oe!=null&&(Oe=Math.abs(Oe/Math.sin(Ce.rotation)),!isFinite(Oe)&&(Oe=null)));var xe=ae.getFont(),Ne=n.get("nameTruncate",!0)||{},Ie=Ne.ellipsis,Fe=retrieve(r.nameTruncateMaxWidth,Ne.maxWidth,Oe),Ve=new ZRText({x:_e[0],y:_e[1],rotation:Ce.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle$1(ae,{text:$,font:xe,overflow:"truncate",width:Fe,ellipsis:Ie,fill:ae.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:ae.get("align")||Ce.textAlign,verticalAlign:ae.get("verticalAlign")||Ce.textVerticalAlign}),z2:1});if(setTooltipConfig({el:Ve,componentModel:n,itemName:$}),Ve.__fullText=$,Ve.anid="name",n.get("triggerEvent")){var ze=AxisBuilder.makeAxisEventDataBase(n);ze.targetType="axisName",ze.name=$,getECData(Ve).eventData=ze}y.add(Ve),Ve.updateTransform(),g.add(Ve),Ve.decomposeTransform()}}};function endTextLayout(r,n,g,y){var $=remRadian(g-r),L,re,ae=y[0]>y[1],le=n==="start"&&!ae||n!=="start"&&ae;return isRadianAroundZero($-PI$3/2)?(re=le?"bottom":"top",L="center"):isRadianAroundZero($-PI$3*1.5)?(re=le?"top":"bottom",L="center"):(re="middle",$<PI$3*1.5&&$>PI$3/2?L=le?"left":"right":L=le?"right":"left"),{rotation:$,textAlign:L,textVerticalAlign:re}}function fixMinMaxLabelShow(r,n,g){if(!shouldShowAllLabels(r.axis)){var y=r.get(["axisLabel","showMinLabel"]),$=r.get(["axisLabel","showMaxLabel"]);n=n||[],g=g||[];var L=n[0],re=n[1],ae=n[n.length-1],le=n[n.length-2],ue=g[0],he=g[1],_e=g[g.length-1],Ce=g[g.length-2];y===!1?(ignoreEl(L),ignoreEl(ue)):isTwoLabelOverlapped(L,re)&&(y?(ignoreEl(re),ignoreEl(he)):(ignoreEl(L),ignoreEl(ue))),$===!1?(ignoreEl(ae),ignoreEl(_e)):isTwoLabelOverlapped(le,ae)&&($?(ignoreEl(le),ignoreEl(Ce)):(ignoreEl(ae),ignoreEl(_e)))}}function ignoreEl(r){r&&(r.ignore=!0)}function isTwoLabelOverlapped(r,n){var g=r&&r.getBoundingRect().clone(),y=n&&n.getBoundingRect().clone();if(!(!g||!y)){var $=identity([]);return rotate($,$,-r.rotation),g.applyTransform(mul([],$,r.getLocalTransform())),y.applyTransform(mul([],$,n.getLocalTransform())),g.intersect(y)}}function isNameLocationCenter(r){return r==="middle"||r==="center"}function createTicks(r,n,g,y,$){for(var L=[],re=[],ae=[],le=0;le<r.length;le++){var ue=r[le].coord;re[0]=ue,re[1]=0,ae[0]=ue,ae[1]=g,n&&(applyTransform$1(re,re,n),applyTransform$1(ae,ae,n));var he=new Line$2({shape:{x1:re[0],y1:re[1],x2:ae[0],y2:ae[1]},style:y,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(he.shape,he.style.lineWidth),he.anid=$+"_"+r[le].tickValue,L.push(he)}return L}function buildAxisMajorTicks(r,n,g,y){var $=g.axis,L=g.getModel("axisTick"),re=L.get("show");if(re==="auto"&&y.handleAutoShown&&(re=y.handleAutoShown("axisTick")),!(!re||$.scale.isBlank())){for(var ae=L.getModel("lineStyle"),le=y.tickDirection*L.get("length"),ue=$.getTicksCoords(),he=createTicks(ue,n.transform,le,defaults$2(ae.getLineStyle(),{stroke:g.get(["axisLine","lineStyle","color"])}),"ticks"),_e=0;_e<he.length;_e++)r.add(he[_e]);return he}}function buildAxisMinorTicks(r,n,g,y){var $=g.axis,L=g.getModel("minorTick");if(!(!L.get("show")||$.scale.isBlank())){var re=$.getMinorTicksCoords();if(re.length)for(var ae=L.getModel("lineStyle"),le=y*L.get("length"),ue=defaults$2(ae.getLineStyle(),defaults$2(g.getModel("axisTick").getLineStyle(),{stroke:g.get(["axisLine","lineStyle","color"])})),he=0;he<re.length;he++)for(var _e=createTicks(re[he],n.transform,le,ue,"minorticks_"+he),Ce=0;Ce<_e.length;Ce++)r.add(_e[Ce])}}function buildAxisLabel(r,n,g,y){var $=g.axis,L=retrieve(y.axisLabelShow,g.get(["axisLabel","show"]));if(!(!L||$.scale.isBlank())){var re=g.getModel("axisLabel"),ae=re.get("margin"),le=$.getViewLabels(),ue=(retrieve(y.labelRotate,re.get("rotate"))||0)*PI$3/180,he=AxisBuilder.innerTextLayout(y.rotation,ue,y.labelDirection),_e=g.getCategories&&g.getCategories(!0),Ce=[],$e=AxisBuilder.isLabelSilent(g),Oe=g.get("triggerEvent");return each$f(le,function(xe,Ne){var Ie=$.scale.type==="ordinal"?$.scale.getRawOrdinalNumber(xe.tickValue):xe.tickValue,Fe=xe.formattedLabel,Ve=xe.rawLabel,ze=re;if(_e&&_e[Ie]){var Ue=_e[Ie];isObject$3(Ue)&&Ue.textStyle&&(ze=new Model(Ue.textStyle,re,g.ecModel))}var qe=ze.getTextColor()||g.get(["axisLine","lineStyle","color"]),kt=$.dataToCoord(Ie),Et=ze.getShallow("align",!0)||he.textAlign,Pt=retrieve2(ze.getShallow("alignMinLabel",!0),Et),At=retrieve2(ze.getShallow("alignMaxLabel",!0),Et),Dt=ze.getShallow("verticalAlign",!0)||ze.getShallow("baseline",!0)||he.textVerticalAlign,Lt=retrieve2(ze.getShallow("verticalAlignMinLabel",!0),Dt),hn=retrieve2(ze.getShallow("verticalAlignMaxLabel",!0),Dt),_n=new ZRText({x:kt,y:y.labelOffset+y.labelDirection*ae,rotation:he.rotation,silent:$e,z2:10+(xe.level||0),style:createTextStyle$1(ze,{text:Fe,align:Ne===0?Pt:Ne===le.length-1?At:Et,verticalAlign:Ne===0?Lt:Ne===le.length-1?hn:Dt,fill:isFunction(qe)?qe($.type==="category"?Ve:$.type==="value"?Ie+"":Ie,Ne):qe})});if(_n.anid="label_"+Ie,setTooltipConfig({el:_n,componentModel:g,itemName:Fe,formatterParamsExtra:{isTruncated:function(){return _n.isTruncated},value:Ve,tickIndex:Ne}}),Oe){var vn=AxisBuilder.makeAxisEventDataBase(g);vn.targetType="axisLabel",vn.value=Ve,vn.tickIndex=Ne,$.type==="category"&&(vn.dataIndex=Ie),getECData(_n).eventData=vn}n.add(_n),_n.updateTransform(),Ce.push(_n),r.add(_n),_n.decomposeTransform()}),Ce}}function collect(r,n){var g={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(g,r,n),g.seriesInvolved&&collectSeriesInfo(g,r),g}function collectAxesInfo(r,n,g){var y=n.getComponent("tooltip"),$=n.getComponent("axisPointer"),L=$.get("link",!0)||[],re=[];each$f(g.getCoordinateSystems(),function(ae){if(!ae.axisPointerEnabled)return;var le=makeKey(ae.model),ue=r.coordSysAxesInfo[le]={};r.coordSysMap[le]=ae;var he=ae.model,_e=he.getModel("tooltip",y);if(each$f(ae.getAxes(),curry$1(xe,!1,null)),ae.getTooltipAxes&&y&&_e.get("show")){var Ce=_e.get("trigger")==="axis",$e=_e.get(["axisPointer","type"])==="cross",Oe=ae.getTooltipAxes(_e.get(["axisPointer","axis"]));(Ce||$e)&&each$f(Oe.baseAxes,curry$1(xe,$e?"cross":!0,Ce)),$e&&each$f(Oe.otherAxes,curry$1(xe,"cross",!1))}function xe(Ne,Ie,Fe){var Ve=Fe.model.getModel("axisPointer",$),ze=Ve.get("show");if(!(!ze||ze==="auto"&&!Ne&&!isHandleTrigger(Ve))){Ie==null&&(Ie=Ve.get("triggerTooltip")),Ve=Ne?makeAxisPointerModel(Fe,_e,$,n,Ne,Ie):Ve;var Ue=Ve.get("snap"),qe=Ve.get("triggerEmphasis"),kt=makeKey(Fe.model),Et=Ie||Ue||Fe.type==="category",Pt=r.axesInfo[kt]={key:kt,axis:Fe,coordSys:ae,axisPointerModel:Ve,triggerTooltip:Ie,triggerEmphasis:qe,involveSeries:Et,snap:Ue,useHandle:isHandleTrigger(Ve),seriesModels:[],linkGroup:null};ue[kt]=Pt,r.seriesInvolved=r.seriesInvolved||Et;var At=getLinkGroupIndex(L,Fe);if(At!=null){var Dt=re[At]||(re[At]={axesInfo:{}});Dt.axesInfo[kt]=Pt,Dt.mapper=L[At].mapper,Pt.linkGroup=Dt}}}})}function makeAxisPointerModel(r,n,g,y,$,L){var re=n.getModel("axisPointer"),ae=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],le={};each$f(ae,function(Ce){le[Ce]=clone$4(re.get(Ce))}),le.snap=r.type!=="category"&&!!L,re.get("type")==="cross"&&(le.type="line");var ue=le.label||(le.label={});if(ue.show==null&&(ue.show=!1),$==="cross"){var he=re.get(["label","show"]);if(ue.show=he??!0,!L){var _e=le.lineStyle=re.get("crossStyle");_e&&defaults$2(ue,_e.textStyle)}}return r.model.getModel("axisPointer",new Model(le,g,y))}function collectSeriesInfo(r,n){n.eachSeries(function(g){var y=g.coordinateSystem,$=g.get(["tooltip","trigger"],!0),L=g.get(["tooltip","show"],!0);!y||$==="none"||$===!1||$==="item"||L===!1||g.get(["axisPointer","show"],!0)===!1||each$f(r.coordSysAxesInfo[makeKey(y.model)],function(re){var ae=re.axis;y.getAxis(ae.dim)===ae&&(re.seriesModels.push(g),re.seriesDataCount==null&&(re.seriesDataCount=0),re.seriesDataCount+=g.getData().count())})})}function getLinkGroupIndex(r,n){for(var g=n.model,y=n.dim,$=0;$<r.length;$++){var L=r[$]||{};if(checkPropInLink(L[y+"AxisId"],g.id)||checkPropInLink(L[y+"AxisIndex"],g.componentIndex)||checkPropInLink(L[y+"AxisName"],g.name))return $}}function checkPropInLink(r,n){return r==="all"||isArray$2(r)&&indexOf(r,n)>=0||r===n}function fixValue(r){var n=getAxisInfo$1(r);if(n){var g=n.axisPointerModel,y=n.axis.scale,$=g.option,L=g.get("status"),re=g.get("value");re!=null&&(re=y.parse(re));var ae=isHandleTrigger(g);L==null&&($.status=ae?"show":"hide");var le=y.getExtent().slice();le[0]>le[1]&&le.reverse(),(re==null||re>le[1])&&(re=le[1]),re<le[0]&&(re=le[0]),$.value=re,ae&&($.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(r){var n=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(r)]}function getAxisPointerModel(r){var n=getAxisInfo$1(r);return n&&n.axisPointerModel}function isHandleTrigger(r){return!!r.get(["handle","show"])}function makeKey(r){return r.type+"||"+r.id}var axisPointerClazz={},AxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$,L){this.axisPointerClass&&fixValue(g),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(g,$,!0)},n.prototype.updateAxisPointer=function(g,y,$,L){this._doUpdateAxisPointerClass(g,$,!1)},n.prototype.remove=function(g,y){var $=this._axisPointer;$&&$.remove(y)},n.prototype.dispose=function(g,y){this._disposeAxisPointer(y),r.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(g,y,$){var L=n.getAxisPointerClass(this.axisPointerClass);if(L){var re=getAxisPointerModel(g);re?(this._axisPointer||(this._axisPointer=new L)).render(g,re,y,$):this._disposeAxisPointer(y)}},n.prototype._disposeAxisPointer=function(g){this._axisPointer&&this._axisPointer.dispose(g),this._axisPointer=null},n.registerAxisPointerClass=function(g,y){axisPointerClazz[g]=y},n.getAxisPointerClass=function(g){return g&&axisPointerClazz[g]},n.type="axis",n}(ComponentView),inner$f=makeInner();function rectCoordAxisBuildSplitArea(r,n,g,y){var $=g.axis;if(!$.scale.isBlank()){var L=g.getModel("splitArea"),re=L.getModel("areaStyle"),ae=re.get("color"),le=y.coordinateSystem.getRect(),ue=$.getTicksCoords({tickModel:L,clamp:!0});if(ue.length){var he=ae.length,_e=inner$f(r).splitAreaColors,Ce=createHashMap(),$e=0;if(_e)for(var Oe=0;Oe<ue.length;Oe++){var xe=_e.get(ue[Oe].tickValue);if(xe!=null){$e=(xe+(he-1)*Oe)%he;break}}var Ne=$.toGlobalCoord(ue[0].coord),Ie=re.getAreaStyle();ae=isArray$2(ae)?ae:[ae];for(var Oe=1;Oe<ue.length;Oe++){var Fe=$.toGlobalCoord(ue[Oe].coord),Ve=void 0,ze=void 0,Ue=void 0,qe=void 0;$.isHorizontal()?(Ve=Ne,ze=le.y,Ue=Fe-Ve,qe=le.height,Ne=Ve+Ue):(Ve=le.x,ze=Ne,Ue=le.width,qe=Fe-ze,Ne=ze+qe);var kt=ue[Oe-1].tickValue;kt!=null&&Ce.set(kt,$e),n.add(new Rect$2({anid:kt!=null?"area_"+kt:null,shape:{x:Ve,y:ze,width:Ue,height:qe},style:defaults$2({fill:ae[$e]},Ie),autoBatch:!0,silent:!0})),$e=($e+1)%he}inner$f(r).splitAreaColors=Ce}}}function rectCoordAxisHandleRemove(r){inner$f(r).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.axisPointerClass="CartesianAxisPointer",g}return n.prototype.render=function(g,y,$,L){this.group.removeAll();var re=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!g.get("show")){var ae=g.getCoordSysModel(),le=layout$2(ae,g),ue=new AxisBuilder(g,extend({handleAutoShown:function(_e){for(var Ce=ae.coordinateSystem.getCartesians(),$e=0;$e<Ce.length;$e++)if(isIntervalOrLogScale(Ce[$e].getOtherAxis(g.axis).scale))return!0;return!1}},le));each$f(axisBuilderAttrs$3,ue.add,ue),this._axisGroup.add(ue.getGroup()),each$f(selfBuilderAttrs$2,function(_e){g.get([_e,"show"])&&axisElementBuilders$2[_e](this,this._axisGroup,g,ae)},this);var he=L&&L.type==="changeAxisOrder"&&L.isInitSort;he||groupTransition(re,this._axisGroup,g),r.prototype.render.call(this,g,y,$,L)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView),axisElementBuilders$2={splitLine:function(r,n,g,y){var $=g.axis;if(!$.scale.isBlank()){var L=g.getModel("splitLine"),re=L.getModel("lineStyle"),ae=re.get("color"),le=L.get("showMinLine")!==!1,ue=L.get("showMaxLine")!==!1;ae=isArray$2(ae)?ae:[ae];for(var he=y.coordinateSystem.getRect(),_e=$.isHorizontal(),Ce=0,$e=$.getTicksCoords({tickModel:L}),Oe=[],xe=[],Ne=re.getLineStyle(),Ie=0;Ie<$e.length;Ie++){var Fe=$.toGlobalCoord($e[Ie].coord);if(!(Ie===0&&!le||Ie===$e.length-1&&!ue)){var Ve=$e[Ie].tickValue;_e?(Oe[0]=Fe,Oe[1]=he.y,xe[0]=Fe,xe[1]=he.y+he.height):(Oe[0]=he.x,Oe[1]=Fe,xe[0]=he.x+he.width,xe[1]=Fe);var ze=Ce++%ae.length,Ue=new Line$2({anid:Ve!=null?"line_"+Ve:null,autoBatch:!0,shape:{x1:Oe[0],y1:Oe[1],x2:xe[0],y2:xe[1]},style:defaults$2({stroke:ae[ze]},Ne),silent:!0});subPixelOptimizeLine(Ue.shape,Ne.lineWidth),n.add(Ue)}}}},minorSplitLine:function(r,n,g,y){var $=g.axis,L=g.getModel("minorSplitLine"),re=L.getModel("lineStyle"),ae=y.coordinateSystem.getRect(),le=$.isHorizontal(),ue=$.getMinorTicksCoords();if(ue.length)for(var he=[],_e=[],Ce=re.getLineStyle(),$e=0;$e<ue.length;$e++)for(var Oe=0;Oe<ue[$e].length;Oe++){var xe=$.toGlobalCoord(ue[$e][Oe].coord);le?(he[0]=xe,he[1]=ae.y,_e[0]=xe,_e[1]=ae.y+ae.height):(he[0]=ae.x,he[1]=xe,_e[0]=ae.x+ae.width,_e[1]=xe);var Ne=new Line$2({anid:"minor_line_"+ue[$e][Oe].tickValue,autoBatch:!0,shape:{x1:he[0],y1:he[1],x2:_e[0],y2:_e[1]},style:Ce,silent:!0});subPixelOptimizeLine(Ne.shape,Ce.lineWidth),n.add(Ne)}},splitArea:function(r,n,g,y){rectCoordAxisBuildSplitArea(r,n,g,y)}},CartesianXAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=CartesianXAxisView.type,g}return n.type="yAxis",n}(CartesianAxisView),GridView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="grid",g}return n.prototype.render=function(g,y){this.group.removeAll(),g.get("show")&&this.group.add(new Rect$2({shape:g.coordinateSystem.getRect(),style:defaults$2({fill:g.get("backgroundColor")},g.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView),extraOption={offset:0};function install$O(r){r.registerComponentView(GridView),r.registerComponentModel(GridModel),r.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(r,"x",CartesianAxisModel,extraOption),axisModelCreator(r,"y",CartesianAxisModel,extraOption),r.registerComponentView(CartesianXAxisView),r.registerComponentView(CartesianYAxisView),r.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$N(r){use(install$O),r.registerSeriesModel(ScatterSeriesModel),r.registerChartView(ScatterView),r.registerLayout(pointsLayout("scatter"))}function radarLayout(r){r.eachSeriesByType("radar",function(n){var g=n.getData(),y=[],$=n.coordinateSystem;if($){var L=$.getIndicatorAxes();each$f(L,function(re,ae){g.each(g.mapDimension(L[ae].dim),function(le,ue){y[ue]=y[ue]||[];var he=$.dataToPoint(le,ae);y[ue][ae]=isValidPoint(he)?he:getValueMissingPoint($)})}),g.each(function(re){var ae=find$1(y[re],function(le){return isValidPoint(le)})||getValueMissingPoint($);y[re].push(ae.slice()),g.setItemLayout(re,y[re])})}})}function isValidPoint(r){return!isNaN(r[0])&&!isNaN(r[1])}function getValueMissingPoint(r){return[r.cx,r.cy]}function radarBackwardCompat(r){var n=r.polar;if(n){isArray$2(n)||(n=[n]);var g=[];each$f(n,function(y,$){y.indicator?(y.type&&!y.shape&&(y.shape=y.type),r.radar=r.radar||[],isArray$2(r.radar)||(r.radar=[r.radar]),r.radar.push(y)):g.push(y)}),r.polar=g}each$f(r.series,function(y){y&&y.type==="radar"&&y.polarIndex&&(y.radarIndex=y.polarIndex)})}var RadarView$1=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=g.coordinateSystem,re=this.group,ae=g.getData(),le=this._data;function ue(Ce,$e){var Oe=Ce.getItemVisual($e,"symbol")||"circle";if(Oe!=="none"){var xe=normalizeSymbolSize(Ce.getItemVisual($e,"symbolSize")),Ne=createSymbol$1(Oe,-1,-1,2,2),Ie=Ce.getItemVisual($e,"symbolRotate")||0;return Ne.attr({style:{strokeNoScale:!0},z2:100,scaleX:xe[0]/2,scaleY:xe[1]/2,rotation:Ie*Math.PI/180||0}),Ne}}function he(Ce,$e,Oe,xe,Ne,Ie){Oe.removeAll();for(var Fe=0;Fe<$e.length-1;Fe++){var Ve=ue(xe,Ne);Ve&&(Ve.__dimIdx=Fe,Ce[Fe]?(Ve.setPosition(Ce[Fe]),graphic$1[Ie?"initProps":"updateProps"](Ve,{x:$e[Fe][0],y:$e[Fe][1]},g,Ne)):Ve.setPosition($e[Fe]),Oe.add(Ve))}}function _e(Ce){return map$1(Ce,function($e){return[L.cx,L.cy]})}ae.diff(le).add(function(Ce){var $e=ae.getItemLayout(Ce);if($e){var Oe=new Polygon,xe=new Polyline$1,Ne={shape:{points:$e}};Oe.shape.points=_e($e),xe.shape.points=_e($e),initProps(Oe,Ne,g,Ce),initProps(xe,Ne,g,Ce);var Ie=new Group$3,Fe=new Group$3;Ie.add(xe),Ie.add(Oe),Ie.add(Fe),he(xe.shape.points,$e,Fe,ae,Ce,!0),ae.setItemGraphicEl(Ce,Ie)}}).update(function(Ce,$e){var Oe=le.getItemGraphicEl($e),xe=Oe.childAt(0),Ne=Oe.childAt(1),Ie=Oe.childAt(2),Fe={shape:{points:ae.getItemLayout(Ce)}};Fe.shape.points&&(he(xe.shape.points,Fe.shape.points,Ie,ae,Ce,!1),saveOldStyle(Ne),saveOldStyle(xe),updateProps$1(xe,Fe,g),updateProps$1(Ne,Fe,g),ae.setItemGraphicEl(Ce,Oe))}).remove(function(Ce){re.remove(le.getItemGraphicEl(Ce))}).execute(),ae.eachItemGraphicEl(function(Ce,$e){var Oe=ae.getItemModel($e),xe=Ce.childAt(0),Ne=Ce.childAt(1),Ie=Ce.childAt(2),Fe=ae.getItemVisual($e,"style"),Ve=Fe.fill;re.add(Ce),xe.useStyle(defaults$2(Oe.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:Ve})),setStatesStylesFromModel(xe,Oe,"lineStyle"),setStatesStylesFromModel(Ne,Oe,"areaStyle");var ze=Oe.getModel("areaStyle"),Ue=ze.isEmpty()&&ze.parentModel.isEmpty();Ne.ignore=Ue,each$f(["emphasis","select","blur"],function(Et){var Pt=Oe.getModel([Et,"areaStyle"]),At=Pt.isEmpty()&&Pt.parentModel.isEmpty();Ne.ensureState(Et).ignore=At&&Ue}),Ne.useStyle(defaults$2(ze.getAreaStyle(),{fill:Ve,opacity:.7,decal:Fe.decal}));var qe=Oe.getModel("emphasis"),kt=qe.getModel("itemStyle").getItemStyle();Ie.eachChild(function(Et){if(Et instanceof ZRImage){var Pt=Et.style;Et.useStyle(extend({image:Pt.image,x:Pt.x,y:Pt.y,width:Pt.width,height:Pt.height},Fe))}else Et.useStyle(Fe),Et.setColor(Ve),Et.style.strokeNoScale=!0;var At=Et.ensureState("emphasis");At.style=clone$4(kt);var Dt=ae.getStore().get(ae.getDimensionIndex(Et.__dimIdx),$e);(Dt==null||isNaN(Dt))&&(Dt=""),setLabelStyle(Et,getLabelStatesModels(Oe),{labelFetcher:ae.hostModel,labelDataIndex:$e,labelDimIndex:Et.__dimIdx,defaultText:Dt,inheritColor:Ve,defaultOpacity:Fe.opacity})}),toggleHoverEmphasis(Ce,qe.get("focus"),qe.get("blurScope"),qe.get("disabled"))}),this._data=ae},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView),RadarSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.hasSymbolVisual=!0,g}return n.prototype.init=function(g){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.getInitialData=function(g,y){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(g,y,$){var L=this.getData(),re=this.coordinateSystem,ae=re.getIndicatorAxes(),le=this.getData().getName(g),ue=le===""?this.name:le,he=retrieveVisualColorForTooltipMarker(this,g);return createTooltipMarkup("section",{header:ue,sortBlocks:!0,blocks:map$1(ae,function(_e){var Ce=L.get(L.mapDimension(_e.dim),g);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:he,name:_e.name,value:Ce,sortParam:Ce})})})},n.prototype.getTooltipPosition=function(g){if(g!=null){for(var y=this.getData(),$=this.coordinateSystem,L=y.getValues(map$1($.dimensions,function(ue){return y.mapDimension(ue)}),g),re=0,ae=L.length;re<ae;re++)if(!isNaN(L[re])){var le=$.getIndicatorAxes();return $.coordToPoint(le[re].dataToCoord(L[re]),re)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel),valueAxisDefault=axisDefault.value;function defaultsShow(r,n){return defaults$2({show:n},r)}var RadarModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.optionUpdated=function(){var g=this.get("boundaryGap"),y=this.get("splitNumber"),$=this.get("scale"),L=this.get("axisLine"),re=this.get("axisTick"),ae=this.get("axisLabel"),le=this.get("axisName"),ue=this.get(["axisName","show"]),he=this.get(["axisName","formatter"]),_e=this.get("axisNameGap"),Ce=this.get("triggerEvent"),$e=map$1(this.get("indicator")||[],function(Oe){Oe.max!=null&&Oe.max>0&&!Oe.min?Oe.min=0:Oe.min!=null&&Oe.min<0&&!Oe.max&&(Oe.max=0);var xe=le;Oe.color!=null&&(xe=defaults$2({color:Oe.color},le));var Ne=merge$1(clone$4(Oe),{boundaryGap:g,splitNumber:y,scale:$,axisLine:L,axisTick:re,axisLabel:ae,name:Oe.text,showName:ue,nameLocation:"end",nameGap:_e,nameTextStyle:xe,triggerEvent:Ce},!1);if(isString(he)){var Ie=Ne.name;Ne.name=he.replace("{value}",Ie??"")}else isFunction(he)&&(Ne.name=he(Ne.name,Ne));var Fe=new Model(Ne,null,this.ecModel);return mixin(Fe,AxisModelCommonMixin.prototype),Fe.mainType="radar",Fe.componentIndex=this.componentIndex,Fe},this);this._indicatorModels=$e},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge$1({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(ComponentModel),axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=this.group;L.removeAll(),this._buildAxes(g),this._buildSplitLineAndArea(g)},n.prototype._buildAxes=function(g){var y=g.coordinateSystem,$=y.getIndicatorAxes(),L=map$1($,function(re){var ae=re.model.get("showName")?re.name:"",le=new AxisBuilder(re.model,{axisName:ae,position:[y.cx,y.cy],rotation:re.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return le});each$f(L,function(re){each$f(axisBuilderAttrs$2,re.add,re),this.group.add(re.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(g){var y=g.coordinateSystem,$=y.getIndicatorAxes();if(!$.length)return;var L=g.get("shape"),re=g.getModel("splitLine"),ae=g.getModel("splitArea"),le=re.getModel("lineStyle"),ue=ae.getModel("areaStyle"),he=re.get("show"),_e=ae.get("show"),Ce=le.get("color"),$e=ue.get("color"),Oe=isArray$2(Ce)?Ce:[Ce],xe=isArray$2($e)?$e:[$e],Ne=[],Ie=[];function Fe(vn,jt,$n){var Sn=$n%jt.length;return vn[Sn]=vn[Sn]||[],Sn}if(L==="circle")for(var Ve=$[0].getTicksCoords(),ze=y.cx,Ue=y.cy,qe=0;qe<Ve.length;qe++){if(he){var kt=Fe(Ne,Oe,qe);Ne[kt].push(new Circle({shape:{cx:ze,cy:Ue,r:Ve[qe].coord}}))}if(_e&&qe<Ve.length-1){var kt=Fe(Ie,xe,qe);Ie[kt].push(new Ring({shape:{cx:ze,cy:Ue,r0:Ve[qe].coord,r:Ve[qe+1].coord}}))}}else for(var Et,Pt=map$1($,function(vn,jt){var $n=vn.getTicksCoords();return Et=Et==null?$n.length-1:Math.min($n.length-1,Et),map$1($n,function(Sn){return y.coordToPoint(Sn.coord,jt)})}),At=[],qe=0;qe<=Et;qe++){for(var Dt=[],Lt=0;Lt<$.length;Lt++)Dt.push(Pt[Lt][qe]);if(Dt[0]&&Dt.push(Dt[0].slice()),he){var kt=Fe(Ne,Oe,qe);Ne[kt].push(new Polyline$1({shape:{points:Dt}}))}if(_e&&At){var kt=Fe(Ie,xe,qe-1);Ie[kt].push(new Polygon({shape:{points:Dt.concat(At)}}))}At=Dt.slice().reverse()}var hn=le.getLineStyle(),_n=ue.getAreaStyle();each$f(Ie,function(vn,jt){this.group.add(mergePath(vn,{style:defaults$2({stroke:"none",fill:xe[jt%xe.length]},_n),silent:!0}))},this),each$f(Ne,function(vn,jt){this.group.add(mergePath(vn,{style:defaults$2({fill:"none",stroke:Oe[jt%Oe.length]},hn),silent:!0}))},this)},n.type="radar",n}(ComponentView),IndicatorAxis=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this,g,y,$)||this;return L.type="value",L.angle=0,L.name="",L}return n}(Axis),Radar=function(){function r(n,g,y){this.dimensions=[],this._model=n,this._indicatorAxes=map$1(n.getIndicatorModels(),function($,L){var re="indicator_"+L,ae=new IndicatorAxis(re,new IntervalScale);return ae.name=$.get("name"),ae.model=$,$.axis=ae,this.dimensions.push(re),ae},this),this.resize(n,y)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(n,g){var y=this._indicatorAxes[g];return this.coordToPoint(y.dataToCoord(n),g)},r.prototype.coordToPoint=function(n,g){var y=this._indicatorAxes[g],$=y.angle,L=this.cx+n*Math.cos($),re=this.cy-n*Math.sin($);return[L,re]},r.prototype.pointToData=function(n){var g=n[0]-this.cx,y=n[1]-this.cy,$=Math.sqrt(g*g+y*y);g/=$,y/=$;for(var L=Math.atan2(-y,g),re=1/0,ae,le=-1,ue=0;ue<this._indicatorAxes.length;ue++){var he=this._indicatorAxes[ue],_e=Math.abs(L-he.angle);_e<re&&(ae=he,le=ue,re=_e)}return[le,+(ae&&ae.coordToData($))]},r.prototype.resize=function(n,g){var y=n.get("center"),$=g.getWidth(),L=g.getHeight(),re=Math.min($,L)/2;this.cx=parsePercent(y[0],$),this.cy=parsePercent(y[1],L),this.startAngle=n.get("startAngle")*Math.PI/180;var ae=n.get("radius");(isString(ae)||isNumber$1(ae))&&(ae=[0,ae]),this.r0=parsePercent(ae[0],re),this.r=parsePercent(ae[1],re),each$f(this._indicatorAxes,function(le,ue){le.setExtent(this.r0,this.r);var he=this.startAngle+ue*Math.PI*2/this._indicatorAxes.length;he=Math.atan2(Math.sin(he),Math.cos(he)),le.angle=he},this)},r.prototype.update=function(n,g){var y=this._indicatorAxes,$=this._model;each$f(y,function(ae){ae.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(ae,le){if(!(ae.get("coordinateSystem")!=="radar"||n.getComponent("radar",ae.get("radarIndex"))!==$)){var ue=ae.getData();each$f(y,function(he){he.scale.unionExtentFromData(ue,ue.mapDimension(he.dim))})}},this);var L=$.get("splitNumber"),re=new IntervalScale;re.setExtent(0,L),re.setInterval(1),each$f(y,function(ae,le){alignScaleTicks(ae.scale,ae.model,re)})},r.prototype.convertToPixel=function(n,g,y){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(n,g,y){return console.warn("Not implemented."),null},r.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},r.create=function(n,g){var y=[];return n.eachComponent("radar",function($){var L=new r($,n,g);y.push(L),$.coordinateSystem=L}),n.eachSeriesByType("radar",function($){$.get("coordinateSystem")==="radar"&&($.coordinateSystem=y[$.get("radarIndex")||0])}),y},r.dimensions=[],r}();function install$M(r){r.registerCoordinateSystem("radar",Radar),r.registerComponentModel(RadarModel),r.registerComponentView(RadarView),r.registerVisual({seriesType:"radar",reset:function(n){var g=n.getData();g.each(function(y){g.setItemVisual(y,"legendIcon","roundRect")}),g.setVisual("legendIcon","roundRect")}})}function install$L(r){use(install$M),r.registerChartView(RadarView$1),r.registerSeriesModel(RadarSeriesModel),r.registerLayout(radarLayout),r.registerProcessor(dataFilter$1("radar")),r.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(r,n,g){var y=getStore(r);y[n]=g}function release(r,n,g){var y=getStore(r),$=y[n];$===g&&(y[n]=null)}function isTaken(r,n){return!!getStore(r)[n]}function getStore(r){return r[ATTR]||(r[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(r){__extends$1(n,r);function n(g){var y=r.call(this)||this;y._zr=g;var $=bind$1(y._mousedownHandler,y),L=bind$1(y._mousemoveHandler,y),re=bind$1(y._mouseupHandler,y),ae=bind$1(y._mousewheelHandler,y),le=bind$1(y._pinchHandler,y);return y.enable=function(ue,he){this.disable(),this._opt=defaults$2(clone$4(he)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),ue==null&&(ue=!0),(ue===!0||ue==="move"||ue==="pan")&&(g.on("mousedown",$),g.on("mousemove",L),g.on("mouseup",re)),(ue===!0||ue==="scale"||ue==="zoom")&&(g.on("mousewheel",ae),g.on("pinch",le))},y.disable=function(){g.off("mousedown",$),g.off("mousemove",L),g.off("mouseup",re),g.off("mousewheel",ae),g.off("pinch",le)},y}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(g){this.pointerChecker=g},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(g){if(!isMiddleOrRightButtonOnMouseUpDown(g)){for(var y=g.target;y;){if(y.draggable)return;y=y.__hostTarget||y.parent}var $=g.offsetX,L=g.offsetY;this.pointerChecker&&this.pointerChecker(g,$,L)&&(this._x=$,this._y=L,this._dragging=!0)}},n.prototype._mousemoveHandler=function(g){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",g,this._opt)||g.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var y=g.offsetX,$=g.offsetY,L=this._x,re=this._y,ae=y-L,le=$-re;this._x=y,this._y=$,this._opt.preventDefaultMouseMove&&stop(g.event),trigger$1(this,"pan","moveOnMouseMove",g,{dx:ae,dy:le,oldX:L,oldY:re,newX:y,newY:$,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(g){isMiddleOrRightButtonOnMouseUpDown(g)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(g){var y=isAvailableBehavior("zoomOnMouseWheel",g,this._opt),$=isAvailableBehavior("moveOnMouseWheel",g,this._opt),L=g.wheelDelta,re=Math.abs(L),ae=g.offsetX,le=g.offsetY;if(!(L===0||!y&&!$)){if(y){var ue=re>3?1.4:re>1?1.2:1.1,he=L>0?ue:1/ue;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",g,{scale:he,originX:ae,originY:le,isAvailableBehavior:null})}if($){var _e=Math.abs(L),Ce=(L>0?1:-1)*(_e>3?.4:_e>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",g,{scrollDelta:Ce,originX:ae,originY:le,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(g){if(!isTaken(this._zr,"globalPan")){var y=g.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,g,{scale:y,originX:g.pinchX,originY:g.pinchY,isAvailableBehavior:null})}},n}(Eventful);function checkPointerAndTrigger(r,n,g,y,$){r.pointerChecker&&r.pointerChecker(y,$.originX,$.originY)&&(stop(y.event),trigger$1(r,n,g,y,$))}function trigger$1(r,n,g,y,$){$.isAvailableBehavior=bind$1(isAvailableBehavior,null,g,y),r.trigger(n,$)}function isAvailableBehavior(r,n,g){var y=g[r];return!r||y&&(!isString(y)||n.event[y+"Key"])}function updateViewOnPan(r,n,g){var y=r.target;y.x+=n,y.y+=g,y.dirty()}function updateViewOnZoom(r,n,g,y){var $=r.target,L=r.zoomLimit,re=r.zoom=r.zoom||1;if(re*=n,L){var ae=L.min||0,le=L.max||1/0;re=Math.max(Math.min(le,re),ae)}var ue=re/r.zoom;r.zoom=re,$.x-=(g-$.x)*(ue-1),$.y-=(y-$.y)*(ue-1),$.scaleX*=ue,$.scaleY*=ue,$.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(r,n,g){var y=n.getComponentByElement(r.topTarget),$=y&&y.coordinateSystem;return y&&y!==g&&!IRRELEVANT_EXCLUDES.hasOwnProperty(y.mainType)&&$&&$.model!==g}function parseXML(r){if(isString(r)){var n=new DOMParser;r=n.parseFromString(r,"text/xml")}var g=r;for(g.nodeType===9&&(g=g.firstChild);g.nodeName.toLowerCase()!=="svg"||g.nodeType!==1;)g=g.nextSibling;return g}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys$1(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys$1(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(n,g){g=g||{};var y=parseXML(n);this._defsUsePending=[];var $=new Group$3;this._root=$;var L=[],re=y.getAttribute("viewBox")||"",ae=parseFloat(y.getAttribute("width")||g.width),le=parseFloat(y.getAttribute("height")||g.height);isNaN(ae)&&(ae=null),isNaN(le)&&(le=null),parseAttributes(y,$,null,!0,!1);for(var ue=y.firstChild;ue;)this._parseNode(ue,$,L,null,!1,!1),ue=ue.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var he,_e;if(re){var Ce=splitNumberSequence(re);Ce.length>=4&&(he={x:parseFloat(Ce[0]||0),y:parseFloat(Ce[1]||0),width:parseFloat(Ce[2]),height:parseFloat(Ce[3])})}if(he&&ae!=null&&le!=null&&(_e=makeViewBoxTransform(he,{x:0,y:0,width:ae,height:le}),!g.ignoreViewBox)){var $e=$;$=new Group$3,$.add($e),$e.scaleX=$e.scaleY=_e.scale,$e.x=_e.x,$e.y=_e.y}return!g.ignoreRootClip&&ae!=null&&le!=null&&$.setClipPath(new Rect$2({shape:{x:0,y:0,width:ae,height:le}})),{root:$,width:ae,height:le,viewBoxRect:he,viewBoxTransform:_e,named:L}},r.prototype._parseNode=function(n,g,y,$,L,re){var ae=n.nodeName.toLowerCase(),le,ue=$;if(ae==="defs"&&(L=!0),ae==="text"&&(re=!0),ae==="defs"||ae==="switch")le=g;else{if(!L){var he=nodeParsers[ae];if(he&&hasOwn(nodeParsers,ae)){le=he.call(this,n,g);var _e=n.getAttribute("name");if(_e){var Ce={name:_e,namedFrom:null,svgNodeTagLower:ae,el:le};y.push(Ce),ae==="g"&&(ue=Ce)}else $&&y.push({name:$.name,namedFrom:$,svgNodeTagLower:ae,el:le});g.add(le)}}var $e=paintServerParsers[ae];if($e&&hasOwn(paintServerParsers,ae)){var Oe=$e.call(this,n),xe=n.getAttribute("id");xe&&(this._defs[xe]=Oe)}}if(le&&le.isGroup)for(var Ne=n.firstChild;Ne;)Ne.nodeType===1?this._parseNode(Ne,le,y,ue,L,re):Ne.nodeType===3&&re&&this._parseText(Ne,le),Ne=Ne.nextSibling},r.prototype._parseText=function(n,g){var y=new TSpan({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),applyTextAlignment(y,g);var $=y.style,L=$.fontSize;L&&L<9&&($.fontSize=9,y.scaleX*=L/9,y.scaleY*=L/9);var re=($.fontSize||$.fontFamily)&&[$.fontStyle,$.fontWeight,($.fontSize||12)+"px",$.fontFamily||"sans-serif"].join(" ");$.font=re;var ae=y.getBoundingRect();return this._textX+=ae.width,g.add(y),y},r.internalField=function(){nodeParsers={g:function(n,g){var y=new Group$3;return inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y},rect:function(n,g){var y=new Rect$2;return inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),y.silent=!0,y},circle:function(n,g){var y=new Circle;return inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),y.silent=!0,y},line:function(n,g){var y=new Line$2;return inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),y.silent=!0,y},ellipse:function(n,g){var y=new Ellipse;return inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),y.silent=!0,y},polygon:function(n,g){var y=n.getAttribute("points"),$;y&&($=parsePoints(y));var L=new Polygon({shape:{points:$||[]},silent:!0});return inheritStyle(g,L),parseAttributes(n,L,this._defsUsePending,!1,!1),L},polyline:function(n,g){var y=n.getAttribute("points"),$;y&&($=parsePoints(y));var L=new Polyline$1({shape:{points:$||[]},silent:!0});return inheritStyle(g,L),parseAttributes(n,L,this._defsUsePending,!1,!1),L},image:function(n,g){var y=new ZRImage;return inheritStyle(g,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),y.silent=!0,y},text:function(n,g){var y=n.getAttribute("x")||"0",$=n.getAttribute("y")||"0",L=n.getAttribute("dx")||"0",re=n.getAttribute("dy")||"0";this._textX=parseFloat(y)+parseFloat(L),this._textY=parseFloat($)+parseFloat(re);var ae=new Group$3;return inheritStyle(g,ae),parseAttributes(n,ae,this._defsUsePending,!1,!0),ae},tspan:function(n,g){var y=n.getAttribute("x"),$=n.getAttribute("y");y!=null&&(this._textX=parseFloat(y)),$!=null&&(this._textY=parseFloat($));var L=n.getAttribute("dx")||"0",re=n.getAttribute("dy")||"0",ae=new Group$3;return inheritStyle(g,ae),parseAttributes(n,ae,this._defsUsePending,!1,!0),this._textX+=parseFloat(L),this._textY+=parseFloat(re),ae},path:function(n,g){var y=n.getAttribute("d")||"",$=createFromString(y);return inheritStyle(g,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$.silent=!0,$}}}(),r}(),paintServerParsers={lineargradient:function(r){var n=parseInt(r.getAttribute("x1")||"0",10),g=parseInt(r.getAttribute("y1")||"0",10),y=parseInt(r.getAttribute("x2")||"10",10),$=parseInt(r.getAttribute("y2")||"0",10),L=new LinearGradient(n,g,y,$);return parsePaintServerUnit(r,L),parseGradientColorStops(r,L),L},radialgradient:function(r){var n=parseInt(r.getAttribute("cx")||"0",10),g=parseInt(r.getAttribute("cy")||"0",10),y=parseInt(r.getAttribute("r")||"0",10),$=new RadialGradient(n,g,y);return parsePaintServerUnit(r,$),parseGradientColorStops(r,$),$}};function parsePaintServerUnit(r,n){var g=r.getAttribute("gradientUnits");g==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(r,n){for(var g=r.firstChild;g;){if(g.nodeType===1&&g.nodeName.toLocaleLowerCase()==="stop"){var y=g.getAttribute("offset"),$=void 0;y&&y.indexOf("%")>0?$=parseInt(y,10)/100:y?$=parseFloat(y):$=0;var L={};parseInlineStyle(g,L,L);var re=L.stopColor||g.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:$,color:re})}g=g.nextSibling}}function inheritStyle(r,n){r&&r.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults$2(n.__inheritedStyle,r.__inheritedStyle))}function parsePoints(r){for(var n=splitNumberSequence(r),g=[],y=0;y<n.length;y+=2){var $=parseFloat(n[y]),L=parseFloat(n[y+1]);g.push([$,L])}return g}function parseAttributes(r,n,g,y,$){var L=n,re=L.__inheritedStyle=L.__inheritedStyle||{},ae={};r.nodeType===1&&(parseTransformAttribute(r,n),parseInlineStyle(r,re,ae),y||parseAttributeStyle(r,re,ae)),L.style=L.style||{},re.fill!=null&&(L.style.fill=getFillStrokeStyle(L,"fill",re.fill,g)),re.stroke!=null&&(L.style.stroke=getFillStrokeStyle(L,"stroke",re.stroke,g)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(le){re[le]!=null&&(L.style[le]=parseFloat(re[le]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(le){re[le]!=null&&(L.style[le]=re[le])}),$&&(L.__selfStyle=ae),re.lineDash&&(L.style.lineDash=map$1(splitNumberSequence(re.lineDash),function(le){return parseFloat(le)})),(re.visibility==="hidden"||re.visibility==="collapse")&&(L.invisible=!0),re.display==="none"&&(L.ignore=!0)}function applyTextAlignment(r,n){var g=n.__selfStyle;if(g){var y=g.textBaseline,$=y;!y||y==="auto"||y==="baseline"?$="alphabetic":y==="before-edge"||y==="text-before-edge"?$="top":y==="after-edge"||y==="text-after-edge"?$="bottom":(y==="central"||y==="mathematical")&&($="middle"),r.style.textBaseline=$}var L=n.__inheritedStyle;if(L){var re=L.textAlign,ae=re;re&&(re==="middle"&&(ae="center"),r.style.textAlign=ae)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(r,n,g,y){var $=g&&g.match(urlRegex);if($){var L=trim$1($[1]);y.push([r,n,L]);return}return g==="none"&&(g=null),g}function applyDefs(r,n){for(var g=0;g<n.length;g++){var y=n[g];y[0].style[y[1]]=r[y[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(r){return r.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(r,n){var g=r.getAttribute("transform");if(g){g=g.replace(/,/g," ");var y=[],$=null;g.replace(transformRegex,function(_e,Ce,$e){return y.push(Ce,$e),""});for(var L=y.length-1;L>0;L-=2){var re=y[L],ae=y[L-1],le=splitNumberSequence(re);switch($=$||create$1(),ae){case"translate":translate($,$,[parseFloat(le[0]),parseFloat(le[1]||"0")]);break;case"scale":scale$1($,$,[parseFloat(le[0]),parseFloat(le[1]||le[0])]);break;case"rotate":rotate($,$,-parseFloat(le[0])*DEGREE_TO_ANGLE,[parseFloat(le[1]||"0"),parseFloat(le[2]||"0")]);break;case"skewX":var ue=Math.tan(parseFloat(le[0])*DEGREE_TO_ANGLE);mul($,[1,0,ue,1,0,0],$);break;case"skewY":var he=Math.tan(parseFloat(le[0])*DEGREE_TO_ANGLE);mul($,[1,he,0,1,0,0],$);break;case"matrix":$[0]=parseFloat(le[0]),$[1]=parseFloat(le[1]),$[2]=parseFloat(le[2]),$[3]=parseFloat(le[3]),$[4]=parseFloat(le[4]),$[5]=parseFloat(le[5]);break}}n.setLocalTransform($)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(r,n,g){var y=r.getAttribute("style");if(y){styleRegex.lastIndex=0;for(var $;($=styleRegex.exec(y))!=null;){var L=$[1],re=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,L)?INHERITABLE_STYLE_ATTRIBUTES_MAP[L]:null;re&&(n[re]=$[2]);var ae=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,L)?SELF_STYLE_ATTRIBUTES_MAP[L]:null;ae&&(g[ae]=$[2])}}}function parseAttributeStyle(r,n,g){for(var y=0;y<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;y++){var $=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[y],L=r.getAttribute($);L!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[$]]=L)}for(var y=0;y<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;y++){var $=SELF_STYLE_ATTRIBUTES_MAP_KEYS[y],L=r.getAttribute($);L!=null&&(g[SELF_STYLE_ATTRIBUTES_MAP[$]]=L)}}function makeViewBoxTransform(r,n){var g=n.width/r.width,y=n.height/r.height,$=Math.min(g,y);return{scale:$,x:-(r.x+r.width/2)*$+(n.x+n.width/2),y:-(r.y+r.height/2)*$+(n.y+n.height/2)}}function parseSVG(r,n){var g=new SVGParser;return g.parse(r,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function r(n,g){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(g)}return r.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var g=createRegions(n.named),y=g.regions,$=g.regionsMap;this._regions=y,this._regionsMap=$}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(n){var g,y;try{g=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=g.root,assert(y!=null)}catch(Ne){throw new Error(`Invalid svg format
`+Ne.message)}var $=new Group$3;$.add(y),$.isGeoSVGGraphicRoot=!0;var L=g.width,re=g.height,ae=g.viewBoxRect,le=this._boundingRect;if(!le){var ue=void 0,he=void 0,_e=void 0,Ce=void 0;if(L!=null?(ue=0,_e=L):ae&&(ue=ae.x,_e=ae.width),re!=null?(he=0,Ce=re):ae&&(he=ae.y,Ce=ae.height),ue==null||he==null){var $e=y.getBoundingRect();ue==null&&(ue=$e.x,_e=$e.width),he==null&&(he=$e.y,Ce=$e.height)}le=this._boundingRect=new BoundingRect(ue,he,_e,Ce)}if(ae){var Oe=makeViewBoxTransform(ae,le);y.scaleX=y.scaleY=Oe.scale,y.x=Oe.x,y.y=Oe.y}$.setClipPath(new Rect$2({shape:le.plain()}));var xe=[];return each$f(g.named,function(Ne){REGION_AVAILABLE_SVG_TAG_MAP.get(Ne.svgNodeTagLower)!=null&&(xe.push(Ne),setSilent(Ne.el))}),{root:$,boundingRect:le,named:xe}},r.prototype.useGraphic=function(n){var g=this._usedGraphicMap,y=g.get(n);return y||(y=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),g.set(n,y),y)},r.prototype.freeGraphic=function(n){var g=this._usedGraphicMap,y=g.get(n);y&&(g.removeKey(n),this._freedGraphics.push(y))},r}();function setSilent(r){r.silent=!1,r.isGroup&&r.traverse(function(n){n.silent=!1})}function createRegions(r){var n=[],g=createHashMap();return each$f(r,function(y){if(y.namedFrom==null){var $=new GeoSVGRegion(y.name,y.el);n.push($),g.set(y.name,$)}}),{regions:n,regionsMap:g}}var geoCoord=[126,25],nanhaiName="",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i$1=0;i$1<points$1.length;i$1++)for(var k=0;k<points$1[i$1].length;k++)points$1[i$1][k][0]/=10.5,points$1[i$1][k][1]/=-10.5/.75,points$1[i$1][k][0]+=geoCoord[0],points$1[i$1][k][1]+=geoCoord[1];function fixNanhai(r,n){if(r==="china"){for(var g=0;g<n.length;g++)if(n[g].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(y){return{type:"polygon",exterior:y}}),geoCoord))}}var coordsOffsetMap={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function fixTextCoords(r,n){if(r==="china"){var g=coordsOffsetMap[n.name];if(g){var y=n.getCenter();y[0]+=g[0]/10.5,y[1]+=-g[1]/(10.5/.75),n.setCenter(y)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(r,n){r==="china"&&n.name===""&&n.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function r(n,g,y){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=y,this._geoJSON=parseInput(g)}return r.prototype.load=function(n,g){g=g||DEFAULT_NAME_PROPERTY;var y=this._parsedMap.get(g);if(!y){var $=this._parseToRegions(g);y=this._parsedMap.set(g,{regions:$,boundingRect:calculateBoundingRect($)})}var L=createHashMap(),re=[];return each$f(y.regions,function(ae){var le=ae.name;n&&hasOwn(n,le)&&(ae=ae.cloneShallow(le=n[le])),re.push(ae),L.set(le,ae)}),{regions:re,boundingRect:y.boundingRect||new BoundingRect(0,0,0,0),regionsMap:L}},r.prototype._parseToRegions=function(n){var g=this._mapName,y=this._geoJSON,$;try{$=y?parseGeoJSON(y,n):[]}catch(L){throw new Error(`Invalid geoJson format
`+L.message)}return fixNanhai(g,$),each$f($,function(L){var re=L.name;fixTextCoords(g,L),fixDiaoyuIsland(g,L);var ae=this._specialAreas&&this._specialAreas[re];ae&&L.transformTo(ae.left,ae.top,ae.width,ae.height)},this),$},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function calculateBoundingRect(r){for(var n,g=0;g<r.length;g++){var y=r[g].getBoundingRect();n=n||y.clone(),n.union(y)}return n}function parseInput(r){return isString(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var storage=createHashMap();const geoSourceManager={registerMap:function(r,n,g){if(n.svg){var y=new GeoSVGResource(r,n.svg);storage.set(r,y)}else{var $=n.geoJson||n.geoJSON;$&&!n.features?g=n.specialAreas:$=n;var y=new GeoJSONResource(r,$,g);storage.set(r,y)}},getGeoResource:function(r){return storage.get(r)},getMapForUser:function(r){var n=storage.get(r);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(r,n,g){var y=storage.get(r);if(y)return y.load(n,g)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(r){var n=r.getItemStyle(),g=r.get("areaColor");return g!=null&&(n.fill=g),n}function fixLineStyle(r){var n=r.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function r(n){var g=new Group$3;this.uid=getUID("ec_map_draw"),this._controller=new RoamController(n.getZr()),this._controllerHost={target:g},this.group=g,g.add(this._regionsGroup=new Group$3),g.add(this._svgGroup=new Group$3)}return r.prototype.draw=function(n,g,y,$,L){var re=n.mainType==="geo",ae=n.getData&&n.getData();re&&g.eachComponent({mainType:"series",subType:"map"},function(Ie){!ae&&Ie.getHostGeoModel()===n&&(ae=Ie.getData())});var le=n.coordinateSystem,ue=this._regionsGroup,he=this.group,_e=le.getTransformInfo(),Ce=_e.raw,$e=_e.roam,Oe=!ue.childAt(0)||L;Oe?(he.x=$e.x,he.y=$e.y,he.scaleX=$e.scaleX,he.scaleY=$e.scaleY,he.dirty()):updateProps$1(he,$e,n);var xe=ae&&ae.getVisual("visualMeta")&&ae.getVisual("visualMeta").length>0,Ne={api:y,geo:le,mapOrGeoModel:n,data:ae,isVisualEncodedByVisualMap:xe,isGeo:re,transformInfoRaw:Ce};le.resourceType==="geoJSON"?this._buildGeoJSON(Ne):le.resourceType==="geoSVG"&&this._buildSVG(Ne),this._updateController(n,g,y),this._updateMapSelectHandler(n,ue,y,$)},r.prototype._buildGeoJSON=function(n){var g=this._regionsGroupByName=createHashMap(),y=createHashMap(),$=this._regionsGroup,L=n.transformInfoRaw,re=n.mapOrGeoModel,ae=n.data,le=n.geo.projection,ue=le&&le.stream;function he($e,Oe){return Oe&&($e=Oe($e)),$e&&[$e[0]*L.scaleX+L.x,$e[1]*L.scaleY+L.y]}function _e($e){for(var Oe=[],xe=!ue&&le&&le.project,Ne=0;Ne<$e.length;++Ne){var Ie=he($e[Ne],xe);Ie&&Oe.push(Ie)}return Oe}function Ce($e){return{shape:{points:_e($e)}}}$.removeAll(),each$f(n.geo.regions,function($e){var Oe=$e.name,xe=g.get(Oe),Ne=y.get(Oe)||{},Ie=Ne.dataIdx,Fe=Ne.regionModel;if(!xe){xe=g.set(Oe,new Group$3),$.add(xe),Ie=ae?ae.indexOfName(Oe):null,Fe=n.isGeo?re.getRegionModel(Oe):ae?ae.getItemModel(Ie):null;var Ve=Fe.get("silent",!0);Ve!=null&&(xe.silent=Ve),y.set(Oe,{dataIdx:Ie,regionModel:Fe})}var ze=[],Ue=[];each$f($e.geometries,function(Et){if(Et.type==="polygon"){var Pt=[Et.exterior].concat(Et.interiors||[]);ue&&(Pt=projectPolys(Pt,ue)),each$f(Pt,function(Dt){ze.push(new Polygon(Ce(Dt)))})}else{var At=Et.points;ue&&(At=projectPolys(At,ue,!0)),each$f(At,function(Dt){Ue.push(new Polyline$1(Ce(Dt)))})}});var qe=he($e.getCenter(),le&&le.project);function kt(Et,Pt){if(Et.length){var At=new CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Et}});xe.add(At),applyOptionStyleForRegion(n,At,Ie,Fe),resetLabelForRegion(n,At,Oe,Fe,re,Ie,qe),Pt&&(fixLineStyle(At),each$f(At.states,fixLineStyle))}}kt(ze),kt(Ue,!0)}),g.each(function($e,Oe){var xe=y.get(Oe),Ne=xe.dataIdx,Ie=xe.regionModel;resetEventTriggerForRegion(n,$e,Oe,Ie,re,Ne),resetTooltipForRegion(n,$e,Oe,Ie,re),resetStateTriggerForRegion(n,$e,Oe,Ie,re)},this)},r.prototype._buildSVG=function(n){var g=n.geo.map,y=n.transformInfoRaw;this._svgGroup.x=y.x,this._svgGroup.y=y.y,this._svgGroup.scaleX=y.scaleX,this._svgGroup.scaleY=y.scaleY,this._svgResourceChanged(g)&&(this._freeSVG(),this._useSVG(g));var $=this._svgDispatcherMap=createHashMap(),L=!1;each$f(this._svgGraphicRecord.named,function(re){var ae=re.name,le=n.mapOrGeoModel,ue=n.data,he=re.svgNodeTagLower,_e=re.el,Ce=ue?ue.indexOfName(ae):null,$e=le.getRegionModel(ae);OPTION_STYLE_ENABLED_TAG_MAP.get(he)!=null&&_e instanceof Displayable&&applyOptionStyleForRegion(n,_e,Ce,$e),_e instanceof Displayable&&(_e.culling=!0);var Oe=$e.get("silent",!0);if(Oe!=null&&(_e.silent=Oe),_e.z2EmphasisLift=0,!re.namedFrom&&(LABEL_HOST_MAP.get(he)!=null&&resetLabelForRegion(n,_e,ae,$e,le,Ce,null),resetEventTriggerForRegion(n,_e,ae,$e,le,Ce),resetTooltipForRegion(n,_e,ae,$e,le),STATE_TRIGGER_TAG_MAP.get(he)!=null)){var xe=resetStateTriggerForRegion(n,_e,ae,$e,le);xe==="self"&&(L=!0);var Ne=$.get(ae)||$.set(ae,[]);Ne.push(_e)}},this),this._enableBlurEntireSVG(L,n)},r.prototype._enableBlurEntireSVG=function(n,g){if(n&&g.isGeo){var y=g.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),$=y.opacity;this._svgGraphicRecord.root.traverse(function(L){if(!L.isGroup){setDefaultStateProxy(L);var re=L.ensureState("blur").style||{};re.opacity==null&&$!=null&&(re.opacity=$),L.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(n,g){if(n==null)return[];var y=g.coordinateSystem;if(y.resourceType==="geoJSON"){var $=this._regionsGroupByName;if($){var L=$.get(n);return L?[L]:[]}}else if(y.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},r.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},r.prototype._useSVG=function(n){var g=geoSourceManager.getGeoResource(n);if(g&&g.type==="geoSVG"){var y=g.useGraphic(this.uid);this._svgGroup.add(y.root),this._svgGraphicRecord=y,this._svgMapName=n}},r.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var g=geoSourceManager.getGeoResource(n);g&&g.type==="geoSVG"&&g.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(n,g,y){var $=n.coordinateSystem,L=this._controller,re=this._controllerHost;re.zoomLimit=n.get("scaleLimit"),re.zoom=$.getZoom(),L.enable(n.get("roam")||!1);var ae=n.mainType;function le(){var ue={type:"geoRoam",componentType:ae};return ue[ae+"Id"]=n.id,ue}L.off("pan").on("pan",function(ue){this._mouseDownFlag=!1,updateViewOnPan(re,ue.dx,ue.dy),y.dispatchAction(extend(le(),{dx:ue.dx,dy:ue.dy,animation:{duration:0}}))},this),L.off("zoom").on("zoom",function(ue){this._mouseDownFlag=!1,updateViewOnZoom(re,ue.scale,ue.originX,ue.originY),y.dispatchAction(extend(le(),{totalZoom:re.zoom,zoom:ue.scale,originX:ue.originX,originY:ue.originY,animation:{duration:0}}))},this),L.setPointerChecker(function(ue,he,_e){return $.containPoint([he,_e])&&!onIrrelevantElement(ue,y,n)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var g=n.getTextContent();g&&(g.ignore=mapLabelRaw(g).ignore)})},r.prototype._updateMapSelectHandler=function(n,g,y,$){var L=this;g.off("mousedown"),g.off("click"),n.get("selectedMode")&&(g.on("mousedown",function(){L._mouseDownFlag=!0}),g.on("click",function(re){L._mouseDownFlag&&(L._mouseDownFlag=!1)}))},r}();function applyOptionStyleForRegion(r,n,g,y){var $=y.getModel("itemStyle"),L=y.getModel(["emphasis","itemStyle"]),re=y.getModel(["blur","itemStyle"]),ae=y.getModel(["select","itemStyle"]),le=getFixedItemStyle($),ue=getFixedItemStyle(L),he=getFixedItemStyle(ae),_e=getFixedItemStyle(re),Ce=r.data;if(Ce){var $e=Ce.getItemVisual(g,"style"),Oe=Ce.getItemVisual(g,"decal");r.isVisualEncodedByVisualMap&&$e.fill&&(le.fill=$e.fill),Oe&&(le.decal=createOrUpdatePatternFromDecal(Oe,r.api))}n.setStyle(le),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=ue,n.ensureState("select").style=he,n.ensureState("blur").style=_e,setDefaultStateProxy(n)}function resetLabelForRegion(r,n,g,y,$,L,re){var ae=r.data,le=r.isGeo,ue=ae&&isNaN(ae.get(ae.mapDimension("value"),L)),he=ae&&ae.getItemLayout(L);if(le||ue||he&&he.showLabel){var _e=le?g:L,Ce=void 0;(!ae||L>=0)&&(Ce=$);var $e=re?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels(y),{labelFetcher:Ce,labelDataIndex:_e,defaultText:g},$e);var Oe=n.getTextContent();if(Oe&&(mapLabelRaw(Oe).ignore=Oe.ignore,n.textConfig&&re)){var xe=n.getBoundingRect().clone();n.textConfig.layoutRect=xe,n.textConfig.position=[(re[0]-xe.x)/xe.width*100+"%",(re[1]-xe.y)/xe.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(r,n,g,y,$,L){r.data?r.data.setItemGraphicEl(L,n):getECData(n).eventData={componentType:"geo",componentIndex:$.componentIndex,geoIndex:$.componentIndex,name:g,region:y&&y.option||{}}}function resetTooltipForRegion(r,n,g,y,$){r.data||setTooltipConfig({el:n,componentModel:$,itemName:g,itemTooltipOption:y.get("tooltip")})}function resetStateTriggerForRegion(r,n,g,y,$){n.highDownSilentOnTouch=!!$.get("selectedMode");var L=y.getModel("emphasis"),re=L.get("focus");return toggleHoverEmphasis(n,re,L.get("blurScope"),L.get("disabled")),r.isGeo&&enableComponentHighDownFeatures(n,$,g),re}function projectPolys(r,n,g){var y=[],$;function L(){$=[]}function re(){$.length&&(y.push($),$=[])}var ae=n({polygonStart:L,polygonEnd:re,lineStart:L,lineEnd:re,point:function(le,ue){isFinite(le)&&isFinite(ue)&&$.push([le,ue])},sphere:function(){}});return!g&&ae.polygonStart(),each$f(r,function(le){ae.lineStart();for(var ue=0;ue<le.length;ue++)ae.point(le[ue][0],le[ue][1]);ae.lineEnd()}),!g&&ae.polygonEnd(),y}var MapView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$,L){if(!(L&&L.type==="mapToggleSelect"&&L.from===this.uid)){var re=this.group;if(re.removeAll(),!g.getHostGeoModel()){if(this._mapDraw&&L&&L.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),L&&L.type==="geoRoam"&&L.componentType==="series"&&L.seriesId===g.id){var ae=this._mapDraw;ae&&re.add(ae.group)}else if(g.needsDrawMap){var ae=this._mapDraw||new MapDraw($);re.add(ae.group),ae.draw(g,y,$,this,L),this._mapDraw=ae}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;g.get("showLegendSymbol")&&y.getComponent("legend")&&this._renderSymbols(g,y,$)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(g,y,$){var L=g.originalData,re=this.group;L.each(L.mapDimension("value"),function(ae,le){if(!isNaN(ae)){var ue=L.getItemLayout(le);if(!(!ue||!ue.point)){var he=ue.point,_e=ue.offset,Ce=new Circle({style:{fill:g.getData().getVisual("style").fill},shape:{cx:he[0]+_e*9,cy:he[1],r:3},silent:!0,z2:8+(_e?0:Z2_EMPHASIS_LIFT+1)});if(!_e){var $e=g.mainSeries.getData(),Oe=L.getName(le),xe=$e.indexOfName(Oe),Ne=L.getItemModel(le),Ie=Ne.getModel("label"),Fe=$e.getItemGraphicEl(xe);setLabelStyle(Ce,getLabelStatesModels(Ne),{labelFetcher:{getFormattedLabel:function(Ve,ze){return g.getFormattedLabel(xe,ze)}},defaultText:Oe}),Ce.disableLabelAnimation=!0,Ie.get("position")||Ce.setTextConfig({position:"bottom"}),Fe.onHoverStateChange=function(Ve){setStatesFlag(Ce,Ve)}}re.add(Ce)}}})},n.type="map",n}(ChartView),MapSeries=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.needsDrawMap=!1,g.seriesGroup=[],g.getTooltipPosition=function(y){if(y!=null){var $=this.getData().getName(y),L=this.coordinateSystem,re=L.getRegion($);return re&&L.dataToPoint(re.getCenter())}},g}return n.prototype.getInitialData=function(g){for(var y=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),$=createHashMap(),L=[],re=0,ae=y.count();re<ae;re++){var le=y.getName(re);$.set(le,re)}var ue=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(ue.regions,function(he){var _e=he.name,Ce=$.get(_e),$e=he.properties&&he.properties.echartsStyle,Oe;Ce==null?(Oe={name:_e},L.push(Oe)):Oe=y.getRawDataItem(Ce),$e&&merge$1(Oe,$e)}),y.appendData(L),y},n.prototype.getHostGeoModel=function(){var g=this.option.geoIndex;return g!=null?this.ecModel.getComponent("geo",g):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(g){var y=this.getData();return y.get(y.mapDimension("value"),g)},n.prototype.getRegionModel=function(g){var y=this.getData();return y.getItemModel(y.indexOfName(g))},n.prototype.formatTooltip=function(g,y,$){for(var L=this.getData(),re=this.getRawValue(g),ae=L.getName(g),le=this.seriesGroup,ue=[],he=0;he<le.length;he++){var _e=le[he].originalData.indexOfName(ae),Ce=L.mapDimension("value");isNaN(le[he].originalData.get(Ce,_e))||ue.push(le[he].name)}return createTooltipMarkup("section",{header:ue.join(", "),noHeader:!ue.length,blocks:[createTooltipMarkup("nameValue",{name:ae,value:re})]})},n.prototype.setZoom=function(g){this.option.zoom=g},n.prototype.setCenter=function(g){this.option.center=g},n.prototype.getLegendIcon=function(g){var y=g.icon||"roundRect",$=createSymbol$1(y,0,0,g.itemWidth,g.itemHeight,g.itemStyle.fill);return $.setStyle(g.itemStyle),$.style.stroke="none",y.indexOf("empty")>-1&&($.style.stroke=$.style.fill,$.style.fill="#fff",$.style.lineWidth=2),$},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel);function dataStatistics(r,n){var g={};return each$f(r,function(y){y.each(y.mapDimension("value"),function($,L){var re="ec-"+y.getName(L);g[re]=g[re]||[],isNaN($)||g[re].push($)})}),r[0].map(r[0].mapDimension("value"),function(y,$){for(var L="ec-"+r[0].getName($),re=0,ae=1/0,le=-1/0,ue=g[L].length,he=0;he<ue;he++)ae=Math.min(ae,g[L][he]),le=Math.max(le,g[L][he]),re+=g[L][he];var _e;return n==="min"?_e=ae:n==="max"?_e=le:n==="average"?_e=re/ue:_e=re,ue===0?NaN:_e})}function mapDataStatistic(r){var n={};r.eachSeriesByType("map",function(g){var y=g.getHostGeoModel(),$=y?"o"+y.id:"i"+g.getMapType();(n[$]=n[$]||[]).push(g)}),each$f(n,function(g,y){for(var $=dataStatistics(map$1(g,function(re){return re.getData()}),g[0].get("mapValueCalculation")),L=0;L<g.length;L++)g[L].originalData=g[L].getData();for(var L=0;L<g.length;L++)g[L].seriesGroup=g,g[L].needsDrawMap=L===0&&!g[L].getHostGeoModel(),g[L].setData($.cloneShallow()),g[L].mainSeries=g[0]})}function mapSymbolLayout(r){var n={};r.eachSeriesByType("map",function(g){var y=g.getMapType();if(!(g.getHostGeoModel()||n[y])){var $={};each$f(g.seriesGroup,function(re){var ae=re.coordinateSystem,le=re.originalData;re.get("showLegendSymbol")&&r.getComponent("legend")&&le.each(le.mapDimension("value"),function(ue,he){var _e=le.getName(he),Ce=ae.getRegion(_e);if(!(!Ce||isNaN(ue))){var $e=$[_e]||0,Oe=ae.dataToPoint(Ce.getCenter());$[_e]=$e+1,le.setItemLayout(he,{point:Oe,offset:$e})}})});var L=g.getData();L.each(function(re){var ae=L.getName(re),le=L.getItemLayout(re)||{};le.showLabel=!$[ae],L.setItemLayout(re,le)}),n[y]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(r){__extends$1(n,r);function n(g){var y=r.call(this)||this;return y.type="view",y.dimensions=["x","y"],y._roamTransformable=new Transformable,y._rawTransformable=new Transformable,y.name=g,y}return n.prototype.setBoundingRect=function(g,y,$,L){return this._rect=new BoundingRect(g,y,$,L),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(g,y,$,L){this._transformTo(g,y,$,L),this._viewRect=new BoundingRect(g,y,$,L)},n.prototype._transformTo=function(g,y,$,L){var re=this.getBoundingRect(),ae=this._rawTransformable;ae.transform=re.calculateTransform(new BoundingRect(g,y,$,L));var le=ae.parent;ae.parent=null,ae.decomposeTransform(),ae.parent=le,this._updateTransform()},n.prototype.setCenter=function(g,y){g&&(this._center=[parsePercent(g[0],y.getWidth()),parsePercent(g[1],y.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(g){g=g||1;var y=this.zoomLimit;y&&(y.max!=null&&(g=Math.min(y.max,g)),y.min!=null&&(g=Math.max(y.min,g))),this._zoom=g,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var g=this.getBoundingRect(),y=g.x+g.width/2,$=g.y+g.height/2;return[y,$]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var g=this._rawTransformable.getLocalTransform(),y=this._roamTransformable,$=this.getDefaultCenter(),L=this.getCenter(),re=this.getZoom();L=applyTransform$1([],L,g),$=applyTransform$1([],$,g),y.originX=L[0],y.originY=L[1],y.x=$[0]-L[0],y.y=$[1]-L[1],y.scaleX=y.scaleY=re,this._updateTransform()},n.prototype._updateTransform=function(){var g=this._roamTransformable,y=this._rawTransformable;y.parent=g,g.updateTransform(),y.updateTransform(),copy(this.transform||(this.transform=[]),y.transform||create$1()),this._rawTransform=y.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var g=this._rawTransformable,y=this._roamTransformable,$=new Transformable;return $.transform=y.transform,$.decomposeTransform(),{roam:{x:$.x,y:$.y,scaleX:$.scaleX,scaleY:$.scaleY},raw:{x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var g=this.getBoundingRect().clone();return g.applyTransform(this.transform),g},n.prototype.dataToPoint=function(g,y,$){var L=y?this._rawTransform:this.transform;return $=$||[],L?v2ApplyTransform($,g,L):copy$1($,g)},n.prototype.pointToData=function(g){var y=this.invTransform;return y?v2ApplyTransform([],g,y):[g[0],g[1]]},n.prototype.convertToPixel=function(g,y,$){var L=getCoordSys$4(y);return L===this?L.dataToPoint($):null},n.prototype.convertFromPixel=function(g,y,$){var L=getCoordSys$4(y);return L===this?L.pointToData($):null},n.prototype.containPoint=function(g){return this.getViewRectAfterRoam().contain(g[0],g[1])},n.dimensions=["x","y"],n}(Transformable);function getCoordSys$4(r){var n=r.seriesModel;return n?n.coordinateSystem:null}var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this,g)||this;L.dimensions=geo2DDimensions,L.type="geo",L._nameCoordMap=createHashMap(),L.map=y;var re=$.projection,ae=geoSourceManager.load(y,$.nameMap,$.nameProperty),le=geoSourceManager.getGeoResource(y);L.resourceType=le?le.type:null;var ue=L.regions=ae.regions,he=GEO_DEFAULT_PARAMS[le.type];L._regionsMap=ae.regionsMap,L.regions=ae.regions,L.projection=re;var _e;if(re)for(var Ce=0;Ce<ue.length;Ce++){var $e=ue[Ce].getBoundingRect(re);_e=_e||$e.clone(),_e.union($e)}else _e=ae.boundingRect;return L.setBoundingRect(_e.x,_e.y,_e.width,_e.height),L.aspectScale=re?1:retrieve2($.aspectScale,he.aspectScale),L._invertLongitute=re?!1:he.invertLongitute,L}return n.prototype._transformTo=function(g,y,$,L){var re=this.getBoundingRect(),ae=this._invertLongitute;re=re.clone(),ae&&(re.y=-re.y-re.height);var le=this._rawTransformable;le.transform=re.calculateTransform(new BoundingRect(g,y,$,L));var ue=le.parent;le.parent=null,le.decomposeTransform(),le.parent=ue,ae&&(le.scaleY=-le.scaleY),this._updateTransform()},n.prototype.getRegion=function(g){return this._regionsMap.get(g)},n.prototype.getRegionByCoord=function(g){for(var y=this.regions,$=0;$<y.length;$++){var L=y[$];if(L.type==="geoJSON"&&L.contain(g))return y[$]}},n.prototype.addGeoCoord=function(g,y){this._nameCoordMap.set(g,y)},n.prototype.getGeoCoord=function(g){var y=this._regionsMap.get(g);return this._nameCoordMap.get(g)||y&&y.getCenter()},n.prototype.dataToPoint=function(g,y,$){if(isString(g)&&(g=this.getGeoCoord(g)),g){var L=this.projection;return L&&(g=L.project(g)),g&&this.projectedToPoint(g,y,$)}},n.prototype.pointToData=function(g){var y=this.projection;return y&&(g=y.unproject(g)),g&&this.pointToProjected(g)},n.prototype.pointToProjected=function(g){return r.prototype.pointToData.call(this,g)},n.prototype.projectedToPoint=function(g,y,$){return r.prototype.dataToPoint.call(this,g,y,$)},n.prototype.convertToPixel=function(g,y,$){var L=getCoordSys$3(y);return L===this?L.dataToPoint($):null},n.prototype.convertFromPixel=function(g,y,$){var L=getCoordSys$3(y);return L===this?L.pointToData($):null},n}(View);mixin(Geo,View);function getCoordSys$3(r){var n=r.geoModel,g=r.seriesModel;return n?n.coordinateSystem:g?g.coordinateSystem||(g.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}function resizeGeo(r,n){var g=r.get("boundingCoords");if(g!=null){var y=g[0],$=g[1];if(isFinite(y[0])&&isFinite(y[1])&&isFinite($[0])&&isFinite($[1])){var L=this.projection;if(L){var re=y[0],ae=y[1],le=$[0],ue=$[1];y=[1/0,1/0],$=[-1/0,-1/0];var he=function(qe,kt,Et,Pt){for(var At=Et-qe,Dt=Pt-kt,Lt=0;Lt<=100;Lt++){var hn=Lt/100,_n=L.project([qe+At*hn,kt+Dt*hn]);min$2(y,y,_n),max$2($,$,_n)}};he(re,ae,le,ae),he(le,ae,le,ue),he(le,ue,re,ue),he(re,ue,le,ae)}this.setBoundingRect(y[0],y[1],$[0]-y[0],$[1]-y[1])}}var _e=this.getBoundingRect(),Ce=r.get("layoutCenter"),$e=r.get("layoutSize"),Oe=n.getWidth(),xe=n.getHeight(),Ne=_e.width/_e.height*this.aspectScale,Ie=!1,Fe,Ve;Ce&&$e&&(Fe=[parsePercent(Ce[0],Oe),parsePercent(Ce[1],xe)],Ve=parsePercent($e,Math.min(Oe,xe)),!isNaN(Fe[0])&&!isNaN(Fe[1])&&!isNaN(Ve)&&(Ie=!0));var ze;if(Ie)ze={},Ne>1?(ze.width=Ve,ze.height=Ve/Ne):(ze.height=Ve,ze.width=Ve*Ne),ze.y=Fe[1]-ze.height/2,ze.x=Fe[0]-ze.width/2;else{var Ue=r.getBoxLayoutParams();Ue.aspect=Ne,ze=getLayoutRect$1(Ue,{width:Oe,height:xe})}this.setViewRect(ze.x,ze.y,ze.width,ze.height),this.setCenter(r.get("center"),n),this.setZoom(r.get("zoom"))}function setGeoCoords(r,n){each$f(n.get("geoCoord"),function(g,y){r.addGeoCoord(y,g)})}var GeoCreator=function(){function r(){this.dimensions=geo2DDimensions}return r.prototype.create=function(n,g){var y=[];function $(re){return{nameProperty:re.get("nameProperty"),aspectScale:re.get("aspectScale"),projection:re.get("projection")}}n.eachComponent("geo",function(re,ae){var le=re.get("map"),ue=new Geo(le+ae,le,extend({nameMap:re.get("nameMap")},$(re)));ue.zoomLimit=re.get("scaleLimit"),y.push(ue),re.coordinateSystem=ue,ue.model=re,ue.resize=resizeGeo,ue.resize(re,g)}),n.eachSeries(function(re){var ae=re.get("coordinateSystem");if(ae==="geo"){var le=re.get("geoIndex")||0;re.coordinateSystem=y[le]}});var L={};return n.eachSeriesByType("map",function(re){if(!re.getHostGeoModel()){var ae=re.getMapType();L[ae]=L[ae]||[],L[ae].push(re)}}),each$f(L,function(re,ae){var le=map$1(re,function(he){return he.get("nameMap")}),ue=new Geo(ae,ae,extend({nameMap:mergeAll(le)},$(re[0])));ue.zoomLimit=retrieve.apply(null,map$1(re,function(he){return he.get("scaleLimit")})),y.push(ue),ue.resize=resizeGeo,ue.resize(re[0],g),each$f(re,function(he){he.coordinateSystem=ue,setGeoCoords(ue,he)})}),y},r.prototype.getFilledRegions=function(n,g,y,$){for(var L=(n||[]).slice(),re=createHashMap(),ae=0;ae<L.length;ae++)re.set(L[ae].name,L[ae]);var le=geoSourceManager.load(g,y,$);return each$f(le.regions,function(ue){var he=ue.name,_e=re.get(he),Ce=ue.properties&&ue.properties.echartsStyle;_e||(_e={name:he},L.push(_e)),Ce&&merge$1(_e,Ce)}),L},r}(),geoCreator=new GeoCreator,GeoModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y,$){var L=geoSourceManager.getGeoResource(g.map);if(L&&L.type==="geoJSON"){var re=g.itemStyle=g.itemStyle||{};"color"in re||(re.color="#eee")}this.mergeDefaultAndTheme(g,$),defaultEmphasis(g,"label",["show"])},n.prototype.optionUpdated=function(){var g=this,y=this.option;y.regions=geoCreator.getFilledRegions(y.regions,y.map,y.nameMap,y.nameProperty);var $={};this._optionModelMap=reduce(y.regions||[],function(L,re){var ae=re.name;return ae&&(L.set(ae,new Model(re,g,g.ecModel)),re.selected&&($[ae]=!0)),L},createHashMap()),y.selectedMap||(y.selectedMap=$)},n.prototype.getRegionModel=function(g){return this._optionModelMap.get(g)||new Model(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(g,y){var $=this.getRegionModel(g),L=y==="normal"?$.get(["label","formatter"]):$.get(["emphasis","label","formatter"]),re={name:g};if(isFunction(L))return re.status=y,L(re);if(isString(L))return L.replace("{a}",g??"")},n.prototype.setZoom=function(g){this.option.zoom=g},n.prototype.setCenter=function(g){this.option.center=g},n.prototype.select=function(g){var y=this.option,$=y.selectedMode;if($){$!=="multiple"&&(y.selectedMap=null);var L=y.selectedMap||(y.selectedMap={});L[g]=!0}},n.prototype.unSelect=function(g){var y=this.option.selectedMap;y&&(y[g]=!1)},n.prototype.toggleSelected=function(g){this[this.isSelected(g)?"unSelect":"select"](g)},n.prototype.isSelected=function(g){var y=this.option.selectedMap;return!!(y&&y[g])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel);function getCenterCoord(r,n){return r.pointToProjected?r.pointToProjected(n):r.pointToData(n)}function updateCenterAndZoom(r,n,g,y){var $=r.getZoom(),L=r.getCenter(),re=n.zoom,ae=r.projectedToPoint?r.projectedToPoint(L):r.dataToPoint(L);if(n.dx!=null&&n.dy!=null&&(ae[0]-=n.dx,ae[1]-=n.dy,r.setCenter(getCenterCoord(r,ae),y)),re!=null){if(g){var le=g.min||0,ue=g.max||1/0;re=Math.max(Math.min($*re,ue),le)/$}r.scaleX*=re,r.scaleY*=re;var he=(n.originX-r.x)*(re-1),_e=(n.originY-r.y)*(re-1);r.x-=he,r.y-=_e,r.updateTransform(),r.setCenter(getCenterCoord(r,ae),y),r.setZoom(re*$)}return{center:r.getCenter(),zoom:r.getZoom()}}var GeoView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.focusBlurEnabled=!0,g}return n.prototype.init=function(g,y){this._api=y},n.prototype.render=function(g,y,$,L){if(this._model=g,!g.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw($));var re=this._mapDraw;re.draw(g,y,$,this,L),re.group.on("click",this._handleRegionClick,this),re.group.silent=g.get("silent"),this.group.add(re.group),this.updateSelectStatus(g,y,$)},n.prototype._handleRegionClick=function(g){var y;findEventDispatcher(g.target,function($){return(y=getECData($).eventData)!=null},!0),y&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:y.name})},n.prototype.updateSelectStatus=function(g,y,$){var L=this;this._mapDraw.group.traverse(function(re){var ae=getECData(re).eventData;if(ae)return L._model.isSelected(ae.name)?$.enterSelect(re):$.leaveSelect(re),!0})},n.prototype.findHighDownDispatchers=function(g){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(g,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView);function registerMap(r,n,g){geoSourceManager.registerMap(r,n,g)}function install$K(r){r.registerCoordinateSystem("geo",geoCreator),r.registerComponentModel(GeoModel),r.registerComponentView(GeoView),r.registerImpl("registerMap",registerMap),r.registerImpl("getMap",function(g){return geoSourceManager.getMapForUser(g)});function n(g,y){y.update="geo:updateSelectStatus",r.registerAction(y,function($,L){var re={},ae=[];return L.eachComponent({mainType:"geo",query:$},function(le){le[g]($.name);var ue=le.coordinateSystem;each$f(ue.regions,function(_e){re[_e.name]=le.isSelected(_e.name)||!1});var he=[];each$f(re,function(_e,Ce){re[Ce]&&he.push(Ce)}),ae.push({geoIndex:le.componentIndex,name:he})}),{selected:re,allSelected:ae,name:$.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(g,y,$){var L=g.componentType||"series";y.eachComponent({mainType:L,query:g},function(re){var ae=re.coordinateSystem;if(ae.type==="geo"){var le=updateCenterAndZoom(ae,g,re.get("scaleLimit"),$);re.setCenter&&re.setCenter(le.center),re.setZoom&&re.setZoom(le.zoom),L==="series"&&each$f(re.seriesGroup,function(ue){ue.setCenter(le.center),ue.setZoom(le.zoom)})}})})}function install$J(r){use(install$K),r.registerChartView(MapView),r.registerSeriesModel(MapSeries),r.registerLayout(mapSymbolLayout),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",r.registerAction)}function init(r){var n=r;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var g=[n],y,$;y=g.pop();)if($=y.children,y.isExpand&&$.length)for(var L=$.length,re=L-1;re>=0;re--){var ae=$[re];ae.hierNode={defaultAncestor:null,ancestor:ae,prelim:0,modifier:0,change:0,shift:0,i:re,thread:null},g.push(ae)}}function firstWalk(r,n){var g=r.isExpand?r.children:[],y=r.parentNode.children,$=r.hierNode.i?y[r.hierNode.i-1]:null;if(g.length){executeShifts(r);var L=(g[0].hierNode.prelim+g[g.length-1].hierNode.prelim)/2;$?(r.hierNode.prelim=$.hierNode.prelim+n(r,$),r.hierNode.modifier=r.hierNode.prelim-L):r.hierNode.prelim=L}else $&&(r.hierNode.prelim=$.hierNode.prelim+n(r,$));r.parentNode.hierNode.defaultAncestor=apportion(r,$,r.parentNode.hierNode.defaultAncestor||y[0],n)}function secondWalk(r){var n=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:n},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function separation(r){return arguments.length?r:defaultSeparation}function radialCoordinate(r,n){return r-=Math.PI/2,{x:n*Math.cos(r),y:n*Math.sin(r)}}function getViewRect$4(r,n){return getLayoutRect$1(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(r){for(var n=r.children,g=n.length,y=0,$=0;--g>=0;){var L=n[g];L.hierNode.prelim+=y,L.hierNode.modifier+=y,$+=L.hierNode.change,y+=L.hierNode.shift+$}}function apportion(r,n,g,y){if(n){for(var $=r,L=r,re=L.parentNode.children[0],ae=n,le=$.hierNode.modifier,ue=L.hierNode.modifier,he=re.hierNode.modifier,_e=ae.hierNode.modifier;ae=nextRight(ae),L=nextLeft(L),ae&&L;){$=nextRight($),re=nextLeft(re),$.hierNode.ancestor=r;var Ce=ae.hierNode.prelim+_e-L.hierNode.prelim-ue+y(ae,L);Ce>0&&(moveSubtree(nextAncestor(ae,r,g),r,Ce),ue+=Ce,le+=Ce),_e+=ae.hierNode.modifier,ue+=L.hierNode.modifier,le+=$.hierNode.modifier,he+=re.hierNode.modifier}ae&&!nextRight($)&&($.hierNode.thread=ae,$.hierNode.modifier+=_e-le),L&&!nextLeft(re)&&(re.hierNode.thread=L,re.hierNode.modifier+=ue-he,g=r)}return g}function nextRight(r){var n=r.children;return n.length&&r.isExpand?n[n.length-1]:r.hierNode.thread}function nextLeft(r){var n=r.children;return n.length&&r.isExpand?n[0]:r.hierNode.thread}function nextAncestor(r,n,g){return r.hierNode.ancestor.parentNode===n.parentNode?r.hierNode.ancestor:g}function moveSubtree(r,n,g){var y=g/(n.hierNode.i-r.hierNode.i);n.hierNode.change-=y,n.hierNode.shift+=g,n.hierNode.modifier+=g,n.hierNode.prelim+=g,r.hierNode.change+=y}function defaultSeparation(r,n){return r.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),TreePath=function(r){__extends$1(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(g,y){var $=y.childPoints,L=$.length,re=y.parentPoint,ae=$[0],le=$[L-1];if(L===1){g.moveTo(re[0],re[1]),g.lineTo(ae[0],ae[1]);return}var ue=y.orient,he=ue==="TB"||ue==="BT"?0:1,_e=1-he,Ce=parsePercent(y.forkPosition,1),$e=[];$e[he]=re[he],$e[_e]=re[_e]+(le[_e]-re[_e])*Ce,g.moveTo(re[0],re[1]),g.lineTo($e[0],$e[1]),g.moveTo(ae[0],ae[1]),$e[he]=ae[he],g.lineTo($e[0],$e[1]),$e[he]=le[he],g.lineTo($e[0],$e[1]),g.lineTo(le[0],le[1]);for(var Oe=1;Oe<L-1;Oe++){var xe=$[Oe];g.moveTo(xe[0],xe[1]),$e[he]=xe[he],g.lineTo($e[0],$e[1])}},n}(Path),TreeView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._mainGroup=new Group$3,g}return n.prototype.init=function(g,y){this._controller=new RoamController(y.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(g,y,$){var L=g.getData(),re=g.layoutInfo,ae=this._mainGroup,le=g.get("layout");le==="radial"?(ae.x=re.x+re.width/2,ae.y=re.y+re.height/2):(ae.x=re.x,ae.y=re.y),this._updateViewCoordSys(g,$),this._updateController(g,y,$);var ue=this._data;L.diff(ue).add(function(he){symbolNeedsDraw(L,he)&&updateNode(L,he,null,ae,g)}).update(function(he,_e){var Ce=ue.getItemGraphicEl(_e);if(!symbolNeedsDraw(L,he)){Ce&&removeNode$1(ue,_e,Ce,ae,g);return}updateNode(L,he,Ce,ae,g)}).remove(function(he){var _e=ue.getItemGraphicEl(he);_e&&removeNode$1(ue,he,_e,ae,g)}).execute(),this._nodeScaleRatio=g.get("nodeScaleRatio"),this._updateNodeAndLinkScale(g),g.get("expandAndCollapse")===!0&&L.eachItemGraphicEl(function(he,_e){he.off("click").on("click",function(){$.dispatchAction({type:"treeExpandAndCollapse",seriesId:g.id,dataIndex:_e})})}),this._data=L},n.prototype._updateViewCoordSys=function(g,y){var $=g.getData(),L=[];$.each(function(_e){var Ce=$.getItemLayout(_e);Ce&&!isNaN(Ce.x)&&!isNaN(Ce.y)&&L.push([+Ce.x,+Ce.y])});var re=[],ae=[];fromPoints(L,re,ae);var le=this._min,ue=this._max;ae[0]-re[0]===0&&(re[0]=le?le[0]:re[0]-1,ae[0]=ue?ue[0]:ae[0]+1),ae[1]-re[1]===0&&(re[1]=le?le[1]:re[1]-1,ae[1]=ue?ue[1]:ae[1]+1);var he=g.coordinateSystem=new View;he.zoomLimit=g.get("scaleLimit"),he.setBoundingRect(re[0],re[1],ae[0]-re[0],ae[1]-re[1]),he.setCenter(g.get("center"),y),he.setZoom(g.get("zoom")),this.group.attr({x:he.x,y:he.y,scaleX:he.scaleX,scaleY:he.scaleY}),this._min=re,this._max=ae},n.prototype._updateController=function(g,y,$){var L=this,re=this._controller,ae=this._controllerHost,le=this.group;re.setPointerChecker(function(ue,he,_e){var Ce=le.getBoundingRect();return Ce.applyTransform(le.transform),Ce.contain(he,_e)&&!onIrrelevantElement(ue,$,g)}),re.enable(g.get("roam")),ae.zoomLimit=g.get("scaleLimit"),ae.zoom=g.coordinateSystem.getZoom(),re.off("pan").off("zoom").on("pan",function(ue){updateViewOnPan(ae,ue.dx,ue.dy),$.dispatchAction({seriesId:g.id,type:"treeRoam",dx:ue.dx,dy:ue.dy})}).on("zoom",function(ue){updateViewOnZoom(ae,ue.scale,ue.originX,ue.originY),$.dispatchAction({seriesId:g.id,type:"treeRoam",zoom:ue.scale,originX:ue.originX,originY:ue.originY}),L._updateNodeAndLinkScale(g),$.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(g){var y=g.getData(),$=this._getNodeGlobalScale(g);y.eachItemGraphicEl(function(L,re){L.setSymbolScale($)})},n.prototype._getNodeGlobalScale=function(g){var y=g.coordinateSystem;if(y.type!=="view")return 1;var $=this._nodeScaleRatio,L=y.scaleX||1,re=y.getZoom(),ae=(re-1)*$+1;return ae/L},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView);function symbolNeedsDraw(r,n){var g=r.getItemLayout(n);return g&&!isNaN(g.x)&&!isNaN(g.y)}function updateNode(r,n,g,y,$){var L=!g,re=r.tree.getNodeByDataIndex(n),ae=re.getModel(),le=re.getVisual("style").fill,ue=re.isExpand===!1&&re.children.length!==0?le:"#fff",he=r.tree.root,_e=re.parentNode===he?re:re.parentNode||re,Ce=r.getItemGraphicEl(_e.dataIndex),$e=_e.getLayout(),Oe=Ce?{x:Ce.__oldX,y:Ce.__oldY,rawX:Ce.__radialOldRawX,rawY:Ce.__radialOldRawY}:$e,xe=re.getLayout();L?(g=new Symbol$1(r,n,null,{symbolInnerColor:ue,useNameLabel:!0}),g.x=Oe.x,g.y=Oe.y):g.updateData(r,n,null,{symbolInnerColor:ue,useNameLabel:!0}),g.__radialOldRawX=g.__radialRawX,g.__radialOldRawY=g.__radialRawY,g.__radialRawX=xe.rawX,g.__radialRawY=xe.rawY,y.add(g),r.setItemGraphicEl(n,g),g.__oldX=g.x,g.__oldY=g.y,updateProps$1(g,{x:xe.x,y:xe.y},$);var Ne=g.getSymbolPath();if($.get("layout")==="radial"){var Ie=he.children[0],Fe=Ie.getLayout(),Ve=Ie.children.length,ze=void 0,Ue=void 0;if(xe.x===Fe.x&&re.isExpand===!0&&Ie.children.length){var qe={x:(Ie.children[0].getLayout().x+Ie.children[Ve-1].getLayout().x)/2,y:(Ie.children[0].getLayout().y+Ie.children[Ve-1].getLayout().y)/2};ze=Math.atan2(qe.y-Fe.y,qe.x-Fe.x),ze<0&&(ze=Math.PI*2+ze),Ue=qe.x<Fe.x,Ue&&(ze=ze-Math.PI)}else ze=Math.atan2(xe.y-Fe.y,xe.x-Fe.x),ze<0&&(ze=Math.PI*2+ze),re.children.length===0||re.children.length!==0&&re.isExpand===!1?(Ue=xe.x<Fe.x,Ue&&(ze=ze-Math.PI)):(Ue=xe.x>Fe.x,Ue||(ze=ze-Math.PI));var kt=Ue?"left":"right",Et=ae.getModel("label"),Pt=Et.get("rotate"),At=Pt*(Math.PI/180),Dt=Ne.getTextContent();Dt&&(Ne.setTextConfig({position:Et.get("position")||kt,rotation:Pt==null?-ze:At,origin:"center"}),Dt.setStyle("verticalAlign","middle"))}var Lt=ae.get(["emphasis","focus"]),hn=Lt==="relative"?concatArray(re.getAncestorsIndices(),re.getDescendantIndices()):Lt==="ancestor"?re.getAncestorsIndices():Lt==="descendant"?re.getDescendantIndices():null;hn&&(getECData(g).focus=hn),drawEdge($,re,he,g,Oe,$e,xe,y),g.__edge&&(g.onHoverStateChange=function(_n){if(_n!=="blur"){var vn=re.parentNode&&r.getItemGraphicEl(re.parentNode.dataIndex);vn&&vn.hoverState===HOVER_STATE_BLUR||setStatesFlag(g.__edge,_n)}})}function drawEdge(r,n,g,y,$,L,re,ae){var le=n.getModel(),ue=r.get("edgeShape"),he=r.get("layout"),_e=r.getOrient(),Ce=r.get(["lineStyle","curveness"]),$e=r.get("edgeForkPosition"),Oe=le.getModel("lineStyle").getLineStyle(),xe=y.__edge;if(ue==="curve")n.parentNode&&n.parentNode!==g&&(xe||(xe=y.__edge=new BezierCurve({shape:getEdgeShape(he,_e,Ce,$,$)})),updateProps$1(xe,{shape:getEdgeShape(he,_e,Ce,L,re)},r));else if(ue==="polyline"&&he==="orthogonal"&&n!==g&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var Ne=n.children,Ie=[],Fe=0;Fe<Ne.length;Fe++){var Ve=Ne[Fe].getLayout();Ie.push([Ve.x,Ve.y])}xe||(xe=y.__edge=new TreePath({shape:{parentPoint:[re.x,re.y],childPoints:[[re.x,re.y]],orient:_e,forkPosition:$e}})),updateProps$1(xe,{shape:{parentPoint:[re.x,re.y],childPoints:Ie}},r)}xe&&!(ue==="polyline"&&!n.isExpand)&&(xe.useStyle(defaults$2({strokeNoScale:!0,fill:null},Oe)),setStatesStylesFromModel(xe,le,"lineStyle"),setDefaultStateProxy(xe),ae.add(xe))}function removeNodeEdge(r,n,g,y,$){var L=n.tree.root,re=getSourceNode(L,r),ae=re.source,le=re.sourceLayout,ue=n.getItemGraphicEl(r.dataIndex);if(ue){var he=n.getItemGraphicEl(ae.dataIndex),_e=he.__edge,Ce=ue.__edge||(ae.isExpand===!1||ae.children.length===1?_e:void 0),$e=y.get("edgeShape"),Oe=y.get("layout"),xe=y.get("orient"),Ne=y.get(["lineStyle","curveness"]);Ce&&($e==="curve"?removeElement(Ce,{shape:getEdgeShape(Oe,xe,Ne,le,le),style:{opacity:0}},y,{cb:function(){g.remove(Ce)},removeOpt:$}):$e==="polyline"&&y.get("layout")==="orthogonal"&&removeElement(Ce,{shape:{parentPoint:[le.x,le.y],childPoints:[[le.x,le.y]]},style:{opacity:0}},y,{cb:function(){g.remove(Ce)},removeOpt:$}))}}function getSourceNode(r,n){for(var g=n.parentNode===r?n:n.parentNode||n,y;y=g.getLayout(),y==null;)g=g.parentNode===r?g:g.parentNode||g;return{source:g,sourceLayout:y}}function removeNode$1(r,n,g,y,$){var L=r.tree.getNodeByDataIndex(n),re=r.tree.root,ae=getSourceNode(re,L).sourceLayout,le={duration:$.get("animationDurationUpdate"),easing:$.get("animationEasingUpdate")};removeElement(g,{x:ae.x+1,y:ae.y+1},$,{cb:function(){y.remove(g),r.setItemGraphicEl(n,null)},removeOpt:le}),g.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:le}),L.children.forEach(function(ue){removeNodeEdge(ue,r,y,$,le)}),removeNodeEdge(L,r,y,$,le)}function getEdgeShape(r,n,g,y,$){var L,re,ae,le,ue,he,_e,Ce;if(r==="radial"){ue=y.rawX,_e=y.rawY,he=$.rawX,Ce=$.rawY;var $e=radialCoordinate(ue,_e),Oe=radialCoordinate(ue,_e+(Ce-_e)*g),xe=radialCoordinate(he,Ce+(_e-Ce)*g),Ne=radialCoordinate(he,Ce);return{x1:$e.x||0,y1:$e.y||0,x2:Ne.x||0,y2:Ne.y||0,cpx1:Oe.x||0,cpy1:Oe.y||0,cpx2:xe.x||0,cpy2:xe.y||0}}else ue=y.x,_e=y.y,he=$.x,Ce=$.y,(n==="LR"||n==="RL")&&(L=ue+(he-ue)*g,re=_e,ae=he+(ue-he)*g,le=Ce),(n==="TB"||n==="BT")&&(L=ue,re=_e+(Ce-_e)*g,ae=he,le=Ce+(_e-Ce)*g);return{x1:ue,y1:_e,x2:he,y2:Ce,cpx1:L,cpy1:re,cpx2:ae,cpy2:le}}var inner$e=makeInner();function linkSeriesData(r){var n=r.mainData,g=r.datas;g||(g={main:n},r.datasAttr={main:"data"}),r.datas=r.mainData=null,linkAll(n,g,r),each$f(g,function(y){each$f(n.TRANSFERABLE_METHODS,function($){y.wrapMethod($,curry$1(transferInjection,r))})}),n.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,r)),each$f(n.CHANGABLE_METHODS,function(y){n.wrapMethod(y,curry$1(changeInjection,r))}),assert(g[n.dataType]===n)}function transferInjection(r,n){if(isMainData(this)){var g=extend({},inner$e(this).datas);g[this.dataType]=n,linkAll(n,g,r)}else linkSingle(n,this.dataType,inner$e(this).mainData,r);return n}function changeInjection(r,n){return r.struct&&r.struct.update(),n}function cloneShallowInjection(r,n){return each$f(inner$e(n).datas,function(g,y){g!==n&&linkSingle(g.cloneShallow(),y,n,r)}),n}function getLinkedData(r){var n=inner$e(this).mainData;return r==null||n==null?n:inner$e(n).datas[r]}function getLinkedDataAll(){var r=inner$e(this).mainData;return r==null?[{data:r}]:map$1(keys$1(inner$e(r).datas),function(n){return{type:n,data:inner$e(r).datas[n]}})}function isMainData(r){return inner$e(r).mainData===r}function linkAll(r,n,g){inner$e(r).datas={},each$f(n,function(y,$){linkSingle(y,$,r,g)})}function linkSingle(r,n,g,y){inner$e(g).datas[n]=r,inner$e(r).mainData=g,r.dataType=n,y.struct&&(r[y.structAttr]=y.struct,y.struct[y.datasAttr[n]]=r),r.getLinkedData=getLinkedData,r.getLinkedDataAll=getLinkedDataAll}var TreeNode$3=function(){function r(n,g){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=g}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(n,g,y){isFunction(n)&&(y=g,g=n,n=null),n=n||{},isString(n)&&(n={order:n});var $=n.order||"preorder",L=this[n.attr||"children"],re;$==="preorder"&&(re=g.call(y,this));for(var ae=0;!re&&ae<L.length;ae++)L[ae].eachNode(n,g,y);$==="postorder"&&g.call(y,this)},r.prototype.updateDepthAndHeight=function(n){var g=0;this.depth=n;for(var y=0;y<this.children.length;y++){var $=this.children[y];$.updateDepthAndHeight(n+1),$.height>g&&(g=$.height)}this.height=g+1},r.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var g=0,y=this.children,$=y.length;g<$;g++){var L=y[g].getNodeById(n);if(L)return L}},r.prototype.contains=function(n){if(n===this)return!0;for(var g=0,y=this.children,$=y.length;g<$;g++){var L=y[g].contains(n);if(L)return L}},r.prototype.getAncestors=function(n){for(var g=[],y=n?this:this.parentNode;y;)g.push(y),y=y.parentNode;return g.reverse(),g},r.prototype.getAncestorsIndices=function(){for(var n=[],g=this;g;)n.push(g.dataIndex),g=g.parentNode;return n.reverse(),n},r.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(g){n.push(g.dataIndex)}),n},r.prototype.getValue=function(n){var g=this.hostTree.data;return g.getStore().get(g.getDimensionIndex(n||"value"),this.dataIndex)},r.prototype.setLayout=function(n,g){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,g)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var g=this.hostTree,y=g.data.getItemModel(this.dataIndex);return y.getModel(n)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(n,g){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,g)},r.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,g=0;g<n.length;++g)if(n[g]===this)return g;return-1}return-1},r.prototype.isAncestorOf=function(n){for(var g=n.parentNode;g;){if(g===this)return!0;g=g.parentNode}return!1},r.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},r}(),Tree$3=function(){function r(n){this.type="tree",this._nodes=[],this.hostModel=n}return r.prototype.eachNode=function(n,g,y){this.root.eachNode(n,g,y)},r.prototype.getNodeByDataIndex=function(n){var g=this.data.getRawIndex(n);return this._nodes[g]},r.prototype.getNodeById=function(n){return this.root.getNodeById(n)},r.prototype.update=function(){for(var n=this.data,g=this._nodes,y=0,$=g.length;y<$;y++)g[y].dataIndex=-1;for(var y=0,$=n.count();y<$;y++)g[n.getRawIndex(y)].dataIndex=y},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(n,g,y){var $=new r(g),L=[],re=1;ae(n);function ae(he,_e){var Ce=he.value;re=Math.max(re,isArray$2(Ce)?Ce.length:1),L.push(he);var $e=new TreeNode$3(convertOptionIdName(he.name,""),$);_e?addChild($e,_e):$.root=$e,$._nodes.push($e);var Oe=he.children;if(Oe)for(var xe=0;xe<Oe.length;xe++)ae(Oe[xe],$e)}$.root.updateDepthAndHeight(0);var le=prepareSeriesDataSchema(L,{coordDimensions:["value"],dimensionsCount:re}).dimensions,ue=new SeriesData(le,g);return ue.initData(L),y&&y(ue),linkSeriesData({mainData:ue,struct:$,structAttr:"tree"}),$.update(),$},r}();function addChild(r,n){var g=n.children;r.parentNode!==n&&(g.push(r),r.parentNode=n)}function retrieveTargetInfo(r,n,g){if(r&&indexOf(n,r.type)>=0){var y=g.getData().tree.root,$=r.targetNode;if(isString($)&&($=y.getNodeById($)),$&&y.contains($))return{node:$};var L=r.targetNodeId;if(L!=null&&($=y.getNodeById(L)))return{node:$}}}function getPathToRoot(r){for(var n=[];r;)r=r.parentNode,r&&n.push(r);return n.reverse()}function aboveViewRoot(r,n){var g=getPathToRoot(r);return indexOf(g,n)>=0}function wrapTreePathInfo(r,n){for(var g=[];r;){var y=r.dataIndex;g.push({name:r.name,dataIndex:y,value:n.getRawValue(y)}),r=r.parentNode}return g.reverse(),g}var TreeSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.hasSymbolVisual=!0,g.ignoreStyleOnData=!0,g}return n.prototype.getInitialData=function(g){var y={name:g.name,children:g.data},$=g.leaves||{},L=new Model($,this,this.ecModel),re=Tree$3.createTree(y,this,ae);function ae(_e){_e.wrapMethod("getItemModel",function(Ce,$e){var Oe=re.getNodeByDataIndex($e);return Oe&&Oe.children.length&&Oe.isExpand||(Ce.parentModel=L),Ce})}var le=0;re.eachNode("preorder",function(_e){_e.depth>le&&(le=_e.depth)});var ue=g.expandAndCollapse,he=ue&&g.initialTreeDepth>=0?g.initialTreeDepth:le;return re.root.eachNode("preorder",function(_e){var Ce=_e.hostTree.data.getRawDataItem(_e.dataIndex);_e.isExpand=Ce&&Ce.collapsed!=null?!Ce.collapsed:_e.depth<=he}),re.data},n.prototype.getOrient=function(){var g=this.get("orient");return g==="horizontal"?g="LR":g==="vertical"&&(g="TB"),g},n.prototype.setZoom=function(g){this.option.zoom=g},n.prototype.setCenter=function(g){this.option.center=g},n.prototype.formatTooltip=function(g,y,$){for(var L=this.getData().tree,re=L.root.children[0],ae=L.getNodeByDataIndex(g),le=ae.getValue(),ue=ae.name;ae&&ae!==re;)ue=ae.parentNode.name+"."+ue,ae=ae.parentNode;return createTooltipMarkup("nameValue",{name:ue,value:le,noValue:isNaN(le)||le==null})},n.prototype.getDataParams=function(g){var y=r.prototype.getDataParams.apply(this,arguments),$=this.getData().tree.getNodeByDataIndex(g);return y.treeAncestors=wrapTreePathInfo($,this),y.collapsed=!$.isExpand,y},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel);function eachAfter(r,n,g){for(var y=[r],$=[],L;L=y.pop();)if($.push(L),L.isExpand){var re=L.children;if(re.length)for(var ae=0;ae<re.length;ae++)y.push(re[ae])}for(;L=$.pop();)n(L,g)}function eachBefore(r,n){for(var g=[r],y;y=g.pop();)if(n(y),y.isExpand){var $=y.children;if($.length)for(var L=$.length-1;L>=0;L--)g.push($[L])}}function treeLayout(r,n){r.eachSeriesByType("tree",function(g){commonLayout(g,n)})}function commonLayout(r,n){var g=getViewRect$4(r,n);r.layoutInfo=g;var y=r.get("layout"),$=0,L=0,re=null;y==="radial"?($=2*Math.PI,L=Math.min(g.height,g.width)/2,re=separation(function(Ve,ze){return(Ve.parentNode===ze.parentNode?1:2)/Ve.depth})):($=g.width,L=g.height,re=separation());var ae=r.getData().tree.root,le=ae.children[0];if(le){init(ae),eachAfter(le,firstWalk,re),ae.hierNode.modifier=-le.hierNode.prelim,eachBefore(le,secondWalk);var ue=le,he=le,_e=le;eachBefore(le,function(Ve){var ze=Ve.getLayout().x;ze<ue.getLayout().x&&(ue=Ve),ze>he.getLayout().x&&(he=Ve),Ve.depth>_e.depth&&(_e=Ve)});var Ce=ue===he?1:re(ue,he)/2,$e=Ce-ue.getLayout().x,Oe=0,xe=0,Ne=0,Ie=0;if(y==="radial")Oe=$/(he.getLayout().x+Ce+$e),xe=L/(_e.depth-1||1),eachBefore(le,function(Ve){Ne=(Ve.getLayout().x+$e)*Oe,Ie=(Ve.depth-1)*xe;var ze=radialCoordinate(Ne,Ie);Ve.setLayout({x:ze.x,y:ze.y,rawX:Ne,rawY:Ie},!0)});else{var Fe=r.getOrient();Fe==="RL"||Fe==="LR"?(xe=L/(he.getLayout().x+Ce+$e),Oe=$/(_e.depth-1||1),eachBefore(le,function(Ve){Ie=(Ve.getLayout().x+$e)*xe,Ne=Fe==="LR"?(Ve.depth-1)*Oe:$-(Ve.depth-1)*Oe,Ve.setLayout({x:Ne,y:Ie},!0)})):(Fe==="TB"||Fe==="BT")&&(Oe=$/(he.getLayout().x+Ce+$e),xe=L/(_e.depth-1||1),eachBefore(le,function(Ve){Ne=(Ve.getLayout().x+$e)*Oe,Ie=Fe==="TB"?(Ve.depth-1)*xe:L-(Ve.depth-1)*xe,Ve.setLayout({x:Ne,y:Ie},!0)}))}}}function treeVisual(r){r.eachSeriesByType("tree",function(n){var g=n.getData(),y=g.tree;y.eachNode(function($){var L=$.getModel(),re=L.getModel("itemStyle").getItemStyle(),ae=g.ensureUniqueItemVisual($.dataIndex,"style");extend(ae,re)})})}function installTreeAction(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,g){g.eachComponent({mainType:"series",subType:"tree",query:n},function(y){var $=n.dataIndex,L=y.getData().tree,re=L.getNodeByDataIndex($);re.isExpand=!re.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,g,y){g.eachComponent({mainType:"series",subType:"tree",query:n},function($){var L=$.coordinateSystem,re=updateCenterAndZoom(L,n,void 0,y);$.setCenter&&$.setCenter(re.center),$.setZoom&&$.setZoom(re.zoom)})})}function install$I(r){r.registerChartView(TreeView),r.registerSeriesModel(TreeSeriesModel),r.registerLayout(treeLayout),r.registerVisual(treeVisual),installTreeAction(r)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(r){for(var n=0;n<actionTypes.length;n++)r.registerAction({type:actionTypes[n],update:"updateView"},noop);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(g,y){y.eachComponent({mainType:"series",subType:"treemap",query:g},$);function $(L,re){var ae=["treemapZoomToNode","treemapRootToNode"],le=retrieveTargetInfo(g,ae,L);if(le){var ue=L.getViewRoot();ue&&(g.direction=aboveViewRoot(ue,le.node)?"rollUp":"drillDown"),L.resetViewRoot(le.node)}}})}function enableAriaDecalForTree(r){var n=r.getData(),g=n.tree,y={};g.eachNode(function($){for(var L=$;L&&L.depth>1;)L=L.parentNode;var re=getDecalFromPalette(r.ecModel,L.name||L.dataIndex+"",y);$.setVisual("decal",re)})}var TreemapSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.preventUsingHoverLayer=!0,g}return n.prototype.getInitialData=function(g,y){var $={name:g.name,children:g.data};completeTreeValue$1($);var L=g.levels||[],re=this.designatedVisualItemStyle={},ae=new Model({itemStyle:re},this,y);L=g.levels=setDefault(L,y);var le=map$1(L||[],function(_e){return new Model(_e,ae,y)},this),ue=Tree$3.createTree($,this,he);function he(_e){_e.wrapMethod("getItemModel",function(Ce,$e){var Oe=ue.getNodeByDataIndex($e),xe=Oe?le[Oe.depth]:null;return Ce.parentModel=xe||ae,Ce})}return ue.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(g,y,$){var L=this.getData(),re=this.getRawValue(g),ae=L.getName(g);return createTooltipMarkup("nameValue",{name:ae,value:re})},n.prototype.getDataParams=function(g){var y=r.prototype.getDataParams.apply(this,arguments),$=this.getData().tree.getNodeByDataIndex(g);return y.treeAncestors=wrapTreePathInfo($,this),y.treePathInfo=y.treeAncestors,y},n.prototype.setLayoutInfo=function(g){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,g)},n.prototype.mapIdToIndex=function(g){var y=this._idIndexMap;y||(y=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var $=y.get(g);return $==null&&y.set(g,$=this._idIndexMapCount++),$},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(g){g?this._viewRoot=g:g=this._viewRoot;var y=this.getRawData().tree.root;(!g||g!==y&&!y.contains(g))&&(this._viewRoot=y)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel);function completeTreeValue$1(r){var n=0;each$f(r.children,function(y){completeTreeValue$1(y);var $=y.value;isArray$2($)&&($=$[0]),n+=$});var g=r.value;isArray$2(g)&&(g=g[0]),(g==null||isNaN(g))&&(g=n),g<0&&(g=0),isArray$2(r.value)?r.value[0]=g:r.value=g}function setDefault(r,n){var g=normalizeToArray$1(n.get("color")),y=normalizeToArray$1(n.get(["aria","decal","decals"]));if(g){r=r||[];var $,L;each$f(r,function(ae){var le=new Model(ae),ue=le.get("color"),he=le.get("decal");(le.get(["itemStyle","color"])||ue&&ue!=="none")&&($=!0),(le.get(["itemStyle","decal"])||he&&he!=="none")&&(L=!0)});var re=r[0]||(r[0]={});return $||(re.color=g.slice()),!L&&y&&(re.decal=y.slice()),r}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function r(n){this.group=new Group$3,n.add(this.group)}return r.prototype.render=function(n,g,y,$){var L=n.getModel("breadcrumb"),re=this.group;if(re.removeAll(),!(!L.get("show")||!y)){var ae=L.getModel("itemStyle"),le=L.getModel("emphasis"),ue=ae.getModel("textStyle"),he=le.getModel(["itemStyle","textStyle"]),_e={pos:{left:L.get("left"),right:L.get("right"),top:L.get("top"),bottom:L.get("bottom")},box:{width:g.getWidth(),height:g.getHeight()},emptyItemWidth:L.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(y,_e,ue),this._renderContent(n,_e,ae,le,ue,he,$),positionElement(re,_e.pos,_e.box)}},r.prototype._prepare=function(n,g,y){for(var $=n;$;$=$.parentNode){var L=convertOptionIdName($.getModel().get("name"),""),re=y.getTextRect(L),ae=Math.max(re.width+TEXT_PADDING*2,g.emptyItemWidth);g.totalWidth+=ae+ITEM_GAP,g.renderList.push({node:$,text:L,width:ae})}},r.prototype._renderContent=function(n,g,y,$,L,re,ae){for(var le=0,ue=g.emptyItemWidth,he=n.get(["breadcrumb","height"]),_e=getAvailableSize(g.pos,g.box),Ce=g.totalWidth,$e=g.renderList,Oe=$.getModel("itemStyle").getItemStyle(),xe=$e.length-1;xe>=0;xe--){var Ne=$e[xe],Ie=Ne.node,Fe=Ne.width,Ve=Ne.text;Ce>_e.width&&(Ce-=Fe-ue,Fe=ue,Ve=null);var ze=new Polygon({shape:{points:makeItemPoints(le,0,Fe,he,xe===$e.length-1,xe===0)},style:defaults$2(y.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText({style:createTextStyle$1(L,{text:Ve})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(ae,Ie)});ze.disableLabelAnimation=!0,ze.getTextContent().ensureState("emphasis").style=createTextStyle$1(re,{text:Ve}),ze.ensureState("emphasis").style=Oe,toggleHoverEmphasis(ze,$.get("focus"),$.get("blurScope"),$.get("disabled")),this.group.add(ze),packEventData(ze,n,Ie),le+=Fe+ITEM_GAP}},r.prototype.remove=function(){this.group.removeAll()},r}();function makeItemPoints(r,n,g,y,$,L){var re=[[$?r:r-ARRAY_LENGTH,n],[r+g,n],[r+g,n+y],[$?r:r-ARRAY_LENGTH,n+y]];return!L&&re.splice(2,0,[r+g+ARRAY_LENGTH,n+y/2]),!$&&re.push([r,n+y/2]),re}function packEventData(r,n,g){getECData(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:g&&g.dataIndex,name:g&&g.name},treePathInfo:g&&wrapTreePathInfo(g,n)}}var AnimationWrap=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(n,g,y,$,L){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:g,duration:y,delay:$,easing:L}),!0)},r.prototype.finished=function(n){return this._finishedCallback=n,this},r.prototype.start=function(){for(var n=this,g=this._storage.length,y=function(){g--,g<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},$=0,L=this._storage.length;$<L;$++){var re=this._storage[$];re.el.animateTo(re.target,{duration:re.duration,delay:re.delay,easing:re.easing,setToFinal:!0,done:y,aborted:y})}return this},r}();function createWrap(){return new AnimationWrap}var Group$2=Group$3,Rect$1=Rect$2,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(r){var n=getStateItemStyle(r);return n.stroke=n.fill=n.lineWidth=null,n},inner$d=makeInner(),TreemapView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._state="ready",g._storage=createStorage(),g}return n.prototype.render=function(g,y,$,L){var re=y.findComponents({mainType:"series",subType:"treemap",query:L});if(!(indexOf(re,g)<0)){this.seriesModel=g,this.api=$,this.ecModel=y;var ae=["treemapZoomToNode","treemapRootToNode"],le=retrieveTargetInfo(L,ae,g),ue=L&&L.type,he=g.layoutInfo,_e=!this._oldTree,Ce=this._storage,$e=ue==="treemapRootToNode"&&le&&Ce?{rootNodeGroup:Ce.nodeGroup[le.node.getRawIndex()],direction:L.direction}:null,Oe=this._giveContainerGroup(he),xe=g.get("animation"),Ne=this._doRender(Oe,g,$e);xe&&!_e&&(!ue||ue==="treemapZoomToNode"||ue==="treemapRootToNode")?this._doAnimation(Oe,Ne,g,$e):Ne.renderFinally(),this._resetController($),this._renderBreadcrumb(g,$,le)}},n.prototype._giveContainerGroup=function(g){var y=this._containerGroup;return y||(y=this._containerGroup=new Group$2,this._initEvents(y),this.group.add(y)),y.x=g.x,y.y=g.y,y},n.prototype._doRender=function(g,y,$){var L=y.getData().tree,re=this._oldTree,ae=createStorage(),le=createStorage(),ue=this._storage,he=[];function _e(Fe,Ve,ze,Ue){return renderNode(y,le,ue,$,ae,he,Fe,Ve,ze,Ue)}xe(L.root?[L.root]:[],re&&re.root?[re.root]:[],g,L===re||!re,0);var Ce=Ne(ue);if(this._oldTree=L,this._storage=le,this._controllerHost){var $e=this.seriesModel.layoutInfo,Oe=L.root.getLayout();Oe.width===$e.width&&Oe.height===$e.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:ae,willDeleteEls:Ce,renderFinally:Ie};function xe(Fe,Ve,ze,Ue,qe){Ue?(Ve=Fe,each$f(Fe,function(Pt,At){!Pt.isRemoved()&&Et(At,At)})):new DataDiffer(Ve,Fe,kt,kt).add(Et).update(Et).remove(curry$1(Et,null)).execute();function kt(Pt){return Pt.getId()}function Et(Pt,At){var Dt=Pt!=null?Fe[Pt]:null,Lt=At!=null?Ve[At]:null,hn=_e(Dt,Lt,ze,qe);hn&&xe(Dt&&Dt.viewChildren||[],Lt&&Lt.viewChildren||[],hn,Ue,qe+1)}}function Ne(Fe){var Ve=createStorage();return Fe&&each$f(Fe,function(ze,Ue){var qe=Ve[Ue];each$f(ze,function(kt){kt&&(qe.push(kt),inner$d(kt).willDelete=!0)})}),Ve}function Ie(){each$f(Ce,function(Fe){each$f(Fe,function(Ve){Ve.parent&&Ve.parent.remove(Ve)})}),each$f(he,function(Fe){Fe.invisible=!0,Fe.dirty()})}},n.prototype._doAnimation=function(g,y,$,L){var re=$.get("animationDurationUpdate"),ae=$.get("animationEasing"),le=(isFunction(re)?0:re)||0,ue=(isFunction(ae)?null:ae)||"cubicOut",he=createWrap();each$f(y.willDeleteEls,function(_e,Ce){each$f(_e,function($e,Oe){if(!$e.invisible){var xe=$e.parent,Ne,Ie=inner$d(xe);if(L&&L.direction==="drillDown")Ne=xe===L.rootNodeGroup?{shape:{x:0,y:0,width:Ie.nodeWidth,height:Ie.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var Fe=0,Ve=0;Ie.willDelete||(Fe=Ie.nodeWidth/2,Ve=Ie.nodeHeight/2),Ne=Ce==="nodeGroup"?{x:Fe,y:Ve,style:{opacity:0}}:{shape:{x:Fe,y:Ve,width:0,height:0},style:{opacity:0}}}Ne&&he.add($e,Ne,le,0,ue)}})}),each$f(this._storage,function(_e,Ce){each$f(_e,function($e,Oe){var xe=y.lastsForAnimation[Ce][Oe],Ne={};xe&&($e instanceof Group$3?xe.oldX!=null&&(Ne.x=$e.x,Ne.y=$e.y,$e.x=xe.oldX,$e.y=xe.oldY):(xe.oldShape&&(Ne.shape=extend({},$e.shape),$e.setShape(xe.oldShape)),xe.fadein?($e.setStyle("opacity",0),Ne.style={opacity:1}):$e.style.opacity!==1&&(Ne.style={opacity:1})),he.add($e,Ne,le,0,ue))})},this),this._state="animating",he.finished(bind$1(function(){this._state="ready",y.renderFinally()},this)).start()},n.prototype._resetController=function(g){var y=this._controller,$=this._controllerHost;$||(this._controllerHost={target:this.group},$=this._controllerHost),y||(y=this._controller=new RoamController(g.getZr()),y.enable(this.seriesModel.get("roam")),$.zoomLimit=this.seriesModel.get("scaleLimit"),$.zoom=this.seriesModel.get("zoom"),y.on("pan",bind$1(this._onPan,this)),y.on("zoom",bind$1(this._onZoom,this)));var L=new BoundingRect(0,0,g.getWidth(),g.getHeight());y.setPointerChecker(function(re,ae,le){return L.contain(ae,le)})},n.prototype._clearController=function(){var g=this._controller;this._controllerHost=null,g&&(g.dispose(),g=null)},n.prototype._onPan=function(g){if(this._state!=="animating"&&(Math.abs(g.dx)>DRAG_THRESHOLD||Math.abs(g.dy)>DRAG_THRESHOLD)){var y=this.seriesModel.getData().tree.root;if(!y)return;var $=y.getLayout();if(!$)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:$.x+g.dx,y:$.y+g.dy,width:$.width,height:$.height}})}},n.prototype._onZoom=function(g){var y=g.originX,$=g.originY,L=g.scale;if(this._state!=="animating"){var re=this.seriesModel.getData().tree.root;if(!re)return;var ae=re.getLayout();if(!ae)return;var le=new BoundingRect(ae.x,ae.y,ae.width,ae.height),ue=null,he=this._controllerHost;ue=he.zoomLimit;var _e=he.zoom=he.zoom||1;if(_e*=L,ue){var Ce=ue.min||0,$e=ue.max||1/0;_e=Math.max(Math.min($e,_e),Ce)}var Oe=_e/he.zoom;he.zoom=_e;var xe=this.seriesModel.layoutInfo;y-=xe.x,$-=xe.y;var Ne=create$1();translate(Ne,Ne,[-y,-$]),scale$1(Ne,Ne,[Oe,Oe]),translate(Ne,Ne,[y,$]),le.applyTransform(Ne),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:le.x,y:le.y,width:le.width,height:le.height}})}},n.prototype._initEvents=function(g){var y=this;g.on("click",function($){if(y._state==="ready"){var L=y.seriesModel.get("nodeClick",!0);if(L){var re=y.findTarget($.offsetX,$.offsetY);if(re){var ae=re.node;if(ae.getLayout().isLeafRoot)y._rootToNode(re);else if(L==="zoomToNode")y._zoomToNode(re);else if(L==="link"){var le=ae.hostTree.data.getItemModel(ae.dataIndex),ue=le.get("link",!0),he=le.get("target",!0)||"blank";ue&&windowOpen(ue,he)}}}}},this)},n.prototype._renderBreadcrumb=function(g,y,$){var L=this;$||($=g.get("leafDepth",!0)!=null?{node:g.getViewRoot()}:this.findTarget(y.getWidth()/2,y.getHeight()/2),$||($={node:g.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(g,y,$.node,function(re){L._state!=="animating"&&(aboveViewRoot(g.getViewRoot(),re)?L._rootToNode({node:re}):L._zoomToNode({node:re}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(g){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:g.node})},n.prototype._rootToNode=function(g){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:g.node})},n.prototype.findTarget=function(g,y){var $,L=this.seriesModel.getViewRoot();return L.eachNode({attr:"viewChildren",order:"preorder"},function(re){var ae=this._storage.background[re.getRawIndex()];if(ae){var le=ae.transformCoordToLocal(g,y),ue=ae.shape;if(ue.x<=le[0]&&le[0]<=ue.x+ue.width&&ue.y<=le[1]&&le[1]<=ue.y+ue.height)$={node:re,offsetX:le[0],offsetY:le[1]};else return!1}},this),$},n.type="treemap",n}(ChartView);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(r,n,g,y,$,L,re,ae,le,ue){if(!re)return;var he=re.getLayout(),_e=r.getData(),Ce=re.getModel();if(_e.setItemGraphicEl(re.dataIndex,null),!he||!he.isInView)return;var $e=he.width,Oe=he.height,xe=he.borderWidth,Ne=he.invisible,Ie=re.getRawIndex(),Fe=ae&&ae.getRawIndex(),Ve=re.viewChildren,ze=he.upperHeight,Ue=Ve&&Ve.length,qe=Ce.getModel("itemStyle"),kt=Ce.getModel(["emphasis","itemStyle"]),Et=Ce.getModel(["blur","itemStyle"]),Pt=Ce.getModel(["select","itemStyle"]),At=qe.get("borderRadius")||0,Dt=An("nodeGroup",Group$2);if(!Dt)return;if(le.add(Dt),Dt.x=he.x||0,Dt.y=he.y||0,Dt.markRedraw(),inner$d(Dt).nodeWidth=$e,inner$d(Dt).nodeHeight=Oe,he.isAboveViewRoot)return Dt;var Lt=An("background",Rect$1,ue,Z2_BG);Lt&&wn(Dt,Lt,Ue&&he.upperLabelHeight);var hn=Ce.getModel("emphasis"),_n=hn.get("focus"),vn=hn.get("blurScope"),jt=hn.get("disabled"),$n=_n==="ancestor"?re.getAncestorsIndices():_n==="descendant"?re.getDescendantIndices():_n;if(Ue)isHighDownDispatcher(Dt)&&setAsHighDownDispatcher(Dt,!1),Lt&&(setAsHighDownDispatcher(Lt,!jt),_e.setItemGraphicEl(re.dataIndex,Lt),enableHoverFocus(Lt,$n,vn));else{var Sn=An("content",Rect$1,ue,Z2_CONTENT);Sn&&On(Dt,Sn),Lt.disableMorphing=!0,Lt&&isHighDownDispatcher(Lt)&&setAsHighDownDispatcher(Lt,!1),setAsHighDownDispatcher(Dt,!jt),_e.setItemGraphicEl(re.dataIndex,Dt);var bn=Ce.getShallow("cursor");bn&&Sn.attr("cursor",bn),enableHoverFocus(Dt,$n,vn)}return Dt;function wn(Dn,In,Fn){var Bn=getECData(In);if(Bn.dataIndex=re.dataIndex,Bn.seriesIndex=r.seriesIndex,In.setShape({x:0,y:0,width:$e,height:Oe,r:At}),Ne)Tn(In);else{In.invisible=!1;var Mn=re.getVisual("style"),Hn=Mn.stroke,Yn=getItemStyleNormal(qe);Yn.fill=Hn;var qn=getStateItemStyle(kt);qn.fill=kt.get("borderColor");var Xn=getStateItemStyle(Et);Xn.fill=Et.get("borderColor");var jn=getStateItemStyle(Pt);if(jn.fill=Pt.get("borderColor"),Fn){var Zn=$e-2*xe;xn(In,Hn,Mn.opacity,{x:xe,y:0,width:Zn,height:ze})}else In.removeTextContent();In.setStyle(Yn),In.ensureState("emphasis").style=qn,In.ensureState("blur").style=Xn,In.ensureState("select").style=jn,setDefaultStateProxy(In)}Dn.add(In)}function On(Dn,In){var Fn=getECData(In);Fn.dataIndex=re.dataIndex,Fn.seriesIndex=r.seriesIndex;var Bn=Math.max($e-2*xe,0),Mn=Math.max(Oe-2*xe,0);if(In.culling=!0,In.setShape({x:xe,y:xe,width:Bn,height:Mn,r:At}),Ne)Tn(In);else{In.invisible=!1;var Hn=re.getVisual("style"),Yn=Hn.fill,qn=getItemStyleNormal(qe);qn.fill=Yn,qn.decal=Hn.decal;var Xn=getStateItemStyle(kt),jn=getStateItemStyle(Et),Zn=getStateItemStyle(Pt);xn(In,Yn,Hn.opacity,null),In.setStyle(qn),In.ensureState("emphasis").style=Xn,In.ensureState("blur").style=jn,In.ensureState("select").style=Zn,setDefaultStateProxy(In)}Dn.add(In)}function Tn(Dn){!Dn.invisible&&L.push(Dn)}function xn(Dn,In,Fn,Bn){var Mn=Ce.getModel(Bn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Hn=convertOptionIdName(Ce.get("name"),null),Yn=Mn.getShallow("show");setLabelStyle(Dn,getLabelStatesModels(Ce,Bn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Yn?Hn:null,inheritColor:In,defaultOpacity:Fn,labelFetcher:r,labelDataIndex:re.dataIndex});var qn=Dn.getTextContent();if(qn){var Xn=qn.style,jn=normalizeCssArray$1(Xn.padding||0);Bn&&(Dn.setTextConfig({layoutRect:Bn}),qn.disableLabelLayout=!0),qn.beforeUpdate=function(){var Un=Math.max((Bn?Bn.width:Dn.shape.width)-jn[1]-jn[3],0),Jn=Math.max((Bn?Bn.height:Dn.shape.height)-jn[0]-jn[2],0);(Xn.width!==Un||Xn.height!==Jn)&&qn.setStyle({width:Un,height:Jn})},Xn.truncateMinChar=2,Xn.lineOverflow="truncate",Pn(Xn,Bn,he);var Zn=qn.getState("emphasis");Pn(Zn?Zn.style:null,Bn,he)}}function Pn(Dn,In,Fn){var Bn=Dn?Dn.text:null;if(!In&&Fn.isLeafRoot&&Bn!=null){var Mn=r.get("drillDownIcon",!0);Dn.text=Mn?Mn+" "+Bn:Bn}}function An(Dn,In,Fn,Bn){var Mn=Fe!=null&&g[Dn][Fe],Hn=$[Dn];return Mn?(g[Dn][Fe]=null,Rn(Hn,Mn)):Ne||(Mn=new In,Mn instanceof Displayable&&(Mn.z2=calculateZ2(Fn,Bn)),Nn(Hn,Mn)),n[Dn][Ie]=Mn}function Rn(Dn,In){var Fn=Dn[Ie]={};In instanceof Group$2?(Fn.oldX=In.x,Fn.oldY=In.y):Fn.oldShape=extend({},In.shape)}function Nn(Dn,In){var Fn=Dn[Ie]={},Bn=re.parentNode,Mn=In instanceof Group$3;if(Bn&&(!y||y.direction==="drillDown")){var Hn=0,Yn=0,qn=$.background[Bn.getRawIndex()];!y&&qn&&qn.oldShape&&(Hn=qn.oldShape.width,Yn=qn.oldShape.height),Mn?(Fn.oldX=0,Fn.oldY=Yn):Fn.oldShape={x:Hn,y:Yn,width:0,height:0}}Fn.fadein=!Mn}}function calculateZ2(r,n){return r*Z2_BASE+n}var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function r(n){var g=n.mappingMethod,y=n.type,$=this.option=clone$4(n);this.type=y,this.mappingMethod=g,this._normalizeData=normalizers[g];var L=r.visualHandlers[y];this.applyVisual=L.applyVisual,this.getColorMapper=L.getColorMapper,this._normalizedToVisual=L._normalizedToVisual[g],g==="piecewise"?(normalizeVisualRange($),preprocessForPiecewise($)):g==="category"?$.categories?preprocessForSpecifiedCategory($):normalizeVisualRange($,!0):(assert(g!=="linear"||$.dataExtent),normalizeVisualRange($))}return r.prototype.mapValueToVisual=function(n){var g=this._normalizeData(n);return this._normalizedToVisual(g,n)},r.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},r.listVisualTypes=function(){return keys$1(r.visualHandlers)},r.isValidType=function(n){return r.visualHandlers.hasOwnProperty(n)},r.eachVisual=function(n,g,y){isObject$3(n)?each$f(n,g,y):g.call(y,n)},r.mapVisual=function(n,g,y){var $,L=isArray$2(n)?[]:isObject$3(n)?{}:($=!0,null);return r.eachVisual(n,function(re,ae){var le=g.call(y,re,ae);$?L=le:L[ae]=le}),L},r.retrieveVisuals=function(n){var g={},y;return n&&each$c(r.visualHandlers,function($,L){n.hasOwnProperty(L)&&(g[L]=n[L],y=!0)}),y?g:null},r.prepareVisualTypes=function(n){if(isArray$2(n))n=n.slice();else if(isObject(n)){var g=[];each$c(n,function(y,$){g.push($)}),n=g}else return[];return n.sort(function(y,$){return $==="color"&&y!=="color"&&y.indexOf("color")===0?1:-1}),n},r.dependsOn=function(n,g){return g==="color"?!!(n&&n.indexOf(g)===0):n===g},r.findPieceIndex=function(n,g,y){for(var $,L=1/0,re=0,ae=g.length;re<ae;re++){var le=g[re].value;if(le!=null){if(le===n||isString(le)&&le===n+"")return re;y&&Ce(le,re)}}for(var re=0,ae=g.length;re<ae;re++){var ue=g[re],he=ue.interval,_e=ue.close;if(he){if(he[0]===-1/0){if(littleThan(_e[1],n,he[1]))return re}else if(he[1]===1/0){if(littleThan(_e[0],he[0],n))return re}else if(littleThan(_e[0],he[0],n)&&littleThan(_e[1],n,he[1]))return re;y&&Ce(he[0],re),y&&Ce(he[1],re)}}if(y)return n===1/0?g.length-1:n===-1/0?0:$;function Ce($e,Oe){var xe=Math.abs($e-n);xe<L&&(L=xe,$=Oe)}},r.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind$1(n.mappingMethod==="category"?function(g,y){return!y&&(g=this._normalizeData(g)),doMapCategory.call(this,g)}:function(g,y,$){var L=!!$;return!y&&(g=this._normalizeData(g)),$=fastLerp(g,n.parsedVisual,$),L?$:stringify($,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,g){var y=getSpecifiedVisual.call(this,g);return y==null&&(y=stringify(fastLerp(n,this.option.parsedVisual),"rgba")),y},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,g){return modifyHSL(n,g)}),colorSaturation:makePartialColorVisualHandler(function(n,g){return modifyHSL(n,null,g)}),colorLightness:makePartialColorVisualHandler(function(n,g){return modifyHSL(n,null,null,g)}),colorAlpha:makePartialColorVisualHandler(function(n,g){return modifyAlpha(n,g)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,g,y){var $=this.mapValueToVisual(n);y("symbol",$)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,g){var y=getSpecifiedVisual.call(this,g);return y==null&&(y=doMapToArray.call(this,n)),y},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},r}();function preprocessForPiecewise(r){var n=r.pieceList;r.hasSpecialVisual=!1,each$f(n,function(g,y){g.originIndex=y,g.visual!=null&&(r.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(r){var n=r.categories,g=r.categoryMap={},y=r.visual;if(each$c(n,function(re,ae){g[re]=ae}),!isArray$2(y)){var $=[];isObject$3(y)?each$c(y,function(re,ae){var le=g[ae];$[le??CATEGORY_DEFAULT_VISUAL_INDEX]=re}):$[CATEGORY_DEFAULT_VISUAL_INDEX]=y,y=setVisualToOption(r,$)}for(var L=n.length-1;L>=0;L--)y[L]==null&&(delete g[n[L]],n.pop())}function normalizeVisualRange(r,n){var g=r.visual,y=[];isObject$3(g)?each$c(g,function(L){y.push(L)}):g!=null&&y.push(g);var $={color:1,symbol:1};!n&&y.length===1&&!$.hasOwnProperty(r.type)&&(y[1]=y[0]),setVisualToOption(r,y)}function makePartialColorVisualHandler(r){return{applyVisual:function(n,g,y){var $=this.mapValueToVisual(n);y("color",r(g("color"),$))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(r){var n=this.option.visual;return n[Math.round(linearMap$2(r,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(r){return function(n,g,y){y(r,this.mapValueToVisual(n))}}function doMapCategory(r){var n=this.option.visual;return n[this.option.loop&&r!==CATEGORY_DEFAULT_VISUAL_INDEX?r%n.length:r]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(r){return{linear:function(n){return linearMap$2(n,r,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,g){var y=getSpecifiedVisual.call(this,g);return y==null&&(y=linearMap$2(n,r,this.option.visual,!0)),y},fixed:doMapFixed}}function getSpecifiedVisual(r){var n=this.option,g=n.pieceList;if(n.hasSpecialVisual){var y=VisualMapping.findPieceIndex(r,g),$=g[y];if($&&$.visual)return $.visual[this.type]}}function setVisualToOption(r,n){return r.visual=n,r.type==="color"&&(r.parsedVisual=map$1(n,function(g){var y=parse(g);return y||[0,0,0,1]})),n}var normalizers={linear:function(r){return linearMap$2(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var n=this.option.pieceList,g=VisualMapping.findPieceIndex(r,n,!0);if(g!=null)return linearMap$2(g,[0,n.length-1],[0,1],!0)},category:function(r){var n=this.option.categories?this.option.categoryMap[r]:r;return n??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(r,n,g){return r?n<=g:n<g}var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(r){var n=r.getData().tree,g=n.root;g.isRemoved()||travelTree(g,{},r.getViewRoot().getAncestors(),r)}};function travelTree(r,n,g,y){var $=r.getModel(),L=r.getLayout(),re=r.hostTree.data;if(!(!L||L.invisible||!L.isInView)){var ae=$.getModel(ITEM_STYLE_NORMAL),le=buildVisuals(ae,n,y),ue=re.ensureUniqueItemVisual(r.dataIndex,"style"),he=ae.get("borderColor"),_e=ae.get("borderColorSaturation"),Ce;_e!=null&&(Ce=calculateColor(le),he=calculateBorderColor(_e,Ce)),ue.stroke=he;var $e=r.viewChildren;if(!$e||!$e.length)Ce=calculateColor(le),ue.fill=Ce;else{var Oe=buildVisualMapping(r,$,L,ae,le,$e);each$f($e,function(xe,Ne){if(xe.depth>=g.length||xe===g[xe.depth]){var Ie=mapVisual$1($,le,xe,Ne,Oe,y);travelTree(xe,Ie,g,y)}})}}}function buildVisuals(r,n,g){var y=extend({},n),$=g.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(L){$[L]=n[L];var re=r.get(L);$[L]=null,re!=null&&(y[L]=re)}),y}function calculateColor(r){var n=getValueVisualDefine(r,"color");if(n){var g=getValueVisualDefine(r,"colorAlpha"),y=getValueVisualDefine(r,"colorSaturation");return y&&(n=modifyHSL(n,null,null,y)),g&&(n=modifyAlpha(n,g)),n}}function calculateBorderColor(r,n){return n!=null?modifyHSL(n,null,null,r):null}function getValueVisualDefine(r,n){var g=r[n];if(g!=null&&g!=="none")return g}function buildVisualMapping(r,n,g,y,$,L){if(!(!L||!L.length)){var re=getRangeVisual(n,"color")||$.color!=null&&$.color!=="none"&&(getRangeVisual(n,"colorAlpha")||getRangeVisual(n,"colorSaturation"));if(re){var ae=n.get("visualMin"),le=n.get("visualMax"),ue=g.dataExtent.slice();ae!=null&&ae<ue[0]&&(ue[0]=ae),le!=null&&le>ue[1]&&(ue[1]=le);var he=n.get("colorMappingBy"),_e={type:re.name,dataExtent:ue,visual:re.range};_e.type==="color"&&(he==="index"||he==="id")?(_e.mappingMethod="category",_e.loop=!0):_e.mappingMethod="linear";var Ce=new VisualMapping(_e);return inner$c(Ce).drColorMappingBy=he,Ce}}}function getRangeVisual(r,n){var g=r.get(n);return isArray$2(g)&&g.length?{name:n,range:g}:null}function mapVisual$1(r,n,g,y,$,L){var re=extend({},n);if($){var ae=$.type,le=ae==="color"&&inner$c($).drColorMappingBy,ue=le==="index"?y:le==="id"?L.mapIdToIndex(g.getId()):g.getValue(r.get("visualDimension"));re[ae]=$.mapValueToVisual(ue)}return re}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(r,n,g,y){var $=g.getWidth(),L=g.getHeight(),re=r.option,ae=getLayoutRect$1(r.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()}),le=re.size||[],ue=parsePercent(retrieveValue(ae.width,le[0]),$),he=parsePercent(retrieveValue(ae.height,le[1]),L),_e=y&&y.type,Ce=["treemapZoomToNode","treemapRootToNode"],$e=retrieveTargetInfo(y,Ce,r),Oe=_e==="treemapRender"||_e==="treemapMove"?y.rootRect:null,xe=r.getViewRoot(),Ne=getPathToRoot(xe);if(_e!=="treemapMove"){var Ie=_e==="treemapZoomToNode"?estimateRootSize(r,$e,xe,ue,he):Oe?[Oe.width,Oe.height]:[ue,he],Fe=re.sort;Fe&&Fe!=="asc"&&Fe!=="desc"&&(Fe="desc");var Ve={squareRatio:re.squareRatio,sort:Fe,leafDepth:re.leafDepth};xe.hostTree.clearLayouts();var ze={x:0,y:0,width:Ie[0],height:Ie[1],area:Ie[0]*Ie[1]};xe.setLayout(ze),squarify(xe,Ve,!1,0),ze=xe.getLayout(),each$b(Ne,function(qe,kt){var Et=(Ne[kt+1]||xe).getValue();qe.setLayout(extend({dataExtent:[Et,Et],borderWidth:0,upperHeight:0},ze))})}var Ue=r.getData().tree.root;Ue.setLayout(calculateRootPosition(ae,Oe,$e),!0),r.setLayoutInfo(ae),prunning(Ue,new BoundingRect(-ae.x,-ae.y,$,L),Ne,xe,0)}};function squarify(r,n,g,y){var $,L;if(!r.isRemoved()){var re=r.getLayout();$=re.width,L=re.height;var ae=r.getModel(),le=ae.get(PATH_BORDER_WIDTH),ue=ae.get(PATH_GAP_WIDTH)/2,he=getUpperLabelHeight(ae),_e=Math.max(le,he),Ce=le-ue,$e=_e-ue;r.setLayout({borderWidth:le,upperHeight:_e,upperLabelHeight:he},!0),$=mathMax$3($-2*Ce,0),L=mathMax$3(L-Ce-$e,0);var Oe=$*L,xe=initChildren$1(r,ae,Oe,n,g,y);if(xe.length){var Ne={x:Ce,y:$e,width:$,height:L},Ie=mathMin$3($,L),Fe=1/0,Ve=[];Ve.area=0;for(var ze=0,Ue=xe.length;ze<Ue;){var qe=xe[ze];Ve.push(qe),Ve.area+=qe.getLayout().area;var kt=worst(Ve,Ie,n.squareRatio);kt<=Fe?(ze++,Fe=kt):(Ve.area-=Ve.pop().getLayout().area,position(Ve,Ie,Ne,ue,!1),Ie=mathMin$3(Ne.width,Ne.height),Ve.length=Ve.area=0,Fe=1/0)}if(Ve.length&&position(Ve,Ie,Ne,ue,!0),!g){var Et=ae.get("childrenVisibleMin");Et!=null&&Oe<Et&&(g=!0)}for(var ze=0,Ue=xe.length;ze<Ue;ze++)squarify(xe[ze],n,g,y+1)}}}function initChildren$1(r,n,g,y,$,L){var re=r.children||[],ae=y.sort;ae!=="asc"&&ae!=="desc"&&(ae=null);var le=y.leafDepth!=null&&y.leafDepth<=L;if($&&!le)return r.viewChildren=[];re=filter(re,function($e){return!$e.isRemoved()}),sort$1(re,ae);var ue=statistic(n,re,ae);if(ue.sum===0)return r.viewChildren=[];if(ue.sum=filterByThreshold(n,g,ue.sum,ae,re),ue.sum===0)return r.viewChildren=[];for(var he=0,_e=re.length;he<_e;he++){var Ce=re[he].getValue()/ue.sum*g;re[he].setLayout({area:Ce})}return le&&(re.length&&r.setLayout({isLeafRoot:!0},!0),re.length=0),r.viewChildren=re,r.setLayout({dataExtent:ue.dataExtent},!0),re}function filterByThreshold(r,n,g,y,$){if(!y)return g;for(var L=r.get("visibleMin"),re=$.length,ae=re,le=re-1;le>=0;le--){var ue=$[y==="asc"?re-le-1:le].getValue();ue/g*n<L&&(ae=le,g-=ue)}return y==="asc"?$.splice(0,re-ae):$.splice(ae,re-ae),g}function sort$1(r,n){return n&&r.sort(function(g,y){var $=n==="asc"?g.getValue()-y.getValue():y.getValue()-g.getValue();return $===0?n==="asc"?g.dataIndex-y.dataIndex:y.dataIndex-g.dataIndex:$}),r}function statistic(r,n,g){for(var y=0,$=0,L=n.length;$<L;$++)y+=n[$].getValue();var re=r.get("visualDimension"),ae;return!n||!n.length?ae=[NaN,NaN]:re==="value"&&g?(ae=[n[n.length-1].getValue(),n[0].getValue()],g==="asc"&&ae.reverse()):(ae=[1/0,-1/0],each$b(n,function(le){var ue=le.getValue(re);ue<ae[0]&&(ae[0]=ue),ue>ae[1]&&(ae[1]=ue)})),{sum:y,dataExtent:ae}}function worst(r,n,g){for(var y=0,$=1/0,L=0,re=void 0,ae=r.length;L<ae;L++)re=r[L].getLayout().area,re&&(re<$&&($=re),re>y&&(y=re));var le=r.area*r.area,ue=n*n*g;return le?mathMax$3(ue*y/le,le/(ue*$)):1/0}function position(r,n,g,y,$){var L=n===g.width?0:1,re=1-L,ae=["x","y"],le=["width","height"],ue=g[ae[L]],he=n?r.area/n:0;($||he>g[le[re]])&&(he=g[le[re]]);for(var _e=0,Ce=r.length;_e<Ce;_e++){var $e=r[_e],Oe={},xe=he?$e.getLayout().area/he:0,Ne=Oe[le[re]]=mathMax$3(he-2*y,0),Ie=g[ae[L]]+g[le[L]]-ue,Fe=_e===Ce-1||Ie<xe?Ie:xe,Ve=Oe[le[L]]=mathMax$3(Fe-2*y,0);Oe[ae[re]]=g[ae[re]]+mathMin$3(y,Ne/2),Oe[ae[L]]=ue+mathMin$3(y,Ve/2),ue+=Fe,$e.setLayout(Oe,!0)}g[ae[re]]+=he,g[le[re]]-=he}function estimateRootSize(r,n,g,y,$){var L=(n||{}).node,re=[y,$];if(!L||L===g)return re;for(var ae,le=y*$,ue=le*r.option.zoomToNodeRatio;ae=L.parentNode;){for(var he=0,_e=ae.children,Ce=0,$e=_e.length;Ce<$e;Ce++)he+=_e[Ce].getValue();var Oe=L.getValue();if(Oe===0)return re;ue*=he/Oe;var xe=ae.getModel(),Ne=xe.get(PATH_BORDER_WIDTH),Ie=Math.max(Ne,getUpperLabelHeight(xe));ue+=4*Ne*Ne+(3*Ne+Ie)*Math.pow(ue,.5),ue>MAX_SAFE_INTEGER&&(ue=MAX_SAFE_INTEGER),L=ae}ue<le&&(ue=le);var Fe=Math.pow(ue/le,.5);return[y*Fe,$*Fe]}function calculateRootPosition(r,n,g){if(n)return{x:n.x,y:n.y};var y={x:0,y:0};if(!g)return y;var $=g.node,L=$.getLayout();if(!L)return y;for(var re=[L.width/2,L.height/2],ae=$;ae;){var le=ae.getLayout();re[0]+=le.x,re[1]+=le.y,ae=ae.parentNode}return{x:r.width/2-re[0],y:r.height/2-re[1]}}function prunning(r,n,g,y,$){var L=r.getLayout(),re=g[$],ae=re&&re===r;if(!(re&&!ae||$===g.length&&r!==y)){r.setLayout({isInView:!0,invisible:!ae&&!n.intersect(L),isAboveViewRoot:ae},!0);var le=new BoundingRect(n.x-L.x,n.y-L.y,n.width,n.height);each$b(r.viewChildren||[],function(ue){prunning(ue,le,g,y,$+1)})}}function getUpperLabelHeight(r){return r.get(PATH_UPPER_LABEL_SHOW)?r.get(PATH_UPPER_LABEL_HEIGHT):0}function install$H(r){r.registerSeriesModel(TreemapSeriesModel),r.registerChartView(TreemapView),r.registerVisual(treemapVisual),r.registerLayout(treemapLayout),installTreemapAction(r)}function categoryFilter(r){var n=r.findComponents({mainType:"legend"});!n||!n.length||r.eachSeriesByType("graph",function(g){var y=g.getCategoriesData(),$=g.getGraph(),L=$.data,re=y.mapArray(y.getName);L.filterSelf(function(ae){var le=L.getItemModel(ae),ue=le.getShallow("category");if(ue!=null){isNumber$1(ue)&&(ue=re[ue]);for(var he=0;he<n.length;he++)if(!n[he].isSelected(ue))return!1}return!0})})}function categoryVisual(r){var n={};r.eachSeriesByType("graph",function(g){var y=g.getCategoriesData(),$=g.getData(),L={};y.each(function(re){var ae=y.getName(re);L["ec-"+ae]=re;var le=y.getItemModel(re),ue=le.getModel("itemStyle").getItemStyle();ue.fill||(ue.fill=g.getColorFromPalette(ae,n)),y.setItemVisual(re,"style",ue);for(var he=["symbol","symbolSize","symbolKeepAspect"],_e=0;_e<he.length;_e++){var Ce=le.getShallow(he[_e],!0);Ce!=null&&y.setItemVisual(re,he[_e],Ce)}}),y.count()&&$.each(function(re){var ae=$.getItemModel(re),le=ae.getShallow("category");if(le!=null){isString(le)&&(le=L["ec-"+le]);var ue=y.getItemVisual(le,"style"),he=$.ensureUniqueItemVisual(re,"style");extend(he,ue);for(var _e=["symbol","symbolSize","symbolKeepAspect"],Ce=0;Ce<_e.length;Ce++)$.setItemVisual(re,_e[Ce],y.getItemVisual(le,_e[Ce]))}})})}function normalize$1(r){return r instanceof Array||(r=[r,r]),r}function graphEdgeVisual(r){r.eachSeriesByType("graph",function(n){var g=n.getGraph(),y=n.getEdgeData(),$=normalize$1(n.get("edgeSymbol")),L=normalize$1(n.get("edgeSymbolSize"));y.setVisual("fromSymbol",$&&$[0]),y.setVisual("toSymbol",$&&$[1]),y.setVisual("fromSymbolSize",L&&L[0]),y.setVisual("toSymbolSize",L&&L[1]),y.setVisual("style",n.getModel("lineStyle").getLineStyle()),y.each(function(re){var ae=y.getItemModel(re),le=g.getEdgeByIndex(re),ue=normalize$1(ae.getShallow("symbol",!0)),he=normalize$1(ae.getShallow("symbolSize",!0)),_e=ae.getModel("lineStyle").getLineStyle(),Ce=y.ensureUniqueItemVisual(re,"style");switch(extend(Ce,_e),Ce.stroke){case"source":{var $e=le.node1.getVisual("style");Ce.stroke=$e&&$e.fill;break}case"target":{var $e=le.node2.getVisual("style");Ce.stroke=$e&&$e.fill;break}}ue[0]&&le.setVisual("fromSymbol",ue[0]),ue[1]&&le.setVisual("toSymbol",ue[1]),he[0]&&le.setVisual("fromSymbolSize",he[0]),he[1]&&le.setVisual("toSymbolSize",he[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(r){return r.get("autoCurveness")||null},createCurveness=function(r,n){var g=getAutoCurvenessParams(r),y=20,$=[];if(isNumber$1(g))y=g;else if(isArray$2(g)){r.__curvenessList=g;return}n>y&&(y=n);var L=y%2?y+2:y+3;$=[];for(var re=0;re<L;re++)$.push((re%2?re+1:re)/10*(re%2?-1:1));r.__curvenessList=$},getKeyOfEdges=function(r,n,g){var y=[r.id,r.dataIndex].join("."),$=[n.id,n.dataIndex].join(".");return[g.uid,y,$].join(KEY_DELIMITER)},getOppositeKey=function(r){var n=r.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(r,n){var g=getKeyOfEdges(r.node1,r.node2,n);return n.__edgeMap[g]},getTotalLengthBetweenNodes=function(r,n){var g=getEdgeMapLengthWithKey(getKeyOfEdges(r.node1,r.node2,n),n),y=getEdgeMapLengthWithKey(getKeyOfEdges(r.node2,r.node1,n),n);return g+y},getEdgeMapLengthWithKey=function(r,n){var g=n.__edgeMap;return g[r]?g[r].length:0};function initCurvenessList(r){getAutoCurvenessParams(r)&&(r.__curvenessList=[],r.__edgeMap={},createCurveness(r))}function createEdgeMapForCurveness(r,n,g,y){if(getAutoCurvenessParams(g)){var $=getKeyOfEdges(r,n,g),L=g.__edgeMap,re=L[getOppositeKey($)];L[$]&&!re?L[$].isForward=!0:re&&L[$]&&(re.isForward=!0,L[$].isForward=!1),L[$]=L[$]||[],L[$].push(y)}}function getCurvenessForEdge(r,n,g,y){var $=getAutoCurvenessParams(n),L=isArray$2($);if(!$)return null;var re=getEdgeFromMap(r,n);if(!re)return null;for(var ae=-1,le=0;le<re.length;le++)if(re[le]===g){ae=le;break}var ue=getTotalLengthBetweenNodes(r,n);createCurveness(n,ue),r.lineStyle=r.lineStyle||{};var he=getKeyOfEdges(r.node1,r.node2,n),_e=n.__curvenessList,Ce=L||ue%2?0:1;if(re.isForward)return _e[Ce+ae];var $e=getOppositeKey(he),Oe=getEdgeMapLengthWithKey($e,n),xe=_e[ae+Oe+Ce];return y?L?$&&$[0]===0?(Oe+Ce)%2?xe:-xe:((Oe%2?0:1)+Ce)%2?xe:-xe:(Oe+Ce)%2?xe:-xe:_e[ae+Oe+Ce]}function simpleLayout(r){var n=r.coordinateSystem;if(!(n&&n.type!=="view")){var g=r.getGraph();g.eachNode(function(y){var $=y.getModel();y.setLayout([+$.get("x"),+$.get("y")])}),simpleLayoutEdge(g,r)}}function simpleLayoutEdge(r,n){r.eachEdge(function(g,y){var $=retrieve3(g.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(g,n,y,!0),0),L=clone$3(g.node1.getLayout()),re=clone$3(g.node2.getLayout()),ae=[L,re];+$&&ae.push([(L[0]+re[0])/2-(L[1]-re[1])*$,(L[1]+re[1])/2-(re[0]-L[0])*$]),g.setLayout(ae)})}function graphSimpleLayout(r,n){r.eachSeriesByType("graph",function(g){var y=g.get("layout"),$=g.coordinateSystem;if($&&$.type!=="view"){var L=g.getData(),re=[];each$f($.dimensions,function(Ce){re=re.concat(L.mapDimensionsAll(Ce))});for(var ae=0;ae<L.count();ae++){for(var le=[],ue=!1,he=0;he<re.length;he++){var _e=L.get(re[he],ae);isNaN(_e)||(ue=!0),le.push(_e)}ue?L.setItemLayout(ae,$.dataToPoint(le)):L.setItemLayout(ae,[NaN,NaN])}simpleLayoutEdge(L.graph,g)}else(!y||y==="none")&&simpleLayout(g)})}function getNodeGlobalScale(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var g=r.option.nodeScaleRatio,y=n.scaleX,$=n.getZoom(),L=($-1)*g+1;return L/y}function getSymbolSize(r){var n=r.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(r,n,g,y){var $=r.coordinateSystem;if(!($&&$.type!=="view")){var L=$.getBoundingRect(),re=r.getData(),ae=re.graph,le=L.width/2+L.x,ue=L.height/2+L.y,he=Math.min(L.width,L.height)/2,_e=re.count();if(re.setLayout({cx:le,cy:ue}),!!_e){if(g){var Ce=$.pointToData(y),$e=Ce[0],Oe=Ce[1],xe=[$e-le,Oe-ue];normalize$3(xe,xe),scale$2(xe,xe,he),g.setLayout([le+xe[0],ue+xe[1]],!0);var Ne=r.get(["circular","rotateLabel"]);rotateNodeLabel(g,Ne,le,ue)}_layoutNodesBasedOn[n](r,ae,re,he,le,ue,_e),ae.eachEdge(function(Ie,Fe){var Ve=retrieve3(Ie.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(Ie,r,Fe),0),ze=clone$3(Ie.node1.getLayout()),Ue=clone$3(Ie.node2.getLayout()),qe,kt=(ze[0]+Ue[0])/2,Et=(ze[1]+Ue[1])/2;+Ve&&(Ve*=3,qe=[le*Ve+kt*(1-Ve),ue*Ve+Et*(1-Ve)]),Ie.setLayout([ze,Ue,qe])})}}}var _layoutNodesBasedOn={value:function(r,n,g,y,$,L,re){var ae=0,le=g.getSum("value"),ue=Math.PI*2/(le||re);n.eachNode(function(he){var _e=he.getValue("value"),Ce=ue*(le?_e:1)/2;ae+=Ce,he.setLayout([y*Math.cos(ae)+$,y*Math.sin(ae)+L]),ae+=Ce})},symbolSize:function(r,n,g,y,$,L,re){var ae=0;_symbolRadiansHalf.length=re;var le=getNodeGlobalScale(r);n.eachNode(function(_e){var Ce=getSymbolSize(_e);isNaN(Ce)&&(Ce=2),Ce<0&&(Ce=0),Ce*=le;var $e=Math.asin(Ce/2/y);isNaN($e)&&($e=PI$2/2),_symbolRadiansHalf[_e.dataIndex]=$e,ae+=$e*2});var ue=(2*PI$2-ae)/re/2,he=0;n.eachNode(function(_e){var Ce=ue+_symbolRadiansHalf[_e.dataIndex];he+=Ce,(!_e.getLayout()||!_e.getLayout().fixed)&&_e.setLayout([y*Math.cos(he)+$,y*Math.sin(he)+L]),he+=Ce})}};function rotateNodeLabel(r,n,g,y){var $=r.getGraphicEl();if($){var L=r.getModel(),re=L.get(["label","rotate"])||0,ae=$.getSymbolPath();if(n){var le=r.getLayout(),ue=Math.atan2(le[1]-y,le[0]-g);ue<0&&(ue=Math.PI*2+ue);var he=le[0]<g;he&&(ue=ue-Math.PI);var _e=he?"left":"right";ae.setTextConfig({rotation:-ue,position:_e,origin:"center"});var Ce=ae.ensureState("emphasis");extend(Ce.textConfig||(Ce.textConfig={}),{position:_e})}else ae.setTextConfig({rotation:re*=Math.PI/180})}}function graphCircularLayout(r){r.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout(n,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(r,n,g){for(var y=r,$=n,L=g.rect,re=L.width,ae=L.height,le=[L.x+re/2,L.y+ae/2],ue=g.gravity==null?.1:g.gravity,he=0;he<y.length;he++){var _e=y[he];_e.p||(_e.p=create$2(re*(Math.random()-.5)+le[0],ae*(Math.random()-.5)+le[1])),_e.pp=clone$3(_e.p),_e.edges=null}var Ce=g.friction==null?.6:g.friction,$e=Ce,Oe,xe;return{warmUp:function(){$e=Ce*.8},setFixed:function(Ne){y[Ne].fixed=!0},setUnfixed:function(Ne){y[Ne].fixed=!1},beforeStep:function(Ne){Oe=Ne},afterStep:function(Ne){xe=Ne},step:function(Ne){Oe&&Oe(y,$);for(var Ie=[],Fe=y.length,Ve=0;Ve<$.length;Ve++){var ze=$[Ve];if(!ze.ignoreForceLayout){var Ue=ze.n1,qe=ze.n2;sub(Ie,qe.p,Ue.p);var kt=len(Ie)-ze.d,Et=qe.w/(Ue.w+qe.w);isNaN(Et)&&(Et=0),normalize$3(Ie,Ie),!Ue.fixed&&scaleAndAdd(Ue.p,Ue.p,Ie,Et*kt*$e),!qe.fixed&&scaleAndAdd(qe.p,qe.p,Ie,-(1-Et)*kt*$e)}}for(var Ve=0;Ve<Fe;Ve++){var Pt=y[Ve];Pt.fixed||(sub(Ie,le,Pt.p),scaleAndAdd(Pt.p,Pt.p,Ie,ue*$e))}for(var Ve=0;Ve<Fe;Ve++)for(var Ue=y[Ve],At=Ve+1;At<Fe;At++){var qe=y[At];sub(Ie,qe.p,Ue.p);var kt=len(Ie);kt===0&&(set$1(Ie,Math.random()-.5,Math.random()-.5),kt=1);var Dt=(Ue.rep+qe.rep)/kt/kt;!Ue.fixed&&scaleAndAdd(Ue.pp,Ue.pp,Ie,Dt),!qe.fixed&&scaleAndAdd(qe.pp,qe.pp,Ie,-Dt)}for(var Lt=[],Ve=0;Ve<Fe;Ve++){var Pt=y[Ve];Pt.fixed||(sub(Lt,Pt.p,Pt.pp),scaleAndAdd(Pt.p,Pt.p,Lt,$e),copy$1(Pt.pp,Pt.p))}$e=$e*.992;var hn=$e<.01;xe&&xe(y,$,hn),Ne&&Ne(hn)}}}function graphForceLayout(r){r.eachSeriesByType("graph",function(n){var g=n.coordinateSystem;if(!(g&&g.type!=="view"))if(n.get("layout")==="force"){var y=n.preservedPoints||{},$=n.getGraph(),L=$.data,re=$.edgeData,ae=n.getModel("force"),le=ae.get("initLayout");n.preservedPoints?L.each(function(Ve){var ze=L.getId(Ve);L.setItemLayout(Ve,y[ze]||[NaN,NaN])}):!le||le==="none"?simpleLayout(n):le==="circular"&&circularLayout(n,"value");var ue=L.getDataExtent("value"),he=re.getDataExtent("value"),_e=ae.get("repulsion"),Ce=ae.get("edgeLength"),$e=isArray$2(_e)?_e:[_e,_e],Oe=isArray$2(Ce)?Ce:[Ce,Ce];Oe=[Oe[1],Oe[0]];var xe=L.mapArray("value",function(Ve,ze){var Ue=L.getItemLayout(ze),qe=linearMap$2(Ve,ue,$e);return isNaN(qe)&&(qe=($e[0]+$e[1])/2),{w:qe,rep:qe,fixed:L.getItemModel(ze).get("fixed"),p:!Ue||isNaN(Ue[0])||isNaN(Ue[1])?null:Ue}}),Ne=re.mapArray("value",function(Ve,ze){var Ue=$.getEdgeByIndex(ze),qe=linearMap$2(Ve,he,Oe);isNaN(qe)&&(qe=(Oe[0]+Oe[1])/2);var kt=Ue.getModel(),Et=retrieve3(Ue.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Ue,n,ze,!0),0);return{n1:xe[Ue.node1.dataIndex],n2:xe[Ue.node2.dataIndex],d:qe,curveness:Et,ignoreForceLayout:kt.get("ignoreForceLayout")}}),Ie=g.getBoundingRect(),Fe=forceLayout(xe,Ne,{rect:Ie,gravity:ae.get("gravity"),friction:ae.get("friction")});Fe.beforeStep(function(Ve,ze){for(var Ue=0,qe=Ve.length;Ue<qe;Ue++)Ve[Ue].fixed&&copy$1(Ve[Ue].p,$.getNodeByIndex(Ue).getLayout())}),Fe.afterStep(function(Ve,ze,Ue){for(var qe=0,kt=Ve.length;qe<kt;qe++)Ve[qe].fixed||$.getNodeByIndex(qe).setLayout(Ve[qe].p),y[L.getId(qe)]=Ve[qe].p;for(var qe=0,kt=ze.length;qe<kt;qe++){var Et=ze[qe],Pt=$.getEdgeByIndex(qe),At=Et.n1.p,Dt=Et.n2.p,Lt=Pt.getLayout();Lt=Lt?Lt.slice():[],Lt[0]=Lt[0]||[],Lt[1]=Lt[1]||[],copy$1(Lt[0],At),copy$1(Lt[1],Dt),+Et.curveness&&(Lt[2]=[(At[0]+Dt[0])/2-(At[1]-Dt[1])*Et.curveness,(At[1]+Dt[1])/2-(Dt[0]-At[0])*Et.curveness]),Pt.setLayout(Lt)}}),n.forceLayout=Fe,n.preservedPoints=y,Fe.step()}else n.forceLayout=null})}function getViewRect$3(r,n,g){var y=extend(r.getBoxLayoutParams(),{aspect:g});return getLayoutRect$1(y,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(r,n){var g=[];return r.eachSeriesByType("graph",function(y){var $=y.get("coordinateSystem");if(!$||$==="view"){var L=y.getData(),re=L.mapArray(function(Ne){var Ie=L.getItemModel(Ne);return[+Ie.get("x"),+Ie.get("y")]}),ae=[],le=[];fromPoints(re,ae,le),le[0]-ae[0]===0&&(le[0]+=1,ae[0]-=1),le[1]-ae[1]===0&&(le[1]+=1,ae[1]-=1);var ue=(le[0]-ae[0])/(le[1]-ae[1]),he=getViewRect$3(y,n,ue);isNaN(ue)&&(ae=[he.x,he.y],le=[he.x+he.width,he.y+he.height]);var _e=le[0]-ae[0],Ce=le[1]-ae[1],$e=he.width,Oe=he.height,xe=y.coordinateSystem=new View;xe.zoomLimit=y.get("scaleLimit"),xe.setBoundingRect(ae[0],ae[1],_e,Ce),xe.setViewRect(he.x,he.y,$e,Oe),xe.setCenter(y.get("center"),n),xe.setZoom(y.get("zoom")),g.push(xe)}}),g}var straightLineProto=Line$2.prototype,bezierCurveProto=BezierCurve.prototype,StraightLineShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var ECLinePath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="ec-line",y}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(g,y){isStraightLine(y)?straightLineProto.buildPath.call(this,g,y):bezierCurveProto.buildPath.call(this,g,y)},n.prototype.pointAt=function(g){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,g):bezierCurveProto.pointAt.call(this,g)},n.prototype.tangentAt=function(g){var y=this.shape,$=isStraightLine(y)?[y.x2-y.x1,y.y2-y.y1]:bezierCurveProto.tangentAt.call(this,g);return normalize$3($,$)},n}(Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(r){return"_"+r+"Type"}function makeSymbolTypeValue(r,n,g){var y=n.getItemVisual(g,r);if(!y||y==="none")return y;var $=n.getItemVisual(g,r+"Size"),L=n.getItemVisual(g,r+"Rotate"),re=n.getItemVisual(g,r+"Offset"),ae=n.getItemVisual(g,r+"KeepAspect"),le=normalizeSymbolSize($),ue=normalizeSymbolOffset(re||0,le);return y+le+ue+(L||"")+(ae||"")}function createSymbol(r,n,g){var y=n.getItemVisual(g,r);if(!(!y||y==="none")){var $=n.getItemVisual(g,r+"Size"),L=n.getItemVisual(g,r+"Rotate"),re=n.getItemVisual(g,r+"Offset"),ae=n.getItemVisual(g,r+"KeepAspect"),le=normalizeSymbolSize($),ue=normalizeSymbolOffset(re||0,le),he=createSymbol$1(y,-le[0]/2+ue[0],-le[1]/2+ue[1],le[0],le[1],null,ae);return he.__specifiedRotation=L==null||isNaN(L)?void 0:+L*Math.PI/180||0,he.name=r,he}}function createLine(r){var n=new ECLinePath({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,r),n}function setLinePoints(r,n){r.x1=n[0][0],r.y1=n[0][1],r.x2=n[1][0],r.y2=n[1][1],r.percent=1;var g=n[2];g?(r.cpx1=g[0],r.cpy1=g[1]):(r.cpx1=NaN,r.cpy1=NaN)}var Line$1=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this)||this;return L._createLine(g,y,$),L}return n.prototype._createLine=function(g,y,$){var L=g.hostModel,re=g.getItemLayout(y),ae=createLine(re);ae.shape.percent=0,initProps(ae,{shape:{percent:1}},L,y),this.add(ae),each$f(SYMBOL_CATEGORIES,function(le){var ue=createSymbol(le,g,y);this.add(ue),this[makeSymbolTypeKey(le)]=makeSymbolTypeValue(le,g,y)},this),this._updateCommonStl(g,y,$)},n.prototype.updateData=function(g,y,$){var L=g.hostModel,re=this.childOfName("line"),ae=g.getItemLayout(y),le={shape:{}};setLinePoints(le.shape,ae),updateProps$1(re,le,L,y),each$f(SYMBOL_CATEGORIES,function(ue){var he=makeSymbolTypeValue(ue,g,y),_e=makeSymbolTypeKey(ue);if(this[_e]!==he){this.remove(this.childOfName(ue));var Ce=createSymbol(ue,g,y);this.add(Ce)}this[_e]=he},this),this._updateCommonStl(g,y,$)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(g,y,$){var L=g.hostModel,re=this.childOfName("line"),ae=$&&$.emphasisLineStyle,le=$&&$.blurLineStyle,ue=$&&$.selectLineStyle,he=$&&$.labelStatesModels,_e=$&&$.emphasisDisabled,Ce=$&&$.focus,$e=$&&$.blurScope;if(!$||g.hasItemOption){var Oe=g.getItemModel(y),xe=Oe.getModel("emphasis");ae=xe.getModel("lineStyle").getLineStyle(),le=Oe.getModel(["blur","lineStyle"]).getLineStyle(),ue=Oe.getModel(["select","lineStyle"]).getLineStyle(),_e=xe.get("disabled"),Ce=xe.get("focus"),$e=xe.get("blurScope"),he=getLabelStatesModels(Oe)}var Ne=g.getItemVisual(y,"style"),Ie=Ne.stroke;re.useStyle(Ne),re.style.fill=null,re.style.strokeNoScale=!0,re.ensureState("emphasis").style=ae,re.ensureState("blur").style=le,re.ensureState("select").style=ue,each$f(SYMBOL_CATEGORIES,function(qe){var kt=this.childOfName(qe);if(kt){kt.setColor(Ie),kt.style.opacity=Ne.opacity;for(var Et=0;Et<SPECIAL_STATES.length;Et++){var Pt=SPECIAL_STATES[Et],At=re.getState(Pt);if(At){var Dt=At.style||{},Lt=kt.ensureState(Pt),hn=Lt.style||(Lt.style={});Dt.stroke!=null&&(hn[kt.__isEmptyBrush?"stroke":"fill"]=Dt.stroke),Dt.opacity!=null&&(hn.opacity=Dt.opacity)}}kt.markRedraw()}},this);var Fe=L.getRawValue(y);setLabelStyle(this,he,{labelDataIndex:y,labelFetcher:{getFormattedLabel:function(qe,kt){return L.getFormattedLabel(qe,kt,g.dataType)}},inheritColor:Ie||"#000",defaultOpacity:Ne.opacity,defaultText:(Fe==null?g.getName(y):isFinite(Fe)?round$4(Fe):Fe)+""});var Ve=this.getTextContent();if(Ve){var ze=he.normal;Ve.__align=Ve.style.align,Ve.__verticalAlign=Ve.style.verticalAlign,Ve.__position=ze.get("position")||"middle";var Ue=ze.get("distance");isArray$2(Ue)||(Ue=[Ue,Ue]),Ve.__labelDistance=Ue}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,Ce,$e,_e)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(g,y){this.setLinePoints(g.getItemLayout(y))},n.prototype.setLinePoints=function(g){var y=this.childOfName("line");setLinePoints(y.shape,g),y.dirty()},n.prototype.beforeUpdate=function(){var g=this,y=g.childOfName("fromSymbol"),$=g.childOfName("toSymbol"),L=g.getTextContent();if(!y&&!$&&(!L||L.ignore))return;for(var re=1,ae=this.parent;ae;)ae.scaleX&&(re/=ae.scaleX),ae=ae.parent;var le=g.childOfName("line");if(!this.__dirty&&!le.__dirty)return;var ue=le.shape.percent,he=le.pointAt(0),_e=le.pointAt(ue),Ce=sub([],_e,he);normalize$3(Ce,Ce);function $e(At,Dt){var Lt=At.__specifiedRotation;if(Lt==null){var hn=le.tangentAt(Dt);At.attr("rotation",(Dt===1?-1:1)*Math.PI/2-Math.atan2(hn[1],hn[0]))}else At.attr("rotation",Lt)}if(y&&(y.setPosition(he),$e(y,0),y.scaleX=y.scaleY=re*ue,y.markRedraw()),$&&($.setPosition(_e),$e($,1),$.scaleX=$.scaleY=re*ue,$.markRedraw()),L&&!L.ignore){L.x=L.y=0,L.originX=L.originY=0;var Oe=void 0,xe=void 0,Ne=L.__labelDistance,Ie=Ne[0]*re,Fe=Ne[1]*re,Ve=ue/2,ze=le.tangentAt(Ve),Ue=[ze[1],-ze[0]],qe=le.pointAt(Ve);Ue[1]>0&&(Ue[0]=-Ue[0],Ue[1]=-Ue[1]);var kt=ze[0]<0?-1:1;if(L.__position!=="start"&&L.__position!=="end"){var Et=-Math.atan2(ze[1],ze[0]);_e[0]<he[0]&&(Et=Math.PI+Et),L.rotation=Et}var Pt=void 0;switch(L.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Pt=-Fe,xe="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Pt=Fe,xe="top";break;default:Pt=0,xe="middle"}switch(L.__position){case"end":L.x=Ce[0]*Ie+_e[0],L.y=Ce[1]*Fe+_e[1],Oe=Ce[0]>.8?"left":Ce[0]<-.8?"right":"center",xe=Ce[1]>.8?"top":Ce[1]<-.8?"bottom":"middle";break;case"start":L.x=-Ce[0]*Ie+he[0],L.y=-Ce[1]*Fe+he[1],Oe=Ce[0]>.8?"right":Ce[0]<-.8?"left":"center",xe=Ce[1]>.8?"bottom":Ce[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":L.x=Ie*kt+he[0],L.y=he[1]+Pt,Oe=ze[0]<0?"right":"left",L.originX=-Ie*kt,L.originY=-Pt;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":L.x=qe[0],L.y=qe[1]+Pt,Oe="center",L.originY=-Pt;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":L.x=-Ie*kt+_e[0],L.y=_e[1]+Pt,Oe=ze[0]>=0?"right":"left",L.originX=Ie*kt,L.originY=-Pt;break}L.scaleX=L.scaleY=re,L.setStyle({verticalAlign:L.__verticalAlign||xe,align:L.__align||Oe})}},n}(Group$3),LineDraw=function(){function r(n){this.group=new Group$3,this._LineCtor=n||Line$1}return r.prototype.updateData=function(n){var g=this;this._progressiveEls=null;var y=this,$=y.group,L=y._lineData;y._lineData=n,L||$.removeAll();var re=makeSeriesScope$1(n);n.diff(L).add(function(ae){g._doAdd(n,ae,re)}).update(function(ae,le){g._doUpdate(L,n,le,ae,re)}).remove(function(ae){$.remove(L.getItemGraphicEl(ae))}).execute()},r.prototype.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(g,y){g.updateLayout(n,y)},this)},r.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$1(n),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(n,g){this._progressiveEls=[];function y(ae){!ae.isGroup&&!isEffectObject(ae)&&(ae.incremental=!0,ae.ensureState("emphasis").hoverLayer=!0)}for(var $=n.start;$<n.end;$++){var L=g.getItemLayout($);if(lineNeedsDraw(L)){var re=new this._LineCtor(g,$,this._seriesScope);re.traverse(y),this.group.add(re),g.setItemGraphicEl($,re),this._progressiveEls.push(re)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},r.prototype._doAdd=function(n,g,y){var $=n.getItemLayout(g);if(lineNeedsDraw($)){var L=new this._LineCtor(n,g,y);n.setItemGraphicEl(g,L),this.group.add(L)}},r.prototype._doUpdate=function(n,g,y,$,L){var re=n.getItemGraphicEl(y);if(!lineNeedsDraw(g.getItemLayout($))){this.group.remove(re);return}re?re.updateData(g,$,L):re=new this._LineCtor(g,$,L),g.setItemGraphicEl($,re),this.group.add(re)},r}();function isEffectObject(r){return r.animators&&r.animators.length>0}function makeSeriesScope$1(r){var n=r.hostModel,g=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:g.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:g.get("disabled"),blurScope:g.get("blurScope"),focus:g.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(r){return isNaN(r[0])||isNaN(r[1])}function lineNeedsDraw(r){return r&&!isPointNaN(r[0])&&!isPointNaN(r[1])}var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(r,n,g){for(var y=r[0],$=r[1],L=r[2],re=1/0,ae,le=g*g,ue=.1,he=.1;he<=.9;he+=.1){v1[0]=quadraticAt(y[0],$[0],L[0],he),v1[1]=quadraticAt(y[1],$[1],L[1],he);var _e=mathAbs(v2DistSquare(v1,n)-le);_e<re&&(re=_e,ae=he)}for(var Ce=0;Ce<32;Ce++){var $e=ae+ue;v2[0]=quadraticAt(y[0],$[0],L[0],ae),v2[1]=quadraticAt(y[1],$[1],L[1],ae),v3[0]=quadraticAt(y[0],$[0],L[0],$e),v3[1]=quadraticAt(y[1],$[1],L[1],$e);var _e=v2DistSquare(v2,n)-le;if(mathAbs(_e)<.01)break;var Oe=v2DistSquare(v3,n)-le;ue/=2,_e<0?Oe>=0?ae=ae+ue:ae=ae-ue:Oe>=0?ae=ae-ue:ae=ae+ue}return ae}function adjustEdge(r,n){var g=[],y=quadraticSubdivide,$=[[],[],[]],L=[[],[]],re=[];n/=2,r.eachEdge(function(ae,le){var ue=ae.getLayout(),he=ae.getVisual("fromSymbol"),_e=ae.getVisual("toSymbol");ue.__original||(ue.__original=[clone$3(ue[0]),clone$3(ue[1])],ue[2]&&ue.__original.push(clone$3(ue[2])));var Ce=ue.__original;if(ue[2]!=null){if(copy$1($[0],Ce[0]),copy$1($[1],Ce[2]),copy$1($[2],Ce[1]),he&&he!=="none"){var $e=getSymbolSize(ae.node1),Oe=intersectCurveCircle($,Ce[0],$e*n);y($[0][0],$[1][0],$[2][0],Oe,g),$[0][0]=g[3],$[1][0]=g[4],y($[0][1],$[1][1],$[2][1],Oe,g),$[0][1]=g[3],$[1][1]=g[4]}if(_e&&_e!=="none"){var $e=getSymbolSize(ae.node2),Oe=intersectCurveCircle($,Ce[1],$e*n);y($[0][0],$[1][0],$[2][0],Oe,g),$[1][0]=g[1],$[2][0]=g[2],y($[0][1],$[1][1],$[2][1],Oe,g),$[1][1]=g[1],$[2][1]=g[2]}copy$1(ue[0],$[0]),copy$1(ue[1],$[2]),copy$1(ue[2],$[1])}else{if(copy$1(L[0],Ce[0]),copy$1(L[1],Ce[1]),sub(re,L[1],L[0]),normalize$3(re,re),he&&he!=="none"){var $e=getSymbolSize(ae.node1);scaleAndAdd$1(L[0],L[0],re,$e*n)}if(_e&&_e!=="none"){var $e=getSymbolSize(ae.node2);scaleAndAdd$1(L[1],L[1],re,-$e*n)}copy$1(ue[0],L[0]),copy$1(ue[1],L[1])}})}function isViewCoordSys(r){return r.type==="view"}var GraphView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y){var $=new SymbolDraw,L=new LineDraw,re=this.group;this._controller=new RoamController(y.getZr()),this._controllerHost={target:re},re.add($.group),re.add(L.group),this._symbolDraw=$,this._lineDraw=L,this._firstRender=!0},n.prototype.render=function(g,y,$){var L=this,re=g.coordinateSystem;this._model=g;var ae=this._symbolDraw,le=this._lineDraw,ue=this.group;if(isViewCoordSys(re)){var he={x:re.x,y:re.y,scaleX:re.scaleX,scaleY:re.scaleY};this._firstRender?ue.attr(he):updateProps$1(ue,he,g)}adjustEdge(g.getGraph(),getNodeGlobalScale(g));var _e=g.getData();ae.updateData(_e);var Ce=g.getEdgeData();le.updateData(Ce),this._updateNodeAndLinkScale(),this._updateController(g,y,$),clearTimeout(this._layoutTimeout);var $e=g.forceLayout,Oe=g.get(["force","layoutAnimation"]);$e&&this._startForceLayoutIteration($e,Oe);var xe=g.get("layout");_e.graph.eachNode(function(Ve){var ze=Ve.dataIndex,Ue=Ve.getGraphicEl(),qe=Ve.getModel();if(Ue){Ue.off("drag").off("dragend");var kt=qe.get("draggable");kt&&Ue.on("drag",function(Pt){switch(xe){case"force":$e.warmUp(),!L._layouting&&L._startForceLayoutIteration($e,Oe),$e.setFixed(ze),_e.setItemLayout(ze,[Ue.x,Ue.y]);break;case"circular":_e.setItemLayout(ze,[Ue.x,Ue.y]),Ve.setLayout({fixed:!0},!0),circularLayout(g,"symbolSize",Ve,[Pt.offsetX,Pt.offsetY]),L.updateLayout(g);break;case"none":default:_e.setItemLayout(ze,[Ue.x,Ue.y]),simpleLayoutEdge(g.getGraph(),g),L.updateLayout(g);break}}).on("dragend",function(){$e&&$e.setUnfixed(ze)}),Ue.setDraggable(kt,!!qe.get("cursor"));var Et=qe.get(["emphasis","focus"]);Et==="adjacency"&&(getECData(Ue).focus=Ve.getAdjacentDataIndices())}}),_e.graph.eachEdge(function(Ve){var ze=Ve.getGraphicEl(),Ue=Ve.getModel().get(["emphasis","focus"]);ze&&Ue==="adjacency"&&(getECData(ze).focus={edge:[Ve.dataIndex],node:[Ve.node1.dataIndex,Ve.node2.dataIndex]})});var Ne=g.get("layout")==="circular"&&g.get(["circular","rotateLabel"]),Ie=_e.getLayout("cx"),Fe=_e.getLayout("cy");_e.graph.eachNode(function(Ve){rotateNodeLabel(Ve,Ne,Ie,Fe)}),this._firstRender=!1},n.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(g,y){var $=this;(function L(){g.step(function(re){$.updateLayout($._model),($._layouting=!re)&&(y?$._layoutTimeout=setTimeout(L,16):L())})})()},n.prototype._updateController=function(g,y,$){var L=this,re=this._controller,ae=this._controllerHost,le=this.group;if(re.setPointerChecker(function(ue,he,_e){var Ce=le.getBoundingRect();return Ce.applyTransform(le.transform),Ce.contain(he,_e)&&!onIrrelevantElement(ue,$,g)}),!isViewCoordSys(g.coordinateSystem)){re.disable();return}re.enable(g.get("roam")),ae.zoomLimit=g.get("scaleLimit"),ae.zoom=g.coordinateSystem.getZoom(),re.off("pan").off("zoom").on("pan",function(ue){updateViewOnPan(ae,ue.dx,ue.dy),$.dispatchAction({seriesId:g.id,type:"graphRoam",dx:ue.dx,dy:ue.dy})}).on("zoom",function(ue){updateViewOnZoom(ae,ue.scale,ue.originX,ue.originY),$.dispatchAction({seriesId:g.id,type:"graphRoam",zoom:ue.scale,originX:ue.originX,originY:ue.originY}),L._updateNodeAndLinkScale(),adjustEdge(g.getGraph(),getNodeGlobalScale(g)),L._lineDraw.updateLayout(),$.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var g=this._model,y=g.getData(),$=getNodeGlobalScale(g);y.eachItemGraphicEl(function(L,re){L&&L.setSymbolScale($)})},n.prototype.updateLayout=function(g){adjustEdge(g.getGraph(),getNodeGlobalScale(g)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView);function generateNodeKey(r){return"_EC_"+r}var Graph=function(){function r(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(n,g){n=n==null?""+g:""+n;var y=this._nodesMap;if(!y[generateNodeKey(n)]){var $=new GraphNode(n,g);return $.hostGraph=this,this.nodes.push($),y[generateNodeKey(n)]=$,$}},r.prototype.getNodeByIndex=function(n){var g=this.data.getRawIndex(n);return this.nodes[g]},r.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},r.prototype.addEdge=function(n,g,y){var $=this._nodesMap,L=this._edgesMap;if(isNumber$1(n)&&(n=this.nodes[n]),isNumber$1(g)&&(g=this.nodes[g]),n instanceof GraphNode||(n=$[generateNodeKey(n)]),g instanceof GraphNode||(g=$[generateNodeKey(g)]),!(!n||!g)){var re=n.id+"-"+g.id,ae=new GraphEdge(n,g,y);return ae.hostGraph=this,this._directed&&(n.outEdges.push(ae),g.inEdges.push(ae)),n.edges.push(ae),n!==g&&g.edges.push(ae),this.edges.push(ae),L[re]=ae,ae}},r.prototype.getEdgeByIndex=function(n){var g=this.edgeData.getRawIndex(n);return this.edges[g]},r.prototype.getEdge=function(n,g){n instanceof GraphNode&&(n=n.id),g instanceof GraphNode&&(g=g.id);var y=this._edgesMap;return this._directed?y[n+"-"+g]:y[n+"-"+g]||y[g+"-"+n]},r.prototype.eachNode=function(n,g){for(var y=this.nodes,$=y.length,L=0;L<$;L++)y[L].dataIndex>=0&&n.call(g,y[L],L)},r.prototype.eachEdge=function(n,g){for(var y=this.edges,$=y.length,L=0;L<$;L++)y[L].dataIndex>=0&&y[L].node1.dataIndex>=0&&y[L].node2.dataIndex>=0&&n.call(g,y[L],L)},r.prototype.breadthFirstTraverse=function(n,g,y,$){if(g instanceof GraphNode||(g=this._nodesMap[generateNodeKey(g)]),!!g){for(var L=y==="out"?"outEdges":y==="in"?"inEdges":"edges",re=0;re<this.nodes.length;re++)this.nodes[re].__visited=!1;if(!n.call($,g,null))for(var ae=[g];ae.length;)for(var le=ae.shift(),ue=le[L],re=0;re<ue.length;re++){var he=ue[re],_e=he.node1===le?he.node2:he.node1;if(!_e.__visited){if(n.call($,_e,le))return;ae.push(_e),_e.__visited=!0}}}},r.prototype.update=function(){for(var n=this.data,g=this.edgeData,y=this.nodes,$=this.edges,L=0,re=y.length;L<re;L++)y[L].dataIndex=-1;for(var L=0,re=n.count();L<re;L++)y[n.getRawIndex(L)].dataIndex=L;g.filterSelf(function(ae){var le=$[g.getRawIndex(ae)];return le.node1.dataIndex>=0&&le.node2.dataIndex>=0});for(var L=0,re=$.length;L<re;L++)$[L].dataIndex=-1;for(var L=0,re=g.count();L<re;L++)$[g.getRawIndex(L)].dataIndex=L},r.prototype.clone=function(){for(var n=new r(this._directed),g=this.nodes,y=this.edges,$=0;$<g.length;$++)n.addNode(g[$].id,g[$].dataIndex);for(var $=0;$<y.length;$++){var L=y[$];n.addEdge(L.node1.id,L.node2.id,L.dataIndex)}return n},r}(),GraphNode=function(){function r(n,g){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n??"",this.dataIndex=g??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var g=this.hostGraph,y=g.data.getItemModel(this.dataIndex);return y.getModel(n)}},r.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},g=0;g<this.edges.length;g++){var y=this.edges[g];y.dataIndex<0||(n.edge.push(y.dataIndex),n.node.push(y.node1.dataIndex,y.node2.dataIndex))}return n},r.prototype.getTrajectoryDataIndices=function(){for(var n=createHashMap(),g=createHashMap(),y=0;y<this.edges.length;y++){var $=this.edges[y];if(!($.dataIndex<0)){n.set($.dataIndex,!0);for(var L=[$.node1],re=[$.node2],ae=0;ae<L.length;){var le=L[ae];ae++,g.set(le.dataIndex,!0);for(var ue=0;ue<le.inEdges.length;ue++)n.set(le.inEdges[ue].dataIndex,!0),L.push(le.inEdges[ue].node1)}for(ae=0;ae<re.length;){var he=re[ae];ae++,g.set(he.dataIndex,!0);for(var ue=0;ue<he.outEdges.length;ue++)n.set(he.outEdges[ue].dataIndex,!0),re.push(he.outEdges[ue].node2)}}}return{edge:n.keys(),node:g.keys()}},r}(),GraphEdge=function(){function r(n,g,y){this.dataIndex=-1,this.node1=n,this.node2=g,this.dataIndex=y??-1}return r.prototype.getModel=function(n){if(!(this.dataIndex<0)){var g=this.hostGraph,y=g.edgeData.getItemModel(this.dataIndex);return y.getModel(n)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var n=createHashMap(),g=createHashMap();n.set(this.dataIndex,!0);for(var y=[this.node1],$=[this.node2],L=0;L<y.length;){var re=y[L];L++,g.set(re.dataIndex,!0);for(var ae=0;ae<re.inEdges.length;ae++)n.set(re.inEdges[ae].dataIndex,!0),y.push(re.inEdges[ae].node1)}for(L=0;L<$.length;){var le=$[L];L++,g.set(le.dataIndex,!0);for(var ae=0;ae<le.outEdges.length;ae++)n.set(le.outEdges[ae].dataIndex,!0),$.push(le.outEdges[ae].node2)}return{edge:n.keys(),node:g.keys()}},r}();function createGraphDataProxyMixin(r,n){return{getValue:function(g){var y=this[r][n];return y.getStore().get(y.getDimensionIndex(g||"value"),this.dataIndex)},setVisual:function(g,y){this.dataIndex>=0&&this[r][n].setItemVisual(this.dataIndex,g,y)},getVisual:function(g){return this[r][n].getItemVisual(this.dataIndex,g)},setLayout:function(g,y){this.dataIndex>=0&&this[r][n].setItemLayout(this.dataIndex,g,y)},getLayout:function(){return this[r][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));function createGraphFromNodeEdge(r,n,g,y,$){for(var L=new Graph(y),re=0;re<r.length;re++)L.addNode(retrieve(r[re].id,r[re].name,re),re);for(var ae=[],le=[],ue=0,re=0;re<n.length;re++){var he=n[re],_e=he.source,Ce=he.target;L.addEdge(_e,Ce,ue)&&(le.push(he),ae.push(retrieve(convertOptionIdName(he.id,null),_e+" > "+Ce)),ue++)}var $e=g.get("coordinateSystem"),Oe;if($e==="cartesian2d"||$e==="polar")Oe=createSeriesData(r,g);else{var xe=CoordinateSystemManager.get($e),Ne=xe?xe.dimensions||[]:[];indexOf(Ne,"value")<0&&Ne.concat(["value"]);var Ie=prepareSeriesDataSchema(r,{coordDimensions:Ne,encodeDefine:g.getEncode()}).dimensions;Oe=new SeriesData(Ie,g),Oe.initData(r)}var Fe=new SeriesData(["value"],g);return Fe.initData(le,ae),$&&$(Oe,Fe),linkSeriesData({mainData:Oe,struct:L,structAttr:"graph",datas:{node:Oe,edge:Fe},datasAttr:{node:"data",edge:"edgeData"}}),L.update(),L}var GraphSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.hasSymbolVisual=!0,g}return n.prototype.init=function(g){r.prototype.init.apply(this,arguments);var y=this;function $(){return y._categoriesData}this.legendVisualProvider=new LegendVisualProvider($,$),this.fillDataTextStyle(g.edges||g.links),this._updateCategoriesData()},n.prototype.mergeOption=function(g){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(g.edges||g.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(g){r.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(g,"edgeLabel",["show"])},n.prototype.getInitialData=function(g,y){var $=g.edges||g.links||[],L=g.data||g.nodes||[],re=this;{initCurvenessList(this);var ae=createGraphFromNodeEdge(L,$,this,!0,le);return each$f(ae.edges,function(ue){createEdgeMapForCurveness(ue.node1,ue.node2,this,ue.dataIndex)},this),ae.data}function le(ue,he){ue.wrapMethod("getItemModel",function(Oe){var xe=re._categoriesModels,Ne=Oe.getShallow("category"),Ie=xe[Ne];return Ie&&(Ie.parentModel=Oe.parentModel,Oe.parentModel=Ie),Oe});var _e=Model.prototype.getModel;function Ce(Oe,xe){var Ne=_e.call(this,Oe,xe);return Ne.resolveParentPath=$e,Ne}he.wrapMethod("getItemModel",function(Oe){return Oe.resolveParentPath=$e,Oe.getModel=Ce,Oe});function $e(Oe){if(Oe&&(Oe[0]==="label"||Oe[1]==="label")){var xe=Oe.slice();return Oe[0]==="label"?xe[0]="edgeLabel":Oe[1]==="label"&&(xe[1]="edgeLabel"),xe}return Oe}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(g,y,$){if($==="edge"){var L=this.getData(),re=this.getDataParams(g,$),ae=L.graph.getEdgeByIndex(g),le=L.getName(ae.node1.dataIndex),ue=L.getName(ae.node2.dataIndex),he=[];return le!=null&&he.push(le),ue!=null&&he.push(ue),createTooltipMarkup("nameValue",{name:he.join(" > "),value:re.value,noValue:re.value==null})}var _e=defaultSeriesFormatTooltip({series:this,dataIndex:g,multipleSeries:y});return _e},n.prototype._updateCategoriesData=function(){var g=map$1(this.option.categories||[],function($){return $.value!=null?$:extend({value:0},$)}),y=new SeriesData(["value"],this);y.initData(g),this._categoriesData=y,this._categoriesModels=y.mapArray(function($){return y.getItemModel($)})},n.prototype.setZoom=function(g){this.option.zoom=g},n.prototype.setCenter=function(g){this.option.center=g},n.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel),actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$G(r){r.registerChartView(GraphView),r.registerSeriesModel(GraphSeriesModel),r.registerProcessor(categoryFilter),r.registerVisual(categoryVisual),r.registerVisual(graphEdgeVisual),r.registerLayout(graphSimpleLayout),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),r.registerLayout(graphForceLayout),r.registerCoordinateSystem("graphView",{dimensions:View.dimensions,create:createViewCoordSys}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),r.registerAction(actionInfo$1,function(n,g,y){g.eachComponent({mainType:"series",query:n},function($){var L=$.coordinateSystem,re=updateCenterAndZoom(L,n,void 0,y);$.setCenter&&$.setCenter(re.center),$.setZoom&&$.setZoom(re.zoom)})})}var PointerShape=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),PointerPath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="pointer",y}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(g,y){var $=Math.cos,L=Math.sin,re=y.r,ae=y.width,le=y.angle,ue=y.x-$(le)*ae*(ae>=re/3?1:2),he=y.y-L(le)*ae*(ae>=re/3?1:2);le=y.angle-Math.PI/2,g.moveTo(ue,he),g.lineTo(y.x+$(le)*ae,y.y+L(le)*ae),g.lineTo(y.x+$(y.angle)*re,y.y+L(y.angle)*re),g.lineTo(y.x-$(le)*ae,y.y-L(le)*ae),g.lineTo(ue,he)},n}(Path);function parsePosition(r,n){var g=r.get("center"),y=n.getWidth(),$=n.getHeight(),L=Math.min(y,$),re=parsePercent(g[0],n.getWidth()),ae=parsePercent(g[1],n.getHeight()),le=parsePercent(r.get("radius"),L/2);return{cx:re,cy:ae,r:le}}function formatLabel(r,n){var g=r==null?"":r+"";return n&&(isString(n)?g=n.replace("{value}",g):isFunction(n)&&(g=n(r))),g}var GaugeView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){this.group.removeAll();var L=g.get(["axisLine","lineStyle","color"]),re=parsePosition(g,$);this._renderMain(g,y,$,L,re),this._data=g.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(g,y,$,L,re){var ae=this.group,le=g.get("clockwise"),ue=-g.get("startAngle")/180*Math.PI,he=-g.get("endAngle")/180*Math.PI,_e=g.getModel("axisLine"),Ce=_e.get("roundCap"),$e=Ce?SausagePath:Sector,Oe=_e.get("show"),xe=_e.getModel("lineStyle"),Ne=xe.get("width"),Ie=[ue,he];normalizeArcAngles(Ie,!le),ue=Ie[0],he=Ie[1];for(var Fe=he-ue,Ve=ue,ze=[],Ue=0;Oe&&Ue<L.length;Ue++){var qe=Math.min(Math.max(L[Ue][0],0),1);he=ue+Fe*qe;var kt=new $e({shape:{startAngle:Ve,endAngle:he,cx:re.cx,cy:re.cy,clockwise:le,r0:re.r-Ne,r:re.r},silent:!0});kt.setStyle({fill:L[Ue][1]}),kt.setStyle(xe.getLineStyle(["color","width"])),ze.push(kt),Ve=he}ze.reverse(),each$f(ze,function(Pt){return ae.add(Pt)});var Et=function(Pt){if(Pt<=0)return L[0][1];var At;for(At=0;At<L.length;At++)if(L[At][0]>=Pt&&(At===0?0:L[At-1][0])<Pt)return L[At][1];return L[At-1][1]};this._renderTicks(g,y,$,Et,re,ue,he,le,Ne),this._renderTitleAndDetail(g,y,$,Et,re),this._renderAnchor(g,re),this._renderPointer(g,y,$,Et,re,ue,he,le,Ne)},n.prototype._renderTicks=function(g,y,$,L,re,ae,le,ue,he){for(var _e=this.group,Ce=re.cx,$e=re.cy,Oe=re.r,xe=+g.get("min"),Ne=+g.get("max"),Ie=g.getModel("splitLine"),Fe=g.getModel("axisTick"),Ve=g.getModel("axisLabel"),ze=g.get("splitNumber"),Ue=Fe.get("splitNumber"),qe=parsePercent(Ie.get("length"),Oe),kt=parsePercent(Fe.get("length"),Oe),Et=ae,Pt=(le-ae)/ze,At=Pt/Ue,Dt=Ie.getModel("lineStyle").getLineStyle(),Lt=Fe.getModel("lineStyle").getLineStyle(),hn=Ie.get("distance"),_n,vn,jt=0;jt<=ze;jt++){if(_n=Math.cos(Et),vn=Math.sin(Et),Ie.get("show")){var $n=hn?hn+he:he,Sn=new Line$2({shape:{x1:_n*(Oe-$n)+Ce,y1:vn*(Oe-$n)+$e,x2:_n*(Oe-qe-$n)+Ce,y2:vn*(Oe-qe-$n)+$e},style:Dt,silent:!0});Dt.stroke==="auto"&&Sn.setStyle({stroke:L(jt/ze)}),_e.add(Sn)}if(Ve.get("show")){var $n=Ve.get("distance")+hn,bn=formatLabel(round$4(jt/ze*(Ne-xe)+xe),Ve.get("formatter")),wn=L(jt/ze),On=_n*(Oe-qe-$n)+Ce,Tn=vn*(Oe-qe-$n)+$e,xn=Ve.get("rotate"),Pn=0;xn==="radial"?(Pn=-Et+2*Math.PI,Pn>Math.PI/2&&(Pn+=Math.PI)):xn==="tangential"?Pn=-Et-Math.PI/2:isNumber$1(xn)&&(Pn=xn*Math.PI/180),Pn===0?_e.add(new ZRText({style:createTextStyle$1(Ve,{text:bn,x:On,y:Tn,verticalAlign:vn<-.8?"top":vn>.8?"bottom":"middle",align:_n<-.4?"left":_n>.4?"right":"center"},{inheritColor:wn}),silent:!0})):_e.add(new ZRText({style:createTextStyle$1(Ve,{text:bn,x:On,y:Tn,verticalAlign:"middle",align:"center"},{inheritColor:wn}),silent:!0,originX:On,originY:Tn,rotation:Pn}))}if(Fe.get("show")&&jt!==ze){var $n=Fe.get("distance");$n=$n?$n+he:he;for(var An=0;An<=Ue;An++){_n=Math.cos(Et),vn=Math.sin(Et);var Rn=new Line$2({shape:{x1:_n*(Oe-$n)+Ce,y1:vn*(Oe-$n)+$e,x2:_n*(Oe-kt-$n)+Ce,y2:vn*(Oe-kt-$n)+$e},silent:!0,style:Lt});Lt.stroke==="auto"&&Rn.setStyle({stroke:L((jt+An/Ue)/ze)}),_e.add(Rn),Et+=At}Et-=At}else Et+=Pt}},n.prototype._renderPointer=function(g,y,$,L,re,ae,le,ue,he){var _e=this.group,Ce=this._data,$e=this._progressEls,Oe=[],xe=g.get(["pointer","show"]),Ne=g.getModel("progress"),Ie=Ne.get("show"),Fe=g.getData(),Ve=Fe.mapDimension("value"),ze=+g.get("min"),Ue=+g.get("max"),qe=[ze,Ue],kt=[ae,le];function Et(At,Dt){var Lt=Fe.getItemModel(At),hn=Lt.getModel("pointer"),_n=parsePercent(hn.get("width"),re.r),vn=parsePercent(hn.get("length"),re.r),jt=g.get(["pointer","icon"]),$n=hn.get("offsetCenter"),Sn=parsePercent($n[0],re.r),bn=parsePercent($n[1],re.r),wn=hn.get("keepAspect"),On;return jt?On=createSymbol$1(jt,Sn-_n/2,bn-vn,_n,vn,null,wn):On=new PointerPath({shape:{angle:-Math.PI/2,width:_n,r:vn,x:Sn,y:bn}}),On.rotation=-(Dt+Math.PI/2),On.x=re.cx,On.y=re.cy,On}function Pt(At,Dt){var Lt=Ne.get("roundCap"),hn=Lt?SausagePath:Sector,_n=Ne.get("overlap"),vn=_n?Ne.get("width"):he/Fe.count(),jt=_n?re.r-vn:re.r-(At+1)*vn,$n=_n?re.r:re.r-At*vn,Sn=new hn({shape:{startAngle:ae,endAngle:Dt,cx:re.cx,cy:re.cy,clockwise:ue,r0:jt,r:$n}});return _n&&(Sn.z2=linearMap$2(Fe.get(Ve,At),[ze,Ue],[100,0],!0)),Sn}(Ie||xe)&&(Fe.diff(Ce).add(function(At){var Dt=Fe.get(Ve,At);if(xe){var Lt=Et(At,ae);initProps(Lt,{rotation:-((isNaN(+Dt)?kt[0]:linearMap$2(Dt,qe,kt,!0))+Math.PI/2)},g),_e.add(Lt),Fe.setItemGraphicEl(At,Lt)}if(Ie){var hn=Pt(At,ae),_n=Ne.get("clip");initProps(hn,{shape:{endAngle:linearMap$2(Dt,qe,kt,_n)}},g),_e.add(hn),setCommonECData(g.seriesIndex,Fe.dataType,At,hn),Oe[At]=hn}}).update(function(At,Dt){var Lt=Fe.get(Ve,At);if(xe){var hn=Ce.getItemGraphicEl(Dt),_n=hn?hn.rotation:ae,vn=Et(At,_n);vn.rotation=_n,updateProps$1(vn,{rotation:-((isNaN(+Lt)?kt[0]:linearMap$2(Lt,qe,kt,!0))+Math.PI/2)},g),_e.add(vn),Fe.setItemGraphicEl(At,vn)}if(Ie){var jt=$e[Dt],$n=jt?jt.shape.endAngle:ae,Sn=Pt(At,$n),bn=Ne.get("clip");updateProps$1(Sn,{shape:{endAngle:linearMap$2(Lt,qe,kt,bn)}},g),_e.add(Sn),setCommonECData(g.seriesIndex,Fe.dataType,At,Sn),Oe[At]=Sn}}).execute(),Fe.each(function(At){var Dt=Fe.getItemModel(At),Lt=Dt.getModel("emphasis"),hn=Lt.get("focus"),_n=Lt.get("blurScope"),vn=Lt.get("disabled");if(xe){var jt=Fe.getItemGraphicEl(At),$n=Fe.getItemVisual(At,"style"),Sn=$n.fill;if(jt instanceof ZRImage){var bn=jt.style;jt.useStyle(extend({image:bn.image,x:bn.x,y:bn.y,width:bn.width,height:bn.height},$n))}else jt.useStyle($n),jt.type!=="pointer"&&jt.setColor(Sn);jt.setStyle(Dt.getModel(["pointer","itemStyle"]).getItemStyle()),jt.style.fill==="auto"&&jt.setStyle("fill",L(linearMap$2(Fe.get(Ve,At),qe,[0,1],!0))),jt.z2EmphasisLift=0,setStatesStylesFromModel(jt,Dt),toggleHoverEmphasis(jt,hn,_n,vn)}if(Ie){var wn=Oe[At];wn.useStyle(Fe.getItemVisual(At,"style")),wn.setStyle(Dt.getModel(["progress","itemStyle"]).getItemStyle()),wn.z2EmphasisLift=0,setStatesStylesFromModel(wn,Dt),toggleHoverEmphasis(wn,hn,_n,vn)}}),this._progressEls=Oe)},n.prototype._renderAnchor=function(g,y){var $=g.getModel("anchor"),L=$.get("show");if(L){var re=$.get("size"),ae=$.get("icon"),le=$.get("offsetCenter"),ue=$.get("keepAspect"),he=createSymbol$1(ae,y.cx-re/2+parsePercent(le[0],y.r),y.cy-re/2+parsePercent(le[1],y.r),re,re,null,ue);he.z2=$.get("showAbove")?1:0,he.setStyle($.getModel("itemStyle").getItemStyle()),this.group.add(he)}},n.prototype._renderTitleAndDetail=function(g,y,$,L,re){var ae=this,le=g.getData(),ue=le.mapDimension("value"),he=+g.get("min"),_e=+g.get("max"),Ce=new Group$3,$e=[],Oe=[],xe=g.isAnimationEnabled(),Ne=g.get(["pointer","showAbove"]);le.diff(this._data).add(function(Ie){$e[Ie]=new ZRText({silent:!0}),Oe[Ie]=new ZRText({silent:!0})}).update(function(Ie,Fe){$e[Ie]=ae._titleEls[Fe],Oe[Ie]=ae._detailEls[Fe]}).execute(),le.each(function(Ie){var Fe=le.getItemModel(Ie),Ve=le.get(ue,Ie),ze=new Group$3,Ue=L(linearMap$2(Ve,[he,_e],[0,1],!0)),qe=Fe.getModel("title");if(qe.get("show")){var kt=qe.get("offsetCenter"),Et=re.cx+parsePercent(kt[0],re.r),Pt=re.cy+parsePercent(kt[1],re.r),At=$e[Ie];At.attr({z2:Ne?0:2,style:createTextStyle$1(qe,{x:Et,y:Pt,text:le.getName(Ie),align:"center",verticalAlign:"middle"},{inheritColor:Ue})}),ze.add(At)}var Dt=Fe.getModel("detail");if(Dt.get("show")){var Lt=Dt.get("offsetCenter"),hn=re.cx+parsePercent(Lt[0],re.r),_n=re.cy+parsePercent(Lt[1],re.r),vn=parsePercent(Dt.get("width"),re.r),jt=parsePercent(Dt.get("height"),re.r),$n=g.get(["progress","show"])?le.getItemVisual(Ie,"style").fill:Ue,At=Oe[Ie],Sn=Dt.get("formatter");At.attr({z2:Ne?0:2,style:createTextStyle$1(Dt,{x:hn,y:_n,text:formatLabel(Ve,Sn),width:isNaN(vn)?null:vn,height:isNaN(jt)?null:jt,align:"center",verticalAlign:"middle"},{inheritColor:$n})}),setLabelValueAnimation(At,{normal:Dt},Ve,function(wn){return formatLabel(wn,Sn)}),xe&&animateLabelValue(At,Ie,le,g,{getFormattedLabel:function(wn,On,Tn,xn,Pn,An){return formatLabel(An?An.interpolatedValue:Ve,Sn)}}),ze.add(At)}Ce.add(ze)}),this.group.add(Ce),this._titleEls=$e,this._detailEls=Oe},n.type="gauge",n}(ChartView),GaugeSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.visualStyleAccessPath="itemStyle",g}return n.prototype.getInitialData=function(g,y){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel);function install$F(r){r.registerChartView(GaugeView),r.registerSeriesModel(GaugeSeriesModel)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(r){__extends$1(n,r);function n(g,y){var $=r.call(this)||this,L=$,re=new Polyline$1,ae=new ZRText;return L.setTextContent(ae),$.setTextGuideLine(re),$.updateData(g,y,!0),$}return n.prototype.updateData=function(g,y,$){var L=this,re=g.hostModel,ae=g.getItemModel(y),le=g.getItemLayout(y),ue=ae.getModel("emphasis"),he=ae.get(opacityAccessPath$1);he=he??1,$||saveOldStyle(L),L.useStyle(g.getItemVisual(y,"style")),L.style.lineJoin="round",$?(L.setShape({points:le.points}),L.style.opacity=0,initProps(L,{style:{opacity:he}},re,y)):updateProps$1(L,{style:{opacity:he},shape:{points:le.points}},re,y),setStatesStylesFromModel(L,ae),this._updateLabel(g,y),toggleHoverEmphasis(this,ue.get("focus"),ue.get("blurScope"),ue.get("disabled"))},n.prototype._updateLabel=function(g,y){var $=this,L=this.getTextGuideLine(),re=$.getTextContent(),ae=g.hostModel,le=g.getItemModel(y),ue=g.getItemLayout(y),he=ue.label,_e=g.getItemVisual(y,"style"),Ce=_e.fill;setLabelStyle(re,getLabelStatesModels(le),{labelFetcher:g.hostModel,labelDataIndex:y,defaultOpacity:_e.opacity,defaultText:g.getName(y)},{normal:{align:he.textAlign,verticalAlign:he.verticalAlign}}),$.setTextConfig({local:!0,inside:!!he.inside,insideStroke:Ce,outsideFill:Ce});var $e=he.linePoints;L.setShape({points:$e}),$.textGuideLineConfig={anchor:$e?new Point($e[0][0],$e[0][1]):null},updateProps$1(re,{style:{x:he.x,y:he.y}},ae,y),re.attr({rotation:he.rotation,originX:he.x,originY:he.y,z2:10}),setLabelLineStyle($,getLabelLineStatesModels(le),{stroke:Ce})},n}(Polygon),FunnelView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.ignoreLabelLineUpdate=!0,g}return n.prototype.render=function(g,y,$){var L=g.getData(),re=this._data,ae=this.group;L.diff(re).add(function(le){var ue=new FunnelPiece(L,le);L.setItemGraphicEl(le,ue),ae.add(ue)}).update(function(le,ue){var he=re.getItemGraphicEl(ue);he.updateData(L,le),ae.add(he),L.setItemGraphicEl(le,he)}).remove(function(le){var ue=re.getItemGraphicEl(le);removeElementWithFadeOut(ue,g,le)}).execute(),this._data=L},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView),FunnelSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(g)},n.prototype.getInitialData=function(g,y){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(g){defaultEmphasis(g,"labelLine",["show"]);var y=g.labelLine,$=g.emphasis.labelLine;y.show=y.show&&g.label.show,$.show=$.show&&g.emphasis.label.show},n.prototype.getDataParams=function(g){var y=this.getData(),$=r.prototype.getDataParams.call(this,g),L=y.mapDimension("value"),re=y.getSum(L);return $.percent=re?+(y.get(L,g)/re*100).toFixed(2):0,$.$vars.push("percent"),$},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel);function getViewRect$2(r,n){return getLayoutRect$1(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(r,n){for(var g=r.mapDimension("value"),y=r.mapArray(g,function(le){return le}),$=[],L=n==="ascending",re=0,ae=r.count();re<ae;re++)$[re]=re;return isFunction(n)?$.sort(n):n!=="none"&&$.sort(function(le,ue){return L?y[le]-y[ue]:y[ue]-y[le]}),$}function labelLayout(r){var n=r.hostModel,g=n.get("orient");r.each(function(y){var $=r.getItemModel(y),L=$.getModel("label"),re=L.get("position"),ae=$.getModel("labelLine"),le=r.getItemLayout(y),ue=le.points,he=re==="inner"||re==="inside"||re==="center"||re==="insideLeft"||re==="insideRight",_e,Ce,$e,Oe;if(he)re==="insideLeft"?(Ce=(ue[0][0]+ue[3][0])/2+5,$e=(ue[0][1]+ue[3][1])/2,_e="left"):re==="insideRight"?(Ce=(ue[1][0]+ue[2][0])/2-5,$e=(ue[1][1]+ue[2][1])/2,_e="right"):(Ce=(ue[0][0]+ue[1][0]+ue[2][0]+ue[3][0])/4,$e=(ue[0][1]+ue[1][1]+ue[2][1]+ue[3][1])/4,_e="center"),Oe=[[Ce,$e],[Ce,$e]];else{var xe=void 0,Ne=void 0,Ie=void 0,Fe=void 0,Ve=ae.get("length");re==="left"?(xe=(ue[3][0]+ue[0][0])/2,Ne=(ue[3][1]+ue[0][1])/2,Ie=xe-Ve,Ce=Ie-5,_e="right"):re==="right"?(xe=(ue[1][0]+ue[2][0])/2,Ne=(ue[1][1]+ue[2][1])/2,Ie=xe+Ve,Ce=Ie+5,_e="left"):re==="top"?(xe=(ue[3][0]+ue[0][0])/2,Ne=(ue[3][1]+ue[0][1])/2,Fe=Ne-Ve,$e=Fe-5,_e="center"):re==="bottom"?(xe=(ue[1][0]+ue[2][0])/2,Ne=(ue[1][1]+ue[2][1])/2,Fe=Ne+Ve,$e=Fe+5,_e="center"):re==="rightTop"?(xe=g==="horizontal"?ue[3][0]:ue[1][0],Ne=g==="horizontal"?ue[3][1]:ue[1][1],g==="horizontal"?(Fe=Ne-Ve,$e=Fe-5,_e="center"):(Ie=xe+Ve,Ce=Ie+5,_e="top")):re==="rightBottom"?(xe=ue[2][0],Ne=ue[2][1],g==="horizontal"?(Fe=Ne+Ve,$e=Fe+5,_e="center"):(Ie=xe+Ve,Ce=Ie+5,_e="bottom")):re==="leftTop"?(xe=ue[0][0],Ne=g==="horizontal"?ue[0][1]:ue[1][1],g==="horizontal"?(Fe=Ne-Ve,$e=Fe-5,_e="center"):(Ie=xe-Ve,Ce=Ie-5,_e="right")):re==="leftBottom"?(xe=g==="horizontal"?ue[1][0]:ue[3][0],Ne=g==="horizontal"?ue[1][1]:ue[2][1],g==="horizontal"?(Fe=Ne+Ve,$e=Fe+5,_e="center"):(Ie=xe-Ve,Ce=Ie-5,_e="right")):(xe=(ue[1][0]+ue[2][0])/2,Ne=(ue[1][1]+ue[2][1])/2,g==="horizontal"?(Fe=Ne+Ve,$e=Fe+5,_e="center"):(Ie=xe+Ve,Ce=Ie+5,_e="left")),g==="horizontal"?(Ie=xe,Ce=Ie):(Fe=Ne,$e=Fe),Oe=[[xe,Ne],[Ie,Fe]]}le.label={linePoints:Oe,x:Ce,y:$e,verticalAlign:"middle",textAlign:_e,inside:he}})}function funnelLayout(r,n){r.eachSeriesByType("funnel",function(g){var y=g.getData(),$=y.mapDimension("value"),L=g.get("sort"),re=getViewRect$2(g,n),ae=g.get("orient"),le=re.width,ue=re.height,he=getSortedIndices(y,L),_e=re.x,Ce=re.y,$e=ae==="horizontal"?[parsePercent(g.get("minSize"),ue),parsePercent(g.get("maxSize"),ue)]:[parsePercent(g.get("minSize"),le),parsePercent(g.get("maxSize"),le)],Oe=y.getDataExtent($),xe=g.get("min"),Ne=g.get("max");xe==null&&(xe=Math.min(Oe[0],0)),Ne==null&&(Ne=Oe[1]);var Ie=g.get("funnelAlign"),Fe=g.get("gap"),Ve=ae==="horizontal"?le:ue,ze=(Ve-Fe*(y.count()-1))/y.count(),Ue=function(_n,vn){if(ae==="horizontal"){var jt=y.get($,_n)||0,$n=linearMap$2(jt,[xe,Ne],$e,!0),Sn=void 0;switch(Ie){case"top":Sn=Ce;break;case"center":Sn=Ce+(ue-$n)/2;break;case"bottom":Sn=Ce+(ue-$n);break}return[[vn,Sn],[vn,Sn+$n]]}var bn=y.get($,_n)||0,wn=linearMap$2(bn,[xe,Ne],$e,!0),On;switch(Ie){case"left":On=_e;break;case"center":On=_e+(le-wn)/2;break;case"right":On=_e+le-wn;break}return[[On,vn],[On+wn,vn]]};L==="ascending"&&(ze=-ze,Fe=-Fe,ae==="horizontal"?_e+=le:Ce+=ue,he=he.reverse());for(var qe=0;qe<he.length;qe++){var kt=he[qe],Et=he[qe+1],Pt=y.getItemModel(kt);if(ae==="horizontal"){var At=Pt.get(["itemStyle","width"]);At==null?At=ze:(At=parsePercent(At,le),L==="ascending"&&(At=-At));var Dt=Ue(kt,_e),Lt=Ue(Et,_e+At);_e+=At+Fe,y.setItemLayout(kt,{points:Dt.concat(Lt.slice().reverse())})}else{var hn=Pt.get(["itemStyle","height"]);hn==null?hn=ze:(hn=parsePercent(hn,ue),L==="ascending"&&(hn=-hn));var Dt=Ue(kt,Ce),Lt=Ue(Et,Ce+hn);Ce+=hn+Fe,y.setItemLayout(kt,{points:Dt.concat(Lt.slice().reverse())})}}labelLayout(y)})}function install$E(r){r.registerChartView(FunnelView),r.registerSeriesModel(FunnelSeriesModel),r.registerLayout(funnelLayout),r.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$1=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._dataGroup=new Group$3,g._initialized=!1,g}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(g,y,$,L){this._progressiveEls=null;var re=this._dataGroup,ae=g.getData(),le=this._data,ue=g.coordinateSystem,he=ue.dimensions,_e=makeSeriesScope(g);ae.diff(le).add(Ce).update($e).remove(Oe).execute();function Ce(Ne){var Ie=addEl(ae,re,Ne,he,ue);updateElCommon(Ie,ae,Ne,_e)}function $e(Ne,Ie){var Fe=le.getItemGraphicEl(Ie),Ve=createLinePoints(ae,Ne,he,ue);ae.setItemGraphicEl(Ne,Fe),updateProps$1(Fe,{shape:{points:Ve}},g,Ne),saveOldStyle(Fe),updateElCommon(Fe,ae,Ne,_e)}function Oe(Ne){var Ie=le.getItemGraphicEl(Ne);re.remove(Ie)}if(!this._initialized){this._initialized=!0;var xe=createGridClipShape$2(ue,g,function(){setTimeout(function(){re.removeClipPath()})});re.setClipPath(xe)}this._data=ae},n.prototype.incrementalPrepareRender=function(g,y,$){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(g,y,$){for(var L=y.getData(),re=y.coordinateSystem,ae=re.dimensions,le=makeSeriesScope(y),ue=this._progressiveEls=[],he=g.start;he<g.end;he++){var _e=addEl(L,this._dataGroup,he,ae,re);_e.incremental=!0,updateElCommon(_e,L,he,le),ue.push(_e)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView);function createGridClipShape$2(r,n,g){var y=r.model,$=r.getRect(),L=new Rect$2({shape:{x:$.x,y:$.y,width:$.width,height:$.height}}),re=y.get("layout")==="horizontal"?"width":"height";return L.setShape(re,0),initProps(L,{shape:{width:$.width,height:$.height}},n,g),L}function createLinePoints(r,n,g,y){for(var $=[],L=0;L<g.length;L++){var re=g[L],ae=r.get(r.mapDimension(re),n);isEmptyValue(ae,y.getAxis(re).type)||$.push(y.dataToPoint(ae,re))}return $}function addEl(r,n,g,y,$){var L=createLinePoints(r,g,y,$),re=new Polyline$1({shape:{points:L},z2:10});return n.add(re),r.setItemGraphicEl(g,re),re}function makeSeriesScope(r){var n=r.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(r,n,g,y){r.useStyle(n.getItemVisual(g,"style")),r.style.fill=null,r.setShape("smooth",y.smooth);var $=n.getItemModel(g),L=$.getModel("emphasis");setStatesStylesFromModel(r,$,"lineStyle"),toggleHoverEmphasis(r,L.get("focus"),L.get("blurScope"),L.get("disabled"))}function isEmptyValue(r,n){return n==="category"?r==null:r==null||isNaN(r)}var ParallelSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.visualStyleAccessPath="lineStyle",g.visualDrawType="stroke",g}return n.prototype.getInitialData=function(g,y){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(g){var y=this.coordinateSystem,$=this.getData(),L=[];return y.eachActiveState($,function(re,ae){g===re&&L.push($.getRawIndex(ae))}),L},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel);function makeDefaultEncode(r){var n=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(n){var g={};return each$f(n.dimensions,function(y){var $=convertDimNameToNumber(y);g[y]=$}),g}}function convertDimNameToNumber(r){return+r.replace("dim","")}var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(r,n){var g=r.coordinateSystem,y={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function($,L){g.eachActiveState(L,function(re,ae){var le=y[re];if(re==="normal"&&L.hasItemOption){var ue=L.getItemModel(ae).get(opacityAccessPath,!0);ue!=null&&(le=ue)}var he=L.ensureUniqueItemVisual(ae,"style");he.opacity=le},$.start,$.end)}}}};function parallelPreprocessor(r){createParallelIfNeeded(r),mergeAxisOptionFromParallel(r)}function createParallelIfNeeded(r){if(!r.parallel){var n=!1;each$f(r.series,function(g){g&&g.type==="parallel"&&(n=!0)}),n&&(r.parallel=[{}])}}function mergeAxisOptionFromParallel(r){var n=normalizeToArray$1(r.parallelAxis);each$f(n,function(g){if(isObject$3(g)){var y=g.parallelIndex||0,$=normalizeToArray$1(r.parallel)[y];$&&$.parallelAxisDefault&&merge$1(g,$.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){this._model=g,this._api=$,this._handlers||(this._handlers={},each$f(handlers$2,function(L,re){$.getZr().on(re,this._handlers[re]=bind$1(L,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",g.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(g,y){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function($,L){y.getZr().off(L,$)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(g){this._dispatchExpand(g)},n.prototype._dispatchExpand=function(g){g&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},g))},n.type="parallel",n}(ComponentView),handlers$2={mousedown:function(r){checkTrigger(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var g=[r.offsetX,r.offsetY],y=Math.pow(n[0]-g[0],2)+Math.pow(n[1]-g[1],2);if(y>CLICK_THRESHOLD)return;var $=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);$.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:$.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,g=n.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),y=g.behavior;y==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(y==="none"?null:{axisExpandWindow:g.axisExpandWindow,animation:y==="jump"?null:{duration:0}})}}};function checkTrigger(r,n){var g=r._model;return g.get("axisExpandable")&&g.get("axisExpandTriggerOn")===n}var ParallelModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(g){var y=this.option;g&&merge$1(y,g,!0),this._initDimensions()},n.prototype.contains=function(g,y){var $=g.get("parallelIndex");return $!=null&&y.getComponent("parallel",$)===this},n.prototype.setAxisExpand=function(g){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(y){g.hasOwnProperty(y)&&(this.option[y]=g[y])},this)},n.prototype._initDimensions=function(){var g=this.dimensions=[],y=this.parallelAxisIndex=[],$=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(L){return(L.get("parallelIndex")||0)===this.componentIndex},this);each$f($,function(L){g.push("dim"+L.get("dim")),y.push(L.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel),ParallelAxis=function(r){__extends$1(n,r);function n(g,y,$,L,re){var ae=r.call(this,g,y,$)||this;return ae.type=L||"value",ae.axisIndex=re,ae}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis);function sliderMove(r,n,g,y,$,L){r=r||0;var re=g[1]-g[0];if($!=null&&($=restrict$1($,[0,re])),L!=null&&(L=Math.max(L,$??0)),y==="all"){var ae=Math.abs(n[1]-n[0]);ae=restrict$1(ae,[0,re]),$=L=restrict$1(ae,[$,L]),y=0}n[0]=restrict$1(n[0],g),n[1]=restrict$1(n[1],g);var le=getSpanSign(n,y);n[y]+=r;var ue=$||0,he=g.slice();le.sign<0?he[0]+=ue:he[1]-=ue,n[y]=restrict$1(n[y],he);var _e;return _e=getSpanSign(n,y),$!=null&&(_e.sign!==le.sign||_e.span<$)&&(n[1-y]=n[y]+le.sign*$),_e=getSpanSign(n,y),L!=null&&_e.span>L&&(n[1-y]=n[y]+_e.sign*L),n}function getSpanSign(r,n){var g=r[n]-r[1-n];return{span:Math.abs(g),sign:g>0?-1:g<0?1:n?-1:1}}function restrict$1(r,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,r))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round$1=round$4,PI$1=Math.PI,Parallel=function(){function r(n,g,y){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,g,y)}return r.prototype._init=function(n,g,y){var $=n.dimensions,L=n.parallelAxisIndex;each$a($,function(re,ae){var le=L[ae],ue=g.getComponent("parallelAxis",le),he=this._axesMap.set(re,new ParallelAxis(re,createScaleByModel$1(ue),[0,0],ue.get("type"),le)),_e=he.type==="category";he.onBand=_e&&ue.get("boundaryGap"),he.inverse=ue.get("inverse"),ue.axis=he,he.model=ue,he.coordinateSystem=ue.coordinateSystem=this},this)},r.prototype.update=function(n,g){this._updateAxesFromSeries(this._model,n)},r.prototype.containPoint=function(n){var g=this._makeLayoutInfo(),y=g.axisBase,$=g.layoutBase,L=g.pixelDimIndex,re=n[1-L],ae=n[L];return re>=y&&re<=y+g.axisLength&&ae>=$&&ae<=$+g.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(n,g){g.eachSeries(function(y){if(n.contains(y,g)){var $=y.getData();each$a(this.dimensions,function(L){var re=this._axesMap.get(L);re.scale.unionExtentFromData($,$.mapDimension(L)),niceScaleExtent(re.scale,re.model)},this)}},this)},r.prototype.resize=function(n,g){this._rect=getLayoutRect$1(n.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var n=this._model,g=this._rect,y=["x","y"],$=["width","height"],L=n.get("layout"),re=L==="horizontal"?0:1,ae=g[$[re]],le=[0,ae],ue=this.dimensions.length,he=restrict(n.get("axisExpandWidth"),le),_e=restrict(n.get("axisExpandCount")||0,[0,ue]),Ce=n.get("axisExpandable")&&ue>3&&ue>_e&&_e>1&&he>0&&ae>0,$e=n.get("axisExpandWindow"),Oe;if($e)Oe=restrict($e[1]-$e[0],le),$e[1]=$e[0]+Oe;else{Oe=restrict(he*(_e-1),le);var xe=n.get("axisExpandCenter")||mathFloor(ue/2);$e=[he*xe-Oe/2],$e[1]=$e[0]+Oe}var Ne=(ae-Oe)/(ue-_e);Ne<3&&(Ne=0);var Ie=[mathFloor(round$1($e[0]/he,1))+1,mathCeil(round$1($e[1]/he,1))-1],Fe=Ne/he*$e[0];return{layout:L,pixelDimIndex:re,layoutBase:g[y[re]],layoutLength:ae,axisBase:g[y[1-re]],axisLength:g[$[1-re]],axisExpandable:Ce,axisExpandWidth:he,axisCollapseWidth:Ne,axisExpandWindow:$e,axisCount:ue,winInnerIndices:Ie,axisExpandWindow0Pos:Fe}},r.prototype._layoutAxes=function(){var n=this._rect,g=this._axesMap,y=this.dimensions,$=this._makeLayoutInfo(),L=$.layout;g.each(function(re){var ae=[0,$.axisLength],le=re.inverse?1:0;re.setExtent(ae[le],ae[1-le])}),each$a(y,function(re,ae){var le=($.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(ae,$),ue={horizontal:{x:le.position,y:$.axisLength},vertical:{x:0,y:le.position}},he={horizontal:PI$1/2,vertical:0},_e=[ue[L].x+n.x,ue[L].y+n.y],Ce=he[L],$e=create$1();rotate($e,$e,Ce),translate($e,$e,_e),this._axesLayout[re]={position:_e,rotation:Ce,transform:$e,axisNameAvailableWidth:le.axisNameAvailableWidth,axisLabelShow:le.axisLabelShow,nameTruncateMaxWidth:le.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(n){return this._axesMap.get(n)},r.prototype.dataToPoint=function(n,g){return this.axisCoordToPoint(this._axesMap.get(g).dataToCoord(n),g)},r.prototype.eachActiveState=function(n,g,y,$){y==null&&(y=0),$==null&&($=n.count());var L=this._axesMap,re=this.dimensions,ae=[],le=[];each$f(re,function(Ne){ae.push(n.mapDimension(Ne)),le.push(L.get(Ne).model)});for(var ue=this.hasAxisBrushed(),he=y;he<$;he++){var _e=void 0;if(!ue)_e="normal";else{_e="active";for(var Ce=n.getValues(ae,he),$e=0,Oe=re.length;$e<Oe;$e++){var xe=le[$e].getActiveState(Ce[$e]);if(xe==="inactive"){_e="inactive";break}}}g(_e,he)}},r.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,g=this._axesMap,y=!1,$=0,L=n.length;$<L;$++)g.get(n[$]).model.getActiveState()!=="normal"&&(y=!0);return y},r.prototype.axisCoordToPoint=function(n,g){var y=this._axesLayout[g];return applyTransform([n,0],y.transform)},r.prototype.getAxisLayout=function(n){return clone$4(this._axesLayout[n])},r.prototype.getSlidedAxisExpandWindow=function(n){var g=this._makeLayoutInfo(),y=g.pixelDimIndex,$=g.axisExpandWindow.slice(),L=$[1]-$[0],re=[0,g.axisExpandWidth*(g.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:$};var ae=n[y]-g.layoutBase-g.axisExpandWindow0Pos,le,ue="slide",he=g.axisCollapseWidth,_e=this._model.get("axisExpandSlideTriggerArea"),Ce=_e[0]!=null;if(he)Ce&&he&&ae<L*_e[0]?(ue="jump",le=ae-L*_e[2]):Ce&&he&&ae>L*(1-_e[0])?(ue="jump",le=ae-L*(1-_e[2])):(le=ae-L*_e[1])>=0&&(le=ae-L*(1-_e[1]))<=0&&(le=0),le*=g.axisExpandWidth/he,le?sliderMove(le,$,re,"all"):ue="none";else{var $e=$[1]-$[0],Oe=re[1]*ae/$e;$=[mathMax$2(0,Oe-$e/2)],$[1]=mathMin$2(re[1],$[0]+$e),$[0]=$[1]-$e}return{axisExpandWindow:$,behavior:ue}},r}();function restrict(r,n){return mathMin$2(mathMax$2(r,n[0]),n[1])}function layoutAxisWithoutExpand(r,n){var g=n.layoutLength/(n.axisCount-1);return{position:g*r,axisNameAvailableWidth:g,axisLabelShow:!0}}function layoutAxisWithExpand(r,n){var g=n.layoutLength,y=n.axisExpandWidth,$=n.axisCount,L=n.axisCollapseWidth,re=n.winInnerIndices,ae,le=L,ue=!1,he;return r<re[0]?(ae=r*L,he=L):r<=re[1]?(ae=n.axisExpandWindow0Pos+r*y-n.axisExpandWindow[0],le=y,ue=!0):(ae=g-($-1-r)*L,he=L),{position:ae,axisNameAvailableWidth:le,axisLabelShow:ue,nameTruncateMaxWidth:he}}function createParallelCoordSys(r,n){var g=[];return r.eachComponent("parallel",function(y,$){var L=new Parallel(y,r,n);L.name="parallel_"+$,L.resize(y,n),y.coordinateSystem=L,L.model=y,g.push(L)}),r.eachSeries(function(y){if(y.get("coordinateSystem")==="parallel"){var $=y.getReferringComponents("parallel",SINGLE_REFERRING).models[0];y.coordinateSystem=$.coordinateSystem}}),g}var parallelCoordSysCreator={create:createParallelCoordSys},ParallelAxisModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.activeIntervals=[],g}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(g){var y=this.activeIntervals=clone$4(g);if(y)for(var $=y.length-1;$>=0;$--)asc$2(y[$])},n.prototype.getActiveState=function(g){var y=this.activeIntervals;if(!y.length)return"normal";if(g==null||isNaN(+g))return"inactive";if(y.length===1){var $=y[0];if($[0]<=g&&g<=$[1])return"active"}else for(var L=0,re=y.length;L<re;L++)if(y[L][0]<=g&&g<=y[L][1])return"active";return"inactive"},n}(ComponentModel);mixin(ParallelAxisModel,AxisModelCommonMixin);var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(r){__extends$1(n,r);function n(g){var y=r.call(this)||this;return y._track=[],y._covers=[],y._handlers={},y._zr=g,y.group=new Group$3,y._uid="brushController_"+baseUID++,each$f(pointerHandlers,function($,L){this._handlers[L]=bind$1($,this)},y),y}return n.prototype.enableBrush=function(g){return this._brushType&&this._doDisableBrush(),g.brushType&&this._doEnableBrush(g),this},n.prototype._doEnableBrush=function(g){var y=this._zr;this._enableGlobalPan||take(y,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function($,L){y.on(L,$)}),this._brushType=g.brushType,this._brushOption=merge$1(clone$4(DEFAULT_BRUSH_OPT),g,!0)},n.prototype._doDisableBrush=function(){var g=this._zr;release(g,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(y,$){g.off($,y)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(g){if(g&&g.length){var y=this._panels={};each$f(g,function($){y[$.panelId]=clone$4($)})}else this._panels=null;return this},n.prototype.mount=function(g){g=g||{},this._enableGlobalPan=g.enableGlobalPan;var y=this.group;return this._zr.add(y),y.attr({x:g.x||0,y:g.y||0,rotation:g.rotation||0,scaleX:g.scaleX||1,scaleY:g.scaleY||1}),this._transform=y.getLocalTransform(),this},n.prototype.updateCovers=function(g){g=map$1(g,function(Ce){return merge$1(clone$4(DEFAULT_BRUSH_OPT),Ce,!0)});var y="\0-brush-index-",$=this._covers,L=this._covers=[],re=this,ae=this._creatingCover;return new DataDiffer($,g,ue,le).add(he).update(he).remove(_e).execute(),this;function le(Ce,$e){return(Ce.id!=null?Ce.id:y+$e)+"-"+Ce.brushType}function ue(Ce,$e){return le(Ce.__brushOption,$e)}function he(Ce,$e){var Oe=g[Ce];if($e!=null&&$[$e]===ae)L[Ce]=$[$e];else{var xe=L[Ce]=$e!=null?($[$e].__brushOption=Oe,$[$e]):endCreating(re,createCover(re,Oe));updateCoverAfterCreation(re,xe)}}function _e(Ce){$[Ce]!==ae&&re.group.remove($[Ce])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful);function createCover(r,n){var g=coverRenderers[n.brushType].createCover(r,n);return g.__brushOption=n,updateZ$1(g,n),r.group.add(g),g}function endCreating(r,n){var g=getCoverRenderer(n);return g.endCreating&&(g.endCreating(r,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(r,n){var g=n.__brushOption;getCoverRenderer(n).updateCoverShape(r,n,g.range,g)}function updateZ$1(r,n){var g=n.z;g==null&&(g=COVER_Z),r.traverse(function(y){y.z=g,y.z2=g})}function updateCoverAfterCreation(r,n){getCoverRenderer(n).updateCommon(r,n),updateCoverShape(r,n)}function getCoverRenderer(r){return coverRenderers[r.__brushOption.brushType]}function getPanelByPoint(r,n,g){var y=r._panels;if(!y)return BRUSH_PANEL_GLOBAL;var $,L=r._transform;return each$f(y,function(re){re.isTargetByCursor(n,g,L)&&($=re)}),$}function getPanelByCover(r,n){var g=r._panels;if(!g)return BRUSH_PANEL_GLOBAL;var y=n.__brushOption.panelId;return y!=null?g[y]:BRUSH_PANEL_GLOBAL}function clearCovers(r){var n=r._covers,g=n.length;return each$f(n,function(y){r.group.remove(y)},r),n.length=0,!!g}function trigger(r,n){var g=map$1(r._covers,function(y){var $=y.__brushOption,L=clone$4($.range);return{brushType:$.brushType,panelId:$.panelId,range:L}});r.trigger("brush",{areas:g,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(r){var n=r._track;if(!n.length)return!1;var g=n[n.length-1],y=n[0],$=g[0]-y[0],L=g[1]-y[1],re=mathPow($*$+L*L,.5);return re>UNSELECT_THRESHOLD}function getTrackEnds(r){var n=r.length-1;return n<0&&(n=0),[r[0],r[n]]}function createBaseRectCover(r,n,g,y){var $=new Group$3;return $.add(new Rect$2({name:"main",style:makeStyle(g),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,r,n,$,["n","s","w","e"]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$f(y,function(L){$.add(new Rect$2({name:L.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,r,n,$,L),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),$}function updateBaseRect(r,n,g,y){var $=y.brushStyle.lineWidth||0,L=mathMax$1($,MIN_RESIZE_LINE_WIDTH),re=g[0][0],ae=g[1][0],le=re-$/2,ue=ae-$/2,he=g[0][1],_e=g[1][1],Ce=he-L+$/2,$e=_e-L+$/2,Oe=he-re,xe=_e-ae,Ne=Oe+$,Ie=xe+$;updateRectShape(r,n,"main",re,ae,Oe,xe),y.transformable&&(updateRectShape(r,n,"w",le,ue,L,Ie),updateRectShape(r,n,"e",Ce,ue,L,Ie),updateRectShape(r,n,"n",le,ue,Ne,L),updateRectShape(r,n,"s",le,$e,Ne,L),updateRectShape(r,n,"nw",le,ue,L,L),updateRectShape(r,n,"ne",Ce,ue,L,L),updateRectShape(r,n,"sw",le,$e,L,L),updateRectShape(r,n,"se",Ce,$e,L,L))}function updateCommon$1(r,n){var g=n.__brushOption,y=g.transformable,$=n.childAt(0);$.useStyle(makeStyle(g)),$.attr({silent:!y,cursor:y?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(L){var re=n.childOfName(L.join("")),ae=L.length===1?getGlobalDirection1(r,L[0]):getGlobalDirection2(r,L);re&&re.attr({silent:!y,invisible:!y,cursor:y?CURSOR_MAP[ae]+"-resize":null})})}function updateRectShape(r,n,g,y,$,L,re){var ae=n.childOfName(g);ae&&ae.setShape(pointsToRect(clipByPanel(r,n,[[y,$],[y+L,$+re]])))}function makeStyle(r){return defaults$2({strokeNoScale:!0},r.brushStyle)}function formatRectRange(r,n,g,y){var $=[mathMin$1(r,g),mathMin$1(n,y)],L=[mathMax$1(r,g),mathMax$1(n,y)];return[[$[0],L[0]],[$[1],L[1]]]}function getTransform(r){return getTransform$1(r.group)}function getGlobalDirection1(r,n){var g={w:"left",e:"right",n:"top",s:"bottom"},y={left:"w",right:"e",top:"n",bottom:"s"},$=transformDirection(g[n],getTransform(r));return y[$]}function getGlobalDirection2(r,n){var g=[getGlobalDirection1(r,n[0]),getGlobalDirection1(r,n[1])];return(g[0]==="e"||g[0]==="w")&&g.reverse(),g.join("")}function driftRect(r,n,g,y,$,L){var re=g.__brushOption,ae=r.toRectRange(re.range),le=toLocalDelta(n,$,L);each$f(y,function(ue){var he=DIRECTION_MAP[ue];ae[he[0]][he[1]]+=le[he[0]]}),re.range=r.fromRectRange(formatRectRange(ae[0][0],ae[1][0],ae[0][1],ae[1][1])),updateCoverAfterCreation(n,g),trigger(n,{isEnd:!1})}function driftPolygon(r,n,g,y){var $=n.__brushOption.range,L=toLocalDelta(r,g,y);each$f($,function(re){re[0]+=L[0],re[1]+=L[1]}),updateCoverAfterCreation(r,n),trigger(r,{isEnd:!1})}function toLocalDelta(r,n,g){var y=r.group,$=y.transformCoordToLocal(n,g),L=y.transformCoordToLocal(0,0);return[$[0]-L[0],$[1]-L[1]]}function clipByPanel(r,n,g){var y=getPanelByCover(r,n);return y&&y!==BRUSH_PANEL_GLOBAL?y.clipPath(g,r._transform):clone$4(g)}function pointsToRect(r){var n=mathMin$1(r[0][0],r[1][0]),g=mathMin$1(r[0][1],r[1][1]),y=mathMax$1(r[0][0],r[1][0]),$=mathMax$1(r[0][1],r[1][1]);return{x:n,y:g,width:y-n,height:$-g}}function resetCursor(r,n,g){if(!(!r._brushType||isOutsideZrArea(r,n.offsetX,n.offsetY))){var y=r._zr,$=r._covers,L=getPanelByPoint(r,n,g);if(!r._dragging)for(var re=0;re<$.length;re++){var ae=$[re].__brushOption;if(L&&(L===BRUSH_PANEL_GLOBAL||ae.panelId===L.panelId)&&coverRenderers[ae.brushType].contain($[re],g[0],g[1]))return}L&&y.setCursorStyle("crosshair")}}function preventDefault(r){var n=r.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(r,n,g){return r.childOfName("main").contain(n,g)}function updateCoverByMouse(r,n,g,y){var $=r._creatingCover,L=r._creatingPanel,re=r._brushOption,ae;if(r._track.push(g.slice()),shouldShowCover(r)||$){if(L&&!$){re.brushMode==="single"&&clearCovers(r);var le=clone$4(re);le.brushType=determineBrushType(le.brushType,L),le.panelId=L===BRUSH_PANEL_GLOBAL?null:L.panelId,$=r._creatingCover=createCover(r,le),r._covers.push($)}if($){var ue=coverRenderers[determineBrushType(r._brushType,L)],he=$.__brushOption;he.range=ue.getCreatingRange(clipByPanel(r,$,r._track)),y&&(endCreating(r,$),ue.updateCommon(r,$)),updateCoverShape(r,$),ae={isEnd:y}}}else y&&re.brushMode==="single"&&re.removeOnClick&&getPanelByPoint(r,n,g)&&clearCovers(r)&&(ae={isEnd:y,removeOnClick:!0});return ae}function determineBrushType(r,n){return r==="auto"?n.defaultBrushType:r}var pointerHandlers={mousedown:function(r){if(this._dragging)handleDragEnd(this,r);else if(!r.target||!r.target.draggable){preventDefault(r);var n=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var g=this._creatingPanel=getPanelByPoint(this,r,n);g&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(r){var n=r.offsetX,g=r.offsetY,y=this.group.transformCoordToLocal(n,g);if(resetCursor(this,r,y),this._dragging){preventDefault(r);var $=updateCoverByMouse(this,r,y,!1);$&&trigger(this,$)}},mouseup:function(r){handleDragEnd(this,r)}};function handleDragEnd(r,n){if(r._dragging){preventDefault(n);var g=n.offsetX,y=n.offsetY,$=r.group.transformCoordToLocal(g,y),L=updateCoverByMouse(r,n,$,!0);r._dragging=!1,r._track=[],r._creatingCover=null,L&&trigger(r,L)}}function isOutsideZrArea(r,n,g){var y=r._zr;return n<0||n>y.getWidth()||g<0||g>y.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(r,n){function g(y){return y}return createBaseRectCover({toRectRange:g,fromRectRange:g},r,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var n=getTrackEnds(r);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(r,n,g,y){updateBaseRect(r,n,g,y)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(r,n){var g=new Group$3;return g.add(new Polyline$1({name:"main",style:makeStyle(n),silent:!0})),g},getCreatingRange:function(r){return r},endCreating:function(r,n){n.remove(n.childAt(0)),n.add(new Polygon({name:"main",draggable:!0,drift:curry$1(driftPolygon,r,n),ondragend:curry$1(trigger,r,{isEnd:!0})}))},updateCoverShape:function(r,n,g,y){n.childAt(0).setShape({points:clipByPanel(r,n,g)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(r){return{createCover:function(n,g){return createBaseRectCover({toRectRange:function(y){var $=[y,[0,100]];return r&&$.reverse(),$},fromRectRange:function(y){return y[r]}},n,g,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(n){var g=getTrackEnds(n),y=mathMin$1(g[0][r],g[1][r]),$=mathMax$1(g[0][r],g[1][r]);return[y,$]},updateCoverShape:function(n,g,y,$){var L,re=getPanelByCover(n,g);if(re!==BRUSH_PANEL_GLOBAL&&re.getLinearBrushOtherExtent)L=re.getLinearBrushOtherExtent(r);else{var ae=n._zr;L=[0,[ae.getWidth(),ae.getHeight()][1-r]]}var le=[y,L];r&&le.reverse(),updateBaseRect(n,g,le,$)},updateCommon:updateCommon$1,contain:mainShapeContain}}function makeRectPanelClipPath(r){return r=normalizeRect(r),function(n){return clipPointsByRect(n,r)}}function makeLinearBrushOtherExtent(r,n){return r=normalizeRect(r),function(g){var y=n??g,$=y?r.width:r.height,L=y?r.x:r.y;return[L,L+($||0)]}}function makeRectIsTargetByCursor(r,n,g){var y=normalizeRect(r);return function($,L){return y.contain(L[0],L[1])&&!onIrrelevantElement($,n,g)}}function normalizeRect(r){return BoundingRect.create(r)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y){r.prototype.init.apply(this,arguments),(this._brushController=new BrushController(y.getZr())).on("brush",bind$1(this._onBrush,this))},n.prototype.render=function(g,y,$,L){if(!fromAxisAreaSelect(g,y,L)){this.axisModel=g,this.api=$,this.group.removeAll();var re=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!g.get("show")){var ae=getCoordSysModel(g,y),le=ae.coordinateSystem,ue=g.getAreaSelectStyle(),he=ue.width,_e=g.axis.dim,Ce=le.getAxisLayout(_e),$e=extend({strokeContainThreshold:he},Ce),Oe=new AxisBuilder(g,$e);each$f(elementList$1,Oe.add,Oe),this._axisGroup.add(Oe.getGroup()),this._refreshBrushController($e,ue,g,ae,he,$),groupTransition(re,this._axisGroup,g)}}},n.prototype._refreshBrushController=function(g,y,$,L,re,ae){var le=$.axis.getExtent(),ue=le[1]-le[0],he=Math.min(30,Math.abs(ue)*.1),_e=BoundingRect.create({x:le[0],y:-re/2,width:ue,height:re});_e.x-=he,_e.width+=2*he,this._brushController.mount({enableGlobalPan:!0,rotation:g.rotation,x:g.position[0],y:g.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(_e),isTargetByCursor:makeRectIsTargetByCursor(_e,ae,L),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(_e,0)}]).enableBrush({brushType:"lineX",brushStyle:y,removeOnClick:!0}).updateCovers(getCoverInfoList($))},n.prototype._onBrush=function(g){var y=g.areas,$=this.axisModel,L=$.axis,re=map$1(y,function(ae){return[L.coordToData(ae.range[0],!0),L.coordToData(ae.range[1],!0)]});(!$.option.realtime===g.isEnd||g.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:$.id,intervals:re})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView);function fromAxisAreaSelect(r,n,g){return g&&g.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:g})[0]===r}function getCoverInfoList(r){var n=r.axis;return map$1(r.activeIntervals,function(g){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(g[0],!0),n.dataToCoord(g[1],!0)]}})}function getCoordSysModel(r,n){return n.getComponent("parallel",r.get("parallelIndex"))}var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(r){r.registerAction(actionInfo,function(n,g){g.eachComponent({mainType:"parallelAxis",query:n},function(y){y.axis.model.setActiveIntervals(n.intervals)})}),r.registerAction("parallelAxisExpand",function(n,g){g.eachComponent({mainType:"parallel",query:n},function(y){y.setAxisExpand(n)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$D(r){r.registerComponentView(ParallelView),r.registerComponentModel(ParallelModel),r.registerCoordinateSystem("parallel",parallelCoordSysCreator),r.registerPreprocessor(parallelPreprocessor),r.registerComponentModel(ParallelAxisModel),r.registerComponentView(ParallelAxisView),axisModelCreator(r,"parallel",ParallelAxisModel,defaultAxisOption),installParallelActions(r)}function install$C(r){use(install$D),r.registerChartView(ParallelView$1),r.registerSeriesModel(ParallelSeriesModel),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,parallelVisual)}var SankeyPathShape=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),SankeyPath=function(r){__extends$1(n,r);function n(g){return r.call(this,g)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(g,y){var $=y.extent;g.moveTo(y.x1,y.y1),g.bezierCurveTo(y.cpx1,y.cpy1,y.cpx2,y.cpy2,y.x2,y.y2),y.orient==="vertical"?(g.lineTo(y.x2+$,y.y2),g.bezierCurveTo(y.cpx2+$,y.cpy2,y.cpx1+$,y.cpy1,y.x1+$,y.y1)):(g.lineTo(y.x2,y.y2+$),g.bezierCurveTo(y.cpx2,y.cpy2+$,y.cpx1,y.cpy1+$,y.x1,y.y1+$)),g.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path),SankeyView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._focusAdjacencyDisabled=!1,g}return n.prototype.render=function(g,y,$){var L=this,re=g.getGraph(),ae=this.group,le=g.layoutInfo,ue=le.width,he=le.height,_e=g.getData(),Ce=g.getData("edge"),$e=g.get("orient");this._model=g,ae.removeAll(),ae.x=le.x,ae.y=le.y,re.eachEdge(function(Oe){var xe=new SankeyPath,Ne=getECData(xe);Ne.dataIndex=Oe.dataIndex,Ne.seriesIndex=g.seriesIndex,Ne.dataType="edge";var Ie=Oe.getModel(),Fe=Ie.getModel("lineStyle"),Ve=Fe.get("curveness"),ze=Oe.node1.getLayout(),Ue=Oe.node1.getModel(),qe=Ue.get("localX"),kt=Ue.get("localY"),Et=Oe.node2.getLayout(),Pt=Oe.node2.getModel(),At=Pt.get("localX"),Dt=Pt.get("localY"),Lt=Oe.getLayout(),hn,_n,vn,jt,$n,Sn,bn,wn;xe.shape.extent=Math.max(1,Lt.dy),xe.shape.orient=$e,$e==="vertical"?(hn=(qe!=null?qe*ue:ze.x)+Lt.sy,_n=(kt!=null?kt*he:ze.y)+ze.dy,vn=(At!=null?At*ue:Et.x)+Lt.ty,jt=Dt!=null?Dt*he:Et.y,$n=hn,Sn=_n*(1-Ve)+jt*Ve,bn=vn,wn=_n*Ve+jt*(1-Ve)):(hn=(qe!=null?qe*ue:ze.x)+ze.dx,_n=(kt!=null?kt*he:ze.y)+Lt.sy,vn=At!=null?At*ue:Et.x,jt=(Dt!=null?Dt*he:Et.y)+Lt.ty,$n=hn*(1-Ve)+vn*Ve,Sn=_n,bn=hn*Ve+vn*(1-Ve),wn=jt),xe.setShape({x1:hn,y1:_n,x2:vn,y2:jt,cpx1:$n,cpy1:Sn,cpx2:bn,cpy2:wn}),xe.useStyle(Fe.getItemStyle()),applyCurveStyle(xe.style,$e,Oe);var On=""+Ie.get("value"),Tn=getLabelStatesModels(Ie,"edgeLabel");setLabelStyle(xe,Tn,{labelFetcher:{getFormattedLabel:function(An,Rn,Nn,Dn,In,Fn){return g.getFormattedLabel(An,Rn,"edge",Dn,retrieve3(In,Tn.normal&&Tn.normal.get("formatter"),On),Fn)}},labelDataIndex:Oe.dataIndex,defaultText:On}),xe.setTextConfig({position:"inside"});var xn=Ie.getModel("emphasis");setStatesStylesFromModel(xe,Ie,"lineStyle",function(An){var Rn=An.getItemStyle();return applyCurveStyle(Rn,$e,Oe),Rn}),ae.add(xe),Ce.setItemGraphicEl(Oe.dataIndex,xe);var Pn=xn.get("focus");toggleHoverEmphasis(xe,Pn==="adjacency"?Oe.getAdjacentDataIndices():Pn==="trajectory"?Oe.getTrajectoryDataIndices():Pn,xn.get("blurScope"),xn.get("disabled"))}),re.eachNode(function(Oe){var xe=Oe.getLayout(),Ne=Oe.getModel(),Ie=Ne.get("localX"),Fe=Ne.get("localY"),Ve=Ne.getModel("emphasis"),ze=Ne.get(["itemStyle","borderRadius"])||0,Ue=new Rect$2({shape:{x:Ie!=null?Ie*ue:xe.x,y:Fe!=null?Fe*he:xe.y,width:xe.dx,height:xe.dy,r:ze},style:Ne.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(Ue,getLabelStatesModels(Ne),{labelFetcher:{getFormattedLabel:function(kt,Et){return g.getFormattedLabel(kt,Et,"node")}},labelDataIndex:Oe.dataIndex,defaultText:Oe.id}),Ue.disableLabelAnimation=!0,Ue.setStyle("fill",Oe.getVisual("color")),Ue.setStyle("decal",Oe.getVisual("style").decal),setStatesStylesFromModel(Ue,Ne),ae.add(Ue),_e.setItemGraphicEl(Oe.dataIndex,Ue),getECData(Ue).dataType="node";var qe=Ve.get("focus");toggleHoverEmphasis(Ue,qe==="adjacency"?Oe.getAdjacentDataIndices():qe==="trajectory"?Oe.getTrajectoryDataIndices():qe,Ve.get("blurScope"),Ve.get("disabled"))}),_e.eachItemGraphicEl(function(Oe,xe){var Ne=_e.getItemModel(xe);Ne.get("draggable")&&(Oe.drift=function(Ie,Fe){L._focusAdjacencyDisabled=!0,this.shape.x+=Ie,this.shape.y+=Fe,this.dirty(),$.dispatchAction({type:"dragNode",seriesId:g.id,dataIndex:_e.getRawIndex(xe),localX:this.shape.x/ue,localY:this.shape.y/he})},Oe.ondragend=function(){L._focusAdjacencyDisabled=!1},Oe.draggable=!0,Oe.cursor="move")}),!this._data&&g.isAnimationEnabled()&&ae.setClipPath(createGridClipShape$1(ae.getBoundingRect(),g,function(){ae.removeClipPath()})),this._data=g.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView);function applyCurveStyle(r,n,g){switch(r.fill){case"source":r.fill=g.node1.getVisual("color"),r.decal=g.node1.getVisual("style").decal;break;case"target":r.fill=g.node2.getVisual("color"),r.decal=g.node2.getVisual("style").decal;break;case"gradient":var y=g.node1.getVisual("color"),$=g.node2.getVisual("color");isString(y)&&isString($)&&(r.fill=new LinearGradient(0,0,+(n==="horizontal"),+(n==="vertical"),[{color:y,offset:0},{color:$,offset:1}]))}}function createGridClipShape$1(r,n,g){var y=new Rect$2({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps(y,{shape:{width:r.width+20}},n,g),y}var SankeySeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.getInitialData=function(g,y){var $=g.edges||g.links||[],L=g.data||g.nodes||[],re=g.levels||[];this.levelModels=[];for(var ae=this.levelModels,le=0;le<re.length;le++)re[le].depth!=null&&re[le].depth>=0&&(ae[re[le].depth]=new Model(re[le],this,y));var ue=createGraphFromNodeEdge(L,$,this,!0,he);return ue.data;function he(_e,Ce){_e.wrapMethod("getItemModel",function($e,Oe){var xe=$e.parentModel,Ne=xe.getData().getItemLayout(Oe);if(Ne){var Ie=Ne.depth,Fe=xe.levelModels[Ie];Fe&&($e.parentModel=Fe)}return $e}),Ce.wrapMethod("getItemModel",function($e,Oe){var xe=$e.parentModel,Ne=xe.getGraph().getEdgeByIndex(Oe),Ie=Ne.node1.getLayout();if(Ie){var Fe=Ie.depth,Ve=xe.levelModels[Fe];Ve&&($e.parentModel=Ve)}return $e})}},n.prototype.setNodePosition=function(g,y){var $=this.option.data||this.option.nodes,L=$[g];L.localX=y[0],L.localY=y[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(g,y,$){function L($e){return isNaN($e)||$e==null}if($==="edge"){var re=this.getDataParams(g,$),ae=re.data,le=re.value,ue=ae.source+" -- "+ae.target;return createTooltipMarkup("nameValue",{name:ue,value:le,noValue:L(le)})}else{var he=this.getGraph().getNodeByIndex(g),_e=he.getLayout().value,Ce=this.getDataParams(g,$).data.name;return createTooltipMarkup("nameValue",{name:Ce!=null?Ce+"":null,value:_e,noValue:L(_e)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(g,y){var $=r.prototype.getDataParams.call(this,g,y);if($.value==null&&y==="node"){var L=this.getGraph().getNodeByIndex(g),re=L.getLayout().value;$.value=re}return $},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel);function sankeyLayout(r,n){r.eachSeriesByType("sankey",function(g){var y=g.get("nodeWidth"),$=g.get("nodeGap"),L=getViewRect$1(g,n);g.layoutInfo=L;var re=L.width,ae=L.height,le=g.getGraph(),ue=le.nodes,he=le.edges;computeNodeValues(ue);var _e=filter(ue,function(xe){return xe.getLayout().value===0}),Ce=_e.length!==0?0:g.get("layoutIterations"),$e=g.get("orient"),Oe=g.get("nodeAlign");layoutSankey(ue,he,y,$,re,ae,Ce,$e,Oe)})}function getViewRect$1(r,n){return getLayoutRect$1(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(r,n,g,y,$,L,re,ae,le){computeNodeBreadths(r,n,g,$,L,ae,le),computeNodeDepths(r,n,L,$,y,re,ae),computeEdgeDepths(r,ae)}function computeNodeValues(r){each$f(r,function(n){var g=sum(n.outEdges,getEdgeValue),y=sum(n.inEdges,getEdgeValue),$=n.getValue()||0,L=Math.max(g,y,$);n.setLayout({value:L},!0)})}function computeNodeBreadths(r,n,g,y,$,L,re){for(var ae=[],le=[],ue=[],he=[],_e=0,Ce=0;Ce<n.length;Ce++)ae[Ce]=1;for(var Ce=0;Ce<r.length;Ce++)le[Ce]=r[Ce].inEdges.length,le[Ce]===0&&ue.push(r[Ce]);for(var $e=-1;ue.length;){for(var Oe=0;Oe<ue.length;Oe++){var xe=ue[Oe],Ne=xe.hostGraph.data.getRawDataItem(xe.dataIndex),Ie=Ne.depth!=null&&Ne.depth>=0;Ie&&Ne.depth>$e&&($e=Ne.depth),xe.setLayout({depth:Ie?Ne.depth:_e},!0),L==="vertical"?xe.setLayout({dy:g},!0):xe.setLayout({dx:g},!0);for(var Fe=0;Fe<xe.outEdges.length;Fe++){var Ve=xe.outEdges[Fe],ze=n.indexOf(Ve);ae[ze]=0;var Ue=Ve.node2,qe=r.indexOf(Ue);--le[qe]===0&&he.indexOf(Ue)<0&&he.push(Ue)}}++_e,ue=he,he=[]}for(var Ce=0;Ce<ae.length;Ce++)if(ae[Ce]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var kt=$e>_e-1?$e:_e-1;re&&re!=="left"&&adjustNodeWithNodeAlign(r,re,L,kt);var Et=L==="vertical"?($-g)/kt:(y-g)/kt;scaleNodeBreadths(r,Et,L)}function isNodeDepth(r){var n=r.hostGraph.data.getRawDataItem(r.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(r,n,g,y){if(n==="right"){for(var $=[],L=r,re=0;L.length;){for(var ae=0;ae<L.length;ae++){var le=L[ae];le.setLayout({skNodeHeight:re},!0);for(var ue=0;ue<le.inEdges.length;ue++){var he=le.inEdges[ue];$.indexOf(he.node1)<0&&$.push(he.node1)}}L=$,$=[],++re}each$f(r,function(_e){isNodeDepth(_e)||_e.setLayout({depth:Math.max(0,y-_e.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight(r,y)}function moveSinksRight(r,n){each$f(r,function(g){!isNodeDepth(g)&&!g.outEdges.length&&g.setLayout({depth:n},!0)})}function scaleNodeBreadths(r,n,g){each$f(r,function(y){var $=y.getLayout().depth*n;g==="vertical"?y.setLayout({y:$},!0):y.setLayout({x:$},!0)})}function computeNodeDepths(r,n,g,y,$,L,re){var ae=prepareNodesByBreadth(r,re);initializeNodeDepth(ae,n,g,y,$,re),resolveCollisions(ae,$,g,y,re);for(var le=1;L>0;L--)le*=.99,relaxRightToLeft(ae,le,re),resolveCollisions(ae,$,g,y,re),relaxLeftToRight(ae,le,re),resolveCollisions(ae,$,g,y,re)}function prepareNodesByBreadth(r,n){var g=[],y=n==="vertical"?"y":"x",$=groupData(r,function(L){return L.getLayout()[y]});return $.keys.sort(function(L,re){return L-re}),each$f($.keys,function(L){g.push($.buckets.get(L))}),g}function initializeNodeDepth(r,n,g,y,$,L){var re=1/0;each$f(r,function(ae){var le=ae.length,ue=0;each$f(ae,function(_e){ue+=_e.getLayout().value});var he=L==="vertical"?(y-(le-1)*$)/ue:(g-(le-1)*$)/ue;he<re&&(re=he)}),each$f(r,function(ae){each$f(ae,function(le,ue){var he=le.getLayout().value*re;L==="vertical"?(le.setLayout({x:ue},!0),le.setLayout({dx:he},!0)):(le.setLayout({y:ue},!0),le.setLayout({dy:he},!0))})}),each$f(n,function(ae){var le=+ae.getValue()*re;ae.setLayout({dy:le},!0)})}function resolveCollisions(r,n,g,y,$){var L=$==="vertical"?"x":"y";each$f(r,function(re){re.sort(function(xe,Ne){return xe.getLayout()[L]-Ne.getLayout()[L]});for(var ae,le,ue,he=0,_e=re.length,Ce=$==="vertical"?"dx":"dy",$e=0;$e<_e;$e++)le=re[$e],ue=he-le.getLayout()[L],ue>0&&(ae=le.getLayout()[L]+ue,$==="vertical"?le.setLayout({x:ae},!0):le.setLayout({y:ae},!0)),he=le.getLayout()[L]+le.getLayout()[Ce]+n;var Oe=$==="vertical"?y:g;if(ue=he-n-Oe,ue>0){ae=le.getLayout()[L]-ue,$==="vertical"?le.setLayout({x:ae},!0):le.setLayout({y:ae},!0),he=ae;for(var $e=_e-2;$e>=0;--$e)le=re[$e],ue=le.getLayout()[L]+le.getLayout()[Ce]+n-he,ue>0&&(ae=le.getLayout()[L]-ue,$==="vertical"?le.setLayout({x:ae},!0):le.setLayout({y:ae},!0)),he=le.getLayout()[L]}})}function relaxRightToLeft(r,n,g){each$f(r.slice().reverse(),function(y){each$f(y,function($){if($.outEdges.length){var L=sum($.outEdges,weightedTarget,g)/sum($.outEdges,getEdgeValue);if(isNaN(L)){var re=$.outEdges.length;L=re?sum($.outEdges,centerTarget,g)/re:0}if(g==="vertical"){var ae=$.getLayout().x+(L-center($,g))*n;$.setLayout({x:ae},!0)}else{var le=$.getLayout().y+(L-center($,g))*n;$.setLayout({y:le},!0)}}})})}function weightedTarget(r,n){return center(r.node2,n)*r.getValue()}function centerTarget(r,n){return center(r.node2,n)}function weightedSource(r,n){return center(r.node1,n)*r.getValue()}function centerSource(r,n){return center(r.node1,n)}function center(r,n){return n==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function getEdgeValue(r){return r.getValue()}function sum(r,n,g){for(var y=0,$=r.length,L=-1;++L<$;){var re=+n(r[L],g);isNaN(re)||(y+=re)}return y}function relaxLeftToRight(r,n,g){each$f(r,function(y){each$f(y,function($){if($.inEdges.length){var L=sum($.inEdges,weightedSource,g)/sum($.inEdges,getEdgeValue);if(isNaN(L)){var re=$.inEdges.length;L=re?sum($.inEdges,centerSource,g)/re:0}if(g==="vertical"){var ae=$.getLayout().x+(L-center($,g))*n;$.setLayout({x:ae},!0)}else{var le=$.getLayout().y+(L-center($,g))*n;$.setLayout({y:le},!0)}}})})}function computeEdgeDepths(r,n){var g=n==="vertical"?"x":"y";each$f(r,function(y){y.outEdges.sort(function($,L){return $.node2.getLayout()[g]-L.node2.getLayout()[g]}),y.inEdges.sort(function($,L){return $.node1.getLayout()[g]-L.node1.getLayout()[g]})}),each$f(r,function(y){var $=0,L=0;each$f(y.outEdges,function(re){re.setLayout({sy:$},!0),$+=re.getLayout().dy}),each$f(y.inEdges,function(re){re.setLayout({ty:L},!0),L+=re.getLayout().dy})})}function sankeyVisual(r){r.eachSeriesByType("sankey",function(n){var g=n.getGraph(),y=g.nodes,$=g.edges;if(y.length){var L=1/0,re=-1/0;each$f(y,function(ae){var le=ae.getLayout().value;le<L&&(L=le),le>re&&(re=le)}),each$f(y,function(ae){var le=new VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[L,re],visual:n.get("color")}),ue=le.mapValueToVisual(ae.getLayout().value),he=ae.getModel().get(["itemStyle","color"]);he!=null?(ae.setVisual("color",he),ae.setVisual("style",{fill:he})):(ae.setVisual("color",ue),ae.setVisual("style",{fill:ue}))})}$.length&&each$f($,function(ae){var le=ae.getModel().get("lineStyle");ae.setVisual("style",le)})})}function install$B(r){r.registerChartView(SankeyView),r.registerSeriesModel(SankeySeriesModel),r.registerLayout(sankeyLayout),r.registerVisual(sankeyVisual),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,g){g.eachComponent({mainType:"series",subType:"sankey",query:n},function(y){y.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin=function(){function r(){}return r.prototype._hasEncodeRule=function(n){var g=this.getEncode();return g&&g.get(n)!=null},r.prototype.getInitialData=function(n,g){var y,$=g.getComponent("xAxis",this.get("xAxisIndex")),L=g.getComponent("yAxis",this.get("yAxisIndex")),re=$.get("type"),ae=L.get("type"),le;re==="category"?(n.layout="horizontal",y=$.getOrdinalMeta(),le=!this._hasEncodeRule("x")):ae==="category"?(n.layout="vertical",y=L.getOrdinalMeta(),le=!this._hasEncodeRule("y")):n.layout=n.layout||"horizontal";var ue=["x","y"],he=n.layout==="horizontal"?0:1,_e=this._baseAxisDim=ue[he],Ce=ue[1-he],$e=[$,L],Oe=$e[he].get("type"),xe=$e[1-he].get("type"),Ne=n.data;if(Ne&&le){var Ie=[];each$f(Ne,function(ze,Ue){var qe;isArray$2(ze)?(qe=ze.slice(),ze.unshift(Ue)):isArray$2(ze.value)?(qe=extend({},ze),qe.value=qe.value.slice(),ze.value.unshift(Ue)):qe=ze,Ie.push(qe)}),n.data=Ie}var Fe=this.defaultValueDimensions,Ve=[{name:_e,type:getDimensionTypeByAxis(Oe),ordinalMeta:y,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:Ce,type:getDimensionTypeByAxis(xe),dimsDef:Fe.slice()}];return createSeriesDataSimply(this,{coordDimensions:Ve,dimensionsCount:Fe.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,Ve,this)})},r.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},r}(),BoxplotSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],g.visualDrawType="stroke",g}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=g.getData(),re=this.group,ae=this._data;this._data||re.removeAll();var le=g.get("layout")==="horizontal"?1:0;L.diff(ae).add(function(ue){if(L.hasValue(ue)){var he=L.getItemLayout(ue),_e=createNormalBox$1(he,L,ue,le,!0);L.setItemGraphicEl(ue,_e),re.add(_e)}}).update(function(ue,he){var _e=ae.getItemGraphicEl(he);if(!L.hasValue(ue)){re.remove(_e);return}var Ce=L.getItemLayout(ue);_e?(saveOldStyle(_e),updateNormalBoxData(Ce,_e,L,ue)):_e=createNormalBox$1(Ce,L,ue,le),re.add(_e),L.setItemGraphicEl(ue,_e)}).remove(function(ue){var he=ae.getItemGraphicEl(ue);he&&re.remove(he)}).execute(),this._data=L},n.prototype.remove=function(g){var y=this.group,$=this._data;this._data=null,$&&$.eachItemGraphicEl(function(L){L&&y.remove(L)})},n.type="boxplot",n}(ChartView),BoxPathShape=function(){function r(){}return r}(),BoxPath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="boxplotBoxPath",y}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(g,y){var $=y.points,L=0;for(g.moveTo($[L][0],$[L][1]),L++;L<4;L++)g.lineTo($[L][0],$[L][1]);for(g.closePath();L<$.length;L++)g.moveTo($[L][0],$[L][1]),L++,g.lineTo($[L][0],$[L][1])},n}(Path);function createNormalBox$1(r,n,g,y,$){var L=r.ends,re=new BoxPath({shape:{points:$?transInit$1(L,y,r):L}});return updateNormalBoxData(r,re,n,g,$),re}function updateNormalBoxData(r,n,g,y,$){var L=g.hostModel,re=graphic$1[$?"initProps":"updateProps"];re(n,{shape:{points:r.ends}},L,y),n.useStyle(g.getItemVisual(y,"style")),n.style.strokeNoScale=!0,n.z2=100;var ae=g.getItemModel(y),le=ae.getModel("emphasis");setStatesStylesFromModel(n,ae),toggleHoverEmphasis(n,le.get("focus"),le.get("blurScope"),le.get("disabled"))}function transInit$1(r,n,g){return map$1(r,function(y){return y=y.slice(),y[n]=g.initBaseline,y})}var each$9=each$f;function boxplotLayout(r){var n=groupSeriesByAxis(r);each$9(n,function(g){var y=g.seriesModels;y.length&&(calculateBase(g),each$9(y,function($,L){layoutSingleSeries($,g.boxOffsetList[L],g.boxWidthList[L])}))})}function groupSeriesByAxis(r){var n=[],g=[];return r.eachSeriesByType("boxplot",function(y){var $=y.getBaseAxis(),L=indexOf(g,$);L<0&&(L=g.length,g[L]=$,n[L]={axis:$,seriesModels:[]}),n[L].seriesModels.push(y)}),n}function calculateBase(r){var n=r.axis,g=r.seriesModels,y=g.length,$=r.boxWidthList=[],L=r.boxOffsetList=[],re=[],ae;if(n.type==="category")ae=n.getBandWidth();else{var le=0;each$9(g,function(Oe){le=Math.max(le,Oe.getData().count())});var ue=n.getExtent();ae=Math.abs(ue[1]-ue[0])/le}each$9(g,function(Oe){var xe=Oe.get("boxWidth");isArray$2(xe)||(xe=[xe,xe]),re.push([parsePercent(xe[0],ae)||0,parsePercent(xe[1],ae)||0])});var he=ae*.8-2,_e=he/y*.3,Ce=(he-_e*(y-1))/y,$e=Ce/2-he/2;each$9(g,function(Oe,xe){L.push($e),$e+=_e+Ce,$.push(Math.min(Math.max(Ce,re[xe][0]),re[xe][1]))})}function layoutSingleSeries(r,n,g){var y=r.coordinateSystem,$=r.getData(),L=g/2,re=r.get("layout")==="horizontal"?0:1,ae=1-re,le=["x","y"],ue=$.mapDimension(le[re]),he=$.mapDimensionsAll(le[ae]);if(ue==null||he.length<5)return;for(var _e=0;_e<$.count();_e++){var Ce=$.get(ue,_e),$e=Ve(Ce,he[2],_e),Oe=Ve(Ce,he[0],_e),xe=Ve(Ce,he[1],_e),Ne=Ve(Ce,he[3],_e),Ie=Ve(Ce,he[4],_e),Fe=[];ze(Fe,xe,!1),ze(Fe,Ne,!0),Fe.push(Oe,xe,Ie,Ne),Ue(Fe,Oe),Ue(Fe,Ie),Ue(Fe,$e),$.setItemLayout(_e,{initBaseline:$e[ae],ends:Fe})}function Ve(qe,kt,Et){var Pt=$.get(kt,Et),At=[];At[re]=qe,At[ae]=Pt;var Dt;return isNaN(qe)||isNaN(Pt)?Dt=[NaN,NaN]:(Dt=y.dataToPoint(At),Dt[re]+=n),Dt}function ze(qe,kt,Et){var Pt=kt.slice(),At=kt.slice();Pt[re]+=L,At[re]-=L,Et?qe.push(Pt,At):qe.push(At,Pt)}function Ue(qe,kt){var Et=kt.slice(),Pt=kt.slice();Et[re]-=L,Pt[re]+=L,qe.push(Et,Pt)}}function prepareBoxplotData(r,n){n=n||{};for(var g=[],y=[],$=n.boundIQR,L=$==="none"||$===0,re=0;re<r.length;re++){var ae=asc$2(r[re].slice()),le=quantile(ae,.25),ue=quantile(ae,.5),he=quantile(ae,.75),_e=ae[0],Ce=ae[ae.length-1],$e=($??1.5)*(he-le),Oe=L?_e:Math.max(_e,le-$e),xe=L?Ce:Math.min(Ce,he+$e),Ne=n.itemNameFormatter,Ie=isFunction(Ne)?Ne({value:re}):isString(Ne)?Ne.replace("{value}",re+""):re+"";g.push([Ie,Oe,le,ue,he,xe]);for(var Fe=0;Fe<ae.length;Fe++){var Ve=ae[Fe];if(Ve<Oe||Ve>xe){var ze=[Ie,Ve];y.push(ze)}}}return{boxData:g,outliers:y}}var boxplotTransform={type:"echarts:boxplot",transform:function r(n){var g=n.upstream;if(g.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var y="";throwError(y)}var $=prepareBoxplotData(g.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:$.boxData},{data:$.outliers}]}};function install$A(r){r.registerSeriesModel(BoxplotSeriesModel),r.registerChartView(BoxplotView),r.registerLayout(boxplotLayout),r.registerTransform(boxplotTransform)}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(r,n){return n.get(r>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(r,n){return n.get(r===0?dojiBorderColorQuery:r>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(r,n){if(!n.isSeriesFiltered(r)){var g=r.pipelineContext.large;return!g&&{progress:function(y,$){for(var L;(L=y.next())!=null;){var re=$.getItemModel(L),ae=$.getItemLayout(L).sign,le=re.getItemStyle();le.fill=getColor(ae,re),le.stroke=getBorderColor(ae,re)||le.fill;var ue=$.ensureUniqueItemVisual(L,"style");extend(ue,le)}}}}}},SKIP_PROPS=["color","borderColor"],CandlestickView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(g),this._isLargeDraw?this._renderLarge(g):this._renderNormal(g)},n.prototype.incrementalPrepareRender=function(g,y,$){this._clear(),this._updateDrawMode(g)},n.prototype.incrementalRender=function(g,y,$,L){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(g,y):this._incrementalRenderNormal(g,y)},n.prototype.eachRendered=function(g){traverseElements(this._progressiveEls||this.group,g)},n.prototype._updateDrawMode=function(g){var y=g.pipelineContext.large;(this._isLargeDraw==null||y!==this._isLargeDraw)&&(this._isLargeDraw=y,this._clear())},n.prototype._renderNormal=function(g){var y=g.getData(),$=this._data,L=this.group,re=y.getLayout("isSimpleBox"),ae=g.get("clip",!0),le=g.coordinateSystem,ue=le.getArea&&le.getArea();this._data||L.removeAll(),y.diff($).add(function(he){if(y.hasValue(he)){var _e=y.getItemLayout(he);if(ae&&isNormalBoxClipped(ue,_e))return;var Ce=createNormalBox(_e,he,!0);initProps(Ce,{shape:{points:_e.ends}},g,he),setBoxCommon(Ce,y,he,re),L.add(Ce),y.setItemGraphicEl(he,Ce)}}).update(function(he,_e){var Ce=$.getItemGraphicEl(_e);if(!y.hasValue(he)){L.remove(Ce);return}var $e=y.getItemLayout(he);if(ae&&isNormalBoxClipped(ue,$e)){L.remove(Ce);return}Ce?(updateProps$1(Ce,{shape:{points:$e.ends}},g,he),saveOldStyle(Ce)):Ce=createNormalBox($e),setBoxCommon(Ce,y,he,re),L.add(Ce),y.setItemGraphicEl(he,Ce)}).remove(function(he){var _e=$.getItemGraphicEl(he);_e&&L.remove(_e)}).execute(),this._data=y},n.prototype._renderLarge=function(g){this._clear(),createLarge(g,this.group);var y=g.get("clip",!0)?createClipPath(g.coordinateSystem,!1,g):null;y?this.group.setClipPath(y):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(g,y){for(var $=y.getData(),L=$.getLayout("isSimpleBox"),re;(re=g.next())!=null;){var ae=$.getItemLayout(re),le=createNormalBox(ae);setBoxCommon(le,$,re,L),le.incremental=!0,this.group.add(le),this._progressiveEls.push(le)}},n.prototype._incrementalRenderLarge=function(g,y){createLarge(y,this.group,this._progressiveEls,!0)},n.prototype.remove=function(g){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView),NormalBoxPathShape=function(){function r(){}return r}(),NormalBoxPath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="normalCandlestickBox",y}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(g,y){var $=y.points;this.__simpleBox?(g.moveTo($[4][0],$[4][1]),g.lineTo($[6][0],$[6][1])):(g.moveTo($[0][0],$[0][1]),g.lineTo($[1][0],$[1][1]),g.lineTo($[2][0],$[2][1]),g.lineTo($[3][0],$[3][1]),g.closePath(),g.moveTo($[4][0],$[4][1]),g.lineTo($[5][0],$[5][1]),g.moveTo($[6][0],$[6][1]),g.lineTo($[7][0],$[7][1]))},n}(Path);function createNormalBox(r,n,g){var y=r.ends;return new NormalBoxPath({shape:{points:g?transInit(y,r):y},z2:100})}function isNormalBoxClipped(r,n){for(var g=!0,y=0;y<n.ends.length;y++)if(r.contain(n.ends[y][0],n.ends[y][1])){g=!1;break}return g}function setBoxCommon(r,n,g,y){var $=n.getItemModel(g);r.useStyle(n.getItemVisual(g,"style")),r.style.strokeNoScale=!0,r.__simpleBox=y,setStatesStylesFromModel(r,$);var L=n.getItemLayout(g).sign;each$f(r.states,function(ae,le){var ue=$.getModel(le),he=getColor(L,ue),_e=getBorderColor(L,ue)||he,Ce=ae.style||(ae.style={});he&&(Ce.fill=he),_e&&(Ce.stroke=_e)});var re=$.getModel("emphasis");toggleHoverEmphasis(r,re.get("focus"),re.get("blurScope"),re.get("disabled"))}function transInit(r,n){return map$1(r,function(g){return g=g.slice(),g[1]=n.initBaseline,g})}var LargeBoxPathShape=function(){function r(){}return r}(),LargeBoxPath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y.type="largeCandlestickBox",y}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(g,y){for(var $=y.points,L=0;L<$.length;)if(this.__sign===$[L++]){var re=$[L++];g.moveTo(re,$[L++]),g.lineTo(re,$[L++])}else L+=3},n}(Path);function createLarge(r,n,g,y){var $=r.getData(),L=$.getLayout("largePoints"),re=new LargeBoxPath({shape:{points:L},__sign:1,ignoreCoarsePointer:!0});n.add(re);var ae=new LargeBoxPath({shape:{points:L},__sign:-1,ignoreCoarsePointer:!0});n.add(ae);var le=new LargeBoxPath({shape:{points:L},__sign:0,ignoreCoarsePointer:!0});n.add(le),setLargeStyle(1,re,r),setLargeStyle(-1,ae,r),setLargeStyle(0,le,r),y&&(re.incremental=!0,ae.incremental=!0),g&&g.push(re,ae)}function setLargeStyle(r,n,g,y){var $=getBorderColor(r,g)||getColor(r,g),L=g.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle(L),n.style.fill=null,n.style.stroke=$}var CandlestickSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],g}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(g,y,$){var L=y.getItemLayout(g);return L&&$.rect(L.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);function candlestickPreprocessor(r){!r||!isArray$2(r.series)||each$f(r.series,function(n){isObject$3(n)&&n.type==="k"&&(n.type="candlestick")})}var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(r){var n=r.coordinateSystem,g=r.getData(),y=calculateCandleWidth(r,g),$=0,L=1,re=["x","y"],ae=g.getDimensionIndex(g.mapDimension(re[$])),le=map$1(g.mapDimensionsAll(re[L]),g.getDimensionIndex,g),ue=le[0],he=le[1],_e=le[2],Ce=le[3];if(g.setLayout({candleWidth:y,isSimpleBox:y<=1.3}),ae<0||le.length<4)return;return{progress:r.pipelineContext.large?Oe:$e};function $e(xe,Ne){for(var Ie,Fe=Ne.getStore();(Ie=xe.next())!=null;){var Ve=Fe.get(ae,Ie),ze=Fe.get(ue,Ie),Ue=Fe.get(he,Ie),qe=Fe.get(_e,Ie),kt=Fe.get(Ce,Ie),Et=Math.min(ze,Ue),Pt=Math.max(ze,Ue),At=$n(Et,Ve),Dt=$n(Pt,Ve),Lt=$n(qe,Ve),hn=$n(kt,Ve),_n=[];Sn(_n,Dt,0),Sn(_n,At,1),_n.push(wn(hn),wn(Dt),wn(Lt),wn(At));var vn=Ne.getItemModel(Ie),jt=!!vn.get(["itemStyle","borderColorDoji"]);Ne.setItemLayout(Ie,{sign:getSign(Fe,Ie,ze,Ue,he,jt),initBaseline:ze>Ue?Dt[L]:At[L],ends:_n,brushRect:bn(qe,kt,Ve)})}function $n(On,Tn){var xn=[];return xn[$]=Tn,xn[L]=On,isNaN(Tn)||isNaN(On)?[NaN,NaN]:n.dataToPoint(xn)}function Sn(On,Tn,xn){var Pn=Tn.slice(),An=Tn.slice();Pn[$]=subPixelOptimize(Pn[$]+y/2,1,!1),An[$]=subPixelOptimize(An[$]-y/2,1,!0),xn?On.push(Pn,An):On.push(An,Pn)}function bn(On,Tn,xn){var Pn=$n(On,xn),An=$n(Tn,xn);return Pn[$]-=y/2,An[$]-=y/2,{x:Pn[0],y:Pn[1],width:y,height:An[1]-Pn[1]}}function wn(On){return On[$]=subPixelOptimize(On[$],1),On}}function Oe(xe,Ne){for(var Ie=createFloat32Array(xe.count*4),Fe=0,Ve,ze=[],Ue=[],qe,kt=Ne.getStore(),Et=!!r.get(["itemStyle","borderColorDoji"]);(qe=xe.next())!=null;){var Pt=kt.get(ae,qe),At=kt.get(ue,qe),Dt=kt.get(he,qe),Lt=kt.get(_e,qe),hn=kt.get(Ce,qe);if(isNaN(Pt)||isNaN(Lt)||isNaN(hn)){Ie[Fe++]=NaN,Fe+=3;continue}Ie[Fe++]=getSign(kt,qe,At,Dt,he,Et),ze[$]=Pt,ze[L]=Lt,Ve=n.dataToPoint(ze,null,Ue),Ie[Fe++]=Ve?Ve[0]:NaN,Ie[Fe++]=Ve?Ve[1]:NaN,ze[L]=hn,Ve=n.dataToPoint(ze,null,Ue),Ie[Fe++]=Ve?Ve[1]:NaN}Ne.setLayout("largePoints",Ie)}}};function getSign(r,n,g,y,$,L){var re;return g>y?re=-1:g<y?re=1:re=L?0:n>0?r.get($,n-1)<=y?1:-1:1,re}function calculateCandleWidth(r,n){var g=r.getBaseAxis(),y,$=g.type==="category"?g.getBandWidth():(y=g.getExtent(),Math.abs(y[1]-y[0])/n.count()),L=parsePercent(retrieve2(r.get("barMaxWidth"),$),$),re=parsePercent(retrieve2(r.get("barMinWidth"),1),$),ae=r.get("barWidth");return ae!=null?parsePercent(ae,$):Math.max(Math.min($/2,L),re)}function install$z(r){r.registerChartView(CandlestickView),r.registerSeriesModel(CandlestickSeriesModel),r.registerPreprocessor(candlestickPreprocessor),r.registerVisual(candlestickVisual),r.registerLayout(candlestickLayout)}function updateRipplePath(r,n){var g=n.rippleEffectColor||n.color;r.eachChild(function(y){y.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?g:null,fill:n.brushType==="fill"?g:null}})})}var EffectSymbol=function(r){__extends$1(n,r);function n(g,y){var $=r.call(this)||this,L=new Symbol$1(g,y),re=new Group$3;return $.add(L),$.add(re),$.updateData(g,y),$}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(g){for(var y=g.symbolType,$=g.color,L=g.rippleNumber,re=this.childAt(1),ae=0;ae<L;ae++){var le=createSymbol$1(y,-1,-1,2,2,$);le.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var ue=-ae/L*g.period+g.effectOffset;le.animate("",!0).when(g.period,{scaleX:g.rippleScale/2,scaleY:g.rippleScale/2}).delay(ue).start(),le.animateStyle(!0).when(g.period,{opacity:0}).delay(ue).start(),re.add(le)}updateRipplePath(re,g)},n.prototype.updateEffectAnimation=function(g){for(var y=this._effectCfg,$=this.childAt(1),L=["symbolType","period","rippleScale","rippleNumber"],re=0;re<L.length;re++){var ae=L[re];if(y[ae]!==g[ae]){this.stopEffectAnimation(),this.startEffectAnimation(g);return}}updateRipplePath($,g)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var g=this.childAt(0);return g&&g.getSymbolType()},n.prototype.updateData=function(g,y){var $=this,L=g.hostModel;this.childAt(0).updateData(g,y);var re=this.childAt(1),ae=g.getItemModel(y),le=g.getItemVisual(y,"symbol"),ue=normalizeSymbolSize(g.getItemVisual(y,"symbolSize")),he=g.getItemVisual(y,"style"),_e=he&&he.fill,Ce=ae.getModel("emphasis");re.setScale(ue),re.traverse(function(Ne){Ne.setStyle("fill",_e)});var $e=normalizeSymbolOffset(g.getItemVisual(y,"symbolOffset"),ue);$e&&(re.x=$e[0],re.y=$e[1]);var Oe=g.getItemVisual(y,"symbolRotate");re.rotation=(Oe||0)*Math.PI/180||0;var xe={};xe.showEffectOn=L.get("showEffectOn"),xe.rippleScale=ae.get(["rippleEffect","scale"]),xe.brushType=ae.get(["rippleEffect","brushType"]),xe.period=ae.get(["rippleEffect","period"])*1e3,xe.effectOffset=y/g.count(),xe.z=L.getShallow("z")||0,xe.zlevel=L.getShallow("zlevel")||0,xe.symbolType=le,xe.color=_e,xe.rippleEffectColor=ae.get(["rippleEffect","color"]),xe.rippleNumber=ae.get(["rippleEffect","number"]),xe.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(xe):this.startEffectAnimation(xe),this._effectCfg=xe):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(Ne){Ne==="emphasis"?xe.showEffectOn!=="render"&&$.startEffectAnimation(xe):Ne==="normal"&&xe.showEffectOn!=="render"&&$.stopEffectAnimation()}),this._effectCfg=xe,toggleHoverEmphasis(this,Ce.get("focus"),Ce.get("blurScope"),Ce.get("disabled"))},n.prototype.fadeOut=function(g){g&&g()},n}(Group$3),EffectScatterView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},n.prototype.render=function(g,y,$){var L=g.getData(),re=this._symbolDraw;re.updateData(L,{clipShape:this._getClipShape(g)}),this.group.add(re.group)},n.prototype._getClipShape=function(g){var y=g.coordinateSystem,$=y&&y.getArea&&y.getArea();return g.get("clip",!0)?$:null},n.prototype.updateTransform=function(g,y,$){var L=g.getData();this.group.dirty();var re=pointsLayout("").reset(g,y,$);re.progress&&re.progress({start:0,end:L.count(),count:L.count()},L),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(g){var y=g.coordinateSystem;y&&y.getRoamTransform&&(this.group.transform=clone$2(y.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(g,y){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView),EffectScatterSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.hasSymbolVisual=!0,g}return n.prototype.getInitialData=function(g,y){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(g,y,$){return $.point(y.getItemLayout(g))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel);function install$y(r){r.registerChartView(EffectScatterView),r.registerSeriesModel(EffectScatterSeriesModel),r.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this)||this;return L.add(L.createLine(g,y,$)),L._updateEffectSymbol(g,y),L}return n.prototype.createLine=function(g,y,$){return new Line$1(g,y,$)},n.prototype._updateEffectSymbol=function(g,y){var $=g.getItemModel(y),L=$.getModel("effect"),re=L.get("symbolSize"),ae=L.get("symbol");isArray$2(re)||(re=[re,re]);var le=g.getItemVisual(y,"style"),ue=L.get("color")||le&&le.stroke,he=this.childAt(1);this._symbolType!==ae&&(this.remove(he),he=createSymbol$1(ae,-.5,-.5,1,1,ue),he.z2=100,he.culling=!0,this.add(he)),he&&(he.setStyle("shadowColor",ue),he.setStyle(L.getItemStyle(["color"])),he.scaleX=re[0],he.scaleY=re[1],he.setColor(ue),this._symbolType=ae,this._symbolScale=re,this._updateEffectAnimation(g,L,y))},n.prototype._updateEffectAnimation=function(g,y,$){var L=this.childAt(1);if(L){var re=g.getItemLayout($),ae=y.get("period")*1e3,le=y.get("loop"),ue=y.get("roundTrip"),he=y.get("constantSpeed"),_e=retrieve(y.get("delay"),function($e){return $e/g.count()*ae/3});if(L.ignore=!0,this._updateAnimationPoints(L,re),he>0&&(ae=this._getLineLength(L)/he*1e3),ae!==this._period||le!==this._loop||ue!==this._roundTrip){L.stopAnimation();var Ce=void 0;isFunction(_e)?Ce=_e($):Ce=_e,L.__t>0&&(Ce=-ae*L.__t),this._animateSymbol(L,ae,Ce,le,ue)}this._period=ae,this._loop=le,this._roundTrip=ue}},n.prototype._animateSymbol=function(g,y,$,L,re){if(y>0){g.__t=0;var ae=this,le=g.animate("",L).when(re?y*2:y,{__t:re?2:1}).delay($).during(function(){ae._updateSymbolPosition(g)});L||le.done(function(){ae.remove(g)}),le.start()}},n.prototype._getLineLength=function(g){return dist$2(g.__p1,g.__cp1)+dist$2(g.__cp1,g.__p2)},n.prototype._updateAnimationPoints=function(g,y){g.__p1=y[0],g.__p2=y[1],g.__cp1=y[2]||[(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2]},n.prototype.updateData=function(g,y,$){this.childAt(0).updateData(g,y,$),this._updateEffectSymbol(g,y)},n.prototype._updateSymbolPosition=function(g){var y=g.__p1,$=g.__p2,L=g.__cp1,re=g.__t<1?g.__t:2-g.__t,ae=[g.x,g.y],le=ae.slice(),ue=quadraticAt$1,he=quadraticDerivativeAt;ae[0]=ue(y[0],L[0],$[0],re),ae[1]=ue(y[1],L[1],$[1],re);var _e=g.__t<1?he(y[0],L[0],$[0],re):he($[0],L[0],y[0],1-re),Ce=g.__t<1?he(y[1],L[1],$[1],re):he($[1],L[1],y[1],1-re);g.rotation=-Math.atan2(Ce,_e)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(g.__lastT!==void 0&&g.__lastT<g.__t?(g.scaleY=dist$2(le,ae)*1.05,re===1&&(ae[0]=le[0]+(ae[0]-le[0])/2,ae[1]=le[1]+(ae[1]-le[1])/2)):g.__lastT===1?g.scaleY=2*dist$2(y,ae):g.scaleY=this._symbolScale[1]),g.__lastT=g.__t,g.ignore=!1,g.x=ae[0],g.y=ae[1]},n.prototype.updateLayout=function(g,y){this.childAt(0).updateLayout(g,y);var $=g.getItemModel(y).getModel("effect");this._updateEffectAnimation(g,$,y)},n}(Group$3),Polyline=function(r){__extends$1(n,r);function n(g,y,$){var L=r.call(this)||this;return L._createPolyline(g,y,$),L}return n.prototype._createPolyline=function(g,y,$){var L=g.getItemLayout(y),re=new Polyline$1({shape:{points:L}});this.add(re),this._updateCommonStl(g,y,$)},n.prototype.updateData=function(g,y,$){var L=g.hostModel,re=this.childAt(0),ae={shape:{points:g.getItemLayout(y)}};updateProps$1(re,ae,L,y),this._updateCommonStl(g,y,$)},n.prototype._updateCommonStl=function(g,y,$){var L=this.childAt(0),re=g.getItemModel(y),ae=$&&$.emphasisLineStyle,le=$&&$.focus,ue=$&&$.blurScope,he=$&&$.emphasisDisabled;if(!$||g.hasItemOption){var _e=re.getModel("emphasis");ae=_e.getModel("lineStyle").getLineStyle(),he=_e.get("disabled"),le=_e.get("focus"),ue=_e.get("blurScope")}L.useStyle(g.getItemVisual(y,"style")),L.style.fill=null,L.style.strokeNoScale=!0;var Ce=L.ensureState("emphasis");Ce.style=ae,toggleHoverEmphasis(this,le,ue,he)},n.prototype.updateLayout=function(g,y){var $=this.childAt(0);$.setShape("points",g.getItemLayout(y))},n}(Group$3),EffectPolyline=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g._lastFrame=0,g._lastFramePercent=0,g}return n.prototype.createLine=function(g,y,$){return new Polyline(g,y,$)},n.prototype._updateAnimationPoints=function(g,y){this._points=y;for(var $=[0],L=0,re=1;re<y.length;re++){var ae=y[re-1],le=y[re];L+=dist$2(ae,le),$.push(L)}if(L===0){this._length=0;return}for(var re=0;re<$.length;re++)$[re]/=L;this._offsets=$,this._length=L},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(g){var y=g.__t<1?g.__t:2-g.__t,$=this._points,L=this._offsets,re=$.length;if(L){var ae=this._lastFrame,le;if(y<this._lastFramePercent){var ue=Math.min(ae+1,re-1);for(le=ue;le>=0&&!(L[le]<=y);le--);le=Math.min(le,re-2)}else{for(le=ae;le<re&&!(L[le]>y);le++);le=Math.min(le-1,re-2)}var he=(y-L[le])/(L[le+1]-L[le]),_e=$[le],Ce=$[le+1];g.x=_e[0]*(1-he)+he*Ce[0],g.y=_e[1]*(1-he)+he*Ce[1];var $e=g.__t<1?Ce[0]-_e[0]:_e[0]-Ce[0],Oe=g.__t<1?Ce[1]-_e[1]:_e[1]-Ce[1];g.rotation=-Math.atan2(Oe,$e)-Math.PI/2,this._lastFrame=le,this._lastFramePercent=y,g.ignore=!1}},n}(EffectLine),LargeLinesPathShape=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),LargeLinesPath=function(r){__extends$1(n,r);function n(g){var y=r.call(this,g)||this;return y._off=0,y.hoverDataIdx=-1,y}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(g,y){var $=y.segs,L=y.curveness,re;if(y.polyline)for(re=this._off;re<$.length;){var ae=$[re++];if(ae>0){g.moveTo($[re++],$[re++]);for(var le=1;le<ae;le++)g.lineTo($[re++],$[re++])}}else for(re=this._off;re<$.length;){var ue=$[re++],he=$[re++],_e=$[re++],Ce=$[re++];if(g.moveTo(ue,he),L>0){var $e=(ue+_e)/2-(he-Ce)*L,Oe=(he+Ce)/2-(_e-ue)*L;g.quadraticCurveTo($e,Oe,_e,Ce)}else g.lineTo(_e,Ce)}this.incremental&&(this._off=re,this.notClear=!0)},n.prototype.findDataIndex=function(g,y){var $=this.shape,L=$.segs,re=$.curveness,ae=this.style.lineWidth;if($.polyline)for(var le=0,ue=0;ue<L.length;){var he=L[ue++];if(he>0)for(var _e=L[ue++],Ce=L[ue++],$e=1;$e<he;$e++){var Oe=L[ue++],xe=L[ue++];if(containStroke$4(_e,Ce,Oe,xe,ae,g,y))return le}le++}else for(var le=0,ue=0;ue<L.length;){var _e=L[ue++],Ce=L[ue++],Oe=L[ue++],xe=L[ue++];if(re>0){var Ne=(_e+Oe)/2-(Ce-xe)*re,Ie=(Ce+xe)/2-(Oe-_e)*re;if(containStroke$2(_e,Ce,Ne,Ie,Oe,xe,ae,g,y))return le}else if(containStroke$4(_e,Ce,Oe,xe,ae,g,y))return le;le++}return-1},n.prototype.contain=function(g,y){var $=this.transformCoordToLocal(g,y),L=this.getBoundingRect();if(g=$[0],y=$[1],L.contain(g,y)){var re=this.hoverDataIdx=this.findDataIndex(g,y);return re>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var g=this._rect;if(!g){for(var y=this.shape,$=y.segs,L=1/0,re=1/0,ae=-1/0,le=-1/0,ue=0;ue<$.length;){var he=$[ue++],_e=$[ue++];L=Math.min(he,L),ae=Math.max(he,ae),re=Math.min(_e,re),le=Math.max(_e,le)}g=this._rect=new BoundingRect(L,re,ae,le)}return g},n}(Path),LargeLineDraw=function(){function r(){this.group=new Group$3}return r.prototype.updateData=function(n){this._clear();var g=this._create();g.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(g,n)},r.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(n,g){var y=this._newAdded[0],$=g.getLayout("linesPoints"),L=y&&y.shape.segs;if(L&&L.length<2e4){var re=L.length,ae=new Float32Array(re+$.length);ae.set(L),ae.set($,re),y.setShape({segs:ae})}else{this._newAdded=[];var le=this._create();le.incremental=!0,le.setShape({segs:$}),this._setCommon(le,g),le.__startIndex=n.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},r.prototype._create=function(){var n=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},r.prototype._setCommon=function(n,g,y){var $=g.hostModel;n.setShape({polyline:$.get("polyline"),curveness:$.get(["lineStyle","curveness"])}),n.useStyle($.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var L=g.getVisual("style");L&&L.stroke&&n.setStyle("stroke",L.stroke),n.setStyle("fill",null);var re=getECData(n);re.seriesIndex=$.seriesIndex,n.on("mousemove",function(ae){re.dataIndex=null;var le=n.hoverDataIdx;le>0&&(re.dataIndex=le+n.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(r){var n=r.coordinateSystem;if(n){var g=r.get("polyline"),y=r.pipelineContext.large;return{progress:function($,L){var re=[];if(y){var ae=void 0,le=$.end-$.start;if(g){for(var ue=0,he=$.start;he<$.end;he++)ue+=r.getLineCoordsCount(he);ae=new Float32Array(le+ue*2)}else ae=new Float32Array(le*4);for(var _e=0,Ce=[],he=$.start;he<$.end;he++){var $e=r.getLineCoords(he,re);g&&(ae[_e++]=$e);for(var Oe=0;Oe<$e;Oe++)Ce=n.dataToPoint(re[Oe],!1,Ce),ae[_e++]=Ce[0],ae[_e++]=Ce[1]}L.setLayout("linesPoints",ae)}else for(var he=$.start;he<$.end;he++){var xe=L.getItemModel(he),$e=r.getLineCoords(he,re),Ne=[];if(g)for(var Ie=0;Ie<$e;Ie++)Ne.push(n.dataToPoint(re[Ie]));else{Ne[0]=n.dataToPoint(re[0]),Ne[1]=n.dataToPoint(re[1]);var Fe=xe.get(["lineStyle","curveness"]);+Fe&&(Ne[2]=[(Ne[0][0]+Ne[1][0])/2-(Ne[0][1]-Ne[1][1])*Fe,(Ne[0][1]+Ne[1][1])/2-(Ne[1][0]-Ne[0][0])*Fe])}L.setItemLayout(he,Ne)}}}}}},LinesView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=g.getData(),re=this._updateLineDraw(L,g),ae=g.get("zlevel"),le=g.get(["effect","trailLength"]),ue=$.getZr(),he=ue.painter.getType()==="svg";he||ue.painter.getLayer(ae).clear(!0),this._lastZlevel!=null&&!he&&ue.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(g)&&le>0&&(he||ue.configLayer(ae,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(le/10+.9,1),0)})),re.updateData(L);var _e=g.get("clip",!0)&&createClipPath(g.coordinateSystem,!1,g);_e?this.group.setClipPath(_e):this.group.removeClipPath(),this._lastZlevel=ae,this._finished=!0},n.prototype.incrementalPrepareRender=function(g,y,$){var L=g.getData(),re=this._updateLineDraw(L,g);re.incrementalPrepareUpdate(L),this._clearLayer($),this._finished=!1},n.prototype.incrementalRender=function(g,y,$){this._lineDraw.incrementalUpdate(g,y.getData()),this._finished=g.end===y.getData().count()},n.prototype.eachRendered=function(g){this._lineDraw&&this._lineDraw.eachRendered(g)},n.prototype.updateTransform=function(g,y,$){var L=g.getData(),re=g.pipelineContext;if(!this._finished||re.large||re.progressiveRender)return{update:!0};var ae=linesLayout.reset(g,y,$);ae.progress&&ae.progress({start:0,end:L.count(),count:L.count()},L),this._lineDraw.updateLayout(),this._clearLayer($)},n.prototype._updateLineDraw=function(g,y){var $=this._lineDraw,L=this._showEffect(y),re=!!y.get("polyline"),ae=y.pipelineContext,le=ae.large;return(!$||L!==this._hasEffet||re!==this._isPolyline||le!==this._isLargeDraw)&&($&&$.remove(),$=this._lineDraw=le?new LargeLineDraw:new LineDraw(re?L?EffectPolyline:Polyline:L?EffectLine:Line$1),this._hasEffet=L,this._isPolyline=re,this._isLargeDraw=le),this.group.add($.group),$},n.prototype._showEffect=function(g){return!!g.get(["effect","show"])},n.prototype._clearLayer=function(g){var y=g.getZr(),$=y.painter.getType()==="svg";!$&&this._lastZlevel!=null&&y.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(g,y){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(y)},n.prototype.dispose=function(g,y){this.remove(g,y)},n.type="lines",n}(ChartView),Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(r){var n=r.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(r.data=map$1(n,function(g){var y=[g[0].coord,g[1].coord],$={coords:y};return g[0].name&&($.fromName=g[0].name),g[1].name&&($.toName=g[1].name),mergeAll([$,g[0],g[1]])}))}var LinesSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.visualStyleAccessPath="lineStyle",g.visualDrawType="stroke",g}return n.prototype.init=function(g){g.data=g.data||[],compatEc2(g);var y=this._processFlatCoordsArray(g.data);this._flatCoords=y.flatCoords,this._flatCoordsOffset=y.flatCoordsOffset,y.flatCoords&&(g.data=new Float32Array(y.count)),r.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(g){if(compatEc2(g),g.data){var y=this._processFlatCoordsArray(g.data);this._flatCoords=y.flatCoords,this._flatCoordsOffset=y.flatCoordsOffset,y.flatCoords&&(g.data=new Float32Array(y.count))}r.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(g){var y=this._processFlatCoordsArray(g.data);y.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,y.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,y.flatCoordsOffset)):(this._flatCoords=y.flatCoords,this._flatCoordsOffset=y.flatCoordsOffset),g.data=new Float32Array(y.count)),this.getRawData().appendData(g.data)},n.prototype._getCoordsFromItemModel=function(g){var y=this.getData().getItemModel(g),$=y.option instanceof Array?y.option:y.getShallow("coords");return $},n.prototype.getLineCoordsCount=function(g){return this._flatCoordsOffset?this._flatCoordsOffset[g*2+1]:this._getCoordsFromItemModel(g).length},n.prototype.getLineCoords=function(g,y){if(this._flatCoordsOffset){for(var $=this._flatCoordsOffset[g*2],L=this._flatCoordsOffset[g*2+1],re=0;re<L;re++)y[re]=y[re]||[],y[re][0]=this._flatCoords[$+re*2],y[re][1]=this._flatCoords[$+re*2+1];return L}else{for(var ae=this._getCoordsFromItemModel(g),re=0;re<ae.length;re++)y[re]=y[re]||[],y[re][0]=ae[re][0],y[re][1]=ae[re][1];return ae.length}},n.prototype._processFlatCoordsArray=function(g){var y=0;if(this._flatCoords&&(y=this._flatCoords.length),isNumber$1(g[0])){for(var $=g.length,L=new Uint32Arr($),re=new Float64Arr($),ae=0,le=0,ue=0,he=0;he<$;){ue++;var _e=g[he++];L[le++]=ae+y,L[le++]=_e;for(var Ce=0;Ce<_e;Ce++){var $e=g[he++],Oe=g[he++];re[ae++]=$e,re[ae++]=Oe}}return{flatCoordsOffset:new Uint32Array(L.buffer,0,le),flatCoords:re,count:ue}}return{flatCoordsOffset:null,flatCoords:null,count:g.length}},n.prototype.getInitialData=function(g,y){var $=new SeriesData(["value"],this);return $.hasItemOption=!1,$.initData(g.data,[],function(L,re,ae,le){if(L instanceof Array)return NaN;$.hasItemOption=!0;var ue=L.value;if(ue!=null)return ue instanceof Array?ue[le]:ue}),$},n.prototype.formatTooltip=function(g,y,$){var L=this.getData(),re=L.getItemModel(g),ae=re.get("name");if(ae)return ae;var le=re.get("fromName"),ue=re.get("toName"),he=[];return le!=null&&he.push(le),ue!=null&&he.push(ue),createTooltipMarkup("nameValue",{name:he.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var g=this.option.progressive;return g??(this.option.large?1e4:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var g=this.option.progressiveThreshold;return g??(this.option.large?2e4:this.get("progressiveThreshold"))},n.prototype.getZLevelKey=function(){var g=this.getModel("effect"),y=g.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:g.get("show")&&y>0?y+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel);function normalize(r){return r instanceof Array||(r=[r,r]),r}var linesVisual={seriesType:"lines",reset:function(r){var n=normalize(r.get("symbol")),g=normalize(r.get("symbolSize")),y=r.getData();y.setVisual("fromSymbol",n&&n[0]),y.setVisual("toSymbol",n&&n[1]),y.setVisual("fromSymbolSize",g&&g[0]),y.setVisual("toSymbolSize",g&&g[1]);function $(L,re){var ae=L.getItemModel(re),le=normalize(ae.getShallow("symbol",!0)),ue=normalize(ae.getShallow("symbolSize",!0));le[0]&&L.setItemVisual(re,"fromSymbol",le[0]),le[1]&&L.setItemVisual(re,"toSymbol",le[1]),ue[0]&&L.setItemVisual(re,"fromSymbolSize",ue[0]),ue[1]&&L.setItemVisual(re,"toSymbolSize",ue[1])}return{dataEach:y.hasItemOption?$:null}}};function install$x(r){r.registerChartView(LinesView),r.registerSeriesModel(LinesSeriesModel),r.registerLayout(linesLayout),r.registerVisual(linesVisual)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return r.prototype.update=function(n,g,y,$,L,re){var ae=this._getBrush(),le=this._getGradient(L,"inRange"),ue=this._getGradient(L,"outOfRange"),he=this.pointSize+this.blurSize,_e=this.canvas,Ce=_e.getContext("2d"),$e=n.length;_e.width=g,_e.height=y;for(var Oe=0;Oe<$e;++Oe){var xe=n[Oe],Ne=xe[0],Ie=xe[1],Fe=xe[2],Ve=$(Fe);Ce.globalAlpha=Ve,Ce.drawImage(ae,Ne-he,Ie-he)}if(!_e.width||!_e.height)return _e;for(var ze=Ce.getImageData(0,0,_e.width,_e.height),Ue=ze.data,qe=0,kt=Ue.length,Et=this.minOpacity,Pt=this.maxOpacity,At=Pt-Et;qe<kt;){var Ve=Ue[qe+3]/256,Dt=Math.floor(Ve*(GRADIENT_LEVELS-1))*4;if(Ve>0){var Lt=re(Ve)?le:ue;Ve>0&&(Ve=Ve*At+Et),Ue[qe++]=Lt[Dt],Ue[qe++]=Lt[Dt+1],Ue[qe++]=Lt[Dt+2],Ue[qe++]=Lt[Dt+3]*Ve*256}else qe+=4}return Ce.putImageData(ze,0,0),_e},r.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),g=this.pointSize+this.blurSize,y=g*2;n.width=y,n.height=y;var $=n.getContext("2d");return $.clearRect(0,0,y,y),$.shadowOffsetX=y,$.shadowBlur=this.blurSize,$.shadowColor="#000",$.beginPath(),$.arc(-g,g,this.pointSize,0,Math.PI*2,!0),$.closePath(),$.fill(),n},r.prototype._getGradient=function(n,g){for(var y=this._gradientPixels,$=y[g]||(y[g]=new Uint8ClampedArray(256*4)),L=[0,0,0,0],re=0,ae=0;ae<256;ae++)n[g](ae/255,!0,L),$[re++]=L[0],$[re++]=L[1],$[re++]=L[2],$[re++]=L[3];return $},r}();function getIsInPiecewiseRange(r,n,g){var y=r[1]-r[0];n=map$1(n,function(re){return{interval:[(re.interval[0]-r[0])/y,(re.interval[1]-r[0])/y]}});var $=n.length,L=0;return function(re){var ae;for(ae=L;ae<$;ae++){var le=n[ae].interval;if(le[0]<=re&&re<=le[1]){L=ae;break}}if(ae===$)for(ae=L-1;ae>=0;ae--){var le=n[ae].interval;if(le[0]<=re&&re<=le[1]){L=ae;break}}return ae>=0&&ae<$&&g[ae]}}function getIsInContinuousRange(r,n){var g=r[1]-r[0];return n=[(n[0]-r[0])/g,(n[1]-r[0])/g],function(y){return y>=n[0]&&y<=n[1]}}function isGeoCoordSys(r){var n=r.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L;y.eachComponent("visualMap",function(ae){ae.eachTargetSeries(function(le){le===g&&(L=ae)})}),this._progressiveEls=null,this.group.removeAll();var re=g.coordinateSystem;re.type==="cartesian2d"||re.type==="calendar"?this._renderOnCartesianAndCalendar(g,$,0,g.getData().count()):isGeoCoordSys(re)&&this._renderOnGeo(re,g,L,$)},n.prototype.incrementalPrepareRender=function(g,y,$){this.group.removeAll()},n.prototype.incrementalRender=function(g,y,$,L){var re=y.coordinateSystem;re&&(isGeoCoordSys(re)?this.render(y,$,L):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(y,L,g.start,g.end,!0)))},n.prototype.eachRendered=function(g){traverseElements(this._progressiveEls||this.group,g)},n.prototype._renderOnCartesianAndCalendar=function(g,y,$,L,re){var ae=g.coordinateSystem,le=isCoordinateSystemType(ae,"cartesian2d"),ue,he,_e,Ce;if(le){var $e=ae.getAxis("x"),Oe=ae.getAxis("y");ue=$e.getBandWidth()+.5,he=Oe.getBandWidth()+.5,_e=$e.scale.getExtent(),Ce=Oe.scale.getExtent()}for(var xe=this.group,Ne=g.getData(),Ie=g.getModel(["emphasis","itemStyle"]).getItemStyle(),Fe=g.getModel(["blur","itemStyle"]).getItemStyle(),Ve=g.getModel(["select","itemStyle"]).getItemStyle(),ze=g.get(["itemStyle","borderRadius"]),Ue=getLabelStatesModels(g),qe=g.getModel("emphasis"),kt=qe.get("focus"),Et=qe.get("blurScope"),Pt=qe.get("disabled"),At=le?[Ne.mapDimension("x"),Ne.mapDimension("y"),Ne.mapDimension("value")]:[Ne.mapDimension("time"),Ne.mapDimension("value")],Dt=$;Dt<L;Dt++){var Lt=void 0,hn=Ne.getItemVisual(Dt,"style");if(le){var _n=Ne.get(At[0],Dt),vn=Ne.get(At[1],Dt);if(isNaN(Ne.get(At[2],Dt))||isNaN(_n)||isNaN(vn)||_n<_e[0]||_n>_e[1]||vn<Ce[0]||vn>Ce[1])continue;var jt=ae.dataToPoint([_n,vn]);Lt=new Rect$2({shape:{x:jt[0]-ue/2,y:jt[1]-he/2,width:ue,height:he},style:hn})}else{if(isNaN(Ne.get(At[1],Dt)))continue;Lt=new Rect$2({z2:1,shape:ae.dataToRect([Ne.get(At[0],Dt)]).contentShape,style:hn})}if(Ne.hasItemOption){var $n=Ne.getItemModel(Dt),Sn=$n.getModel("emphasis");Ie=Sn.getModel("itemStyle").getItemStyle(),Fe=$n.getModel(["blur","itemStyle"]).getItemStyle(),Ve=$n.getModel(["select","itemStyle"]).getItemStyle(),ze=$n.get(["itemStyle","borderRadius"]),kt=Sn.get("focus"),Et=Sn.get("blurScope"),Pt=Sn.get("disabled"),Ue=getLabelStatesModels($n)}Lt.shape.r=ze;var bn=g.getRawValue(Dt),wn="-";bn&&bn[2]!=null&&(wn=bn[2]+""),setLabelStyle(Lt,Ue,{labelFetcher:g,labelDataIndex:Dt,defaultOpacity:hn.opacity,defaultText:wn}),Lt.ensureState("emphasis").style=Ie,Lt.ensureState("blur").style=Fe,Lt.ensureState("select").style=Ve,toggleHoverEmphasis(Lt,kt,Et,Pt),Lt.incremental=re,re&&(Lt.states.emphasis.hoverLayer=!0),xe.add(Lt),Ne.setItemGraphicEl(Dt,Lt),this._progressiveEls&&this._progressiveEls.push(Lt)}},n.prototype._renderOnGeo=function(g,y,$,L){var re=$.targetVisuals.inRange,ae=$.targetVisuals.outOfRange,le=y.getData(),ue=this._hmLayer||this._hmLayer||new HeatmapLayer;ue.blurSize=y.get("blurSize"),ue.pointSize=y.get("pointSize"),ue.minOpacity=y.get("minOpacity"),ue.maxOpacity=y.get("maxOpacity");var he=g.getViewRect().clone(),_e=g.getRoamTransform();he.applyTransform(_e);var Ce=Math.max(he.x,0),$e=Math.max(he.y,0),Oe=Math.min(he.width+he.x,L.getWidth()),xe=Math.min(he.height+he.y,L.getHeight()),Ne=Oe-Ce,Ie=xe-$e,Fe=[le.mapDimension("lng"),le.mapDimension("lat"),le.mapDimension("value")],Ve=le.mapArray(Fe,function(kt,Et,Pt){var At=g.dataToPoint([kt,Et]);return At[0]-=Ce,At[1]-=$e,At.push(Pt),At}),ze=$.getExtent(),Ue=$.type==="visualMap.continuous"?getIsInContinuousRange(ze,$.option.range):getIsInPiecewiseRange(ze,$.getPieceList(),$.option.selected);ue.update(Ve,Ne,Ie,re.color.getNormalizer(),{inRange:re.color.getColorMapper(),outOfRange:ae.color.getColorMapper()},Ue);var qe=new ZRImage({style:{width:Ne,height:Ie,x:Ce,y:$e,image:ue.canvas},silent:!0});this.group.add(qe)},n.type="heatmap",n}(ChartView),HeatmapSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.getInitialData=function(g,y){return createSeriesData(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var g=CoordinateSystemManager.get(this.get("coordinateSystem"));if(g&&g.dimensions)return g.dimensions[0]==="lng"&&g.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel);function install$w(r){r.registerChartView(HeatmapView),r.registerSeriesModel(HeatmapSeriesModel)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle,PictorialBarView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=this.group,re=g.getData(),ae=this._data,le=g.coordinateSystem,ue=le.getBaseAxis(),he=ue.isHorizontal(),_e=le.master.getRect(),Ce={ecSize:{width:$.getWidth(),height:$.getHeight()},seriesModel:g,coordSys:le,coordSysExtent:[[_e.x,_e.x+_e.width],[_e.y,_e.y+_e.height]],isHorizontal:he,valueDim:LAYOUT_ATTRS[+he],categoryDim:LAYOUT_ATTRS[1-+he]};re.diff(ae).add(function(Oe){if(re.hasValue(Oe)){var xe=getItemModel(re,Oe),Ne=getSymbolMeta(re,Oe,xe,Ce),Ie=createBar(re,Ce,Ne);re.setItemGraphicEl(Oe,Ie),L.add(Ie),updateCommon(Ie,Ce,Ne)}}).update(function(Oe,xe){var Ne=ae.getItemGraphicEl(xe);if(!re.hasValue(Oe)){L.remove(Ne);return}var Ie=getItemModel(re,Oe),Fe=getSymbolMeta(re,Oe,Ie,Ce),Ve=getShapeStr(re,Fe);Ne&&Ve!==Ne.__pictorialShapeStr&&(L.remove(Ne),re.setItemGraphicEl(Oe,null),Ne=null),Ne?updateBar(Ne,Ce,Fe):Ne=createBar(re,Ce,Fe,!0),re.setItemGraphicEl(Oe,Ne),Ne.__pictorialSymbolMeta=Fe,L.add(Ne),updateCommon(Ne,Ce,Fe)}).remove(function(Oe){var xe=ae.getItemGraphicEl(Oe);xe&&removeBar(ae,Oe,xe.__pictorialSymbolMeta.animationModel,xe)}).execute();var $e=g.get("clip",!0)?createClipPath(g.coordinateSystem,!1,g):null;return $e?L.setClipPath($e):L.removeClipPath(),this._data=re,this.group},n.prototype.remove=function(g,y){var $=this.group,L=this._data;g.get("animation")?L&&L.eachItemGraphicEl(function(re){removeBar(L,getECData(re).dataIndex,g,re)}):$.removeAll()},n.type="pictorialBar",n}(ChartView);function getSymbolMeta(r,n,g,y){var $=r.getItemLayout(n),L=g.get("symbolRepeat"),re=g.get("symbolClip"),ae=g.get("symbolPosition")||"start",le=g.get("symbolRotate"),ue=(le||0)*Math.PI/180||0,he=g.get("symbolPatternSize")||2,_e=g.isAnimationEnabled(),Ce={dataIndex:n,layout:$,itemModel:g,symbolType:r.getItemVisual(n,"symbol")||"circle",style:r.getItemVisual(n,"style"),symbolClip:re,symbolRepeat:L,symbolRepeatDirection:g.get("symbolRepeatDirection"),symbolPatternSize:he,rotation:ue,animationModel:_e?g:null,hoverScale:_e&&g.get(["emphasis","scale"]),z2:g.getShallow("z",!0)||0};prepareBarLength(g,L,$,y,Ce),prepareSymbolSize(r,n,$,L,re,Ce.boundingLength,Ce.pxSign,he,y,Ce),prepareLineWidth(g,Ce.symbolScale,ue,y,Ce);var $e=Ce.symbolSize,Oe=normalizeSymbolOffset(g.get("symbolOffset"),$e);return prepareLayoutInfo(g,$e,$,L,re,Oe,ae,Ce.valueLineWidth,Ce.boundingLength,Ce.repeatCutLength,y,Ce),Ce}function prepareBarLength(r,n,g,y,$){var L=y.valueDim,re=r.get("symbolBoundingData"),ae=y.coordSys.getOtherAxis(y.coordSys.getBaseAxis()),le=ae.toGlobalCoord(ae.dataToCoord(0)),ue=1-+(g[L.wh]<=0),he;if(isArray$2(re)){var _e=[convertToCoordOnAxis(ae,re[0])-le,convertToCoordOnAxis(ae,re[1])-le];_e[1]<_e[0]&&_e.reverse(),he=_e[ue]}else re!=null?he=convertToCoordOnAxis(ae,re)-le:n?he=y.coordSysExtent[L.index][ue]-le:he=g[L.wh];$.boundingLength=he,n&&($.repeatCutLength=g[L.wh]);var Ce=L.xy==="x",$e=ae.inverse;$.pxSign=Ce&&!$e||!Ce&&$e?he>=0?1:-1:he>0?1:-1}function convertToCoordOnAxis(r,n){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(n)))}function prepareSymbolSize(r,n,g,y,$,L,re,ae,le,ue){var he=le.valueDim,_e=le.categoryDim,Ce=Math.abs(g[_e.wh]),$e=r.getItemVisual(n,"symbolSize"),Oe;isArray$2($e)?Oe=$e.slice():$e==null?Oe=["100%","100%"]:Oe=[$e,$e],Oe[_e.index]=parsePercent(Oe[_e.index],Ce),Oe[he.index]=parsePercent(Oe[he.index],y?Ce:Math.abs(L)),ue.symbolSize=Oe;var xe=ue.symbolScale=[Oe[0]/ae,Oe[1]/ae];xe[he.index]*=(le.isHorizontal?-1:1)*re}function prepareLineWidth(r,n,g,y,$){var L=r.get(BAR_BORDER_WIDTH_QUERY)||0;L&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:g}),pathForLineWidth.updateTransform(),L/=pathForLineWidth.getLineScale(),L*=n[y.valueDim.index]),$.valueLineWidth=L||0}function prepareLayoutInfo(r,n,g,y,$,L,re,ae,le,ue,he,_e){var Ce=he.categoryDim,$e=he.valueDim,Oe=_e.pxSign,xe=Math.max(n[$e.index]+ae,0),Ne=xe;if(y){var Ie=Math.abs(le),Fe=retrieve(r.get("symbolMargin"),"15%")+"",Ve=!1;Fe.lastIndexOf("!")===Fe.length-1&&(Ve=!0,Fe=Fe.slice(0,Fe.length-1));var ze=parsePercent(Fe,n[$e.index]),Ue=Math.max(xe+ze*2,0),qe=Ve?0:ze*2,kt=isNumeric(y),Et=kt?y:toIntTimes((Ie+qe)/Ue),Pt=Ie-Et*xe;ze=Pt/2/(Ve?Et:Math.max(Et-1,1)),Ue=xe+ze*2,qe=Ve?0:ze*2,!kt&&y!=="fixed"&&(Et=ue?toIntTimes((Math.abs(ue)+qe)/Ue):0),Ne=Et*Ue-qe,_e.repeatTimes=Et,_e.symbolMargin=ze}var At=Oe*(Ne/2),Dt=_e.pathPosition=[];Dt[Ce.index]=g[Ce.wh]/2,Dt[$e.index]=re==="start"?At:re==="end"?le-At:le/2,L&&(Dt[0]+=L[0],Dt[1]+=L[1]);var Lt=_e.bundlePosition=[];Lt[Ce.index]=g[Ce.xy],Lt[$e.index]=g[$e.xy];var hn=_e.barRectShape=extend({},g);hn[$e.wh]=Oe*Math.max(Math.abs(g[$e.wh]),Math.abs(Dt[$e.index]+At)),hn[Ce.wh]=g[Ce.wh];var _n=_e.clipShape={};_n[Ce.xy]=-g[Ce.xy],_n[Ce.wh]=he.ecSize[Ce.wh],_n[$e.xy]=0,_n[$e.wh]=g[$e.wh]}function createPath(r){var n=r.symbolPatternSize,g=createSymbol$1(r.symbolType,-n/2,-n/2,n,n);return g.attr({culling:!0}),g.type!=="image"&&g.setStyle({strokeNoScale:!0}),g}function createOrUpdateRepeatSymbols(r,n,g,y){var $=r.__pictorialBundle,L=g.symbolSize,re=g.valueLineWidth,ae=g.pathPosition,le=n.valueDim,ue=g.repeatTimes||0,he=0,_e=L[n.valueDim.index]+re+g.symbolMargin*2;for(eachPath(r,function(xe){xe.__pictorialAnimationIndex=he,xe.__pictorialRepeatTimes=ue,he<ue?updateAttr(xe,null,Oe(he),g,y):updateAttr(xe,null,{scaleX:0,scaleY:0},g,y,function(){$.remove(xe)}),he++});he<ue;he++){var Ce=createPath(g);Ce.__pictorialAnimationIndex=he,Ce.__pictorialRepeatTimes=ue,$.add(Ce);var $e=Oe(he);updateAttr(Ce,{x:$e.x,y:$e.y,scaleX:0,scaleY:0},{scaleX:$e.scaleX,scaleY:$e.scaleY,rotation:$e.rotation},g,y)}function Oe(xe){var Ne=ae.slice(),Ie=g.pxSign,Fe=xe;return(g.symbolRepeatDirection==="start"?Ie>0:Ie<0)&&(Fe=ue-1-xe),Ne[le.index]=_e*(Fe-ue/2+.5)+ae[le.index],{x:Ne[0],y:Ne[1],scaleX:g.symbolScale[0],scaleY:g.symbolScale[1],rotation:g.rotation}}}function createOrUpdateSingleSymbol(r,n,g,y){var $=r.__pictorialBundle,L=r.__pictorialMainPath;L?updateAttr(L,null,{x:g.pathPosition[0],y:g.pathPosition[1],scaleX:g.symbolScale[0],scaleY:g.symbolScale[1],rotation:g.rotation},g,y):(L=r.__pictorialMainPath=createPath(g),$.add(L),updateAttr(L,{x:g.pathPosition[0],y:g.pathPosition[1],scaleX:0,scaleY:0,rotation:g.rotation},{scaleX:g.symbolScale[0],scaleY:g.symbolScale[1]},g,y))}function createOrUpdateBarRect(r,n,g){var y=extend({},n.barRectShape),$=r.__pictorialBarRect;$?updateAttr($,null,{shape:y},n,g):($=r.__pictorialBarRect=new Rect$2({z2:2,shape:y,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),$.disableMorphing=!0,r.add($))}function createOrUpdateClip(r,n,g,y){if(g.symbolClip){var $=r.__pictorialClipPath,L=extend({},g.clipShape),re=n.valueDim,ae=g.animationModel,le=g.dataIndex;if($)updateProps$1($,{shape:L},ae,le);else{L[re.wh]=0,$=new Rect$2({shape:L}),r.__pictorialBundle.setClipPath($),r.__pictorialClipPath=$;var ue={};ue[re.wh]=g.clipShape[re.wh],graphic$1[y?"updateProps":"initProps"]($,{shape:ue},ae,le)}}}function getItemModel(r,n){var g=r.getItemModel(n);return g.getAnimationDelayParams=getAnimationDelayParams,g.isAnimationEnabled=isAnimationEnabled,g}function getAnimationDelayParams(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(r,n,g,y){var $=new Group$3,L=new Group$3;return $.add(L),$.__pictorialBundle=L,L.x=g.bundlePosition[0],L.y=g.bundlePosition[1],g.symbolRepeat?createOrUpdateRepeatSymbols($,n,g):createOrUpdateSingleSymbol($,n,g),createOrUpdateBarRect($,g,y),createOrUpdateClip($,n,g,y),$.__pictorialShapeStr=getShapeStr(r,g),$.__pictorialSymbolMeta=g,$}function updateBar(r,n,g){var y=g.animationModel,$=g.dataIndex,L=r.__pictorialBundle;updateProps$1(L,{x:g.bundlePosition[0],y:g.bundlePosition[1]},y,$),g.symbolRepeat?createOrUpdateRepeatSymbols(r,n,g,!0):createOrUpdateSingleSymbol(r,n,g,!0),createOrUpdateBarRect(r,g,!0),createOrUpdateClip(r,n,g,!0)}function removeBar(r,n,g,y){var $=y.__pictorialBarRect;$&&$.removeTextContent();var L=[];eachPath(y,function(re){L.push(re)}),y.__pictorialMainPath&&L.push(y.__pictorialMainPath),y.__pictorialClipPath&&(g=null),each$f(L,function(re){removeElement(re,{scaleX:0,scaleY:0},g,n,function(){y.parent&&y.parent.remove(y)})}),r.setItemGraphicEl(n,null)}function getShapeStr(r,n){return[r.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(r,n,g){each$f(r.__pictorialBundle.children(),function(y){y!==r.__pictorialBarRect&&n.call(g,y)})}function updateAttr(r,n,g,y,$,L){n&&r.attr(n),y.symbolClip&&!$?g&&r.attr(g):g&&graphic$1[$?"updateProps":"initProps"](r,g,y.animationModel,y.dataIndex,L)}function updateCommon(r,n,g){var y=g.dataIndex,$=g.itemModel,L=$.getModel("emphasis"),re=L.getModel("itemStyle").getItemStyle(),ae=$.getModel(["blur","itemStyle"]).getItemStyle(),le=$.getModel(["select","itemStyle"]).getItemStyle(),ue=$.getShallow("cursor"),he=L.get("focus"),_e=L.get("blurScope"),Ce=L.get("scale");eachPath(r,function(xe){if(xe instanceof ZRImage){var Ne=xe.style;xe.useStyle(extend({image:Ne.image,x:Ne.x,y:Ne.y,width:Ne.width,height:Ne.height},g.style))}else xe.useStyle(g.style);var Ie=xe.ensureState("emphasis");Ie.style=re,Ce&&(Ie.scaleX=xe.scaleX*1.1,Ie.scaleY=xe.scaleY*1.1),xe.ensureState("blur").style=ae,xe.ensureState("select").style=le,ue&&(xe.cursor=ue),xe.z2=g.z2});var $e=n.valueDim.posDesc[+(g.boundingLength>0)],Oe=r.__pictorialBarRect;Oe.ignoreClip=!0,setLabelStyle(Oe,getLabelStatesModels($),{labelFetcher:n.seriesModel,labelDataIndex:y,defaultText:getDefaultLabel(n.seriesModel.getData(),y),inheritColor:g.style.fill,defaultOpacity:g.style.opacity,defaultOutsidePosition:$e}),toggleHoverEmphasis(r,he,_e,L.get("disabled"))}function toIntTimes(r){var n=Math.round(r);return Math.abs(r-n)<1e-4?n:Math.ceil(r)}var PictorialBarSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.hasSymbolVisual=!0,g.defaultSymbol="roundRect",g}return n.prototype.getInitialData=function(g){return g.stack=null,r.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel);function install$v(r){r.registerChartView(PictorialBarView),r.registerSeriesModel(PictorialBarSeriesModel),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._layers=[],g}return n.prototype.render=function(g,y,$){var L=g.getData(),re=this,ae=this.group,le=g.getLayerSeries(),ue=L.getLayout("layoutInfo"),he=ue.rect,_e=ue.boundaryGap;ae.x=0,ae.y=he.y+_e[0];function Ce(Ne){return Ne.name}var $e=new DataDiffer(this._layersSeries||[],le,Ce,Ce),Oe=[];$e.add(bind$1(xe,this,"add")).update(bind$1(xe,this,"update")).remove(bind$1(xe,this,"remove")).execute();function xe(Ne,Ie,Fe){var Ve=re._layers;if(Ne==="remove"){ae.remove(Ve[Ie]);return}for(var ze=[],Ue=[],qe,kt=le[Ie].indices,Et=0;Et<kt.length;Et++){var Pt=L.getItemLayout(kt[Et]),At=Pt.x,Dt=Pt.y0,Lt=Pt.y;ze.push(At,Dt),Ue.push(At,Dt+Lt),qe=L.getItemVisual(kt[Et],"style")}var hn,_n=L.getItemLayout(kt[0]),vn=g.getModel("label"),jt=vn.get("margin"),$n=g.getModel("emphasis");if(Ne==="add"){var Sn=Oe[Ie]=new Group$3;hn=new ECPolygon({shape:{points:ze,stackedOnPoints:Ue,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Sn.add(hn),ae.add(Sn),g.isAnimationEnabled()&&hn.setClipPath(createGridClipShape(hn.getBoundingRect(),g,function(){hn.removeClipPath()}))}else{var Sn=Ve[Fe];hn=Sn.childAt(0),ae.add(Sn),Oe[Ie]=Sn,updateProps$1(hn,{shape:{points:ze,stackedOnPoints:Ue}},g),saveOldStyle(hn)}setLabelStyle(hn,getLabelStatesModels(g),{labelDataIndex:kt[Et-1],defaultText:L.getName(kt[Et-1]),inheritColor:qe.fill},{normal:{verticalAlign:"middle"}}),hn.setTextConfig({position:null,local:!0});var bn=hn.getTextContent();bn&&(bn.x=_n.x-jt,bn.y=_n.y0+_n.y/2),hn.useStyle(qe),L.setItemGraphicEl(Ie,hn),setStatesStylesFromModel(hn,g),toggleHoverEmphasis(hn,$n.get("focus"),$n.get("blurScope"),$n.get("disabled"))}this._layersSeries=le,this._layers=Oe},n.type="themeRiver",n}(ChartView);function createGridClipShape(r,n,g){var y=new Rect$2({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return initProps(y,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},n,g),y}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.fixData=function(g){var y=g.length,$={},L=groupData(g,function(Ce){return $.hasOwnProperty(Ce[0]+"")||($[Ce[0]+""]=-1),Ce[2]}),re=[];L.buckets.each(function(Ce,$e){re.push({name:$e,dataList:Ce})});for(var ae=re.length,le=0;le<ae;++le){for(var ue=re[le].name,he=0;he<re[le].dataList.length;++he){var _e=re[le].dataList[he][0]+"";$[_e]=le}for(var _e in $)$.hasOwnProperty(_e)&&$[_e]!==le&&($[_e]=le,g[y]=[_e,0,ue],y++)}return g},n.prototype.getInitialData=function(g,y){for(var $=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],L=$.get("type"),re=filter(g.data,function(Oe){return Oe[2]!==void 0}),ae=this.fixData(re||[]),le=[],ue=this.nameMap=createHashMap(),he=0,_e=0;_e<ae.length;++_e)le.push(ae[_e][DATA_NAME_INDEX]),ue.get(ae[_e][DATA_NAME_INDEX])||(ue.set(ae[_e][DATA_NAME_INDEX],he),he++);var Ce=prepareSeriesDataSchema(ae,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(L)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,$e=new SeriesData(Ce,this);return $e.initData(ae),$e},n.prototype.getLayerSeries=function(){for(var g=this.getData(),y=g.count(),$=[],L=0;L<y;++L)$[L]=L;var re=g.mapDimension("single"),ae=groupData($,function(ue){return g.get("name",ue)}),le=[];return ae.buckets.each(function(ue,he){ue.sort(function(_e,Ce){return g.get(re,_e)-g.get(re,Ce)}),le.push({name:he,indices:ue})}),le},n.prototype.getAxisTooltipData=function(g,y,$){isArray$2(g)||(g=g?[g]:[]);for(var L=this.getData(),re=this.getLayerSeries(),ae=[],le=re.length,ue,he=0;he<le;++he){for(var _e=Number.MAX_VALUE,Ce=-1,$e=re[he].indices.length,Oe=0;Oe<$e;++Oe){var xe=L.get(g[0],re[he].indices[Oe]),Ne=Math.abs(xe-y);Ne<=_e&&(ue=xe,_e=Ne,Ce=re[he].indices[Oe])}ae.push(Ce)}return{dataIndices:ae,nestestValue:ue}},n.prototype.formatTooltip=function(g,y,$){var L=this.getData(),re=L.getName(g),ae=L.get(L.mapDimension("value"),g);return createTooltipMarkup("nameValue",{name:re,value:ae})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel);function themeRiverLayout(r,n){r.eachSeriesByType("themeRiver",function(g){var y=g.getData(),$=g.coordinateSystem,L={},re=$.getRect();L.rect=re;var ae=g.get("boundaryGap"),le=$.getAxis();if(L.boundaryGap=ae,le.orient==="horizontal"){ae[0]=parsePercent(ae[0],re.height),ae[1]=parsePercent(ae[1],re.height);var ue=re.height-ae[0]-ae[1];doThemeRiverLayout(y,g,ue)}else{ae[0]=parsePercent(ae[0],re.width),ae[1]=parsePercent(ae[1],re.width);var he=re.width-ae[0]-ae[1];doThemeRiverLayout(y,g,he)}y.setLayout("layoutInfo",L)})}function doThemeRiverLayout(r,n,g){if(r.count())for(var y=n.coordinateSystem,$=n.getLayerSeries(),L=r.mapDimension("single"),re=r.mapDimension("value"),ae=map$1($,function(Ne){return map$1(Ne.indices,function(Ie){var Fe=y.dataToPoint(r.get(L,Ie));return Fe[1]=r.get(re,Ie),Fe})}),le=computeBaseline(ae),ue=le.y0,he=g/le.max,_e=$.length,Ce=$[0].indices.length,$e,Oe=0;Oe<Ce;++Oe){$e=ue[Oe]*he,r.setItemLayout($[0].indices[Oe],{layerIndex:0,x:ae[0][Oe][0],y0:$e,y:ae[0][Oe][1]*he});for(var xe=1;xe<_e;++xe)$e+=ae[xe-1][Oe][1]*he,r.setItemLayout($[xe].indices[Oe],{layerIndex:xe,x:ae[xe][Oe][0],y0:$e,y:ae[xe][Oe][1]*he})}}function computeBaseline(r){for(var n=r.length,g=r[0].length,y=[],$=[],L=0,re=0;re<g;++re){for(var ae=0,le=0;le<n;++le)ae+=r[le][re][1];ae>L&&(L=ae),y.push(ae)}for(var ue=0;ue<g;++ue)$[ue]=(L-y[ue])/2;L=0;for(var he=0;he<g;++he){var _e=y[he]+$[he];_e>L&&(L=_e)}return{y0:$,max:L}}function install$u(r){r.registerChartView(ThemeRiverView),r.registerSeriesModel(ThemeRiverSeriesModel),r.registerLayout(themeRiverLayout),r.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(r){__extends$1(n,r);function n(g,y,$,L){var re=r.call(this)||this;re.z2=DEFAULT_SECTOR_Z,re.textConfig={inside:!0},getECData(re).seriesIndex=y.seriesIndex;var ae=new ZRText({z2:DEFAULT_TEXT_Z,silent:g.getModel().get(["label","silent"])});return re.setTextContent(ae),re.updateData(!0,g,y,$,L),re}return n.prototype.updateData=function(g,y,$,L,re){this.node=y,y.piece=this,$=$||this._seriesModel,L=L||this._ecModel;var ae=this;getECData(ae).dataIndex=y.dataIndex;var le=y.getModel(),ue=le.getModel("emphasis"),he=y.getLayout(),_e=extend({},he);_e.label=null;var Ce=y.getVisual("style");Ce.lineJoin="bevel";var $e=y.getVisual("decal");$e&&(Ce.decal=createOrUpdatePatternFromDecal($e,re));var Oe=getSectorCornerRadius(le.getModel("itemStyle"),_e,!0);extend(_e,Oe),each$f(SPECIAL_STATES,function(Fe){var Ve=ae.ensureState(Fe),ze=le.getModel([Fe,"itemStyle"]);Ve.style=ze.getItemStyle();var Ue=getSectorCornerRadius(ze,_e);Ue&&(Ve.shape=Ue)}),g?(ae.setShape(_e),ae.shape.r=he.r0,initProps(ae,{shape:{r:he.r}},$,y.dataIndex)):(updateProps$1(ae,{shape:_e},$),saveOldStyle(ae)),ae.useStyle(Ce),this._updateLabel($);var xe=le.getShallow("cursor");xe&&ae.attr("cursor",xe),this._seriesModel=$||this._seriesModel,this._ecModel=L||this._ecModel;var Ne=ue.get("focus"),Ie=Ne==="relative"?concatArray(y.getAncestorsIndices(),y.getDescendantIndices()):Ne==="ancestor"?y.getAncestorsIndices():Ne==="descendant"?y.getDescendantIndices():Ne;toggleHoverEmphasis(this,Ie,ue.get("blurScope"),ue.get("disabled"))},n.prototype._updateLabel=function(g){var y=this,$=this.node.getModel(),L=$.getModel("label"),re=this.node.getLayout(),ae=re.endAngle-re.startAngle,le=(re.startAngle+re.endAngle)/2,ue=Math.cos(le),he=Math.sin(le),_e=this,Ce=_e.getTextContent(),$e=this.node.dataIndex,Oe=L.get("minAngle")/180*Math.PI,xe=L.get("show")&&!(Oe!=null&&Math.abs(ae)<Oe);Ce.ignore=!xe,each$f(DISPLAY_STATES,function(Ie){var Fe=Ie==="normal"?$.getModel("label"):$.getModel([Ie,"label"]),Ve=Ie==="normal",ze=Ve?Ce:Ce.ensureState(Ie),Ue=g.getFormattedLabel($e,Ie);Ve&&(Ue=Ue||y.node.name),ze.style=createTextStyle$1(Fe,{},null,Ie!=="normal",!0),Ue&&(ze.style.text=Ue);var qe=Fe.get("show");qe!=null&&!Ve&&(ze.ignore=!qe);var kt=Ne(Fe,"position"),Et=Ve?_e:_e.states[Ie],Pt=Et.style.fill;Et.textConfig={outsideFill:Fe.get("color")==="inherit"?Pt:null,inside:kt!=="outside"};var At,Dt=Ne(Fe,"distance")||0,Lt=Ne(Fe,"align"),hn=Ne(Fe,"rotate"),_n=Math.PI*.5,vn=Math.PI*1.5,jt=normalizeRadian(hn==="tangential"?Math.PI/2-le:le),$n=jt>_n&&!isRadianAroundZero(jt-_n)&&jt<vn;kt==="outside"?(At=re.r+Dt,Lt=$n?"right":"left"):!Lt||Lt==="center"?(ae===2*Math.PI&&re.r0===0?At=0:At=(re.r+re.r0)/2,Lt="center"):Lt==="left"?(At=re.r0+Dt,Lt=$n?"right":"left"):Lt==="right"&&(At=re.r-Dt,Lt=$n?"left":"right"),ze.style.align=Lt,ze.style.verticalAlign=Ne(Fe,"verticalAlign")||"middle",ze.x=At*ue+re.cx,ze.y=At*he+re.cy;var Sn=0;hn==="radial"?Sn=normalizeRadian(-le)+($n?Math.PI:0):hn==="tangential"?Sn=normalizeRadian(Math.PI/2-le)+($n?Math.PI:0):isNumber$1(hn)&&(Sn=hn*Math.PI/180),ze.rotation=normalizeRadian(Sn)});function Ne(Ie,Fe){var Ve=Ie.get(Fe);return Ve??L.get(Fe)}Ce.dirtyStyle()},n}(Sector),ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(r){r.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(n,g){g.eachComponent({mainType:"series",subType:"sunburst",query:n},y);function y($,L){var re=retrieveTargetInfo(n,[ROOT_TO_NODE_ACTION],$);if(re){var ae=$.getViewRoot();ae&&(n.direction=aboveViewRoot(ae,re.node)?"rollUp":"drillDown"),$.resetViewRoot(re.node)}}}),r.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(n,g,y){n=extend({},n),g.eachComponent({mainType:"series",subType:"sunburst",query:n},$);function $(L){var re=retrieveTargetInfo(n,[HIGHLIGHT_ACTION],L);re&&(n.dataIndex=re.node.dataIndex)}y.dispatchAction(extend(n,{type:"highlight"}))}),r.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(n,g,y){n=extend({},n),y.dispatchAction(extend(n,{type:"downplay"}))})}var SunburstView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$,L){var re=this;this.seriesModel=g,this.api=$,this.ecModel=y;var ae=g.getData(),le=ae.tree.root,ue=g.getViewRoot(),he=this.group,_e=g.get("renderLabelForZeroData"),Ce=[];ue.eachNode(function(Fe){Ce.push(Fe)});var $e=this._oldChildren||[];Oe(Ce,$e),Ie(le,ue),this._initEvents(),this._oldChildren=Ce;function Oe(Fe,Ve){if(Fe.length===0&&Ve.length===0)return;new DataDiffer(Ve,Fe,ze,ze).add(Ue).update(Ue).remove(curry$1(Ue,null)).execute();function ze(qe){return qe.getId()}function Ue(qe,kt){var Et=qe==null?null:Fe[qe],Pt=kt==null?null:Ve[kt];xe(Et,Pt)}}function xe(Fe,Ve){if(!_e&&Fe&&!Fe.getValue()&&(Fe=null),Fe!==le&&Ve!==le){if(Ve&&Ve.piece)Fe?(Ve.piece.updateData(!1,Fe,g,y,$),ae.setItemGraphicEl(Fe.dataIndex,Ve.piece)):Ne(Ve);else if(Fe){var ze=new SunburstPiece(Fe,g,y,$);he.add(ze),ae.setItemGraphicEl(Fe.dataIndex,ze)}}}function Ne(Fe){Fe&&Fe.piece&&(he.remove(Fe.piece),Fe.piece=null)}function Ie(Fe,Ve){Ve.depth>0?(re.virtualPiece?re.virtualPiece.updateData(!1,Fe,g,y,$):(re.virtualPiece=new SunburstPiece(Fe,g,y,$),he.add(re.virtualPiece)),Ve.piece.off("click"),re.virtualPiece.on("click",function(ze){re._rootToNode(Ve.parentNode)})):re.virtualPiece&&(he.remove(re.virtualPiece),re.virtualPiece=null)}},n.prototype._initEvents=function(){var g=this;this.group.off("click"),this.group.on("click",function(y){var $=!1,L=g.seriesModel.getViewRoot();L.eachNode(function(re){if(!$&&re.piece&&re.piece===y.target){var ae=re.getModel().get("nodeClick");if(ae==="rootToNode")g._rootToNode(re);else if(ae==="link"){var le=re.getModel(),ue=le.get("link");if(ue){var he=le.get("target",!0)||"_blank";windowOpen(ue,he)}}$=!0}})})},n.prototype._rootToNode=function(g){g!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:g})},n.prototype.containPoint=function(g,y){var $=y.getData(),L=$.getItemLayout(0);if(L){var re=g[0]-L.cx,ae=g[1]-L.cy,le=Math.sqrt(re*re+ae*ae);return le<=L.r&&le>=L.r0}},n.type="sunburst",n}(ChartView),SunburstSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.ignoreStyleOnData=!0,g}return n.prototype.getInitialData=function(g,y){var $={name:g.name,children:g.data};completeTreeValue($);var L=this._levelModels=map$1(g.levels||[],function(le){return new Model(le,this,y)},this),re=Tree$3.createTree($,this,ae);function ae(le){le.wrapMethod("getItemModel",function(ue,he){var _e=re.getNodeByDataIndex(he),Ce=L[_e.depth];return Ce&&(ue.parentModel=Ce),ue})}return re.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(g){var y=r.prototype.getDataParams.apply(this,arguments),$=this.getData().tree.getNodeByDataIndex(g);return y.treePathInfo=wrapTreePathInfo($,this),y},n.prototype.getLevelModel=function(g){return this._levelModels&&this._levelModels[g.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(g){g?this._viewRoot=g:g=this._viewRoot;var y=this.getRawData().tree.root;(!g||g!==y&&!y.contains(g))&&(this._viewRoot=y)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel);function completeTreeValue(r){var n=0;each$f(r.children,function(y){completeTreeValue(y);var $=y.value;isArray$2($)&&($=$[0]),n+=$});var g=r.value;isArray$2(g)&&(g=g[0]),(g==null||isNaN(g))&&(g=n),g<0&&(g=0),isArray$2(r.value)?r.value[0]=g:r.value=g}var RADIAN=Math.PI/180;function sunburstLayout(r,n,g){n.eachSeriesByType(r,function(y){var $=y.get("center"),L=y.get("radius");isArray$2(L)||(L=[0,L]),isArray$2($)||($=[$,$]);var re=g.getWidth(),ae=g.getHeight(),le=Math.min(re,ae),ue=parsePercent($[0],re),he=parsePercent($[1],ae),_e=parsePercent(L[0],le/2),Ce=parsePercent(L[1],le/2),$e=-y.get("startAngle")*RADIAN,Oe=y.get("minAngle")*RADIAN,xe=y.getData().tree.root,Ne=y.getViewRoot(),Ie=Ne.depth,Fe=y.get("sort");Fe!=null&&initChildren(Ne,Fe);var Ve=0;each$f(Ne.children,function(jt){!isNaN(jt.getValue())&&Ve++});var ze=Ne.getValue(),Ue=Math.PI/(ze||Ve)*2,qe=Ne.depth>0,kt=Ne.height-(qe?-1:1),Et=(Ce-_e)/(kt||1),Pt=y.get("clockwise"),At=y.get("stillShowZeroSum"),Dt=Pt?1:-1,Lt=function(jt,$n){if(jt){var Sn=$n;if(jt!==xe){var bn=jt.getValue(),wn=ze===0&&At?Ue:bn*Ue;wn<Oe&&(wn=Oe),Sn=$n+Dt*wn;var On=jt.depth-Ie-(qe?-1:1),Tn=_e+Et*On,xn=_e+Et*(On+1),Pn=y.getLevelModel(jt);if(Pn){var An=Pn.get("r0",!0),Rn=Pn.get("r",!0),Nn=Pn.get("radius",!0);Nn!=null&&(An=Nn[0],Rn=Nn[1]),An!=null&&(Tn=parsePercent(An,le/2)),Rn!=null&&(xn=parsePercent(Rn,le/2))}jt.setLayout({angle:wn,startAngle:$n,endAngle:Sn,clockwise:Pt,cx:ue,cy:he,r0:Tn,r:xn})}if(jt.children&&jt.children.length){var Dn=0;each$f(jt.children,function(In){Dn+=Lt(In,$n+Dn)})}return Sn-$n}};if(qe){var hn=_e,_n=_e+Et,vn=Math.PI*2;xe.setLayout({angle:vn,startAngle:$e,endAngle:$e+vn,clockwise:Pt,cx:ue,cy:he,r0:hn,r:_n})}Lt(Ne,$e)})}function initChildren(r,n){var g=r.children||[];r.children=sort(g,n),g.length&&each$f(r.children,function(y){initChildren(y,n)})}function sort(r,n){if(isFunction(n)){var g=map$1(r,function($,L){var re=$.getValue();return{params:{depth:$.depth,height:$.height,dataIndex:$.dataIndex,getValue:function(){return re}},index:L}});return g.sort(function($,L){return n($.params,L.params)}),map$1(g,function($){return r[$.index]})}else{var y=n==="asc";return r.sort(function($,L){var re=($.getValue()-L.getValue())*(y?1:-1);return re===0?($.dataIndex-L.dataIndex)*(y?-1:1):re})}}function sunburstVisual(r){var n={};function g(y,$,L){for(var re=y;re&&re.depth>1;)re=re.parentNode;var ae=$.getColorFromPalette(re.name||re.dataIndex+"",n);return y.depth>1&&isString(ae)&&(ae=lift(ae,(y.depth-1)/(L-1)*.5)),ae}r.eachSeriesByType("sunburst",function(y){var $=y.getData(),L=$.tree;L.eachNode(function(re){var ae=re.getModel(),le=ae.getModel("itemStyle").getItemStyle();le.fill||(le.fill=g(re,y,L.root.height));var ue=$.ensureUniqueItemVisual(re.dataIndex,"style");extend(ue,le)})})}function install$t(r){r.registerChartView(SunburstView),r.registerSeriesModel(SunburstSeriesModel),r.registerLayout(curry$1(sunburstLayout,"sunburst")),r.registerProcessor(curry$1(dataFilter$1,"sunburst")),r.registerVisual(sunburstVisual),installSunburstAction(r)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(g,y){return createSeriesData(null,this)},n.prototype.getDataParams=function(g,y,$){var L=r.prototype.getDataParams.call(this,g,y);return $&&(L.info=customInnerStore($).info),L},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel);function dataToCoordSize$3(r,n){return n=n||[0,0],map$1(["x","y"],function(g,y){var $=this.getAxis(g),L=n[y],re=r[y]/2;return $.type==="category"?$.getBandWidth():Math.abs($.dataToCoord(L-re)-$.dataToCoord(L+re))},this)}function cartesianPrepareCustom(r){var n=r.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(g){return r.dataToPoint(g)},size:bind$1(dataToCoordSize$3,r)}}}function dataToCoordSize$2(r,n){return n=n||[0,0],map$1([0,1],function(g){var y=n[g],$=r[g]/2,L=[],re=[];return L[g]=y-$,re[g]=y+$,L[1-g]=re[1-g]=n[1-g],Math.abs(this.dataToPoint(L)[g]-this.dataToPoint(re)[g])},this)}function geoPrepareCustom(r){var n=r.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:r.getZoom()},api:{coord:function(g){return r.dataToPoint(g)},size:bind$1(dataToCoordSize$2,r)}}}function dataToCoordSize$1(r,n){var g=this.getAxis(),y=n instanceof Array?n[0]:n,$=(r instanceof Array?r[0]:r)/2;return g.type==="category"?g.getBandWidth():Math.abs(g.dataToCoord(y-$)-g.dataToCoord(y+$))}function singlePrepareCustom(r){var n=r.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(g){return r.dataToPoint(g)},size:bind$1(dataToCoordSize$1,r)}}}function dataToCoordSize(r,n){return n=n||[0,0],map$1(["Radius","Angle"],function(g,y){var $="get"+g+"Axis",L=this[$](),re=n[y],ae=r[y]/2,le=L.type==="category"?L.getBandWidth():Math.abs(L.dataToCoord(re-ae)-L.dataToCoord(re+ae));return g==="Angle"&&(le=le*Math.PI/180),le},this)}function polarPrepareCustom(r){var n=r.getRadiusAxis(),g=r.getAngleAxis(),y=n.getExtent();return y[0]>y[1]&&y.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:y[1],r0:y[0]},api:{coord:function($){var L=n.dataToRadius($[0]),re=g.dataToAngle($[1]),ae=r.coordToPoint([L,re]);return ae.push(L,re*Math.PI/180),ae},size:bind$1(dataToCoordSize,r)}}}function calendarPrepareCustom(r){var n=r.getRect(),g=r.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:g.start,end:g.end,weeks:g.weeks,dayCount:g.allDay}},api:{coord:function(y,$){return r.dataToPoint(y,$)}}}}function isEC4CompatibleStyle(r,n,g,y){return r&&(r.legacy||r.legacy!==!1&&!g&&!y&&n!=="tspan"&&(n==="text"||hasOwn(r,"text")))}function convertFromEC4CompatibleStyle(r,n,g){var y=r,$,L,re;if(n==="text")re=y;else{re={},hasOwn(y,"text")&&(re.text=y.text),hasOwn(y,"rich")&&(re.rich=y.rich),hasOwn(y,"textFill")&&(re.fill=y.textFill),hasOwn(y,"textStroke")&&(re.stroke=y.textStroke),hasOwn(y,"fontFamily")&&(re.fontFamily=y.fontFamily),hasOwn(y,"fontSize")&&(re.fontSize=y.fontSize),hasOwn(y,"fontStyle")&&(re.fontStyle=y.fontStyle),hasOwn(y,"fontWeight")&&(re.fontWeight=y.fontWeight),L={type:"text",style:re,silent:!0},$={};var ae=hasOwn(y,"textPosition");g?$.position=ae?y.textPosition:"inside":ae&&($.position=y.textPosition),hasOwn(y,"textPosition")&&($.position=y.textPosition),hasOwn(y,"textOffset")&&($.offset=y.textOffset),hasOwn(y,"textRotation")&&($.rotation=y.textRotation),hasOwn(y,"textDistance")&&($.distance=y.textDistance)}return convertEC4CompatibleRichItem(re,r),each$f(re.rich,function(le){convertEC4CompatibleRichItem(le,le)}),{textConfig:$,textContent:L}}function convertEC4CompatibleRichItem(r,n){n&&(n.font=n.textFont||n.font,hasOwn(n,"textStrokeWidth")&&(r.lineWidth=n.textStrokeWidth),hasOwn(n,"textAlign")&&(r.align=n.textAlign),hasOwn(n,"textVerticalAlign")&&(r.verticalAlign=n.textVerticalAlign),hasOwn(n,"textLineHeight")&&(r.lineHeight=n.textLineHeight),hasOwn(n,"textWidth")&&(r.width=n.textWidth),hasOwn(n,"textHeight")&&(r.height=n.textHeight),hasOwn(n,"textBackgroundColor")&&(r.backgroundColor=n.textBackgroundColor),hasOwn(n,"textPadding")&&(r.padding=n.textPadding),hasOwn(n,"textBorderColor")&&(r.borderColor=n.textBorderColor),hasOwn(n,"textBorderWidth")&&(r.borderWidth=n.textBorderWidth),hasOwn(n,"textBorderRadius")&&(r.borderRadius=n.textBorderRadius),hasOwn(n,"textBoxShadowColor")&&(r.shadowColor=n.textBoxShadowColor),hasOwn(n,"textBoxShadowBlur")&&(r.shadowBlur=n.textBoxShadowBlur),hasOwn(n,"textBoxShadowOffsetX")&&(r.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,"textBoxShadowOffsetY")&&(r.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(r,n,g){var y=r;y.textPosition=y.textPosition||g.position||"inside",g.offset!=null&&(y.textOffset=g.offset),g.rotation!=null&&(y.textRotation=g.rotation),g.distance!=null&&(y.textDistance=g.distance);var $=y.textPosition.indexOf("inside")>=0,L=r.fill||"#000";convertToEC4RichItem(y,n);var re=y.textFill==null;return $?re&&(y.textFill=g.insideFill||"#fff",!y.textStroke&&g.insideStroke&&(y.textStroke=g.insideStroke),!y.textStroke&&(y.textStroke=L),y.textStrokeWidth==null&&(y.textStrokeWidth=2)):(re&&(y.textFill=r.fill||g.outsideFill||"#000"),!y.textStroke&&g.outsideStroke&&(y.textStroke=g.outsideStroke)),y.text=n.text,y.rich=n.rich,each$f(n.rich,function(ae){convertToEC4RichItem(ae,ae)}),y}function convertToEC4RichItem(r,n){n&&(hasOwn(n,"fill")&&(r.textFill=n.fill),hasOwn(n,"stroke")&&(r.textStroke=n.fill),hasOwn(n,"lineWidth")&&(r.textStrokeWidth=n.lineWidth),hasOwn(n,"font")&&(r.font=n.font),hasOwn(n,"fontStyle")&&(r.fontStyle=n.fontStyle),hasOwn(n,"fontWeight")&&(r.fontWeight=n.fontWeight),hasOwn(n,"fontSize")&&(r.fontSize=n.fontSize),hasOwn(n,"fontFamily")&&(r.fontFamily=n.fontFamily),hasOwn(n,"align")&&(r.textAlign=n.align),hasOwn(n,"verticalAlign")&&(r.textVerticalAlign=n.verticalAlign),hasOwn(n,"lineHeight")&&(r.textLineHeight=n.lineHeight),hasOwn(n,"width")&&(r.textWidth=n.width),hasOwn(n,"height")&&(r.textHeight=n.height),hasOwn(n,"backgroundColor")&&(r.textBackgroundColor=n.backgroundColor),hasOwn(n,"padding")&&(r.textPadding=n.padding),hasOwn(n,"borderColor")&&(r.textBorderColor=n.borderColor),hasOwn(n,"borderWidth")&&(r.textBorderWidth=n.borderWidth),hasOwn(n,"borderRadius")&&(r.textBorderRadius=n.borderRadius),hasOwn(n,"shadowColor")&&(r.textBoxShadowColor=n.shadowColor),hasOwn(n,"shadowBlur")&&(r.textBoxShadowBlur=n.shadowBlur),hasOwn(n,"shadowOffsetX")&&(r.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,"shadowOffsetY")&&(r.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,"textShadowColor")&&(r.textShadowColor=n.textShadowColor),hasOwn(n,"textShadowBlur")&&(r.textShadowBlur=n.textShadowBlur),hasOwn(n,"textShadowOffsetX")&&(r.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,"textShadowOffsetY")&&(r.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys$1(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(r,n){return r[n]=1,r},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(r,n,g,y,$){var L=r+"Animation",re=getAnimationConfig(r,y,$)||{},ae=transitionInnerStore(n).userDuring;return re.duration>0&&(re.during=ae?bind$1(duringCall,{el:n,userDuring:ae}):null,re.setToFinal=!0,re.scope=r),extend(re,g[L]),re}function applyUpdateTransition(r,n,g,y){y=y||{};var $=y.dataIndex,L=y.isInit,re=y.clearStyle,ae=g.isAnimationEnabled(),le=transitionInnerStore(r),ue=n.style;le.userDuring=n.during;var he={},_e={};if(prepareTransformAllPropsFinal(r,n,_e),prepareShapeOrExtraAllPropsFinal("shape",n,_e),prepareShapeOrExtraAllPropsFinal("extra",n,_e),!L&&ae&&(prepareTransformTransitionFrom(r,n,he),prepareShapeOrExtraTransitionFrom("shape",r,n,he),prepareShapeOrExtraTransitionFrom("extra",r,n,he),prepareStyleTransitionFrom(r,n,ue,he)),_e.style=ue,applyPropsDirectly(r,_e,re),applyMiscProps(r,n),ae)if(L){var Ce={};each$f(ELEMENT_ANIMATABLE_PROPS,function(Oe){var xe=Oe?n[Oe]:n;xe&&xe.enterFrom&&(Oe&&(Ce[Oe]=Ce[Oe]||{}),extend(Oe?Ce[Oe]:Ce,xe.enterFrom))});var $e=getElementAnimationConfig("enter",r,n,g,$);$e.duration>0&&r.animateFrom(Ce,$e)}else applyPropsTransition(r,n,$||0,g,he);updateLeaveTo(r,n),ue?r.dirty():r.markRedraw()}function updateLeaveTo(r,n){for(var g=transitionInnerStore(r).leaveToProps,y=0;y<ELEMENT_ANIMATABLE_PROPS.length;y++){var $=ELEMENT_ANIMATABLE_PROPS[y],L=$?n[$]:n;L&&L.leaveTo&&(g||(g=transitionInnerStore(r).leaveToProps={}),$&&(g[$]=g[$]||{}),extend($?g[$]:g,L.leaveTo))}}function applyLeaveTransition(r,n,g,y){if(r){var $=r.parent,L=transitionInnerStore(r).leaveToProps;if(L){var re=getElementAnimationConfig("update",r,n,g,0);re.done=function(){$.remove(r)},r.animateTo(L,re)}else $.remove(r)}}function isTransitionAll(r){return r==="all"}function applyPropsDirectly(r,n,g){var y=n.style;if(!r.isGroup&&y){if(g){r.useStyle({});for(var $=r.animators,L=0;L<$.length;L++){var re=$[L];re.targetName==="style"&&re.changeTarget(r.style)}}r.setStyle(y)}n.style=null,r.attr(n),n.style=y}function applyPropsTransition(r,n,g,y,$){{var L=getElementAnimationConfig("update",r,n,y,g);L.duration>0&&r.animateFrom($,L)}}function applyMiscProps(r,n){hasOwn(n,"silent")&&(r.silent=n.silent),hasOwn(n,"ignore")&&(r.ignore=n.ignore),r instanceof Displayable&&hasOwn(n,"invisible")&&(r.invisible=n.invisible),r instanceof Path&&hasOwn(n,"autoBatch")&&(r.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(r,n){return tmpDuringScope.el[r]=n,this},getTransform:function(r){return tmpDuringScope.el[r]},setShape:function(r,n){var g=tmpDuringScope.el,y=g.shape||(g.shape={});return y[r]=n,g.dirtyShape&&g.dirtyShape(),this},getShape:function(r){var n=tmpDuringScope.el.shape;if(n)return n[r]},setStyle:function(r,n){var g=tmpDuringScope.el,y=g.style;return y&&(y[r]=n,g.dirtyStyle&&g.dirtyStyle()),this},getStyle:function(r){var n=tmpDuringScope.el.style;if(n)return n[r]},setExtra:function(r,n){var g=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return g[r]=n,this},getExtra:function(r){var n=tmpDuringScope.el.extra;if(n)return n[r]}};function duringCall(){var r=this,n=r.el;if(n){var g=transitionInnerStore(n).userDuring,y=r.userDuring;if(g!==y){r.el=r.userDuring=null;return}tmpDuringScope.el=n,y(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(r,n,g,y){var $=g[r];if($){var L=n[r],re;if(L){var ae=g.transition,le=$.transition;if(le)if(!re&&(re=y[r]={}),isTransitionAll(le))extend(re,L);else for(var ue=normalizeToArray$1(le),he=0;he<ue.length;he++){var _e=ue[he],Ce=L[_e];re[_e]=Ce}else if(isTransitionAll(ae)||indexOf(ae,r)>=0){!re&&(re=y[r]={});for(var $e=keys$1(L),he=0;he<$e.length;he++){var _e=$e[he],Ce=L[_e];isNonStyleTransitionEnabled($[_e],Ce)&&(re[_e]=Ce)}}}}}function prepareShapeOrExtraAllPropsFinal(r,n,g){var y=n[r];if(y)for(var $=g[r]={},L=keys$1(y),re=0;re<L.length;re++){var ae=L[re];$[ae]=cloneValue(y[ae])}}function prepareTransformTransitionFrom(r,n,g){for(var y=n.transition,$=isTransitionAll(y)?TRANSFORMABLE_PROPS:normalizeToArray$1(y||[]),L=0;L<$.length;L++){var re=$[L];if(!(re==="style"||re==="shape"||re==="extra")){var ae=r[re];g[re]=ae}}}function prepareTransformAllPropsFinal(r,n,g){for(var y=0;y<LEGACY_TRANSFORM_PROPS.length;y++){var $=LEGACY_TRANSFORM_PROPS[y],L=LEGACY_TRANSFORM_PROPS_MAP[$],re=n[$];re&&(g[L[0]]=re[0],g[L[1]]=re[1])}for(var y=0;y<TRANSFORMABLE_PROPS.length;y++){var ae=TRANSFORMABLE_PROPS[y];n[ae]!=null&&(g[ae]=n[ae])}}function prepareStyleTransitionFrom(r,n,g,y){if(g){var $=r.style,L;if($){var re=g.transition,ae=n.transition;if(re&&!isTransitionAll(re)){var le=normalizeToArray$1(re);!L&&(L=y.style={});for(var ue=0;ue<le.length;ue++){var he=le[ue],_e=$[he];L[he]=_e}}else if(r.getAnimationStyleProps&&(isTransitionAll(ae)||isTransitionAll(re)||indexOf(ae,"style")>=0)){var Ce=r.getAnimationStyleProps(),$e=Ce?Ce.style:null;if($e){!L&&(L=y.style={});for(var Oe=keys$1(g),ue=0;ue<Oe.length;ue++){var he=Oe[ue];if($e[he]){var _e=$[he];L[he]=_e}}}}}}}function isNonStyleTransitionEnabled(r,n){return isArrayLike(r)?r!==n:r!=null&&isFinite(r)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(r){r.stopAnimation("keyframe"),r.attr(getStateToRestore(r))}function applyKeyframeAnimation(r,n,g){if(!(!g.isAnimationEnabled()||!n)){if(isArray$2(n)){each$f(n,function(ae){applyKeyframeAnimation(r,ae,g)});return}var y=n.keyframes,$=n.duration;if(g&&$==null){var L=getAnimationConfig("enter",g,0);$=L&&L.duration}if(!(!y||!$)){var re=getStateToRestore(r);each$f(ELEMENT_ANIMATABLE_PROPS,function(ae){if(!(ae&&!r[ae])){var le;y.sort(function(ue,he){return ue.percent-he.percent}),each$f(y,function(ue){var he=r.animators,_e=ae?ue[ae]:ue;if(_e){var Ce=keys$1(_e);if(ae||(Ce=filter(Ce,function(xe){return indexOf(KEYFRAME_EXCLUDE_KEYS,xe)<0})),!!Ce.length){le||(le=r.animate(ae,n.loop,!0),le.scope="keyframe");for(var $e=0;$e<he.length;$e++)he[$e]!==le&&he[$e].targetName===le.targetName&&he[$e].stopTracks(Ce);ae&&(re[ae]=re[ae]||{});var Oe=ae?re[ae]:re;each$f(Ce,function(xe){Oe[xe]=((ae?r[ae]:r)||{})[xe]}),le.whenWithKeys($*ue.percent,_e,Ce,ue.easing)}}}),le&&le.delay(n.delay||0).duration($).start(n.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(r){return r instanceof Path}function isDisplayable(r){return r instanceof Displayable}function copyElement(r,n){n.copyTransform(r),isDisplayable(n)&&isDisplayable(r)&&(n.setStyle(r.style),n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel,n.invisible=r.invisible,n.ignore=r.ignore,isPath(n)&&isPath(r)&&n.setShape(r.shape))}var CustomChartView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$,L){this._progressiveEls=null;var re=this._data,ae=g.getData(),le=this.group,ue=makeRenderItem(g,ae,y,$);re||le.removeAll(),ae.diff(re).add(function(_e){createOrUpdateItem($,null,_e,ue(_e,L),g,le,ae)}).remove(function(_e){var Ce=re.getItemGraphicEl(_e);Ce&&applyLeaveTransition(Ce,customInnerStore(Ce).option,g)}).update(function(_e,Ce){var $e=re.getItemGraphicEl(Ce);createOrUpdateItem($,$e,_e,ue(_e,L),g,le,ae)}).execute();var he=g.get("clip",!0)?createClipPath(g.coordinateSystem,!1,g):null;he?le.setClipPath(he):le.removeClipPath(),this._data=ae},n.prototype.incrementalPrepareRender=function(g,y,$){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(g,y,$,L,re){var ae=y.getData(),le=makeRenderItem(y,ae,$,L),ue=this._progressiveEls=[];function he($e){$e.isGroup||($e.incremental=!0,$e.ensureState("emphasis").hoverLayer=!0)}for(var _e=g.start;_e<g.end;_e++){var Ce=createOrUpdateItem(null,null,_e,le(_e,re),y,this.group,ae);Ce&&(Ce.traverse(he),ue.push(Ce))}},n.prototype.eachRendered=function(g){traverseElements(this._progressiveEls||this.group,g)},n.prototype.filterForExposedEvent=function(g,y,$,L){var re=y.element;if(re==null||$.name===re)return!0;for(;($=$.__hostTarget||$.parent)&&$!==this.group;)if($.name===re)return!0;return!1},n.type="custom",n}(ChartView);function createEl$1(r){var n=r.type,g;if(n==="path"){var y=r.shape,$=y.width!=null&&y.height!=null?{x:y.x||0,y:y.y||0,width:y.width,height:y.height}:null,L=getPathData(y);g=makePath(L,null,$,y.layout||"center"),customInnerStore(g).customPathData=L}else if(n==="image")g=new ZRImage({}),customInnerStore(g).customImagePath=r.style.image;else if(n==="text")g=new ZRText({});else if(n==="group")g=new Group$3;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var re=getShapeClass(n);if(!re){var ae="";throwError(ae)}g=new re}return customInnerStore(g).customGraphicType=n,g.name=r.name,g.z2EmphasisLift=1,g.z2SelectLift=1,g}function updateElNormal(r,n,g,y,$,L,re){stopPreviousKeyframeAnimationAndRestore(n);var ae=$&&$.normal.cfg;ae&&n.setTextConfig(ae),y&&y.transition==null&&(y.transition=DEFAULT_TRANSITION);var le=y&&y.style;if(le){if(n.type==="text"){var ue=le;hasOwn(ue,"textFill")&&(ue.fill=ue.textFill),hasOwn(ue,"textStroke")&&(ue.stroke=ue.textStroke)}var he=void 0,_e=isPath(n)?le.decal:null;r&&_e&&(_e.dirty=!0,he=createOrUpdatePatternFromDecal(_e,r)),le.__decalPattern=he}if(isDisplayable(n)&&le){var he=le.__decalPattern;he&&(le.decal=he)}applyUpdateTransition(n,y,L,{dataIndex:g,isInit:re,clearStyle:!0}),applyKeyframeAnimation(n,y.keyframeAnimation,L)}function updateElOnState(r,n,g,y,$){var L=n.isGroup?null:n,re=$&&$[r].cfg;if(L){var ae=L.ensureState(r);if(y===!1){var le=L.getState(r);le&&(le.style=null)}else ae.style=y||null;re&&(ae.textConfig=re),setDefaultStateProxy(L)}}function updateZ(r,n,g){if(!r.isGroup){var y=r,$=g.currentZ,L=g.currentZLevel;y.z=$,y.zlevel=L;var re=n.z2;re!=null&&(y.z2=re||0);for(var ae=0;ae<STATES.length;ae++)updateZForEachState(y,n,STATES[ae])}}function updateZForEachState(r,n,g){var y=g===NORMAL,$=y?n:retrieveStateOption(n,g),L=$?$.z2:null,re;L!=null&&(re=y?r:r.ensureState(g),re.z2=L||0)}function makeRenderItem(r,n,g,y){var $=r.get("renderItem"),L=r.coordinateSystem,re={};L&&(re=L.prepareCustoms?L.prepareCustoms(L):prepareCustoms[L.type](L));for(var ae=defaults$2({getWidth:y.getWidth,getHeight:y.getHeight,getZr:y.getZr,getDevicePixelRatio:y.getDevicePixelRatio,value:ze,style:qe,ordinalRawValue:Ue,styleEmphasis:kt,visual:At,barLayout:Dt,currentSeriesIndices:Lt,font:hn},re.api||{}),le={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:re.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(r.getData())},ue,he,_e={},Ce={},$e={},Oe={},xe=0;xe<STATES.length;xe++){var Ne=STATES[xe];$e[Ne]=r.getModel(PATH_ITEM_STYLE[Ne]),Oe[Ne]=r.getModel(PATH_LABEL[Ne])}function Ie(_n){return _n===ue?he||(he=n.getItemModel(_n)):n.getItemModel(_n)}function Fe(_n,vn){return n.hasItemOption?_n===ue?_e[vn]||(_e[vn]=Ie(_n).getModel(PATH_ITEM_STYLE[vn])):Ie(_n).getModel(PATH_ITEM_STYLE[vn]):$e[vn]}function Ve(_n,vn){return n.hasItemOption?_n===ue?Ce[vn]||(Ce[vn]=Ie(_n).getModel(PATH_LABEL[vn])):Ie(_n).getModel(PATH_LABEL[vn]):Oe[vn]}return function(_n,vn){return ue=_n,he=null,_e={},Ce={},$&&$(defaults$2({dataIndexInside:_n,dataIndex:n.getRawIndex(_n),actionType:vn?vn.type:null},le),ae)};function ze(_n,vn){return vn==null&&(vn=ue),n.getStore().get(n.getDimensionIndex(_n||0),vn)}function Ue(_n,vn){vn==null&&(vn=ue),_n=_n||0;var jt=n.getDimensionInfo(_n);if(!jt){var $n=n.getDimensionIndex(_n);return $n>=0?n.getStore().get($n,vn):void 0}var Sn=n.get(jt.name,vn),bn=jt&&jt.ordinalMeta;return bn?bn.categories[Sn]:Sn}function qe(_n,vn){vn==null&&(vn=ue);var jt=n.getItemVisual(vn,"style"),$n=jt&&jt.fill,Sn=jt&&jt.opacity,bn=Fe(vn,NORMAL).getItemStyle();$n!=null&&(bn.fill=$n),Sn!=null&&(bn.opacity=Sn);var wn={inheritColor:isString($n)?$n:"#000"},On=Ve(vn,NORMAL),Tn=createTextStyle$1(On,null,wn,!1,!0);Tn.text=On.getShallow("show")?retrieve2(r.getFormattedLabel(vn,NORMAL),getDefaultLabel(n,vn)):null;var xn=createTextConfig(On,wn,!1);return Pt(_n,bn),bn=convertToEC4StyleForCustomSerise(bn,Tn,xn),_n&&Et(bn,_n),bn.legacy=!0,bn}function kt(_n,vn){vn==null&&(vn=ue);var jt=Fe(vn,EMPHASIS).getItemStyle(),$n=Ve(vn,EMPHASIS),Sn=createTextStyle$1($n,null,null,!0,!0);Sn.text=$n.getShallow("show")?retrieve3(r.getFormattedLabel(vn,EMPHASIS),r.getFormattedLabel(vn,NORMAL),getDefaultLabel(n,vn)):null;var bn=createTextConfig($n,null,!0);return Pt(_n,jt),jt=convertToEC4StyleForCustomSerise(jt,Sn,bn),_n&&Et(jt,_n),jt.legacy=!0,jt}function Et(_n,vn){for(var jt in vn)hasOwn(vn,jt)&&(_n[jt]=vn[jt])}function Pt(_n,vn){_n&&(_n.textFill&&(vn.textFill=_n.textFill),_n.textPosition&&(vn.textPosition=_n.textPosition))}function At(_n,vn){if(vn==null&&(vn=ue),hasOwn(STYLE_VISUAL_TYPE,_n)){var jt=n.getItemVisual(vn,"style");return jt?jt[STYLE_VISUAL_TYPE[_n]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,_n))return n.getItemVisual(vn,_n)}function Dt(_n){if(L.type==="cartesian2d"){var vn=L.getBaseAxis();return getLayoutOnAxis(defaults$2({axis:vn},_n))}}function Lt(){return g.getCurrentSeriesIndices()}function hn(_n){return getFont(_n,g)}}function wrapEncodeDef(r){var n={};return each$f(r.dimensions,function(g){var y=r.getDimensionInfo(g);if(!y.isExtraCoord){var $=y.coordDim,L=n[$]=n[$]||[];L[y.coordDimIndex]=r.getDimensionIndex(g)}}),n}function createOrUpdateItem(r,n,g,y,$,L,re){if(!y){L.remove(n);return}var ae=doCreateOrUpdateEl(r,n,g,y,$,L);return ae&&re.setItemGraphicEl(g,ae),ae&&toggleHoverEmphasis(ae,y.focus,y.blurScope,y.emphasisDisabled),ae}function doCreateOrUpdateEl(r,n,g,y,$,L){var re=-1,ae=n;n&&doesElNeedRecreate(n,y,$)&&(re=indexOf(L.childrenRef(),n),n=null);var le=!n,ue=n;ue?ue.clearStates():(ue=createEl$1(y),ae&&copyElement(ae,ue)),y.morph===!1?ue.disableMorphing=!0:ue.disableMorphing&&(ue.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(ue,g,y,$,le,attachedTxInfoTmp),doCreateOrUpdateClipPath(ue,g,y,$,le),updateElNormal(r,ue,g,y,attachedTxInfoTmp,$,le),hasOwn(y,"info")&&(customInnerStore(ue).info=y.info);for(var he=0;he<STATES.length;he++){var _e=STATES[he];if(_e!==NORMAL){var Ce=retrieveStateOption(y,_e),$e=retrieveStyleOptionOnState(y,Ce,_e);updateElOnState(_e,ue,Ce,$e,attachedTxInfoTmp)}}return updateZ(ue,y,$),y.type==="group"&&mergeChildren(r,ue,g,y,$),re>=0?L.replaceAt(ue,re):L.add(ue),ue}function doesElNeedRecreate(r,n,g){var y=customInnerStore(r),$=n.type,L=n.shape,re=n.style;return g.isUniversalTransitionEnabled()||$!=null&&$!==y.customGraphicType||$==="path"&&hasOwnPathData(L)&&getPathData(L)!==y.customPathData||$==="image"&&hasOwn(re,"image")&&re.image!==y.customImagePath}function doCreateOrUpdateClipPath(r,n,g,y,$){var L=g.clipPath;if(L===!1)r&&r.getClipPath()&&r.removeClipPath();else if(L){var re=r.getClipPath();re&&doesElNeedRecreate(re,L,y)&&(re=null),re||(re=createEl$1(L),r.setClipPath(re)),updateElNormal(null,re,n,L,null,y,$)}}function doCreateOrUpdateAttachedTx(r,n,g,y,$,L){if(!r.isGroup){processTxInfo(g,null,L),processTxInfo(g,EMPHASIS,L);var re=L.normal.conOpt,ae=L.emphasis.conOpt,le=L.blur.conOpt,ue=L.select.conOpt;if(re!=null||ae!=null||ue!=null||le!=null){var he=r.getTextContent();if(re===!1)he&&r.removeTextContent();else{re=L.normal.conOpt=re||{type:"text"},he?he.clearStates():(he=createEl$1(re),r.setTextContent(he)),updateElNormal(null,he,n,re,null,y,$);for(var _e=re&&re.style,Ce=0;Ce<STATES.length;Ce++){var $e=STATES[Ce];if($e!==NORMAL){var Oe=L[$e].conOpt;updateElOnState($e,he,Oe,retrieveStyleOptionOnState(re,Oe,$e),null)}}_e?he.dirty():he.markRedraw()}}}}function processTxInfo(r,n,g){var y=n?retrieveStateOption(r,n):r,$=n?retrieveStyleOptionOnState(r,y,EMPHASIS):r.style,L=r.type,re=y?y.textConfig:null,ae=r.textContent,le=ae?n?retrieveStateOption(ae,n):ae:null;if($&&(g.isLegacy||isEC4CompatibleStyle($,L,!!re,!!le))){g.isLegacy=!0;var ue=convertFromEC4CompatibleStyle($,L,!n);!re&&ue.textConfig&&(re=ue.textConfig),!le&&ue.textContent&&(le=ue.textContent)}if(!n&&le){var he=le;!he.type&&(he.type="text")}var _e=n?g[n]:g.normal;_e.cfg=re,_e.conOpt=le}function retrieveStateOption(r,n){return n?r?r[n]:null:r}function retrieveStyleOptionOnState(r,n,g){var y=n&&n.style;return y==null&&g===EMPHASIS&&r&&(y=r.styleEmphasis),y}function mergeChildren(r,n,g,y,$){var L=y.children,re=L?L.length:0,ae=y.$mergeChildren,le=ae==="byName"||y.diffChildrenByName,ue=ae===!1;if(!(!re&&!le&&!ue)){if(le){diffGroupChildren({api:r,oldChildren:n.children()||[],newChildren:L||[],dataIndex:g,seriesModel:$,group:n});return}ue&&n.removeAll();for(var he=0;he<re;he++){var _e=L[he],Ce=n.childAt(he);_e?(_e.ignore==null&&(_e.ignore=!1),doCreateOrUpdateEl(r,Ce,g,_e,$,n)):Ce.ignore=!0}for(var $e=n.childCount()-1;$e>=he;$e--){var Oe=n.childAt($e);removeChildFromGroup(n,Oe,$)}}}function removeChildFromGroup(r,n,g){n&&applyLeaveTransition(n,customInnerStore(r).option,g)}function diffGroupChildren(r){new DataDiffer(r.oldChildren,r.newChildren,getKey,getKey,r).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(r,n){var g=r&&r.name;return g??GROUP_DIFF_PREFIX+n}function processAddUpdate(r,n){var g=this.context,y=r!=null?g.newChildren[r]:null,$=n!=null?g.oldChildren[n]:null;doCreateOrUpdateEl(g.api,$,g.dataIndex,y,g.seriesModel,g.group)}function processRemove(r){var n=this.context,g=n.oldChildren[r];g&&applyLeaveTransition(g,customInnerStore(g).option,n.seriesModel)}function getPathData(r){return r&&(r.pathData||r.d)}function hasOwnPathData(r){return r&&(hasOwn(r,"pathData")||hasOwn(r,"d"))}function install$s(r){r.registerChartView(CustomChartView),r.registerSeriesModel(CustomSeriesModel)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(n,g,y,$){var L=g.get("value"),re=g.get("status");if(this._axisModel=n,this._axisPointerModel=g,this._api=y,!(!$&&this._lastValue===L&&this._lastStatus===re)){this._lastValue=L,this._lastStatus=re;var ae=this._group,le=this._handle;if(!re||re==="hide"){ae&&ae.hide(),le&&le.hide();return}ae&&ae.show(),le&&le.show();var ue={};this.makeElOption(ue,L,n,g,y);var he=ue.graphicKey;he!==this._lastGraphicKey&&this.clear(y),this._lastGraphicKey=he;var _e=this._moveAnimation=this.determineAnimation(n,g);if(!ae)ae=this._group=new Group$3,this.createPointerEl(ae,ue,n,g),this.createLabelEl(ae,ue,n,g),y.getZr().add(ae);else{var Ce=curry$1(updateProps,g,_e);this.updatePointerEl(ae,ue,Ce),this.updateLabelEl(ae,ue,Ce,g)}updateMandatoryProps(ae,g,!0),this._renderHandle(L)}},r.prototype.remove=function(n){this.clear(n)},r.prototype.dispose=function(n){this.clear(n)},r.prototype.determineAnimation=function(n,g){var y=g.get("animation"),$=n.axis,L=$.type==="category",re=g.get("snap");if(!re&&!L)return!1;if(y==="auto"||y==null){var ae=this.animationThreshold;if(L&&$.getBandWidth()>ae)return!0;if(re){var le=getAxisInfo$1(n).seriesDataCount,ue=$.getExtent();return Math.abs(ue[0]-ue[1])/le>ae}return!1}return y===!0},r.prototype.makeElOption=function(n,g,y,$,L){},r.prototype.createPointerEl=function(n,g,y,$){var L=g.pointer;if(L){var re=inner$b(n).pointerEl=new graphic$1[L.type](clone$1(g.pointer));n.add(re)}},r.prototype.createLabelEl=function(n,g,y,$){if(g.label){var L=inner$b(n).labelEl=new ZRText(clone$1(g.label));n.add(L),updateLabelShowHide(L,$)}},r.prototype.updatePointerEl=function(n,g,y){var $=inner$b(n).pointerEl;$&&g.pointer&&($.setStyle(g.pointer.style),y($,{shape:g.pointer.shape}))},r.prototype.updateLabelEl=function(n,g,y,$){var L=inner$b(n).labelEl;L&&(L.setStyle(g.label.style),y(L,{x:g.label.x,y:g.label.y}),updateLabelShowHide(L,$))},r.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var g=this._axisPointerModel,y=this._api.getZr(),$=this._handle,L=g.getModel("handle"),re=g.get("status");if(!L.get("show")||!re||re==="hide"){$&&y.remove($),this._handle=null;return}var ae;this._handle||(ae=!0,$=this._handle=createIcon(L.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(ue){stop(ue.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),y.add($)),updateMandatoryProps($,g,!1),$.setStyle(L.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var le=L.get("size");isArray$2(le)||(le=[le,le]),$.scaleX=le[0]/2,$.scaleY=le[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",L.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,ae)}},r.prototype._moveHandleToValue=function(n,g){updateProps(this._axisPointerModel,!g&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(n,g){var y=this._handle;if(y){this._dragging=!0;var $=this.updateHandleTransform(getHandleTransProps(y),[n,g],this._axisModel,this._axisPointerModel);this._payloadInfo=$,y.stopAnimation(),y.attr(getHandleTransProps($)),inner$b(y).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var g=this._payloadInfo,y=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:g.cursorPoint[0],y:g.cursorPoint[1],tooltipOption:g.tooltipOption,axesInfo:[{axisDim:y.axis.dim,axisIndex:y.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var g=this._axisPointerModel.get("value");this._moveHandleToValue(g),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var g=n.getZr(),y=this._group,$=this._handle;g&&y&&(this._lastGraphicKey=null,y&&g.remove(y),$&&g.remove($),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(n,g,y){return y=y||0,{x:n[y],y:n[1-y],width:g[y],height:g[1-y]}},r}();function updateProps(r,n,g,y){propsEqual(inner$b(g).lastProp,y)||(inner$b(g).lastProp=y,n?updateProps$1(g,y,r):(g.stopAnimation(),g.attr(y)))}function propsEqual(r,n){if(isObject$3(r)&&isObject$3(n)){var g=!0;return each$f(n,function(y,$){g=g&&propsEqual(r[$],y)}),!!g}else return r===n}function updateLabelShowHide(r,n){r[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function updateMandatoryProps(r,n,g){var y=n.get("z"),$=n.get("zlevel");r&&r.traverse(function(L){L.type!=="group"&&(y!=null&&(L.z=y),$!=null&&(L.zlevel=$),L.silent=g)})}function buildElStyle(r){var n=r.get("type"),g=r.getModel(n+"Style"),y;return n==="line"?(y=g.getLineStyle(),y.fill=null):n==="shadow"&&(y=g.getAreaStyle(),y.stroke=null),y}function buildLabelElOption(r,n,g,y,$){var L=g.get("value"),re=getValueLabel(L,n.axis,n.ecModel,g.get("seriesDataIndices"),{precision:g.get(["label","precision"]),formatter:g.get(["label","formatter"])}),ae=g.getModel("label"),le=normalizeCssArray(ae.get("padding")||0),ue=ae.getFont(),he=getBoundingRect(re,ue),_e=$.position,Ce=he.width+le[1]+le[3],$e=he.height+le[0]+le[2],Oe=$.align;Oe==="right"&&(_e[0]-=Ce),Oe==="center"&&(_e[0]-=Ce/2);var xe=$.verticalAlign;xe==="bottom"&&(_e[1]-=$e),xe==="middle"&&(_e[1]-=$e/2),confineInContainer(_e,Ce,$e,y);var Ne=ae.get("backgroundColor");(!Ne||Ne==="auto")&&(Ne=n.get(["axisLine","lineStyle","color"])),r.label={x:_e[0],y:_e[1],style:createTextStyle$1(ae,{text:re,font:ue,fill:ae.getTextColor(),padding:le,backgroundColor:Ne}),z2:10}}function confineInContainer(r,n,g,y){var $=y.getWidth(),L=y.getHeight();r[0]=Math.min(r[0]+n,$)-n,r[1]=Math.min(r[1]+g,L)-g,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function getValueLabel(r,n,g,y,$){r=n.scale.parse(r);var L=n.scale.getLabel({value:r},{precision:$.precision}),re=$.formatter;if(re){var ae={value:getAxisRawValue(n,{value:r}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$f(y,function(le){var ue=g.getSeriesByIndex(le.seriesIndex),he=le.dataIndexInside,_e=ue&&ue.getDataParams(he);_e&&ae.seriesData.push(_e)}),isString(re)?L=re.replace("{value}",L):isFunction(re)&&(L=re(ae))}return L}function getTransformedPosition(r,n,g){var y=create$1();return rotate(y,y,g.rotation),translate(y,y,g.position),applyTransform([r.dataToCoord(n),(g.labelOffset||0)+(g.labelDirection||1)*(g.labelMargin||0)],y)}function buildCartesianSingleLabelElOption(r,n,g,y,$,L){var re=AxisBuilder.innerTextLayout(g.rotation,0,g.labelDirection);g.labelMargin=$.get(["label","margin"]),buildLabelElOption(n,y,$,L,{position:getTransformedPosition(y.axis,r,g),align:re.textAlign,verticalAlign:re.textVerticalAlign})}function makeLineShape(r,n,g){return g=g||0,{x1:r[g],y1:r[1-g],x2:n[g],y2:n[1-g]}}function makeRectShape(r,n,g){return g=g||0,{x:r[g],y:r[1-g],width:n[g],height:n[1-g]}}function makeSectorShape(r,n,g,y,$,L){return{cx:r,cy:n,r0:g,r:y,startAngle:$,endAngle:L,clockwise:!0}}var CartesianAxisPointer=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(g,y,$,L,re){var ae=$.axis,le=ae.grid,ue=L.get("type"),he=getCartesian(le,ae).getOtherAxis(ae).getGlobalExtent(),_e=ae.toGlobalCoord(ae.dataToCoord(y,!0));if(ue&&ue!=="none"){var Ce=buildElStyle(L),$e=pointerShapeBuilder$2[ue](ae,_e,he);$e.style=Ce,g.graphicKey=$e.type,g.pointer=$e}var Oe=layout$2(le.model,$);buildCartesianSingleLabelElOption(y,g,Oe,$,L,re)},n.prototype.getHandleTransform=function(g,y,$){var L=layout$2(y.axis.grid.model,y,{labelInside:!1});L.labelMargin=$.get(["handle","margin"]);var re=getTransformedPosition(y.axis,g,L);return{x:re[0],y:re[1],rotation:L.rotation+(L.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(g,y,$,L){var re=$.axis,ae=re.grid,le=re.getGlobalExtent(!0),ue=getCartesian(ae,re).getOtherAxis(re).getGlobalExtent(),he=re.dim==="x"?0:1,_e=[g.x,g.y];_e[he]+=y[he],_e[he]=Math.min(le[1],_e[he]),_e[he]=Math.max(le[0],_e[he]);var Ce=(ue[1]+ue[0])/2,$e=[Ce,Ce];$e[he]=_e[he];var Oe=[{verticalAlign:"middle"},{align:"center"}];return{x:_e[0],y:_e[1],rotation:g.rotation,cursorPoint:$e,tooltipOption:Oe[he]}},n}(BaseAxisPointer);function getCartesian(r,n){var g={};return g[n.dim+"AxisIndex"]=n.index,r.getCartesian(g)}var pointerShapeBuilder$2={line:function(r,n,g){var y=makeLineShape([n,g[0]],[n,g[1]],getAxisDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:y}},shadow:function(r,n,g){var y=Math.max(1,r.getBandWidth()),$=g[1]-g[0];return{type:"Rect",shape:makeRectShape([n-y/2,g[0]],[y,$],getAxisDimIndex(r))}}};function getAxisDimIndex(r){return r.dim==="x"?0:1}var AxisPointerModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel),inner$a=makeInner(),each$8=each$f;function register(r,n,g){if(!env.node){var y=n.getZr();inner$a(y).records||(inner$a(y).records={}),initGlobalListeners(y,n);var $=inner$a(y).records[r]||(inner$a(y).records[r]={});$.handler=g}}function initGlobalListeners(r,n){if(inner$a(r).initialized)return;inner$a(r).initialized=!0,g("click",curry$1(doEnter,"click")),g("mousemove",curry$1(doEnter,"mousemove")),g("globalout",onLeave);function g(y,$){r.on(y,function(L){var re=makeDispatchAction$1(n);each$8(inner$a(r).records,function(ae){ae&&$(ae,L,re.dispatchAction)}),dispatchTooltipFinally(re.pendings,n)})}}function dispatchTooltipFinally(r,n){var g=r.showTip.length,y=r.hideTip.length,$;g?$=r.showTip[g-1]:y&&($=r.hideTip[y-1]),$&&($.dispatchAction=null,n.dispatchAction($))}function onLeave(r,n,g){r.handler("leave",null,g)}function doEnter(r,n,g,y){n.handler(r,g,y)}function makeDispatchAction$1(r){var n={showTip:[],hideTip:[]},g=function(y){var $=n[y.type];$?$.push(y):(y.dispatchAction=g,r.dispatchAction(y))};return{dispatchAction:g,pendings:n}}function unregister(r,n){if(!env.node){var g=n.getZr(),y=(inner$a(g).records||{})[r];y&&(inner$a(g).records[r]=null)}}var AxisPointerView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=y.getComponent("tooltip"),re=g.get("triggerOn")||L&&L.get("triggerOn")||"mousemove|click";register("axisPointer",$,function(ae,le,ue){re!=="none"&&(ae==="leave"||re.indexOf(ae)>=0)&&ue({type:"updateAxisPointer",currTrigger:ae,x:le&&le.offsetX,y:le&&le.offsetY})})},n.prototype.remove=function(g,y){unregister("axisPointer",y)},n.prototype.dispose=function(g,y){unregister("axisPointer",y)},n.type="axisPointer",n}(ComponentView);function findPointFromSeries(r,n){var g=[],y=r.seriesIndex,$;if(y==null||!($=n.getSeriesByIndex(y)))return{point:[]};var L=$.getData(),re=queryDataIndex(L,r);if(re==null||re<0||isArray$2(re))return{point:[]};var ae=L.getItemGraphicEl(re),le=$.coordinateSystem;if($.getTooltipPosition)g=$.getTooltipPosition(re)||[];else if(le&&le.dataToPoint)if(r.isStacked){var ue=le.getBaseAxis(),he=le.getOtherAxis(ue),_e=he.dim,Ce=ue.dim,$e=_e==="x"||_e==="radius"?1:0,Oe=L.mapDimension(Ce),xe=[];xe[$e]=L.get(Oe,re),xe[1-$e]=L.get(L.getCalculationInfo("stackResultDimension"),re),g=le.dataToPoint(xe)||[]}else g=le.dataToPoint(L.getValues(map$1(le.dimensions,function(Ie){return L.mapDimension(Ie)}),re))||[];else if(ae){var Ne=ae.getBoundingRect().clone();Ne.applyTransform(ae.transform),g=[Ne.x+Ne.width/2,Ne.y+Ne.height/2]}return{point:g,el:ae}}var inner$9=makeInner();function axisTrigger(r,n,g){var y=r.currTrigger,$=[r.x,r.y],L=r,re=r.dispatchAction||bind$1(g.dispatchAction,g),ae=n.getComponent("axisPointer").coordSysAxesInfo;if(ae){illegalPoint($)&&($=findPointFromSeries({seriesIndex:L.seriesIndex,dataIndex:L.dataIndex},n).point);var le=illegalPoint($),ue=L.axesInfo,he=ae.axesInfo,_e=y==="leave"||illegalPoint($),Ce={},$e={},Oe={list:[],map:{}},xe={showPointer:curry$1(showPointer,$e),showTooltip:curry$1(showTooltip$1,Oe)};each$f(ae.coordSysMap,function(Ie,Fe){var Ve=le||Ie.containPoint($);each$f(ae.coordSysAxesInfo[Fe],function(ze,Ue){var qe=ze.axis,kt=findInputAxisInfo(ue,ze);if(!_e&&Ve&&(!ue||kt)){var Et=kt&&kt.value;Et==null&&!le&&(Et=qe.pointToData($)),Et!=null&&processOnAxis(ze,Et,xe,!1,Ce)}})});var Ne={};return each$f(he,function(Ie,Fe){var Ve=Ie.linkGroup;Ve&&!$e[Fe]&&each$f(Ve.axesInfo,function(ze,Ue){var qe=$e[Ue];if(ze!==Ie&&qe){var kt=qe.value;Ve.mapper&&(kt=Ie.axis.scale.parse(Ve.mapper(kt,makeMapperParam(ze),makeMapperParam(Ie)))),Ne[Ie.key]=kt}})}),each$f(Ne,function(Ie,Fe){processOnAxis(he[Fe],Ie,xe,!0,Ce)}),updateModelActually($e,he,Ce),dispatchTooltipActually(Oe,$,r,re),dispatchHighDownActually(he,re,g),Ce}}function processOnAxis(r,n,g,y,$){var L=r.axis;if(!(L.scale.isBlank()||!L.containData(n))){if(!r.involveSeries){g.showPointer(r,n);return}var re=buildPayloadsBySeries(n,r),ae=re.payloadBatch,le=re.snapToValue;ae[0]&&$.seriesIndex==null&&extend($,ae[0]),!y&&r.snap&&L.containData(le)&&le!=null&&(n=le),g.showPointer(r,n,ae),g.showTooltip(r,re,le)}}function buildPayloadsBySeries(r,n){var g=n.axis,y=g.dim,$=r,L=[],re=Number.MAX_VALUE,ae=-1;return each$f(n.seriesModels,function(le,ue){var he=le.getData().mapDimensionsAll(y),_e,Ce;if(le.getAxisTooltipData){var $e=le.getAxisTooltipData(he,r,g);Ce=$e.dataIndices,_e=$e.nestestValue}else{if(Ce=le.getData().indicesOfNearest(he[0],r,g.type==="category"?.5:null),!Ce.length)return;_e=le.getData().get(he[0],Ce[0])}if(!(_e==null||!isFinite(_e))){var Oe=r-_e,xe=Math.abs(Oe);xe<=re&&((xe<re||Oe>=0&&ae<0)&&(re=xe,ae=Oe,$=_e,L.length=0),each$f(Ce,function(Ne){L.push({seriesIndex:le.seriesIndex,dataIndexInside:Ne,dataIndex:le.getData().getRawIndex(Ne)})}))}}),{payloadBatch:L,snapToValue:$}}function showPointer(r,n,g,y){r[n.key]={value:g,payloadBatch:y}}function showTooltip$1(r,n,g,y){var $=g.payloadBatch,L=n.axis,re=L.model,ae=n.axisPointerModel;if(!(!n.triggerTooltip||!$.length)){var le=n.coordSys.model,ue=makeKey(le),he=r.map[ue];he||(he=r.map[ue]={coordSysId:le.id,coordSysIndex:le.componentIndex,coordSysType:le.type,coordSysMainType:le.mainType,dataByAxis:[]},r.list.push(he)),he.dataByAxis.push({axisDim:L.dim,axisIndex:re.componentIndex,axisType:re.type,axisId:re.id,value:y,valueLabelOpt:{precision:ae.get(["label","precision"]),formatter:ae.get(["label","formatter"])},seriesDataIndices:$.slice()})}}function updateModelActually(r,n,g){var y=g.axesInfo=[];each$f(n,function($,L){var re=$.axisPointerModel.option,ae=r[L];ae?(!$.useHandle&&(re.status="show"),re.value=ae.value,re.seriesDataIndices=(ae.payloadBatch||[]).slice()):!$.useHandle&&(re.status="hide"),re.status==="show"&&y.push({axisDim:$.axis.dim,axisIndex:$.axis.model.componentIndex,value:re.value})})}function dispatchTooltipActually(r,n,g,y){if(illegalPoint(n)||!r.list.length){y({type:"hideTip"});return}var $=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};y({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:g.tooltipOption,position:g.position,dataIndexInside:$.dataIndexInside,dataIndex:$.dataIndex,seriesIndex:$.seriesIndex,dataByCoordSys:r.list})}function dispatchHighDownActually(r,n,g){var y=g.getZr(),$="axisPointerLastHighlights",L=inner$9(y)[$]||{},re=inner$9(y)[$]={};each$f(r,function(ue,he){var _e=ue.axisPointerModel.option;_e.status==="show"&&ue.triggerEmphasis&&each$f(_e.seriesDataIndices,function(Ce){var $e=Ce.seriesIndex+" | "+Ce.dataIndex;re[$e]=Ce})});var ae=[],le=[];each$f(L,function(ue,he){!re[he]&&le.push(ue)}),each$f(re,function(ue,he){!L[he]&&ae.push(ue)}),le.length&&g.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:le}),ae.length&&g.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:ae})}function findInputAxisInfo(r,n){for(var g=0;g<(r||[]).length;g++){var y=r[g];if(n.axis.dim===y.axisDim&&n.axis.model.componentIndex===y.axisIndex)return y}}function makeMapperParam(r){var n=r.axis.model,g={},y=g.axisDim=r.axis.dim;return g.axisIndex=g[y+"AxisIndex"]=n.componentIndex,g.axisName=g[y+"AxisName"]=n.name,g.axisId=g[y+"AxisId"]=n.id,g}function illegalPoint(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function install$r(r){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),r.registerComponentModel(AxisPointerModel),r.registerComponentView(AxisPointerView),r.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var g=n.axisPointer.link;g&&!isArray$2(g)&&(n.axisPointer.link=[g])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(n,g){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,g)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$q(r){use(install$O),use(install$r)}var PolarAxisPointer=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(g,y,$,L,re){var ae=$.axis;ae.dim==="angle"&&(this.animationThreshold=Math.PI/18);var le=ae.polar,ue=le.getOtherAxis(ae),he=ue.getExtent(),_e=ae.dataToCoord(y),Ce=L.get("type");if(Ce&&Ce!=="none"){var $e=buildElStyle(L),Oe=pointerShapeBuilder$1[Ce](ae,le,_e,he);Oe.style=$e,g.graphicKey=Oe.type,g.pointer=Oe}var xe=L.get(["label","margin"]),Ne=getLabelPosition(y,$,L,le,xe);buildLabelElOption(g,$,L,re,Ne)},n}(BaseAxisPointer);function getLabelPosition(r,n,g,y,$){var L=n.axis,re=L.dataToCoord(r),ae=y.getAngleAxis().getExtent()[0];ae=ae/180*Math.PI;var le=y.getRadiusAxis().getExtent(),ue,he,_e;if(L.dim==="radius"){var Ce=create$1();rotate(Ce,Ce,ae),translate(Ce,Ce,[y.cx,y.cy]),ue=applyTransform([re,-$],Ce);var $e=n.getModel("axisLabel").get("rotate")||0,Oe=AxisBuilder.innerTextLayout(ae,$e*Math.PI/180,-1);he=Oe.textAlign,_e=Oe.textVerticalAlign}else{var xe=le[1];ue=y.coordToPoint([xe+$,re]);var Ne=y.cx,Ie=y.cy;he=Math.abs(ue[0]-Ne)/xe<.3?"center":ue[0]>Ne?"left":"right",_e=Math.abs(ue[1]-Ie)/xe<.3?"middle":ue[1]>Ie?"top":"bottom"}return{position:ue,align:he,verticalAlign:_e}}var pointerShapeBuilder$1={line:function(r,n,g,y){return r.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([y[0],g]),n.coordToPoint([y[1],g]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r:g}}},shadow:function(r,n,g,y){var $=Math.max(1,r.getBandWidth()),L=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,y[0],y[1],(-g-$/2)*L,(-g+$/2)*L)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,g-$/2,g+$/2,0,Math.PI*2)}}},PolarModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.findAxisModel=function(g){var y,$=this.ecModel;return $.eachComponent(g,function(L){L.getCoordSysModel()===this&&(y=L)},this),y},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel),PolarAxisModel=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},n.type="polarAxis",n}(ComponentModel);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="angleAxis",n}(PolarAxisModel),RadiusAxisModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="radiusAxis",n}(PolarAxisModel),RadiusAxis=function(r){__extends$1(n,r);function n(g,y){return r.call(this,"radius",g,y)||this}return n.prototype.pointToData=function(g,y){return this.polar.pointToData(g,y)[this.dim==="radius"?0:1]},n}(Axis);RadiusAxis.prototype.dataToRadius=Axis.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis.prototype.coordToData;var inner$8=makeInner(),AngleAxis=function(r){__extends$1(n,r);function n(g,y){return r.call(this,"angle",g,y||[0,360])||this}return n.prototype.pointToData=function(g,y){return this.polar.pointToData(g,y)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var g=this,y=g.getLabelModel(),$=g.scale,L=$.getExtent(),re=$.count();if(L[1]-L[0]<1)return 0;var ae=L[0],le=g.dataToCoord(ae+1)-g.dataToCoord(ae),ue=Math.abs(le),he=getBoundingRect(ae==null?"":ae+"",y.getFont(),"center","top"),_e=Math.max(he.height,7),Ce=_e/ue;isNaN(Ce)&&(Ce=1/0);var $e=Math.max(0,Math.floor(Ce)),Oe=inner$8(g.model),xe=Oe.lastAutoInterval,Ne=Oe.lastTickCount;return xe!=null&&Ne!=null&&Math.abs(xe-$e)<=1&&Math.abs(Ne-re)<=1&&xe>$e?$e=xe:(Oe.lastTickCount=re,Oe.lastAutoInterval=$e),$e},n}(Axis);AngleAxis.prototype.dataToAngle=Axis.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis.prototype.coordToData;var polarDimensions=["radius","angle"],Polar=function(){function r(n){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(n){var g=this.pointToCoord(n);return this._radiusAxis.contain(g[0])&&this._angleAxis.contain(g[1])},r.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},r.prototype.getAxis=function(n){var g="_"+n+"Axis";return this[g]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(n){var g=[],y=this._angleAxis,$=this._radiusAxis;return y.scale.type===n&&g.push(y),$.scale.type===n&&g.push($),g},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(n){var g=this._angleAxis;return n===g?this._radiusAxis:g},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(n){var g=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[g],otherAxes:[this.getOtherAxis(g)]}},r.prototype.dataToPoint=function(n,g){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],g),this._angleAxis.dataToAngle(n[1],g)])},r.prototype.pointToData=function(n,g){var y=this.pointToCoord(n);return[this._radiusAxis.radiusToData(y[0],g),this._angleAxis.angleToData(y[1],g)]},r.prototype.pointToCoord=function(n){var g=n[0]-this.cx,y=n[1]-this.cy,$=this.getAngleAxis(),L=$.getExtent(),re=Math.min(L[0],L[1]),ae=Math.max(L[0],L[1]);$.inverse?re=ae-360:ae=re+360;var le=Math.sqrt(g*g+y*y);g/=le,y/=le;for(var ue=Math.atan2(-y,g)/Math.PI*180,he=ue<re?1:-1;ue<re||ue>ae;)ue+=he*360;return[le,ue]},r.prototype.coordToPoint=function(n){var g=n[0],y=n[1]/180*Math.PI,$=Math.cos(y)*g+this.cx,L=-Math.sin(y)*g+this.cy;return[$,L]},r.prototype.getArea=function(){var n=this.getAngleAxis(),g=this.getRadiusAxis(),y=g.getExtent().slice();y[0]>y[1]&&y.reverse();var $=n.getExtent(),L=Math.PI/180,re=1e-4;return{cx:this.cx,cy:this.cy,r0:y[0],r:y[1],startAngle:-$[0]*L,endAngle:-$[1]*L,clockwise:n.inverse,contain:function(ae,le){var ue=ae-this.cx,he=le-this.cy,_e=ue*ue+he*he,Ce=this.r,$e=this.r0;return Ce!==$e&&_e-re<=Ce*Ce&&_e+re>=$e*$e}}},r.prototype.convertToPixel=function(n,g,y){var $=getCoordSys$2(g);return $===this?this.dataToPoint(y):null},r.prototype.convertFromPixel=function(n,g,y){var $=getCoordSys$2(g);return $===this?this.pointToData(y):null},r}();function getCoordSys$2(r){var n=r.seriesModel,g=r.polarModel;return g&&g.coordinateSystem||n&&n.coordinateSystem}function resizePolar(r,n,g){var y=n.get("center"),$=g.getWidth(),L=g.getHeight();r.cx=parsePercent(y[0],$),r.cy=parsePercent(y[1],L);var re=r.getRadiusAxis(),ae=Math.min($,L)/2,le=n.get("radius");le==null?le=[0,"100%"]:isArray$2(le)||(le=[0,le]);var ue=[parsePercent(le[0],ae),parsePercent(le[1],ae)];re.inverse?re.setExtent(ue[1],ue[0]):re.setExtent(ue[0],ue[1])}function updatePolarScale(r,n){var g=this,y=g.getAngleAxis(),$=g.getRadiusAxis();if(y.scale.setExtent(1/0,-1/0),$.scale.setExtent(1/0,-1/0),r.eachSeries(function(ae){if(ae.coordinateSystem===g){var le=ae.getData();each$f(getDataDimensionsOnAxis(le,"radius"),function(ue){$.scale.unionExtentFromData(le,ue)}),each$f(getDataDimensionsOnAxis(le,"angle"),function(ue){y.scale.unionExtentFromData(le,ue)})}}),niceScaleExtent(y.scale,y.model),niceScaleExtent($.scale,$.model),y.type==="category"&&!y.onBand){var L=y.getExtent(),re=360/y.scale.count();y.inverse?L[1]+=re:L[1]-=re,y.setExtent(L[0],L[1])}}function isAngleAxisModel(r){return r.mainType==="angleAxis"}function setAxis(r,n){var g;if(r.type=n.get("type"),r.scale=createScaleByModel$1(n),r.onBand=n.get("boundaryGap")&&r.type==="category",r.inverse=n.get("inverse"),isAngleAxisModel(n)){r.inverse=r.inverse!==n.get("clockwise");var y=n.get("startAngle"),$=(g=n.get("endAngle"))!==null&&g!==void 0?g:y+(r.inverse?-360:360);r.setExtent(y,$)}n.axis=r,r.model=n}var polarCreator={dimensions:polarDimensions,create:function(r,n){var g=[];return r.eachComponent("polar",function(y,$){var L=new Polar($+"");L.update=updatePolarScale;var re=L.getRadiusAxis(),ae=L.getAngleAxis(),le=y.findAxisModel("radiusAxis"),ue=y.findAxisModel("angleAxis");setAxis(re,le),setAxis(ae,ue),resizePolar(L,y,n),g.push(L),y.coordinateSystem=L,L.model=y}),r.eachSeries(function(y){if(y.get("coordinateSystem")==="polar"){var $=y.getReferringComponents("polar",SINGLE_REFERRING).models[0];y.coordinateSystem=$.coordinateSystem}}),g}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(r,n,g){n[1]>n[0]&&(n=n.slice().reverse());var y=r.coordToPoint([n[0],g]),$=r.coordToPoint([n[1],g]);return{x1:y[0],y1:y[1],x2:$[0],y2:$[1]}}function getRadiusIdx(r){var n=r.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(r){var n=r[0],g=r[r.length-1];n&&g&&Math.abs(Math.abs(n.coord-g.coord)-360)<1e-4&&r.pop()}var AngleAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.axisPointerClass="PolarAxisPointer",g}return n.prototype.render=function(g,y){if(this.group.removeAll(),!!g.get("show")){var $=g.axis,L=$.polar,re=L.getRadiusAxis().getExtent(),ae=$.getTicksCoords(),le=$.getMinorTicksCoords(),ue=map$1($.getViewLabels(),function(he){he=clone$4(he);var _e=$.scale,Ce=_e.type==="ordinal"?_e.getRawOrdinalNumber(he.tickValue):he.tickValue;return he.coord=$.dataToCoord(Ce),he});fixAngleOverlap(ue),fixAngleOverlap(ae),each$f(elementList,function(he){g.get([he,"show"])&&(!$.scale.isBlank()||he==="axisLine")&&angelAxisElementsBuilders[he](this.group,g,L,ae,le,re,ue)},this)}},n.type="angleAxis",n}(AxisView),angelAxisElementsBuilders={axisLine:function(r,n,g,y,$,L){var re=n.getModel(["axisLine","lineStyle"]),ae=g.getAngleAxis(),le=Math.PI/180,ue=ae.getExtent(),he=getRadiusIdx(g),_e=he?0:1,Ce,$e=Math.abs(ue[1]-ue[0])===360?"Circle":"Arc";L[_e]===0?Ce=new graphic$1[$e]({shape:{cx:g.cx,cy:g.cy,r:L[he],startAngle:-ue[0]*le,endAngle:-ue[1]*le,clockwise:ae.inverse},style:re.getLineStyle(),z2:1,silent:!0}):Ce=new Ring({shape:{cx:g.cx,cy:g.cy,r:L[he],r0:L[_e]},style:re.getLineStyle(),z2:1,silent:!0}),Ce.style.fill=null,r.add(Ce)},axisTick:function(r,n,g,y,$,L){var re=n.getModel("axisTick"),ae=(re.get("inside")?-1:1)*re.get("length"),le=L[getRadiusIdx(g)],ue=map$1(y,function(he){return new Line$2({shape:getAxisLineShape(g,[le,le+ae],he.coord)})});r.add(mergePath(ue,{style:defaults$2(re.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,n,g,y,$,L){if($.length){for(var re=n.getModel("axisTick"),ae=n.getModel("minorTick"),le=(re.get("inside")?-1:1)*ae.get("length"),ue=L[getRadiusIdx(g)],he=[],_e=0;_e<$.length;_e++)for(var Ce=0;Ce<$[_e].length;Ce++)he.push(new Line$2({shape:getAxisLineShape(g,[ue,ue+le],$[_e][Ce].coord)}));r.add(mergePath(he,{style:defaults$2(ae.getModel("lineStyle").getLineStyle(),defaults$2(re.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,n,g,y,$,L,re){var ae=n.getCategories(!0),le=n.getModel("axisLabel"),ue=le.get("margin"),he=n.get("triggerEvent");each$f(re,function(_e,Ce){var $e=le,Oe=_e.tickValue,xe=L[getRadiusIdx(g)],Ne=g.coordToPoint([xe+ue,_e.coord]),Ie=g.cx,Fe=g.cy,Ve=Math.abs(Ne[0]-Ie)/xe<.3?"center":Ne[0]>Ie?"left":"right",ze=Math.abs(Ne[1]-Fe)/xe<.3?"middle":Ne[1]>Fe?"top":"bottom";if(ae&&ae[Oe]){var Ue=ae[Oe];isObject$3(Ue)&&Ue.textStyle&&($e=new Model(Ue.textStyle,le,le.ecModel))}var qe=new ZRText({silent:AxisBuilder.isLabelSilent(n),style:createTextStyle$1($e,{x:Ne[0],y:Ne[1],fill:$e.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:_e.formattedLabel,align:Ve,verticalAlign:ze})});if(r.add(qe),he){var kt=AxisBuilder.makeAxisEventDataBase(n);kt.targetType="axisLabel",kt.value=_e.rawLabel,getECData(qe).eventData=kt}},this)},splitLine:function(r,n,g,y,$,L){var re=n.getModel("splitLine"),ae=re.getModel("lineStyle"),le=ae.get("color"),ue=0;le=le instanceof Array?le:[le];for(var he=[],_e=0;_e<y.length;_e++){var Ce=ue++%le.length;he[Ce]=he[Ce]||[],he[Ce].push(new Line$2({shape:getAxisLineShape(g,L,y[_e].coord)}))}for(var _e=0;_e<he.length;_e++)r.add(mergePath(he[_e],{style:defaults$2({stroke:le[_e%le.length]},ae.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(r,n,g,y,$,L){if($.length){for(var re=n.getModel("minorSplitLine"),ae=re.getModel("lineStyle"),le=[],ue=0;ue<$.length;ue++)for(var he=0;he<$[ue].length;he++)le.push(new Line$2({shape:getAxisLineShape(g,L,$[ue][he].coord)}));r.add(mergePath(le,{style:ae.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(r,n,g,y,$,L){if(y.length){var re=n.getModel("splitArea"),ae=re.getModel("areaStyle"),le=ae.get("color"),ue=0;le=le instanceof Array?le:[le];for(var he=[],_e=Math.PI/180,Ce=-y[0].coord*_e,$e=Math.min(L[0],L[1]),Oe=Math.max(L[0],L[1]),xe=n.get("clockwise"),Ne=1,Ie=y.length;Ne<=Ie;Ne++){var Fe=Ne===Ie?y[0].coord:y[Ne].coord,Ve=ue++%le.length;he[Ve]=he[Ve]||[],he[Ve].push(new Sector({shape:{cx:g.cx,cy:g.cy,r0:$e,r:Oe,startAngle:Ce,endAngle:-Fe*_e,clockwise:xe},silent:!0})),Ce=-Fe*_e}for(var Ne=0;Ne<he.length;Ne++)r.add(mergePath(he[Ne],{style:defaults$2({fill:le[Ne%le.length]},ae.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.axisPointerClass="PolarAxisPointer",g}return n.prototype.render=function(g,y){if(this.group.removeAll(),!!g.get("show")){var $=this._axisGroup,L=this._axisGroup=new Group$3;this.group.add(L);var re=g.axis,ae=re.polar,le=ae.getAngleAxis(),ue=re.getTicksCoords(),he=re.getMinorTicksCoords(),_e=le.getExtent()[0],Ce=re.getExtent(),$e=layoutAxis(ae,g,_e),Oe=new AxisBuilder(g,$e);each$f(axisBuilderAttrs$1,Oe.add,Oe),L.add(Oe.getGroup()),groupTransition($,L,g),each$f(selfBuilderAttrs$1,function(xe){g.get([xe,"show"])&&!re.scale.isBlank()&&axisElementBuilders$1[xe](this.group,g,ae,_e,Ce,ue,he)},this)}},n.type="radiusAxis",n}(AxisView),axisElementBuilders$1={splitLine:function(r,n,g,y,$,L){var re=n.getModel("splitLine"),ae=re.getModel("lineStyle"),le=ae.get("color"),ue=0,he=g.getAngleAxis(),_e=Math.PI/180,Ce=he.getExtent(),$e=Math.abs(Ce[1]-Ce[0])===360?"Circle":"Arc";le=le instanceof Array?le:[le];for(var Oe=[],xe=0;xe<L.length;xe++){var Ne=ue++%le.length;Oe[Ne]=Oe[Ne]||[],Oe[Ne].push(new graphic$1[$e]({shape:{cx:g.cx,cy:g.cy,r:Math.max(L[xe].coord,0),startAngle:-Ce[0]*_e,endAngle:-Ce[1]*_e,clockwise:he.inverse}}))}for(var xe=0;xe<Oe.length;xe++)r.add(mergePath(Oe[xe],{style:defaults$2({stroke:le[xe%le.length],fill:null},ae.getLineStyle()),silent:!0}))},minorSplitLine:function(r,n,g,y,$,L,re){if(re.length){for(var ae=n.getModel("minorSplitLine"),le=ae.getModel("lineStyle"),ue=[],he=0;he<re.length;he++)for(var _e=0;_e<re[he].length;_e++)ue.push(new Circle({shape:{cx:g.cx,cy:g.cy,r:re[he][_e].coord}}));r.add(mergePath(ue,{style:defaults$2({fill:null},le.getLineStyle()),silent:!0}))}},splitArea:function(r,n,g,y,$,L){if(L.length){var re=n.getModel("splitArea"),ae=re.getModel("areaStyle"),le=ae.get("color"),ue=0;le=le instanceof Array?le:[le];for(var he=[],_e=L[0].coord,Ce=1;Ce<L.length;Ce++){var $e=ue++%le.length;he[$e]=he[$e]||[],he[$e].push(new Sector({shape:{cx:g.cx,cy:g.cy,r0:_e,r:L[Ce].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),_e=L[Ce].coord}for(var Ce=0;Ce<he.length;Ce++)r.add(mergePath(he[Ce],{style:defaults$2({fill:le[Ce%le.length]},ae.getAreaStyle()),silent:!0}))}}};function layoutAxis(r,n,g){return{position:[r.cx,r.cy],rotation:g/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}function getSeriesStackId(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function getAxisKey(r,n){return n.dim+r.model.componentIndex}function barLayoutPolar(r,n,g){var y={},$=calRadialBar(filter(n.getSeriesByType(r),function(L){return!n.isSeriesFiltered(L)&&L.coordinateSystem&&L.coordinateSystem.type==="polar"}));n.eachSeriesByType(r,function(L){if(L.coordinateSystem.type==="polar"){var re=L.getData(),ae=L.coordinateSystem,le=ae.getBaseAxis(),ue=getAxisKey(ae,le),he=getSeriesStackId(L),_e=$[ue][he],Ce=_e.offset,$e=_e.width,Oe=ae.getOtherAxis(le),xe=L.coordinateSystem.cx,Ne=L.coordinateSystem.cy,Ie=L.get("barMinHeight")||0,Fe=L.get("barMinAngle")||0;y[he]=y[he]||[];for(var Ve=re.mapDimension(Oe.dim),ze=re.mapDimension(le.dim),Ue=isDimensionStacked(re,Ve),qe=le.dim!=="radius"||!L.get("roundCap",!0),kt=Oe.model,Et=kt.get("startValue"),Pt=Oe.dataToCoord(Et||0),At=0,Dt=re.count();At<Dt;At++){var Lt=re.get(Ve,At),hn=re.get(ze,At),_n=Lt>=0?"p":"n",vn=Pt;Ue&&(y[he][hn]||(y[he][hn]={p:Pt,n:Pt}),vn=y[he][hn][_n]);var jt=void 0,$n=void 0,Sn=void 0,bn=void 0;if(Oe.dim==="radius"){var wn=Oe.dataToCoord(Lt)-Pt,On=le.dataToCoord(hn);Math.abs(wn)<Ie&&(wn=(wn<0?-1:1)*Ie),jt=vn,$n=vn+wn,Sn=On-Ce,bn=Sn-$e,Ue&&(y[he][hn][_n]=$n)}else{var Tn=Oe.dataToCoord(Lt,qe)-Pt,xn=le.dataToCoord(hn);Math.abs(Tn)<Fe&&(Tn=(Tn<0?-1:1)*Fe),jt=xn+Ce,$n=jt+$e,Sn=vn,bn=vn+Tn,Ue&&(y[he][hn][_n]=bn)}re.setItemLayout(At,{cx:xe,cy:Ne,r0:jt,r:$n,startAngle:-Sn*Math.PI/180,endAngle:-bn*Math.PI/180,clockwise:Sn>=bn})}}})}function calRadialBar(r){var n={};each$f(r,function(y,$){var L=y.getData(),re=y.coordinateSystem,ae=re.getBaseAxis(),le=getAxisKey(re,ae),ue=ae.getExtent(),he=ae.type==="category"?ae.getBandWidth():Math.abs(ue[1]-ue[0])/L.count(),_e=n[le]||{bandWidth:he,remainedWidth:he,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},Ce=_e.stacks;n[le]=_e;var $e=getSeriesStackId(y);Ce[$e]||_e.autoWidthCount++,Ce[$e]=Ce[$e]||{width:0,maxWidth:0};var Oe=parsePercent(y.get("barWidth"),he),xe=parsePercent(y.get("barMaxWidth"),he),Ne=y.get("barGap"),Ie=y.get("barCategoryGap");Oe&&!Ce[$e].width&&(Oe=Math.min(_e.remainedWidth,Oe),Ce[$e].width=Oe,_e.remainedWidth-=Oe),xe&&(Ce[$e].maxWidth=xe),Ne!=null&&(_e.gap=Ne),Ie!=null&&(_e.categoryGap=Ie)});var g={};return each$f(n,function(y,$){g[$]={};var L=y.stacks,re=y.bandWidth,ae=parsePercent(y.categoryGap,re),le=parsePercent(y.gap,1),ue=y.remainedWidth,he=y.autoWidthCount,_e=(ue-ae)/(he+(he-1)*le);_e=Math.max(_e,0),each$f(L,function(xe,Ne){var Ie=xe.maxWidth;Ie&&Ie<_e&&(Ie=Math.min(Ie,ue),xe.width&&(Ie=Math.min(Ie,xe.width)),ue-=Ie,xe.width=Ie,he--)}),_e=(ue-ae)/(he+(he-1)*le),_e=Math.max(_e,0);var Ce=0,$e;each$f(L,function(xe,Ne){xe.width||(xe.width=_e),$e=xe,Ce+=xe.width*(1+le)}),$e&&(Ce-=$e.width*le);var Oe=-Ce/2;each$f(L,function(xe,Ne){g[$][Ne]=g[$][Ne]||{offset:Oe,width:xe.width},Oe+=xe.width*(1+le)})}),g}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="polar",n}(ComponentView);function install$p(r){use(install$r),AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer),r.registerCoordinateSystem("polar",polarCreator),r.registerComponentModel(PolarModel),r.registerComponentView(PolarView),axisModelCreator(r,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(r,"radius",RadiusAxisModel,radiusAxisExtraOption),r.registerComponentView(AngleAxisView),r.registerComponentView(RadiusAxisView),r.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(r,n){n=n||{};var g=r.coordinateSystem,y=r.axis,$={},L=y.position,re=y.orient,ae=g.getRect(),le=[ae.x,ae.x+ae.width,ae.y,ae.y+ae.height],ue={horizontal:{top:le[2],bottom:le[3]},vertical:{left:le[0],right:le[1]}};$.position=[re==="vertical"?ue.vertical[L]:le[0],re==="horizontal"?ue.horizontal[L]:le[3]];var he={horizontal:0,vertical:1};$.rotation=Math.PI/2*he[re];var _e={top:-1,bottom:1,right:1,left:-1};$.labelDirection=$.tickDirection=$.nameDirection=_e[L],r.get(["axisTick","inside"])&&($.tickDirection=-$.tickDirection),retrieve(n.labelInside,r.get(["axisLabel","inside"]))&&($.labelDirection=-$.labelDirection);var Ce=n.rotate;return Ce==null&&(Ce=r.get(["axisLabel","rotate"])),$.labelRotation=L==="top"?-Ce:Ce,$.z2=1,$}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.axisPointerClass="SingleAxisPointer",g}return n.prototype.render=function(g,y,$,L){var re=this.group;re.removeAll();var ae=this._axisGroup;this._axisGroup=new Group$3;var le=layout$1(g),ue=new AxisBuilder(g,le);each$f(axisBuilderAttrs,ue.add,ue),re.add(this._axisGroup),re.add(ue.getGroup()),each$f(selfBuilderAttrs,function(he){g.get([he,"show"])&&axisElementBuilders[he](this,this.group,this._axisGroup,g)},this),groupTransition(ae,this._axisGroup,g),r.prototype.render.call(this,g,y,$,L)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView),axisElementBuilders={splitLine:function(r,n,g,y){var $=y.axis;if(!$.scale.isBlank()){var L=y.getModel("splitLine"),re=L.getModel("lineStyle"),ae=re.get("color");ae=ae instanceof Array?ae:[ae];for(var le=re.get("width"),ue=y.coordinateSystem.getRect(),he=$.isHorizontal(),_e=[],Ce=0,$e=$.getTicksCoords({tickModel:L}),Oe=[],xe=[],Ne=0;Ne<$e.length;++Ne){var Ie=$.toGlobalCoord($e[Ne].coord);he?(Oe[0]=Ie,Oe[1]=ue.y,xe[0]=Ie,xe[1]=ue.y+ue.height):(Oe[0]=ue.x,Oe[1]=Ie,xe[0]=ue.x+ue.width,xe[1]=Ie);var Fe=new Line$2({shape:{x1:Oe[0],y1:Oe[1],x2:xe[0],y2:xe[1]},silent:!0});subPixelOptimizeLine(Fe.shape,le);var Ve=Ce++%ae.length;_e[Ve]=_e[Ve]||[],_e[Ve].push(Fe)}for(var ze=re.getLineStyle(["color"]),Ne=0;Ne<_e.length;++Ne)n.add(mergePath(_e[Ne],{style:defaults$2({stroke:ae[Ne%ae.length]},ze),silent:!0}))}},splitArea:function(r,n,g,y){rectCoordAxisBuildSplitArea(r,g,y,y)}},SingleAxisModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxis=function(r){__extends$1(n,r);function n(g,y,$,L,re){var ae=r.call(this,g,y,$)||this;return ae.type=L||"value",ae.position=re||"bottom",ae}return n.prototype.isHorizontal=function(){var g=this.position;return g==="top"||g==="bottom"},n.prototype.pointToData=function(g,y){return this.coordinateSystem.pointToData(g)[0]},n}(Axis),singleDimensions=["single"],Single=function(){function r(n,g,y){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=n,this._init(n,g,y)}return r.prototype._init=function(n,g,y){var $=this.dimension,L=new SingleAxis($,createScaleByModel$1(n),[0,0],n.get("type"),n.get("position")),re=L.type==="category";L.onBand=re&&n.get("boundaryGap"),L.inverse=n.get("inverse"),L.orient=n.get("orient"),n.axis=L,L.model=n,L.coordinateSystem=this,this._axis=L},r.prototype.update=function(n,g){n.eachSeries(function(y){if(y.coordinateSystem===this){var $=y.getData();each$f($.mapDimensionsAll(this.dimension),function(L){this._axis.scale.unionExtentFromData($,L)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(n,g){this._rect=getLayoutRect$1({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:g.getWidth(),height:g.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var n=this._rect,g=this._axis,y=g.isHorizontal(),$=y?[0,n.width]:[0,n.height],L=g.inverse?1:0;g.setExtent($[L],$[1-L]),this._updateAxisTransform(g,y?n.x:n.y)},r.prototype._updateAxisTransform=function(n,g){var y=n.getExtent(),$=y[0]+y[1],L=n.isHorizontal();n.toGlobalCoord=L?function(re){return re+g}:function(re){return $-re+g},n.toLocalCoord=L?function(re){return re-g}:function(re){return $-re+g}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(n){var g=this.getRect(),y=this.getAxis(),$=y.orient;return $==="horizontal"?y.contain(y.toLocalCoord(n[0]))&&n[1]>=g.y&&n[1]<=g.y+g.height:y.contain(y.toLocalCoord(n[1]))&&n[0]>=g.y&&n[0]<=g.y+g.height},r.prototype.pointToData=function(n){var g=this.getAxis();return[g.coordToData(g.toLocalCoord(n[g.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(n){var g=this.getAxis(),y=this.getRect(),$=[],L=g.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),$[L]=g.toGlobalCoord(g.dataToCoord(+n)),$[1-L]=L===0?y.y+y.height/2:y.x+y.width/2,$},r.prototype.convertToPixel=function(n,g,y){var $=getCoordSys$1(g);return $===this?this.dataToPoint(y):null},r.prototype.convertFromPixel=function(n,g,y){var $=getCoordSys$1(g);return $===this?this.pointToData(y):null},r}();function getCoordSys$1(r){var n=r.seriesModel,g=r.singleAxisModel;return g&&g.coordinateSystem||n&&n.coordinateSystem}function create(r,n){var g=[];return r.eachComponent("singleAxis",function(y,$){var L=new Single(y,r,n);L.name="single_"+$,L.resize(y,n),y.coordinateSystem=L,g.push(L)}),r.eachSeries(function(y){if(y.get("coordinateSystem")==="singleAxis"){var $=y.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];y.coordinateSystem=$&&$.coordinateSystem}}),g}var singleCreator={create,dimensions:singleDimensions},XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.makeElOption=function(g,y,$,L,re){var ae=$.axis,le=ae.coordinateSystem,ue=getGlobalExtent(le,1-getPointDimIndex(ae)),he=le.dataToPoint(y)[0],_e=L.get("type");if(_e&&_e!=="none"){var Ce=buildElStyle(L),$e=pointerShapeBuilder[_e](ae,he,ue);$e.style=Ce,g.graphicKey=$e.type,g.pointer=$e}var Oe=layout$1($);buildCartesianSingleLabelElOption(y,g,Oe,$,L,re)},n.prototype.getHandleTransform=function(g,y,$){var L=layout$1(y,{labelInside:!1});L.labelMargin=$.get(["handle","margin"]);var re=getTransformedPosition(y.axis,g,L);return{x:re[0],y:re[1],rotation:L.rotation+(L.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(g,y,$,L){var re=$.axis,ae=re.coordinateSystem,le=getPointDimIndex(re),ue=getGlobalExtent(ae,le),he=[g.x,g.y];he[le]+=y[le],he[le]=Math.min(ue[1],he[le]),he[le]=Math.max(ue[0],he[le]);var _e=getGlobalExtent(ae,1-le),Ce=(_e[1]+_e[0])/2,$e=[Ce,Ce];return $e[le]=he[le],{x:he[0],y:he[1],rotation:g.rotation,cursorPoint:$e,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer),pointerShapeBuilder={line:function(r,n,g){var y=makeLineShape([n,g[0]],[n,g[1]],getPointDimIndex(r));return{type:"Line",subPixelOptimize:!0,shape:y}},shadow:function(r,n,g){var y=r.getBandWidth(),$=g[1]-g[0];return{type:"Rect",shape:makeRectShape([n-y/2,g[0]],[y,$],getPointDimIndex(r))}}};function getPointDimIndex(r){return r.isHorizontal()?0:1}function getGlobalExtent(r,n){var g=r.getRect();return[g[XY$1[n]],g[XY$1[n]]+g[WH$1[n]]]}var SingleView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="single",n}(ComponentView);function install$o(r){use(install$r),AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer),r.registerComponentView(SingleView),r.registerComponentView(SingleAxisView),r.registerComponentModel(SingleAxisModel),axisModelCreator(r,"single",SingleAxisModel,SingleAxisModel.defaultOption),r.registerCoordinateSystem("single",singleCreator)}var CalendarModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y,$){var L=getLayoutParams(g);r.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(g,L)},n.prototype.mergeOption=function(g){r.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,g)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel);function mergeAndNormalizeLayoutParams$1(r,n){var g=r.cellSize,y;isArray$2(g)?y=g:y=r.cellSize=[g,g],y.length===1&&(y[1]=y[0]);var $=map$1([0,1],function(L){return sizeCalculable(n,L)&&(y[L]="auto"),y[L]!=null&&y[L]!=="auto"});mergeLayoutParam(r,n,{type:"box",ignoreSize:$})}var CalendarView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){var L=this.group;L.removeAll();var re=g.coordinateSystem,ae=re.getRangeInfo(),le=re.getOrient(),ue=y.getLocaleModel();this._renderDayRect(g,ae,L),this._renderLines(g,ae,le,L),this._renderYearText(g,ae,le,L),this._renderMonthText(g,ue,le,L),this._renderWeekText(g,ue,ae,le,L)},n.prototype._renderDayRect=function(g,y,$){for(var L=g.coordinateSystem,re=g.getModel("itemStyle").getItemStyle(),ae=L.getCellWidth(),le=L.getCellHeight(),ue=y.start.time;ue<=y.end.time;ue=L.getNextNDay(ue,1).time){var he=L.dataToRect([ue],!1).tl,_e=new Rect$2({shape:{x:he[0],y:he[1],width:ae,height:le},cursor:"default",style:re});$.add(_e)}},n.prototype._renderLines=function(g,y,$,L){var re=this,ae=g.coordinateSystem,le=g.getModel(["splitLine","lineStyle"]).getLineStyle(),ue=g.get(["splitLine","show"]),he=le.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var _e=y.start,Ce=0;_e.time<=y.end.time;Ce++){Oe(_e.formatedDate),Ce===0&&(_e=ae.getDateInfo(y.start.y+"-"+y.start.m));var $e=_e.date;$e.setMonth($e.getMonth()+1),_e=ae.getDateInfo($e)}Oe(ae.getNextNDay(y.end.time,1).formatedDate);function Oe(xe){re._firstDayOfMonth.push(ae.getDateInfo(xe)),re._firstDayPoints.push(ae.dataToRect([xe],!1).tl);var Ne=re._getLinePointsOfOneWeek(g,xe,$);re._tlpoints.push(Ne[0]),re._blpoints.push(Ne[Ne.length-1]),ue&&re._drawSplitline(Ne,le,L)}ue&&this._drawSplitline(re._getEdgesPoints(re._tlpoints,he,$),le,L),ue&&this._drawSplitline(re._getEdgesPoints(re._blpoints,he,$),le,L)},n.prototype._getEdgesPoints=function(g,y,$){var L=[g[0].slice(),g[g.length-1].slice()],re=$==="horizontal"?0:1;return L[0][re]=L[0][re]-y/2,L[1][re]=L[1][re]+y/2,L},n.prototype._drawSplitline=function(g,y,$){var L=new Polyline$1({z2:20,shape:{points:g},style:y});$.add(L)},n.prototype._getLinePointsOfOneWeek=function(g,y,$){for(var L=g.coordinateSystem,re=L.getDateInfo(y),ae=[],le=0;le<7;le++){var ue=L.getNextNDay(re.time,le),he=L.dataToRect([ue.time],!1);ae[2*ue.day]=he.tl,ae[2*ue.day+1]=he[$==="horizontal"?"bl":"tr"]}return ae},n.prototype._formatterLabel=function(g,y){return isString(g)&&g?formatTplSimple(g,y):isFunction(g)?g(y):y.nameMap},n.prototype._yearTextPositionControl=function(g,y,$,L,re){var ae=y[0],le=y[1],ue=["center","bottom"];L==="bottom"?(le+=re,ue=["center","top"]):L==="left"?ae-=re:L==="right"?(ae+=re,ue=["center","top"]):le-=re;var he=0;return(L==="left"||L==="right")&&(he=Math.PI/2),{rotation:he,x:ae,y:le,style:{align:ue[0],verticalAlign:ue[1]}}},n.prototype._renderYearText=function(g,y,$,L){var re=g.getModel("yearLabel");if(re.get("show")){var ae=re.get("margin"),le=re.get("position");le||(le=$!=="horizontal"?"top":"left");var ue=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],he=(ue[0][0]+ue[1][0])/2,_e=(ue[0][1]+ue[1][1])/2,Ce=$==="horizontal"?0:1,$e={top:[he,ue[Ce][1]],bottom:[he,ue[1-Ce][1]],left:[ue[1-Ce][0],_e],right:[ue[Ce][0],_e]},Oe=y.start.y;+y.end.y>+y.start.y&&(Oe=Oe+"-"+y.end.y);var xe=re.get("formatter"),Ne={start:y.start.y,end:y.end.y,nameMap:Oe},Ie=this._formatterLabel(xe,Ne),Fe=new ZRText({z2:30,style:createTextStyle$1(re,{text:Ie}),silent:re.get("silent")});Fe.attr(this._yearTextPositionControl(Fe,$e[le],$,le,ae)),L.add(Fe)}},n.prototype._monthTextPositionControl=function(g,y,$,L,re){var ae="left",le="top",ue=g[0],he=g[1];return $==="horizontal"?(he=he+re,y&&(ae="center"),L==="start"&&(le="bottom")):(ue=ue+re,y&&(le="middle"),L==="start"&&(ae="right")),{x:ue,y:he,align:ae,verticalAlign:le}},n.prototype._renderMonthText=function(g,y,$,L){var re=g.getModel("monthLabel");if(re.get("show")){var ae=re.get("nameMap"),le=re.get("margin"),ue=re.get("position"),he=re.get("align"),_e=[this._tlpoints,this._blpoints];(!ae||isString(ae))&&(ae&&(y=getLocaleModel(ae)||y),ae=y.get(["time","monthAbbr"])||[]);var Ce=ue==="start"?0:1,$e=$==="horizontal"?0:1;le=ue==="start"?-le:le;for(var Oe=he==="center",xe=re.get("silent"),Ne=0;Ne<_e[Ce].length-1;Ne++){var Ie=_e[Ce][Ne].slice(),Fe=this._firstDayOfMonth[Ne];if(Oe){var Ve=this._firstDayPoints[Ne];Ie[$e]=(Ve[$e]+_e[0][Ne+1][$e])/2}var ze=re.get("formatter"),Ue=ae[+Fe.m-1],qe={yyyy:Fe.y,yy:(Fe.y+"").slice(2),MM:Fe.m,M:+Fe.m,nameMap:Ue},kt=this._formatterLabel(ze,qe),Et=new ZRText({z2:30,style:extend(createTextStyle$1(re,{text:kt}),this._monthTextPositionControl(Ie,Oe,$,ue,le)),silent:xe});L.add(Et)}}},n.prototype._weekTextPositionControl=function(g,y,$,L,re){var ae="center",le="middle",ue=g[0],he=g[1],_e=$==="start";return y==="horizontal"?(ue=ue+L+(_e?1:-1)*re[0]/2,ae=_e?"right":"left"):(he=he+L+(_e?1:-1)*re[1]/2,le=_e?"bottom":"top"),{x:ue,y:he,align:ae,verticalAlign:le}},n.prototype._renderWeekText=function(g,y,$,L,re){var ae=g.getModel("dayLabel");if(ae.get("show")){var le=g.coordinateSystem,ue=ae.get("position"),he=ae.get("nameMap"),_e=ae.get("margin"),Ce=le.getFirstDayOfWeek();if(!he||isString(he)){he&&(y=getLocaleModel(he)||y);var $e=y.get(["time","dayOfWeekShort"]);he=$e||map$1(y.get(["time","dayOfWeekAbbr"]),function(qe){return qe[0]})}var Oe=le.getNextNDay($.end.time,7-$.lweek).time,xe=[le.getCellWidth(),le.getCellHeight()];_e=parsePercent(_e,Math.min(xe[1],xe[0])),ue==="start"&&(Oe=le.getNextNDay($.start.time,-(7+$.fweek)).time,_e=-_e);for(var Ne=ae.get("silent"),Ie=0;Ie<7;Ie++){var Fe=le.getNextNDay(Oe,Ie),Ve=le.dataToRect([Fe.time],!1).center,ze=Ie;ze=Math.abs((Ie+Ce)%7);var Ue=new ZRText({z2:30,style:extend(createTextStyle$1(ae,{text:he[ze]}),this._weekTextPositionControl(Ve,L,ue,_e,xe)),silent:Ne});re.add(Ue)}}},n.type="calendar",n}(ComponentView),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function r(n,g,y){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=n}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(n){n=parseDate(n);var g=n.getFullYear(),y=n.getMonth()+1,$=y<10?"0"+y:""+y,L=n.getDate(),re=L<10?"0"+L:""+L,ae=n.getDay();return ae=Math.abs((ae+7-this.getFirstDayOfWeek())%7),{y:g+"",m:$,d:re,day:ae,time:n.getTime(),formatedDate:g+"-"+$+"-"+re,date:n}},r.prototype.getNextNDay=function(n,g){return g=g||0,g===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+g),this.getDateInfo(n))},r.prototype.update=function(n,g){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var y=this._rangeInfo.weeks||1,$=["width","height"],L=this._model.getCellSize().slice(),re=this._model.getBoxLayoutParams(),ae=this._orient==="horizontal"?[y,7]:[7,y];each$f([0,1],function(_e){he(L,_e)&&(re[$[_e]]=L[_e]*ae[_e])});var le={width:g.getWidth(),height:g.getHeight()},ue=this._rect=getLayoutRect$1(re,le);each$f([0,1],function(_e){he(L,_e)||(L[_e]=ue[$[_e]]/ae[_e])});function he(_e,Ce){return _e[Ce]!=null&&_e[Ce]!=="auto"}this._sw=L[0],this._sh=L[1]},r.prototype.dataToPoint=function(n,g){isArray$2(n)&&(n=n[0]),g==null&&(g=!0);var y=this.getDateInfo(n),$=this._rangeInfo,L=y.formatedDate;if(g&&!(y.time>=$.start.time&&y.time<$.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var re=y.day,ae=this._getRangeInfo([$.start.time,L]).nthWeek;return this._orient==="vertical"?[this._rect.x+re*this._sw+this._sw/2,this._rect.y+ae*this._sh+this._sh/2]:[this._rect.x+ae*this._sw+this._sw/2,this._rect.y+re*this._sh+this._sh/2]},r.prototype.pointToData=function(n){var g=this.pointToDate(n);return g&&g.time},r.prototype.dataToRect=function(n,g){var y=this.dataToPoint(n,g);return{contentShape:{x:y[0]-(this._sw-this._lineWidth)/2,y:y[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:y,tl:[y[0]-this._sw/2,y[1]-this._sh/2],tr:[y[0]+this._sw/2,y[1]-this._sh/2],br:[y[0]+this._sw/2,y[1]+this._sh/2],bl:[y[0]-this._sw/2,y[1]+this._sh/2]}},r.prototype.pointToDate=function(n){var g=Math.floor((n[0]-this._rect.x)/this._sw)+1,y=Math.floor((n[1]-this._rect.y)/this._sh)+1,$=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(y,g-1,$):this._getDateByWeeksAndDay(g,y-1,$)},r.prototype.convertToPixel=function(n,g,y){var $=getCoordSys(g);return $===this?$.dataToPoint(y):null},r.prototype.convertFromPixel=function(n,g,y){var $=getCoordSys(g);return $===this?$.pointToData(y):null},r.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var n=this._model.get("range"),g;if(isArray$2(n)&&n.length===1&&(n=n[0]),isArray$2(n))g=n;else{var y=n.toString();if(/^\d{4}$/.test(y)&&(g=[y+"-01-01",y+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(y)){var $=this.getDateInfo(y),L=$.date;L.setMonth(L.getMonth()+1);var re=this.getNextNDay(L,-1);g=[$.formatedDate,re.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(y)&&(g=[y,y])}if(!g)return n;var ae=this._getRangeInfo(g);return ae.start.time>ae.end.time&&g.reverse(),g},r.prototype._getRangeInfo=function(n){var g=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],y;g[0].time>g[1].time&&(y=!0,g.reverse());var $=Math.floor(g[1].time/PROXIMATE_ONE_DAY)-Math.floor(g[0].time/PROXIMATE_ONE_DAY)+1,L=new Date(g[0].time),re=L.getDate(),ae=g[1].date.getDate();L.setDate(re+$-1);var le=L.getDate();if(le!==ae)for(var ue=L.getTime()-g[1].time>0?1:-1;(le=L.getDate())!==ae&&(L.getTime()-g[1].time)*ue>0;)$-=ue,L.setDate(le-ue);var he=Math.floor(($+g[0].day+6)/7),_e=y?-he+1:he-1;return y&&g.reverse(),{range:[g[0].formatedDate,g[1].formatedDate],start:g[0],end:g[1],allDay:$,weeks:he,nthWeek:_e,fweek:g[0].day,lweek:g[1].day}},r.prototype._getDateByWeeksAndDay=function(n,g,y){var $=this._getRangeInfo(y);if(n>$.weeks||n===0&&g<$.fweek||n===$.weeks&&g>$.lweek)return null;var L=(n-1)*7-$.fweek+g,re=new Date($.start.time);return re.setDate(+$.start.d+L),this.getDateInfo(re)},r.create=function(n,g){var y=[];return n.eachComponent("calendar",function($){var L=new r($);y.push(L),$.coordinateSystem=L}),n.eachSeries(function($){$.get("coordinateSystem")==="calendar"&&($.coordinateSystem=y[$.get("calendarIndex")||0])}),y},r.dimensions=["time","value"],r}();function getCoordSys(r){var n=r.calendarModel,g=r.seriesModel,y=n?n.coordinateSystem:g?g.coordinateSystem:null;return y}function install$n(r){r.registerComponentModel(CalendarModel),r.registerComponentView(CalendarView),r.registerCoordinateSystem("calendar",Calendar)}function setKeyInfoToNewElOption(r,n){var g=r.existing;if(n.id=r.keyInfo.id,!n.type&&g&&(n.type=g.type),n.parentId==null){var y=n.parentOption;y?n.parentId=y.id:g&&(n.parentId=g.parentId)}n.parentOption=null}function isSetLoc(r,n){var g;return each$f(n,function(y){r[y]!=null&&r[y]!=="auto"&&(g=!0)}),g}function mergeNewElOptionToExist(r,n,g){var y=extend({},g),$=r[n],L=g.$action||"merge";L==="merge"?$?(merge$1($,y,!0),mergeLayoutParam($,y,{ignoreSize:!0}),copyLayoutParams(g,$),copyTransitionInfo(g,$),copyTransitionInfo(g,$,"shape"),copyTransitionInfo(g,$,"style"),copyTransitionInfo(g,$,"extra"),g.clipPath=$.clipPath):r[n]=y:L==="replace"?r[n]=y:L==="remove"&&$&&(r[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(r,n,g){if(g&&(!r[g]&&n[g]&&(r[g]={}),r=r[g],n=n[g]),!(!r||!n))for(var y=g?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,$=0;$<y.length;$++){var L=y[$];r[L]==null&&n[L]!=null&&(r[L]=n[L])}}function setLayoutInfoToExist(r,n){if(r&&(r.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],r.type==="group")){var g=r,y=n;g.width==null&&(g.width=y.width=0),g.height==null&&(g.height=y.height=0)}}var GraphicComponentModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.preventAutoZ=!0,g}return n.prototype.mergeOption=function(g,y){var $=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,g,y),this.option.elements=$},n.prototype.optionUpdated=function(g,y){var $=this.option,L=(y?$:g).elements,re=$.elements=y?[]:$.elements,ae=[];this._flatten(L,ae,null);var le=mappingToExists(re,ae,"normalMerge"),ue=this._elOptionsToUpdate=[];each$f(le,function(he,_e){var Ce=he.newOption;Ce&&(ue.push(Ce),setKeyInfoToNewElOption(he,Ce),mergeNewElOptionToExist(re,_e,Ce),setLayoutInfoToExist(re[_e],Ce))},this),$.elements=filter(re,function(he){return he&&delete he.$action,he!=null})},n.prototype._flatten=function(g,y,$){each$f(g,function(L){if(L){$&&(L.parentOption=$),y.push(L);var re=L.children;re&&re.length&&this._flatten(re,y,L),delete L.children}},this)},n.prototype.useElOptionsToUpdate=function(){var g=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,g},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$3,image:ZRImage,text:ZRText},inner$7=makeInner(),GraphicComponentView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(g,y,$){g!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=g,this._updateElements(g),this._relocate(g,$)},n.prototype._updateElements=function(g){var y=g.useElOptionsToUpdate();if(y){var $=this._elMap,L=this.group,re=g.get("z"),ae=g.get("zlevel");each$f(y,function(le){var ue=convertOptionIdName(le.id,null),he=ue!=null?$.get(ue):null,_e=convertOptionIdName(le.parentId,null),Ce=_e!=null?$.get(_e):L,$e=le.type,Oe=le.style;$e==="text"&&Oe&&le.hv&&le.hv[1]&&(Oe.textVerticalAlign=Oe.textBaseline=Oe.verticalAlign=Oe.align=null);var xe=le.textContent,Ne=le.textConfig;if(Oe&&isEC4CompatibleStyle(Oe,$e,!!Ne,!!xe)){var Ie=convertFromEC4CompatibleStyle(Oe,$e,!0);!Ne&&Ie.textConfig&&(Ne=le.textConfig=Ie.textConfig),!xe&&Ie.textContent&&(xe=Ie.textContent)}var Fe=getCleanedElOption(le),Ve=le.$action||"merge",ze=Ve==="merge",Ue=Ve==="replace";if(ze){var qe=!he,kt=he;qe?kt=createEl(ue,Ce,le.type,$):(kt&&(inner$7(kt).isNew=!1),stopPreviousKeyframeAnimationAndRestore(kt)),kt&&(applyUpdateTransition(kt,Fe,g,{isInit:qe}),updateCommonAttrs(kt,le,re,ae))}else if(Ue){removeEl$1(he,le,$,g);var Et=createEl(ue,Ce,le.type,$);Et&&(applyUpdateTransition(Et,Fe,g,{isInit:!0}),updateCommonAttrs(Et,le,re,ae))}else Ve==="remove"&&(updateLeaveTo(he,le),removeEl$1(he,le,$,g));var Pt=$.get(ue);if(Pt&&xe)if(ze){var At=Pt.getTextContent();At?At.attr(xe):Pt.setTextContent(new ZRText(xe))}else Ue&&Pt.setTextContent(new ZRText(xe));if(Pt){var Dt=le.clipPath;if(Dt){var Lt=Dt.type,hn=void 0,qe=!1;if(ze){var _n=Pt.getClipPath();qe=!_n||inner$7(_n).type!==Lt,hn=qe?newEl(Lt):_n}else Ue&&(qe=!0,hn=newEl(Lt));Pt.setClipPath(hn),applyUpdateTransition(hn,Dt,g,{isInit:qe}),applyKeyframeAnimation(hn,Dt.keyframeAnimation,g)}var vn=inner$7(Pt);Pt.setTextConfig(Ne),vn.option=le,setEventData(Pt,g,le),setTooltipConfig({el:Pt,componentModel:g,itemName:Pt.name,itemTooltipOption:le.tooltip}),applyKeyframeAnimation(Pt,le.keyframeAnimation,g)}})}},n.prototype._relocate=function(g,y){for(var $=g.option.elements,L=this.group,re=this._elMap,ae=y.getWidth(),le=y.getHeight(),ue=["x","y"],he=0;he<$.length;he++){var _e=$[he],Ce=convertOptionIdName(_e.id,null),$e=Ce!=null?re.get(Ce):null;if(!(!$e||!$e.isGroup)){var Oe=$e.parent,xe=Oe===L,Ne=inner$7($e),Ie=inner$7(Oe);Ne.width=parsePercent(Ne.option.width,xe?ae:Ie.width)||0,Ne.height=parsePercent(Ne.option.height,xe?le:Ie.height)||0}}for(var he=$.length-1;he>=0;he--){var _e=$[he],Ce=convertOptionIdName(_e.id,null),$e=Ce!=null?re.get(Ce):null;if($e){var Oe=$e.parent,Ie=inner$7(Oe),Fe=Oe===L?{width:ae,height:le}:{width:Ie.width,height:Ie.height},Ve={},ze=positionElement($e,_e,Fe,null,{hv:_e.hv,boundingMode:_e.bounding},Ve);if(!inner$7($e).isNew&&ze){for(var Ue=_e.transition,qe={},kt=0;kt<ue.length;kt++){var Et=ue[kt],Pt=Ve[Et];Ue&&(isTransitionAll(Ue)||indexOf(Ue,Et)>=0)?qe[Et]=Pt:$e[Et]=Pt}updateProps$1($e,qe,g,0)}else $e.attr(Ve)}}},n.prototype._clear=function(){var g=this,y=this._elMap;y.each(function($){removeEl$1($,inner$7($).option,y,g._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView);function newEl(r){var n=hasOwn(nonShapeGraphicElements,r)?nonShapeGraphicElements[r]:getShapeClass(r),g=new n({});return inner$7(g).type=r,g}function createEl(r,n,g,y){var $=newEl(g);return n.add($),y.set(r,$),inner$7($).id=r,inner$7($).isNew=!0,$}function removeEl$1(r,n,g,y){var $=r&&r.parent;$&&(r.type==="group"&&r.traverse(function(L){removeEl$1(L,n,g,y)}),applyLeaveTransition(r,n,y),g.removeKey(inner$7(r).id))}function updateCommonAttrs(r,n,g,y){r.isGroup||each$f([["cursor",Displayable.prototype.cursor],["zlevel",y||0],["z",g||0],["z2",0]],function($){var L=$[0];hasOwn(n,L)?r[L]=retrieve2(n[L],$[1]):r[L]==null&&(r[L]=$[1])}),each$f(keys$1(n),function($){if($.indexOf("on")===0){var L=n[$];r[$]=isFunction(L)?L:null}}),hasOwn(n,"draggable")&&(r.draggable=n.draggable),n.name!=null&&(r.name=n.name),n.id!=null&&(r.id=n.id)}function getCleanedElOption(r){return r=extend({},r),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete r[n]}),r}function setEventData(r,n,g){var y=getECData(r).eventData;!r.silent&&!r.ignore&&!y&&(y=getECData(r).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:r.name}),y&&(y.info=g.info)}function install$m(r){r.registerComponentModel(GraphicComponentModel),r.registerComponentView(GraphicComponentView),r.registerPreprocessor(function(n){var g=n.graphic;isArray$2(g)?!g[0]||!g[0].elements?n.graphic=[{elements:g}]:n.graphic=[n.graphic[0]]:g&&!g.elements&&(n.graphic=[{elements:[g]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(r){var n=r.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(r){return r+"Axis"}function findEffectedDataZooms(r,n){var g=createHashMap(),y=[],$=createHashMap();r.eachComponent({mainType:"dataZoom",query:n},function(he){$.get(he.uid)||ae(he)});var L;do L=!1,r.eachComponent("dataZoom",re);while(L);function re(he){!$.get(he.uid)&&le(he)&&(ae(he),L=!0)}function ae(he){$.set(he.uid,!0),y.push(he),ue(he)}function le(he){var _e=!1;return he.eachTargetAxis(function(Ce,$e){var Oe=g.get(Ce);Oe&&Oe[$e]&&(_e=!0)}),_e}function ue(he){he.eachTargetAxis(function(_e,Ce){(g.get(_e)||g.set(_e,[]))[Ce]=!0})}return y}function collectReferCoordSysModelInfo(r){var n=r.ecModel,g={infoList:[],infoMap:createHashMap()};return r.eachTargetAxis(function(y,$){var L=n.getComponent(getAxisMainType(y),$);if(L){var re=L.getCoordSysModel();if(re){var ae=re.uid,le=g.infoMap.get(ae);le||(le={model:re,axisModels:[]},g.infoList.push(le),g.infoMap.set(ae,le)),le.axisModels.push(L)}}}),g}var DataZoomAxisInfo=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},r}(),DataZoomModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._autoThrottle=!0,g._noTarget=!0,g._rangePropMode=["percent","percent"],g}return n.prototype.init=function(g,y,$){var L=retrieveRawOption(g);this.settledOption=L,this.mergeDefaultAndTheme(g,$),this._doInit(L)},n.prototype.mergeOption=function(g){var y=retrieveRawOption(g);merge$1(this.option,g,!0),merge$1(this.settledOption,y,!0),this._doInit(y)},n.prototype._doInit=function(g){var y=this.option;this._setDefaultThrottle(g),this._updateRangeUse(g);var $=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(L,re){this._rangePropMode[re]==="value"&&(y[L[0]]=$[L[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var g=this.get("orient",!0),y=this._targetAxisInfoMap=createHashMap(),$=this._fillSpecifiedTargetAxis(y);$?this._orient=g||this._makeAutoOrientByTargetAxis():(this._orient=g||"horizontal",this._fillAutoTargetAxisByOrient(y,this._orient)),this._noTarget=!0,y.each(function(L){L.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(g){var y=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function($){var L=this.getReferringComponents(getAxisMainType($),MULTIPLE_REFERRING);if(L.specified){y=!0;var re=new DataZoomAxisInfo;each$f(L.models,function(ae){re.add(ae.componentIndex)}),g.set($,re)}},this),y},n.prototype._fillAutoTargetAxisByOrient=function(g,y){var $=this.ecModel,L=!0;if(L){var re=y==="vertical"?"y":"x",ae=$.findComponents({mainType:re+"Axis"});le(ae,re)}if(L){var ae=$.findComponents({mainType:"singleAxis",filter:function(he){return he.get("orient",!0)===y}});le(ae,"single")}function le(ue,he){var _e=ue[0];if(_e){var Ce=new DataZoomAxisInfo;if(Ce.add(_e.componentIndex),g.set(he,Ce),L=!1,he==="x"||he==="y"){var $e=_e.getReferringComponents("grid",SINGLE_REFERRING).models[0];$e&&each$f(ue,function(Oe){_e.componentIndex!==Oe.componentIndex&&$e===Oe.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&Ce.add(Oe.componentIndex)})}}}L&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(ue){if(L){var he=$.findComponents({mainType:getAxisMainType(ue),filter:function(Ce){return Ce.get("type",!0)==="category"}});if(he[0]){var _e=new DataZoomAxisInfo;_e.add(he[0].componentIndex),g.set(ue,_e),L=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var g;return this.eachTargetAxis(function(y){!g&&(g=y)},this),g==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(g){if(g.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var y=this.ecModel.option;this.option.throttle=y.animation&&y.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(g){var y=this._rangePropMode,$=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(L,re){var ae=g[L[0]]!=null,le=g[L[1]]!=null;ae&&!le?y[re]="percent":!ae&&le?y[re]="value":$?y[re]=$[re]:ae&&(y[re]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var g;return this.eachTargetAxis(function(y,$){g==null&&(g=this.ecModel.getComponent(getAxisMainType(y),$))},this),g},n.prototype.eachTargetAxis=function(g,y){this._targetAxisInfoMap.each(function($,L){each$f($.indexList,function(re){g.call(y,L,re)})})},n.prototype.getAxisProxy=function(g,y){var $=this.getAxisModel(g,y);if($)return $.__dzAxisProxy},n.prototype.getAxisModel=function(g,y){var $=this._targetAxisInfoMap.get(g);if($&&$.indexMap[y])return this.ecModel.getComponent(getAxisMainType(g),y)},n.prototype.setRawRange=function(g){var y=this.option,$=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(L){(g[L[0]]!=null||g[L[1]]!=null)&&(y[L[0]]=$[L[0]]=g[L[0]],y[L[1]]=$[L[1]]=g[L[1]])},this),this._updateRangeUse(g)},n.prototype.setCalculatedRange=function(g){var y=this.option;each$f(["start","startValue","end","endValue"],function($){y[$]=g[$]})},n.prototype.getPercentRange=function(){var g=this.findRepresentativeAxisProxy();if(g)return g.getDataPercentWindow()},n.prototype.getValueRange=function(g,y){if(g==null&&y==null){var $=this.findRepresentativeAxisProxy();if($)return $.getDataValueWindow()}else return this.getAxisProxy(g,y).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(g){if(g)return g.__dzAxisProxy;for(var y,$=this._targetAxisInfoMap.keys(),L=0;L<$.length;L++)for(var re=$[L],ae=this._targetAxisInfoMap.get(re),le=0;le<ae.indexList.length;le++){var ue=this.getAxisProxy(re,ae.indexList[le]);if(ue.hostedBy(this))return ue;y||(y=ue)}return y},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel);function retrieveRawOption(r){var n={};return each$f(["start","end","startValue","endValue","throttle"],function(g){r.hasOwnProperty(g)&&(n[g]=r[g])}),n}var SelectDataZoomModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="dataZoom.select",n}(DataZoomModel),DataZoomView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$,L){this.dataZoomModel=g,this.ecModel=y,this.api=$},n.type="dataZoom",n}(ComponentView),SelectDataZoomView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="dataZoom.select",n}(DataZoomView),each$7=each$f,asc$1=asc$2,AxisProxy=function(){function r(n,g,y,$){this._dimName=n,this._axisIndex=g,this.ecModel=$,this._dataZoomModel=y}return r.prototype.hostedBy=function(n){return this._dataZoomModel===n},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(g){if(isCoordSupported(g)){var y=getAxisMainType(this._dimName),$=g.getReferringComponents(y,SINGLE_REFERRING).models[0];$&&this._axisIndex===$.componentIndex&&n.push(g)}},this),n},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},r.prototype.calculateDataWindow=function(n){var g=this._dataExtent,y=this.getAxisModel(),$=y.axis.scale,L=this._dataZoomModel.getRangePropMode(),re=[0,100],ae=[],le=[],ue;each$7(["start","end"],function(Ce,$e){var Oe=n[Ce],xe=n[Ce+"Value"];L[$e]==="percent"?(Oe==null&&(Oe=re[$e]),xe=$.parse(linearMap$2(Oe,re,g))):(ue=!0,xe=xe==null?g[$e]:$.parse(xe),Oe=linearMap$2(xe,g,re)),le[$e]=xe==null||isNaN(xe)?g[$e]:xe,ae[$e]=Oe==null||isNaN(Oe)?re[$e]:Oe}),asc$1(le),asc$1(ae);var he=this._minMaxSpan;ue?_e(le,ae,g,re,!1):_e(ae,le,re,g,!0);function _e(Ce,$e,Oe,xe,Ne){var Ie=Ne?"Span":"ValueSpan";sliderMove(0,Ce,Oe,"all",he["min"+Ie],he["max"+Ie]);for(var Fe=0;Fe<2;Fe++)$e[Fe]=linearMap$2(Ce[Fe],Oe,xe,!0),Ne&&($e[Fe]=$.parse($e[Fe]))}return{valueWindow:le,percentWindow:ae}},r.prototype.reset=function(n){if(n===this._dataZoomModel){var g=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,g),this._updateMinMaxSpan();var y=this.calculateDataWindow(n.settledOption);this._valueWindow=y.valueWindow,this._percentWindow=y.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(n,g){if(n!==this._dataZoomModel)return;var y=this._dimName,$=this.getTargetSeriesModels(),L=n.get("filterMode"),re=this._valueWindow;if(L==="none")return;each$7($,function(le){var ue=le.getData(),he=ue.mapDimensionsAll(y);if(he.length){if(L==="weakFilter"){var _e=ue.getStore(),Ce=map$1(he,function($e){return ue.getDimensionIndex($e)},ue);ue.filterSelf(function($e){for(var Oe,xe,Ne,Ie=0;Ie<he.length;Ie++){var Fe=_e.get(Ce[Ie],$e),Ve=!isNaN(Fe),ze=Fe<re[0],Ue=Fe>re[1];if(Ve&&!ze&&!Ue)return!0;Ve&&(Ne=!0),ze&&(Oe=!0),Ue&&(xe=!0)}return Ne&&Oe&&xe})}else each$7(he,function($e){if(L==="empty")le.setData(ue=ue.map($e,function(xe){return ae(xe)?xe:NaN}));else{var Oe={};Oe[$e]=re,ue.selectRange(Oe)}});each$7(he,function($e){ue.setApproximateExtent(re,$e)})}});function ae(le){return le>=re[0]&&le<=re[1]}},r.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},g=this._dataZoomModel,y=this._dataExtent;each$7(["min","max"],function($){var L=g.get($+"Span"),re=g.get($+"ValueSpan");re!=null&&(re=this.getAxisModel().axis.scale.parse(re)),re!=null?L=linearMap$2(y[0]+re,y,[0,100],!0):L!=null&&(re=linearMap$2(L,[0,100],y,!0)-y[0]),n[$+"Span"]=L,n[$+"ValueSpan"]=re},this)},r.prototype._setAxisModel=function(){var n=this.getAxisModel(),g=this._percentWindow,y=this._valueWindow;if(g){var $=getPixelPrecision(y,[0,500]);$=Math.min($,20);var L=n.axis.scale.rawExtentInfo;g[0]!==0&&L.setDeterminedMinMax("min",+y[0].toFixed($)),g[1]!==100&&L.setDeterminedMinMax("max",+y[1].toFixed($)),L.freeze()}},r}();function calculateDataExtent(r,n,g){var y=[1/0,-1/0];each$7(g,function(re){unionAxisExtentFromData(y,re.getData(),n)});var $=r.getAxisModel(),L=ensureScaleRawExtentInfo($.axis.scale,$,y).calculate();return[L.min,L.max]}var dataZoomProcessor={getTargetSeries:function(r){function n($){r.eachComponent("dataZoom",function(L){L.eachTargetAxis(function(re,ae){var le=r.getComponent(getAxisMainType(re),ae);$(re,ae,le,L)})})}n(function($,L,re,ae){re.__dzAxisProxy=null});var g=[];n(function($,L,re,ae){re.__dzAxisProxy||(re.__dzAxisProxy=new AxisProxy($,L,ae,r),g.push(re.__dzAxisProxy))});var y=createHashMap();return each$f(g,function($){each$f($.getTargetSeriesModels(),function(L){y.set(L.uid,L)})}),y},overallReset:function(r,n){r.eachComponent("dataZoom",function(g){g.eachTargetAxis(function(y,$){g.getAxisProxy(y,$).reset(g)}),g.eachTargetAxis(function(y,$){g.getAxisProxy(y,$).filterData(g,n)})}),r.eachComponent("dataZoom",function(g){var y=g.findRepresentativeAxisProxy();if(y){var $=y.getDataPercentWindow(),L=y.getDataValueWindow();g.setCalculatedRange({start:$[0],end:$[1],startValue:L[0],endValue:L[1]})}})}};function installDataZoomAction(r){r.registerAction("dataZoom",function(n,g){var y=findEffectedDataZooms(g,n);each$f(y,function($){$.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$1=!1;function installCommon$1(r){installed$1||(installed$1=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor),installDataZoomAction(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$l(r){r.registerComponentModel(SelectDataZoomModel),r.registerComponentView(SelectDataZoomView),installCommon$1(r)}var ToolboxFeature=function(){function r(){}return r}(),features={};function registerFeature(r,n){features[r]=n}function getFeature(r){return features[r]}var ToolboxModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var g=this.ecModel;each$f(this.option.feature,function(y,$){var L=getFeature($);L&&(L.getDefaultOption&&(L.defaultOption=L.getDefaultOption(g)),merge$1(y,L.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel);function layout(r,n,g){var y=n.getBoxLayoutParams(),$=n.get("padding"),L={width:g.getWidth(),height:g.getHeight()},re=getLayoutRect$1(y,L,$);box(n.get("orient"),r,n.get("itemGap"),re.width,re.height),positionElement(r,y,L,$)}function makeBackground(r,n){var g=normalizeCssArray(n.get("padding")),y=n.getItemStyle(["color","opacity"]);return y.fill=n.get("backgroundColor"),r=new Rect$2({shape:{x:r.x-g[3],y:r.y-g[0],width:r.width+g[1]+g[3],height:r.height+g[0]+g[2],r:n.get("borderRadius")},style:y,silent:!0,z2:-1}),r}var ToolboxView=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(g,y,$,L){var re=this.group;if(re.removeAll(),!g.get("show"))return;var ae=+g.get("itemSize"),le=g.get("orient")==="vertical",ue=g.get("feature")||{},he=this._features||(this._features={}),_e=[];each$f(ue,function(Oe,xe){_e.push(xe)}),new DataDiffer(this._featureNames||[],_e).add(Ce).update(Ce).remove(curry$1(Ce,null)).execute(),this._featureNames=_e;function Ce(Oe,xe){var Ne=_e[Oe],Ie=_e[xe],Fe=ue[Ne],Ve=new Model(Fe,g,g.ecModel),ze;if(L&&L.newTitle!=null&&L.featureName===Ne&&(Fe.title=L.newTitle),Ne&&!Ie){if(isUserFeatureName(Ne))ze={onclick:Ve.option.onclick,featureName:Ne};else{var Ue=getFeature(Ne);if(!Ue)return;ze=new Ue}he[Ne]=ze}else if(ze=he[Ie],!ze)return;ze.uid=getUID("toolbox-feature"),ze.model=Ve,ze.ecModel=y,ze.api=$;var qe=ze instanceof ToolboxFeature;if(!Ne&&Ie){qe&&ze.dispose&&ze.dispose(y,$);return}if(!Ve.get("show")||qe&&ze.unusable){qe&&ze.remove&&ze.remove(y,$);return}$e(Ve,ze,Ne),Ve.setIconStatus=function(kt,Et){var Pt=this.option,At=this.iconPaths;Pt.iconStatus=Pt.iconStatus||{},Pt.iconStatus[kt]=Et,At[kt]&&(Et==="emphasis"?enterEmphasis:leaveEmphasis)(At[kt])},ze instanceof ToolboxFeature&&ze.render&&ze.render(Ve,y,$,L)}function $e(Oe,xe,Ne){var Ie=Oe.getModel("iconStyle"),Fe=Oe.getModel(["emphasis","iconStyle"]),Ve=xe instanceof ToolboxFeature&&xe.getIcons?xe.getIcons():Oe.get("icon"),ze=Oe.get("title")||{},Ue,qe;isString(Ve)?(Ue={},Ue[Ne]=Ve):Ue=Ve,isString(ze)?(qe={},qe[Ne]=ze):qe=ze;var kt=Oe.iconPaths={};each$f(Ue,function(Et,Pt){var At=createIcon(Et,{},{x:-ae/2,y:-ae/2,width:ae,height:ae});At.setStyle(Ie.getItemStyle());var Dt=At.ensureState("emphasis");Dt.style=Fe.getItemStyle();var Lt=new ZRText({style:{text:qe[Pt],align:Fe.get("textAlign"),borderRadius:Fe.get("textBorderRadius"),padding:Fe.get("textPadding"),fill:null,font:getFont({fontStyle:Fe.get("textFontStyle"),fontFamily:Fe.get("textFontFamily"),fontSize:Fe.get("textFontSize"),fontWeight:Fe.get("textFontWeight")},y)},ignore:!0});At.setTextContent(Lt),setTooltipConfig({el:At,componentModel:g,itemName:Pt,formatterParamsExtra:{title:qe[Pt]}}),At.__title=qe[Pt],At.on("mouseover",function(){var hn=Fe.getItemStyle(),_n=le?g.get("right")==null&&g.get("left")!=="right"?"right":"left":g.get("bottom")==null&&g.get("top")!=="bottom"?"bottom":"top";Lt.setStyle({fill:Fe.get("textFill")||hn.fill||hn.stroke||"#000",backgroundColor:Fe.get("textBackgroundColor")}),At.setTextConfig({position:Fe.get("textPosition")||_n}),Lt.ignore=!g.get("showTitle"),$.enterEmphasis(this)}).on("mouseout",function(){Oe.get(["iconStatus",Pt])!=="emphasis"&&$.leaveEmphasis(this),Lt.hide()}),(Oe.get(["iconStatus",Pt])==="emphasis"?enterEmphasis:leaveEmphasis)(At),re.add(At),At.on("click",bind$1(xe.onclick,xe,y,$,Pt)),kt[Pt]=At})}layout(re,g,$),re.add(makeBackground(re.getBoundingRect(),g)),le||re.eachChild(function(Oe){var xe=Oe.__title,Ne=Oe.ensureState("emphasis"),Ie=Ne.textConfig||(Ne.textConfig={}),Fe=Oe.getTextContent(),Ve=Fe&&Fe.ensureState("emphasis");if(Ve&&!isFunction(Ve)&&xe){var ze=Ve.style||(Ve.style={}),Ue=getBoundingRect(xe,ZRText.makeFont(ze)),qe=Oe.x+re.x,kt=Oe.y+re.y+ae,Et=!1;kt+Ue.height>$.getHeight()&&(Ie.position="top",Et=!0);var Pt=Et?-5-Ue.height:ae+10;qe+Ue.width/2>$.getWidth()?(Ie.position=["100%",Pt],ze.align="right"):qe-Ue.width/2<0&&(Ie.position=[0,Pt],ze.align="left")}})},n.prototype.updateView=function(g,y,$,L){each$f(this._features,function(re){re instanceof ToolboxFeature&&re.updateView&&re.updateView(re.model,y,$,L)})},n.prototype.remove=function(g,y){each$f(this._features,function($){$ instanceof ToolboxFeature&&$.remove&&$.remove(g,y)}),this.group.removeAll()},n.prototype.dispose=function(g,y){each$f(this._features,function($){$ instanceof ToolboxFeature&&$.dispose&&$.dispose(g,y)})},n.type="toolbox",n}(ComponentView);function isUserFeatureName(r){return r.indexOf("my")===0}var SaveAsImage=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(g,y){var $=this.model,L=$.get("name")||g.get("title.0.text")||"echarts",re=y.getZr().painter.getType()==="svg",ae=re?"svg":$.get("type",!0)||"png",le=y.getConnectedDataURL({type:ae,backgroundColor:$.get("backgroundColor",!0)||g.get("backgroundColor")||"#fff",connectedBackgroundColor:$.get("connectedBackgroundColor"),excludeComponents:$.get("excludeComponents"),pixelRatio:$.get("pixelRatio")}),ue=env.browser;if(typeof MouseEvent=="function"&&(ue.newEdge||!ue.ie&&!ue.edge)){var he=document.createElement("a");he.download=L+"."+ae,he.target="_blank",he.href=le;var _e=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});he.dispatchEvent(_e)}else if(window.navigator.msSaveOrOpenBlob||re){var Ce=le.split(","),$e=Ce[0].indexOf("base64")>-1,Oe=re?decodeURIComponent(Ce[1]):Ce[1];$e&&(Oe=window.atob(Oe));var xe=L+"."+ae;if(window.navigator.msSaveOrOpenBlob){for(var Ne=Oe.length,Ie=new Uint8Array(Ne);Ne--;)Ie[Ne]=Oe.charCodeAt(Ne);var Fe=new Blob([Ie]);window.navigator.msSaveOrOpenBlob(Fe,xe)}else{var Ve=document.createElement("iframe");document.body.appendChild(Ve);var ze=Ve.contentWindow,Ue=ze.document;Ue.open("image/svg+xml","replace"),Ue.write(Oe),Ue.close(),ze.focus(),Ue.execCommand("SaveAs",!0,xe),document.body.removeChild(Ve)}}else{var qe=$.get("lang"),kt='<body style="margin:0;"><img src="'+le+'" style="max-width:100%;" title="'+(qe&&qe[0]||"")+'" /></body>',Et=window.open();Et.document.write(kt),Et.document.title=L}},n.getDefaultOption=function(g){var y={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:g.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:g.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return y},n}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.getIcons=function(){var g=this.model,y=g.get("icon"),$={};return each$f(g.get("type"),function(L){y[L]&&($[L]=y[L])}),$},n.getDefaultOption=function(g){var y={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:g.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return y},n.prototype.onclick=function(g,y,$){var L=this.model,re=L.get(["seriesIndex",$]);if(seriesOptGenreator[$]){var ae={series:[]},le=function(_e){var Ce=_e.subType,$e=_e.id,Oe=seriesOptGenreator[$](Ce,$e,_e,L);Oe&&(defaults$2(Oe,_e.option),ae.series.push(Oe));var xe=_e.coordinateSystem;if(xe&&xe.type==="cartesian2d"&&($==="line"||$==="bar")){var Ne=xe.getAxesByScale("ordinal")[0];if(Ne){var Ie=Ne.dim,Fe=Ie+"Axis",Ve=_e.getReferringComponents(Fe,SINGLE_REFERRING).models[0],ze=Ve.componentIndex;ae[Fe]=ae[Fe]||[];for(var Ue=0;Ue<=ze;Ue++)ae[Fe][ze]=ae[Fe][ze]||{};ae[Fe][ze].boundaryGap=$==="bar"}}};each$f(radioTypes,function(_e){indexOf(_e,$)>=0&&each$f(_e,function(Ce){L.setIconStatus(Ce,"normal")})}),L.setIconStatus($,"emphasis"),g.eachComponent({mainType:"series",query:re==null?null:{seriesIndex:re}},le);var ue,he=$;$==="stack"&&(ue=merge$1({stack:L.option.title.tiled,tiled:L.option.title.stack},L.option.title),L.get(["iconStatus",$])!=="emphasis"&&(he="tiled")),y.dispatchAction({type:"changeMagicType",currentType:he,newOption:ae,newTitle:ue,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(r,n,g,y){if(r==="bar")return merge$1({id:n,type:"line",data:g.get("data"),stack:g.get("stack"),markPoint:g.get("markPoint"),markLine:g.get("markLine")},y.get(["option","line"])||{},!0)},bar:function(r,n,g,y){if(r==="line")return merge$1({id:n,type:"bar",data:g.get("data"),stack:g.get("stack"),markPoint:g.get("markPoint"),markLine:g.get("markLine")},y.get(["option","bar"])||{},!0)},stack:function(r,n,g,y){var $=g.get("stack")===INNER_STACK_KEYWORD;if(r==="line"||r==="bar")return y.setIconStatus("stack",$?"normal":"emphasis"),merge$1({id:n,stack:$?"":INNER_STACK_KEYWORD},y.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,n){n.mergeOption(r.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(r){var n={},g=[],y=[];return r.eachRawSeries(function($){var L=$.coordinateSystem;if(L&&(L.type==="cartesian2d"||L.type==="polar")){var re=L.getBaseAxis();if(re.type==="category"){var ae=re.dim+"_"+re.index;n[ae]||(n[ae]={categoryAxis:re,valueAxis:L.getOtherAxis(re),series:[]},y.push({axisDim:re.dim,axisIndex:re.index})),n[ae].series.push($)}else g.push($)}else g.push($)}),{seriesGroupByCategoryAxis:n,other:g,meta:y}}function assembleSeriesWithCategoryAxis(r){var n=[];return each$f(r,function(g,y){var $=g.categoryAxis,L=g.valueAxis,re=L.dim,ae=[" "].concat(map$1(g.series,function($e){return $e.name})),le=[$.model.getCategories()];each$f(g.series,function($e){var Oe=$e.getRawData();le.push($e.getRawData().mapArray(Oe.mapDimension(re),function(xe){return xe}))});for(var ue=[ae.join(ITEM_SPLITER)],he=0;he<le[0].length;he++){for(var _e=[],Ce=0;Ce<le.length;Ce++)_e.push(le[Ce][he]);ue.push(_e.join(ITEM_SPLITER))}n.push(ue.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(r){return map$1(r,function(n){var g=n.getRawData(),y=[n.name],$=[];return g.each(g.dimensions,function(){for(var L=arguments.length,re=arguments[L-1],ae=g.getName(re),le=0;le<L-1;le++)$[le]=arguments[le];y.push((ae?ae+ITEM_SPLITER:"")+$.join(ITEM_SPLITER))}),y.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(r){var n=groupSeries(r);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(g){return!!g.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(r){var n=r.slice(0,r.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(r){for(var n=r.split(/\n+/g),g=trim(n.shift()).split(itemSplitRegex),y=[],$=map$1(g,function(le){return{name:le,data:[]}}),L=0;L<n.length;L++){var re=trim(n[L]).split(itemSplitRegex);y.push(re.shift());for(var ae=0;ae<re.length;ae++)$[ae]&&($[ae].data[L]=re[ae])}return{series:$,categories:y}}function parseListContents(r){for(var n=r.split(/\n+/g),g=trim(n.shift()),y=[],$=0;$<n.length;$++){var L=trim(n[$]);if(L){var re=L.split(itemSplitRegex),ae="",le=void 0,ue=!1;isNaN(re[0])?(ue=!0,ae=re[0],re=re.slice(1),y[$]={name:ae,value:[]},le=y[$].value):le=y[$]=[];for(var he=0;he<re.length;he++)le.push(+re[he]);le.length===1&&(ue?y[$].value=le[0]:y[$]=le[0])}}return{name:g,data:y}}function parseContents(r,n){var g=r.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),y={series:[]};return each$f(g,function($,L){if(isTSVFormat($)){var re=parseTSVContents($),ae=n[L],le=ae.axisDim+"Axis";ae&&(y[le]=y[le]||[],y[le][ae.axisIndex]={data:re.categories},y.series=y.series.concat(re.series))}else{var re=parseListContents($);y.series.push(re)}}),y}var DataView=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(g,y){setTimeout(function(){y.dispatchAction({type:"hideTip"})});var $=y.getDom(),L=this.model;this._dom&&$.removeChild(this._dom);var re=document.createElement("div");re.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",re.style.backgroundColor=L.get("backgroundColor")||"#fff";var ae=document.createElement("h4"),le=L.get("lang")||[];ae.innerHTML=le[0]||L.get("title"),ae.style.cssText="margin:10px 20px",ae.style.color=L.get("textColor");var ue=document.createElement("div"),he=document.createElement("textarea");ue.style.cssText="overflow:auto";var _e=L.get("optionToContent"),Ce=L.get("contentToOption"),$e=getContentFromModel(g);if(isFunction(_e)){var Oe=_e(y.getOption());isString(Oe)?ue.innerHTML=Oe:isDom(Oe)&&ue.appendChild(Oe)}else{he.readOnly=L.get("readOnly");var xe=he.style;xe.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",xe.color=L.get("textColor"),xe.borderColor=L.get("textareaBorderColor"),xe.backgroundColor=L.get("textareaColor"),he.value=$e.value,ue.appendChild(he)}var Ne=$e.meta,Ie=document.createElement("div");Ie.style.cssText="position:absolute;bottom:5px;left:0;right:0";var Fe="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",Ve=document.createElement("div"),ze=document.createElement("div");Fe+=";background-color:"+L.get("buttonColor"),Fe+=";color:"+L.get("buttonTextColor");var Ue=this;function qe(){$.removeChild(re),Ue._dom=null}addEventListener(Ve,"click",qe),addEventListener(ze,"click",function(){if(Ce==null&&_e!=null||Ce!=null&&_e==null){qe();return}var kt;try{isFunction(Ce)?kt=Ce(ue,y.getOption()):kt=parseContents(he.value,Ne)}catch(Et){throw qe(),new Error("Data view format error "+Et)}kt&&y.dispatchAction({type:"changeDataView",newOption:kt}),qe()}),Ve.innerHTML=le[1],ze.innerHTML=le[2],ze.style.cssText=Ve.style.cssText=Fe,!L.get("readOnly")&&Ie.appendChild(ze),Ie.appendChild(Ve),re.appendChild(ae),re.appendChild(ue),re.appendChild(Ie),ue.style.height=$.clientHeight-80+"px",$.appendChild(re),this._dom=re},n.prototype.remove=function(g,y){this._dom&&y.getDom().removeChild(this._dom)},n.prototype.dispose=function(g,y){this.remove(g,y)},n.getDefaultOption=function(g){var y={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:g.getLocaleModel().get(["toolbox","dataView","title"]),lang:g.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return y},n}(ToolboxFeature);function tryMergeDataOption(r,n){return map$1(r,function(g,y){var $=n&&n[y];if(isObject$3($)&&!isArray$2($)){var L=isObject$3(g)&&!isArray$2(g);L||(g={value:g});var re=$.name!=null&&g.name==null;return g=defaults$2(g,$),re&&delete g.name,g}else return g})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,n){var g=[];each$f(r.newOption.series,function(y){var $=n.getSeriesByName(y.name)[0];if(!$)g.push(extend({type:"scatter"},y));else{var L=$.get("data");g.push({name:y.name,data:tryMergeDataOption(y.data,L)})}}),n.mergeOption(defaults$2({series:g},r.newOption))});var each$6=each$f,inner$6=makeInner();function push(r,n){var g=getStoreSnapshots(r);each$6(n,function(y,$){for(var L=g.length-1;L>=0;L--){var re=g[L];if(re[$])break}if(L<0){var ae=r.queryComponents({mainType:"dataZoom",subType:"select",id:$})[0];if(ae){var le=ae.getPercentRange();g[0][$]={dataZoomId:$,start:le[0],end:le[1]}}}}),g.push(n)}function pop(r){var n=getStoreSnapshots(r),g=n[n.length-1];n.length>1&&n.pop();var y={};return each$6(g,function($,L){for(var re=n.length-1;re>=0;re--)if($=n[re][L],$){y[L]=$;break}}),y}function clear(r){inner$6(r).snapshots=null}function count(r){return getStoreSnapshots(r).length}function getStoreSnapshots(r){var n=inner$6(r);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.onclick=function(g,y){clear(g),y.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(g){var y={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:g.getLocaleModel().get(["toolbox","restore","title"])};return y},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,n){n.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function r(n,g,y){var $=this;this._targetInfoList=[];var L=parseFinder(g,n);each$f(targetInfoBuilders,function(re,ae){(!y||!y.include||indexOf(y.include,ae)>=0)&&re(L,$._targetInfoList)})}return r.prototype.setOutputRanges=function(n,g){return this.matchOutputRanges(n,g,function(y,$,L){if((y.coordRanges||(y.coordRanges=[])).push($),!y.coordRange){y.coordRange=$;var re=coordConvert[y.brushType](0,L,$);y.__rangeOffset={offset:diffProcessor[y.brushType](re.values,y.range,[1,1]),xyMinMax:re.xyMinMax}}}),n},r.prototype.matchOutputRanges=function(n,g,y){each$f(n,function($){var L=this.findTargetInfo($,g);L&&L!==!0&&each$f(L.coordSyses,function(re){var ae=coordConvert[$.brushType](1,re,$.range,!0);y($,ae.values,re,g)})},this)},r.prototype.setInputRanges=function(n,g){each$f(n,function(y){var $=this.findTargetInfo(y,g);if(y.range=y.range||[],$&&$!==!0){y.panelId=$.panelId;var L=coordConvert[y.brushType](0,$.coordSys,y.coordRange),re=y.__rangeOffset;y.range=re?diffProcessor[y.brushType](L.values,re.offset,getScales(L.xyMinMax,re.xyMinMax)):L.values}},this)},r.prototype.makePanelOpts=function(n,g){return map$1(this._targetInfoList,function(y){var $=y.getPanelRect();return{panelId:y.panelId,defaultBrushType:g?g(y):null,clipPath:makeRectPanelClipPath($),isTargetByCursor:makeRectIsTargetByCursor($,n,y.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent($)}})},r.prototype.controlSeries=function(n,g,y){var $=this.findTargetInfo(n,y);return $===!0||$&&indexOf($.coordSyses,g.coordinateSystem)>=0},r.prototype.findTargetInfo=function(n,g){for(var y=this._targetInfoList,$=parseFinder(g,n),L=0;L<y.length;L++){var re=y[L],ae=n.panelId;if(ae){if(re.panelId===ae)return re}else for(var le=0;le<targetInfoMatchers.length;le++)if(targetInfoMatchers[le]($,re))return re}return!0},r}();function formatMinMax(r){return r[0]>r[1]&&r.reverse(),r}function parseFinder(r,n){return parseFinder$1(r,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(r,n){var g=r.xAxisModels,y=r.yAxisModels,$=r.gridModels,L=createHashMap(),re={},ae={};!g&&!y&&!$||(each$f(g,function(le){var ue=le.axis.grid.model;L.set(ue.id,ue),re[ue.id]=!0}),each$f(y,function(le){var ue=le.axis.grid.model;L.set(ue.id,ue),ae[ue.id]=!0}),each$f($,function(le){L.set(le.id,le),re[le.id]=!0,ae[le.id]=!0}),L.each(function(le){var ue=le.coordinateSystem,he=[];each$f(ue.getCartesians(),function(_e,Ce){(indexOf(g,_e.getAxis("x").model)>=0||indexOf(y,_e.getAxis("y").model)>=0)&&he.push(_e)}),n.push({panelId:"grid--"+le.id,gridModel:le,coordSysModel:le,coordSys:he[0],coordSyses:he,getPanelRect:panelRectBuilders.grid,xAxisDeclared:re[le.id],yAxisDeclared:ae[le.id]})}))},geo:function(r,n){each$f(r.geoModels,function(g){var y=g.coordinateSystem;n.push({panelId:"geo--"+g.id,geoModel:g,coordSysModel:g,coordSys:y,coordSyses:[y],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(r,n){var g=r.xAxisModel,y=r.yAxisModel,$=r.gridModel;return!$&&g&&($=g.axis.grid.model),!$&&y&&($=y.axis.grid.model),$&&$===n.gridModel},function(r,n){var g=r.geoModel;return g&&g===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,n=r.getBoundingRect().clone();return n.applyTransform(getTransform$1(r)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(r,n,g,y){var $=r?n.pointToData([g[0][0],g[1][0]],y):n.dataToPoint([g[0][0],g[1][0]],y),L=r?n.pointToData([g[0][1],g[1][1]],y):n.dataToPoint([g[0][1],g[1][1]],y),re=[formatMinMax([$[0],L[0]]),formatMinMax([$[1],L[1]])];return{values:re,xyMinMax:re}},polygon:function(r,n,g,y){var $=[[1/0,-1/0],[1/0,-1/0]],L=map$1(g,function(re){var ae=r?n.pointToData(re,y):n.dataToPoint(re,y);return $[0][0]=Math.min($[0][0],ae[0]),$[1][0]=Math.min($[1][0],ae[1]),$[0][1]=Math.max($[0][1],ae[0]),$[1][1]=Math.max($[1][1],ae[1]),ae});return{values:L,xyMinMax:$}}};function axisConvert(r,n,g,y){var $=g.getAxis(["x","y"][r]),L=formatMinMax(map$1([0,1],function(ae){return n?$.coordToData($.toLocalCoord(y[ae]),!0):$.toGlobalCoord($.dataToCoord(y[ae]))})),re=[];return re[r]=L,re[1-r]=[NaN,NaN],{values:L,xyMinMax:re}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(r,n,g){return[[r[0][0]-g[0]*n[0][0],r[0][1]-g[0]*n[0][1]],[r[1][0]-g[1]*n[1][0],r[1][1]-g[1]*n[1][1]]]},polygon:function(r,n,g){return map$1(r,function(y,$){return[y[0]-g[0]*n[$][0],y[1]-g[1]*n[$][1]]})}};function axisDiffProcessor(r,n,g,y){return[n[0]-y[r]*g[0],n[1]-y[r]*g[1]]}function getScales(r,n){var g=getSize(r),y=getSize(n),$=[g[0]/y[0],g[1]/y[1]];return isNaN($[0])&&($[0]=1),isNaN($[1])&&($[1]=1),$}function getSize(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(g,y,$,L){this._brushController||(this._brushController=new BrushController($.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(g,y,this,L,$),updateBackBtnStatus(g,y)},n.prototype.onclick=function(g,y,$){handlers$1[$].call(this)},n.prototype.remove=function(g,y){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(g,y){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(g){var y=g.areas;if(!g.isEnd||!y.length)return;var $={},L=this.ecModel;this._brushController.updateCovers([]);var re=new BrushTargetManager(makeAxisFinder(this.model),L,{include:["grid"]});re.matchOutputRanges(y,L,function(ue,he,_e){if(_e.type==="cartesian2d"){var Ce=ue.brushType;Ce==="rect"?(ae("x",_e,he[0]),ae("y",_e,he[1])):ae({lineX:"x",lineY:"y"}[Ce],_e,he)}}),push(L,$),this._dispatchZoomAction($);function ae(ue,he,_e){var Ce=he.getAxis(ue),$e=Ce.model,Oe=le(ue,$e,L),xe=Oe.findRepresentativeAxisProxy($e).getMinMaxSpan();(xe.minValueSpan!=null||xe.maxValueSpan!=null)&&(_e=sliderMove(0,_e.slice(),Ce.scale.getExtent(),0,xe.minValueSpan,xe.maxValueSpan)),Oe&&($[Oe.id]={dataZoomId:Oe.id,startValue:_e[0],endValue:_e[1]})}function le(ue,he,_e){var Ce;return _e.eachComponent({mainType:"dataZoom",subType:"select"},function($e){var Oe=$e.getAxisModel(ue,he.componentIndex);Oe&&(Ce=$e)}),Ce}},n.prototype._dispatchZoomAction=function(g){var y=[];each$5(g,function($,L){y.push(clone$4($))}),y.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:y})},n.getDefaultOption=function(g){var y={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:g.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return y},n}(ToolboxFeature),handlers$1={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(r){var n={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(r,n){r.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(r,n,g,y,$){var L=g._isZoomActive;y&&y.type==="takeGlobalCursor"&&(L=y.key==="dataZoomSelect"?y.dataZoomSelectActive:!1),g._isZoomActive=L,r.setIconStatus("zoom",L?"emphasis":"normal");var re=new BrushTargetManager(makeAxisFinder(r),n,{include:["grid"]}),ae=re.makePanelOpts($,function(le){return le.xAxisDeclared&&!le.yAxisDeclared?"lineX":!le.xAxisDeclared&&le.yAxisDeclared?"lineY":"rect"});g._brushController.setPanels(ae).enableBrush(L&&ae.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(r){var n=r.getComponent("toolbox",0),g=["feature","dataZoom"];if(!n||n.get(g)==null)return;var y=n.getModel(g),$=[],L=makeAxisFinder(y),re=parseFinder$1(r,L);each$5(re.xAxisModels,function(le){return ae(le,"xAxis","xAxisIndex")}),each$5(re.yAxisModels,function(le){return ae(le,"yAxis","yAxisIndex")});function ae(le,ue,he){var _e=le.componentIndex,Ce={type:"select",$fromToolbox:!0,filterMode:y.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+ue+_e};Ce[he]=_e,$.push(Ce)}return $});function install$k(r){r.registerComponentModel(ToolboxModel),r.registerComponentView(ToolboxView),registerFeature("saveAsImage",SaveAsImage),registerFeature("magicType",MagicType),registerFeature("dataView",DataView),registerFeature("dataZoom",DataZoomFeature),registerFeature("restore",RestoreOption),use(install$l)}var TooltipModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel);function shouldTooltipConfine(r){var n=r.get("confine");return n!=null?!!n:r.get("renderMode")==="richText"}function testStyle(r){if(env.domSupported){for(var n=document.documentElement.style,g=0,y=r.length;g<y;g++)if(r[g]in n)return r[g]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(r,n){if(!r)return n;n=toCamelCase(n,!0);var g=r.indexOf(n);return r=g===-1?n:"-"+r.slice(0,g)+"-"+n,r.toLowerCase()}function getComputedStyle$2(r,n){var g=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return g?g[n]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function assembleArrow(r,n,g){if(!isString(g)||g==="inside")return"";var y=r.get("backgroundColor"),$=r.get("borderWidth");n=convertToColorString(n);var L=mirrorPos(g),re=Math.max(Math.round($)*1.5,6),ae="",le=CSS_TRANSFORM_VENDOR+":",ue;indexOf(["left","right"],L)>-1?(ae+="top:50%",le+="translateY(-50%) rotate("+(ue=L==="left"?-225:-45)+"deg)"):(ae+="left:50%",le+="translateX(-50%) rotate("+(ue=L==="top"?225:45)+"deg)");var he=ue*Math.PI/180,_e=re+$,Ce=_e*Math.abs(Math.cos(he))+_e*Math.abs(Math.sin(he)),$e=Math.round(((Ce-Math.SQRT2*$)/2+Math.SQRT2*$-(Ce-_e)/2)*100)/100;ae+=";"+L+":-"+$e+"px";var Oe=n+" solid "+$+"px;",xe=["position:absolute;width:"+re+"px;height:"+re+"px;z-index:-1;",ae+";"+le+";","border-bottom:"+Oe,"border-right:"+Oe,"background-color:"+y+";"];return'<div style="'+xe.join("")+'"></div>'}function assembleTransition(r,n){var g="cubic-bezier(0.23,1,0.32,1)",y=" "+r/2+"s "+g,$="opacity"+y+",visibility"+y;return n||(y=" "+r+"s "+g,$+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+y:",left"+y+",top"+y),CSS_TRANSITION_VENDOR+":"+$}function assembleTransform(r,n,g){var y=r.toFixed(0)+"px",$=n.toFixed(0)+"px";if(!env.transformSupported)return g?"top:"+$+";left:"+y+";":[["top",$],["left",y]];var L=env.transform3dSupported,re="translate"+(L?"3d":"")+"("+y+","+$+(L?",0":"")+")";return g?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+re+";":[["top",0],["left",0],[TRANSFORM_VENDOR,re]]}function assembleFont(r){var n=[],g=r.get("fontSize"),y=r.getTextColor();y&&n.push("color:"+y),n.push("font:"+r.getFont());var $=retrieve2(r.get("lineHeight"),Math.round(g*3/2));g&&n.push("line-height:"+$+"px");var L=r.get("textShadowColor"),re=r.get("textShadowBlur")||0,ae=r.get("textShadowOffsetX")||0,le=r.get("textShadowOffsetY")||0;return L&&re&&n.push("text-shadow:"+ae+"px "+le+"px "+re+"px "+L),each$f(["decoration","align"],function(ue){var he=r.get(ue);he&&n.push("text-"+ue+":"+he)}),n.join(";")}function assembleCssText(r,n,g){var y=[],$=r.get("transitionDuration"),L=r.get("backgroundColor"),re=r.get("shadowBlur"),ae=r.get("shadowColor"),le=r.get("shadowOffsetX"),ue=r.get("shadowOffsetY"),he=r.getModel("textStyle"),_e=getPaddingFromTooltipModel(r,"html"),Ce=le+"px "+ue+"px "+re+"px "+ae;return y.push("box-shadow:"+Ce),n&&$&&y.push(assembleTransition($,g)),L&&y.push("background-color:"+L),each$f(["width","color","radius"],function($e){var Oe="border-"+$e,xe=toCamelCase(Oe),Ne=r.get(xe);Ne!=null&&y.push(Oe+":"+Ne+($e==="color"?"":"px"))}),y.push(assembleFont(he)),_e!=null&&y.push("padding:"+normalizeCssArray(_e).join("px ")+"px"),y.join(";")+";"}function makeStyleCoord$1(r,n,g,y,$){var L=n&&n.painter;if(g){var re=L&&L.getViewportRoot();re&&transformLocalCoord(r,re,g,y,$)}else{r[0]=y,r[1]=$;var ae=L&&L.getViewportRootOffset();ae&&(r[0]+=ae.offsetLeft,r[1]+=ae.offsetTop)}r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var TooltipHTMLContent=function(){function r(n,g){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var y=document.createElement("div");y.domBelongToZr=!0,this.el=y;var $=this._zr=n.getZr(),L=g.appendTo,re=L&&(isString(L)?document.querySelector(L):isDom(L)?L:isFunction(L)&&L(n.getDom()));makeStyleCoord$1(this._styleCoord,$,re,n.getWidth()/2,n.getHeight()/2),(re||n.getDom()).appendChild(y),this._api=n,this._container=re;var ae=this;y.onmouseenter=function(){ae._enterable&&(clearTimeout(ae._hideTimeout),ae._show=!0),ae._inContent=!0},y.onmousemove=function(le){if(le=le||window.event,!ae._enterable){var ue=$.handler,he=$.painter.getViewportRoot();normalizeEvent(he,le,!0),ue.dispatch("mousemove",le)}},y.onmouseleave=function(){ae._inContent=!1,ae._enterable&&ae._show&&ae.hideLater(ae._hideDelay)}}return r.prototype.update=function(n){if(!this._container){var g=this._api.getDom(),y=getComputedStyle$2(g,"position"),$=g.style;$.position!=="absolute"&&y!=="absolute"&&($.position="relative")}var L=n.get("alwaysShowContent");L&&this._moveIfResized(),this._alwaysShowContent=L,this.el.className=n.get("className")||""},r.prototype.show=function(n,g){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var y=this.el,$=y.style,L=this._styleCoord;y.innerHTML?$.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(L[0],L[1],!0)+("border-color:"+convertToColorString(g)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):$.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(n,g,y,$,L){var re=this.el;if(n==null){re.innerHTML="";return}var ae="";if(isString(L)&&y.get("trigger")==="item"&&!shouldTooltipConfine(y)&&(ae=assembleArrow(y,$,L)),isString(n))re.innerHTML=n+ae;else if(n){re.innerHTML="",isArray$2(n)||(n=[n]);for(var le=0;le<n.length;le++)isDom(n[le])&&n[le].parentNode!==re&&re.appendChild(n[le]);if(ae&&re.childNodes.length){var ue=document.createElement("div");ue.innerHTML=ae,re.appendChild(ue)}}},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el;return n?[n.offsetWidth,n.offsetHeight]:[0,0]},r.prototype.moveTo=function(n,g){if(this.el){var y=this._styleCoord;if(makeStyleCoord$1(y,this._zr,this._container,n,g),y[0]!=null&&y[1]!=null){var $=this.el.style,L=assembleTransform(y[0],y[1]);each$f(L,function(re){$[re[0]]=re[1]})}}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],g=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),g*this._zr.getHeight())},r.prototype.hide=function(){var n=this,g=this.el.style;g.visibility="hidden",g.opacity="0",env.transform3dSupported&&(g.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el.parentNode;n&&n.removeChild(this.el),this.el=this._container=null},r}(),TooltipRichContent=function(){function r(n){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return r.prototype.update=function(n){var g=n.get("alwaysShowContent");g&&this._moveIfResized(),this._alwaysShowContent=g},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(n,g,y,$,L){var re=this;isObject$3(n)&&throwError(""),this.el&&this._zr.remove(this.el);var ae=y.getModel("textStyle");this.el=new ZRText({style:{rich:g.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:$,textShadowColor:ae.get("textShadowColor"),fill:y.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(y,"richText"),verticalAlign:"top",align:"left"},z:y.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(ue){re.el.style[ue]=y.get(ue)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(ue){re.el.style[ue]=ae.get(ue)||0}),this._zr.add(this.el);var le=this;this.el.on("mouseover",function(){le._enterable&&(clearTimeout(le._hideTimeout),le._show=!0),le._inContent=!0}),this.el.on("mouseout",function(){le._enterable&&le._show&&le.hideLater(le._hideDelay),le._inContent=!1})},r.prototype.setEnterable=function(n){this._enterable=n},r.prototype.getSize=function(){var n=this.el,g=this.el.getBoundingRect(),y=calcShadowOuterSize(n.style);return[g.width+y.left+y.right,g.height+y.top+y.bottom]},r.prototype.moveTo=function(n,g){var y=this.el;if(y){var $=this._styleCoord;makeStyleCoord($,this._zr,n,g),n=$[0],g=$[1];var L=y.style,re=mathMaxWith0(L.borderWidth||0),ae=calcShadowOuterSize(L);y.x=n+re+ae.left,y.y=g+re+ae.top,y.markRedraw()}},r.prototype._moveIfResized=function(){var n=this._styleCoord[2],g=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),g*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function mathMaxWith0(r){return Math.max(0,r)}function calcShadowOuterSize(r){var n=mathMaxWith0(r.shadowBlur||0),g=mathMaxWith0(r.shadowOffsetX||0),y=mathMaxWith0(r.shadowOffsetY||0);return{left:mathMaxWith0(n-g),right:mathMaxWith0(n+g),top:mathMaxWith0(n-y),bottom:mathMaxWith0(n+y)}}function makeStyleCoord(r,n,g,y){r[0]=g,r[1]=y,r[2]=r[0]/n.getWidth(),r[3]=r[1]/n.getHeight()}var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y){if(!(env.node||!y.getDom())){var $=g.getComponent("tooltip"),L=this._renderMode=getTooltipRenderMode($.get("renderMode"));this._tooltipContent=L==="richText"?new TooltipRichContent(y):new TooltipHTMLContent(y,{appendTo:$.get("appendToBody",!0)?"body":$.get("appendTo",!0)})}},n.prototype.render=function(g,y,$){if(!(env.node||!$.getDom())){this.group.removeAll(),this._tooltipModel=g,this._ecModel=y,this._api=$;var L=this._tooltipContent;L.update(g),L.setEnterable(g.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&g.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var g=this._tooltipModel,y=g.get("triggerOn");register("itemTooltip",this._api,bind$1(function($,L,re){y!=="none"&&(y.indexOf($)>=0?this._tryShow(L,re):$==="leave"&&this._hide(re))},this))},n.prototype._keepShow=function(){var g=this._tooltipModel,y=this._ecModel,$=this._api,L=g.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&L!=="none"&&L!=="click"){var re=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!$.isDisposed()&&re.manuallyShowTip(g,y,$,{x:re._lastX,y:re._lastY,dataByCoordSys:re._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(g,y,$,L){if(!(L.from===this.uid||env.node||!$.getDom())){var re=makeDispatchAction(L,$);this._ticket="";var ae=L.dataByCoordSys,le=findComponentReference(L,y,$);if(le){var ue=le.el.getBoundingRect().clone();ue.applyTransform(le.el.transform),this._tryShow({offsetX:ue.x+ue.width/2,offsetY:ue.y+ue.height/2,target:le.el,position:L.position,positionDefault:"bottom"},re)}else if(L.tooltip&&L.x!=null&&L.y!=null){var he=proxyRect;he.x=L.x,he.y=L.y,he.update(),getECData(he).tooltipConfig={name:null,option:L.tooltip},this._tryShow({offsetX:L.x,offsetY:L.y,target:he},re)}else if(ae)this._tryShow({offsetX:L.x,offsetY:L.y,position:L.position,dataByCoordSys:ae,tooltipOption:L.tooltipOption},re);else if(L.seriesIndex!=null){if(this._manuallyAxisShowTip(g,y,$,L))return;var _e=findPointFromSeries(L,y),Ce=_e.point[0],$e=_e.point[1];Ce!=null&&$e!=null&&this._tryShow({offsetX:Ce,offsetY:$e,target:_e.el,position:L.position,positionDefault:"bottom"},re)}else L.x!=null&&L.y!=null&&($.dispatchAction({type:"updateAxisPointer",x:L.x,y:L.y}),this._tryShow({offsetX:L.x,offsetY:L.y,position:L.position,target:$.getZr().findHover(L.x,L.y).target},re))}},n.prototype.manuallyHideTip=function(g,y,$,L){var re=this._tooltipContent;this._tooltipModel&&re.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,L.from!==this.uid&&this._hide(makeDispatchAction(L,$))},n.prototype._manuallyAxisShowTip=function(g,y,$,L){var re=L.seriesIndex,ae=L.dataIndex,le=y.getComponent("axisPointer").coordSysAxesInfo;if(!(re==null||ae==null||le==null)){var ue=y.getSeriesByIndex(re);if(ue){var he=ue.getData(),_e=buildTooltipModel([he.getItemModel(ae),ue,(ue.coordinateSystem||{}).model],this._tooltipModel);if(_e.get("trigger")==="axis")return $.dispatchAction({type:"updateAxisPointer",seriesIndex:re,dataIndex:ae,position:L.position}),!0}}},n.prototype._tryShow=function(g,y){var $=g.target,L=this._tooltipModel;if(L){this._lastX=g.offsetX,this._lastY=g.offsetY;var re=g.dataByCoordSys;if(re&&re.length)this._showAxisTooltip(re,g);else if($){var ae=getECData($);if(ae.ssrType==="legend")return;this._lastDataByCoordSys=null;var le,ue;findEventDispatcher($,function(he){if(getECData(he).dataIndex!=null)return le=he,!0;if(getECData(he).tooltipConfig!=null)return ue=he,!0},!0),le?this._showSeriesItemTooltip(g,le,y):ue?this._showComponentItemTooltip(g,ue,y):this._hide(y)}else this._lastDataByCoordSys=null,this._hide(y)}},n.prototype._showOrMove=function(g,y){var $=g.get("showDelay");y=bind$1(y,this),clearTimeout(this._showTimout),$>0?this._showTimout=setTimeout(y,$):y()},n.prototype._showAxisTooltip=function(g,y){var $=this._ecModel,L=this._tooltipModel,re=[y.offsetX,y.offsetY],ae=buildTooltipModel([y.tooltipOption],L),le=this._renderMode,ue=[],he=createTooltipMarkup("section",{blocks:[],noHeader:!0}),_e=[],Ce=new TooltipMarkupStyleCreator;each$f(g,function(Fe){each$f(Fe.dataByAxis,function(Ve){var ze=$.getComponent(Ve.axisDim+"Axis",Ve.axisIndex),Ue=Ve.value;if(!(!ze||Ue==null)){var qe=getValueLabel(Ue,ze.axis,$,Ve.seriesDataIndices,Ve.valueLabelOpt),kt=createTooltipMarkup("section",{header:qe,noHeader:!trim$1(qe),sortBlocks:!0,blocks:[]});he.blocks.push(kt),each$f(Ve.seriesDataIndices,function(Et){var Pt=$.getSeriesByIndex(Et.seriesIndex),At=Et.dataIndexInside,Dt=Pt.getDataParams(At);if(!(Dt.dataIndex<0)){Dt.axisDim=Ve.axisDim,Dt.axisIndex=Ve.axisIndex,Dt.axisType=Ve.axisType,Dt.axisId=Ve.axisId,Dt.axisValue=getAxisRawValue(ze.axis,{value:Ue}),Dt.axisValueLabel=qe,Dt.marker=Ce.makeTooltipMarker("item",convertToColorString(Dt.color),le);var Lt=normalizeTooltipFormatResult(Pt.formatTooltip(At,!0,null)),hn=Lt.frag;if(hn){var _n=buildTooltipModel([Pt],L).get("valueFormatter");kt.blocks.push(_n?extend({valueFormatter:_n},hn):hn)}Lt.text&&_e.push(Lt.text),ue.push(Dt)}})}})}),he.blocks.reverse(),_e.reverse();var $e=y.position,Oe=ae.get("order"),xe=buildTooltipMarkup(he,Ce,le,Oe,$.get("useUTC"),ae.get("textStyle"));xe&&_e.unshift(xe);var Ne=le==="richText"?`

`:"<br/>",Ie=_e.join(Ne);this._showOrMove(ae,function(){this._updateContentNotChangedOnAxis(g,ue)?this._updatePosition(ae,$e,re[0],re[1],this._tooltipContent,ue):this._showTooltipContent(ae,Ie,ue,Math.random()+"",re[0],re[1],$e,null,Ce)})},n.prototype._showSeriesItemTooltip=function(g,y,$){var L=this._ecModel,re=getECData(y),ae=re.seriesIndex,le=L.getSeriesByIndex(ae),ue=re.dataModel||le,he=re.dataIndex,_e=re.dataType,Ce=ue.getData(_e),$e=this._renderMode,Oe=g.positionDefault,xe=buildTooltipModel([Ce.getItemModel(he),ue,le&&(le.coordinateSystem||{}).model],this._tooltipModel,Oe?{position:Oe}:null),Ne=xe.get("trigger");if(!(Ne!=null&&Ne!=="item")){var Ie=ue.getDataParams(he,_e),Fe=new TooltipMarkupStyleCreator;Ie.marker=Fe.makeTooltipMarker("item",convertToColorString(Ie.color),$e);var Ve=normalizeTooltipFormatResult(ue.formatTooltip(he,!1,_e)),ze=xe.get("order"),Ue=xe.get("valueFormatter"),qe=Ve.frag,kt=qe?buildTooltipMarkup(Ue?extend({valueFormatter:Ue},qe):qe,Fe,$e,ze,L.get("useUTC"),xe.get("textStyle")):Ve.text,Et="item_"+ue.name+"_"+he;this._showOrMove(xe,function(){this._showTooltipContent(xe,kt,Ie,Et,g.offsetX,g.offsetY,g.position,g.target,Fe)}),$({type:"showTip",dataIndexInside:he,dataIndex:Ce.getRawIndex(he),seriesIndex:ae,from:this.uid})}},n.prototype._showComponentItemTooltip=function(g,y,$){var L=this._renderMode==="html",re=getECData(y),ae=re.tooltipConfig,le=ae.option||{},ue=le.encodeHTMLContent;if(isString(le)){var he=le;le={content:he,formatter:he},ue=!0}ue&&L&&le.content&&(le=clone$4(le),le.content=encodeHTML(le.content));var _e=[le],Ce=this._ecModel.getComponent(re.componentMainType,re.componentIndex);Ce&&_e.push(Ce),_e.push({formatter:le.content});var $e=g.positionDefault,Oe=buildTooltipModel(_e,this._tooltipModel,$e?{position:$e}:null),xe=Oe.get("content"),Ne=Math.random()+"",Ie=new TooltipMarkupStyleCreator;this._showOrMove(Oe,function(){var Fe=clone$4(Oe.get("formatterParams")||{});this._showTooltipContent(Oe,xe,Fe,Ne,g.offsetX,g.offsetY,g.position,y,Ie)}),$({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(g,y,$,L,re,ae,le,ue,he){if(this._ticket="",!(!g.get("showContent")||!g.get("show"))){var _e=this._tooltipContent;_e.setEnterable(g.get("enterable"));var Ce=g.get("formatter");le=le||g.get("position");var $e=y,Oe=this._getNearestPoint([re,ae],$,g.get("trigger"),g.get("borderColor")),xe=Oe.color;if(Ce)if(isString(Ce)){var Ne=g.ecModel.get("useUTC"),Ie=isArray$2($)?$[0]:$,Fe=Ie&&Ie.axisType&&Ie.axisType.indexOf("time")>=0;$e=Ce,Fe&&($e=format$1(Ie.axisValue,$e,Ne)),$e=formatTpl($e,$,!0)}else if(isFunction(Ce)){var Ve=bind$1(function(ze,Ue){ze===this._ticket&&(_e.setContent(Ue,he,g,xe,le),this._updatePosition(g,le,re,ae,_e,$,ue))},this);this._ticket=L,$e=Ce($,L,Ve)}else $e=Ce;_e.setContent($e,he,g,xe,le),_e.show(g,xe),this._updatePosition(g,le,re,ae,_e,$,ue)}},n.prototype._getNearestPoint=function(g,y,$,L){if($==="axis"||isArray$2(y))return{color:L||(this._renderMode==="html"?"#fff":"none")};if(!isArray$2(y))return{color:L||y.color||y.borderColor}},n.prototype._updatePosition=function(g,y,$,L,re,ae,le){var ue=this._api.getWidth(),he=this._api.getHeight();y=y||g.get("position");var _e=re.getSize(),Ce=g.get("align"),$e=g.get("verticalAlign"),Oe=le&&le.getBoundingRect().clone();if(le&&Oe.applyTransform(le.transform),isFunction(y)&&(y=y([$,L],ae,re.el,Oe,{viewSize:[ue,he],contentSize:_e.slice()})),isArray$2(y))$=parsePercent(y[0],ue),L=parsePercent(y[1],he);else if(isObject$3(y)){var xe=y;xe.width=_e[0],xe.height=_e[1];var Ne=getLayoutRect$1(xe,{width:ue,height:he});$=Ne.x,L=Ne.y,Ce=null,$e=null}else if(isString(y)&&le){var Ie=calcTooltipPosition(y,Oe,_e,g.get("borderWidth"));$=Ie[0],L=Ie[1]}else{var Ie=refixTooltipPosition($,L,re,ue,he,Ce?null:20,$e?null:20);$=Ie[0],L=Ie[1]}if(Ce&&($-=isCenterAlign(Ce)?_e[0]/2:Ce==="right"?_e[0]:0),$e&&(L-=isCenterAlign($e)?_e[1]/2:$e==="bottom"?_e[1]:0),shouldTooltipConfine(g)){var Ie=confineTooltipPosition($,L,re,ue,he);$=Ie[0],L=Ie[1]}re.moveTo($,L)},n.prototype._updateContentNotChangedOnAxis=function(g,y){var $=this._lastDataByCoordSys,L=this._cbParamsList,re=!!$&&$.length===g.length;return re&&each$f($,function(ae,le){var ue=ae.dataByAxis||[],he=g[le]||{},_e=he.dataByAxis||[];re=re&&ue.length===_e.length,re&&each$f(ue,function(Ce,$e){var Oe=_e[$e]||{},xe=Ce.seriesDataIndices||[],Ne=Oe.seriesDataIndices||[];re=re&&Ce.value===Oe.value&&Ce.axisType===Oe.axisType&&Ce.axisId===Oe.axisId&&xe.length===Ne.length,re&&each$f(xe,function(Ie,Fe){var Ve=Ne[Fe];re=re&&Ie.seriesIndex===Ve.seriesIndex&&Ie.dataIndex===Ve.dataIndex}),L&&each$f(Ce.seriesDataIndices,function(Ie){var Fe=Ie.seriesIndex,Ve=y[Fe],ze=L[Fe];Ve&&ze&&ze.data!==Ve.data&&(re=!1)})})}),this._lastDataByCoordSys=g,this._cbParamsList=y,!!re},n.prototype._hide=function(g){this._lastDataByCoordSys=null,g({type:"hideTip",from:this.uid})},n.prototype.dispose=function(g,y){env.node||!y.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",y))},n.type="tooltip",n}(ComponentView);function buildTooltipModel(r,n,g){var y=n.ecModel,$;g?($=new Model(g,y,y),$=new Model(n.option,$,y)):$=n;for(var L=r.length-1;L>=0;L--){var re=r[L];re&&(re instanceof Model&&(re=re.get("tooltip",!0)),isString(re)&&(re={formatter:re}),re&&($=new Model(re,$,y)))}return $}function makeDispatchAction(r,n){return r.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(r,n,g,y,$,L,re){var ae=g.getSize(),le=ae[0],ue=ae[1];return L!=null&&(r+le+L+2>y?r-=le+L:r+=L),re!=null&&(n+ue+re>$?n-=ue+re:n+=re),[r,n]}function confineTooltipPosition(r,n,g,y,$){var L=g.getSize(),re=L[0],ae=L[1];return r=Math.min(r+re,y)-re,n=Math.min(n+ae,$)-ae,r=Math.max(r,0),n=Math.max(n,0),[r,n]}function calcTooltipPosition(r,n,g,y){var $=g[0],L=g[1],re=Math.ceil(Math.SQRT2*y)+8,ae=0,le=0,ue=n.width,he=n.height;switch(r){case"inside":ae=n.x+ue/2-$/2,le=n.y+he/2-L/2;break;case"top":ae=n.x+ue/2-$/2,le=n.y-L-re;break;case"bottom":ae=n.x+ue/2-$/2,le=n.y+he+re;break;case"left":ae=n.x-$-re,le=n.y+he/2-L/2;break;case"right":ae=n.x+ue+re,le=n.y+he/2-L/2}return[ae,le]}function isCenterAlign(r){return r==="center"||r==="middle"}function findComponentReference(r,n,g){var y=preParseFinder(r).queryOptionMap,$=y.keys()[0];if(!(!$||$==="series")){var L=queryReferringComponents(n,$,y.get($),{useDefault:!1,enableAll:!1,enableNone:!1}),re=L.models[0];if(re){var ae=g.getViewOfComponentModel(re),le;if(ae.group.traverse(function(ue){var he=getECData(ue).tooltipConfig;if(he&&he.name===r.name)return le=ue,!0}),le)return{componentMainType:$,componentIndex:re.componentIndex,el:le}}}}function install$j(r){use(install$r),r.registerComponentModel(TooltipModel),r.registerComponentView(TooltipView),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(r,n){var g=normalizeToArray$1(r?r.brush:[]);if(g.length){var y=[];each$f(g,function(le){var ue=le.hasOwnProperty("toolbox")?le.toolbox:[];ue instanceof Array&&(y=y.concat(ue))});var $=r&&r.toolbox;isArray$2($)&&($=$[0]),$||($={feature:{}},r.toolbox=[$]);var L=$.feature||($.feature={}),re=L.brush||(L.brush={}),ae=re.type||(re.type=[]);ae.push.apply(ae,y),removeDuplicate(ae),n&&!ae.length&&ae.push.apply(ae,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(r){var n={};each$f(r,function(g){n[g]=1}),r.length=0,each$f(n,function(g,y){r.push(y)})}var each$4=each$f;function hasKeys(r){if(r){for(var n in r)if(r.hasOwnProperty(n))return!0}}function createVisualMappings(r,n,g){var y={};return each$4(n,function(L){var re=y[L]=$();each$4(r[L],function(ae,le){if(VisualMapping.isValidType(le)){var ue={type:le,visual:ae};g&&g(ue,L),re[le]=new VisualMapping(ue),le==="opacity"&&(ue=clone$4(ue),ue.type="colorAlpha",re.__hidden.__alphaForOpacity=new VisualMapping(ue))}})}),y;function $(){var L=function(){};L.prototype.__hidden=L.prototype;var re=new L;return re}}function replaceVisualOption(r,n,g){var y;each$f(g,function($){n.hasOwnProperty($)&&hasKeys(n[$])&&(y=!0)}),y&&each$f(g,function($){n.hasOwnProperty($)&&hasKeys(n[$])?r[$]=clone$4(n[$]):delete r[$]})}function applyVisual(r,n,g,y,$,L){var re={};each$f(r,function(_e){var Ce=VisualMapping.prepareVisualTypes(n[_e]);re[_e]=Ce});var ae;function le(_e){return getItemVisualFromData(g,ae,_e)}function ue(_e,Ce){setItemVisualFromData(g,ae,_e,Ce)}g.each(he);function he(_e,Ce){ae=_e;var $e=g.getRawDataItem(ae);if(!($e&&$e.visualMap===!1))for(var Oe=y.call($,_e),xe=n[Oe],Ne=re[Oe],Ie=0,Fe=Ne.length;Ie<Fe;Ie++){var Ve=Ne[Ie];xe[Ve]&&xe[Ve].applyVisual(_e,le,ue)}}}function incrementalApplyVisual(r,n,g,y){var $={};return each$f(r,function(L){var re=VisualMapping.prepareVisualTypes(n[L]);$[L]=re}),{progress:function(re,ae){var le;y!=null&&(le=ae.getDimensionIndex(y));function ue(Ue){return getItemVisualFromData(ae,_e,Ue)}function he(Ue,qe){setItemVisualFromData(ae,_e,Ue,qe)}for(var _e,Ce=ae.getStore();(_e=re.next())!=null;){var $e=ae.getRawDataItem(_e);if(!($e&&$e.visualMap===!1))for(var Oe=y!=null?Ce.get(le,_e):_e,xe=g(Oe),Ne=n[xe],Ie=$[xe],Fe=0,Ve=Ie.length;Fe<Ve;Fe++){var ze=Ie[Fe];Ne[ze]&&Ne[ze].applyVisual(Oe,ue,he)}}}}}function makeBrushCommonSelectorForSeries(r){var n=r.brushType,g={point:function(y){return selector[n].point(y,g,r)},rect:function(y){return selector[n].rect(y,g,r)}};return g}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(r,n,g){return r&&g.boundingRect.contain(r[0],r[1])},rect:function(r,n,g){return r&&g.boundingRect.intersect(r)}},polygon:{point:function(r,n,g){return r&&g.boundingRect.contain(r[0],r[1])&&contain(g.range,r[0],r[1])},rect:function(r,n,g){var y=g.range;if(!r||y.length<=1)return!1;var $=r.x,L=r.y,re=r.width,ae=r.height,le=y[0];if(contain(y,$,L)||contain(y,$+re,L)||contain(y,$,L+ae)||contain(y,$+re,L+ae)||BoundingRect.create(r).contain(le[0],le[1])||linePolygonIntersect($,L,$+re,L,y)||linePolygonIntersect($,L,$,L+ae,y)||linePolygonIntersect($+re,L,$+re,L+ae,y)||linePolygonIntersect($,L+ae,$+re,L+ae,y))return!0}}};function getLineSelectors(r){var n=["x","y"],g=["width","height"];return{point:function(y,$,L){if(y){var re=L.range,ae=y[r];return inLineRange(ae,re)}},rect:function(y,$,L){if(y){var re=L.range,ae=[y[n[r]],y[n[r]]+y[g[r]]];return ae[1]<ae[0]&&ae.reverse(),inLineRange(ae[0],re)||inLineRange(ae[1],re)||inLineRange(re[0],ae)||inLineRange(re[1],ae)}}}}function inLineRange(r,n){return n[0]<=r&&r<=n[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(r){r.eachComponent({mainType:"brush"},function(n){var g=n.brushTargetManager=new BrushTargetManager(n.option,r);g.setInputRanges(n.areas,r)})}function brushVisual(r,n,g){var y=[],$,L;r.eachComponent({mainType:"brush"},function(re){g&&g.type==="takeGlobalCursor"&&re.setBrushOption(g.key==="brush"?g.brushOption:{brushType:!1})}),layoutCovers(r),r.eachComponent({mainType:"brush"},function(re,ae){var le={brushId:re.id,brushIndex:ae,brushName:re.name,areas:clone$4(re.areas),selected:[]};y.push(le);var ue=re.option,he=ue.brushLink,_e=[],Ce=[],$e=[],Oe=!1;ae||($=ue.throttleType,L=ue.throttleDelay);var xe=map$1(re.areas,function(Ue){var qe=boundingRectBuilders[Ue.brushType],kt=defaults$2({boundingRect:qe?qe(Ue):void 0},Ue);return kt.selectors=makeBrushCommonSelectorForSeries(kt),kt}),Ne=createVisualMappings(re.option,STATE_LIST,function(Ue){Ue.mappingMethod="fixed"});isArray$2(he)&&each$f(he,function(Ue){_e[Ue]=1});function Ie(Ue){return he==="all"||!!_e[Ue]}function Fe(Ue){return!!Ue.length}r.eachSeries(function(Ue,qe){var kt=$e[qe]=[];Ue.subType==="parallel"?Ve(Ue,qe):ze(Ue,qe,kt)});function Ve(Ue,qe){var kt=Ue.coordinateSystem;Oe=Oe||kt.hasAxisBrushed(),Ie(qe)&&kt.eachActiveState(Ue.getData(),function(Et,Pt){Et==="active"&&(Ce[Pt]=1)})}function ze(Ue,qe,kt){if(!(!Ue.brushSelector||brushModelNotControll(re,qe))&&(each$f(xe,function(Pt){re.brushTargetManager.controlSeries(Pt,Ue,r)&&kt.push(Pt),Oe=Oe||Fe(kt)}),Ie(qe)&&Fe(kt))){var Et=Ue.getData();Et.each(function(Pt){checkInRange(Ue,kt,Et,Pt)&&(Ce[Pt]=1)})}}r.eachSeries(function(Ue,qe){var kt={seriesId:Ue.id,seriesIndex:qe,seriesName:Ue.name,dataIndex:[]};le.selected.push(kt);var Et=$e[qe],Pt=Ue.getData(),At=Ie(qe)?function(Dt){return Ce[Dt]?(kt.dataIndex.push(Pt.getRawIndex(Dt)),"inBrush"):"outOfBrush"}:function(Dt){return checkInRange(Ue,Et,Pt,Dt)?(kt.dataIndex.push(Pt.getRawIndex(Dt)),"inBrush"):"outOfBrush"};(Ie(qe)?Oe:Fe(Et))&&applyVisual(STATE_LIST,Ne,Pt,At)})}),dispatchAction$1(n,$,L,y,g)}function dispatchAction$1(r,n,g,y,$){if($){var L=r.getZr();if(!L[DISPATCH_FLAG]){L[DISPATCH_METHOD]||(L[DISPATCH_METHOD]=doDispatch);var re=createOrUpdate(L,DISPATCH_METHOD,g,n);re(r,y)}}}function doDispatch(r,n){if(!r.isDisposed()){var g=r.getZr();g[DISPATCH_FLAG]=!0,r.dispatchAction({type:"brushSelect",batch:n}),g[DISPATCH_FLAG]=!1}}function checkInRange(r,n,g,y){for(var $=0,L=n.length;$<L;$++){var re=n[$];if(r.brushSelector(y,g,re.selectors,re))return!0}}function brushModelNotControll(r,n){var g=r.option.seriesIndex;return g!=null&&g!=="all"&&(isArray$2(g)?indexOf(g,n)<0:n!==g)}var boundingRectBuilders={rect:function(r){return getBoundingRectFromMinMax(r.range)},polygon:function(r){for(var n,g=r.range,y=0,$=g.length;y<$;y++){n=n||[[1/0,-1/0],[1/0,-1/0]];var L=g[y];L[0]<n[0][0]&&(n[0][0]=L[0]),L[0]>n[0][1]&&(n[0][1]=L[0]),L[1]<n[1][0]&&(n[1][0]=L[1]),L[1]>n[1][1]&&(n[1][1]=L[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(r){return new BoundingRect(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var BrushView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y){this.ecModel=g,this.api=y,this.model,(this._brushController=new BrushController(y.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},n.prototype.render=function(g,y,$,L){this.model=g,this._updateController(g,y,$,L)},n.prototype.updateTransform=function(g,y,$,L){layoutCovers(y),this._updateController(g,y,$,L)},n.prototype.updateVisual=function(g,y,$,L){this.updateTransform(g,y,$,L)},n.prototype.updateView=function(g,y,$,L){this._updateController(g,y,$,L)},n.prototype._updateController=function(g,y,$,L){(!L||L.$from!==g.id)&&this._brushController.setPanels(g.brushTargetManager.makePanelOpts($)).enableBrush(g.brushOption).updateCovers(g.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(g){var y=this.model.id,$=this.model.brushTargetManager.setOutputRanges(g.areas,this.ecModel);(!g.isEnd||g.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:y,areas:clone$4($),$from:y}),g.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:y,areas:clone$4($),$from:y})},n.type="brush",n}(ComponentView),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.areas=[],g.brushOption={},g}return n.prototype.optionUpdated=function(g,y){var $=this.option;!y&&replaceVisualOption($,g,["inBrush","outOfBrush"]);var L=$.inBrush=$.inBrush||{};$.outOfBrush=$.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},L.hasOwnProperty("liftZ")||(L.liftZ=5)},n.prototype.setAreas=function(g){g&&(this.areas=map$1(g,function(y){return generateBrushOption(this.option,y)},this))},n.prototype.setBrushOption=function(g){this.brushOption=generateBrushOption(this.option,g),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel);function generateBrushOption(r,n){return merge$1({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Model(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},n,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(r){__extends$1(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n.prototype.render=function(g,y,$){var L,re,ae;y.eachComponent({mainType:"brush"},function(le){L=le.brushType,re=le.brushOption.brushMode||"single",ae=ae||!!le.areas.length}),this._brushType=L,this._brushMode=re,each$f(g.get("type",!0),function(le){g.setIconStatus(le,(le==="keep"?re==="multiple":le==="clear"?ae:le===L)?"emphasis":"normal")})},n.prototype.updateView=function(g,y,$){this.render(g,y,$)},n.prototype.getIcons=function(){var g=this.model,y=g.get("icon",!0),$={};return each$f(g.get("type",!0),function(L){y[L]&&($[L]=y[L])}),$},n.prototype.onclick=function(g,y,$){var L=this._brushType,re=this._brushMode;$==="clear"?(y.dispatchAction({type:"axisAreaSelect",intervals:[]}),y.dispatchAction({type:"brush",command:"clear",areas:[]})):y.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:$==="keep"?L:L===$?!1:$,brushMode:$==="keep"?re==="multiple"?"single":"multiple":re}})},n.getDefaultOption=function(g){var y={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:g.getLocaleModel().get(["toolbox","brush","title"])};return y},n}(ToolboxFeature);function install$i(r){r.registerComponentView(BrushView),r.registerComponentModel(BrushModel),r.registerPreprocessor(brushPreprocessor),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,brushVisual),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,g){g.eachComponent({mainType:"brush",query:n},function(y){y.setAreas(n.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature)}var TitleModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.layoutMode={type:"box",ignoreSize:!0},g}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel),TitleView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.render=function(g,y,$){if(this.group.removeAll(),!!g.get("show")){var L=this.group,re=g.getModel("textStyle"),ae=g.getModel("subtextStyle"),le=g.get("textAlign"),ue=retrieve2(g.get("textBaseline"),g.get("textVerticalAlign")),he=new ZRText({style:createTextStyle$1(re,{text:g.get("text"),fill:re.getTextColor()},{disableBox:!0}),z2:10}),_e=he.getBoundingRect(),Ce=g.get("subtext"),$e=new ZRText({style:createTextStyle$1(ae,{text:Ce,fill:ae.getTextColor(),y:_e.height+g.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),Oe=g.get("link"),xe=g.get("sublink"),Ne=g.get("triggerEvent",!0);he.silent=!Oe&&!Ne,$e.silent=!xe&&!Ne,Oe&&he.on("click",function(){windowOpen(Oe,"_"+g.get("target"))}),xe&&$e.on("click",function(){windowOpen(xe,"_"+g.get("subtarget"))}),getECData(he).eventData=getECData($e).eventData=Ne?{componentType:"title",componentIndex:g.componentIndex}:null,L.add(he),Ce&&L.add($e);var Ie=L.getBoundingRect(),Fe=g.getBoxLayoutParams();Fe.width=Ie.width,Fe.height=Ie.height;var Ve=getLayoutRect$1(Fe,{width:$.getWidth(),height:$.getHeight()},g.get("padding"));le||(le=g.get("left")||g.get("right"),le==="middle"&&(le="center"),le==="right"?Ve.x+=Ve.width:le==="center"&&(Ve.x+=Ve.width/2)),ue||(ue=g.get("top")||g.get("bottom"),ue==="center"&&(ue="middle"),ue==="bottom"?Ve.y+=Ve.height:ue==="middle"&&(Ve.y+=Ve.height/2),ue=ue||"top"),L.x=Ve.x,L.y=Ve.y,L.markRedraw();var ze={align:le,verticalAlign:ue};he.setStyle(ze),$e.setStyle(ze),Ie=L.getBoundingRect();var Ue=Ve.margin,qe=g.getItemStyle(["color","opacity"]);qe.fill=g.get("backgroundColor");var kt=new Rect$2({shape:{x:Ie.x-Ue[3],y:Ie.y-Ue[0],width:Ie.width+Ue[1]+Ue[3],height:Ie.height+Ue[0]+Ue[2],r:g.get("borderRadius")},style:qe,subPixelOptimize:!0,silent:!0});L.add(kt)}},n.type="title",n}(ComponentView);function install$h(r){r.registerComponentModel(TitleModel),r.registerComponentView(TitleView)}var TimelineModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.layoutMode="box",g}return n.prototype.init=function(g,y,$){this.mergeDefaultAndTheme(g,$),this._initData()},n.prototype.mergeOption=function(g){r.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(g){g==null&&(g=this.option.currentIndex);var y=this._data.count();this.option.loop?g=(g%y+y)%y:(g>=y&&(g=y-1),g<0&&(g=0)),this.option.currentIndex=g},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(g){this.option.autoPlay=!!g},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var g=this.option,y=g.data||[],$=g.axisType,L=this._names=[],re;$==="category"?(re=[],each$f(y,function(ue,he){var _e=convertOptionIdName(getDataItemValue(ue),""),Ce;isObject$3(ue)?(Ce=clone$4(ue),Ce.value=he):Ce=he,re.push(Ce),L.push(_e)})):re=y;var ae={category:"ordinal",time:"time",value:"number"}[$]||"number",le=this._data=new SeriesData([{name:"value",type:ae}],this);le.initData(re,L)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel),SliderTimelineModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="timeline",n}(ComponentView),TimelineAxis=function(r){__extends$1(n,r);function n(g,y,$,L){var re=r.call(this,g,y,$)||this;return re.type=L||"value",re}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis),PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(g,y){this.api=y},n.prototype.render=function(g,y,$){if(this.model=g,this.api=$,this.ecModel=y,this.group.removeAll(),g.get("show",!0)){var L=this._layout(g,$),re=this._createGroup("_mainGroup"),ae=this._createGroup("_labelGroup"),le=this._axis=this._createAxis(L,g);g.formatTooltip=function(ue){var he=le.scale.getLabel({value:ue});return createTooltipMarkup("nameValue",{noName:!0,value:he})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(ue){this["_render"+ue](L,re,le,g)},this),this._renderAxisLabel(L,ae,le,g),this._position(L,g)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(g,y){var $=g.get(["label","position"]),L=g.get("orient"),re=getViewRect(g,y),ae;$==null||$==="auto"?ae=L==="horizontal"?re.y+re.height/2<y.getHeight()/2?"-":"+":re.x+re.width/2<y.getWidth()/2?"+":"-":isString($)?ae={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[L][$]:ae=$;var le={horizontal:"center",vertical:ae>=0||ae==="+"?"left":"right"},ue={horizontal:ae>=0||ae==="+"?"top":"bottom",vertical:"middle"},he={horizontal:0,vertical:PI/2},_e=L==="vertical"?re.height:re.width,Ce=g.getModel("controlStyle"),$e=Ce.get("show",!0),Oe=$e?Ce.get("itemSize"):0,xe=$e?Ce.get("itemGap"):0,Ne=Oe+xe,Ie=g.get(["label","rotate"])||0;Ie=Ie*PI/180;var Fe,Ve,ze,Ue=Ce.get("position",!0),qe=$e&&Ce.get("showPlayBtn",!0),kt=$e&&Ce.get("showPrevBtn",!0),Et=$e&&Ce.get("showNextBtn",!0),Pt=0,At=_e;Ue==="left"||Ue==="bottom"?(qe&&(Fe=[0,0],Pt+=Ne),kt&&(Ve=[Pt,0],Pt+=Ne),Et&&(ze=[At-Oe,0],At-=Ne)):(qe&&(Fe=[At-Oe,0],At-=Ne),kt&&(Ve=[0,0],Pt+=Ne),Et&&(ze=[At-Oe,0],At-=Ne));var Dt=[Pt,At];return g.get("inverse")&&Dt.reverse(),{viewRect:re,mainLength:_e,orient:L,rotation:he[L],labelRotation:Ie,labelPosOpt:ae,labelAlign:g.get(["label","align"])||le[L],labelBaseline:g.get(["label","verticalAlign"])||g.get(["label","baseline"])||ue[L],playPosition:Fe,prevBtnPosition:Ve,nextBtnPosition:ze,axisExtent:Dt,controlSize:Oe,controlGap:xe}},n.prototype._position=function(g,y){var $=this._mainGroup,L=this._labelGroup,re=g.viewRect;if(g.orient==="vertical"){var ae=create$1(),le=re.x,ue=re.y+re.height;translate(ae,ae,[-le,-ue]),rotate(ae,ae,-PI/2),translate(ae,ae,[le,ue]),re=re.clone(),re.applyTransform(ae)}var he=Fe(re),_e=Fe($.getBoundingRect()),Ce=Fe(L.getBoundingRect()),$e=[$.x,$.y],Oe=[L.x,L.y];Oe[0]=$e[0]=he[0][0];var xe=g.labelPosOpt;if(xe==null||isString(xe)){var Ne=xe==="+"?0:1;Ve($e,_e,he,1,Ne),Ve(Oe,Ce,he,1,1-Ne)}else{var Ne=xe>=0?0:1;Ve($e,_e,he,1,Ne),Oe[1]=$e[1]+xe}$.setPosition($e),L.setPosition(Oe),$.rotation=L.rotation=g.rotation,Ie($),Ie(L);function Ie(ze){ze.originX=he[0][0]-ze.x,ze.originY=he[1][0]-ze.y}function Fe(ze){return[[ze.x,ze.x+ze.width],[ze.y,ze.y+ze.height]]}function Ve(ze,Ue,qe,kt,Et){ze[kt]+=qe[kt][Et]-Ue[kt][Et]}},n.prototype._createAxis=function(g,y){var $=y.getData(),L=y.get("axisType"),re=createScaleByModel(y,L);re.getTicks=function(){return $.mapArray(["value"],function(ue){return{value:ue}})};var ae=$.getDataExtent("value");re.setExtent(ae[0],ae[1]),re.calcNiceTicks();var le=new TimelineAxis("value",re,g.axisExtent,L);return le.model=y,le},n.prototype._createGroup=function(g){var y=this[g]=new Group$3;return this.group.add(y),y},n.prototype._renderAxisLine=function(g,y,$,L){var re=$.getExtent();if(L.get(["lineStyle","show"])){var ae=new Line$2({shape:{x1:re[0],y1:0,x2:re[1],y2:0},style:extend({lineCap:"round"},L.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});y.add(ae);var le=this._progressLine=new Line$2({shape:{x1:re[0],x2:this._currentPointer?this._currentPointer.x:re[0],y1:0,y2:0},style:defaults$2({lineCap:"round",lineWidth:ae.style.lineWidth},L.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});y.add(le)}},n.prototype._renderAxisTick=function(g,y,$,L){var re=this,ae=L.getData(),le=$.scale.getTicks();this._tickSymbols=[],each$f(le,function(ue){var he=$.dataToCoord(ue.value),_e=ae.getItemModel(ue.value),Ce=_e.getModel("itemStyle"),$e=_e.getModel(["emphasis","itemStyle"]),Oe=_e.getModel(["progress","itemStyle"]),xe={x:he,y:0,onclick:bind$1(re._changeTimeline,re,ue.value)},Ne=giveSymbol(_e,Ce,y,xe);Ne.ensureState("emphasis").style=$e.getItemStyle(),Ne.ensureState("progress").style=Oe.getItemStyle(),enableHoverEmphasis(Ne);var Ie=getECData(Ne);_e.get("tooltip")?(Ie.dataIndex=ue.value,Ie.dataModel=L):Ie.dataIndex=Ie.dataModel=null,re._tickSymbols.push(Ne)})},n.prototype._renderAxisLabel=function(g,y,$,L){var re=this,ae=$.getLabelModel();if(ae.get("show")){var le=L.getData(),ue=$.getViewLabels();this._tickLabels=[],each$f(ue,function(he){var _e=he.tickValue,Ce=le.getItemModel(_e),$e=Ce.getModel("label"),Oe=Ce.getModel(["emphasis","label"]),xe=Ce.getModel(["progress","label"]),Ne=$.dataToCoord(he.tickValue),Ie=new ZRText({x:Ne,y:0,rotation:g.labelRotation-g.rotation,onclick:bind$1(re._changeTimeline,re,_e),silent:!1,style:createTextStyle$1($e,{text:he.formattedLabel,align:g.labelAlign,verticalAlign:g.labelBaseline})});Ie.ensureState("emphasis").style=createTextStyle$1(Oe),Ie.ensureState("progress").style=createTextStyle$1(xe),y.add(Ie),enableHoverEmphasis(Ie),labelDataIndexStore(Ie).dataIndex=_e,re._tickLabels.push(Ie)})}},n.prototype._renderControl=function(g,y,$,L){var re=g.controlSize,ae=g.rotation,le=L.getModel("controlStyle").getItemStyle(),ue=L.getModel(["emphasis","controlStyle"]).getItemStyle(),he=L.getPlayState(),_e=L.get("inverse",!0);Ce(g.nextBtnPosition,"next",bind$1(this._changeTimeline,this,_e?"-":"+")),Ce(g.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,_e?"+":"-")),Ce(g.playPosition,he?"stop":"play",bind$1(this._handlePlayClick,this,!he),!0);function Ce($e,Oe,xe,Ne){if($e){var Ie=parsePercent$1(retrieve2(L.get(["controlStyle",Oe+"BtnSize"]),re),re),Fe=[0,-Ie/2,Ie,Ie],Ve=makeControlIcon(L,Oe+"Icon",Fe,{x:$e[0],y:$e[1],originX:re/2,originY:0,rotation:Ne?-ae:0,rectHover:!0,style:le,onclick:xe});Ve.ensureState("emphasis").style=ue,y.add(Ve),enableHoverEmphasis(Ve)}}},n.prototype._renderCurrentPointer=function(g,y,$,L){var re=L.getData(),ae=L.getCurrentIndex(),le=re.getItemModel(ae).getModel("checkpointStyle"),ue=this,he={onCreate:function(_e){_e.draggable=!0,_e.drift=bind$1(ue._handlePointerDrag,ue),_e.ondragend=bind$1(ue._handlePointerDragend,ue),pointerMoveTo(_e,ue._progressLine,ae,$,L,!0)},onUpdate:function(_e){pointerMoveTo(_e,ue._progressLine,ae,$,L)}};this._currentPointer=giveSymbol(le,le,this._mainGroup,{},this._currentPointer,he)},n.prototype._handlePlayClick=function(g){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:g,from:this.uid})},n.prototype._handlePointerDrag=function(g,y,$){this._clearTimer(),this._pointerChangeTimeline([$.offsetX,$.offsetY])},n.prototype._handlePointerDragend=function(g){this._pointerChangeTimeline([g.offsetX,g.offsetY],!0)},n.prototype._pointerChangeTimeline=function(g,y){var $=this._toAxisCoord(g)[0],L=this._axis,re=asc$2(L.getExtent().slice());$>re[1]&&($=re[1]),$<re[0]&&($=re[0]),this._currentPointer.x=$,this._currentPointer.markRedraw();var ae=this._progressLine;ae&&(ae.shape.x2=$,ae.dirty());var le=this._findNearestTick($),ue=this.model;(y||le!==ue.getCurrentIndex()&&ue.get("realtime"))&&this._changeTimeline(le)},n.prototype._doPlayStop=function(){var g=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var y=g.model;g._changeTimeline(y.getCurrentIndex()+(y.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(g){var y=this._mainGroup.getLocalTransform();return applyTransform(g,y,!0)},n.prototype._findNearestTick=function(g){var y=this.model.getData(),$=1/0,L,re=this._axis;return y.each(["value"],function(ae,le){var ue=re.dataToCoord(ae),he=Math.abs(ue-g);he<$&&($=he,L=le)}),L},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(g){var y=this.model.getCurrentIndex();g==="+"?g=y+1:g==="-"&&(g=y-1),this.api.dispatchAction({type:"timelineChange",currentIndex:g,from:this.uid})},n.prototype._updateTicksStatus=function(){var g=this.model.getCurrentIndex(),y=this._tickSymbols,$=this._tickLabels;if(y)for(var L=0;L<y.length;L++)y&&y[L]&&y[L].toggleState("progress",L<g);if($)for(var L=0;L<$.length;L++)$&&$[L]&&$[L].toggleState("progress",labelDataIndexStore($[L]).dataIndex<=g)},n.type="timeline.slider",n}(TimelineView);function createScaleByModel(r,n){if(n=n||r.get("type"),n)switch(n){case"category":return new OrdinalScale({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new IntervalScale}}function getViewRect(r,n){return getLayoutRect$1(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},r.get("padding"))}function makeControlIcon(r,n,g,y){var $=y.style,L=createIcon(r.get(["controlStyle",n]),y,new BoundingRect(g[0],g[1],g[2],g[3]));return $&&L.setStyle($),L}function giveSymbol(r,n,g,y,$,L){var re=n.get("color");if($)$.setColor(re),g.add($),L&&L.onUpdate($);else{var ae=r.get("symbol");$=createSymbol$1(ae,-1,-1,2,2,re),$.setStyle("strokeNoScale",!0),g.add($),L&&L.onCreate($)}var le=n.getItemStyle(["color"]);$.setStyle(le),y=merge$1({rectHover:!0,z2:100},y,!0);var ue=normalizeSymbolSize(r.get("symbolSize"));y.scaleX=ue[0]/2,y.scaleY=ue[1]/2;var he=normalizeSymbolOffset(r.get("symbolOffset"),ue);he&&(y.x=(y.x||0)+he[0],y.y=(y.y||0)+he[1]);var _e=r.get("symbolRotate");return y.rotation=(_e||0)*Math.PI/180||0,$.attr(y),$.updateTransform(),$}function pointerMoveTo(r,n,g,y,$,L){if(!r.dragging){var re=$.getModel("checkpointStyle"),ae=y.dataToCoord($.getData().get("value",g));if(L||!re.get("animation",!0))r.attr({x:ae,y:0}),n&&n.attr({shape:{x2:ae}});else{var le={duration:re.get("animationDuration",!0),easing:re.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:ae,y:0},le),n&&n.animateTo({shape:{x2:ae}},le)}}}function installTimelineAction(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,g,y){var $=g.getComponent("timeline");return $&&n.currentIndex!=null&&($.setCurrentIndex(n.currentIndex),!$.get("loop",!0)&&$.isIndexMax()&&$.getPlayState()&&($.setPlayState(!1),y.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),g.resetOption("timeline",{replaceMerge:$.get("replaceMerge",!0)}),defaults$2({currentIndex:$.option.currentIndex},n)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,g){var y=g.getComponent("timeline");y&&n.playState!=null&&y.setPlayState(n.playState)})}function timelinePreprocessor(r){var n=r&&r.timeline;isArray$2(n)||(n=n?[n]:[]),each$f(n,function(g){g&&compatibleEC2(g)})}function compatibleEC2(r){var n=r.type,g={number:"value",time:"time"};if(g[n]&&(r.axisType=g[n],delete r.type),transferItem(r),has$1(r,"controlPosition")){var y=r.controlStyle||(r.controlStyle={});has$1(y,"position")||(y.position=r.controlPosition),y.position==="none"&&!has$1(y,"show")&&(y.show=!1,delete y.position),delete r.controlPosition}each$f(r.data||[],function($){isObject$3($)&&!isArray$2($)&&(!has$1($,"value")&&has$1($,"name")&&($.value=$.name),transferItem($))})}function transferItem(r){var n=r.itemStyle||(r.itemStyle={}),g=n.emphasis||(n.emphasis={}),y=r.label||r.label||{},$=y.normal||(y.normal={}),L={normal:1,emphasis:1};each$f(y,function(re,ae){!L[ae]&&!has$1($,ae)&&($[ae]=re)}),g.label&&!has$1(y,"emphasis")&&(y.emphasis=g.label,delete g.label)}function has$1(r,n){return r.hasOwnProperty(n)}function install$g(r){r.registerComponentModel(SliderTimelineModel),r.registerComponentView(SliderTimelineView),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(r),r.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(r,n){if(!r)return!1;for(var g=isArray$2(r)?r:[r],y=0;y<g.length;y++)if(g[y]&&g[y][n])return!0;return!1}function fillLabel(r){defaultEmphasis(r,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.createdBySelf=!1,g}return n.prototype.init=function(g,y,$){this.mergeDefaultAndTheme(g,$),this._mergeOption(g,$,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env.node)return!1;var g=this.__hostSeries;return this.getShallow("animation")&&g&&g.isAnimationEnabled()},n.prototype.mergeOption=function(g,y){this._mergeOption(g,y,!1,!1)},n.prototype._mergeOption=function(g,y,$,L){var re=this.mainType;$||y.eachSeries(function(ae){var le=ae.get(this.mainType,!0),ue=inner$5(ae)[re];if(!le||!le.data){inner$5(ae)[re]=null;return}ue?ue._mergeOption(le,y,!0):(L&&fillLabel(le),each$f(le.data,function(he){he instanceof Array?(fillLabel(he[0]),fillLabel(he[1])):fillLabel(he)}),ue=this.createMarkerModelFromSeries(le,this,y),extend(ue,{mainType:this.mainType,seriesIndex:ae.seriesIndex,name:ae.name,createdBySelf:!0}),ue.__hostSeries=ae),inner$5(ae)[re]=ue},this)},n.prototype.formatTooltip=function(g,y,$){var L=this.getData(),re=this.getRawValue(g),ae=L.getName(g);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:ae,value:re,noName:!ae,noValue:re==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(g){this._data=g},n.prototype.getDataParams=function(g,y){var $=DataFormatMixin.prototype.getDataParams.call(this,g,y),L=this.__hostSeries;return L&&($.seriesId=L.id,$.seriesName=L.name,$.seriesType=L.subType),$},n.getMarkerModelFromSeries=function(g,y){return inner$5(g)[y]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel);mixin(MarkerModel,DataFormatMixin.prototype);var MarkPointModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.createMarkerModelFromSeries=function(g,y,$){return new n(g,y,$)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel);function hasXOrY(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function hasXAndY(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function markerTypeCalculatorWithExtent(r,n,g,y,$,L){var re=[],ae=isDimensionStacked(n,y),le=ae?n.getCalculationInfo("stackResultDimension"):y,ue=numCalculate(n,le,r),he=n.indicesOfNearest(le,ue)[0];re[$]=n.get(g,he),re[L]=n.get(le,he);var _e=n.get(y,he),Ce=getPrecision(n.get(y,he));return Ce=Math.min(Ce,20),Ce>=0&&(re[L]=+re[L].toFixed(Ce)),[re,_e]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(r,n){if(n){var g=r.getData(),y=r.coordinateSystem,$=y&&y.dimensions;if(!hasXAndY(n)&&!isArray$2(n.coord)&&isArray$2($)){var L=getAxisInfo(n,g,y,r);if(n=clone$4(n),n.type&&markerTypeCalculator[n.type]&&L.baseAxis&&L.valueAxis){var re=indexOf($,L.baseAxis.dim),ae=indexOf($,L.valueAxis.dim),le=markerTypeCalculator[n.type](g,L.baseDataDim,L.valueDataDim,re,ae);n.coord=le[0],n.value=le[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null||!isArray$2($))n.coord=[];else for(var ue=n.coord,he=0;he<2;he++)markerTypeCalculator[ue[he]]&&(ue[he]=numCalculate(g,g.mapDimension($[he]),ue[he]));return n}}function getAxisInfo(r,n,g,y){var $={};return r.valueIndex!=null||r.valueDim!=null?($.valueDataDim=r.valueIndex!=null?n.getDimension(r.valueIndex):r.valueDim,$.valueAxis=g.getAxis(dataDimToCoordDim(y,$.valueDataDim)),$.baseAxis=g.getOtherAxis($.valueAxis),$.baseDataDim=n.mapDimension($.baseAxis.dim)):($.baseAxis=y.getBaseAxis(),$.valueAxis=g.getOtherAxis($.baseAxis),$.baseDataDim=n.mapDimension($.baseAxis.dim),$.valueDataDim=n.mapDimension($.valueAxis.dim)),$}function dataDimToCoordDim(r,n){var g=r.getData().getDimensionInfo(n);return g&&g.coordDim}function dataFilter(r,n){return r&&r.containData&&n.coord&&!hasXOrY(n)?r.containData(n.coord):!0}function zoneFilter(r,n,g){return r&&r.containZone&&n.coord&&g.coord&&!hasXOrY(n)&&!hasXOrY(g)?r.containZone(n.coord,g.coord):!0}function createMarkerDimValueGetter(r,n){return r?function(g,y,$,L){var re=L<2?g.coord&&g.coord[L]:g.value;return parseDataValue(re,n[L])}:function(g,y,$,L){return parseDataValue(g.value,n[L])}}function numCalculate(r,n,g){if(g==="average"){var y=0,$=0;return r.each(n,function(L,re){isNaN(L)||(y+=L,$++)}),y/$}else return g==="median"?r.getMedian(n):r.getDataExtent(n)[g==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(g,y,$){var L=this,re=this.markerGroupMap;re.each(function(ae){inner$4(ae).keep=!1}),y.eachSeries(function(ae){var le=MarkerModel.getMarkerModelFromSeries(ae,L.type);le&&L.renderSeries(ae,le,y,$)}),re.each(function(ae){!inner$4(ae).keep&&L.group.remove(ae.group)})},n.prototype.markKeep=function(g){inner$4(g).keep=!0},n.prototype.toggleBlurSeries=function(g,y){var $=this;each$f(g,function(L){var re=MarkerModel.getMarkerModelFromSeries(L,$.type);if(re){var ae=re.getData();ae.eachItemGraphicEl(function(le){le&&(y?enterBlur(le):leaveBlur(le))})}})},n.type="marker",n}(ComponentView);function updateMarkerLayout(r,n,g){var y=n.coordinateSystem;r.each(function($){var L=r.getItemModel($),re,ae=parsePercent(L.get("x"),g.getWidth()),le=parsePercent(L.get("y"),g.getHeight());if(!isNaN(ae)&&!isNaN(le))re=[ae,le];else if(n.getMarkerPosition)re=n.getMarkerPosition(r.getValues(r.dimensions,$));else if(y){var ue=r.get(y.dimensions[0],$),he=r.get(y.dimensions[1],$);re=y.dataToPoint([ue,he])}isNaN(ae)||(re[0]=ae),isNaN(le)||(re[1]=le),r.setItemLayout($,re)})}var MarkPointView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.updateTransform=function(g,y,$){y.eachSeries(function(L){var re=MarkerModel.getMarkerModelFromSeries(L,"markPoint");re&&(updateMarkerLayout(re.getData(),L,$),this.markerGroupMap.get(L.id).updateLayout())},this)},n.prototype.renderSeries=function(g,y,$,L){var re=g.coordinateSystem,ae=g.id,le=g.getData(),ue=this.markerGroupMap,he=ue.get(ae)||ue.set(ae,new SymbolDraw),_e=createData(re,g,y);y.setData(_e),updateMarkerLayout(y.getData(),g,L),_e.each(function(Ce){var $e=_e.getItemModel(Ce),Oe=$e.getShallow("symbol"),xe=$e.getShallow("symbolSize"),Ne=$e.getShallow("symbolRotate"),Ie=$e.getShallow("symbolOffset"),Fe=$e.getShallow("symbolKeepAspect");if(isFunction(Oe)||isFunction(xe)||isFunction(Ne)||isFunction(Ie)){var Ve=y.getRawValue(Ce),ze=y.getDataParams(Ce);isFunction(Oe)&&(Oe=Oe(Ve,ze)),isFunction(xe)&&(xe=xe(Ve,ze)),isFunction(Ne)&&(Ne=Ne(Ve,ze)),isFunction(Ie)&&(Ie=Ie(Ve,ze))}var Ue=$e.getModel("itemStyle").getItemStyle(),qe=getVisualFromData(le,"color");Ue.fill||(Ue.fill=qe),_e.setItemVisual(Ce,{symbol:Oe,symbolSize:xe,symbolRotate:Ne,symbolOffset:Ie,symbolKeepAspect:Fe,style:Ue})}),he.updateData(_e),this.group.add(he.group),_e.eachItemGraphicEl(function(Ce){Ce.traverse(function($e){getECData($e).dataModel=y})}),this.markKeep(he),he.group.silent=y.get("silent")||g.get("silent")},n.type="markPoint",n}(MarkerView);function createData(r,n,g){var y;r?y=map$1(r&&r.dimensions,function(ae){var le=n.getData().getDimensionInfo(n.getData().mapDimension(ae))||{};return extend(extend({},le),{name:ae,ordinalMeta:null})}):y=[{name:"value",type:"float"}];var $=new SeriesData(y,g),L=map$1(g.get("data"),curry$1(dataTransform,n));r&&(L=filter(L,curry$1(dataFilter,r)));var re=createMarkerDimValueGetter(!!r,y);return $.initData(L,null,re),$}function install$f(r){r.registerComponentModel(MarkPointModel),r.registerComponentView(MarkPointView),r.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.createMarkerModelFromSeries=function(g,y,$){return new n(g,y,$)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel),inner$3=makeInner(),markLineTransform=function(r,n,g,y){var $=r.getData(),L;if(isArray$2(y))L=y;else{var re=y.type;if(re==="min"||re==="max"||re==="average"||re==="median"||y.xAxis!=null||y.yAxis!=null){var ae=void 0,le=void 0;if(y.yAxis!=null||y.xAxis!=null)ae=n.getAxis(y.yAxis!=null?"y":"x"),le=retrieve(y.yAxis,y.xAxis);else{var ue=getAxisInfo(y,$,n,r);ae=ue.valueAxis;var he=getStackedDimension($,ue.valueDataDim);le=numCalculate($,he,re)}var _e=ae.dim==="x"?0:1,Ce=1-_e,$e=clone$4(y),Oe={coord:[]};$e.type=null,$e.coord=[],$e.coord[Ce]=-1/0,Oe.coord[Ce]=1/0;var xe=g.get("precision");xe>=0&&isNumber$1(le)&&(le=+le.toFixed(Math.min(xe,20))),$e.coord[_e]=Oe.coord[_e]=le,L=[$e,Oe,{type:re,valueIndex:y.valueIndex,value:le}]}else L=[]}var Ne=[dataTransform(r,L[0]),dataTransform(r,L[1]),extend({},L[2])];return Ne[2].type=Ne[2].type||null,merge$1(Ne[2],Ne[0]),merge$1(Ne[2],Ne[1]),Ne};function isInfinity$1(r){return!isNaN(r)&&!isFinite(r)}function ifMarkLineHasOnlyDim(r,n,g,y){var $=1-r,L=y.dimensions[r];return isInfinity$1(n[$])&&isInfinity$1(g[$])&&n[r]===g[r]&&y.getAxis(L).containData(n[r])}function markLineFilter(r,n){if(r.type==="cartesian2d"){var g=n[0].coord,y=n[1].coord;if(g&&y&&(ifMarkLineHasOnlyDim(1,g,y,r)||ifMarkLineHasOnlyDim(0,g,y,r)))return!0}return dataFilter(r,n[0])&&dataFilter(r,n[1])}function updateSingleMarkerEndLayout(r,n,g,y,$){var L=y.coordinateSystem,re=r.getItemModel(n),ae,le=parsePercent(re.get("x"),$.getWidth()),ue=parsePercent(re.get("y"),$.getHeight());if(!isNaN(le)&&!isNaN(ue))ae=[le,ue];else{if(y.getMarkerPosition)ae=y.getMarkerPosition(r.getValues(r.dimensions,n));else{var he=L.dimensions,_e=r.get(he[0],n),Ce=r.get(he[1],n);ae=L.dataToPoint([_e,Ce])}if(isCoordinateSystemType(L,"cartesian2d")){var $e=L.getAxis("x"),Oe=L.getAxis("y"),he=L.dimensions;isInfinity$1(r.get(he[0],n))?ae[0]=$e.toGlobalCoord($e.getExtent()[g?0:1]):isInfinity$1(r.get(he[1],n))&&(ae[1]=Oe.toGlobalCoord(Oe.getExtent()[g?0:1]))}isNaN(le)||(ae[0]=le),isNaN(ue)||(ae[1]=ue)}r.setItemLayout(n,ae)}var MarkLineView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.updateTransform=function(g,y,$){y.eachSeries(function(L){var re=MarkerModel.getMarkerModelFromSeries(L,"markLine");if(re){var ae=re.getData(),le=inner$3(re).from,ue=inner$3(re).to;le.each(function(he){updateSingleMarkerEndLayout(le,he,!0,L,$),updateSingleMarkerEndLayout(ue,he,!1,L,$)}),ae.each(function(he){ae.setItemLayout(he,[le.getItemLayout(he),ue.getItemLayout(he)])}),this.markerGroupMap.get(L.id).updateLayout()}},this)},n.prototype.renderSeries=function(g,y,$,L){var re=g.coordinateSystem,ae=g.id,le=g.getData(),ue=this.markerGroupMap,he=ue.get(ae)||ue.set(ae,new LineDraw);this.group.add(he.group);var _e=createList$1(re,g,y),Ce=_e.from,$e=_e.to,Oe=_e.line;inner$3(y).from=Ce,inner$3(y).to=$e,y.setData(Oe);var xe=y.get("symbol"),Ne=y.get("symbolSize"),Ie=y.get("symbolRotate"),Fe=y.get("symbolOffset");isArray$2(xe)||(xe=[xe,xe]),isArray$2(Ne)||(Ne=[Ne,Ne]),isArray$2(Ie)||(Ie=[Ie,Ie]),isArray$2(Fe)||(Fe=[Fe,Fe]),_e.from.each(function(ze){Ve(Ce,ze,!0),Ve($e,ze,!1)}),Oe.each(function(ze){var Ue=Oe.getItemModel(ze).getModel("lineStyle").getLineStyle();Oe.setItemLayout(ze,[Ce.getItemLayout(ze),$e.getItemLayout(ze)]),Ue.stroke==null&&(Ue.stroke=Ce.getItemVisual(ze,"style").fill),Oe.setItemVisual(ze,{fromSymbolKeepAspect:Ce.getItemVisual(ze,"symbolKeepAspect"),fromSymbolOffset:Ce.getItemVisual(ze,"symbolOffset"),fromSymbolRotate:Ce.getItemVisual(ze,"symbolRotate"),fromSymbolSize:Ce.getItemVisual(ze,"symbolSize"),fromSymbol:Ce.getItemVisual(ze,"symbol"),toSymbolKeepAspect:$e.getItemVisual(ze,"symbolKeepAspect"),toSymbolOffset:$e.getItemVisual(ze,"symbolOffset"),toSymbolRotate:$e.getItemVisual(ze,"symbolRotate"),toSymbolSize:$e.getItemVisual(ze,"symbolSize"),toSymbol:$e.getItemVisual(ze,"symbol"),style:Ue})}),he.updateData(Oe),_e.line.eachItemGraphicEl(function(ze){getECData(ze).dataModel=y,ze.traverse(function(Ue){getECData(Ue).dataModel=y})});function Ve(ze,Ue,qe){var kt=ze.getItemModel(Ue);updateSingleMarkerEndLayout(ze,Ue,qe,g,L);var Et=kt.getModel("itemStyle").getItemStyle();Et.fill==null&&(Et.fill=getVisualFromData(le,"color")),ze.setItemVisual(Ue,{symbolKeepAspect:kt.get("symbolKeepAspect"),symbolOffset:retrieve2(kt.get("symbolOffset",!0),Fe[qe?0:1]),symbolRotate:retrieve2(kt.get("symbolRotate",!0),Ie[qe?0:1]),symbolSize:retrieve2(kt.get("symbolSize"),Ne[qe?0:1]),symbol:retrieve2(kt.get("symbol",!0),xe[qe?0:1]),style:Et})}this.markKeep(he),he.group.silent=y.get("silent")||g.get("silent")},n.type="markLine",n}(MarkerView);function createList$1(r,n,g){var y;r?y=map$1(r&&r.dimensions,function(ue){var he=n.getData().getDimensionInfo(n.getData().mapDimension(ue))||{};return extend(extend({},he),{name:ue,ordinalMeta:null})}):y=[{name:"value",type:"float"}];var $=new SeriesData(y,g),L=new SeriesData(y,g),re=new SeriesData([],g),ae=map$1(g.get("data"),curry$1(markLineTransform,n,r,g));r&&(ae=filter(ae,curry$1(markLineFilter,r)));var le=createMarkerDimValueGetter(!!r,y);return $.initData(map$1(ae,function(ue){return ue[0]}),null,le),L.initData(map$1(ae,function(ue){return ue[1]}),null,le),re.initData(map$1(ae,function(ue){return ue[2]})),re.hasItemOption=!0,{from:$,to:L,line:re}}function install$e(r){r.registerComponentModel(MarkLineModel),r.registerComponentView(MarkLineView),r.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.createMarkerModelFromSeries=function(g,y,$){return new n(g,y,$)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel),inner$2=makeInner(),markAreaTransform=function(r,n,g,y){var $=y[0],L=y[1];if(!(!$||!L)){var re=dataTransform(r,$),ae=dataTransform(r,L),le=re.coord,ue=ae.coord;le[0]=retrieve(le[0],-1/0),le[1]=retrieve(le[1],-1/0),ue[0]=retrieve(ue[0],1/0),ue[1]=retrieve(ue[1],1/0);var he=mergeAll([{},re,ae]);return he.coord=[re.coord,ae.coord],he.x0=re.x,he.y0=re.y,he.x1=ae.x,he.y1=ae.y,he}};function isInfinity(r){return!isNaN(r)&&!isFinite(r)}function ifMarkAreaHasOnlyDim(r,n,g,y){var $=1-r;return isInfinity(n[$])&&isInfinity(g[$])}function markAreaFilter(r,n){var g=n.coord[0],y=n.coord[1],$={coord:g,x:n.x0,y:n.y0},L={coord:y,x:n.x1,y:n.y1};return isCoordinateSystemType(r,"cartesian2d")?g&&y&&(ifMarkAreaHasOnlyDim(1,g,y)||ifMarkAreaHasOnlyDim(0,g,y))?!0:zoneFilter(r,$,L):dataFilter(r,$)||dataFilter(r,L)}function getSingleMarkerEndPoint(r,n,g,y,$){var L=y.coordinateSystem,re=r.getItemModel(n),ae,le=parsePercent(re.get(g[0]),$.getWidth()),ue=parsePercent(re.get(g[1]),$.getHeight());if(!isNaN(le)&&!isNaN(ue))ae=[le,ue];else{if(y.getMarkerPosition){var he=r.getValues(["x0","y0"],n),_e=r.getValues(["x1","y1"],n),Ce=L.clampData(he),$e=L.clampData(_e),Oe=[];g[0]==="x0"?Oe[0]=Ce[0]>$e[0]?_e[0]:he[0]:Oe[0]=Ce[0]>$e[0]?he[0]:_e[0],g[1]==="y0"?Oe[1]=Ce[1]>$e[1]?_e[1]:he[1]:Oe[1]=Ce[1]>$e[1]?he[1]:_e[1],ae=y.getMarkerPosition(Oe,g,!0)}else{var xe=r.get(g[0],n),Ne=r.get(g[1],n),Ie=[xe,Ne];L.clampData&&L.clampData(Ie,Ie),ae=L.dataToPoint(Ie,!0)}if(isCoordinateSystemType(L,"cartesian2d")){var Fe=L.getAxis("x"),Ve=L.getAxis("y"),xe=r.get(g[0],n),Ne=r.get(g[1],n);isInfinity(xe)?ae[0]=Fe.toGlobalCoord(Fe.getExtent()[g[0]==="x0"?0:1]):isInfinity(Ne)&&(ae[1]=Ve.toGlobalCoord(Ve.getExtent()[g[1]==="y0"?0:1]))}isNaN(le)||(ae[0]=le),isNaN(ue)||(ae[1]=ue)}return ae}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.updateTransform=function(g,y,$){y.eachSeries(function(L){var re=MarkerModel.getMarkerModelFromSeries(L,"markArea");if(re){var ae=re.getData();ae.each(function(le){var ue=map$1(dimPermutations,function(_e){return getSingleMarkerEndPoint(ae,le,_e,L,$)});ae.setItemLayout(le,ue);var he=ae.getItemGraphicEl(le);he.setShape("points",ue)})}},this)},n.prototype.renderSeries=function(g,y,$,L){var re=g.coordinateSystem,ae=g.id,le=g.getData(),ue=this.markerGroupMap,he=ue.get(ae)||ue.set(ae,{group:new Group$3});this.group.add(he.group),this.markKeep(he);var _e=createList(re,g,y);y.setData(_e),_e.each(function(Ce){var $e=map$1(dimPermutations,function(Et){return getSingleMarkerEndPoint(_e,Ce,Et,g,L)}),Oe=re.getAxis("x").scale,xe=re.getAxis("y").scale,Ne=Oe.getExtent(),Ie=xe.getExtent(),Fe=[Oe.parse(_e.get("x0",Ce)),Oe.parse(_e.get("x1",Ce))],Ve=[xe.parse(_e.get("y0",Ce)),xe.parse(_e.get("y1",Ce))];asc$2(Fe),asc$2(Ve);var ze=!(Ne[0]>Fe[1]||Ne[1]<Fe[0]||Ie[0]>Ve[1]||Ie[1]<Ve[0]),Ue=!ze;_e.setItemLayout(Ce,{points:$e,allClipped:Ue});var qe=_e.getItemModel(Ce).getModel("itemStyle").getItemStyle(),kt=getVisualFromData(le,"color");qe.fill||(qe.fill=kt,isString(qe.fill)&&(qe.fill=modifyAlpha(qe.fill,.4))),qe.stroke||(qe.stroke=kt),_e.setItemVisual(Ce,"style",qe)}),_e.diff(inner$2(he).data).add(function(Ce){var $e=_e.getItemLayout(Ce);if(!$e.allClipped){var Oe=new Polygon({shape:{points:$e.points}});_e.setItemGraphicEl(Ce,Oe),he.group.add(Oe)}}).update(function(Ce,$e){var Oe=inner$2(he).data.getItemGraphicEl($e),xe=_e.getItemLayout(Ce);xe.allClipped?Oe&&he.group.remove(Oe):(Oe?updateProps$1(Oe,{shape:{points:xe.points}},y,Ce):Oe=new Polygon({shape:{points:xe.points}}),_e.setItemGraphicEl(Ce,Oe),he.group.add(Oe))}).remove(function(Ce){var $e=inner$2(he).data.getItemGraphicEl(Ce);he.group.remove($e)}).execute(),_e.eachItemGraphicEl(function(Ce,$e){var Oe=_e.getItemModel($e),xe=_e.getItemVisual($e,"style");Ce.useStyle(_e.getItemVisual($e,"style")),setLabelStyle(Ce,getLabelStatesModels(Oe),{labelFetcher:y,labelDataIndex:$e,defaultText:_e.getName($e)||"",inheritColor:isString(xe.fill)?modifyAlpha(xe.fill,1):"#000"}),setStatesStylesFromModel(Ce,Oe),toggleHoverEmphasis(Ce,null,null,Oe.get(["emphasis","disabled"])),getECData(Ce).dataModel=y}),inner$2(he).data=_e,he.group.silent=y.get("silent")||g.get("silent")},n.type="markArea",n}(MarkerView);function createList(r,n,g){var y,$,L=["x0","y0","x1","y1"];if(r){var re=map$1(r&&r.dimensions,function(ue){var he=n.getData(),_e=he.getDimensionInfo(he.mapDimension(ue))||{};return extend(extend({},_e),{name:ue,ordinalMeta:null})});$=map$1(L,function(ue,he){return{name:ue,type:re[he%2].type}}),y=new SeriesData($,g)}else $=[{name:"value",type:"float"}],y=new SeriesData($,g);var ae=map$1(g.get("data"),curry$1(markAreaTransform,n,r,g));r&&(ae=filter(ae,curry$1(markAreaFilter,r)));var le=r?function(ue,he,_e,Ce){var $e=ue.coord[Math.floor(Ce/2)][Ce%2];return parseDataValue($e,$[Ce])}:function(ue,he,_e,Ce){return parseDataValue(ue.value,$[Ce])};return y.initData(ae,null,le),y.hasItemOption=!0,y}function install$d(r){r.registerComponentModel(MarkAreaModel),r.registerComponentView(MarkAreaView),r.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions=function(r,n){if(n==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.layoutMode={type:"box",ignoreSize:!0},g}return n.prototype.init=function(g,y,$){this.mergeDefaultAndTheme(g,$),g.selected=g.selected||{},this._updateSelector(g)},n.prototype.mergeOption=function(g,y){r.prototype.mergeOption.call(this,g,y),this._updateSelector(g)},n.prototype._updateSelector=function(g){var y=g.selector,$=this.ecModel;y===!0&&(y=g.selector=["all","inverse"]),isArray$2(y)&&each$f(y,function(L,re){isString(L)&&(L={type:L}),y[re]=merge$1(L,getDefaultSelectorOptions($,L.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var g=this._data;if(g[0]&&this.get("selectedMode")==="single"){for(var y=!1,$=0;$<g.length;$++){var L=g[$].get("name");if(this.isSelected(L)){this.select(L),y=!0;break}}!y&&this.select(g[0].get("name"))}},n.prototype._updateData=function(g){var y=[],$=[];g.eachRawSeries(function(le){var ue=le.name;$.push(ue);var he;if(le.legendVisualProvider){var _e=le.legendVisualProvider,Ce=_e.getAllNames();g.isSeriesFiltered(le)||($=$.concat(Ce)),Ce.length?y=y.concat(Ce):he=!0}else he=!0;he&&isNameSpecified(le)&&y.push(le.name)}),this._availableNames=$;var L=this.get("data")||y,re=createHashMap(),ae=map$1(L,function(le){return(isString(le)||isNumber$1(le))&&(le={name:le}),re.get(le.name)?null:(re.set(le.name,!0),new Model(le,this,this.ecModel))},this);this._data=filter(ae,function(le){return!!le})},n.prototype.getData=function(){return this._data},n.prototype.select=function(g){var y=this.option.selected,$=this.get("selectedMode");if($==="single"){var L=this._data;each$f(L,function(re){y[re.get("name")]=!1})}y[g]=!0},n.prototype.unSelect=function(g){this.get("selectedMode")!=="single"&&(this.option.selected[g]=!1)},n.prototype.toggleSelected=function(g){var y=this.option.selected;y.hasOwnProperty(g)||(y[g]=!0),this[y[g]?"unSelect":"select"](g)},n.prototype.allSelect=function(){var g=this._data,y=this.option.selected;each$f(g,function($){y[$.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var g=this._data,y=this.option.selected;each$f(g,function($){var L=$.get("name",!0);y.hasOwnProperty(L)||(y[L]=!0),y[L]=!y[L]})},n.prototype.isSelected=function(g){var y=this.option.selected;return!(y.hasOwnProperty(g)&&!y[g])&&indexOf(this._availableNames,g)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel),curry=curry$1,each$3=each$f,Group$1=Group$3,LegendView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.newlineDisabled=!1,g}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(g,y,$){var L=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!g.get("show",!0)){var re=g.get("align"),ae=g.get("orient");(!re||re==="auto")&&(re=g.get("left")==="right"&&ae==="vertical"?"right":"left");var le=g.get("selector",!0),ue=g.get("selectorPosition",!0);le&&(!ue||ue==="auto")&&(ue=ae==="horizontal"?"end":"start"),this.renderInner(re,g,y,$,le,ae,ue);var he=g.getBoxLayoutParams(),_e={width:$.getWidth(),height:$.getHeight()},Ce=g.get("padding"),$e=getLayoutRect$1(he,_e,Ce),Oe=this.layoutInner(g,re,$e,L,le,ue),xe=getLayoutRect$1(defaults$2({width:Oe.width,height:Oe.height},he),_e,Ce);this.group.x=xe.x-Oe.x,this.group.y=xe.y-Oe.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(Oe,g))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(g,y,$,L,re,ae,le){var ue=this.getContentGroup(),he=createHashMap(),_e=y.get("selectedMode"),Ce=[];$.eachRawSeries(function($e){!$e.get("legendHoverLink")&&Ce.push($e.id)}),each$3(y.getData(),function($e,Oe){var xe=$e.get("name");if(!this.newlineDisabled&&(xe===""||xe===`
`)){var Ne=new Group$1;Ne.newline=!0,ue.add(Ne);return}var Ie=$.getSeriesByName(xe)[0];if(!he.get(xe))if(Ie){var Fe=Ie.getData(),Ve=Fe.getVisual("legendLineStyle")||{},ze=Fe.getVisual("legendIcon"),Ue=Fe.getVisual("style"),qe=this._createItem(Ie,xe,Oe,$e,y,g,Ve,Ue,ze,_e,L);qe.on("click",curry(dispatchSelectAction,xe,null,L,Ce)).on("mouseover",curry(dispatchHighlightAction,Ie.name,null,L,Ce)).on("mouseout",curry(dispatchDownplayAction,Ie.name,null,L,Ce)),$.ssr&&qe.eachChild(function(kt){var Et=getECData(kt);Et.seriesIndex=Ie.seriesIndex,Et.dataIndex=Oe,Et.ssrType="legend"}),he.set(xe,!0)}else $.eachRawSeries(function(kt){if(!he.get(xe)&&kt.legendVisualProvider){var Et=kt.legendVisualProvider;if(!Et.containName(xe))return;var Pt=Et.indexOfName(xe),At=Et.getItemVisual(Pt,"style"),Dt=Et.getItemVisual(Pt,"legendIcon"),Lt=parse(At.fill);Lt&&Lt[3]===0&&(Lt[3]=.2,At=extend(extend({},At),{fill:stringify(Lt,"rgba")}));var hn=this._createItem(kt,xe,Oe,$e,y,g,{},At,Dt,_e,L);hn.on("click",curry(dispatchSelectAction,null,xe,L,Ce)).on("mouseover",curry(dispatchHighlightAction,null,xe,L,Ce)).on("mouseout",curry(dispatchDownplayAction,null,xe,L,Ce)),$.ssr&&hn.eachChild(function(_n){var vn=getECData(_n);vn.seriesIndex=kt.seriesIndex,vn.dataIndex=Oe,vn.ssrType="legend"}),he.set(xe,!0)}},this)},this),re&&this._createSelector(re,y,L,ae,le)},n.prototype._createSelector=function(g,y,$,L,re){var ae=this.getSelectorGroup();each$3(g,function(ue){var he=ue.type,_e=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){$.dispatchAction({type:he==="all"?"legendAllSelect":"legendInverseSelect",legendId:y.id})}});ae.add(_e);var Ce=y.getModel("selectorLabel"),$e=y.getModel(["emphasis","selectorLabel"]);setLabelStyle(_e,{normal:Ce,emphasis:$e},{defaultText:ue.title}),enableHoverEmphasis(_e)})},n.prototype._createItem=function(g,y,$,L,re,ae,le,ue,he,_e,Ce){var $e=g.visualDrawType,Oe=re.get("itemWidth"),xe=re.get("itemHeight"),Ne=re.isSelected(y),Ie=L.get("symbolRotate"),Fe=L.get("symbolKeepAspect"),Ve=L.get("icon");he=Ve||he||"roundRect";var ze=getLegendStyle(he,L,le,ue,$e,Ne,Ce),Ue=new Group$1,qe=L.getModel("textStyle");if(isFunction(g.getLegendIcon)&&(!Ve||Ve==="inherit"))Ue.add(g.getLegendIcon({itemWidth:Oe,itemHeight:xe,icon:he,iconRotate:Ie,itemStyle:ze.itemStyle,lineStyle:ze.lineStyle,symbolKeepAspect:Fe}));else{var kt=Ve==="inherit"&&g.getData().getVisual("symbol")?Ie==="inherit"?g.getData().getVisual("symbolRotate"):Ie:0;Ue.add(getDefaultLegendIcon({itemWidth:Oe,itemHeight:xe,icon:he,iconRotate:kt,itemStyle:ze.itemStyle,lineStyle:ze.lineStyle,symbolKeepAspect:Fe}))}var Et=ae==="left"?Oe+5:-5,Pt=ae,At=re.get("formatter"),Dt=y;isString(At)&&At?Dt=At.replace("{name}",y??""):isFunction(At)&&(Dt=At(y));var Lt=Ne?qe.getTextColor():L.get("inactiveColor");Ue.add(new ZRText({style:createTextStyle$1(qe,{text:Dt,x:Et,y:xe/2,fill:Lt,align:Pt,verticalAlign:"middle"},{inheritColor:Lt})}));var hn=new Rect$2({shape:Ue.getBoundingRect(),style:{fill:"transparent"}}),_n=L.getModel("tooltip");return _n.get("show")&&setTooltipConfig({el:hn,componentModel:re,itemName:y,itemTooltipOption:_n.option}),Ue.add(hn),Ue.eachChild(function(vn){vn.silent=!0}),hn.silent=!_e,this.getContentGroup().add(Ue),enableHoverEmphasis(Ue),Ue.__legendDataIndex=$,Ue},n.prototype.layoutInner=function(g,y,$,L,re,ae){var le=this.getContentGroup(),ue=this.getSelectorGroup();box(g.get("orient"),le,g.get("itemGap"),$.width,$.height);var he=le.getBoundingRect(),_e=[-he.x,-he.y];if(ue.markRedraw(),le.markRedraw(),re){box("horizontal",ue,g.get("selectorItemGap",!0));var Ce=ue.getBoundingRect(),$e=[-Ce.x,-Ce.y],Oe=g.get("selectorButtonGap",!0),xe=g.getOrient().index,Ne=xe===0?"width":"height",Ie=xe===0?"height":"width",Fe=xe===0?"y":"x";ae==="end"?$e[xe]+=he[Ne]+Oe:_e[xe]+=Ce[Ne]+Oe,$e[1-xe]+=he[Ie]/2-Ce[Ie]/2,ue.x=$e[0],ue.y=$e[1],le.x=_e[0],le.y=_e[1];var Ve={x:0,y:0};return Ve[Ne]=he[Ne]+Oe+Ce[Ne],Ve[Ie]=Math.max(he[Ie],Ce[Ie]),Ve[Fe]=Math.min(0,Ce[Fe]+$e[1-xe]),Ve}else return le.x=_e[0],le.y=_e[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView);function getLegendStyle(r,n,g,y,$,L,re){function ae(Ne,Ie){Ne.lineWidth==="auto"&&(Ne.lineWidth=Ie.lineWidth>0?2:0),each$3(Ne,function(Fe,Ve){Ne[Ve]==="inherit"&&(Ne[Ve]=Ie[Ve])})}var le=n.getModel("itemStyle"),ue=le.getItemStyle(),he=r.lastIndexOf("empty",0)===0?"fill":"stroke",_e=le.getShallow("decal");ue.decal=!_e||_e==="inherit"?y.decal:createOrUpdatePatternFromDecal(_e,re),ue.fill==="inherit"&&(ue.fill=y[$]),ue.stroke==="inherit"&&(ue.stroke=y[he]),ue.opacity==="inherit"&&(ue.opacity=($==="fill"?y:g).opacity),ae(ue,y);var Ce=n.getModel("lineStyle"),$e=Ce.getLineStyle();if(ae($e,g),ue.fill==="auto"&&(ue.fill=y.fill),ue.stroke==="auto"&&(ue.stroke=y.fill),$e.stroke==="auto"&&($e.stroke=y.fill),!L){var Oe=n.get("inactiveBorderWidth"),xe=ue[he];ue.lineWidth=Oe==="auto"?y.lineWidth>0&&xe?2:0:ue.lineWidth,ue.fill=n.get("inactiveColor"),ue.stroke=n.get("inactiveBorderColor"),$e.stroke=Ce.get("inactiveColor"),$e.lineWidth=Ce.get("inactiveWidth")}return{itemStyle:ue,lineStyle:$e}}function getDefaultLegendIcon(r){var n=r.icon||"roundRect",g=createSymbol$1(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return g.setStyle(r.itemStyle),g.rotation=(r.iconRotate||0)*Math.PI/180,g.setOrigin([r.itemWidth/2,r.itemHeight/2]),n.indexOf("empty")>-1&&(g.style.stroke=g.style.fill,g.style.fill="#fff",g.style.lineWidth=2),g}function dispatchSelectAction(r,n,g,y){dispatchDownplayAction(r,n,g,y),g.dispatchAction({type:"legendToggleSelect",name:r??n}),dispatchHighlightAction(r,n,g,y)}function isUseHoverLayer(r){for(var n=r.getZr().storage.getDisplayList(),g,y=0,$=n.length;y<$&&!(g=n[y].states.emphasis);)y++;return g&&g.hoverLayer}function dispatchHighlightAction(r,n,g,y){isUseHoverLayer(g)||g.dispatchAction({type:"highlight",seriesName:r,name:n,excludeSeriesId:y})}function dispatchDownplayAction(r,n,g,y){isUseHoverLayer(g)||g.dispatchAction({type:"downplay",seriesName:r,name:n,excludeSeriesId:y})}function legendFilter(r){var n=r.findComponents({mainType:"legend"});n&&n.length&&r.filterSeries(function(g){for(var y=0;y<n.length;y++)if(!n[y].isSelected(g.name))return!1;return!0})}function legendSelectActionHandler(r,n,g){var y=r==="allSelect"||r==="inverseSelect",$={},L=[];g.eachComponent({mainType:"legend",query:n},function(ae){y?ae[r]():ae[r](n.name),makeSelectedMap(ae,$),L.push(ae.componentIndex)});var re={};return g.eachComponent("legend",function(ae){each$f($,function(le,ue){ae[le?"select":"unSelect"](ue)}),makeSelectedMap(ae,re)}),y?{selected:re,legendIndex:L}:{name:n.name,selected:re}}function makeSelectedMap(r,n){var g=n||{};return each$f(r.getData(),function(y){var $=y.get("name");if(!($===`
`||$==="")){var L=r.isSelected($);hasOwn(g,$)?g[$]=g[$]&&L:g[$]=L}}),g}function installLegendAction(r){r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$c(r){r.registerComponentModel(LegendModel),r.registerComponentView(LegendView),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(r)}var ScrollableLegendModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.setScrollDataIndex=function(g){this.option.scrollDataIndex=g},n.prototype.init=function(g,y,$){var L=getLayoutParams(g);r.prototype.init.call(this,g,y,$),mergeAndNormalizeLayoutParams(this,g,L)},n.prototype.mergeOption=function(g,y){r.prototype.mergeOption.call(this,g,y),mergeAndNormalizeLayoutParams(this,this.option,g)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel);function mergeAndNormalizeLayoutParams(r,n,g){var y=r.getOrient(),$=[1,1];$[y.index]=0,mergeLayoutParam(n,g,{type:"box",ignoreSize:!!$})}var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.newlineDisabled=!0,g._currentIndex=0,g}return n.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(g,y,$,L,re,ae,le){var ue=this;r.prototype.renderInner.call(this,g,y,$,L,re,ae,le);var he=this._controllerGroup,_e=y.get("pageIconSize",!0),Ce=isArray$2(_e)?_e:[_e,_e];Oe("pagePrev",0);var $e=y.getModel("pageTextStyle");he.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:$e.getTextColor(),font:$e.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),Oe("pageNext",1);function Oe(xe,Ne){var Ie=xe+"DataIndex",Fe=createIcon(y.get("pageIcons",!0)[y.getOrient().name][Ne],{onclick:bind$1(ue._pageGo,ue,Ie,y,L)},{x:-Ce[0]/2,y:-Ce[1]/2,width:Ce[0],height:Ce[1]});Fe.name=xe,he.add(Fe)}},n.prototype.layoutInner=function(g,y,$,L,re,ae){var le=this.getSelectorGroup(),ue=g.getOrient().index,he=WH[ue],_e=XY[ue],Ce=WH[1-ue],$e=XY[1-ue];re&&box("horizontal",le,g.get("selectorItemGap",!0));var Oe=g.get("selectorButtonGap",!0),xe=le.getBoundingRect(),Ne=[-xe.x,-xe.y],Ie=clone$4($);re&&(Ie[he]=$[he]-xe[he]-Oe);var Fe=this._layoutContentAndController(g,L,Ie,ue,he,Ce,$e,_e);if(re){if(ae==="end")Ne[ue]+=Fe[he]+Oe;else{var Ve=xe[he]+Oe;Ne[ue]-=Ve,Fe[_e]-=Ve}Fe[he]+=xe[he]+Oe,Ne[1-ue]+=Fe[$e]+Fe[Ce]/2-xe[Ce]/2,Fe[Ce]=Math.max(Fe[Ce],xe[Ce]),Fe[$e]=Math.min(Fe[$e],xe[$e]+Ne[1-ue]),le.x=Ne[0],le.y=Ne[1],le.markRedraw()}return Fe},n.prototype._layoutContentAndController=function(g,y,$,L,re,ae,le,ue){var he=this.getContentGroup(),_e=this._containerGroup,Ce=this._controllerGroup;box(g.get("orient"),he,g.get("itemGap"),L?$.width:null,L?null:$.height),box("horizontal",Ce,g.get("pageButtonItemGap",!0));var $e=he.getBoundingRect(),Oe=Ce.getBoundingRect(),xe=this._showController=$e[re]>$[re],Ne=[-$e.x,-$e.y];y||(Ne[L]=he[ue]);var Ie=[0,0],Fe=[-Oe.x,-Oe.y],Ve=retrieve2(g.get("pageButtonGap",!0),g.get("itemGap",!0));if(xe){var ze=g.get("pageButtonPosition",!0);ze==="end"?Fe[L]+=$[re]-Oe[re]:Ie[L]+=Oe[re]+Ve}Fe[1-L]+=$e[ae]/2-Oe[ae]/2,he.setPosition(Ne),_e.setPosition(Ie),Ce.setPosition(Fe);var Ue={x:0,y:0};if(Ue[re]=xe?$[re]:$e[re],Ue[ae]=Math.max($e[ae],Oe[ae]),Ue[le]=Math.min(0,Oe[le]+Fe[1-L]),_e.__rectSize=$[re],xe){var qe={x:0,y:0};qe[re]=Math.max($[re]-Oe[re]-Ve,0),qe[ae]=Ue[ae],_e.setClipPath(new Rect$2({shape:qe})),_e.__rectSize=qe[re]}else Ce.eachChild(function(Et){Et.attr({invisible:!0,silent:!0})});var kt=this._getPageInfo(g);return kt.pageIndex!=null&&updateProps$1(he,{x:kt.contentPosition[0],y:kt.contentPosition[1]},xe?g:null),this._updatePageInfoView(g,kt),Ue},n.prototype._pageGo=function(g,y,$){var L=this._getPageInfo(y)[g];L!=null&&$.dispatchAction({type:"legendScroll",scrollDataIndex:L,legendId:y.id})},n.prototype._updatePageInfoView=function(g,y){var $=this._controllerGroup;each$f(["pagePrev","pageNext"],function(he){var _e=he+"DataIndex",Ce=y[_e]!=null,$e=$.childOfName(he);$e&&($e.setStyle("fill",Ce?g.get("pageIconColor",!0):g.get("pageIconInactiveColor",!0)),$e.cursor=Ce?"pointer":"default")});var L=$.childOfName("pageText"),re=g.get("pageFormatter"),ae=y.pageIndex,le=ae!=null?ae+1:0,ue=y.pageCount;L&&re&&L.setStyle("text",isString(re)?re.replace("{current}",le==null?"":le+"").replace("{total}",ue==null?"":ue+""):re({current:le,total:ue}))},n.prototype._getPageInfo=function(g){var y=g.get("scrollDataIndex",!0),$=this.getContentGroup(),L=this._containerGroup.__rectSize,re=g.getOrient().index,ae=WH[re],le=XY[re],ue=this._findTargetItemIndex(y),he=$.children(),_e=he[ue],Ce=he.length,$e=Ce?1:0,Oe={contentPosition:[$.x,$.y],pageCount:$e,pageIndex:$e-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!_e)return Oe;var xe=ze(_e);Oe.contentPosition[re]=-xe.s;for(var Ne=ue+1,Ie=xe,Fe=xe,Ve=null;Ne<=Ce;++Ne)Ve=ze(he[Ne]),(!Ve&&Fe.e>Ie.s+L||Ve&&!Ue(Ve,Ie.s))&&(Fe.i>Ie.i?Ie=Fe:Ie=Ve,Ie&&(Oe.pageNextDataIndex==null&&(Oe.pageNextDataIndex=Ie.i),++Oe.pageCount)),Fe=Ve;for(var Ne=ue-1,Ie=xe,Fe=xe,Ve=null;Ne>=-1;--Ne)Ve=ze(he[Ne]),(!Ve||!Ue(Fe,Ve.s))&&Ie.i<Fe.i&&(Fe=Ie,Oe.pagePrevDataIndex==null&&(Oe.pagePrevDataIndex=Ie.i),++Oe.pageCount,++Oe.pageIndex),Ie=Ve;return Oe;function ze(qe){if(qe){var kt=qe.getBoundingRect(),Et=kt[le]+qe[le];return{s:Et,e:Et+kt[ae],i:qe.__legendDataIndex}}}function Ue(qe,kt){return qe.e>=kt&&qe.s<=kt+L}},n.prototype._findTargetItemIndex=function(g){if(!this._showController)return 0;var y,$=this.getContentGroup(),L;return $.eachChild(function(re,ae){var le=re.__legendDataIndex;L==null&&le!=null&&(L=ae),le===g&&(y=ae)}),y??L},n.type="legend.scroll",n}(LegendView);function installScrollableLegendAction(r){r.registerAction("legendScroll","legendscroll",function(n,g){var y=n.scrollDataIndex;y!=null&&g.eachComponent({mainType:"legend",subType:"scroll",query:n},function($){$.setScrollDataIndex(y)})})}function install$b(r){use(install$c),r.registerComponentModel(ScrollableLegendModel),r.registerComponentView(ScrollableLegendView),installScrollableLegendAction(r)}function install$a(r){use(install$c),use(install$b)}var InsideZoomModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel),inner$1=makeInner();function setViewInfoToCoordSysRecord(r,n,g){inner$1(r).coordSysRecordMap.each(function(y){var $=y.dataZoomInfoMap.get(n.uid);$&&($.getRange=g)})}function disposeCoordSysRecordIfNeeded(r,n){for(var g=inner$1(r).coordSysRecordMap,y=g.keys(),$=0;$<y.length;$++){var L=y[$],re=g.get(L),ae=re.dataZoomInfoMap;if(ae){var le=n.uid,ue=ae.get(le);ue&&(ae.removeKey(le),ae.keys().length||disposeCoordSysRecord(g,re))}}}function disposeCoordSysRecord(r,n){if(n){r.removeKey(n.model.uid);var g=n.controller;g&&g.dispose()}}function createCoordSysRecord(r,n){var g={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,r),dataZoomInfoMap:null,controller:null},y=g.controller=new RoamController(r.getZr());return each$f(["pan","zoom","scrollMove"],function($){y.on($,function(L){var re=[];g.dataZoomInfoMap.each(function(ae){if(L.isAvailableBehavior(ae.model.option)){var le=(ae.getRange||{})[$],ue=le&&le(ae.dzReferCoordSysInfo,g.model.mainType,g.controller,L);!ae.model.get("disabled",!0)&&ue&&re.push({dataZoomId:ae.model.id,start:ue[0],end:ue[1]})}}),re.length&&g.dispatchAction(re)})}),g}function dispatchAction(r,n){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint(r,n,g,y){return r.coordinateSystem.containPoint([g,y])}function mergeControllerParams(r){var n,g="type_",y={type_true:2,type_move:1,type_false:0,type_undefined:-1},$=!0;return r.each(function(L){var re=L.model,ae=re.get("disabled",!0)?!1:re.get("zoomLock",!0)?"move":!0;y[g+ae]>y[g+n]&&(n=ae),$=$&&re.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!$}}}function installDataZoomRoamProcessor(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(n,g){var y=inner$1(g),$=y.coordSysRecordMap||(y.coordSysRecordMap=createHashMap());$.each(function(L){L.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(L){var re=collectReferCoordSysModelInfo(L);each$f(re.infoList,function(ae){var le=ae.model.uid,ue=$.get(le)||$.set(le,createCoordSysRecord(g,ae.model)),he=ue.dataZoomInfoMap||(ue.dataZoomInfoMap=createHashMap());he.set(L.uid,{dzReferCoordSysInfo:ae,model:L,getRange:null})})}),$.each(function(L){var re=L.controller,ae,le=L.dataZoomInfoMap;if(le){var ue=le.keys()[0];ue!=null&&(ae=le.get(ue))}if(!ae){disposeCoordSysRecord($,L);return}var he=mergeControllerParams(le);re.enable(he.controlType,he.opt),re.setPointerChecker(L.containsPoint),createOrUpdate(L,"dispatchAction",ae.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="dataZoom.inside",g}return n.prototype.render=function(g,y,$){if(r.prototype.render.apply(this,arguments),g.noTarget()){this._clear();return}this.range=g.getPercentRange(),setViewInfoToCoordSysRecord($,g,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView),getRangeHandlers={zoom:function(r,n,g,y){var $=this.range,L=$.slice(),re=r.axisModels[0];if(re){var ae=getDirectionInfo[n](null,[y.originX,y.originY],re,g,r),le=(ae.signal>0?ae.pixelStart+ae.pixelLength-ae.pixel:ae.pixel-ae.pixelStart)/ae.pixelLength*(L[1]-L[0])+L[0],ue=Math.max(1/y.scale,0);L[0]=(L[0]-le)*ue+le,L[1]=(L[1]-le)*ue+le;var he=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,L,[0,100],0,he.minSpan,he.maxSpan),this.range=L,$[0]!==L[0]||$[1]!==L[1])return L}},pan:makeMover(function(r,n,g,y,$,L){var re=getDirectionInfo[y]([L.oldX,L.oldY],[L.newX,L.newY],n,$,g);return re.signal*(r[1]-r[0])*re.pixel/re.pixelLength}),scrollMove:makeMover(function(r,n,g,y,$,L){var re=getDirectionInfo[y]([0,0],[L.scrollDelta,L.scrollDelta],n,$,g);return re.signal*(r[1]-r[0])*L.scrollDelta})};function makeMover(r){return function(n,g,y,$){var L=this.range,re=L.slice(),ae=n.axisModels[0];if(ae){var le=r(re,ae,n,g,y,$);if(sliderMove(le,re,[0,100],"all"),this.range=re,L[0]!==re[0]||L[1]!==re[1])return re}}}var getDirectionInfo={grid:function(r,n,g,y,$){var L=g.axis,re={},ae=$.model.coordinateSystem.getRect();return r=r||[0,0],L.dim==="x"?(re.pixel=n[0]-r[0],re.pixelLength=ae.width,re.pixelStart=ae.x,re.signal=L.inverse?1:-1):(re.pixel=n[1]-r[1],re.pixelLength=ae.height,re.pixelStart=ae.y,re.signal=L.inverse?-1:1),re},polar:function(r,n,g,y,$){var L=g.axis,re={},ae=$.model.coordinateSystem,le=ae.getRadiusAxis().getExtent(),ue=ae.getAngleAxis().getExtent();return r=r?ae.pointToCoord(r):[0,0],n=ae.pointToCoord(n),g.mainType==="radiusAxis"?(re.pixel=n[0]-r[0],re.pixelLength=le[1]-le[0],re.pixelStart=le[0],re.signal=L.inverse?1:-1):(re.pixel=n[1]-r[1],re.pixelLength=ue[1]-ue[0],re.pixelStart=ue[0],re.signal=L.inverse?-1:1),re},singleAxis:function(r,n,g,y,$){var L=g.axis,re=$.model.coordinateSystem.getRect(),ae={};return r=r||[0,0],L.orient==="horizontal"?(ae.pixel=n[0]-r[0],ae.pixelLength=re.width,ae.pixelStart=re.x,ae.signal=L.inverse?1:-1):(ae.pixel=n[1]-r[1],ae.pixelLength=re.height,ae.pixelStart=re.y,ae.signal=L.inverse?-1:1),ae}};function install$9(r){installCommon$1(r),r.registerComponentModel(InsideZoomModel),r.registerComponentView(InsideZoomView),installDataZoomRoamProcessor(r)}var SliderZoomModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel),Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._displayables={},g}return n.prototype.init=function(g,y){this.api=y,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},n.prototype.render=function(g,y,$,L){if(r.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",g.get("throttle"),"fixRate"),this._orient=g.getOrient(),g.get("show")===!1){this.group.removeAll();return}if(g.noTarget()){this._clear(),this.group.removeAll();return}(!L||L.type!=="dataZoom"||L.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var g=this.api.getZr();g.off("mousemove",this._onBrush),g.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var g=this.group;g.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var y=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),g.add(y),this._positionGroup()},n.prototype._resetLocation=function(){var g=this.dataZoomModel,y=this.api,$=g.get("brushSelect"),L=$?DEFAULT_MOVE_HANDLE_SIZE:0,re=this._findCoordRect(),ae={width:y.getWidth(),height:y.getHeight()},le=this._orient===HORIZONTAL?{right:ae.width-re.x-re.width,top:ae.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-L,width:re.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:re.y,width:DEFAULT_FILLER_SIZE,height:re.height},ue=getLayoutParams(g.option);each$f(["right","top","width","height"],function(_e){ue[_e]==="ph"&&(ue[_e]=le[_e])});var he=getLayoutRect$1(ue,ae);this._location={x:he.x,y:he.y},this._size=[he.width,he.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var g=this.group,y=this._location,$=this._orient,L=this.dataZoomModel.getFirstTargetAxisModel(),re=L&&L.get("inverse"),ae=this._displayables.sliderGroup,le=(this._dataShadowInfo||{}).otherAxisInverse;ae.attr($===HORIZONTAL&&!re?{scaleY:le?1:-1,scaleX:1}:$===HORIZONTAL&&re?{scaleY:le?1:-1,scaleX:-1}:$===VERTICAL&&!re?{scaleY:le?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:le?-1:1,scaleX:-1,rotation:Math.PI/2});var ue=g.getBoundingRect([ae]);g.x=y.x-ue.x,g.y=y.y-ue.y,g.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var g=this.dataZoomModel,y=this._size,$=this._displayables.sliderGroup,L=g.get("brushSelect");$.add(new Rect({silent:!0,shape:{x:0,y:0,width:y[0],height:y[1]},style:{fill:g.get("backgroundColor")},z2:-40}));var re=new Rect({shape:{x:0,y:0,width:y[0],height:y[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),ae=this.api.getZr();L?(re.on("mousedown",this._onBrushStart,this),re.cursor="crosshair",ae.on("mousemove",this._onBrush),ae.on("mouseup",this._onBrushEnd)):(ae.off("mousemove",this._onBrush),ae.off("mouseup",this._onBrushEnd)),$.add(re)},n.prototype._renderDataShadow=function(){var g=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!g)return;var y=this._size,$=this._shadowSize||[],L=g.series,re=L.getRawData(),ae=L.getShadowDim&&L.getShadowDim(),le=ae&&re.getDimensionInfo(ae)?L.getShadowDim():g.otherDim;if(le==null)return;var ue=this._shadowPolygonPts,he=this._shadowPolylinePts;if(re!==this._shadowData||le!==this._shadowDim||y[0]!==$[0]||y[1]!==$[1]){var _e=re.getDataExtent(le),Ce=(_e[1]-_e[0])*.3;_e=[_e[0]-Ce,_e[1]+Ce];var $e=[0,y[1]],Oe=[0,y[0]],xe=[[y[0],0],[0,0]],Ne=[],Ie=Oe[1]/(re.count()-1),Fe=0,Ve=Math.round(re.count()/y[0]),ze;re.each([le],function(Pt,At){if(Ve>0&&At%Ve){Fe+=Ie;return}var Dt=Pt==null||isNaN(Pt)||Pt==="",Lt=Dt?0:linearMap$2(Pt,_e,$e,!0);Dt&&!ze&&At?(xe.push([xe[xe.length-1][0],0]),Ne.push([Ne[Ne.length-1][0],0])):!Dt&&ze&&(xe.push([Fe,0]),Ne.push([Fe,0])),xe.push([Fe,Lt]),Ne.push([Fe,Lt]),Fe+=Ie,ze=Dt}),ue=this._shadowPolygonPts=xe,he=this._shadowPolylinePts=Ne}this._shadowData=re,this._shadowDim=le,this._shadowSize=[y[0],y[1]];var Ue=this.dataZoomModel;function qe(Pt){var At=Ue.getModel(Pt?"selectedDataBackground":"dataBackground"),Dt=new Group$3,Lt=new Polygon({shape:{points:ue},segmentIgnoreThreshold:1,style:At.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),hn=new Polyline$1({shape:{points:he},segmentIgnoreThreshold:1,style:At.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Dt.add(Lt),Dt.add(hn),Dt}for(var kt=0;kt<3;kt++){var Et=qe(kt===1);this._displayables.sliderGroup.add(Et),this._displayables.dataShadowSegs.push(Et)}},n.prototype._prepareDataShadowInfo=function(){var g=this.dataZoomModel,y=g.get("showDataShadow");if(y!==!1){var $,L=this.ecModel;return g.eachTargetAxis(function(re,ae){var le=g.getAxisProxy(re,ae).getTargetSeriesModels();each$f(le,function(ue){if(!$&&!(y!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,ue.get("type"))<0)){var he=L.getComponent(getAxisMainType(re),ae).axis,_e=getOtherDim(re),Ce,$e=ue.coordinateSystem;_e!=null&&$e.getOtherAxis&&(Ce=$e.getOtherAxis(he).inverse),_e=ue.getData().mapDimension(_e),$={thisAxis:he,series:ue,thisDim:re,otherDim:_e,otherAxisInverse:Ce}}},this)},this),$}},n.prototype._renderHandle=function(){var g=this.group,y=this._displayables,$=y.handles=[null,null],L=y.handleLabels=[null,null],re=this._displayables.sliderGroup,ae=this._size,le=this.dataZoomModel,ue=this.api,he=le.get("borderRadius")||0,_e=le.get("brushSelect"),Ce=y.filler=new Rect({silent:_e,style:{fill:le.get("fillerColor")},textConfig:{position:"inside"}});re.add(Ce),re.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:ae[0],height:ae[1],r:he},style:{stroke:le.get("dataBackgroundColor")||le.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(Ve){var ze=le.get("handleIcon");!symbolBuildProxies[ze]&&ze.indexOf("path://")<0&&ze.indexOf("image://")<0&&(ze="path://"+ze);var Ue=createSymbol$1(ze,-1,0,2,2,null,!0);Ue.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,Ve),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var qe=Ue.getBoundingRect(),kt=le.get("handleSize");this._handleHeight=parsePercent(kt,this._size[1]),this._handleWidth=qe.width/qe.height*this._handleHeight,Ue.setStyle(le.getModel("handleStyle").getItemStyle()),Ue.style.strokeNoScale=!0,Ue.rectHover=!0,Ue.ensureState("emphasis").style=le.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(Ue);var Et=le.get("handleColor");Et!=null&&(Ue.style.fill=Et),re.add($[Ve]=Ue);var Pt=le.getModel("textStyle"),At=le.get("handleLabel")||{},Dt=At.show||!1;g.add(L[Ve]=new ZRText({silent:!0,invisible:!Dt,style:createTextStyle$1(Pt,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Pt.getTextColor(),font:Pt.getFont()}),z2:10}))},this);var $e=Ce;if(_e){var Oe=parsePercent(le.get("moveHandleSize"),ae[1]),xe=y.moveHandle=new Rect$2({style:le.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:ae[1]-.5,height:Oe}}),Ne=Oe*.8,Ie=y.moveHandleIcon=createSymbol$1(le.get("moveHandleIcon"),-Ne/2,-Ne/2,Ne,Ne,"#fff",!0);Ie.silent=!0,Ie.y=ae[1]+Oe/2-.5,xe.ensureState("emphasis").style=le.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var Fe=Math.min(ae[1]/2,Math.max(Oe,10));$e=y.moveZone=new Rect$2({invisible:!0,shape:{y:ae[1]-Fe,height:Oe+Fe}}),$e.on("mouseover",function(){ue.enterEmphasis(xe)}).on("mouseout",function(){ue.leaveEmphasis(xe)}),re.add(xe),re.add(Ie),re.add($e)}$e.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var g=this._range=this.dataZoomModel.getPercentRange(),y=this._getViewExtent();this._handleEnds=[linearMap$2(g[0],[0,100],y,!0),linearMap$2(g[1],[0,100],y,!0)]},n.prototype._updateInterval=function(g,y){var $=this.dataZoomModel,L=this._handleEnds,re=this._getViewExtent(),ae=$.findRepresentativeAxisProxy().getMinMaxSpan(),le=[0,100];sliderMove(y,L,re,$.get("zoomLock")?"all":g,ae.minSpan!=null?linearMap$2(ae.minSpan,le,re,!0):null,ae.maxSpan!=null?linearMap$2(ae.maxSpan,le,re,!0):null);var ue=this._range,he=this._range=asc$2([linearMap$2(L[0],re,le,!0),linearMap$2(L[1],re,le,!0)]);return!ue||ue[0]!==he[0]||ue[1]!==he[1]},n.prototype._updateView=function(g){var y=this._displayables,$=this._handleEnds,L=asc$2($.slice()),re=this._size;each$f([0,1],function($e){var Oe=y.handles[$e],xe=this._handleHeight;Oe.attr({scaleX:xe/2,scaleY:xe/2,x:$[$e]+($e?-1:1),y:re[1]/2-xe/2})},this),y.filler.setShape({x:L[0],y:0,width:L[1]-L[0],height:re[1]});var ae={x:L[0],width:L[1]-L[0]};y.moveHandle&&(y.moveHandle.setShape(ae),y.moveZone.setShape(ae),y.moveZone.getBoundingRect(),y.moveHandleIcon&&y.moveHandleIcon.attr("x",ae.x+ae.width/2));for(var le=y.dataShadowSegs,ue=[0,L[0],L[1],re[0]],he=0;he<le.length;he++){var _e=le[he],Ce=_e.getClipPath();Ce||(Ce=new Rect$2,_e.setClipPath(Ce)),Ce.setShape({x:ue[he],y:0,width:ue[he+1]-ue[he],height:re[1]})}this._updateDataInfo(g)},n.prototype._updateDataInfo=function(g){var y=this.dataZoomModel,$=this._displayables,L=$.handleLabels,re=this._orient,ae=["",""];if(y.get("showDetail")){var le=y.findRepresentativeAxisProxy();if(le){var ue=le.getAxisModel().axis,he=this._range,_e=g?le.calculateDataWindow({start:he[0],end:he[1]}).valueWindow:le.getDataValueWindow();ae=[this._formatLabel(_e[0],ue),this._formatLabel(_e[1],ue)]}}var Ce=asc$2(this._handleEnds.slice());$e.call(this,0),$e.call(this,1);function $e(Oe){var xe=getTransform$1($.handles[Oe].parent,this.group),Ne=transformDirection(Oe===0?"right":"left",xe),Ie=this._handleWidth/2+LABEL_GAP,Fe=applyTransform([Ce[Oe]+(Oe===0?-Ie:Ie),this._size[1]/2],xe);L[Oe].setStyle({x:Fe[0],y:Fe[1],verticalAlign:re===HORIZONTAL?"middle":Ne,align:re===HORIZONTAL?Ne:"center",text:ae[Oe]})}},n.prototype._formatLabel=function(g,y){var $=this.dataZoomModel,L=$.get("labelFormatter"),re=$.get("labelPrecision");(re==null||re==="auto")&&(re=y.getPixelPrecision());var ae=g==null||isNaN(g)?"":y.type==="category"||y.type==="time"?y.scale.getLabel({value:Math.round(g)}):g.toFixed(Math.min(re,20));return isFunction(L)?L(g,ae):isString(L)?L.replace("{value}",ae):ae},n.prototype._showDataInfo=function(g){var y=this.dataZoomModel.get("handleLabel")||{},$=y.show||!1,L=this.dataZoomModel.getModel(["emphasis","handleLabel"]),re=L.get("show")||!1,ae=g||this._dragging?re:$,le=this._displayables,ue=le.handleLabels;ue[0].attr("invisible",!ae),ue[1].attr("invisible",!ae),le.moveHandle&&this.api[ae?"enterEmphasis":"leaveEmphasis"](le.moveHandle,1)},n.prototype._onDragMove=function(g,y,$,L){this._dragging=!0,stop(L.event);var re=this._displayables.sliderGroup.getLocalTransform(),ae=applyTransform([y,$],re,!0),le=this._updateInterval(g,ae[0]),ue=this.dataZoomModel.get("realtime");this._updateView(!ue),le&&ue&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var g=this.dataZoomModel.get("realtime");!g&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(g){var y=this._size,$=this._displayables.sliderGroup.transformCoordToLocal(g.offsetX,g.offsetY);if(!($[0]<0||$[0]>y[0]||$[1]<0||$[1]>y[1])){var L=this._handleEnds,re=(L[0]+L[1])/2,ae=this._updateInterval("all",$[0]-re);this._updateView(),ae&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(g){var y=g.offsetX,$=g.offsetY;this._brushStart=new Point(y,$),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(g){if(this._brushing){var y=this._displayables.brushRect;if(this._brushing=!1,!!y){y.attr("ignore",!0);var $=y.shape,L=+new Date;if(!(L-this._brushStartTime<200&&Math.abs($.width)<5)){var re=this._getViewExtent(),ae=[0,100];this._range=asc$2([linearMap$2($.x,re,ae,!0),linearMap$2($.x+$.width,re,ae,!0)]),this._handleEnds=[$.x,$.x+$.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(g){this._brushing&&(stop(g.event),this._updateBrushRect(g.offsetX,g.offsetY))},n.prototype._updateBrushRect=function(g,y){var $=this._displayables,L=this.dataZoomModel,re=$.brushRect;re||(re=$.brushRect=new Rect({silent:!0,style:L.getModel("brushStyle").getItemStyle()}),$.sliderGroup.add(re)),re.attr("ignore",!1);var ae=this._brushStart,le=this._displayables.sliderGroup,ue=le.transformCoordToLocal(g,y),he=le.transformCoordToLocal(ae.x,ae.y),_e=this._size;ue[0]=Math.max(Math.min(_e[0],ue[0]),0),re.setShape({x:he[0],y:0,width:ue[0]-he[0],height:_e[1]})},n.prototype._dispatchZoomAction=function(g){var y=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:g?REALTIME_ANIMATION_CONFIG:null,start:y[0],end:y[1]})},n.prototype._findCoordRect=function(){var g,y=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!g&&y.length){var $=y[0].model.coordinateSystem;g=$.getRect&&$.getRect()}if(!g){var L=this.api.getWidth(),re=this.api.getHeight();g={x:L*.2,y:re*.2,width:L*.6,height:re*.6}}return g},n.type="dataZoom.slider",n}(DataZoomView);function getOtherDim(r){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[r]}function getCursor$1(r){return r==="vertical"?"ns-resize":"ew-resize"}function install$8(r){r.registerComponentModel(SliderZoomModel),r.registerComponentView(SliderZoomView),installCommon$1(r)}function install$7(r){use(install$9),use(install$8)}var visualDefault={get:function(r,n,g){var y=clone$4((defaultOption[r]||{})[n]);return g&&isArray$2(y)?y[y.length-1]:y}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray$1=isArray$2,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.stateList=["inRange","outOfRange"],g.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],g.layoutMode={type:"box",ignoreSize:!0},g.dataBound=[-1/0,1/0],g.targetVisuals={},g.controllerVisuals={},g}return n.prototype.init=function(g,y,$){this.mergeDefaultAndTheme(g,$)},n.prototype.optionUpdated=function(g,y){var $=this.option;!y&&replaceVisualOption($,g,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(g){var y=this.stateList;g=bind$1(g,this),this.controllerVisuals=createVisualMappings(this.option.controller,y,g),this.targetVisuals=createVisualMappings(this.option.target,y,g)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var g=this.option.seriesIndex,y=[];return g==null||g==="all"?this.ecModel.eachSeries(function($,L){y.push(L)}):y=normalizeToArray$1(g),y},n.prototype.eachTargetSeries=function(g,y){each$f(this.getTargetSeriesIndices(),function($){var L=this.ecModel.getSeriesByIndex($);L&&g.call(y,L)},this)},n.prototype.isTargetSeries=function(g){var y=!1;return this.eachTargetSeries(function($){$===g&&(y=!0)}),y},n.prototype.formatValueText=function(g,y,$){var L=this.option,re=L.precision,ae=this.dataBound,le=L.formatter,ue;$=$||["<",">"],isArray$2(g)&&(g=g.slice(),ue=!0);var he=y?g:ue?[_e(g[0]),_e(g[1])]:_e(g);if(isString(le))return le.replace("{value}",ue?he[0]:he).replace("{value2}",ue?he[1]:he);if(isFunction(le))return ue?le(g[0],g[1]):le(g);if(ue)return g[0]===ae[0]?$[0]+" "+he[1]:g[1]===ae[1]?$[1]+" "+he[0]:he[0]+" - "+he[1];return he;function _e(Ce){return Ce===ae[0]?"min":Ce===ae[1]?"max":(+Ce).toFixed(Math.min(re,20))}},n.prototype.resetExtent=function(){var g=this.option,y=asc([g.min,g.max]);this._dataExtent=y},n.prototype.getDataDimensionIndex=function(g){var y=this.option.dimension;if(y!=null)return g.getDimensionIndex(y);for(var $=g.dimensions,L=$.length-1;L>=0;L--){var re=$[L],ae=g.getDimensionInfo(re);if(!ae.isCalculationCoord)return ae.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var g=this.ecModel,y=this.option,$={inRange:y.inRange,outOfRange:y.outOfRange},L=y.target||(y.target={}),re=y.controller||(y.controller={});merge$1(L,$),merge$1(re,$);var ae=this.isCategory();le.call(this,L),le.call(this,re),ue.call(this,L,"inRange","outOfRange"),he.call(this,re);function le(_e){isArray$1(y.color)&&!_e.inRange&&(_e.inRange={color:y.color.slice().reverse()}),_e.inRange=_e.inRange||{color:g.get("gradientColor")}}function ue(_e,Ce,$e){var Oe=_e[Ce],xe=_e[$e];Oe&&!xe&&(xe=_e[$e]={},each$2(Oe,function(Ne,Ie){if(VisualMapping.isValidType(Ie)){var Fe=visualDefault.get(Ie,"inactive",ae);Fe!=null&&(xe[Ie]=Fe,Ie==="color"&&!xe.hasOwnProperty("opacity")&&!xe.hasOwnProperty("colorAlpha")&&(xe.opacity=[0,0]))}}))}function he(_e){var Ce=(_e.inRange||{}).symbol||(_e.outOfRange||{}).symbol,$e=(_e.inRange||{}).symbolSize||(_e.outOfRange||{}).symbolSize,Oe=this.get("inactiveColor"),xe=this.getItemSymbol(),Ne=xe||"roundRect";each$2(this.stateList,function(Ie){var Fe=this.itemSize,Ve=_e[Ie];Ve||(Ve=_e[Ie]={color:ae?Oe:[Oe]}),Ve.symbol==null&&(Ve.symbol=Ce&&clone$4(Ce)||(ae?Ne:[Ne])),Ve.symbolSize==null&&(Ve.symbolSize=$e&&clone$4($e)||(ae?Fe[0]:[Fe[0],Fe[0]])),Ve.symbol=mapVisual(Ve.symbol,function(qe){return qe==="none"?Ne:qe});var ze=Ve.symbolSize;if(ze!=null){var Ue=-1/0;eachVisual(ze,function(qe){qe>Ue&&(Ue=qe)}),Ve.symbolSize=mapVisual(ze,function(qe){return linearMap$1(qe,[0,Ue],[0,Fe[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(g){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(g){return null},n.prototype.getVisualMeta=function(g){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.optionUpdated=function(g,y){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function($){$.mappingMethod="linear",$.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var g=this.itemSize;(g[0]==null||isNaN(g[0]))&&(g[0]=DEFAULT_BAR_BOUND[0]),(g[1]==null||isNaN(g[1]))&&(g[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var g=this.getExtent(),y=this.option.range;!y||y.auto?(g.auto=1,this.option.range=g):isArray$2(y)&&(y[0]>y[1]&&y.reverse(),y[0]=Math.max(y[0],g[0]),y[1]=Math.min(y[1],g[1]))},n.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(g){var y=this.option.controller[g].symbolSize;y&&y[0]!==y[1]&&(y[0]=y[1]/3)},this)},n.prototype.setSelected=function(g){this.option.range=g.slice(),this._resetRange()},n.prototype.getSelected=function(){var g=this.getExtent(),y=asc$2((this.get("range")||[]).slice());return y[0]>g[1]&&(y[0]=g[1]),y[1]>g[1]&&(y[1]=g[1]),y[0]<g[0]&&(y[0]=g[0]),y[1]<g[0]&&(y[1]=g[0]),y},n.prototype.getValueState=function(g){var y=this.option.range,$=this.getExtent();return(y[0]<=$[0]||y[0]<=g)&&(y[1]>=$[1]||g<=y[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(g){var y=[];return this.eachTargetSeries(function($){var L=[],re=$.getData();re.each(this.getDataDimensionIndex(re),function(ae,le){g[0]<=ae&&ae<=g[1]&&L.push(le)},this),y.push({seriesId:$.id,dataIndex:L})},this),y},n.prototype.getVisualMeta=function(g){var y=getColorStopValues(this,"outOfRange",this.getExtent()),$=getColorStopValues(this,"inRange",this.option.range.slice()),L=[];function re($e,Oe){L.push({value:$e,color:g($e,Oe)})}for(var ae=0,le=0,ue=$.length,he=y.length;le<he&&(!$.length||y[le]<=$[0]);le++)y[le]<$[ae]&&re(y[le],"outOfRange");for(var _e=1;ae<ue;ae++,_e=0)_e&&L.length&&re($[ae],"outOfRange"),re($[ae],"inRange");for(var _e=1;le<he;le++)(!$.length||$[$.length-1]<y[le])&&(_e&&(L.length&&re(L[L.length-1].value,"outOfRange"),_e=0),re(y[le],"outOfRange"));var Ce=L.length;return{stops:L,outerColors:[Ce?L[0].color:"transparent",Ce?L[Ce-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel);function getColorStopValues(r,n,g){if(g[0]===g[1])return g.slice();for(var y=200,$=(g[1]-g[0])/y,L=g[0],re=[],ae=0;ae<=y&&L<g[1];ae++)re.push(L),L+=$;return re.push(g[1]),re}var VisualMapView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g.autoPositionValues={left:1,right:1,top:1,bottom:1},g}return n.prototype.init=function(g,y){this.ecModel=g,this.api=y},n.prototype.render=function(g,y,$,L){if(this.visualMapModel=g,g.get("show")===!1){this.group.removeAll();return}this.doRender(g,y,$,L)},n.prototype.renderBackground=function(g){var y=this.visualMapModel,$=normalizeCssArray(y.get("padding")||0),L=g.getBoundingRect();g.add(new Rect$2({z2:-1,silent:!0,shape:{x:L.x-$[3],y:L.y-$[0],width:L.width+$[3]+$[1],height:L.height+$[0]+$[2]},style:{fill:y.get("backgroundColor"),stroke:y.get("borderColor"),lineWidth:y.get("borderWidth")}}))},n.prototype.getControllerVisual=function(g,y,$){$=$||{};var L=$.forceState,re=this.visualMapModel,ae={};if(y==="color"){var le=re.get("contentColor");ae.color=le}function ue($e){return ae[$e]}function he($e,Oe){ae[$e]=Oe}var _e=re.controllerVisuals[L||re.getValueState(g)],Ce=VisualMapping.prepareVisualTypes(_e);return each$f(Ce,function($e){var Oe=_e[$e];$.convertOpacityToAlpha&&$e==="opacity"&&($e="colorAlpha",Oe=_e.__alphaForOpacity),VisualMapping.dependsOn($e,y)&&Oe&&Oe.applyVisual(g,ue,he)}),ae[y]},n.prototype.positionGroup=function(g){var y=this.visualMapModel,$=this.api;positionElement(g,y.getBoxLayoutParams(),{width:$.getWidth(),height:$.getHeight()})},n.prototype.doRender=function(g,y,$,L){},n.type="visualMap",n}(ComponentView),paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(r,n,g){var y=r.option,$=y.align;if($!=null&&$!=="auto")return $;for(var L={width:n.getWidth(),height:n.getHeight()},re=y.orient==="horizontal"?1:0,ae=paramsSet[re],le=[0,null,10],ue={},he=0;he<3;he++)ue[paramsSet[1-re][he]]=le[he],ue[ae[he]]=he===2?g[0]:y[ae[he]];var _e=[["x","width",3],["y","height",0]][re],Ce=getLayoutRect$1(ue,L,y.padding);return ae[(Ce.margin[_e[2]]||0)+Ce[_e[0]]+Ce[_e[1]]*.5<L[_e[1]]*.5?0:1]}function makeHighDownBatch(r,n){return each$f(r||[],function(g){g.dataIndex!=null&&(g.dataIndexInside=g.dataIndex,g.dataIndex=null),g.highlightKey="visualMap"+(n?n.componentIndex:"")}),r}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._shapes={},g._dataInterval=[],g._handleEnds=[],g._hoverLinkDataIndices=[],g}return n.prototype.init=function(g,y){r.prototype.init.call(this,g,y),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},n.prototype.doRender=function(g,y,$,L){(!L||L.type!=="selectDataRange"||L.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var g=this.visualMapModel,y=this.group;this._orient=g.get("orient"),this._useHandle=g.get("calculable"),this._resetInterval(),this._renderBar(y);var $=g.get("text");this._renderEndsText(y,$,0),this._renderEndsText(y,$,1),this._updateView(!0),this.renderBackground(y),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(y)},n.prototype._renderEndsText=function(g,y,$){if(y){var L=y[1-$];L=L!=null?L+"":"";var re=this.visualMapModel,ae=re.get("textGap"),le=re.itemSize,ue=this._shapes.mainGroup,he=this._applyTransform([le[0]/2,$===0?-ae:le[1]+ae],ue),_e=this._applyTransform($===0?"bottom":"top",ue),Ce=this._orient,$e=this.visualMapModel.textStyleModel;this.group.add(new ZRText({style:createTextStyle$1($e,{x:he[0],y:he[1],verticalAlign:Ce==="horizontal"?"middle":_e,align:Ce==="horizontal"?_e:"center",text:L})}))}},n.prototype._renderBar=function(g){var y=this.visualMapModel,$=this._shapes,L=y.itemSize,re=this._orient,ae=this._useHandle,le=getItemAlign(y,this.api,L),ue=$.mainGroup=this._createBarGroup(le),he=new Group$3;ue.add(he),he.add($.outOfRange=createPolygon()),he.add($.inRange=createPolygon(null,ae?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),he.setClipPath(new Rect$2({shape:{x:0,y:0,width:L[0],height:L[1],r:3}}));var _e=y.textStyleModel.getTextRect(""),Ce=mathMax(_e.width,_e.height);ae&&($.handleThumbs=[],$.handleLabels=[],$.handleLabelPoints=[],this._createHandle(y,ue,0,L,Ce,re),this._createHandle(y,ue,1,L,Ce,re)),this._createIndicator(y,ue,L,Ce,re),g.add(ue)},n.prototype._createHandle=function(g,y,$,L,re,ae){var le=bind$1(this._dragHandle,this,$,!1),ue=bind$1(this._dragHandle,this,$,!0),he=parsePercent$1(g.get("handleSize"),L[0]),_e=createSymbol$1(g.get("handleIcon"),-he/2,-he/2,he,he,null,!0),Ce=getCursor(this._orient);_e.attr({cursor:Ce,draggable:!0,drift:le,ondragend:ue,onmousemove:function(Ie){stop(Ie.event)}}),_e.x=L[0]/2,_e.useStyle(g.getModel("handleStyle").getItemStyle()),_e.setStyle({strokeNoScale:!0,strokeFirst:!0}),_e.style.lineWidth*=2,_e.ensureState("emphasis").style=g.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(_e,!0),y.add(_e);var $e=this.visualMapModel.textStyleModel,Oe=new ZRText({cursor:Ce,draggable:!0,drift:le,onmousemove:function(Ie){stop(Ie.event)},ondragend:ue,style:createTextStyle$1($e,{x:0,y:0,text:""})});Oe.ensureState("blur").style={opacity:.1},Oe.stateTransition={duration:200},this.group.add(Oe);var xe=[he,0],Ne=this._shapes;Ne.handleThumbs[$]=_e,Ne.handleLabelPoints[$]=xe,Ne.handleLabels[$]=Oe},n.prototype._createIndicator=function(g,y,$,L,re){var ae=parsePercent$1(g.get("indicatorSize"),$[0]),le=createSymbol$1(g.get("indicatorIcon"),-ae/2,-ae/2,ae,ae,null,!0);le.attr({cursor:"move",invisible:!0,silent:!0,x:$[0]/2});var ue=g.getModel("indicatorStyle").getItemStyle();if(le instanceof ZRImage){var he=le.style;le.useStyle(extend({image:he.image,x:he.x,y:he.y,width:he.width,height:he.height},ue))}else le.useStyle(ue);y.add(le);var _e=this.visualMapModel.textStyleModel,Ce=new ZRText({silent:!0,invisible:!0,style:createTextStyle$1(_e,{x:0,y:0,text:""})});this.group.add(Ce);var $e=[(re==="horizontal"?L/2:HOVER_LINK_OUT)+$[0]/2,0],Oe=this._shapes;Oe.indicator=le,Oe.indicatorLabel=Ce,Oe.indicatorLabelPoint=$e,this._firstShowIndicator=!0},n.prototype._dragHandle=function(g,y,$,L){if(this._useHandle){if(this._dragging=!y,!y){var re=this._applyTransform([$,L],this._shapes.mainGroup,!0);this._updateInterval(g,re[1]),this._hideIndicator(),this._updateView()}y===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),y?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[g],!1)}},n.prototype._resetInterval=function(){var g=this.visualMapModel,y=this._dataInterval=g.getSelected(),$=g.getExtent(),L=[0,g.itemSize[1]];this._handleEnds=[linearMap(y[0],$,L,!0),linearMap(y[1],$,L,!0)]},n.prototype._updateInterval=function(g,y){y=y||0;var $=this.visualMapModel,L=this._handleEnds,re=[0,$.itemSize[1]];sliderMove(y,L,re,g,0);var ae=$.getExtent();this._dataInterval=[linearMap(L[0],re,ae,!0),linearMap(L[1],re,ae,!0)]},n.prototype._updateView=function(g){var y=this.visualMapModel,$=y.getExtent(),L=this._shapes,re=[0,y.itemSize[1]],ae=g?re:this._handleEnds,le=this._createBarVisual(this._dataInterval,$,ae,"inRange"),ue=this._createBarVisual($,$,re,"outOfRange");L.inRange.setStyle({fill:le.barColor}).setShape("points",le.barPoints),L.outOfRange.setStyle({fill:ue.barColor}).setShape("points",ue.barPoints),this._updateHandle(ae,le)},n.prototype._createBarVisual=function(g,y,$,L){var re={forceState:L,convertOpacityToAlpha:!0},ae=this._makeColorGradient(g,re),le=[this.getControllerVisual(g[0],"symbolSize",re),this.getControllerVisual(g[1],"symbolSize",re)],ue=this._createBarPoints($,le);return{barColor:new LinearGradient(0,0,0,1,ae),barPoints:ue,handlesColor:[ae[0].color,ae[ae.length-1].color]}},n.prototype._makeColorGradient=function(g,y){var $=100,L=[],re=(g[1]-g[0])/$;L.push({color:this.getControllerVisual(g[0],"color",y),offset:0});for(var ae=1;ae<$;ae++){var le=g[0]+re*ae;if(le>g[1])break;L.push({color:this.getControllerVisual(le,"color",y),offset:ae/$})}return L.push({color:this.getControllerVisual(g[1],"color",y),offset:1}),L},n.prototype._createBarPoints=function(g,y){var $=this.visualMapModel.itemSize;return[[$[0]-y[0],g[0]],[$[0],g[0]],[$[0],g[1]],[$[0]-y[1],g[1]]]},n.prototype._createBarGroup=function(g){var y=this._orient,$=this.visualMapModel.get("inverse");return new Group$3(y==="horizontal"&&!$?{scaleX:g==="bottom"?1:-1,rotation:Math.PI/2}:y==="horizontal"&&$?{scaleX:g==="bottom"?-1:1,rotation:-Math.PI/2}:y==="vertical"&&!$?{scaleX:g==="left"?1:-1,scaleY:-1}:{scaleX:g==="left"?1:-1})},n.prototype._updateHandle=function(g,y){if(this._useHandle){var $=this._shapes,L=this.visualMapModel,re=$.handleThumbs,ae=$.handleLabels,le=L.itemSize,ue=L.getExtent(),he=this._applyTransform("left",$.mainGroup);each$1([0,1],function(_e){var Ce=re[_e];Ce.setStyle("fill",y.handlesColor[_e]),Ce.y=g[_e];var $e=linearMap(g[_e],[0,le[1]],ue,!0),Oe=this.getControllerVisual($e,"symbolSize");Ce.scaleX=Ce.scaleY=Oe/le[0],Ce.x=le[0]-Oe/2;var xe=applyTransform($.handleLabelPoints[_e],getTransform$1(Ce,this.group));if(this._orient==="horizontal"){var Ne=he==="left"||he==="top"?(le[0]-Oe)/2:(le[0]-Oe)/-2;xe[1]+=Ne}ae[_e].setStyle({x:xe[0],y:xe[1],text:L.formatValueText(this._dataInterval[_e]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",$.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(g,y,$,L){var re=this.visualMapModel,ae=re.getExtent(),le=re.itemSize,ue=[0,le[1]],he=this._shapes,_e=he.indicator;if(_e){_e.attr("invisible",!1);var Ce={convertOpacityToAlpha:!0},$e=this.getControllerVisual(g,"color",Ce),Oe=this.getControllerVisual(g,"symbolSize"),xe=linearMap(g,ae,ue,!0),Ne=le[0]-Oe/2,Ie={x:_e.x,y:_e.y};_e.y=xe,_e.x=Ne;var Fe=applyTransform(he.indicatorLabelPoint,getTransform$1(_e,this.group)),Ve=he.indicatorLabel;Ve.attr("invisible",!1);var ze=this._applyTransform("left",he.mainGroup),Ue=this._orient,qe=Ue==="horizontal";Ve.setStyle({text:($||"")+re.formatValueText(y),verticalAlign:qe?ze:"middle",align:qe?"center":ze});var kt={x:Ne,y:xe,style:{fill:$e}},Et={style:{x:Fe[0],y:Fe[1]}};if(re.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Pt={duration:100,easing:"cubicInOut",additive:!0};_e.x=Ie.x,_e.y=Ie.y,_e.animateTo(kt,Pt),Ve.animateTo(Et,Pt)}else _e.attr(kt),Ve.attr(Et);this._firstShowIndicator=!1;var At=this._shapes.handleLabels;if(At)for(var Dt=0;Dt<At.length;Dt++)this.api.enterBlur(At[Dt])}},n.prototype._enableHoverLinkToSeries=function(){var g=this;this._shapes.mainGroup.on("mousemove",function(y){if(g._hovering=!0,!g._dragging){var $=g.visualMapModel.itemSize,L=g._applyTransform([y.offsetX,y.offsetY],g._shapes.mainGroup,!0,!0);L[1]=mathMin(mathMax(0,L[1]),$[1]),g._doHoverLinkToSeries(L[1],0<=L[0]&&L[0]<=$[0])}}).on("mouseout",function(){g._hovering=!1,!g._dragging&&g._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var g=this.api.getZr();this.visualMapModel.option.hoverLink?(g.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),g.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(g,y){var $=this.visualMapModel,L=$.itemSize;if($.option.hoverLink){var re=[0,L[1]],ae=$.getExtent();g=mathMin(mathMax(re[0],g),re[1]);var le=getHalfHoverLinkSize($,ae,re),ue=[g-le,g+le],he=linearMap(g,re,ae,!0),_e=[linearMap(ue[0],re,ae,!0),linearMap(ue[1],re,ae,!0)];ue[0]<re[0]&&(_e[0]=-1/0),ue[1]>re[1]&&(_e[1]=1/0),y&&(_e[0]===-1/0?this._showIndicator(he,_e[1],"< ",le):_e[1]===1/0?this._showIndicator(he,_e[0],"> ",le):this._showIndicator(he,he," ",le));var Ce=this._hoverLinkDataIndices,$e=[];(y||useHoverLinkOnHandle($))&&($e=this._hoverLinkDataIndices=$.findTargetDataIndices(_e));var Oe=compressBatches(Ce,$e);this._dispatchHighDown("downplay",makeHighDownBatch(Oe[0],$)),this._dispatchHighDown("highlight",makeHighDownBatch(Oe[1],$))}},n.prototype._hoverLinkFromSeriesMouseOver=function(g){var y;if(findEventDispatcher(g.target,function(le){var ue=getECData(le);if(ue.dataIndex!=null)return y=ue,!0},!0),!!y){var $=this.ecModel.getSeriesByIndex(y.seriesIndex),L=this.visualMapModel;if(L.isTargetSeries($)){var re=$.getData(y.dataType),ae=re.getStore().get(L.getDataDimensionIndex(re),y.dataIndex);isNaN(ae)||this._showIndicator(ae,ae)}}},n.prototype._hideIndicator=function(){var g=this._shapes;g.indicator&&g.indicator.attr("invisible",!0),g.indicatorLabel&&g.indicatorLabel.attr("invisible",!0);var y=this._shapes.handleLabels;if(y)for(var $=0;$<y.length;$++)this.api.leaveBlur(y[$])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var g=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(g,this.visualMapModel)),g.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var g=this.api.getZr();g.off("mouseover",this._hoverLinkFromSeriesMouseOver),g.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(g,y,$,L){var re=getTransform$1(y,L?null:this.group);return isArray$2(g)?applyTransform(g,re,$):transformDirection(g,re,$)},n.prototype._dispatchHighDown=function(g,y){y&&y.length&&this.api.dispatchAction({type:g,batch:y})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView);function createPolygon(r,n,g,y){return new Polygon({shape:{points:r},draggable:!!g,cursor:n,drift:g,onmousemove:function($){stop($.event)},ondragend:y})}function getHalfHoverLinkSize(r,n,g){var y=HOVER_LINK_SIZE/2,$=r.get("hoverLinkDataSize");return $&&(y=linearMap($,n,g,!0)/2),y}function useHoverLinkOnHandle(r){var n=r.get("hoverLinkOnHandle");return!!(n??r.get("realtime"))}function getCursor(r){return r==="vertical"?"ns-resize":"ew-resize"}var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(r,n){n.eachComponent({mainType:"visualMap",query:r},function(g){g.setSelected(r.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(r,n){var g=[];return n.eachComponent("visualMap",function(y){var $=r.pipelineContext;!y.isTargetSeries(r)||$&&$.large||g.push(incrementalApplyVisual(y.stateList,y.targetVisuals,bind$1(y.getValueState,y),y.getDataDimensionIndex(r.getData())))}),g}},{createOnAllSeries:!0,reset:function(r,n){var g=r.getData(),y=[];n.eachComponent("visualMap",function($){if($.isTargetSeries(r)){var L=$.getVisualMeta(bind$1(getColorVisual,null,r,$))||{stops:[],outerColors:[]},re=$.getDataDimensionIndex(g);re>=0&&(L.dimension=re,y.push(L))}}),r.getData().setVisual("visualMeta",y)}}];function getColorVisual(r,n,g,y){for(var $=n.targetVisuals[y],L=VisualMapping.prepareVisualTypes($),re={color:getVisualFromData(r.getData(),"color")},ae=0,le=L.length;ae<le;ae++){var ue=L[ae],he=$[ue==="opacity"?"__alphaForOpacity":ue];he&&he.applyVisual(g,_e,Ce)}return re.color;function _e($e){return re[$e]}function Ce($e,Oe){re[$e]=Oe}}var each=each$f;function visualMapPreprocessor(r){var n=r&&r.visualMap;isArray$2(n)||(n=n?[n]:[]),each(n,function(g){if(g){has(g,"splitList")&&!has(g,"pieces")&&(g.pieces=g.splitList,delete g.splitList);var y=g.pieces;y&&isArray$2(y)&&each(y,function($){isObject$3($)&&(has($,"start")&&!has($,"min")&&($.min=$.start),has($,"end")&&!has($,"max")&&($.max=$.end))})}})}function has(r,n){return r&&r.hasOwnProperty&&r.hasOwnProperty(n)}var installed=!1;function installCommon(r){installed||(installed=!0,r.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),r.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(n){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,n)}),r.registerPreprocessor(visualMapPreprocessor))}function install$6(r){r.registerComponentModel(ContinuousModel),r.registerComponentView(ContinuousView),installCommon(r)}var PiecewiseModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g._pieceList=[],g}return n.prototype.optionUpdated=function(g,y){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var $=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(g,y);var L=this.option.categories;this.resetVisual(function(re,ae){$==="categories"?(re.mappingMethod="category",re.categories=clone$4(L)):(re.dataExtent=this.getExtent(),re.mappingMethod="piecewise",re.pieceList=map$1(this._pieceList,function(le){return le=clone$4(le),ae!=="inRange"&&(le.visual=null),le}))})},n.prototype.completeVisualOption=function(){var g=this.option,y={},$=VisualMapping.listVisualTypes(),L=this.isCategory();each$f(g.pieces,function(ae){each$f($,function(le){ae.hasOwnProperty(le)&&(y[le]=1)})}),each$f(y,function(ae,le){var ue=!1;each$f(this.stateList,function(he){ue=ue||re(g,he,le)||re(g.target,he,le)},this),!ue&&each$f(this.stateList,function(he){(g[he]||(g[he]={}))[le]=visualDefault.get(le,he==="inRange"?"active":"inactive",L)})},this);function re(ae,le,ue){return ae&&ae[le]&&ae[le].hasOwnProperty(ue)}r.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(g,y){var $=this.option,L=this._pieceList,re=(y?$:g).selected||{};if($.selected=re,each$f(L,function(le,ue){var he=this.getSelectedMapKey(le);re.hasOwnProperty(he)||(re[he]=!0)},this),$.selectedMode==="single"){var ae=!1;each$f(L,function(le,ue){var he=this.getSelectedMapKey(le);re[he]&&(ae?re[he]=!1:ae=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(g){return this._mode==="categories"?g.value+"":g.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var g=this.option;return g.pieces&&g.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(g){this.option.selected=clone$4(g)},n.prototype.getValueState=function(g){var y=VisualMapping.findPieceIndex(g,this._pieceList);return y!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[y])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(g){var y=[],$=this._pieceList;return this.eachTargetSeries(function(L){var re=[],ae=L.getData();ae.each(this.getDataDimensionIndex(ae),function(le,ue){var he=VisualMapping.findPieceIndex(le,$);he===g&&re.push(ue)},this),y.push({seriesId:L.id,dataIndex:re})},this),y},n.prototype.getRepresentValue=function(g){var y;if(this.isCategory())y=g.value;else if(g.value!=null)y=g.value;else{var $=g.interval||[];y=$[0]===-1/0&&$[1]===1/0?0:($[0]+$[1])/2}return y},n.prototype.getVisualMeta=function(g){if(this.isCategory())return;var y=[],$=["",""],L=this;function re(he,_e){var Ce=L.getRepresentValue({interval:he});_e||(_e=L.getValueState(Ce));var $e=g(Ce,_e);he[0]===-1/0?$[0]=$e:he[1]===1/0?$[1]=$e:y.push({value:he[0],color:$e},{value:he[1],color:$e})}var ae=this._pieceList.slice();if(!ae.length)ae.push({interval:[-1/0,1/0]});else{var le=ae[0].interval[0];le!==-1/0&&ae.unshift({interval:[-1/0,le]}),le=ae[ae.length-1].interval[1],le!==1/0&&ae.push({interval:[le,1/0]})}var ue=-1/0;return each$f(ae,function(he){var _e=he.interval;_e&&(_e[0]>ue&&re([ue,_e[0]],"outOfRange"),re(_e.slice()),ue=_e[1])},this),{stops:y,outerColors:$}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel),resetMethods={splitNumber:function(r){var n=this.option,g=Math.min(n.precision,20),y=this.getExtent(),$=n.splitNumber;$=Math.max(parseInt($,10),1),n.splitNumber=$;for(var L=(y[1]-y[0])/$;+L.toFixed(g)!==L&&g<5;)g++;n.precision=g,L=+L.toFixed(g),n.minOpen&&r.push({interval:[-1/0,y[0]],close:[0,0]});for(var re=0,ae=y[0];re<$;ae+=L,re++){var le=re===$-1?y[1]:ae+L;r.push({interval:[ae,le],close:[1,1]})}n.maxOpen&&r.push({interval:[y[1],1/0],close:[0,0]}),reformIntervals(r),each$f(r,function(ue,he){ue.index=he,ue.text=this.formatValueText(ue.interval)},this)},categories:function(r){var n=this.option;each$f(n.categories,function(g){r.push({text:this.formatValueText(g,!0),value:g})},this),normalizeReverse(n,r)},pieces:function(r){var n=this.option;each$f(n.pieces,function(g,y){isObject$3(g)||(g={value:g});var $={text:"",index:y};if(g.label!=null&&($.text=g.label),g.hasOwnProperty("value")){var L=$.value=g.value;$.interval=[L,L],$.close=[1,1]}else{for(var re=$.interval=[],ae=$.close=[0,0],le=[1,0,1],ue=[-1/0,1/0],he=[],_e=0;_e<2;_e++){for(var Ce=[["gte","gt","min"],["lte","lt","max"]][_e],$e=0;$e<3&&re[_e]==null;$e++)re[_e]=g[Ce[$e]],ae[_e]=le[$e],he[_e]=$e===2;re[_e]==null&&(re[_e]=ue[_e])}he[0]&&re[1]===1/0&&(ae[0]=0),he[1]&&re[0]===-1/0&&(ae[1]=0),re[0]===re[1]&&ae[0]&&ae[1]&&($.value=re[0])}$.visual=VisualMapping.retrieveVisuals(g),r.push($)},this),normalizeReverse(n,r),reformIntervals(r),each$f(r,function(g){var y=g.close,$=[["<",""][y[1]],[">",""][y[0]]];g.text=g.text||this.formatValueText(g.value!=null?g.value:g.interval,!1,$)},this)}};function normalizeReverse(r,n){var g=r.inverse;(r.orient==="vertical"?!g:g)&&n.reverse()}var PiecewiseVisualMapView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type=n.type,g}return n.prototype.doRender=function(){var g=this.group;g.removeAll();var y=this.visualMapModel,$=y.get("textGap"),L=y.textStyleModel,re=L.getFont(),ae=L.getTextColor(),le=this._getItemAlign(),ue=y.itemSize,he=this._getViewData(),_e=he.endsText,Ce=retrieve(y.get("showLabel",!0),!_e),$e=!y.get("selectedMode");_e&&this._renderEndsText(g,_e[0],ue,Ce,le),each$f(he.viewPieceList,function(Oe){var xe=Oe.piece,Ne=new Group$3;Ne.onclick=bind$1(this._onItemClick,this,xe),this._enableHoverLink(Ne,Oe.indexInModelPieceList);var Ie=y.getRepresentValue(xe);if(this._createItemSymbol(Ne,Ie,[0,0,ue[0],ue[1]],$e),Ce){var Fe=this.visualMapModel.getValueState(Ie);Ne.add(new ZRText({style:{x:le==="right"?-$:ue[0]+$,y:ue[1]/2,text:xe.text,verticalAlign:"middle",align:le,font:re,fill:ae,opacity:Fe==="outOfRange"?.5:1},silent:$e}))}g.add(Ne)},this),_e&&this._renderEndsText(g,_e[1],ue,Ce,le),box(y.get("orient"),g,y.get("itemGap")),this.renderBackground(g),this.positionGroup(g)},n.prototype._enableHoverLink=function(g,y){var $=this;g.on("mouseover",function(){return L("highlight")}).on("mouseout",function(){return L("downplay")});var L=function(re){var ae=$.visualMapModel;ae.option.hoverLink&&$.api.dispatchAction({type:re,batch:makeHighDownBatch(ae.findTargetDataIndices(y),ae)})}},n.prototype._getItemAlign=function(){var g=this.visualMapModel,y=g.option;if(y.orient==="vertical")return getItemAlign(g,this.api,g.itemSize);var $=y.align;return(!$||$==="auto")&&($="left"),$},n.prototype._renderEndsText=function(g,y,$,L,re){if(y){var ae=new Group$3,le=this.visualMapModel.textStyleModel;ae.add(new ZRText({style:createTextStyle$1(le,{x:L?re==="right"?$[0]:0:$[0]/2,y:$[1]/2,verticalAlign:"middle",align:L?re:"center",text:y})})),g.add(ae)}},n.prototype._getViewData=function(){var g=this.visualMapModel,y=map$1(g.getPieceList(),function(ae,le){return{piece:ae,indexInModelPieceList:le}}),$=g.get("text"),L=g.get("orient"),re=g.get("inverse");return(L==="horizontal"?re:!re)?y.reverse():$&&($=$.slice().reverse()),{viewPieceList:y,endsText:$}},n.prototype._createItemSymbol=function(g,y,$,L){var re=createSymbol$1(this.getControllerVisual(y,"symbol"),$[0],$[1],$[2],$[3],this.getControllerVisual(y,"color"));re.silent=L,g.add(re)},n.prototype._onItemClick=function(g){var y=this.visualMapModel,$=y.option,L=$.selectedMode;if(L){var re=clone$4($.selected),ae=y.getSelectedMapKey(g);L==="single"||L===!0?(re[ae]=!0,each$f(re,function(le,ue){re[ue]=ue===ae})):re[ae]=!re[ae],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:re})}},n.type="visualMap.piecewise",n}(VisualMapView);function install$5(r){r.registerComponentModel(PiecewiseModel),r.registerComponentView(PiecewiseVisualMapView),installCommon(r)}function install$4(r){use(install$6),use(install$5)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(r,n){var g=r.getModel("aria");if(!g.get("enabled"))return;var y=clone$4(DEFAULT_OPTION);merge$1(y.label,r.getLocaleModel().get("aria"),!1),merge$1(g.option,y,!1),$(),L();function $(){var ue=g.getModel("decal"),he=ue.get("show");if(he){var _e=createHashMap();r.eachSeries(function(Ce){if(!Ce.isColorBySeries()){var $e=_e.get(Ce.type);$e||($e={},_e.set(Ce.type,$e)),inner(Ce).scope=$e}}),r.eachRawSeries(function(Ce){if(r.isSeriesFiltered(Ce))return;if(isFunction(Ce.enableAriaDecal)){Ce.enableAriaDecal();return}var $e=Ce.getData();if(Ce.isColorBySeries()){var Fe=getDecalFromPalette(Ce.ecModel,Ce.name,decalPaletteScope,r.getSeriesCount()),Ve=$e.getVisual("decal");$e.setVisual("decal",ze(Ve,Fe))}else{var Oe=Ce.getRawData(),xe={},Ne=inner(Ce).scope;$e.each(function(Ue){var qe=$e.getRawIndex(Ue);xe[qe]=Ue});var Ie=Oe.count();Oe.each(function(Ue){var qe=xe[Ue],kt=Oe.getName(Ue)||Ue+"",Et=getDecalFromPalette(Ce.ecModel,kt,Ne,Ie),Pt=$e.getItemVisual(qe,"decal");$e.setItemVisual(qe,"decal",ze(Pt,Et))})}function ze(Ue,qe){var kt=Ue?extend(extend({},qe),Ue):qe;return kt.dirty=!0,kt}})}}function L(){var ue=n.getZr().dom;if(ue){var he=r.getLocaleModel().get("aria"),_e=g.getModel("label");if(_e.option=defaults$2(_e.option,he),!!_e.get("enabled")){if(ue.setAttribute("role","img"),_e.get("description")){ue.setAttribute("aria-label",_e.get("description"));return}var Ce=r.getSeriesCount(),$e=_e.get(["data","maxCount"])||10,Oe=_e.get(["series","maxCount"])||10,xe=Math.min(Ce,Oe),Ne;if(!(Ce<1)){var Ie=ae();if(Ie){var Fe=_e.get(["general","withTitle"]);Ne=re(Fe,{title:Ie})}else Ne=_e.get(["general","withoutTitle"]);var Ve=[],ze=Ce>1?_e.get(["series","multiple","prefix"]):_e.get(["series","single","prefix"]);Ne+=re(ze,{seriesCount:Ce}),r.eachSeries(function(Et,Pt){if(Pt<xe){var At=void 0,Dt=Et.get("name"),Lt=Dt?"withName":"withoutName";At=Ce>1?_e.get(["series","multiple",Lt]):_e.get(["series","single",Lt]),At=re(At,{seriesId:Et.seriesIndex,seriesName:Et.get("name"),seriesType:le(Et.subType)});var hn=Et.getData();if(hn.count()>$e){var _n=_e.get(["data","partialData"]);At+=re(_n,{displayCnt:$e})}else At+=_e.get(["data","allData"]);for(var vn=_e.get(["data","separator","middle"]),jt=_e.get(["data","separator","end"]),$n=_e.get(["data","excludeDimensionId"]),Sn=[],bn=0;bn<hn.count();bn++)if(bn<$e){var wn=hn.getName(bn),On=$n?filter(hn.getValues(bn),function(xn,Pn){return indexOf($n,Pn)===-1}):hn.getValues(bn),Tn=_e.get(["data",wn?"withName":"withoutName"]);Sn.push(re(Tn,{name:wn,value:On.join(vn)}))}At+=Sn.join(vn)+jt,Ve.push(At)}});var Ue=_e.getModel(["series","multiple","separator"]),qe=Ue.get("middle"),kt=Ue.get("end");Ne+=Ve.join(qe)+kt,ue.setAttribute("aria-label",Ne)}}}}function re(ue,he){if(!isString(ue))return ue;var _e=ue;return each$f(he,function(Ce,$e){_e=_e.replace(new RegExp("\\{\\s*"+$e+"\\s*\\}","g"),Ce)}),_e}function ae(){var ue=r.get("title");return ue&&ue.length&&(ue=ue[0]),ue&&ue.text}function le(ue){var he=r.getLocaleModel().get(["series","typeNames"]);return he[ue]||he.chart}}function ariaPreprocessor(r){if(!(!r||!r.aria)){var n=r.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$f(["description","general","series","data"],function(g){n[g]!=null&&(n.label[g]=n[g])})}}function install$3(r){r.registerPreprocessor(ariaPreprocessor),r.registerVisual(r.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function r(n){var g=this._condVal=isString(n)?new RegExp(n):isRegExp(n)?n:null;if(g==null){var y="";throwError(y)}}return r.prototype.evaluate=function(n){var g=typeof n;return isString(g)?this._condVal.test(n):isNumber$1(g)?this._condVal.test(n+""):!1},r}(),ConstConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),AndConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var n=this.children,g=0;g<n.length;g++)if(!n[g].evaluate())return!1;return!0},r}(),OrConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var n=this.children,g=0;g<n.length;g++)if(n[g].evaluate())return!0;return!1},r}(),NotConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),RelationalConditionInternal=function(){function r(){}return r.prototype.evaluate=function(){for(var n=!!this.valueParser,g=this.getValue,y=g(this.valueGetterParam),$=n?this.valueParser(y):null,L=0;L<this.subCondList.length;L++)if(!this.subCondList[L].evaluate(n?$:y))return!1;return!0},r}();function parseOption(r,n){if(r===!0||r===!1){var g=new ConstConditionInternal;return g.value=r,g}var y="";return isObjectNotArray(r)||throwError(y),r.and?parseAndOrOption("and",r,n):r.or?parseAndOrOption("or",r,n):r.not?parseNotOption(r,n):parseRelationalOption(r,n)}function parseAndOrOption(r,n,g){var y=n[r],$="";isArray$2(y)||throwError($),y.length||throwError($);var L=r==="and"?new AndConditionInternal:new OrConditionInternal;return L.children=map$1(y,function(re){return parseOption(re,g)}),L.children.length||throwError($),L}function parseNotOption(r,n){var g=r.not,y="";isObjectNotArray(g)||throwError(y);var $=new NotConditionInternal;return $.child=parseOption(g,n),$.child||throwError(y),$}function parseRelationalOption(r,n){for(var g="",y=n.prepareGetValue(r),$=[],L=keys$1(r),re=r.parser,ae=re?getRawValueParser(re):null,le=0;le<L.length;le++){var ue=L[le];if(!(ue==="parser"||n.valueGetterAttrMap.get(ue))){var he=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,ue)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[ue]:ue,_e=r[ue],Ce=ae?ae(_e):_e,$e=createFilterComparator(he,Ce)||he==="reg"&&new RegExpEvaluator(Ce);$e||throwError(g),$.push($e)}}$.length||throwError(g);var Oe=new RelationalConditionInternal;return Oe.valueGetterParam=y,Oe.valueParser=ae,Oe.getValue=n.getValue,Oe.subCondList=$,Oe}function isObjectNotArray(r){return isObject$3(r)&&!isArrayLike(r)}var ConditionalExpressionParsed=function(){function r(n,g){this._cond=parseOption(n,g)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function parseConditionalExpression(r,n){return new ConditionalExpressionParsed(r,n)}var filterTransform={type:"echarts:filter",transform:function(r){for(var n=r.upstream,g,y=parseConditionalExpression(r.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(ae){var le="",ue=ae.dimension;hasOwn(ae,"dimension")||throwError(le);var he=n.getDimensionInfo(ue);return he||throwError(le),{dimIdx:he.index}},getValue:function(ae){return n.retrieveValueFromItem(g,ae.dimIdx)}}),$=[],L=0,re=n.count();L<re;L++)g=n.getRawDataItem(L),y.evaluate()&&$.push(g);return{data:$}}},sortTransform={type:"echarts:sort",transform:function(r){var n=r.upstream,g=r.config,y="",$=normalizeToArray$1(g);$.length||throwError(y);var L=[];each$f($,function(he){var _e=he.dimension,Ce=he.order,$e=he.parser,Oe=he.incomparable;if(_e==null&&throwError(y),Ce!=="asc"&&Ce!=="desc"&&throwError(y),Oe&&Oe!=="min"&&Oe!=="max"){var xe="";throwError(xe)}if(Ce!=="asc"&&Ce!=="desc"){var Ne="";throwError(Ne)}var Ie=n.getDimensionInfo(_e);Ie||throwError(y);var Fe=$e?getRawValueParser($e):null;$e&&!Fe&&throwError(y),L.push({dimIdx:Ie.index,parser:Fe,comparator:new SortOrderComparator(Ce,Oe)})});var re=n.sourceFormat;re!==SOURCE_FORMAT_ARRAY_ROWS&&re!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(y);for(var ae=[],le=0,ue=n.count();le<ue;le++)ae.push(n.getRawDataItem(le));return ae.sort(function(he,_e){for(var Ce=0;Ce<L.length;Ce++){var $e=L[Ce],Oe=n.retrieveValueFromItem(he,$e.dimIdx),xe=n.retrieveValueFromItem(_e,$e.dimIdx);$e.parser&&(Oe=$e.parser(Oe),xe=$e.parser(xe));var Ne=$e.comparator.evaluate(Oe,xe);if(Ne!==0)return Ne}return 0}),{data:ae}}};function install$2(r){r.registerTransform(filterTransform),r.registerTransform(sortTransform)}var DatasetModel=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="dataset",g}return n.prototype.init=function(g,y,$){r.prototype.init.call(this,g,y,$),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(g,y){r.prototype.mergeOption.call(this,g,y),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(ComponentModel),DatasetView=function(r){__extends$1(n,r);function n(){var g=r!==null&&r.apply(this,arguments)||this;return g.type="dataset",g}return n.type="dataset",n}(ComponentView);function install$1(r){r.registerComponentModel(DatasetModel),r.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(r,n){return Math.abs(r-n)<1e-5}function pathToBezierCurves(r){var n=r.data,g=r.len(),y=[],$,L=0,re=0,ae=0,le=0;function ue(hn,_n){$&&$.length>2&&y.push($),$=[hn,_n]}function he(hn,_n,vn,jt){aroundEqual(hn,vn)&&aroundEqual(_n,jt)||$.push(hn,_n,vn,jt,vn,jt)}function _e(hn,_n,vn,jt,$n,Sn){var bn=Math.abs(_n-hn),wn=Math.tan(bn/4)*4/3,On=_n<hn?-1:1,Tn=Math.cos(hn),xn=Math.sin(hn),Pn=Math.cos(_n),An=Math.sin(_n),Rn=Tn*$n+vn,Nn=xn*Sn+jt,Dn=Pn*$n+vn,In=An*Sn+jt,Fn=$n*wn*On,Bn=Sn*wn*On;$.push(Rn-Fn*xn,Nn+Bn*Tn,Dn+Fn*An,In-Bn*Pn,Dn,In)}for(var Ce,$e,Oe,xe,Ne=0;Ne<g;){var Ie=n[Ne++],Fe=Ne===1;switch(Fe&&(L=n[Ne],re=n[Ne+1],ae=L,le=re,(Ie===CMD.L||Ie===CMD.C||Ie===CMD.Q)&&($=[ae,le])),Ie){case CMD.M:L=ae=n[Ne++],re=le=n[Ne++],ue(ae,le);break;case CMD.L:Ce=n[Ne++],$e=n[Ne++],he(L,re,Ce,$e),L=Ce,re=$e;break;case CMD.C:$.push(n[Ne++],n[Ne++],n[Ne++],n[Ne++],L=n[Ne++],re=n[Ne++]);break;case CMD.Q:Ce=n[Ne++],$e=n[Ne++],Oe=n[Ne++],xe=n[Ne++],$.push(L+2/3*(Ce-L),re+2/3*($e-re),Oe+2/3*(Ce-Oe),xe+2/3*($e-xe),Oe,xe),L=Oe,re=xe;break;case CMD.A:var Ve=n[Ne++],ze=n[Ne++],Ue=n[Ne++],qe=n[Ne++],kt=n[Ne++],Et=n[Ne++]+kt;Ne+=1;var Pt=!n[Ne++];Ce=Math.cos(kt)*Ue+Ve,$e=Math.sin(kt)*qe+ze,Fe?(ae=Ce,le=$e,ue(ae,le)):he(L,re,Ce,$e),L=Math.cos(Et)*Ue+Ve,re=Math.sin(Et)*qe+ze;for(var At=(Pt?-1:1)*Math.PI/2,Dt=kt;Pt?Dt>Et:Dt<Et;Dt+=At){var Lt=Pt?Math.max(Dt+At,Et):Math.min(Dt+At,Et);_e(Dt,Lt,Ve,ze,Ue,qe)}break;case CMD.R:ae=L=n[Ne++],le=re=n[Ne++],Ce=ae+n[Ne++],$e=le+n[Ne++],ue(Ce,le),he(Ce,le,Ce,$e),he(Ce,$e,ae,$e),he(ae,$e,ae,le),he(ae,le,Ce,le);break;case CMD.Z:$&&he(L,re,ae,le),L=ae,re=le;break}}return $&&$.length>2&&y.push($),y}function adpativeBezier(r,n,g,y,$,L,re,ae,le,ue){if(aroundEqual(r,g)&&aroundEqual(n,y)&&aroundEqual($,re)&&aroundEqual(L,ae)){le.push(re,ae);return}var he=2/ue,_e=he*he,Ce=re-r,$e=ae-n,Oe=Math.sqrt(Ce*Ce+$e*$e);Ce/=Oe,$e/=Oe;var xe=g-r,Ne=y-n,Ie=$-re,Fe=L-ae,Ve=xe*xe+Ne*Ne,ze=Ie*Ie+Fe*Fe;if(Ve<_e&&ze<_e){le.push(re,ae);return}var Ue=Ce*xe+$e*Ne,qe=-Ce*Ie-$e*Fe,kt=Ve-Ue*Ue,Et=ze-qe*qe;if(kt<_e&&Ue>=0&&Et<_e&&qe>=0){le.push(re,ae);return}var Pt=[],At=[];cubicSubdivide(r,g,$,re,.5,Pt),cubicSubdivide(n,y,L,ae,.5,At),adpativeBezier(Pt[0],At[0],Pt[1],At[1],Pt[2],At[2],Pt[3],At[3],le,ue),adpativeBezier(Pt[4],At[4],Pt[5],At[5],Pt[6],At[6],Pt[7],At[7],le,ue)}function pathToPolygons(r,n){var g=pathToBezierCurves(r),y=[];n=n||1;for(var $=0;$<g.length;$++){var L=g[$],re=[],ae=L[0],le=L[1];re.push(ae,le);for(var ue=2;ue<L.length;){var he=L[ue++],_e=L[ue++],Ce=L[ue++],$e=L[ue++],Oe=L[ue++],xe=L[ue++];adpativeBezier(ae,le,he,_e,Ce,$e,Oe,xe,re,n),ae=Oe,le=xe}y.push(re)}return y}function getDividingGrids(r,n,g){var y=r[n],$=r[1-n],L=Math.abs(y/$),re=Math.ceil(Math.sqrt(L*g)),ae=Math.floor(g/re);ae===0&&(ae=1,re=g);for(var le=[],ue=0;ue<re;ue++)le.push(ae);var he=re*ae,_e=g-he;if(_e>0)for(var ue=0;ue<_e;ue++)le[ue%re]+=1;return le}function divideSector(r,n,g){for(var y=r.r0,$=r.r,L=r.startAngle,re=r.endAngle,ae=Math.abs(re-L),le=ae*$,ue=$-y,he=le>Math.abs(ue),_e=getDividingGrids([le,ue],he?0:1,n),Ce=(he?ae:ue)/_e.length,$e=0;$e<_e.length;$e++)for(var Oe=(he?ue:ae)/_e[$e],xe=0;xe<_e[$e];xe++){var Ne={};he?(Ne.startAngle=L+Ce*$e,Ne.endAngle=L+Ce*($e+1),Ne.r0=y+Oe*xe,Ne.r=y+Oe*(xe+1)):(Ne.startAngle=L+Oe*xe,Ne.endAngle=L+Oe*(xe+1),Ne.r0=y+Ce*$e,Ne.r=y+Ce*($e+1)),Ne.clockwise=r.clockwise,Ne.cx=r.cx,Ne.cy=r.cy,g.push(Ne)}}function divideRect(r,n,g){for(var y=r.width,$=r.height,L=y>$,re=getDividingGrids([y,$],L?0:1,n),ae=L?"width":"height",le=L?"height":"width",ue=L?"x":"y",he=L?"y":"x",_e=r[ae]/re.length,Ce=0;Ce<re.length;Ce++)for(var $e=r[le]/re[Ce],Oe=0;Oe<re[Ce];Oe++){var xe={};xe[ue]=Ce*_e,xe[he]=Oe*$e,xe[ae]=_e,xe[le]=$e,xe.x+=r.x,xe.y+=r.y,g.push(xe)}}function crossProduct2d(r,n,g,y){return r*y-g*n}function lineLineIntersect(r,n,g,y,$,L,re,ae){var le=g-r,ue=y-n,he=re-$,_e=ae-L,Ce=crossProduct2d(he,_e,le,ue);if(Math.abs(Ce)<1e-6)return null;var $e=r-$,Oe=n-L,xe=crossProduct2d($e,Oe,he,_e)/Ce;return xe<0||xe>1?null:new Point(xe*le+r,xe*ue+n)}function projPtOnLine(r,n,g){var y=new Point;Point.sub(y,g,n),y.normalize();var $=new Point;Point.sub($,r,n);var L=$.dot(y);return L}function addToPoly(r,n){var g=r[r.length-1];g&&g[0]===n[0]&&g[1]===n[1]||r.push(n)}function splitPolygonByLine(r,n,g){for(var y=r.length,$=[],L=0;L<y;L++){var re=r[L],ae=r[(L+1)%y],le=lineLineIntersect(re[0],re[1],ae[0],ae[1],n.x,n.y,g.x,g.y);le&&$.push({projPt:projPtOnLine(le,n,g),pt:le,idx:L})}if($.length<2)return[{points:r},{points:r}];$.sort(function(Ne,Ie){return Ne.projPt-Ie.projPt});var ue=$[0],he=$[$.length-1];if(he.idx<ue.idx){var _e=ue;ue=he,he=_e}for(var Ce=[ue.pt.x,ue.pt.y],$e=[he.pt.x,he.pt.y],Oe=[Ce],xe=[$e],L=ue.idx+1;L<=he.idx;L++)addToPoly(Oe,r[L].slice());addToPoly(Oe,$e),addToPoly(Oe,Ce);for(var L=he.idx+1;L<=ue.idx+y;L++)addToPoly(xe,r[L%y].slice());return addToPoly(xe,Ce),addToPoly(xe,$e),[{points:Oe},{points:xe}]}function binaryDividePolygon(r){var n=r.points,g=[],y=[];fromPoints(n,g,y);var $=new BoundingRect(g[0],g[1],y[0]-g[0],y[1]-g[1]),L=$.width,re=$.height,ae=$.x,le=$.y,ue=new Point,he=new Point;return L>re?(ue.x=he.x=ae+L/2,ue.y=le,he.y=le+re):(ue.y=he.y=le+re/2,ue.x=ae,he.x=ae+L),splitPolygonByLine(n,ue,he)}function binaryDivideRecursive(r,n,g,y){if(g===1)y.push(n);else{var $=Math.floor(g/2),L=r(n);binaryDivideRecursive(r,L[0],$,y),binaryDivideRecursive(r,L[1],g-$,y)}return y}function clone(r,n){for(var g=[],y=0;y<n;y++)g.push(clonePath(r));return g}function copyPathProps(r,n){n.setStyle(r.style),n.z=r.z,n.z2=r.z2,n.zlevel=r.zlevel}function polygonConvert(r){for(var n=[],g=0;g<r.length;)n.push([r[g++],r[g++]]);return n}function split(r,n){var g=[],y=r.shape,$;switch(r.type){case"rect":divideRect(y,n,g),$=Rect$2;break;case"sector":divideSector(y,n,g),$=Sector;break;case"circle":divideSector({r0:0,r:y.r,startAngle:0,endAngle:Math.PI*2,cx:y.cx,cy:y.cy},n,g),$=Sector;break;default:var L=r.getComputedTransform(),re=L?Math.sqrt(Math.max(L[0]*L[0]+L[1]*L[1],L[2]*L[2]+L[3]*L[3])):1,ae=map$1(pathToPolygons(r.getUpdatedPathProxy(),re),function(Ie){return polygonConvert(Ie)}),le=ae.length;if(le===0)binaryDivideRecursive(binaryDividePolygon,{points:ae[0]},n,g);else if(le===n)for(var ue=0;ue<le;ue++)g.push({points:ae[ue]});else{var he=0,_e=map$1(ae,function(Ie){var Fe=[],Ve=[];fromPoints(Ie,Fe,Ve);var ze=(Ve[1]-Fe[1])*(Ve[0]-Fe[0]);return he+=ze,{poly:Ie,area:ze}});_e.sort(function(Ie,Fe){return Fe.area-Ie.area});for(var Ce=n,ue=0;ue<le;ue++){var $e=_e[ue];if(Ce<=0)break;var Oe=ue===le-1?Ce:Math.ceil($e.area/he*n);Oe<0||(binaryDivideRecursive(binaryDividePolygon,{points:$e.poly},Oe,g),Ce-=Oe)}}$=Polygon;break}if(!$)return clone(r,n);for(var xe=[],ue=0;ue<g.length;ue++){var Ne=new $;Ne.setShape(g[ue]),copyPathProps(r,Ne),xe.push(Ne)}return xe}function alignSubpath(r,n){var g=r.length,y=n.length;if(g===y)return[r,n];for(var $=[],L=[],re=g<y?r:n,ae=Math.min(g,y),le=Math.abs(y-g)/6,ue=(ae-2)/6,he=Math.ceil(le/ue)+1,_e=[re[0],re[1]],Ce=le,$e=2;$e<ae;){var Oe=re[$e-2],xe=re[$e-1],Ne=re[$e++],Ie=re[$e++],Fe=re[$e++],Ve=re[$e++],ze=re[$e++],Ue=re[$e++];if(Ce<=0){_e.push(Ne,Ie,Fe,Ve,ze,Ue);continue}for(var qe=Math.min(Ce,he-1)+1,kt=1;kt<=qe;kt++){var Et=kt/qe;cubicSubdivide(Oe,Ne,Fe,ze,Et,$),cubicSubdivide(xe,Ie,Ve,Ue,Et,L),Oe=$[3],xe=L[3],_e.push($[1],L[1],$[2],L[2],Oe,xe),Ne=$[5],Ie=L[5],Fe=$[6],Ve=L[6]}Ce-=qe-1}return re===r?[_e,n]:[r,_e]}function createSubpath(r,n){for(var g=r.length,y=r[g-2],$=r[g-1],L=[],re=0;re<n.length;)L[re++]=y,L[re++]=$;return L}function alignBezierCurves(r,n){for(var g,y,$,L=[],re=[],ae=0;ae<Math.max(r.length,n.length);ae++){var le=r[ae],ue=n[ae],he=void 0,_e=void 0;le?ue?(g=alignSubpath(le,ue),he=g[0],_e=g[1],y=he,$=_e):(_e=createSubpath($||le,le),he=le):(he=createSubpath(y||ue,ue),_e=ue),L.push(he),re.push(_e)}return[L,re]}function centroid(r){for(var n=0,g=0,y=0,$=r.length,L=0,re=$-2;L<$;re=L,L+=2){var ae=r[re],le=r[re+1],ue=r[L],he=r[L+1],_e=ae*he-ue*le;n+=_e,g+=(ae+ue)*_e,y+=(le+he)*_e}return n===0?[r[0]||0,r[1]||0]:[g/n/3,y/n/3,n]}function findBestRingOffset(r,n,g,y){for(var $=(r.length-2)/6,L=1/0,re=0,ae=r.length,le=ae-2,ue=0;ue<$;ue++){for(var he=ue*6,_e=0,Ce=0;Ce<ae;Ce+=2){var $e=Ce===0?he:(he+Ce-2)%le+2,Oe=r[$e]-g[0],xe=r[$e+1]-g[1],Ne=n[Ce]-y[0],Ie=n[Ce+1]-y[1],Fe=Ne-Oe,Ve=Ie-xe;_e+=Fe*Fe+Ve*Ve}_e<L&&(L=_e,re=ue)}return re}function reverse(r){for(var n=[],g=r.length,y=0;y<g;y+=2)n[y]=r[g-y-2],n[y+1]=r[g-y-1];return n}function findBestMorphingRotation(r,n,g,y){for(var $=[],L,re=0;re<r.length;re++){var ae=r[re],le=n[re],ue=centroid(ae),he=centroid(le);L==null&&(L=ue[2]<0!=he[2]<0);var _e=[],Ce=[],$e=0,Oe=1/0,xe=[],Ne=ae.length;L&&(ae=reverse(ae));for(var Ie=findBestRingOffset(ae,le,ue,he)*6,Fe=Ne-2,Ve=0;Ve<Fe;Ve+=2){var ze=(Ie+Ve)%Fe+2;_e[Ve+2]=ae[ze]-ue[0],_e[Ve+3]=ae[ze+1]-ue[1]}_e[0]=ae[Ie]-ue[0],_e[1]=ae[Ie+1]-ue[1];for(var Ue=y/g,qe=-y/2;qe<=y/2;qe+=Ue){for(var kt=Math.sin(qe),Et=Math.cos(qe),Pt=0,Ve=0;Ve<ae.length;Ve+=2){var At=_e[Ve],Dt=_e[Ve+1],Lt=le[Ve]-he[0],hn=le[Ve+1]-he[1],_n=Lt*Et-hn*kt,vn=Lt*kt+hn*Et;xe[Ve]=_n,xe[Ve+1]=vn;var jt=_n-At,$n=vn-Dt;Pt+=jt*jt+$n*$n}if(Pt<Oe){Oe=Pt,$e=qe;for(var Sn=0;Sn<xe.length;Sn++)Ce[Sn]=xe[Sn]}}$.push({from:_e,to:Ce,fromCp:ue,toCp:he,rotation:-$e})}return $}function isCombineMorphing(r){return r.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(r,n,g){var y=SAVED_METHOD_PREFIX+n,$=r[y]||r[n];r[y]||(r[y]=r[n]);var L=g.replace,re=g.after,ae=g.before;r[n]=function(){var le=arguments,ue;return ae&&ae.apply(this,le),L?ue=L.apply(this,le):ue=$.apply(this,le),re&&re.apply(this,le),ue}}function restoreMethod(r,n){var g=SAVED_METHOD_PREFIX+n;r[g]&&(r[n]=r[g],r[g]=null)}function applyTransformOnBeziers(r,n){for(var g=0;g<r.length;g++)for(var y=r[g],$=0;$<y.length;){var L=y[$],re=y[$+1];y[$++]=n[0]*L+n[2]*re+n[4],y[$++]=n[1]*L+n[3]*re+n[5]}}function prepareMorphPath(r,n){var g=r.getUpdatedPathProxy(),y=n.getUpdatedPathProxy(),$=alignBezierCurves(pathToBezierCurves(g),pathToBezierCurves(y)),L=$[0],re=$[1],ae=r.getComputedTransform(),le=n.getComputedTransform();function ue(){this.transform=null}ae&&applyTransformOnBeziers(L,ae),le&&applyTransformOnBeziers(re,le),saveAndModifyMethod(n,"updateTransform",{replace:ue}),n.transform=null;var he=findBestMorphingRotation(L,re,10,Math.PI),_e=[];saveAndModifyMethod(n,"buildPath",{replace:function(Ce){for(var $e=n.__morphT,Oe=1-$e,xe=[],Ne=0;Ne<he.length;Ne++){var Ie=he[Ne],Fe=Ie.from,Ve=Ie.to,ze=Ie.rotation*$e,Ue=Ie.fromCp,qe=Ie.toCp,kt=Math.sin(ze),Et=Math.cos(ze);lerp$1(xe,Ue,qe,$e);for(var Pt=0;Pt<Fe.length;Pt+=2){var At=Fe[Pt],Dt=Fe[Pt+1],Lt=Ve[Pt],hn=Ve[Pt+1],_n=At*Oe+Lt*$e,vn=Dt*Oe+hn*$e;_e[Pt]=_n*Et-vn*kt+xe[0],_e[Pt+1]=_n*kt+vn*Et+xe[1]}var jt=_e[0],$n=_e[1];Ce.moveTo(jt,$n);for(var Pt=2;Pt<Fe.length;){var Lt=_e[Pt++],hn=_e[Pt++],Sn=_e[Pt++],bn=_e[Pt++],wn=_e[Pt++],On=_e[Pt++];jt===Lt&&$n===hn&&Sn===wn&&bn===On?Ce.lineTo(wn,On):Ce.bezierCurveTo(Lt,hn,Sn,bn,wn,On),jt=wn,$n=On}}}})}function morphPath(r,n,g){if(!r||!n)return n;var y=g.done,$=g.during;prepareMorphPath(r,n),n.__morphT=0;function L(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults$2({during:function(re){n.dirtyShape(),$&&$(re)},done:function(){L(),y&&y()}},g)),n}function hilbert(r,n,g,y,$,L){var re=16;r=$===g?0:Math.round(32767*(r-g)/($-g)),n=L===y?0:Math.round(32767*(n-y)/(L-y));for(var ae=0,le,ue=(1<<re)/2;ue>0;ue/=2){var he=0,_e=0;(r&ue)>0&&(he=1),(n&ue)>0&&(_e=1),ae+=ue*ue*(3*he^_e),_e===0&&(he===1&&(r=ue-1-r,n=ue-1-n),le=r,r=n,n=le)}return ae}function sortPaths(r){var n=1/0,g=1/0,y=-1/0,$=-1/0,L=map$1(r,function(ae){var le=ae.getBoundingRect(),ue=ae.getComputedTransform(),he=le.x+le.width/2+(ue?ue[4]:0),_e=le.y+le.height/2+(ue?ue[5]:0);return n=Math.min(he,n),g=Math.min(_e,g),y=Math.max(he,y),$=Math.max(_e,$),[he,_e]}),re=map$1(L,function(ae,le){return{cp:ae,z:hilbert(ae[0],ae[1],n,g,y,$),path:r[le]}});return re.sort(function(ae,le){return ae.z-le.z}).map(function(ae){return ae.path})}function defaultDividePath(r){return split(r.path,r.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(r,n,g){var y=[];function $(Ue){for(var qe=0;qe<Ue.length;qe++){var kt=Ue[qe];isCombineMorphing(kt)?$(kt.childrenRef()):kt instanceof Path&&y.push(kt)}}$(r);var L=y.length;if(!L)return createEmptyReturn();var re=g.dividePath||defaultDividePath,ae=re({path:n,count:L});if(ae.length!==L)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();y=sortPaths(y),ae=sortPaths(ae);for(var le=g.done,ue=g.during,he=g.individualDelay,_e=new Transformable,Ce=0;Ce<L;Ce++){var $e=y[Ce],Oe=ae[Ce];Oe.parent=n,Oe.copyTransform(_e),he||prepareMorphPath($e,Oe)}n.__isCombineMorphing=!0,n.childrenRef=function(){return ae};function xe(Ue){for(var qe=0;qe<ae.length;qe++)ae[qe].addSelfToZr(Ue)}saveAndModifyMethod(n,"addSelfToZr",{after:function(Ue){xe(Ue)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(Ue){for(var qe=0;qe<ae.length;qe++)ae[qe].removeSelfFromZr(Ue)}});function Ne(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var Ie=ae.length;if(he)for(var Fe=Ie,Ve=function(){Fe--,Fe===0&&(Ne(),le&&le())},Ce=0;Ce<Ie;Ce++){var ze=he?defaults$2({delay:(g.delay||0)+he(Ce,Ie,y[Ce],ae[Ce]),done:Ve},g):g;morphPath(y[Ce],ae[Ce],ze)}else n.__morphT=0,n.animateTo({__morphT:1},defaults$2({during:function(Ue){for(var qe=0;qe<Ie;qe++){var kt=ae[qe];kt.__morphT=n.__morphT,kt.dirtyShape()}ue&&ue(Ue)},done:function(){Ne();for(var Ue=0;Ue<r.length;Ue++)restoreMethod(r[Ue],"updateTransform");le&&le()}},g));return n.__zr&&xe(n.__zr),{fromIndividuals:y,toIndividuals:ae,count:Ie}}function separateMorph(r,n,g){var y=n.length,$=[],L=g.dividePath||defaultDividePath;function re($e){for(var Oe=0;Oe<$e.length;Oe++){var xe=$e[Oe];isCombineMorphing(xe)?re(xe.childrenRef()):xe instanceof Path&&$.push(xe)}}if(isCombineMorphing(r)){re(r.childrenRef());var ae=$.length;if(ae<y)for(var le=0,ue=ae;ue<y;ue++)$.push(clonePath($[le++%ae]));$.length=y}else{$=L({path:r,count:y});for(var he=r.getComputedTransform(),ue=0;ue<$.length;ue++)$[ue].setLocalTransform(he);if($.length!==y)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}$=sortPaths($),n=sortPaths(n);for(var _e=g.individualDelay,ue=0;ue<y;ue++){var Ce=_e?defaults$2({delay:(g.delay||0)+_e(ue,y,$[ue],n[ue])},g):g;morphPath($[ue],n[ue],Ce)}return{fromIndividuals:$,toIndividuals:n,count:n.length}}function isMultiple(r){return isArray$2(r[0])}function prepareMorphBatches(r,n){for(var g=[],y=r.length,$=0;$<y;$++)g.push({one:r[$],many:[]});for(var $=0;$<n.length;$++){var L=n[$].length,re=void 0;for(re=0;re<L;re++)g[re%y].many.push(n[$][re])}for(var ae=0,$=y-1;$>=0;$--)if(!g[$].many.length){var le=g[ae].many;if(le.length<=1)if(ae)ae=0;else return g;var L=le.length,ue=Math.ceil(L/2);g[$].many=le.slice(ue,L),g[ae].many=le.slice(0,ue),ae++}return g}var pathDividers={clone:function(r){for(var n=[],g=1-Math.pow(1-r.path.style.opacity,1/r.count),y=0;y<r.count;y++){var $=clonePath(r.path);$.setStyle("opacity",g),n.push($)}return n},split:null};function applyMorphAnimation(r,n,g,y,$,L){if(!r.length||!n.length)return;var re=getAnimationConfig("update",y,$);if(!(re&&re.duration>0))return;var ae=y.getModel("universalTransition").get("delay"),le=Object.assign({setToFinal:!0},re),ue,he;isMultiple(r)&&(ue=r,he=n),isMultiple(n)&&(ue=n,he=r);function _e(Ie,Fe,Ve,ze,Ue){var qe=Ie.many,kt=Ie.one;if(qe.length===1&&!Ue){var Et=Fe?qe[0]:kt,Pt=Fe?kt:qe[0];if(isCombineMorphing(Et))_e({many:[Et],one:Pt},!0,Ve,ze,!0);else{var At=ae?defaults$2({delay:ae(Ve,ze)},le):le;morphPath(Et,Pt,At),L(Et,Pt,Et,Pt,At)}}else for(var Dt=defaults$2({dividePath:pathDividers[g],individualDelay:ae&&function($n,Sn,bn,wn){return ae($n+Ve,ze)}},le),Lt=Fe?combineMorph(qe,kt,Dt):separateMorph(kt,qe,Dt),hn=Lt.fromIndividuals,_n=Lt.toIndividuals,vn=hn.length,jt=0;jt<vn;jt++){var At=ae?defaults$2({delay:ae(jt,vn)},le):le;L(hn[jt],_n[jt],Fe?qe[jt]:Ie.one,Fe?Ie.one:qe[jt],At)}}for(var Ce=ue?ue===r:r.length>n.length,$e=ue?prepareMorphBatches(he,ue):prepareMorphBatches(Ce?n:r,[Ce?r:n]),Oe=0,xe=0;xe<$e.length;xe++)Oe+=$e[xe].many.length;for(var Ne=0,xe=0;xe<$e.length;xe++)_e($e[xe],Ce,Ne,Oe),Ne+=$e[xe].many.length}function getPathList(r){if(!r)return[];if(isArray$2(r)){for(var n=[],g=0;g<r.length;g++)n.push(getPathList(r[g]));return n}var y=[];return r.traverse(function($){$ instanceof Path&&!$.disableMorphing&&!$.invisible&&!$.ignore&&y.push($)}),y}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(r,n){for(var g=r.dimensions,y=0;y<g.length;y++){var $=r.getDimensionInfo(g[y]);if($&&$.otherDims[n]===0)return g[y]}}function getValueByDimension(r,n,g){var y=r.getDimensionInfo(g),$=y&&y.ordinalMeta;if(y){var L=r.get(y.name,n);return $&&$.categories[L]||L+""}}function getGroupId(r,n,g,y){var $=y?"itemChildGroupId":"itemGroupId",L=getDimension(r,$);if(L){var re=getValueByDimension(r,n,L);return re}var ae=r.getRawDataItem(n),le=y?"childGroupId":"groupId";if(ae&&ae[le])return ae[le]+"";if(!y)return g||r.getId(n)}function flattenDataDiffItems(r){var n=[];return each$f(r,function(g){var y=g.data,$=g.dataGroupId;if(!(y.count()>DATA_COUNT_THRESHOLD))for(var L=y.getIndices(),re=0;re<L.length;re++)n.push({data:y,groupId:getGroupId(y,re,$,!1),childGroupId:getGroupId(y,re,$,!0),divide:g.divide,dataIndex:re})}),n}function fadeInElement(r,n,g){r.traverse(function(y){y instanceof Path&&initProps(y,{style:{opacity:0}},n,{dataIndex:g,isFrom:!0})})}function removeEl(r){if(r.parent){var n=r.getComputedTransform();r.setLocalTransform(n),r.parent.remove(r)}}function stopAnimation(r){r.stopAnimation(),r.isGroup&&r.traverse(function(n){n.stopAnimation()})}function animateElementStyles(r,n,g){var y=getAnimationConfig("update",g,n);y&&r.traverse(function($){if($ instanceof Displayable){var L=getOldStyle($);L&&$.animateFrom({style:L},y)}})}function isAllIdSame(r,n){var g=r.length;if(g!==n.length)return!1;for(var y=0;y<g;y++){var $=r[y],L=n[y];if($.data.getId($.dataIndex)!==L.data.getId(L.dataIndex))return!1}return!0}function transitionBetween(r,n,g){var y=flattenDataDiffItems(r),$=flattenDataDiffItems(n);function L(Ve,ze,Ue,qe,kt){(Ue||Ve)&&ze.animateFrom({style:Ue&&Ue!==Ve?extend(extend({},Ue.style),Ve.style):Ve.style},kt)}var re=!1,ae=TRANSITION_NONE,le=createHashMap(),ue=createHashMap();y.forEach(function(Ve){Ve.groupId&&le.set(Ve.groupId,!0),Ve.childGroupId&&ue.set(Ve.childGroupId,!0)});for(var he=0;he<$.length;he++){var _e=$[he].groupId;if(ue.get(_e)){ae=TRANSITION_P2C;break}var Ce=$[he].childGroupId;if(Ce&&le.get(Ce)){ae=TRANSITION_C2P;break}}function $e(Ve,ze){return function(Ue){var qe=Ue.data,kt=Ue.dataIndex;return ze?qe.getId(kt):Ve?ae===TRANSITION_P2C?Ue.childGroupId:Ue.groupId:ae===TRANSITION_C2P?Ue.childGroupId:Ue.groupId}}var Oe=isAllIdSame(y,$),xe={};if(!Oe)for(var he=0;he<$.length;he++){var Ne=$[he],Ie=Ne.data.getItemGraphicEl(Ne.dataIndex);Ie&&(xe[Ie.id]=!0)}function Fe(Ve,ze){var Ue=y[ze],qe=$[Ve],kt=qe.data.hostModel,Et=Ue.data.getItemGraphicEl(Ue.dataIndex),Pt=qe.data.getItemGraphicEl(qe.dataIndex);if(Et===Pt){Pt&&animateElementStyles(Pt,qe.dataIndex,kt);return}Et&&xe[Et.id]||Pt&&(stopAnimation(Pt),Et?(stopAnimation(Et),removeEl(Et),re=!0,applyMorphAnimation(getPathList(Et),getPathList(Pt),qe.divide,kt,Ve,L)):fadeInElement(Pt,kt,Ve))}new DataDiffer(y,$,$e(!0,Oe),$e(!1,Oe),null,"multiple").update(Fe).updateManyToOne(function(Ve,ze){var Ue=$[Ve],qe=Ue.data,kt=qe.hostModel,Et=qe.getItemGraphicEl(Ue.dataIndex),Pt=filter(map$1(ze,function(At){return y[At].data.getItemGraphicEl(y[At].dataIndex)}),function(At){return At&&At!==Et&&!xe[At.id]});Et&&(stopAnimation(Et),Pt.length?(each$f(Pt,function(At){stopAnimation(At),removeEl(At)}),re=!0,applyMorphAnimation(getPathList(Pt),getPathList(Et),Ue.divide,kt,Ve,L)):fadeInElement(Et,kt,Ue.dataIndex))}).updateOneToMany(function(Ve,ze){var Ue=y[ze],qe=Ue.data.getItemGraphicEl(Ue.dataIndex);if(!(qe&&xe[qe.id])){var kt=filter(map$1(Ve,function(Pt){return $[Pt].data.getItemGraphicEl($[Pt].dataIndex)}),function(Pt){return Pt&&Pt!==qe}),Et=$[Ve[0]].data.hostModel;kt.length&&(each$f(kt,function(Pt){return stopAnimation(Pt)}),qe?(stopAnimation(qe),removeEl(qe),re=!0,applyMorphAnimation(getPathList(qe),getPathList(kt),Ue.divide,Et,Ve[0],L)):each$f(kt,function(Pt){return fadeInElement(Pt,Et,Ve[0])}))}}).updateManyToMany(function(Ve,ze){new DataDiffer(ze,Ve,function(Ue){return y[Ue].data.getId(y[Ue].dataIndex)},function(Ue){return $[Ue].data.getId($[Ue].dataIndex)}).update(function(Ue,qe){Fe(Ve[Ue],ze[qe])}).execute()}).execute(),re&&each$f(n,function(Ve){var ze=Ve.data,Ue=ze.hostModel,qe=Ue&&g.getViewOfSeriesModel(Ue),kt=getAnimationConfig("update",Ue,0);qe&&Ue.isAnimationEnabled()&&kt&&kt.duration>0&&qe.group.traverse(function(Et){Et instanceof Path&&!Et.animators.length&&Et.animateFrom({style:{opacity:0}},kt)})})}function getSeriesTransitionKey(r){var n=r.getModel("universalTransition").get("seriesKey");return n||r.id}function convertArraySeriesKeyToString(r){return isArray$2(r)?r.sort().join(","):r}function getDivideShapeFromData(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(r,n){var g=createHashMap(),y=createHashMap(),$=createHashMap();return each$f(r.oldSeries,function(L,re){var ae=r.oldDataGroupIds[re],le=r.oldData[re],ue=getSeriesTransitionKey(L),he=convertArraySeriesKeyToString(ue);y.set(he,{dataGroupId:ae,data:le}),isArray$2(ue)&&each$f(ue,function(_e){$.set(_e,{key:he,dataGroupId:ae,data:le})})}),each$f(n.updatedSeries,function(L){if(L.isUniversalTransitionEnabled()&&L.isAnimationEnabled()){var re=L.get("dataGroupId"),ae=L.getData(),le=getSeriesTransitionKey(L),ue=convertArraySeriesKeyToString(le),he=y.get(ue);if(he)g.set(ue,{oldSeries:[{dataGroupId:he.dataGroupId,divide:getDivideShapeFromData(he.data),data:he.data}],newSeries:[{dataGroupId:re,divide:getDivideShapeFromData(ae),data:ae}]});else if(isArray$2(le)){var _e=[];each$f(le,function(Oe){var xe=y.get(Oe);xe.data&&_e.push({dataGroupId:xe.dataGroupId,divide:getDivideShapeFromData(xe.data),data:xe.data})}),_e.length&&g.set(ue,{oldSeries:_e,newSeries:[{dataGroupId:re,data:ae,divide:getDivideShapeFromData(ae)}]})}else{var Ce=$.get(le);if(Ce){var $e=g.get(Ce.key);$e||($e={oldSeries:[{dataGroupId:Ce.dataGroupId,data:Ce.data,divide:getDivideShapeFromData(Ce.data)}],newSeries:[]},g.set(Ce.key,$e)),$e.newSeries.push({dataGroupId:re,data:ae,divide:getDivideShapeFromData(ae)})}}}}),g}function querySeries(r,n){for(var g=0;g<r.length;g++){var y=n.seriesIndex!=null&&n.seriesIndex===r[g].seriesIndex||n.seriesId!=null&&n.seriesId===r[g].id;if(y)return g}}function transitionSeriesFromOpt(r,n,g,y){var $=[],L=[];each$f(normalizeToArray$1(r.from),function(re){var ae=querySeries(n.oldSeries,re);ae>=0&&$.push({dataGroupId:n.oldDataGroupIds[ae],data:n.oldData[ae],divide:getDivideShapeFromData(n.oldData[ae]),groupIdDim:re.dimension})}),each$f(normalizeToArray$1(r.to),function(re){var ae=querySeries(g.updatedSeries,re);if(ae>=0){var le=g.updatedSeries[ae].getData();L.push({dataGroupId:n.oldDataGroupIds[ae],data:le,divide:getDivideShapeFromData(le),groupIdDim:re.dimension})}}),$.length>0&&L.length>0&&transitionBetween($,L,y)}function installUniversalTransition(r){r.registerUpdateLifecycle("series:beforeupdate",function(n,g,y){each$f(normalizeToArray$1(y.seriesTransition),function($){each$f(normalizeToArray$1($.to),function(L){for(var re=y.updatedSeries,ae=0;ae<re.length;ae++)(L.seriesIndex!=null&&L.seriesIndex===re[ae].seriesIndex||L.seriesId!=null&&L.seriesId===re[ae].id)&&(re[ae][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(n,g,y){var $=getUniversalTransitionGlobalStore(g);if($.oldSeries&&y.updatedSeries&&y.optionChanged){var L=y.seriesTransition;if(L)each$f(normalizeToArray$1(L),function($e){transitionSeriesFromOpt($e,$,y,g)});else{var re=findTransitionSeriesBatches($,y);each$f(re.keys(),function($e){var Oe=re.get($e);transitionBetween(Oe.oldSeries,Oe.newSeries,g)})}each$f(y.updatedSeries,function($e){$e[SERIES_UNIVERSAL_TRANSITION_PROP]&&($e[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var ae=n.getSeries(),le=$.oldSeries=[],ue=$.oldDataGroupIds=[],he=$.oldData=[],_e=0;_e<ae.length;_e++){var Ce=ae[_e].getData();Ce.count()<DATA_COUNT_THRESHOLD&&(le.push(ae[_e]),ue.push(ae[_e].get("dataGroupId")),he.push(Ce))}})}use([install$S]);use([install$T]);use([install$R,install$Q,install$P,install$N,install$L,install$J,install$I,install$H,install$G,install$F,install$E,install$C,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s]);use(install$q);use(install$p);use(install$K);use(install$o);use(install$D);use(install$n);use(install$m);use(install$k);use(install$j);use(install$r);use(install$i);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$a);use(install$7);use(install$9);use(install$8);use(install$4);use(install$6);use(install$5);use(install$3);use(install$2);use(install$1);use(installUniversalTransition);use(installLabelLayout);const echarts=Object.freeze(Object.defineProperty({__proto__:null,Axis,ChartView,ComponentModel,ComponentView,List:SeriesData,Model,PRIORITY,SeriesModel,color,connect,dataTool,dependencies,disConnect,disconnect,dispose,env,extendChartView,extendComponentModel,extendComponentView,extendSeriesModel,format,getCoordinateSystemDimensions,getInstanceByDom,getInstanceById,getMap,graphic,helper,init:init$1,innerDrawElementOnCanvas:brushSingle,matrix,number:number$3,parseGeoJSON,parseGeoJson:parseGeoJSON,registerAction,registerCoordinateSystem,registerLayout,registerLoading,registerLocale,registerMap:registerMap$1,registerPostInit,registerPostUpdate,registerPreprocessor,registerProcessor,registerTheme,registerTransform,registerUpdateLifecycle,registerVisual,setCanvasCreator,setPlatformAPI,throttle,time,use,util,vector,version,zrUtil:util$1,zrender},Symbol.toStringTag,{value:"Module"})),_sfc_main$3=Object.assign({name:"AjmerECharts"},{__name:"index",props:{config:{type:Object,default:()=>({style:{},options:{}})}},emits:["callback"],setup(r,{emit:n}){const g=n;registerTheme("T",T),console.log("echarts",echarts);const y=r,$=ref$1(null),L=ref$1(!1),re=ref$1(null);return onMounted(()=>{if(L.value=!0,$.value){const ae=init$1($.value,"T");ae.setOption(y.config.options),re.value=ae,ae.on("legendselectchanged",function(le){g("callback",le)}),watch$1(()=>y.options,le=>{ae.setOption(le),re.value=ae},{deep:!0})}}),onActivated(()=>{L.value||nextTick(()=>{re.value.resize()})}),onDeactivated(()=>{L.value=!1}),(ae,le)=>(openBlock(),createElementBlock("div",{ref_key:"chartRef",ref:$,style:normalizeStyle$1({width:"100%",height:"100%",...r.config.style})},null,4))}});_sfc_main$3.install=r=>{r.component(_sfc_main$3.name,_sfc_main$3)};let rangeFrom=[],rangeTo=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=0,g=0;n<r.length;n++)(n%2?rangeTo:rangeFrom).push(g=g+r[n])})();function isExtendingChar(r){if(r<768)return!1;for(let n=0,g=rangeFrom.length;;){let y=n+g>>1;if(r<rangeFrom[y])g=y;else if(r>=rangeTo[y])n=y+1;else return!0;if(n==g)return!1}}function isRegionalIndicator(r){return r>=127462&&r<=127487}const ZWJ=8205;function findClusterBreak$1(r,n,g=!0,y=!0){return(g?nextClusterBreak:prevClusterBreak)(r,n,y)}function nextClusterBreak(r,n,g){if(n==r.length)return n;n&&surrogateLow$1(r.charCodeAt(n))&&surrogateHigh$1(r.charCodeAt(n-1))&&n--;let y=codePointAt$1(r,n);for(n+=codePointSize$1(y);n<r.length;){let $=codePointAt$1(r,n);if(y==ZWJ||$==ZWJ||g&&isExtendingChar($))n+=codePointSize$1($),y=$;else if(isRegionalIndicator($)){let L=0,re=n-2;for(;re>=0&&isRegionalIndicator(codePointAt$1(r,re));)L++,re-=2;if(L%2==0)break;n+=2}else break}return n}function prevClusterBreak(r,n,g){for(;n>0;){let y=nextClusterBreak(r,n-2,g);if(y<n)return y;n--}return 0}function codePointAt$1(r,n){let g=r.charCodeAt(n);if(!surrogateHigh$1(g)||n+1==r.length)return g;let y=r.charCodeAt(n+1);return surrogateLow$1(y)?(g-55296<<10)+(y-56320)+65536:g}function surrogateLow$1(r){return r>=56320&&r<57344}function surrogateHigh$1(r){return r>=55296&&r<56320}function codePointSize$1(r){return r<65536?1:2}class Text{lineAt(n){if(n<0||n>this.length)throw new RangeError(`Invalid position ${n} in document of length ${this.length}`);return this.lineInner(n,!1,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,!0,1,0)}replace(n,g,y){[n,g]=clip(this,n,g);let $=[];return this.decompose(0,n,$,2),y.length&&y.decompose(0,y.length,$,3),this.decompose(g,this.length,$,1),TextNode.from($,this.length-(g-n)+y.length)}append(n){return this.replace(this.length,this.length,n)}slice(n,g=this.length){[n,g]=clip(this,n,g);let y=[];return this.decompose(n,g,y,0),TextNode.from(y,g-n)}eq(n){if(n==this)return!0;if(n.length!=this.length||n.lines!=this.lines)return!1;let g=this.scanIdentical(n,1),y=this.length-this.scanIdentical(n,-1),$=new RawTextCursor(this),L=new RawTextCursor(n);for(let re=g,ae=g;;){if($.next(re),L.next(re),re=0,$.lineBreak!=L.lineBreak||$.done!=L.done||$.value!=L.value)return!1;if(ae+=$.value.length,$.done||ae>=y)return!0}}iter(n=1){return new RawTextCursor(this,n)}iterRange(n,g=this.length){return new PartialTextCursor(this,n,g)}iterLines(n,g){let y;if(n==null)y=this.iter();else{g==null&&(g=this.lines+1);let $=this.line(n).from;y=this.iterRange($,Math.max($,g==this.lines+1?this.length:g<=1?0:this.line(g-1).to))}return new LineCursor(y)}toString(){return this.sliceString(0)}toJSON(){let n=[];return this.flatten(n),n}constructor(){}static of(n){if(n.length==0)throw new RangeError("A document must have at least one line");return n.length==1&&!n[0]?Text.empty:n.length<=32?new TextLeaf(n):TextNode.from(TextLeaf.split(n,[]))}}class TextLeaf extends Text{constructor(n,g=textLength(n)){super(),this.text=n,this.length=g}get lines(){return this.text.length}get children(){return null}lineInner(n,g,y,$){for(let L=0;;L++){let re=this.text[L],ae=$+re.length;if((g?y:ae)>=n)return new Line($,ae,y,re);$=ae+1,y++}}decompose(n,g,y,$){let L=n<=0&&g>=this.length?this:new TextLeaf(sliceText(this.text,n,g),Math.min(g,this.length)-Math.max(0,n));if($&1){let re=y.pop(),ae=appendText(L.text,re.text.slice(),0,L.length);if(ae.length<=32)y.push(new TextLeaf(ae,re.length+L.length));else{let le=ae.length>>1;y.push(new TextLeaf(ae.slice(0,le)),new TextLeaf(ae.slice(le)))}}else y.push(L)}replace(n,g,y){if(!(y instanceof TextLeaf))return super.replace(n,g,y);[n,g]=clip(this,n,g);let $=appendText(this.text,appendText(y.text,sliceText(this.text,0,n)),g),L=this.length+y.length-(g-n);return $.length<=32?new TextLeaf($,L):TextNode.from(TextLeaf.split($,[]),L)}sliceString(n,g=this.length,y=`
`){[n,g]=clip(this,n,g);let $="";for(let L=0,re=0;L<=g&&re<this.text.length;re++){let ae=this.text[re],le=L+ae.length;L>n&&re&&($+=y),n<le&&g>L&&($+=ae.slice(Math.max(0,n-L),g-L)),L=le+1}return $}flatten(n){for(let g of this.text)n.push(g)}scanIdentical(){return 0}static split(n,g){let y=[],$=-1;for(let L of n)y.push(L),$+=L.length+1,y.length==32&&(g.push(new TextLeaf(y,$)),y=[],$=-1);return $>-1&&g.push(new TextLeaf(y,$)),g}}class TextNode extends Text{constructor(n,g){super(),this.children=n,this.length=g,this.lines=0;for(let y of n)this.lines+=y.lines}lineInner(n,g,y,$){for(let L=0;;L++){let re=this.children[L],ae=$+re.length,le=y+re.lines-1;if((g?le:ae)>=n)return re.lineInner(n,g,y,$);$=ae+1,y=le+1}}decompose(n,g,y,$){for(let L=0,re=0;re<=g&&L<this.children.length;L++){let ae=this.children[L],le=re+ae.length;if(n<=le&&g>=re){let ue=$&((re<=n?1:0)|(le>=g?2:0));re>=n&&le<=g&&!ue?y.push(ae):ae.decompose(n-re,g-re,y,ue)}re=le+1}}replace(n,g,y){if([n,g]=clip(this,n,g),y.lines<this.lines)for(let $=0,L=0;$<this.children.length;$++){let re=this.children[$],ae=L+re.length;if(n>=L&&g<=ae){let le=re.replace(n-L,g-L,y),ue=this.lines-re.lines+le.lines;if(le.lines<ue>>4&&le.lines>ue>>6){let he=this.children.slice();return he[$]=le,new TextNode(he,this.length-(g-n)+y.length)}return super.replace(L,ae,le)}L=ae+1}return super.replace(n,g,y)}sliceString(n,g=this.length,y=`
`){[n,g]=clip(this,n,g);let $="";for(let L=0,re=0;L<this.children.length&&re<=g;L++){let ae=this.children[L],le=re+ae.length;re>n&&L&&($+=y),n<le&&g>re&&($+=ae.sliceString(n-re,g-re,y)),re=le+1}return $}flatten(n){for(let g of this.children)g.flatten(n)}scanIdentical(n,g){if(!(n instanceof TextNode))return 0;let y=0,[$,L,re,ae]=g>0?[0,0,this.children.length,n.children.length]:[this.children.length-1,n.children.length-1,-1,-1];for(;;$+=g,L+=g){if($==re||L==ae)return y;let le=this.children[$],ue=n.children[L];if(le!=ue)return y+le.scanIdentical(ue,g);y+=le.length+1}}static from(n,g=n.reduce((y,$)=>y+$.length+1,-1)){let y=0;for(let $e of n)y+=$e.lines;if(y<32){let $e=[];for(let Oe of n)Oe.flatten($e);return new TextLeaf($e,g)}let $=Math.max(32,y>>5),L=$<<1,re=$>>1,ae=[],le=0,ue=-1,he=[];function _e($e){let Oe;if($e.lines>L&&$e instanceof TextNode)for(let xe of $e.children)_e(xe);else $e.lines>re&&(le>re||!le)?(Ce(),ae.push($e)):$e instanceof TextLeaf&&le&&(Oe=he[he.length-1])instanceof TextLeaf&&$e.lines+Oe.lines<=32?(le+=$e.lines,ue+=$e.length+1,he[he.length-1]=new TextLeaf(Oe.text.concat($e.text),Oe.length+1+$e.length)):(le+$e.lines>$&&Ce(),le+=$e.lines,ue+=$e.length+1,he.push($e))}function Ce(){le!=0&&(ae.push(he.length==1?he[0]:TextNode.from(he,ue)),ue=-1,le=he.length=0)}for(let $e of n)_e($e);return Ce(),ae.length==1?ae[0]:new TextNode(ae,g)}}Text.empty=new TextLeaf([""],0);function textLength(r){let n=-1;for(let g of r)n+=g.length+1;return n}function appendText(r,n,g=0,y=1e9){for(let $=0,L=0,re=!0;L<r.length&&$<=y;L++){let ae=r[L],le=$+ae.length;le>=g&&(le>y&&(ae=ae.slice(0,y-$)),$<g&&(ae=ae.slice(g-$)),re?(n[n.length-1]+=ae,re=!1):n.push(ae)),$=le+1}return n}function sliceText(r,n,g){return appendText(r,[""],n,g)}class RawTextCursor{constructor(n,g=1){this.dir=g,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[n],this.offsets=[g>0?1:(n instanceof TextLeaf?n.text.length:n.children.length)<<1]}nextInner(n,g){for(this.done=this.lineBreak=!1;;){let y=this.nodes.length-1,$=this.nodes[y],L=this.offsets[y],re=L>>1,ae=$ instanceof TextLeaf?$.text.length:$.children.length;if(re==(g>0?ae:0)){if(y==0)return this.done=!0,this.value="",this;g>0&&this.offsets[y-1]++,this.nodes.pop(),this.offsets.pop()}else if((L&1)==(g>0?0:1)){if(this.offsets[y]+=g,n==0)return this.lineBreak=!0,this.value=`
`,this;n--}else if($ instanceof TextLeaf){let le=$.text[re+(g<0?-1:0)];if(this.offsets[y]+=g,le.length>Math.max(0,n))return this.value=n==0?le:g>0?le.slice(n):le.slice(0,le.length-n),this;n-=le.length}else{let le=$.children[re+(g<0?-1:0)];n>le.length?(n-=le.length,this.offsets[y]+=g):(g<0&&this.offsets[y]--,this.nodes.push(le),this.offsets.push(g>0?1:(le instanceof TextLeaf?le.text.length:le.children.length)<<1))}}}next(n=0){return n<0&&(this.nextInner(-n,-this.dir),n=this.value.length),this.nextInner(n,this.dir)}}class PartialTextCursor{constructor(n,g,y){this.value="",this.done=!1,this.cursor=new RawTextCursor(n,g>y?-1:1),this.pos=g>y?n.length:0,this.from=Math.min(g,y),this.to=Math.max(g,y)}nextInner(n,g){if(g<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;n+=Math.max(0,g<0?this.pos-this.to:this.from-this.pos);let y=g<0?this.pos-this.from:this.to-this.pos;n>y&&(n=y),y-=n;let{value:$}=this.cursor.next(n);return this.pos+=($.length+n)*g,this.value=$.length<=y?$:g<0?$.slice($.length-y):$.slice(0,y),this.done=!this.value,this}next(n=0){return n<0?n=Math.max(n,this.from-this.pos):n>0&&(n=Math.min(n,this.to-this.pos)),this.nextInner(n,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(n){this.inner=n,this.afterBreak=!0,this.value="",this.done=!1}next(n=0){let{done:g,lineBreak:y,value:$}=this.inner.next(n);return g&&this.afterBreak?(this.value="",this.afterBreak=!1):g?(this.done=!0,this.value=""):y?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=$,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(n,g,y,$){this.from=n,this.to=g,this.number=y,this.text=$}get length(){return this.to-this.from}}function clip(r,n,g){return n=Math.max(0,Math.min(r.length,n)),[n,Math.max(n,Math.min(r.length,g))]}function findClusterBreak(r,n,g=!0,y=!0){return findClusterBreak$1(r,n,g,y)}function surrogateLow(r){return r>=56320&&r<57344}function surrogateHigh(r){return r>=55296&&r<56320}function codePointAt(r,n){let g=r.charCodeAt(n);if(!surrogateHigh(g)||n+1==r.length)return g;let y=r.charCodeAt(n+1);return surrogateLow(y)?(g-55296<<10)+(y-56320)+65536:g}function fromCodePoint(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function codePointSize(r){return r<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(MapMode||(MapMode={}));class ChangeDesc{constructor(n){this.sections=n}get length(){let n=0;for(let g=0;g<this.sections.length;g+=2)n+=this.sections[g];return n}get newLength(){let n=0;for(let g=0;g<this.sections.length;g+=2){let y=this.sections[g+1];n+=y<0?this.sections[g]:y}return n}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(n){for(let g=0,y=0,$=0;g<this.sections.length;){let L=this.sections[g++],re=this.sections[g++];re<0?(n(y,$,L),$+=L):$+=re,y+=L}}iterChangedRanges(n,g=!1){iterChanges(this,n,g)}get invertedDesc(){let n=[];for(let g=0;g<this.sections.length;){let y=this.sections[g++],$=this.sections[g++];$<0?n.push(y,$):n.push($,y)}return new ChangeDesc(n)}composeDesc(n){return this.empty?n:n.empty?this:composeSets(this,n)}mapDesc(n,g=!1){return n.empty?this:mapSet(this,n,g)}mapPos(n,g=-1,y=MapMode.Simple){let $=0,L=0;for(let re=0;re<this.sections.length;){let ae=this.sections[re++],le=this.sections[re++],ue=$+ae;if(le<0){if(ue>n)return L+(n-$);L+=ae}else{if(y!=MapMode.Simple&&ue>=n&&(y==MapMode.TrackDel&&$<n&&ue>n||y==MapMode.TrackBefore&&$<n||y==MapMode.TrackAfter&&ue>n))return null;if(ue>n||ue==n&&g<0&&!ae)return n==$||g<0?L:L+le;L+=le}$=ue}if(n>$)throw new RangeError(`Position ${n} is out of range for changeset of length ${$}`);return L}touchesRange(n,g=n){for(let y=0,$=0;y<this.sections.length&&$<=g;){let L=this.sections[y++],re=this.sections[y++],ae=$+L;if(re>=0&&$<=g&&ae>=n)return $<n&&ae>g?"cover":!0;$=ae}return!1}toString(){let n="";for(let g=0;g<this.sections.length;){let y=this.sections[g++],$=this.sections[g++];n+=(n?" ":"")+y+($>=0?":"+$:"")}return n}toJSON(){return this.sections}static fromJSON(n){if(!Array.isArray(n)||n.length%2||n.some(g=>typeof g!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(n)}static create(n){return new ChangeDesc(n)}}class ChangeSet extends ChangeDesc{constructor(n,g){super(n),this.inserted=g}apply(n){if(this.length!=n.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(g,y,$,L,re)=>n=n.replace($,$+(y-g),re),!1),n}mapDesc(n,g=!1){return mapSet(this,n,g,!0)}invert(n){let g=this.sections.slice(),y=[];for(let $=0,L=0;$<g.length;$+=2){let re=g[$],ae=g[$+1];if(ae>=0){g[$]=ae,g[$+1]=re;let le=$>>1;for(;y.length<le;)y.push(Text.empty);y.push(re?n.slice(L,L+re):Text.empty)}L+=re}return new ChangeSet(g,y)}compose(n){return this.empty?n:n.empty?this:composeSets(this,n,!0)}map(n,g=!1){return n.empty?this:mapSet(this,n,g,!0)}iterChanges(n,g=!1){iterChanges(this,n,g)}get desc(){return ChangeDesc.create(this.sections)}filter(n){let g=[],y=[],$=[],L=new SectionIter(this);e:for(let re=0,ae=0;;){let le=re==n.length?1e9:n[re++];for(;ae<le||ae==le&&L.len==0;){if(L.done)break e;let he=Math.min(L.len,le-ae);addSection($,he,-1);let _e=L.ins==-1?-1:L.off==0?L.ins:0;addSection(g,he,_e),_e>0&&addInsert(y,g,L.text),L.forward(he),ae+=he}let ue=n[re++];for(;ae<ue;){if(L.done)break e;let he=Math.min(L.len,ue-ae);addSection(g,he,-1),addSection($,he,L.ins==-1?-1:L.off==0?L.ins:0),L.forward(he),ae+=he}}return{changes:new ChangeSet(g,y),filtered:ChangeDesc.create($)}}toJSON(){let n=[];for(let g=0;g<this.sections.length;g+=2){let y=this.sections[g],$=this.sections[g+1];$<0?n.push(y):$==0?n.push([y]):n.push([y].concat(this.inserted[g>>1].toJSON()))}return n}static of(n,g,y){let $=[],L=[],re=0,ae=null;function le(he=!1){if(!he&&!$.length)return;re<g&&addSection($,g-re,-1);let _e=new ChangeSet($,L);ae=ae?ae.compose(_e.map(ae)):_e,$=[],L=[],re=0}function ue(he){if(Array.isArray(he))for(let _e of he)ue(_e);else if(he instanceof ChangeSet){if(he.length!=g)throw new RangeError(`Mismatched change set length (got ${he.length}, expected ${g})`);le(),ae=ae?ae.compose(he.map(ae)):he}else{let{from:_e,to:Ce=_e,insert:$e}=he;if(_e>Ce||_e<0||Ce>g)throw new RangeError(`Invalid change range ${_e} to ${Ce} (in doc of length ${g})`);let Oe=$e?typeof $e=="string"?Text.of($e.split(y||DefaultSplit)):$e:Text.empty,xe=Oe.length;if(_e==Ce&&xe==0)return;_e<re&&le(),_e>re&&addSection($,_e-re,-1),addSection($,Ce-_e,xe),addInsert(L,$,Oe),re=Ce}}return ue(n),le(!ae),ae}static empty(n){return new ChangeSet(n?[n,-1]:[],[])}static fromJSON(n){if(!Array.isArray(n))throw new RangeError("Invalid JSON representation of ChangeSet");let g=[],y=[];for(let $=0;$<n.length;$++){let L=n[$];if(typeof L=="number")g.push(L,-1);else{if(!Array.isArray(L)||typeof L[0]!="number"||L.some((re,ae)=>ae&&typeof re!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(L.length==1)g.push(L[0],0);else{for(;y.length<$;)y.push(Text.empty);y[$]=Text.of(L.slice(1)),g.push(L[0],y[$].length)}}}return new ChangeSet(g,y)}static createSet(n,g){return new ChangeSet(n,g)}}function addSection(r,n,g,y=!1){if(n==0&&g<=0)return;let $=r.length-2;$>=0&&g<=0&&g==r[$+1]?r[$]+=n:$>=0&&n==0&&r[$]==0?r[$+1]+=g:y?(r[$]+=n,r[$+1]+=g):r.push(n,g)}function addInsert(r,n,g){if(g.length==0)return;let y=n.length-2>>1;if(y<r.length)r[r.length-1]=r[r.length-1].append(g);else{for(;r.length<y;)r.push(Text.empty);r.push(g)}}function iterChanges(r,n,g){let y=r.inserted;for(let $=0,L=0,re=0;re<r.sections.length;){let ae=r.sections[re++],le=r.sections[re++];if(le<0)$+=ae,L+=ae;else{let ue=$,he=L,_e=Text.empty;for(;ue+=ae,he+=le,le&&y&&(_e=_e.append(y[re-2>>1])),!(g||re==r.sections.length||r.sections[re+1]<0);)ae=r.sections[re++],le=r.sections[re++];n($,ue,L,he,_e),$=ue,L=he}}}function mapSet(r,n,g,y=!1){let $=[],L=y?[]:null,re=new SectionIter(r),ae=new SectionIter(n);for(let le=-1;;){if(re.done&&ae.len||ae.done&&re.len)throw new Error("Mismatched change set lengths");if(re.ins==-1&&ae.ins==-1){let ue=Math.min(re.len,ae.len);addSection($,ue,-1),re.forward(ue),ae.forward(ue)}else if(ae.ins>=0&&(re.ins<0||le==re.i||re.off==0&&(ae.len<re.len||ae.len==re.len&&!g))){let ue=ae.len;for(addSection($,ae.ins,-1);ue;){let he=Math.min(re.len,ue);re.ins>=0&&le<re.i&&re.len<=he&&(addSection($,0,re.ins),L&&addInsert(L,$,re.text),le=re.i),re.forward(he),ue-=he}ae.next()}else if(re.ins>=0){let ue=0,he=re.len;for(;he;)if(ae.ins==-1){let _e=Math.min(he,ae.len);ue+=_e,he-=_e,ae.forward(_e)}else if(ae.ins==0&&ae.len<he)he-=ae.len,ae.next();else break;addSection($,ue,le<re.i?re.ins:0),L&&le<re.i&&addInsert(L,$,re.text),le=re.i,re.forward(re.len-he)}else{if(re.done&&ae.done)return L?ChangeSet.createSet($,L):ChangeDesc.create($);throw new Error("Mismatched change set lengths")}}}function composeSets(r,n,g=!1){let y=[],$=g?[]:null,L=new SectionIter(r),re=new SectionIter(n);for(let ae=!1;;){if(L.done&&re.done)return $?ChangeSet.createSet(y,$):ChangeDesc.create(y);if(L.ins==0)addSection(y,L.len,0,ae),L.next();else if(re.len==0&&!re.done)addSection(y,0,re.ins,ae),$&&addInsert($,y,re.text),re.next();else{if(L.done||re.done)throw new Error("Mismatched change set lengths");{let le=Math.min(L.len2,re.len),ue=y.length;if(L.ins==-1){let he=re.ins==-1?-1:re.off?0:re.ins;addSection(y,le,he,ae),$&&he&&addInsert($,y,re.text)}else re.ins==-1?(addSection(y,L.off?0:L.len,le,ae),$&&addInsert($,y,L.textBit(le))):(addSection(y,L.off?0:L.len,re.off?0:re.ins,ae),$&&!re.off&&addInsert($,y,re.text));ae=(L.ins>le||re.ins>=0&&re.len>le)&&(ae||y.length>ue),L.forward2(le),re.forward(le)}}}}class SectionIter{constructor(n){this.set=n,this.i=0,this.next()}next(){let{sections:n}=this.set;this.i<n.length?(this.len=n[this.i++],this.ins=n[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:n}=this.set,g=this.i-2>>1;return g>=n.length?Text.empty:n[g]}textBit(n){let{inserted:g}=this.set,y=this.i-2>>1;return y>=g.length&&!n?Text.empty:g[y].slice(this.off,n==null?void 0:this.off+n)}forward(n){n==this.len?this.next():(this.len-=n,this.off+=n)}forward2(n){this.ins==-1?this.forward(n):n==this.ins?this.next():(this.ins-=n,this.off+=n)}}class SelectionRange{constructor(n,g,y){this.from=n,this.to=g,this.flags=y}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let n=this.flags&7;return n==7?null:n}get goalColumn(){let n=this.flags>>6;return n==16777215?void 0:n}map(n,g=-1){let y,$;return this.empty?y=$=n.mapPos(this.from,g):(y=n.mapPos(this.from,1),$=n.mapPos(this.to,-1)),y==this.from&&$==this.to?this:new SelectionRange(y,$,this.flags)}extend(n,g=n){if(n<=this.anchor&&g>=this.anchor)return EditorSelection.range(n,g);let y=Math.abs(n-this.anchor)>Math.abs(g-this.anchor)?n:g;return EditorSelection.range(this.anchor,y)}eq(n,g=!1){return this.anchor==n.anchor&&this.head==n.head&&(!g||!this.empty||this.assoc==n.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(n){if(!n||typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(n.anchor,n.head)}static create(n,g,y){return new SelectionRange(n,g,y)}}class EditorSelection{constructor(n,g){this.ranges=n,this.mainIndex=g}map(n,g=-1){return n.empty?this:EditorSelection.create(this.ranges.map(y=>y.map(n,g)),this.mainIndex)}eq(n,g=!1){if(this.ranges.length!=n.ranges.length||this.mainIndex!=n.mainIndex)return!1;for(let y=0;y<this.ranges.length;y++)if(!this.ranges[y].eq(n.ranges[y],g))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(n,g=!0){return EditorSelection.create([n].concat(this.ranges),g?0:this.mainIndex+1)}replaceRange(n,g=this.mainIndex){let y=this.ranges.slice();return y[g]=n,EditorSelection.create(y,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(n=>n.toJSON()),main:this.mainIndex}}static fromJSON(n){if(!n||!Array.isArray(n.ranges)||typeof n.main!="number"||n.main>=n.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(n.ranges.map(g=>SelectionRange.fromJSON(g)),n.main)}static single(n,g=n){return new EditorSelection([EditorSelection.range(n,g)],0)}static create(n,g=0){if(n.length==0)throw new RangeError("A selection needs at least one range");for(let y=0,$=0;$<n.length;$++){let L=n[$];if(L.empty?L.from<=y:L.from<y)return EditorSelection.normalized(n.slice(),g);y=L.to}return new EditorSelection(n,g)}static cursor(n,g=0,y,$){return SelectionRange.create(n,n,(g==0?0:g<0?8:16)|(y==null?7:Math.min(6,y))|($??16777215)<<6)}static range(n,g,y,$){let L=(y??16777215)<<6|($==null?7:Math.min(6,$));return g<n?SelectionRange.create(g,n,48|L):SelectionRange.create(n,g,(g>n?8:0)|L)}static normalized(n,g=0){let y=n[g];n.sort(($,L)=>$.from-L.from),g=n.indexOf(y);for(let $=1;$<n.length;$++){let L=n[$],re=n[$-1];if(L.empty?L.from<=re.to:L.from<re.to){let ae=re.from,le=Math.max(L.to,re.to);$<=g&&g--,n.splice(--$,2,L.anchor>L.head?EditorSelection.range(le,ae):EditorSelection.range(ae,le))}}return new EditorSelection(n,g)}}function checkSelection(r,n){for(let g of r.ranges)if(g.to>n)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(n,g,y,$,L){this.combine=n,this.compareInput=g,this.compare=y,this.isStatic=$,this.id=nextID++,this.default=n([]),this.extensions=typeof L=="function"?L(this):L}get reader(){return this}static define(n={}){return new Facet(n.combine||(g=>g),n.compareInput||((g,y)=>g===y),n.compare||(n.combine?(g,y)=>g===y:sameArray$3),!!n.static,n.enables)}of(n){return new FacetProvider([],this,0,n)}compute(n,g){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(n,this,1,g)}computeN(n,g){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(n,this,2,g)}from(n,g){return g||(g=y=>y),this.compute([n],y=>g(y.field(n)))}}function sameArray$3(r,n){return r==n||r.length==n.length&&r.every((g,y)=>g===n[y])}class FacetProvider{constructor(n,g,y,$){this.dependencies=n,this.facet=g,this.type=y,this.value=$,this.id=nextID++}dynamicSlot(n){var g;let y=this.value,$=this.facet.compareInput,L=this.id,re=n[L]>>1,ae=this.type==2,le=!1,ue=!1,he=[];for(let _e of this.dependencies)_e=="doc"?le=!0:_e=="selection"?ue=!0:((g=n[_e.id])!==null&&g!==void 0?g:1)&1||he.push(n[_e.id]);return{create(_e){return _e.values[re]=y(_e),1},update(_e,Ce){if(le&&Ce.docChanged||ue&&(Ce.docChanged||Ce.selection)||ensureAll(_e,he)){let $e=y(_e);if(ae?!compareArray($e,_e.values[re],$):!$($e,_e.values[re]))return _e.values[re]=$e,1}return 0},reconfigure:(_e,Ce)=>{let $e,Oe=Ce.config.address[L];if(Oe!=null){let xe=getAddr(Ce,Oe);if(this.dependencies.every(Ne=>Ne instanceof Facet?Ce.facet(Ne)===_e.facet(Ne):Ne instanceof StateField?Ce.field(Ne,!1)==_e.field(Ne,!1):!0)||(ae?compareArray($e=y(_e),xe,$):$($e=y(_e),xe)))return _e.values[re]=xe,0}else $e=y(_e);return _e.values[re]=$e,1}}}}function compareArray(r,n,g){if(r.length!=n.length)return!1;for(let y=0;y<r.length;y++)if(!g(r[y],n[y]))return!1;return!0}function ensureAll(r,n){let g=!1;for(let y of n)ensureAddr(r,y)&1&&(g=!0);return g}function dynamicFacetSlot(r,n,g){let y=g.map(le=>r[le.id]),$=g.map(le=>le.type),L=y.filter(le=>!(le&1)),re=r[n.id]>>1;function ae(le){let ue=[];for(let he=0;he<y.length;he++){let _e=getAddr(le,y[he]);if($[he]==2)for(let Ce of _e)ue.push(Ce);else ue.push(_e)}return n.combine(ue)}return{create(le){for(let ue of y)ensureAddr(le,ue);return le.values[re]=ae(le),1},update(le,ue){if(!ensureAll(le,L))return 0;let he=ae(le);return n.compare(he,le.values[re])?0:(le.values[re]=he,1)},reconfigure(le,ue){let he=ensureAll(le,y),_e=ue.config.facets[n.id],Ce=ue.facet(n);if(_e&&!he&&sameArray$3(g,_e))return le.values[re]=Ce,0;let $e=ae(le);return n.compare($e,Ce)?(le.values[re]=Ce,0):(le.values[re]=$e,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(n,g,y,$,L){this.id=n,this.createF=g,this.updateF=y,this.compareF=$,this.spec=L,this.provides=void 0}static define(n){let g=new StateField(nextID++,n.create,n.update,n.compare||((y,$)=>y===$),n);return n.provide&&(g.provides=n.provide(g)),g}create(n){let g=n.facet(initField).find(y=>y.field==this);return((g==null?void 0:g.create)||this.createF)(n)}slot(n){let g=n[this.id]>>1;return{create:y=>(y.values[g]=this.create(y),1),update:(y,$)=>{let L=y.values[g],re=this.updateF(L,$);return this.compareF(L,re)?0:(y.values[g]=re,1)},reconfigure:(y,$)=>{let L=y.facet(initField),re=$.facet(initField),ae;return(ae=L.find(le=>le.field==this))&&ae!=re.find(le=>le.field==this)?(y.values[g]=ae.create(y),1):$.config.address[this.id]!=null?(y.values[g]=$.field(this),0):(y.values[g]=this.create(y),1)}}}init(n){return[this,initField.of({field:this,create:n})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(r){return n=>new PrecExtension(n,r)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(n,g){this.inner=n,this.prec=g}}class Compartment{of(n){return new CompartmentInstance(this,n)}reconfigure(n){return Compartment.reconfigure.of({compartment:this,extension:n})}get(n){return n.config.compartments.get(this)}}class CompartmentInstance{constructor(n,g){this.compartment=n,this.inner=g}}class Configuration{constructor(n,g,y,$,L,re){for(this.base=n,this.compartments=g,this.dynamicSlots=y,this.address=$,this.staticValues=L,this.facets=re,this.statusTemplate=[];this.statusTemplate.length<y.length;)this.statusTemplate.push(0)}staticFacet(n){let g=this.address[n.id];return g==null?n.default:this.staticValues[g>>1]}static resolve(n,g,y){let $=[],L=Object.create(null),re=new Map;for(let Ce of flatten(n,g,re))Ce instanceof StateField?$.push(Ce):(L[Ce.facet.id]||(L[Ce.facet.id]=[])).push(Ce);let ae=Object.create(null),le=[],ue=[];for(let Ce of $)ae[Ce.id]=ue.length<<1,ue.push($e=>Ce.slot($e));let he=y==null?void 0:y.config.facets;for(let Ce in L){let $e=L[Ce],Oe=$e[0].facet,xe=he&&he[Ce]||[];if($e.every(Ne=>Ne.type==0))if(ae[Oe.id]=le.length<<1|1,sameArray$3(xe,$e))le.push(y.facet(Oe));else{let Ne=Oe.combine($e.map(Ie=>Ie.value));le.push(y&&Oe.compare(Ne,y.facet(Oe))?y.facet(Oe):Ne)}else{for(let Ne of $e)Ne.type==0?(ae[Ne.id]=le.length<<1|1,le.push(Ne.value)):(ae[Ne.id]=ue.length<<1,ue.push(Ie=>Ne.dynamicSlot(Ie)));ae[Oe.id]=ue.length<<1,ue.push(Ne=>dynamicFacetSlot(Ne,Oe,$e))}}let _e=ue.map(Ce=>Ce(ae));return new Configuration(n,re,_e,ae,le,L)}}function flatten(r,n,g){let y=[[],[],[],[],[]],$=new Map;function L(re,ae){let le=$.get(re);if(le!=null){if(le<=ae)return;let ue=y[le].indexOf(re);ue>-1&&y[le].splice(ue,1),re instanceof CompartmentInstance&&g.delete(re.compartment)}if($.set(re,ae),Array.isArray(re))for(let ue of re)L(ue,ae);else if(re instanceof CompartmentInstance){if(g.has(re.compartment))throw new RangeError("Duplicate use of compartment in extensions");let ue=n.get(re.compartment)||re.inner;g.set(re.compartment,ue),L(ue,ae)}else if(re instanceof PrecExtension)L(re.inner,re.prec);else if(re instanceof StateField)y[ae].push(re),re.provides&&L(re.provides,ae);else if(re instanceof FacetProvider)y[ae].push(re),re.facet.extensions&&L(re.facet.extensions,Prec_.default);else{let ue=re.extension;if(!ue)throw new Error(`Unrecognized extension value in extension set (${re}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);L(ue,ae)}}return L(r,Prec_.default),y.reduce((re,ae)=>re.concat(ae))}function ensureAddr(r,n){if(n&1)return 2;let g=n>>1,y=r.status[g];if(y==4)throw new Error("Cyclic dependency between fields and/or facets");if(y&2)return y;r.status[g]=4;let $=r.computeSlot(r,r.config.dynamicSlots[g]);return r.status[g]=2|$}function getAddr(r,n){return n&1?r.config.staticValues[n>>1]:r.values[n>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:r=>r.some(n=>n),static:!0}),lineSeparator=Facet.define({combine:r=>r.length?r[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:r=>r.length?r[0]:!1});class Annotation{constructor(n,g){this.type=n,this.value=g}static define(){return new AnnotationType}}class AnnotationType{of(n){return new Annotation(this,n)}}class StateEffectType{constructor(n){this.map=n}of(n){return new StateEffect(this,n)}}class StateEffect{constructor(n,g){this.type=n,this.value=g}map(n){let g=this.type.map(this.value,n);return g===void 0?void 0:g==this.value?this:new StateEffect(this.type,g)}is(n){return this.type==n}static define(n={}){return new StateEffectType(n.map||(g=>g))}static mapEffects(n,g){if(!n.length)return n;let y=[];for(let $ of n){let L=$.map(g);L&&y.push(L)}return y}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(n,g,y,$,L,re){this.startState=n,this.changes=g,this.selection=y,this.effects=$,this.annotations=L,this.scrollIntoView=re,this._doc=null,this._state=null,y&&checkSelection(y,g.newLength),L.some(ae=>ae.type==Transaction.time)||(this.annotations=L.concat(Transaction.time.of(Date.now())))}static create(n,g,y,$,L,re){return new Transaction(n,g,y,$,L,re)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(n){for(let g of this.annotations)if(g.type==n)return g.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(n){let g=this.annotation(Transaction.userEvent);return!!(g&&(g==n||g.length>n.length&&g.slice(0,n.length)==n&&g[n.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(r,n){let g=[];for(let y=0,$=0;;){let L,re;if(y<r.length&&($==n.length||n[$]>=r[y]))L=r[y++],re=r[y++];else if($<n.length)L=n[$++],re=n[$++];else return g;!g.length||g[g.length-1]<L?g.push(L,re):g[g.length-1]<re&&(g[g.length-1]=re)}}function mergeTransaction(r,n,g){var y;let $,L,re;return g?($=n.changes,L=ChangeSet.empty(n.changes.length),re=r.changes.compose(n.changes)):($=n.changes.map(r.changes),L=r.changes.mapDesc(n.changes,!0),re=r.changes.compose($)),{changes:re,selection:n.selection?n.selection.map(L):(y=r.selection)===null||y===void 0?void 0:y.map($),effects:StateEffect.mapEffects(r.effects,$).concat(StateEffect.mapEffects(n.effects,L)),annotations:r.annotations.length?r.annotations.concat(n.annotations):n.annotations,scrollIntoView:r.scrollIntoView||n.scrollIntoView}}function resolveTransactionInner(r,n,g){let y=n.selection,$=asArray$2(n.annotations);return n.userEvent&&($=$.concat(Transaction.userEvent.of(n.userEvent))),{changes:n.changes instanceof ChangeSet?n.changes:ChangeSet.of(n.changes||[],g,r.facet(lineSeparator)),selection:y&&(y instanceof EditorSelection?y:EditorSelection.single(y.anchor,y.head)),effects:asArray$2(n.effects),annotations:$,scrollIntoView:!!n.scrollIntoView}}function resolveTransaction(r,n,g){let y=resolveTransactionInner(r,n.length?n[0]:{},r.doc.length);n.length&&n[0].filter===!1&&(g=!1);for(let L=1;L<n.length;L++){n[L].filter===!1&&(g=!1);let re=!!n[L].sequential;y=mergeTransaction(y,resolveTransactionInner(r,n[L],re?y.changes.newLength:r.doc.length),re)}let $=Transaction.create(r,y.changes,y.selection,y.effects,y.annotations,y.scrollIntoView);return extendTransaction(g?filterTransaction($):$)}function filterTransaction(r){let n=r.startState,g=!0;for(let $ of n.facet(changeFilter)){let L=$(r);if(L===!1){g=!1;break}Array.isArray(L)&&(g=g===!0?L:joinRanges(g,L))}if(g!==!0){let $,L;if(g===!1)L=r.changes.invertedDesc,$=ChangeSet.empty(n.doc.length);else{let re=r.changes.filter(g);$=re.changes,L=re.filtered.mapDesc(re.changes).invertedDesc}r=Transaction.create(n,$,r.selection&&r.selection.map(L),StateEffect.mapEffects(r.effects,L),r.annotations,r.scrollIntoView)}let y=n.facet(transactionFilter);for(let $=y.length-1;$>=0;$--){let L=y[$](r);L instanceof Transaction?r=L:Array.isArray(L)&&L.length==1&&L[0]instanceof Transaction?r=L[0]:r=resolveTransaction(n,asArray$2(L),!1)}return r}function extendTransaction(r){let n=r.startState,g=n.facet(transactionExtender),y=r;for(let $=g.length-1;$>=0;$--){let L=g[$](r);L&&Object.keys(L).length&&(y=mergeTransaction(y,resolveTransactionInner(n,L,r.changes.newLength),!0))}return y==r?r:Transaction.create(n,r.changes,r.selection,y.effects,y.annotations,y.scrollIntoView)}const none$2=[];function asArray$2(r){return r==null?none$2:Array.isArray(r)?r:[r]}var CharCategory=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(r){}function hasWordChar(r){if(wordChar)return wordChar.test(r);for(let n=0;n<r.length;n++){let g=r[n];if(/\w/.test(g)||g>""&&(g.toUpperCase()!=g.toLowerCase()||nonASCIISingleCaseWordChar.test(g)))return!0}return!1}function makeCategorizer(r){return n=>{if(!/\S/.test(n))return CharCategory.Space;if(hasWordChar(n))return CharCategory.Word;for(let g=0;g<r.length;g++)if(n.indexOf(r[g])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(n,g,y,$,L,re){this.config=n,this.doc=g,this.selection=y,this.values=$,this.status=n.statusTemplate.slice(),this.computeSlot=L,re&&(re._state=this);for(let ae=0;ae<this.config.dynamicSlots.length;ae++)ensureAddr(this,ae<<1);this.computeSlot=null}field(n,g=!0){let y=this.config.address[n.id];if(y==null){if(g)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,y),getAddr(this,y)}update(...n){return resolveTransaction(this,n,!0)}applyTransaction(n){let g=this.config,{base:y,compartments:$}=g;for(let ae of n.effects)ae.is(Compartment.reconfigure)?(g&&($=new Map,g.compartments.forEach((le,ue)=>$.set(ue,le)),g=null),$.set(ae.value.compartment,ae.value.extension)):ae.is(StateEffect.reconfigure)?(g=null,y=ae.value):ae.is(StateEffect.appendConfig)&&(g=null,y=asArray$2(y).concat(ae.value));let L;g?L=n.startState.values.slice():(g=Configuration.resolve(y,$,this),L=new EditorState(g,this.doc,this.selection,g.dynamicSlots.map(()=>null),(le,ue)=>ue.reconfigure(le,this),null).values);let re=n.startState.facet(allowMultipleSelections)?n.newSelection:n.newSelection.asSingle();new EditorState(g,n.newDoc,re,L,(ae,le)=>le.update(ae,n),n)}replaceSelection(n){return typeof n=="string"&&(n=this.toText(n)),this.changeByRange(g=>({changes:{from:g.from,to:g.to,insert:n},range:EditorSelection.cursor(g.from+n.length)}))}changeByRange(n){let g=this.selection,y=n(g.ranges[0]),$=this.changes(y.changes),L=[y.range],re=asArray$2(y.effects);for(let ae=1;ae<g.ranges.length;ae++){let le=n(g.ranges[ae]),ue=this.changes(le.changes),he=ue.map($);for(let Ce=0;Ce<ae;Ce++)L[Ce]=L[Ce].map(he);let _e=$.mapDesc(ue,!0);L.push(le.range.map(_e)),$=$.compose(he),re=StateEffect.mapEffects(re,he).concat(StateEffect.mapEffects(asArray$2(le.effects),_e))}return{changes:$,selection:EditorSelection.create(L,g.mainIndex),effects:re}}changes(n=[]){return n instanceof ChangeSet?n:ChangeSet.of(n,this.doc.length,this.facet(EditorState.lineSeparator))}toText(n){return Text.of(n.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(n=0,g=this.doc.length){return this.doc.sliceString(n,g,this.lineBreak)}facet(n){let g=this.config.address[n.id];return g==null?n.default:(ensureAddr(this,g),getAddr(this,g))}toJSON(n){let g={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(n)for(let y in n){let $=n[y];$ instanceof StateField&&this.config.address[$.id]!=null&&(g[y]=$.spec.toJSON(this.field(n[y]),this))}return g}static fromJSON(n,g={},y){if(!n||typeof n.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let $=[];if(y){for(let L in y)if(Object.prototype.hasOwnProperty.call(n,L)){let re=y[L],ae=n[L];$.push(re.init(le=>re.spec.fromJSON(ae,le)))}}return EditorState.create({doc:n.doc,selection:EditorSelection.fromJSON(n.selection),extensions:g.extensions?$.concat([g.extensions]):$})}static create(n={}){let g=Configuration.resolve(n.extensions||[],new Map),y=n.doc instanceof Text?n.doc:Text.of((n.doc||"").split(g.staticFacet(EditorState.lineSeparator)||DefaultSplit)),$=n.selection?n.selection instanceof EditorSelection?n.selection:EditorSelection.single(n.selection.anchor,n.selection.head):EditorSelection.single(0);return checkSelection($,y.length),g.staticFacet(allowMultipleSelections)||($=$.asSingle()),new EditorState(g,y,$,g.dynamicSlots.map(()=>null),(L,re)=>re.create(L),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(n,...g){for(let y of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(y,n)){n=y[n];break}return g.length&&(n=n.replace(/\$(\$|\d*)/g,(y,$)=>{if($=="$")return"$";let L=+($||1);return!L||L>g.length?y:g[L-1]})),n}languageDataAt(n,g,y=-1){let $=[];for(let L of this.facet(languageData))for(let re of L(this,g,y))Object.prototype.hasOwnProperty.call(re,n)&&$.push(re[n]);return $}charCategorizer(n){return makeCategorizer(this.languageDataAt("wordChars",n).join(""))}wordAt(n){let{text:g,from:y,length:$}=this.doc.lineAt(n),L=this.charCategorizer(n),re=n-y,ae=n-y;for(;re>0;){let le=findClusterBreak(g,re,!1);if(L(g.slice(le,re))!=CharCategory.Word)break;re=le}for(;ae<$;){let le=findClusterBreak(g,ae);if(L(g.slice(ae,le))!=CharCategory.Word)break;ae=le}return re==ae?null:EditorSelection.range(re+y,ae+y)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:r=>r.length?r[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(r,n){let g=Object.keys(r),y=Object.keys(n);return g.length==y.length&&g.every($=>r[$]==n[$])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(r,n,g={}){let y={};for(let $ of r)for(let L of Object.keys($)){let re=$[L],ae=y[L];if(ae===void 0)y[L]=re;else if(!(ae===re||re===void 0))if(Object.hasOwnProperty.call(g,L))y[L]=g[L](ae,re);else throw new Error("Config merge conflict for field "+L)}for(let $ in n)y[$]===void 0&&(y[$]=n[$]);return y}class RangeValue{eq(n){return this==n}range(n,g=n){return Range$3.create(n,g,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$3=class Ma{constructor(n,g,y){this.from=n,this.to=g,this.value=y}static create(n,g,y){return new Ma(n,g,y)}};function cmpRange(r,n){return r.from-n.from||r.value.startSide-n.value.startSide}class Chunk{constructor(n,g,y,$){this.from=n,this.to=g,this.value=y,this.maxPoint=$}get length(){return this.to[this.to.length-1]}findIndex(n,g,y,$=0){let L=y?this.to:this.from;for(let re=$,ae=L.length;;){if(re==ae)return re;let le=re+ae>>1,ue=L[le]-n||(y?this.value[le].endSide:this.value[le].startSide)-g;if(le==re)return ue>=0?re:ae;ue>=0?ae=le:re=le+1}}between(n,g,y,$){for(let L=this.findIndex(g,-1e9,!0),re=this.findIndex(y,1e9,!1,L);L<re;L++)if($(this.from[L]+n,this.to[L]+n,this.value[L])===!1)return!1}map(n,g){let y=[],$=[],L=[],re=-1,ae=-1;for(let le=0;le<this.value.length;le++){let ue=this.value[le],he=this.from[le]+n,_e=this.to[le]+n,Ce,$e;if(he==_e){let Oe=g.mapPos(he,ue.startSide,ue.mapMode);if(Oe==null||(Ce=$e=Oe,ue.startSide!=ue.endSide&&($e=g.mapPos(he,ue.endSide),$e<Ce)))continue}else if(Ce=g.mapPos(he,ue.startSide),$e=g.mapPos(_e,ue.endSide),Ce>$e||Ce==$e&&ue.startSide>0&&ue.endSide<=0)continue;($e-Ce||ue.endSide-ue.startSide)<0||(re<0&&(re=Ce),ue.point&&(ae=Math.max(ae,$e-Ce)),y.push(ue),$.push(Ce-re),L.push($e-re))}return{mapped:y.length?new Chunk($,L,y,ae):null,pos:re}}}class RangeSet{constructor(n,g,y,$){this.chunkPos=n,this.chunk=g,this.nextLayer=y,this.maxPoint=$}static create(n,g,y,$){return new RangeSet(n,g,y,$)}get length(){let n=this.chunk.length-1;return n<0?0:Math.max(this.chunkEnd(n),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let n=this.nextLayer.size;for(let g of this.chunk)n+=g.value.length;return n}chunkEnd(n){return this.chunkPos[n]+this.chunk[n].length}update(n){let{add:g=[],sort:y=!1,filterFrom:$=0,filterTo:L=this.length}=n,re=n.filter;if(g.length==0&&!re)return this;if(y&&(g=g.slice().sort(cmpRange)),this.isEmpty)return g.length?RangeSet.of(g):this;let ae=new LayerCursor(this,null,-1).goto(0),le=0,ue=[],he=new RangeSetBuilder;for(;ae.value||le<g.length;)if(le<g.length&&(ae.from-g[le].from||ae.startSide-g[le].value.startSide)>=0){let _e=g[le++];he.addInner(_e.from,_e.to,_e.value)||ue.push(_e)}else ae.rangeIndex==1&&ae.chunkIndex<this.chunk.length&&(le==g.length||this.chunkEnd(ae.chunkIndex)<g[le].from)&&(!re||$>this.chunkEnd(ae.chunkIndex)||L<this.chunkPos[ae.chunkIndex])&&he.addChunk(this.chunkPos[ae.chunkIndex],this.chunk[ae.chunkIndex])?ae.nextChunk():((!re||$>ae.to||L<ae.from||re(ae.from,ae.to,ae.value))&&(he.addInner(ae.from,ae.to,ae.value)||ue.push(Range$3.create(ae.from,ae.to,ae.value))),ae.next());return he.finishInner(this.nextLayer.isEmpty&&!ue.length?RangeSet.empty:this.nextLayer.update({add:ue,filter:re,filterFrom:$,filterTo:L}))}map(n){if(n.empty||this.isEmpty)return this;let g=[],y=[],$=-1;for(let re=0;re<this.chunk.length;re++){let ae=this.chunkPos[re],le=this.chunk[re],ue=n.touchesRange(ae,ae+le.length);if(ue===!1)$=Math.max($,le.maxPoint),g.push(le),y.push(n.mapPos(ae));else if(ue===!0){let{mapped:he,pos:_e}=le.map(ae,n);he&&($=Math.max($,he.maxPoint),g.push(he),y.push(_e))}}let L=this.nextLayer.map(n);return g.length==0?L:new RangeSet(y,g,L||RangeSet.empty,$)}between(n,g,y){if(!this.isEmpty){for(let $=0;$<this.chunk.length;$++){let L=this.chunkPos[$],re=this.chunk[$];if(g>=L&&n<=L+re.length&&re.between(L,n-L,g-L,y)===!1)return}this.nextLayer.between(n,g,y)}}iter(n=0){return HeapCursor.from([this]).goto(n)}get isEmpty(){return this.nextLayer==this}static iter(n,g=0){return HeapCursor.from(n).goto(g)}static compare(n,g,y,$,L=-1){let re=n.filter(_e=>_e.maxPoint>0||!_e.isEmpty&&_e.maxPoint>=L),ae=g.filter(_e=>_e.maxPoint>0||!_e.isEmpty&&_e.maxPoint>=L),le=findSharedChunks(re,ae,y),ue=new SpanCursor(re,le,L),he=new SpanCursor(ae,le,L);y.iterGaps((_e,Ce,$e)=>compare(ue,_e,he,Ce,$e,$)),y.empty&&y.length==0&&compare(ue,0,he,0,0,$)}static eq(n,g,y=0,$){$==null&&($=999999999);let L=n.filter(he=>!he.isEmpty&&g.indexOf(he)<0),re=g.filter(he=>!he.isEmpty&&n.indexOf(he)<0);if(L.length!=re.length)return!1;if(!L.length)return!0;let ae=findSharedChunks(L,re),le=new SpanCursor(L,ae,0).goto(y),ue=new SpanCursor(re,ae,0).goto(y);for(;;){if(le.to!=ue.to||!sameValues(le.active,ue.active)||le.point&&(!ue.point||!le.point.eq(ue.point)))return!1;if(le.to>$)return!0;le.next(),ue.next()}}static spans(n,g,y,$,L=-1){let re=new SpanCursor(n,null,L).goto(g),ae=g,le=re.openStart;for(;;){let ue=Math.min(re.to,y);if(re.point){let he=re.activeForPoint(re.to),_e=re.pointFrom<g?he.length+1:re.point.startSide<0?he.length:Math.min(he.length,le);$.point(ae,ue,re.point,he,_e,re.pointRank),le=Math.min(re.openEnd(ue),he.length)}else ue>ae&&($.span(ae,ue,re.active,le),le=re.openEnd(ue));if(re.to>y)return le+(re.point&&re.to>y?1:0);ae=re.to,re.next()}}static of(n,g=!1){let y=new RangeSetBuilder;for(let $ of n instanceof Range$3?[n]:g?lazySort(n):n)y.add($.from,$.to,$.value);return y.finish()}static join(n){if(!n.length)return RangeSet.empty;let g=n[n.length-1];for(let y=n.length-2;y>=0;y--)for(let $=n[y];$!=RangeSet.empty;$=$.nextLayer)g=new RangeSet($.chunkPos,$.chunk,g,Math.max($.maxPoint,g.maxPoint));return g}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(r){if(r.length>1)for(let n=r[0],g=1;g<r.length;g++){let y=r[g];if(cmpRange(n,y)>0)return r.slice().sort(cmpRange);n=y}return r}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(n){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,n&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(n,g,y){this.addInner(n,g,y)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(n,g,y)}addInner(n,g,y){let $=n-this.lastTo||y.startSide-this.last.endSide;if($<=0&&(n-this.lastFrom||y.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return $<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=n),this.from.push(n-this.chunkStart),this.to.push(g-this.chunkStart),this.last=y,this.lastFrom=n,this.lastTo=g,this.value.push(y),y.point&&(this.maxPoint=Math.max(this.maxPoint,g-n)),!0)}addChunk(n,g){if((n-this.lastTo||g.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,g.maxPoint),this.chunks.push(g),this.chunkPos.push(n);let y=g.value.length-1;return this.last=g.value[y],this.lastFrom=g.from[y]+n,this.lastTo=g.to[y]+n,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(n){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return n;let g=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(n):n,this.setMaxPoint);return this.from=null,g}}function findSharedChunks(r,n,g){let y=new Map;for(let L of r)for(let re=0;re<L.chunk.length;re++)L.chunk[re].maxPoint<=0&&y.set(L.chunk[re],L.chunkPos[re]);let $=new Set;for(let L of n)for(let re=0;re<L.chunk.length;re++){let ae=y.get(L.chunk[re]);ae!=null&&(g?g.mapPos(ae):ae)==L.chunkPos[re]&&!(g!=null&&g.touchesRange(ae,ae+L.chunk[re].length))&&$.add(L.chunk[re])}return $}class LayerCursor{constructor(n,g,y,$=0){this.layer=n,this.skip=g,this.minPoint=y,this.rank=$}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(n,g=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(n,g,!1),this}gotoInner(n,g,y){for(;this.chunkIndex<this.layer.chunk.length;){let $=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has($)||this.layer.chunkEnd(this.chunkIndex)<n||$.maxPoint<this.minPoint))break;this.chunkIndex++,y=!1}if(this.chunkIndex<this.layer.chunk.length){let $=this.layer.chunk[this.chunkIndex].findIndex(n-this.layer.chunkPos[this.chunkIndex],g,!0);(!y||this.rangeIndex<$)&&this.setRangeIndex($)}this.next()}forward(n,g){(this.to-n||this.endSide-g)<0&&this.gotoInner(n,g,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let n=this.layer.chunkPos[this.chunkIndex],g=this.layer.chunk[this.chunkIndex],y=n+g.from[this.rangeIndex];if(this.from=y,this.to=n+g.to[this.rangeIndex],this.value=g.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(n){if(n==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=n}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(n){return this.from-n.from||this.startSide-n.startSide||this.rank-n.rank||this.to-n.to||this.endSide-n.endSide}}class HeapCursor{constructor(n){this.heap=n}static from(n,g=null,y=-1){let $=[];for(let L=0;L<n.length;L++)for(let re=n[L];!re.isEmpty;re=re.nextLayer)re.maxPoint>=y&&$.push(new LayerCursor(re,g,y,L));return $.length==1?$[0]:new HeapCursor($)}get startSide(){return this.value?this.value.startSide:0}goto(n,g=-1e9){for(let y of this.heap)y.goto(n,g);for(let y=this.heap.length>>1;y>=0;y--)heapBubble(this.heap,y);return this.next(),this}forward(n,g){for(let y of this.heap)y.forward(n,g);for(let y=this.heap.length>>1;y>=0;y--)heapBubble(this.heap,y);(this.to-n||this.value.endSide-g)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let n=this.heap[0];this.from=n.from,this.to=n.to,this.value=n.value,this.rank=n.rank,n.value&&n.next(),heapBubble(this.heap,0)}}}function heapBubble(r,n){for(let g=r[n];;){let y=(n<<1)+1;if(y>=r.length)break;let $=r[y];if(y+1<r.length&&$.compare(r[y+1])>=0&&($=r[y+1],y++),g.compare($)<0)break;r[y]=g,r[n]=$,n=y}}class SpanCursor{constructor(n,g,y){this.minPoint=y,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(n,g,y)}goto(n,g=-1e9){return this.cursor.goto(n,g),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=n,this.endSide=g,this.openStart=-1,this.next(),this}forward(n,g){for(;this.minActive>-1&&(this.activeTo[this.minActive]-n||this.active[this.minActive].endSide-g)<0;)this.removeActive(this.minActive);this.cursor.forward(n,g)}removeActive(n){remove(this.active,n),remove(this.activeTo,n),remove(this.activeRank,n),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(n){let g=0,{value:y,to:$,rank:L}=this.cursor;for(;g<this.activeRank.length&&(L-this.activeRank[g]||$-this.activeTo[g])>0;)g++;insert(this.active,g,y),insert(this.activeTo,g,$),insert(this.activeRank,g,L),n&&insert(n,g,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let n=this.to,g=this.point;this.point=null;let y=this.openStart<0?[]:null;for(;;){let $=this.minActive;if($>-1&&(this.activeTo[$]-this.cursor.from||this.active[$].endSide-this.cursor.startSide)<0){if(this.activeTo[$]>n){this.to=this.activeTo[$],this.endSide=this.active[$].endSide;break}this.removeActive($),y&&remove(y,$)}else if(this.cursor.value)if(this.cursor.from>n){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let L=this.cursor.value;if(!L.point)this.addActive(y),this.cursor.next();else if(g&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=L,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=L.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(y){this.openStart=0;for(let $=y.length-1;$>=0&&y[$]<n;$--)this.openStart++}}activeForPoint(n){if(!this.active.length)return this.active;let g=[];for(let y=this.active.length-1;y>=0&&!(this.activeRank[y]<this.pointRank);y--)(this.activeTo[y]>n||this.activeTo[y]==n&&this.active[y].endSide>=this.point.endSide)&&g.push(this.active[y]);return g.reverse()}openEnd(n){let g=0;for(let y=this.activeTo.length-1;y>=0&&this.activeTo[y]>n;y--)g++;return g}}function compare(r,n,g,y,$,L){r.goto(n),g.goto(y);let re=y+$,ae=y,le=y-n;for(;;){let ue=r.to+le-g.to,he=ue||r.endSide-g.endSide,_e=he<0?r.to+le:g.to,Ce=Math.min(_e,re);if(r.point||g.point?r.point&&g.point&&(r.point==g.point||r.point.eq(g.point))&&sameValues(r.activeForPoint(r.to),g.activeForPoint(g.to))||L.comparePoint(ae,Ce,r.point,g.point):Ce>ae&&!sameValues(r.active,g.active)&&L.compareRange(ae,Ce,r.active,g.active),_e>re)break;(ue||r.openEnd!=g.openEnd)&&L.boundChange&&L.boundChange(_e),ae=_e,he<=0&&r.next(),he>=0&&g.next()}}function sameValues(r,n){if(r.length!=n.length)return!1;for(let g=0;g<r.length;g++)if(r[g]!=n[g]&&!r[g].eq(n[g]))return!1;return!0}function remove(r,n){for(let g=n,y=r.length-1;g<y;g++)r[g]=r[g+1];r.pop()}function insert(r,n,g){for(let y=r.length-1;y>=n;y--)r[y+1]=r[y];r[n]=g}function findMinIndex(r,n){let g=-1,y=1e9;for(let $=0;$<n.length;$++)(n[$]-y||r[$].endSide-r[g].endSide)<0&&(g=$,y=n[$]);return g}function countColumn(r,n,g=r.length){let y=0;for(let $=0;$<g&&$<r.length;)r.charCodeAt($)==9?(y+=n-y%n,$++):(y++,$=findClusterBreak(r,$));return y}function findColumn(r,n,g,y){for(let $=0,L=0;;){if(L>=n)return $;if($==r.length)break;L+=r.charCodeAt($)==9?g-L%g:1,$=findClusterBreak(r,$)}return y===!0?-1:r.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(n,g){this.rules=[];let{finish:y}=g||{};function $(re){return/^@/.test(re)?[re]:re.split(/,\s*/)}function L(re,ae,le,ue){let he=[],_e=/^@(\w+)\b/.exec(re[0]),Ce=_e&&_e[1]=="keyframes";if(_e&&ae==null)return le.push(re[0]+";");for(let $e in ae){let Oe=ae[$e];if(/&/.test($e))L($e.split(/,\s*/).map(xe=>re.map(Ne=>xe.replace(/&/,Ne))).reduce((xe,Ne)=>xe.concat(Ne)),Oe,le);else if(Oe&&typeof Oe=="object"){if(!_e)throw new RangeError("The value of a property ("+$e+") should be a primitive value.");L($($e),Oe,he,Ce)}else Oe!=null&&he.push($e.replace(/_.*/,"").replace(/[A-Z]/g,xe=>"-"+xe.toLowerCase())+": "+Oe+";")}(he.length||Ce)&&le.push((y&&!_e&&!ue?re.map(y):re).join(", ")+" {"+he.join(" ")+"}")}for(let re in n)L($(re),n[re],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let n=top$1[COUNT]||1;return top$1[COUNT]=n+1,C+n.toString(36)}static mount(n,g,y){let $=n[SET],L=y&&y.nonce;$?L&&$.setNonce(L):$=new StyleSet(n,L),$.mount(Array.isArray(g)?g:[g],n)}}let adoptedSet=new Map;class StyleSet{constructor(n,g){let y=n.ownerDocument||n,$=y.defaultView;if(!n.head&&n.adoptedStyleSheets&&$.CSSStyleSheet){let L=adoptedSet.get(y);if(L)return n[SET]=L;this.sheet=new $.CSSStyleSheet,adoptedSet.set(y,this)}else this.styleTag=y.createElement("style"),g&&this.styleTag.setAttribute("nonce",g);this.modules=[],n[SET]=this}mount(n,g){let y=this.sheet,$=0,L=0;for(let re=0;re<n.length;re++){let ae=n[re],le=this.modules.indexOf(ae);if(le<L&&le>-1&&(this.modules.splice(le,1),L--,le=-1),le==-1){if(this.modules.splice(L++,0,ae),y)for(let ue=0;ue<ae.rules.length;ue++)y.insertRule(ae.rules[ue],$++)}else{for(;L<le;)$+=this.modules[L++].rules.length;$+=ae.rules.length,L++}}if(y)g.adoptedStyleSheets.indexOf(this.sheet)<0&&(g.adoptedStyleSheets=[this.sheet,...g.adoptedStyleSheets]);else{let re="";for(let le=0;le<this.modules.length;le++)re+=this.modules[le].getRules()+`
`;this.styleTag.textContent=re;let ae=g.head||g;this.styleTag.parentNode!=ae&&ae.insertBefore(this.styleTag,ae.firstChild)}}setNonce(n){this.styleTag&&this.styleTag.getAttribute("nonce")!=n&&this.styleTag.setAttribute("nonce",n)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(r){var n=mac&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||ie$1&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",g=!n&&r.key||(r.shiftKey?shift:base)[r.keyCode]||r.key||"Unidentified";return g=="Esc"&&(g="Escape"),g=="Del"&&(g="Delete"),g=="Left"&&(g="ArrowLeft"),g=="Up"&&(g="ArrowUp"),g=="Right"&&(g="ArrowRight"),g=="Down"&&(g="ArrowDown"),g}function getSelection(r){let n;return r.nodeType==11?n=r.getSelection?r:r.ownerDocument:n=r,n.getSelection()}function contains$1(r,n){return n?r==n||r.contains(n.nodeType!=1?n.parentNode:n):!1}function hasSelection(r,n){if(!n.anchorNode)return!1;try{return contains$1(r,n.anchorNode)}catch{return!1}}function clientRectsFor(r){return r.nodeType==3?textRange(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function isEquivalentPosition(r,n,g,y){return g?scanFor(r,n,g,y,-1)||scanFor(r,n,g,y,1):!1}function domIndex(r){for(var n=0;;n++)if(r=r.previousSibling,!r)return n}function isBlockElement(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function scanFor(r,n,g,y,$){for(;;){if(r==g&&n==y)return!0;if(n==($<0?0:maxOffset(r))){if(r.nodeName=="DIV")return!1;let L=r.parentNode;if(!L||L.nodeType!=1)return!1;n=domIndex(r)+($<0?0:1),r=L}else if(r.nodeType==1){if(r=r.childNodes[n+($<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;n=$<0?maxOffset(r):0}else return!1}}function maxOffset(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function flattenRect(r,n){let g=n?r.left:r.right;return{left:g,right:g,top:r.top,bottom:r.bottom}}function windowRect(r){let n=r.visualViewport;return n?{left:0,right:n.width,top:0,bottom:n.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function getScale(r,n){let g=n.width/r.offsetWidth,y=n.height/r.offsetHeight;return(g>.995&&g<1.005||!isFinite(g)||Math.abs(n.width-r.offsetWidth)<1)&&(g=1),(y>.995&&y<1.005||!isFinite(y)||Math.abs(n.height-r.offsetHeight)<1)&&(y=1),{scaleX:g,scaleY:y}}function scrollRectIntoView(r,n,g,y,$,L,re,ae){let le=r.ownerDocument,ue=le.defaultView||window;for(let he=r,_e=!1;he&&!_e;)if(he.nodeType==1){let Ce,$e=he==le.body,Oe=1,xe=1;if($e)Ce=windowRect(ue);else{if(/^(fixed|sticky)$/.test(getComputedStyle(he).position)&&(_e=!0),he.scrollHeight<=he.clientHeight&&he.scrollWidth<=he.clientWidth){he=he.assignedSlot||he.parentNode;continue}let Fe=he.getBoundingClientRect();({scaleX:Oe,scaleY:xe}=getScale(he,Fe)),Ce={left:Fe.left,right:Fe.left+he.clientWidth*Oe,top:Fe.top,bottom:Fe.top+he.clientHeight*xe}}let Ne=0,Ie=0;if($=="nearest")n.top<Ce.top?(Ie=n.top-(Ce.top+re),g>0&&n.bottom>Ce.bottom+Ie&&(Ie=n.bottom-Ce.bottom+re)):n.bottom>Ce.bottom&&(Ie=n.bottom-Ce.bottom+re,g<0&&n.top-Ie<Ce.top&&(Ie=n.top-(Ce.top+re)));else{let Fe=n.bottom-n.top,Ve=Ce.bottom-Ce.top;Ie=($=="center"&&Fe<=Ve?n.top+Fe/2-Ve/2:$=="start"||$=="center"&&g<0?n.top-re:n.bottom-Ve+re)-Ce.top}if(y=="nearest"?n.left<Ce.left?(Ne=n.left-(Ce.left+L),g>0&&n.right>Ce.right+Ne&&(Ne=n.right-Ce.right+L)):n.right>Ce.right&&(Ne=n.right-Ce.right+L,g<0&&n.left<Ce.left+Ne&&(Ne=n.left-(Ce.left+L))):Ne=(y=="center"?n.left+(n.right-n.left)/2-(Ce.right-Ce.left)/2:y=="start"==ae?n.left-L:n.right-(Ce.right-Ce.left)+L)-Ce.left,Ne||Ie)if($e)ue.scrollBy(Ne,Ie);else{let Fe=0,Ve=0;if(Ie){let ze=he.scrollTop;he.scrollTop+=Ie/xe,Ve=(he.scrollTop-ze)*xe}if(Ne){let ze=he.scrollLeft;he.scrollLeft+=Ne/Oe,Fe=(he.scrollLeft-ze)*Oe}n={left:n.left-Fe,top:n.top-Ve,right:n.right-Fe,bottom:n.bottom-Ve},Fe&&Math.abs(Fe-Ne)<1&&(y="nearest"),Ve&&Math.abs(Ve-Ie)<1&&($="nearest")}if($e)break;(n.top<Ce.top||n.bottom>Ce.bottom||n.left<Ce.left||n.right>Ce.right)&&(n={left:Math.max(n.left,Ce.left),right:Math.min(n.right,Ce.right),top:Math.max(n.top,Ce.top),bottom:Math.min(n.bottom,Ce.bottom)}),he=he.assignedSlot||he.parentNode}else if(he.nodeType==11)he=he.host;else break}function scrollableParents(r){let n=r.ownerDocument,g,y;for(let $=r.parentNode;$&&!($==n.body||g&&y);)if($.nodeType==1)!y&&$.scrollHeight>$.clientHeight&&(y=$),!g&&$.scrollWidth>$.clientWidth&&(g=$),$=$.assignedSlot||$.parentNode;else if($.nodeType==11)$=$.host;else break;return{x:g,y}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(n){return this.anchorNode==n.anchorNode&&this.anchorOffset==n.anchorOffset&&this.focusNode==n.focusNode&&this.focusOffset==n.focusOffset}setRange(n){let{anchorNode:g,focusNode:y}=n;this.set(g,Math.min(n.anchorOffset,g?maxOffset(g):0),y,Math.min(n.focusOffset,y?maxOffset(y):0))}set(n,g,y,$){this.anchorNode=n,this.anchorOffset=g,this.focusNode=y,this.focusOffset=$}}let preventScrollSupported=null;function focusPreventScroll(r){if(r.setActive)return r.setActive();if(preventScrollSupported)return r.focus(preventScrollSupported);let n=[];for(let g=r;g&&(n.push(g,g.scrollTop,g.scrollLeft),g!=g.ownerDocument);g=g.parentNode);if(r.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let g=0;g<n.length;){let y=n[g++],$=n[g++],L=n[g++];y.scrollTop!=$&&(y.scrollTop=$),y.scrollLeft!=L&&(y.scrollLeft=L)}}}let scratchRange;function textRange(r,n,g=n){let y=scratchRange||(scratchRange=document.createRange());return y.setEnd(r,g),y.setStart(r,n),y}function dispatchKey(r,n,g,y){let $={key:n,code:n,keyCode:g,which:g,cancelable:!0};y&&({altKey:$.altKey,ctrlKey:$.ctrlKey,shiftKey:$.shiftKey,metaKey:$.metaKey}=y);let L=new KeyboardEvent("keydown",$);L.synthetic=!0,r.dispatchEvent(L);let re=new KeyboardEvent("keyup",$);return re.synthetic=!0,r.dispatchEvent(re),L.defaultPrevented||re.defaultPrevented}function getRoot(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function clearAttributes(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function atElementStart(r,n){let g=n.focusNode,y=n.focusOffset;if(!g||n.anchorNode!=g||n.anchorOffset!=y)return!1;for(y=Math.min(y,maxOffset(g));;)if(y){if(g.nodeType!=1)return!1;let $=g.childNodes[y-1];$.contentEditable=="false"?y--:(g=$,y=maxOffset(g))}else{if(g==r)return!0;y=domIndex(g),g=g.parentNode}}function isScrolledToBottom(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function textNodeBefore(r,n){for(let g=r,y=n;;){if(g.nodeType==3&&y>0)return{node:g,offset:y};if(g.nodeType==1&&y>0){if(g.contentEditable=="false")return null;g=g.childNodes[y-1],y=maxOffset(g)}else if(g.parentNode&&!isBlockElement(g))y=domIndex(g),g=g.parentNode;else return null}}function textNodeAfter(r,n){for(let g=r,y=n;;){if(g.nodeType==3&&y<g.nodeValue.length)return{node:g,offset:y};if(g.nodeType==1&&y<g.childNodes.length){if(g.contentEditable=="false")return null;g=g.childNodes[y],y=0}else if(g.parentNode&&!isBlockElement(g))y=domIndex(g)+1,g=g.parentNode;else return null}}class DOMPos{constructor(n,g,y=!0){this.node=n,this.offset=g,this.precise=y}static before(n,g){return new DOMPos(n.parentNode,domIndex(n),g)}static after(n,g){return new DOMPos(n.parentNode,domIndex(n)+1,g)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(n){let g=this.posAtStart;for(let y of this.children){if(y==n)return g;g+=y.length+y.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(n){return this.posBefore(n)+n.length}sync(n,g){if(this.flags&2){let y=this.dom,$=null,L;for(let re of this.children){if(re.flags&7){if(!re.dom&&(L=$?$.nextSibling:y.firstChild)){let ae=ContentView.get(L);(!ae||!ae.parent&&ae.canReuseDOM(re))&&re.reuseDOM(L)}re.sync(n,g),re.flags&=-8}if(L=$?$.nextSibling:y.firstChild,g&&!g.written&&g.node==y&&L!=re.dom&&(g.written=!0),re.dom.parentNode==y)for(;L&&L!=re.dom;)L=rm$1(L);else y.insertBefore(re.dom,L);$=re.dom}for(L=$?$.nextSibling:y.firstChild,L&&g&&g.node==y&&(g.written=!0);L;)L=rm$1(L)}else if(this.flags&1)for(let y of this.children)y.flags&7&&(y.sync(n,g),y.flags&=-8)}reuseDOM(n){}localPosFromDOM(n,g){let y;if(n==this.dom)y=this.dom.childNodes[g];else{let $=maxOffset(n)==0?0:g==0?-1:1;for(;;){let L=n.parentNode;if(L==this.dom)break;$==0&&L.firstChild!=L.lastChild&&(n==L.firstChild?$=-1:$=1),n=L}$<0?y=n:y=n.nextSibling}if(y==this.dom.firstChild)return 0;for(;y&&!ContentView.get(y);)y=y.nextSibling;if(!y)return this.length;for(let $=0,L=0;;$++){let re=this.children[$];if(re.dom==y)return L;L+=re.length+re.breakAfter}}domBoundsAround(n,g,y=0){let $=-1,L=-1,re=-1,ae=-1;for(let le=0,ue=y,he=y;le<this.children.length;le++){let _e=this.children[le],Ce=ue+_e.length;if(ue<n&&Ce>g)return _e.domBoundsAround(n,g,ue);if(Ce>=n&&$==-1&&($=le,L=ue),ue>g&&_e.dom.parentNode==this.dom){re=le,ae=he;break}he=Ce,ue=Ce+_e.breakAfter}return{from:L,to:ae<0?y+this.length:ae,startDOM:($?this.children[$-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:re<this.children.length&&re>=0?this.children[re].dom:null}}markDirty(n=!1){this.flags|=2,this.markParentsDirty(n)}markParentsDirty(n){for(let g=this.parent;g;g=g.parent){if(n&&(g.flags|=2),g.flags&1)return;g.flags|=1,n=!1}}setParent(n){this.parent!=n&&(this.parent=n,this.flags&7&&this.markParentsDirty(!0))}setDOM(n){this.dom!=n&&(this.dom&&(this.dom.cmView=null),this.dom=n,n.cmView=this)}get rootView(){for(let n=this;;){let g=n.parent;if(!g)return n;n=g}}replaceChildren(n,g,y=noChildren){this.markDirty();for(let $=n;$<g;$++){let L=this.children[$];L.parent==this&&y.indexOf(L)<0&&L.destroy()}y.length<250?this.children.splice(n,g-n,...y):this.children=[].concat(this.children.slice(0,n),y,this.children.slice(g));for(let $=0;$<y.length;$++)y[$].setParent(this)}ignoreMutation(n){return!1}ignoreEvent(n){return!1}childCursor(n=this.length){return new ChildCursor(this.children,n,this.children.length)}childPos(n,g=1){return this.childCursor().findPos(n,g)}toString(){let n=this.constructor.name.replace("View","");return n+(this.children.length?"("+this.children.join()+")":this.length?"["+(n=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(n){return n.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(n,g,y,$,L,re){return!1}become(n){return!1}canReuseDOM(n){return n.constructor==this.constructor&&!((this.flags|n.flags)&8)}getSide(){return 0}destroy(){for(let n of this.children)n.parent==this&&n.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(r){let n=r.nextSibling;return r.parentNode.removeChild(r),n}class ChildCursor{constructor(n,g,y){this.children=n,this.pos=g,this.i=y,this.off=0}findPos(n,g=1){for(;;){if(n>this.pos||n==this.pos&&(g>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=n-this.pos,this;let y=this.children[--this.i];this.pos-=y.length+y.breakAfter}}}function replaceRange(r,n,g,y,$,L,re,ae,le){let{children:ue}=r,he=ue.length?ue[n]:null,_e=L.length?L[L.length-1]:null,Ce=_e?_e.breakAfter:re;if(!(n==y&&he&&!re&&!Ce&&L.length<2&&he.merge(g,$,L.length?_e:null,g==0,ae,le))){if(y<ue.length){let $e=ue[y];$e&&($<$e.length||$e.breakAfter&&(_e!=null&&_e.breakAfter))?(n==y&&($e=$e.split($),$=0),!Ce&&_e&&$e.merge(0,$,_e,!0,0,le)?L[L.length-1]=$e:(($||$e.children.length&&!$e.children[0].length)&&$e.merge(0,$,null,!1,0,le),L.push($e))):$e!=null&&$e.breakAfter&&(_e?_e.breakAfter=1:re=1),y++}for(he&&(he.breakAfter=re,g>0&&(!re&&L.length&&he.merge(g,he.length,L[0],!1,ae,0)?he.breakAfter=L.shift().breakAfter:(g<he.length||he.children.length&&he.children[he.children.length-1].length==0)&&he.merge(g,he.length,null,!1,ae,0),n++));n<y&&L.length;)if(ue[y-1].become(L[L.length-1]))y--,L.pop(),le=L.length?0:ae;else if(ue[n].become(L[0]))n++,L.shift(),ae=L.length?0:le;else break;!L.length&&n&&y<ue.length&&!ue[n-1].breakAfter&&ue[y].merge(0,0,ue[n-1],!1,ae,le)&&n--,(n<y||L.length)&&r.replaceChildren(n,y,L)}}function mergeChildrenInto(r,n,g,y,$,L){let re=r.childCursor(),{i:ae,off:le}=re.findPos(g,1),{i:ue,off:he}=re.findPos(n,-1),_e=n-g;for(let Ce of y)_e+=Ce.length;r.length+=_e,replaceRange(r,ue,he,ae,le,y,0,$,L)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(n){super(),this.text=n}get length(){return this.text.length}createDOM(n){this.setDOM(n||document.createTextNode(this.text))}sync(n,g){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(g&&g.node==this.dom&&(g.written=!0),this.dom.nodeValue=this.text)}reuseDOM(n){n.nodeType==3&&this.createDOM(n)}merge(n,g,y){return this.flags&8||y&&(!(y instanceof TextView)||this.length-(g-n)+y.length>MaxJoinLen||y.flags&8)?!1:(this.text=this.text.slice(0,n)+(y?y.text:"")+this.text.slice(g),this.markDirty(),!0)}split(n){let g=new TextView(this.text.slice(n));return this.text=this.text.slice(0,n),this.markDirty(),g.flags|=this.flags&8,g}localPosFromDOM(n,g){return n==this.dom?g:g?this.text.length:0}domAtPos(n){return new DOMPos(this.dom,n)}domBoundsAround(n,g,y){return{from:y,to:y+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(n,g){return textCoords(this.dom,n,g)}}class MarkView extends ContentView{constructor(n,g=[],y=0){super(),this.mark=n,this.children=g,this.length=y;for(let $ of g)$.setParent(this)}setAttrs(n){if(clearAttributes(n),this.mark.class&&(n.className=this.mark.class),this.mark.attrs)for(let g in this.mark.attrs)n.setAttribute(g,this.mark.attrs[g]);return n}canReuseDOM(n){return super.canReuseDOM(n)&&!((this.flags|n.flags)&8)}reuseDOM(n){n.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(n),this.flags|=6)}sync(n,g){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(n,g)}merge(n,g,y,$,L,re){return y&&(!(y instanceof MarkView&&y.mark.eq(this.mark))||n&&L<=0||g<this.length&&re<=0)?!1:(mergeChildrenInto(this,n,g,y?y.children.slice():[],L-1,re-1),this.markDirty(),!0)}split(n){let g=[],y=0,$=-1,L=0;for(let ae of this.children){let le=y+ae.length;le>n&&g.push(y<n?ae.split(n-y):ae),$<0&&y>=n&&($=L),y=le,L++}let re=this.length-n;return this.length=n,$>-1&&(this.children.length=$,this.markDirty()),new MarkView(this.mark,g,re)}domAtPos(n){return inlineDOMAtPos(this,n)}coordsAt(n,g){return coordsInChildren(this,n,g)}}function textCoords(r,n,g){let y=r.nodeValue.length;n>y&&(n=y);let $=n,L=n,re=0;n==0&&g<0||n==y&&g>=0?browser.chrome||browser.gecko||(n?($--,re=1):L<y&&(L++,re=-1)):g<0?$--:L<y&&L++;let ae=textRange(r,$,L).getClientRects();if(!ae.length)return null;let le=ae[(re?re<0:g>=0)?0:ae.length-1];return browser.safari&&!re&&le.width==0&&(le=Array.prototype.find.call(ae,ue=>ue.width)||le),re?flattenRect(le,re<0):le||null}class WidgetView extends ContentView{static create(n,g,y){return new WidgetView(n,g,y)}constructor(n,g,y){super(),this.widget=n,this.length=g,this.side=y,this.prevWidget=null}split(n){let g=WidgetView.create(this.widget,this.length-n,this.side);return this.length-=n,g}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(n,g,y,$,L,re){return y&&(!(y instanceof WidgetView)||!this.widget.compare(y.widget)||n>0&&L<=0||g<this.length&&re<=0)?!1:(this.length=n+(y?y.length:0)+(this.length-g),!0)}become(n){return n instanceof WidgetView&&n.side==this.side&&this.widget.constructor==n.widget.constructor?(this.widget.compare(n.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get overrideDOMText(){if(this.length==0)return Text.empty;let n=this;for(;n.parent;)n=n.parent;let{view:g}=n,y=g&&g.state.doc,$=this.posAtStart;return y?y.slice($,$+this.length):Text.empty}domAtPos(n){return(this.length?n==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,n==this.length)}domBoundsAround(){return null}coordsAt(n,g){let y=this.widget.coordsAt(this.dom,n,g);if(y)return y;let $=this.dom.getClientRects(),L=null;if(!$.length)return null;let re=this.side?this.side<0:n>0;for(let ae=re?$.length-1:0;L=$[ae],!(n>0?ae==0:ae==$.length-1||L.top<L.bottom);ae+=re?-1:1);return flattenRect(L,!re)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(n){super(),this.side=n}get length(){return 0}merge(){return!1}become(n){return n instanceof WidgetBufferView&&n.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),this.setDOM(n)}}getSide(){return this.side}domAtPos(n){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(n){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(r,n){let g=r.dom,{children:y}=r,$=0;for(let L=0;$<y.length;$++){let re=y[$],ae=L+re.length;if(!(ae==L&&re.getSide()<=0)){if(n>L&&n<ae&&re.dom.parentNode==g)return re.domAtPos(n-L);if(n<=L)break;L=ae}}for(let L=$;L>0;L--){let re=y[L-1];if(re.dom.parentNode==g)return re.domAtPos(re.length)}for(let L=$;L<y.length;L++){let re=y[L];if(re.dom.parentNode==g)return re.domAtPos(0)}return new DOMPos(g,0)}function joinInlineInto(r,n,g){let y,{children:$}=r;g>0&&n instanceof MarkView&&$.length&&(y=$[$.length-1])instanceof MarkView&&y.mark.eq(n.mark)?joinInlineInto(y,n.children[0],g-1):($.push(n),n.setParent(r)),r.length+=n.length}function coordsInChildren(r,n,g){let y=null,$=-1,L=null,re=-1;function ae(ue,he){for(let _e=0,Ce=0;_e<ue.children.length&&Ce<=he;_e++){let $e=ue.children[_e],Oe=Ce+$e.length;Oe>=he&&($e.children.length?ae($e,he-Ce):(!L||L.isHidden&&(g>0||onSameLine(L,$e)))&&(Oe>he||Ce==Oe&&$e.getSide()>0)?(L=$e,re=he-Ce):(Ce<he||Ce==Oe&&$e.getSide()<0&&!$e.isHidden)&&(y=$e,$=he-Ce)),Ce=Oe}}ae(r,n);let le=(g<0?y:L)||y||L;return le?le.coordsAt(Math.max(0,le==y?$:re),g):fallbackRect(r)}function fallbackRect(r){let n=r.dom.lastChild;if(!n)return r.dom.getBoundingClientRect();let g=clientRectsFor(n);return g[g.length-1]||null}function onSameLine(r,n){let g=r.coordsAt(0,1),y=n.coordsAt(0,1);return g&&y&&y.top<g.bottom}function combineAttrs(r,n){for(let g in r)g=="class"&&n.class?n.class+=" "+r.class:g=="style"&&n.style?n.style+=";"+r.style:n[g]=r[g];return n}const noAttrs$1=Object.create(null);function attrsEq(r,n,g){if(r==n)return!0;r||(r=noAttrs$1),n||(n=noAttrs$1);let y=Object.keys(r),$=Object.keys(n);if(y.length-(g&&y.indexOf(g)>-1?1:0)!=$.length-(g&&$.indexOf(g)>-1?1:0))return!1;for(let L of y)if(L!=g&&($.indexOf(L)==-1||r[L]!==n[L]))return!1;return!0}function updateAttrs(r,n,g){let y=!1;if(n)for(let $ in n)g&&$ in g||(y=!0,$=="style"?r.style.cssText="":r.removeAttribute($));if(g)for(let $ in g)n&&n[$]==g[$]||(y=!0,$=="style"?r.style.cssText=g[$]:r.setAttribute($,g[$]));return y}function getAttrs(r){let n=Object.create(null);for(let g=0;g<r.attributes.length;g++){let y=r.attributes[g];n[y.name]=y.value}return n}class WidgetType{eq(n){return!1}updateDOM(n,g){return!1}compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(n){return!0}coordsAt(n,g,y){return null}get isHidden(){return!1}get editable(){return!1}destroy(n){}}var BlockType=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(n,g,y,$){super(),this.startSide=n,this.endSide=g,this.widget=y,this.spec=$}get heightRelevant(){return!1}static mark(n){return new MarkDecoration(n)}static widget(n){let g=Math.max(-1e4,Math.min(1e4,n.side||0)),y=!!n.block;return g+=y&&!n.inlineOrder?g>0?3e8:-4e8:g>0?1e8:-1e8,new PointDecoration(n,g,g,y,n.widget||null,!1)}static replace(n){let g=!!n.block,y,$;if(n.isBlockGap)y=-5e8,$=4e8;else{let{start:L,end:re}=getInclusive(n,g);y=(L?g?-3e8:-1:5e8)-1,$=(re?g?2e8:1:-6e8)+1}return new PointDecoration(n,y,$,g,n.widget||null,!0)}static line(n){return new LineDecoration(n)}static set(n,g=!1){return RangeSet.of(n,g)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(n){let{start:g,end:y}=getInclusive(n);super(g?-1:5e8,y?1:-6e8,null,n),this.tagName=n.tagName||"span",this.class=n.class||"",this.attrs=n.attributes||null}eq(n){var g,y;return this==n||n instanceof MarkDecoration&&this.tagName==n.tagName&&(this.class||((g=this.attrs)===null||g===void 0?void 0:g.class))==(n.class||((y=n.attrs)===null||y===void 0?void 0:y.class))&&attrsEq(this.attrs,n.attrs,"class")}range(n,g=n){if(n>=g)throw new RangeError("Mark decorations may not be empty");return super.range(n,g)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(n){super(-2e8,-2e8,null,n)}eq(n){return n instanceof LineDecoration&&this.spec.class==n.spec.class&&attrsEq(this.spec.attributes,n.spec.attributes)}range(n,g=n){if(g!=n)throw new RangeError("Line decoration ranges must be zero-length");return super.range(n,g)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(n,g,y,$,L,re){super(g,y,L,n),this.block=$,this.isReplace=re,this.mapMode=$?g<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(n){return n instanceof PointDecoration&&widgetsEq(this.widget,n.widget)&&this.block==n.block&&this.startSide==n.startSide&&this.endSide==n.endSide}range(n,g=n){if(this.isReplace&&(n>g||n==g&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&g!=n)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(n,g)}}PointDecoration.prototype.point=!0;function getInclusive(r,n=!1){let{inclusiveStart:g,inclusiveEnd:y}=r;return g==null&&(g=r.inclusive),y==null&&(y=r.inclusive),{start:g??n,end:y??n}}function widgetsEq(r,n){return r==n||!!(r&&n&&r.compare(n))}function addRange(r,n,g,y=0){let $=g.length-1;$>=0&&g[$]+y>=r?g[$]=Math.max(g[$],n):g.push(r,n)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(n,g,y,$,L,re){if(y){if(!(y instanceof LineView))return!1;this.dom||y.transferDOM(this)}return $&&this.setDeco(y?y.attrs:null),mergeChildrenInto(this,n,g,y?y.children.slice():[],L,re),!0}split(n){let g=new LineView;if(g.breakAfter=this.breakAfter,this.length==0)return g;let{i:y,off:$}=this.childPos(n);$&&(g.append(this.children[y].split($),0),this.children[y].merge($,this.children[y].length,null,!1,0,0),y++);for(let L=y;L<this.children.length;L++)g.append(this.children[L],0);for(;y>0&&this.children[y-1].length==0;)this.children[--y].destroy();return this.children.length=y,this.markDirty(),this.length=n,g}transferDOM(n){this.dom&&(this.markDirty(),n.setDOM(this.dom),n.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(n){attrsEq(this.attrs,n)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=n)}append(n,g){joinInlineInto(this,n,g)}addLineDeco(n){let g=n.spec.attributes,y=n.spec.class;g&&(this.attrs=combineAttrs(g,this.attrs||{})),y&&(this.attrs=combineAttrs({class:y},this.attrs||{}))}domAtPos(n){return inlineDOMAtPos(this,n)}reuseDOM(n){n.nodeName=="DIV"&&(this.setDOM(n),this.flags|=6)}sync(n,g){var y;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(n,g);let $=this.dom.lastChild;for(;$&&ContentView.get($)instanceof MarkView;)$=$.lastChild;if(!$||!this.length||$.nodeName!="BR"&&((y=ContentView.get($))===null||y===void 0?void 0:y.isEditable)==!1&&(!browser.ios||!this.children.some(L=>L instanceof TextView))){let L=document.createElement("BR");L.cmIgnore=!0,this.dom.appendChild(L)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let n=0,g;for(let y of this.children){if(!(y instanceof TextView)||/[^ -~]/.test(y.text))return null;let $=clientRectsFor(y.dom);if($.length!=1)return null;n+=$[0].width,g=$[0].height}return n?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:n/this.length,textHeight:g}:null}coordsAt(n,g){let y=coordsInChildren(this,n,g);if(!this.children.length&&y&&this.parent){let{heightOracle:$}=this.parent.view.viewState,L=y.bottom-y.top;if(Math.abs(L-$.lineHeight)<2&&$.textHeight<L){let re=(L-$.textHeight)/2;return{top:y.top+re,bottom:y.bottom-re,left:y.left,right:y.left}}}return y}become(n){return n instanceof LineView&&this.children.length==0&&n.children.length==0&&attrsEq(this.attrs,n.attrs)&&this.breakAfter==n.breakAfter}covers(){return!0}static find(n,g){for(let y=0,$=0;y<n.children.length;y++){let L=n.children[y],re=$+L.length;if(re>=g){if(L instanceof LineView)return L;if(re>g)break}$=re+L.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(n,g,y){super(),this.widget=n,this.length=g,this.deco=y,this.breakAfter=0,this.prevWidget=null}merge(n,g,y,$,L,re){return y&&(!(y instanceof BlockWidgetView)||!this.widget.compare(y.widget)||n>0&&L<=0||g<this.length&&re<=0)?!1:(this.length=n+(y?y.length:0)+(this.length-g),!0)}domAtPos(n){return n==0?DOMPos.before(this.dom):DOMPos.after(this.dom,n==this.length)}split(n){let g=this.length-n;this.length=n;let y=new BlockWidgetView(this.widget,g,this.deco);return y.breakAfter=this.breakAfter,y}get children(){return noChildren}sync(n){(!this.dom||!this.widget.updateDOM(this.dom,n))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(n)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(n){return n instanceof BlockWidgetView&&n.widget.constructor==this.widget.constructor?(n.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=n.widget,this.length=n.length,this.deco=n.deco,this.breakAfter=n.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(n){return this.widget.ignoreEvent(n)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(n,g){let y=this.widget.coordsAt(this.dom,n,g);return y||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?n==0:g<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(n){let{startSide:g,endSide:y}=this.deco;return g==y?!1:n<0?g<0:y>0}}class BlockGapWidget extends WidgetType{constructor(n){super(),this.height=n}toDOM(){let n=document.createElement("div");return n.className="cm-gap",this.updateDOM(n),n}eq(n){return n.height==this.height}updateDOM(n){return n.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(n,g,y,$){this.doc=n,this.pos=g,this.end=y,this.disallowBlockEffectsFor=$,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=n.iter(),this.skip=g}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let n=this.content[this.content.length-1];return!(n.breakAfter||n instanceof BlockWidgetView&&n.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(n=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),n),n.length),this.pendingBuffer=0)}addBlockWidget(n){this.flushBuffer(),this.curLine=null,this.content.push(n)}finish(n){this.pendingBuffer&&n<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(n&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(n,g,y){for(;n>0;){if(this.textOff==this.text.length){let{value:L,lineBreak:re,done:ae}=this.cursor.next(this.skip);if(this.skip=0,ae)throw new Error("Ran out of text content when drawing inline views");if(re){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,n--;continue}else this.text=L,this.textOff=0}let $=Math.min(this.text.length-this.textOff,n,512);this.flushBuffer(g.slice(g.length-y)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+$)),g),y),this.atCursorPos=!0,this.textOff+=$,n-=$,y=0}}span(n,g,y,$){this.buildText(g-n,y,$),this.pos=g,this.openStart<0&&(this.openStart=$)}point(n,g,y,$,L,re){if(this.disallowBlockEffectsFor[re]&&y instanceof PointDecoration){if(y.block)throw new RangeError("Block decorations may not be specified via plugins");if(g>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let ae=g-n;if(y instanceof PointDecoration)if(y.block)y.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(y.widget||NullWidget.block,ae,y));else{let le=WidgetView.create(y.widget||NullWidget.inline,ae,ae?0:y.startSide),ue=this.atCursorPos&&!le.isEditable&&L<=$.length&&(n<g||y.startSide>0),he=!le.isEditable&&(n<g||L>$.length||y.startSide<=0),_e=this.getLine();this.pendingBuffer==2&&!ue&&!le.isEditable&&(this.pendingBuffer=0),this.flushBuffer($),ue&&(_e.append(wrapMarks(new WidgetBufferView(1),$),L),L=$.length+Math.max(0,L-$.length)),_e.append(wrapMarks(le,$),L),this.atCursorPos=he,this.pendingBuffer=he?n<g||L>$.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=$.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(y);ae&&(this.textOff+ae<=this.text.length?this.textOff+=ae:(this.skip+=ae-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=g),this.openStart<0&&(this.openStart=L)}static build(n,g,y,$,L){let re=new ContentBuilder(n,g,y,L);return re.openEnd=RangeSet.spans($,g,y,re),re.openStart<0&&(re.openStart=re.openEnd),re.finish(re.openEnd),re}}function wrapMarks(r,n){for(let g of n)r=new MarkView(g,[r],r.length);return r}class NullWidget extends WidgetType{constructor(n){super(),this.tag=n}eq(n){return n.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(n){return n.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(r){let n=[];for(let g=0;g<r.length;g++)n.push(1<<+r[g]);return n}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let r of["()","[]","{}"]){let n=r.charCodeAt(0),g=r.charCodeAt(1);Brackets[n]=g,Brackets[g]=-n}function charType(r){return r<=247?LowTypes[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?ArabicTypes[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(n,g,y){this.from=n,this.to=g,this.level=y}side(n,g){return this.dir==g==n?this.to:this.from}forward(n,g){return n==(this.dir==g)}static find(n,g,y,$){let L=-1;for(let re=0;re<n.length;re++){let ae=n[re];if(ae.from<=g&&ae.to>=g){if(ae.level==y)return re;(L<0||($!=0?$<0?ae.from<g:ae.to>g:n[L].level>ae.level))&&(L=re)}}if(L<0)throw new RangeError("Index out of range");return L}}function isolatesEq(r,n){if(r.length!=n.length)return!1;for(let g=0;g<r.length;g++){let y=r[g],$=n[g];if(y.from!=$.from||y.to!=$.to||y.direction!=$.direction||!isolatesEq(y.inner,$.inner))return!1}return!0}const types=[];function computeCharTypes(r,n,g,y,$){for(let L=0;L<=y.length;L++){let re=L?y[L-1].to:n,ae=L<y.length?y[L].from:g,le=L?256:$;for(let ue=re,he=le,_e=le;ue<ae;ue++){let Ce=charType(r.charCodeAt(ue));Ce==512?Ce=he:Ce==8&&_e==4&&(Ce=16),types[ue]=Ce==4?2:Ce,Ce&7&&(_e=Ce),he=Ce}for(let ue=re,he=le,_e=le;ue<ae;ue++){let Ce=types[ue];if(Ce==128)ue<ae-1&&he==types[ue+1]&&he&24?Ce=types[ue]=he:types[ue]=256;else if(Ce==64){let $e=ue+1;for(;$e<ae&&types[$e]==64;)$e++;let Oe=ue&&he==8||$e<g&&types[$e]==8?_e==1?1:8:256;for(let xe=ue;xe<$e;xe++)types[xe]=Oe;ue=$e-1}else Ce==8&&_e==1&&(types[ue]=1);he=Ce,Ce&7&&(_e=Ce)}}}function processBracketPairs(r,n,g,y,$){let L=$==1?2:1;for(let re=0,ae=0,le=0;re<=y.length;re++){let ue=re?y[re-1].to:n,he=re<y.length?y[re].from:g;for(let _e=ue,Ce,$e,Oe;_e<he;_e++)if($e=Brackets[Ce=r.charCodeAt(_e)])if($e<0){for(let xe=ae-3;xe>=0;xe-=3)if(BracketStack[xe+1]==-$e){let Ne=BracketStack[xe+2],Ie=Ne&2?$:Ne&4?Ne&1?L:$:0;Ie&&(types[_e]=types[BracketStack[xe]]=Ie),ae=xe;break}}else{if(BracketStack.length==189)break;BracketStack[ae++]=_e,BracketStack[ae++]=Ce,BracketStack[ae++]=le}else if((Oe=types[_e])==2||Oe==1){let xe=Oe==$;le=xe?0:1;for(let Ne=ae-3;Ne>=0;Ne-=3){let Ie=BracketStack[Ne+2];if(Ie&2)break;if(xe)BracketStack[Ne+2]|=2;else{if(Ie&4)break;BracketStack[Ne+2]|=4}}}}}function processNeutrals(r,n,g,y){for(let $=0,L=y;$<=g.length;$++){let re=$?g[$-1].to:r,ae=$<g.length?g[$].from:n;for(let le=re;le<ae;){let ue=types[le];if(ue==256){let he=le+1;for(;;)if(he==ae){if($==g.length)break;he=g[$++].to,ae=$<g.length?g[$].from:n}else if(types[he]==256)he++;else break;let _e=L==1,Ce=(he<n?types[he]:y)==1,$e=_e==Ce?_e?1:2:y;for(let Oe=he,xe=$,Ne=xe?g[xe-1].to:r;Oe>le;)Oe==Ne&&(Oe=g[--xe].from,Ne=xe?g[xe-1].to:r),types[--Oe]=$e;le=he}else L=ue,le++}}}function emitSpans(r,n,g,y,$,L,re){let ae=y%2?2:1;if(y%2==$%2)for(let le=n,ue=0;le<g;){let he=!0,_e=!1;if(ue==L.length||le<L[ue].from){let xe=types[le];xe!=ae&&(he=!1,_e=xe==16)}let Ce=!he&&ae==1?[]:null,$e=he?y:y+1,Oe=le;e:for(;;)if(ue<L.length&&Oe==L[ue].from){if(_e)break e;let xe=L[ue];if(!he)for(let Ne=xe.to,Ie=ue+1;;){if(Ne==g)break e;if(Ie<L.length&&L[Ie].from==Ne)Ne=L[Ie++].to;else{if(types[Ne]==ae)break e;break}}if(ue++,Ce)Ce.push(xe);else{xe.from>le&&re.push(new BidiSpan(le,xe.from,$e));let Ne=xe.direction==LTR!=!($e%2);computeSectionOrder(r,Ne?y+1:y,$,xe.inner,xe.from,xe.to,re),le=xe.to}Oe=xe.to}else{if(Oe==g||(he?types[Oe]!=ae:types[Oe]==ae))break;Oe++}Ce?emitSpans(r,le,Oe,y+1,$,Ce,re):le<Oe&&re.push(new BidiSpan(le,Oe,$e)),le=Oe}else for(let le=g,ue=L.length;le>n;){let he=!0,_e=!1;if(!ue||le>L[ue-1].to){let xe=types[le-1];xe!=ae&&(he=!1,_e=xe==16)}let Ce=!he&&ae==1?[]:null,$e=he?y:y+1,Oe=le;e:for(;;)if(ue&&Oe==L[ue-1].to){if(_e)break e;let xe=L[--ue];if(!he)for(let Ne=xe.from,Ie=ue;;){if(Ne==n)break e;if(Ie&&L[Ie-1].to==Ne)Ne=L[--Ie].from;else{if(types[Ne-1]==ae)break e;break}}if(Ce)Ce.push(xe);else{xe.to<le&&re.push(new BidiSpan(xe.to,le,$e));let Ne=xe.direction==LTR!=!($e%2);computeSectionOrder(r,Ne?y+1:y,$,xe.inner,xe.from,xe.to,re),le=xe.from}Oe=xe.from}else{if(Oe==n||(he?types[Oe-1]!=ae:types[Oe-1]==ae))break;Oe--}Ce?emitSpans(r,Oe,le,y+1,$,Ce,re):Oe<le&&re.push(new BidiSpan(Oe,le,$e)),le=Oe}}function computeSectionOrder(r,n,g,y,$,L,re){let ae=n%2?2:1;computeCharTypes(r,$,L,y,ae),processBracketPairs(r,$,L,y,ae),processNeutrals($,L,y,ae),emitSpans(r,$,L,n,g,y,re)}function computeOrder(r,n,g){if(!r)return[new BidiSpan(0,0,n==RTL?1:0)];if(n==LTR&&!g.length&&!BidiRE.test(r))return trivialOrder(r.length);if(g.length)for(;r.length>types.length;)types[types.length]=256;let y=[],$=n==LTR?0:1;return computeSectionOrder(r,$,$,g,0,r.length,y),y}function trivialOrder(r){return[new BidiSpan(0,r,0)]}let movedOver="";function moveVisually(r,n,g,y,$){var L;let re=y.head-r.from,ae=BidiSpan.find(n,re,(L=y.bidiLevel)!==null&&L!==void 0?L:-1,y.assoc),le=n[ae],ue=le.side($,g);if(re==ue){let Ce=ae+=$?1:-1;if(Ce<0||Ce>=n.length)return null;le=n[ae=Ce],re=le.side(!$,g),ue=le.side($,g)}let he=findClusterBreak(r.text,re,le.forward($,g));(he<le.from||he>le.to)&&(he=ue),movedOver=r.text.slice(Math.min(re,he),Math.max(re,he));let _e=ae==($?n.length-1:0)?null:n[ae+($?1:-1)];return _e&&he==ue&&_e.level+($?0:1)<le.level?EditorSelection.cursor(_e.side(!$,g)+r.from,_e.forward($,g)?1:-1,_e.level):EditorSelection.cursor(he+r.from,le.forward($,g)?-1:1,le.level)}function autoDirection(r,n,g){for(let y=n;y<g;y++){let $=charType(r.charCodeAt(y));if($==1)return LTR;if($==2||$==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:r=>r.some(n=>n)}),nativeSelectionHidden=Facet.define({combine:r=>r.some(n=>n)}),scrollHandler=Facet.define();class ScrollTarget{constructor(n,g="nearest",y="nearest",$=5,L=5,re=!1){this.range=n,this.y=g,this.x=y,this.yMargin=$,this.xMargin=L,this.isSnapshot=re}map(n){return n.empty?this:new ScrollTarget(this.range.map(n),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(n){return this.range.to<=n.doc.length?this:new ScrollTarget(EditorSelection.cursor(n.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(r,n)=>r.map(n)}),setEditContextFormatting=StateEffect.define();function logException(r,n,g){let y=r.facet(exceptionSink);y.length?y[0](n):window.onerror?window.onerror(String(n),g,void 0,void 0,n):g?console.error(g+":",n):console.error(n)}const editable=Facet.define({combine:r=>r.length?r[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(n,g,y,$,L){this.id=n,this.create=g,this.domEventHandlers=y,this.domEventObservers=$,this.extension=L(this)}static define(n,g){const{eventHandlers:y,eventObservers:$,provide:L,decorations:re}=g||{};return new ViewPlugin(nextPluginID++,n,y,$,ae=>{let le=[viewPlugin.of(ae)];return re&&le.push(decorations.of(ue=>{let he=ue.plugin(ae);return he?re(he):Decoration.none})),L&&le.push(L(ae)),le})}static fromClass(n,g){return ViewPlugin.define(y=>new n(y),g)}}class PluginInstance{constructor(n){this.spec=n,this.mustUpdate=null,this.value=null}update(n){if(this.value){if(this.mustUpdate){let g=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(g)}catch(y){if(logException(g.state,y,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(n)}catch(g){logException(n.state,g,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(n){var g;if(!((g=this.value)===null||g===void 0)&&g.destroy)try{this.value.destroy()}catch(y){logException(n.state,y,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(r,n){let g=r.state.facet(bidiIsolatedRanges);if(!g.length)return g;let y=g.map(L=>L instanceof Function?L(r):L),$=[];return RangeSet.spans(y,n.from,n.to,{point(){},span(L,re,ae,le){let ue=L-n.from,he=re-n.from,_e=$;for(let Ce=ae.length-1;Ce>=0;Ce--,le--){let $e=ae[Ce].spec.bidiIsolate,Oe;if($e==null&&($e=autoDirection(n.text,ue,he)),le>0&&_e.length&&(Oe=_e[_e.length-1]).to==ue&&Oe.direction==$e)Oe.to=he,_e=Oe.inner;else{let xe={from:ue,to:he,direction:$e,inner:[]};_e.push(xe),_e=xe.inner}}}}),$}const scrollMargins=Facet.define();function getScrollMargins(r){let n=0,g=0,y=0,$=0;for(let L of r.state.facet(scrollMargins)){let re=L(r);re&&(re.left!=null&&(n=Math.max(n,re.left)),re.right!=null&&(g=Math.max(g,re.right)),re.top!=null&&(y=Math.max(y,re.top)),re.bottom!=null&&($=Math.max($,re.bottom)))}return{left:n,right:g,top:y,bottom:$}}const styleModule=Facet.define();class ChangedRange{constructor(n,g,y,$){this.fromA=n,this.toA=g,this.fromB=y,this.toB=$}join(n){return new ChangedRange(Math.min(this.fromA,n.fromA),Math.max(this.toA,n.toA),Math.min(this.fromB,n.fromB),Math.max(this.toB,n.toB))}addToSet(n){let g=n.length,y=this;for(;g>0;g--){let $=n[g-1];if(!($.fromA>y.toA)){if($.toA<y.fromA)break;y=y.join($),n.splice(g-1,1)}}return n.splice(g,0,y),n}static extendWithRanges(n,g){if(g.length==0)return n;let y=[];for(let $=0,L=0,re=0,ae=0;;$++){let le=$==n.length?null:n[$],ue=re-ae,he=le?le.fromB:1e9;for(;L<g.length&&g[L]<he;){let _e=g[L],Ce=g[L+1],$e=Math.max(ae,_e),Oe=Math.min(he,Ce);if($e<=Oe&&new ChangedRange($e+ue,Oe+ue,$e,Oe).addToSet(y),Ce>he)break;L+=2}if(!le)return y;new ChangedRange(le.fromA,le.toA,le.fromB,le.toB).addToSet(y),re=le.toA,ae=le.toB}}}class ViewUpdate{constructor(n,g,y){this.view=n,this.state=g,this.transactions=y,this.flags=0,this.startState=n.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let L of y)this.changes=this.changes.compose(L.changes);let $=[];this.changes.iterChangedRanges((L,re,ae,le)=>$.push(new ChangedRange(L,re,ae,le))),this.changedRanges=$}static create(n,g,y){return new ViewUpdate(n,g,y)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(n=>n.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(n){super(),this.view=n,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(n.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,n.state.doc.length)],0,null)}update(n){var g;let y=n.changedRanges;this.minWidth>0&&y.length&&(y.every(({fromA:ue,toA:he})=>he<this.minWidthFrom||ue>this.minWidthTo)?(this.minWidthFrom=n.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=n.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(n);let $=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((g=this.domChanged)===null||g===void 0)&&g.newSel?$=this.domChanged.newSel.head:!touchesComposition(n.changes,this.hasComposition)&&!n.selectionSet&&($=n.state.selection.main.head));let L=$>-1?findCompositionRange(this.view,n.changes,$):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:ue,to:he}=this.hasComposition;y=new ChangedRange(ue,he,n.changes.mapPos(ue,-1),n.changes.mapPos(he,1)).addToSet(y.slice())}this.hasComposition=L?{from:L.range.fromB,to:L.range.toB}:null,(browser.ie||browser.chrome)&&!L&&n&&n.state.doc.lines!=n.startState.doc.lines&&(this.forceSelection=!0);let re=this.decorations,ae=this.updateDeco(),le=findChangedDeco(re,ae,n.changes);return y=ChangedRange.extendWithRanges(y,le),!(this.flags&7)&&y.length==0?!1:(this.updateInner(y,n.startState.doc.length,L),n.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(n,g,y){this.view.viewState.mustMeasureContent=!0,this.updateChildren(n,g,y);let{observer:$}=this.view;$.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let re=browser.chrome||browser.ios?{node:$.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,re),this.flags&=-8,re&&(re.written||$.selectionRange.focusNode!=re.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(re=>re.flags&=-9);let L=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let re of this.children)re instanceof BlockWidgetView&&re.widget instanceof BlockGapWidget&&L.push(re.dom);$.updateGaps(L)}updateChildren(n,g,y){let $=y?y.range.addToSet(n.slice()):n,L=this.childCursor(g);for(let re=$.length-1;;re--){let ae=re>=0?$[re]:null;if(!ae)break;let{fromA:le,toA:ue,fromB:he,toB:_e}=ae,Ce,$e,Oe,xe;if(y&&y.range.fromB<_e&&y.range.toB>he){let ze=ContentBuilder.build(this.view.state.doc,he,y.range.fromB,this.decorations,this.dynamicDecorationMap),Ue=ContentBuilder.build(this.view.state.doc,y.range.toB,_e,this.decorations,this.dynamicDecorationMap);$e=ze.breakAtStart,Oe=ze.openStart,xe=Ue.openEnd;let qe=this.compositionView(y);Ue.breakAtStart?qe.breakAfter=1:Ue.content.length&&qe.merge(qe.length,qe.length,Ue.content[0],!1,Ue.openStart,0)&&(qe.breakAfter=Ue.content[0].breakAfter,Ue.content.shift()),ze.content.length&&qe.merge(0,0,ze.content[ze.content.length-1],!0,0,ze.openEnd)&&ze.content.pop(),Ce=ze.content.concat(qe).concat(Ue.content)}else({content:Ce,breakAtStart:$e,openStart:Oe,openEnd:xe}=ContentBuilder.build(this.view.state.doc,he,_e,this.decorations,this.dynamicDecorationMap));let{i:Ne,off:Ie}=L.findPos(ue,1),{i:Fe,off:Ve}=L.findPos(le,-1);replaceRange(this,Fe,Ve,Ne,Ie,Ce,$e,Oe,xe)}y&&this.fixCompositionDOM(y)}updateEditContextFormatting(n){this.editContextFormatting=this.editContextFormatting.map(n.changes);for(let g of n.transactions)for(let y of g.effects)y.is(setEditContextFormatting)&&(this.editContextFormatting=y.value)}compositionView(n){let g=new TextView(n.text.nodeValue);g.flags|=8;for(let{deco:$}of n.marks)g=new MarkView($,[g],g.length);let y=new LineView;return y.append(g,0),y}fixCompositionDOM(n){let g=(L,re)=>{re.flags|=8|(re.children.some(le=>le.flags&7)?1:0),this.markedForComposition.add(re);let ae=ContentView.get(L);ae&&ae!=re&&(ae.dom=null),re.setDOM(L)},y=this.childPos(n.range.fromB,1),$=this.children[y.i];g(n.line,$);for(let L=n.marks.length-1;L>=-1;L--)y=$.childPos(y.off,1),$=$.children[y.i],g(L>=0?n.marks[L].node:n.text,$)}updateSelection(n=!1,g=!1){(n||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let y=this.view.root.activeElement,$=y==this.dom,L=!$&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(y&&this.dom.contains(y));if(!($||g||L))return;let re=this.forceSelection;this.forceSelection=!1;let ae=this.view.state.selection.main,le=this.moveToLine(this.domAtPos(ae.anchor)),ue=ae.empty?le:this.moveToLine(this.domAtPos(ae.head));if(browser.gecko&&ae.empty&&!this.hasComposition&&betweenUneditable(le)){let _e=document.createTextNode("");this.view.observer.ignore(()=>le.node.insertBefore(_e,le.node.childNodes[le.offset]||null)),le=ue=new DOMPos(_e,0),re=!0}let he=this.view.observer.selectionRange;(re||!he.focusNode||(!isEquivalentPosition(le.node,le.offset,he.anchorNode,he.anchorOffset)||!isEquivalentPosition(ue.node,ue.offset,he.focusNode,he.focusOffset))&&!this.suppressWidgetCursorChange(he,ae))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(he.focusNode)&&inUneditable(he.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let _e=getSelection(this.view.root);if(_e)if(ae.empty){if(browser.gecko){let Ce=nextToUneditable(le.node,le.offset);if(Ce&&Ce!=3){let $e=(Ce==1?textNodeBefore:textNodeAfter)(le.node,le.offset);$e&&(le=new DOMPos($e.node,$e.offset))}}_e.collapse(le.node,le.offset),ae.bidiLevel!=null&&_e.caretBidiLevel!==void 0&&(_e.caretBidiLevel=ae.bidiLevel)}else if(_e.extend){_e.collapse(le.node,le.offset);try{_e.extend(ue.node,ue.offset)}catch{}}else{let Ce=document.createRange();ae.anchor>ae.head&&([le,ue]=[ue,le]),Ce.setEnd(ue.node,ue.offset),Ce.setStart(le.node,le.offset),_e.removeAllRanges(),_e.addRange(Ce)}L&&this.view.root.activeElement==this.dom&&(this.dom.blur(),y&&y.focus())}),this.view.observer.setSelectionRange(le,ue)),this.impreciseAnchor=le.precise?null:new DOMPos(he.anchorNode,he.anchorOffset),this.impreciseHead=ue.precise?null:new DOMPos(he.focusNode,he.focusOffset)}suppressWidgetCursorChange(n,g){return this.hasComposition&&g.empty&&isEquivalentPosition(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)&&this.posFromDOM(n.focusNode,n.focusOffset)==g.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:n}=this,g=n.state.selection.main,y=getSelection(n.root),{anchorNode:$,anchorOffset:L}=n.observer.selectionRange;if(!y||!g.empty||!g.assoc||!y.modify)return;let re=LineView.find(this,g.head);if(!re)return;let ae=re.posAtStart;if(g.head==ae||g.head==ae+re.length)return;let le=this.coordsAt(g.head,-1),ue=this.coordsAt(g.head,1);if(!le||!ue||le.bottom>ue.top)return;let he=this.domAtPos(g.head+g.assoc);y.collapse(he.node,he.offset),y.modify("move",g.assoc<0?"forward":"backward","lineboundary"),n.observer.readSelectionRange();let _e=n.observer.selectionRange;n.docView.posFromDOM(_e.anchorNode,_e.anchorOffset)!=g.from&&y.collapse($,L)}moveToLine(n){let g=this.dom,y;if(n.node!=g)return n;for(let $=n.offset;!y&&$<g.childNodes.length;$++){let L=ContentView.get(g.childNodes[$]);L instanceof LineView&&(y=L.domAtPos(0))}for(let $=n.offset-1;!y&&$>=0;$--){let L=ContentView.get(g.childNodes[$]);L instanceof LineView&&(y=L.domAtPos(L.length))}return y?new DOMPos(y.node,y.offset,!0):n}nearest(n){for(let g=n;g;){let y=ContentView.get(g);if(y&&y.rootView==this)return y;g=g.parentNode}return null}posFromDOM(n,g){let y=this.nearest(n);if(!y)throw new RangeError("Trying to find position for a DOM position outside of the document");return y.localPosFromDOM(n,g)+y.posAtStart}domAtPos(n){let{i:g,off:y}=this.childCursor().findPos(n,-1);for(;g<this.children.length-1;){let $=this.children[g];if(y<$.length||$ instanceof LineView)break;g++,y=0}return this.children[g].domAtPos(y)}coordsAt(n,g){let y=null,$=0;for(let L=this.length,re=this.children.length-1;re>=0;re--){let ae=this.children[re],le=L-ae.breakAfter,ue=le-ae.length;if(le<n)break;if(ue<=n&&(ue<n||ae.covers(-1))&&(le>n||ae.covers(1))&&(!y||ae instanceof LineView&&!(y instanceof LineView&&g>=0)))y=ae,$=ue;else if(y&&ue==n&&le==n&&ae instanceof BlockWidgetView&&Math.abs(g)<2){if(ae.deco.startSide<0)break;re&&(y=null)}L=ue}return y?y.coordsAt(n-$,g):null}coordsForChar(n){let{i:g,off:y}=this.childPos(n,1),$=this.children[g];if(!($ instanceof LineView))return null;for(;$.children.length;){let{i:ae,off:le}=$.childPos(y,1);for(;;ae++){if(ae==$.children.length)return null;if(($=$.children[ae]).length)break}y=le}if(!($ instanceof TextView))return null;let L=findClusterBreak($.text,y);if(L==y)return null;let re=textRange($.dom,y,L).getClientRects();for(let ae=0;ae<re.length;ae++){let le=re[ae];if(ae==re.length-1||le.top<le.bottom&&le.left<le.right)return le}return null}measureVisibleLineHeights(n){let g=[],{from:y,to:$}=n,L=this.view.contentDOM.clientWidth,re=L>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,ae=-1,le=this.view.textDirection==Direction.LTR;for(let ue=0,he=0;he<this.children.length;he++){let _e=this.children[he],Ce=ue+_e.length;if(Ce>$)break;if(ue>=y){let $e=_e.dom.getBoundingClientRect();if(g.push($e.height),re){let Oe=_e.dom.lastChild,xe=Oe?clientRectsFor(Oe):[];if(xe.length){let Ne=xe[xe.length-1],Ie=le?Ne.right-$e.left:$e.right-Ne.left;Ie>ae&&(ae=Ie,this.minWidth=L,this.minWidthFrom=ue,this.minWidthTo=Ce)}}}ue=Ce+_e.breakAfter}return g}textDirectionAt(n){let{i:g}=this.childPos(n,1);return getComputedStyle(this.children[g].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let L of this.children)if(L instanceof LineView){let re=L.measureTextSize();if(re)return re}let n=document.createElement("div"),g,y,$;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let L=clientRectsFor(n.firstChild)[0];g=n.getBoundingClientRect().height,y=L?L.width/27:7,$=L?L.height:g,n.remove()}),{lineHeight:g,charWidth:y,textHeight:$}}childCursor(n=this.length){let g=this.children.length;return g&&(n-=this.children[--g].length),new ChildCursor(this.children,n,g)}computeBlockGapDeco(){let n=[],g=this.view.viewState;for(let y=0,$=0;;$++){let L=$==g.viewports.length?null:g.viewports[$],re=L?L.from-1:this.length;if(re>y){let ae=(g.lineBlockAt(re).bottom-g.lineBlockAt(y).top)/this.view.scaleY;n.push(Decoration.replace({widget:new BlockGapWidget(ae),block:!0,inclusive:!0,isBlockGap:!0}).range(y,re))}if(!L)break;y=L.to+1}return Decoration.set(n)}updateDeco(){let n=1,g=this.view.state.facet(decorations).map(L=>(this.dynamicDecorationMap[n++]=typeof L=="function")?L(this.view):L),y=!1,$=this.view.state.facet(outerDecorations).map((L,re)=>{let ae=typeof L=="function";return ae&&(y=!0),ae?L(this.view):L});for($.length&&(this.dynamicDecorationMap[n++]=y,g.push(RangeSet.join($))),this.decorations=[this.editContextFormatting,...g,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];n<this.decorations.length;)this.dynamicDecorationMap[n++]=!1;return this.decorations}scrollIntoView(n){if(n.isSnapshot){let ue=this.view.viewState.lineBlockAt(n.range.head);this.view.scrollDOM.scrollTop=ue.top-n.yMargin,this.view.scrollDOM.scrollLeft=n.xMargin;return}for(let ue of this.view.state.facet(scrollHandler))try{if(ue(this.view,n.range,n))return!0}catch(he){logException(this.view.state,he,"scroll handler")}let{range:g}=n,y=this.coordsAt(g.head,g.empty?g.assoc:g.head>g.anchor?-1:1),$;if(!y)return;!g.empty&&($=this.coordsAt(g.anchor,g.anchor>g.head?-1:1))&&(y={left:Math.min(y.left,$.left),top:Math.min(y.top,$.top),right:Math.max(y.right,$.right),bottom:Math.max(y.bottom,$.bottom)});let L=getScrollMargins(this.view),re={left:y.left-L.left,top:y.top-L.top,right:y.right+L.right,bottom:y.bottom+L.bottom},{offsetWidth:ae,offsetHeight:le}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,re,g.head<g.anchor?-1:1,n.x,n.y,Math.max(Math.min(n.xMargin,ae),-ae),Math.max(Math.min(n.yMargin,le),-le),this.view.textDirection==Direction.LTR)}}function betweenUneditable(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function findCompositionNode(r,n){let g=r.observer.selectionRange;if(!g.focusNode)return null;let y=textNodeBefore(g.focusNode,g.focusOffset),$=textNodeAfter(g.focusNode,g.focusOffset),L=y||$;if($&&y&&$.node!=y.node){let ae=ContentView.get($.node);if(!ae||ae instanceof TextView&&ae.text!=$.node.nodeValue)L=$;else if(r.docView.lastCompositionAfterCursor){let le=ContentView.get(y.node);!le||le instanceof TextView&&le.text!=y.node.nodeValue||(L=$)}}if(r.docView.lastCompositionAfterCursor=L!=y,!L)return null;let re=n-L.offset;return{from:re,to:re+L.node.nodeValue.length,node:L.node}}function findCompositionRange(r,n,g){let y=findCompositionNode(r,g);if(!y)return null;let{node:$,from:L,to:re}=y,ae=$.nodeValue;if(/[\n\r]/.test(ae)||r.state.doc.sliceString(y.from,y.to)!=ae)return null;let le=n.invertedDesc,ue=new ChangedRange(le.mapPos(L),le.mapPos(re),L,re),he=[];for(let _e=$.parentNode;;_e=_e.parentNode){let Ce=ContentView.get(_e);if(Ce instanceof MarkView)he.push({node:_e,deco:Ce.mark});else{if(Ce instanceof LineView||_e.nodeName=="DIV"&&_e.parentNode==r.contentDOM)return{range:ue,text:$,marks:he,line:_e};if(_e!=r.contentDOM)he.push({node:_e,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(_e),tagName:_e.tagName.toLowerCase()})});else return null}}}function nextToUneditable(r,n){return r.nodeType!=1?0:(n&&r.childNodes[n-1].contentEditable=="false"?1:0)|(n<r.childNodes.length&&r.childNodes[n].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(n,g){addRange(n,g,this.changes)}comparePoint(n,g){addRange(n,g,this.changes)}boundChange(n){addRange(n,n,this.changes)}};function findChangedDeco(r,n,g){let y=new DecorationComparator$1;return RangeSet.compare(r,n,g,y),y.changes}function inUneditable(r,n){for(let g=r;g&&g!=n;g=g.assignedSlot||g.parentNode)if(g.nodeType==1&&g.contentEditable=="false")return!0;return!1}function touchesComposition(r,n){let g=!1;return n&&r.iterChangedRanges((y,$)=>{y<n.to&&$>n.from&&(g=!0)}),g}function groupAt(r,n,g=1){let y=r.charCategorizer(n),$=r.doc.lineAt(n),L=n-$.from;if($.length==0)return EditorSelection.cursor(n);L==0?g=1:L==$.length&&(g=-1);let re=L,ae=L;g<0?re=findClusterBreak($.text,L,!1):ae=findClusterBreak($.text,L);let le=y($.text.slice(re,ae));for(;re>0;){let ue=findClusterBreak($.text,re,!1);if(y($.text.slice(ue,re))!=le)break;re=ue}for(;ae<$.length;){let ue=findClusterBreak($.text,ae);if(y($.text.slice(ae,ue))!=le)break;ae=ue}return EditorSelection.range(re+$.from,ae+$.from)}function getdx(r,n){return n.left>r?n.left-r:Math.max(0,r-n.right)}function getdy(r,n){return n.top>r?n.top-r:Math.max(0,r-n.bottom)}function yOverlap(r,n){return r.top<n.bottom-1&&r.bottom>n.top+1}function upTop(r,n){return n<r.top?{top:n,left:r.left,right:r.right,bottom:r.bottom}:r}function upBot(r,n){return n>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:n}:r}function domPosAtCoords(r,n,g){let y,$,L,re,ae=!1,le,ue,he,_e;for(let Oe=r.firstChild;Oe;Oe=Oe.nextSibling){let xe=clientRectsFor(Oe);for(let Ne=0;Ne<xe.length;Ne++){let Ie=xe[Ne];$&&yOverlap($,Ie)&&(Ie=upTop(upBot(Ie,$.bottom),$.top));let Fe=getdx(n,Ie),Ve=getdy(g,Ie);if(Fe==0&&Ve==0)return Oe.nodeType==3?domPosInText(Oe,n,g):domPosAtCoords(Oe,n,g);if(!y||re>Ve||re==Ve&&L>Fe){y=Oe,$=Ie,L=Fe,re=Ve;let ze=Ve?g<Ie.top?-1:1:Fe?n<Ie.left?-1:1:0;ae=!ze||(ze>0?Ne<xe.length-1:Ne>0)}Fe==0?g>Ie.bottom&&(!he||he.bottom<Ie.bottom)?(le=Oe,he=Ie):g<Ie.top&&(!_e||_e.top>Ie.top)&&(ue=Oe,_e=Ie):he&&yOverlap(he,Ie)?he=upBot(he,Ie.bottom):_e&&yOverlap(_e,Ie)&&(_e=upTop(_e,Ie.top))}}if(he&&he.bottom>=g?(y=le,$=he):_e&&_e.top<=g&&(y=ue,$=_e),!y)return{node:r,offset:0};let Ce=Math.max($.left,Math.min($.right,n));if(y.nodeType==3)return domPosInText(y,Ce,g);if(ae&&y.contentEditable!="false")return domPosAtCoords(y,Ce,g);let $e=Array.prototype.indexOf.call(r.childNodes,y)+(n>=($.left+$.right)/2?1:0);return{node:r,offset:$e}}function domPosInText(r,n,g){let y=r.nodeValue.length,$=-1,L=1e9,re=0;for(let ae=0;ae<y;ae++){let le=textRange(r,ae,ae+1).getClientRects();for(let ue=0;ue<le.length;ue++){let he=le[ue];if(he.top==he.bottom)continue;re||(re=n-he.left);let _e=(he.top>g?he.top-g:g-he.bottom)-1;if(he.left-1<=n&&he.right+1>=n&&_e<L){let Ce=n>=(he.left+he.right)/2,$e=Ce;if((browser.chrome||browser.gecko)&&textRange(r,ae).getBoundingClientRect().left==he.right&&($e=!Ce),_e<=0)return{node:r,offset:ae+($e?1:0)};$=ae+($e?1:0),L=_e}}}return{node:r,offset:$>-1?$:re>0?r.nodeValue.length:0}}function posAtCoords(r,n,g,y=-1){var $,L;let re=r.contentDOM.getBoundingClientRect(),ae=re.top+r.viewState.paddingTop,le,{docHeight:ue}=r.viewState,{x:he,y:_e}=n,Ce=_e-ae;if(Ce<0)return 0;if(Ce>ue)return r.state.doc.length;for(let ze=r.viewState.heightOracle.textHeight/2,Ue=!1;le=r.elementAtHeight(Ce),le.type!=BlockType.Text;)for(;Ce=y>0?le.bottom+ze:le.top-ze,!(Ce>=0&&Ce<=ue);){if(Ue)return g?null:0;Ue=!0,y=-y}_e=ae+Ce;let $e=le.from;if($e<r.viewport.from)return r.viewport.from==0?0:g?null:posAtCoordsImprecise(r,re,le,he,_e);if($e>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:g?null:posAtCoordsImprecise(r,re,le,he,_e);let Oe=r.dom.ownerDocument,xe=r.root.elementFromPoint?r.root:Oe,Ne=xe.elementFromPoint(he,_e);Ne&&!r.contentDOM.contains(Ne)&&(Ne=null),Ne||(he=Math.max(re.left+1,Math.min(re.right-1,he)),Ne=xe.elementFromPoint(he,_e),Ne&&!r.contentDOM.contains(Ne)&&(Ne=null));let Ie,Fe=-1;if(Ne&&(($=r.docView.nearest(Ne))===null||$===void 0?void 0:$.isEditable)!=!1){if(Oe.caretPositionFromPoint){let ze=Oe.caretPositionFromPoint(he,_e);ze&&({offsetNode:Ie,offset:Fe}=ze)}else if(Oe.caretRangeFromPoint){let ze=Oe.caretRangeFromPoint(he,_e);ze&&({startContainer:Ie,startOffset:Fe}=ze,(!r.contentDOM.contains(Ie)||browser.safari&&isSuspiciousSafariCaretResult(Ie,Fe,he)||browser.chrome&&isSuspiciousChromeCaretResult(Ie,Fe,he))&&(Ie=void 0))}Ie&&(Fe=Math.min(maxOffset(Ie),Fe))}if(!Ie||!r.docView.dom.contains(Ie)){let ze=LineView.find(r.docView,$e);if(!ze)return Ce>le.top+le.height/2?le.to:le.from;({node:Ie,offset:Fe}=domPosAtCoords(ze.dom,he,_e))}let Ve=r.docView.nearest(Ie);if(!Ve)return null;if(Ve.isWidget&&((L=Ve.dom)===null||L===void 0?void 0:L.nodeType)==1){let ze=Ve.dom.getBoundingClientRect();return n.y<ze.top||n.y<=ze.bottom&&n.x<=(ze.left+ze.right)/2?Ve.posAtStart:Ve.posAtEnd}else return Ve.localPosFromDOM(Ie,Fe)+Ve.posAtStart}function posAtCoordsImprecise(r,n,g,y,$){let L=Math.round((y-n.left)*r.defaultCharacterWidth);if(r.lineWrapping&&g.height>r.defaultLineHeight*1.5){let ae=r.viewState.heightOracle.textHeight,le=Math.floor(($-g.top-(r.defaultLineHeight-ae)*.5)/ae);L+=le*r.viewState.heightOracle.lineLength}let re=r.state.sliceDoc(g.from,g.to);return g.from+findColumn(re,L,r.state.tabSize)}function isSuspiciousSafariCaretResult(r,n,g){let y;if(r.nodeType!=3||n!=(y=r.nodeValue.length))return!1;for(let $=r.nextSibling;$;$=$.nextSibling)if($.nodeType!=1||$.nodeName!="BR")return!1;return textRange(r,y-1,y).getBoundingClientRect().left>g}function isSuspiciousChromeCaretResult(r,n,g){if(n!=0)return!1;for(let $=r;;){let L=$.parentNode;if(!L||L.nodeType!=1||L.firstChild!=$)return!1;if(L.classList.contains("cm-line"))break;$=L}let y=r.nodeType==1?r.getBoundingClientRect():textRange(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return g-y.left>5}function blockAt(r,n){let g=r.lineBlockAt(n);if(Array.isArray(g.type)){for(let y of g.type)if(y.to>n||y.to==n&&(y.to==g.to||y.type==BlockType.Text))return y}return g}function moveToLineBoundary(r,n,g,y){let $=blockAt(r,n.head),L=!y||$.type!=BlockType.Text||!(r.lineWrapping||$.widgetLineBreaks)?null:r.coordsAtPos(n.assoc<0&&n.head>$.from?n.head-1:n.head);if(L){let re=r.dom.getBoundingClientRect(),ae=r.textDirectionAt($.from),le=r.posAtCoords({x:g==(ae==Direction.LTR)?re.right-1:re.left+1,y:(L.top+L.bottom)/2});if(le!=null)return EditorSelection.cursor(le,g?-1:1)}return EditorSelection.cursor(g?$.to:$.from,g?-1:1)}function moveByChar(r,n,g,y){let $=r.state.doc.lineAt(n.head),L=r.bidiSpans($),re=r.textDirectionAt($.from);for(let ae=n,le=null;;){let ue=moveVisually($,L,re,ae,g),he=movedOver;if(!ue){if($.number==(g?r.state.doc.lines:1))return ae;he=`
`,$=r.state.doc.line($.number+(g?1:-1)),L=r.bidiSpans($),ue=r.visualLineSide($,!g)}if(le){if(!le(he))return ae}else{if(!y)return ue;le=y(he)}ae=ue}}function byGroup(r,n,g){let y=r.state.charCategorizer(n),$=y(g);return L=>{let re=y(L);return $==CharCategory.Space&&($=re),$==re}}function moveVertically(r,n,g,y){let $=n.head,L=g?1:-1;if($==(g?r.state.doc.length:0))return EditorSelection.cursor($,n.assoc);let re=n.goalColumn,ae,le=r.contentDOM.getBoundingClientRect(),ue=r.coordsAtPos($,n.assoc||-1),he=r.documentTop;if(ue)re==null&&(re=ue.left-le.left),ae=L<0?ue.top:ue.bottom;else{let $e=r.viewState.lineBlockAt($);re==null&&(re=Math.min(le.right-le.left,r.defaultCharacterWidth*($-$e.from))),ae=(L<0?$e.top:$e.bottom)+he}let _e=le.left+re,Ce=y??r.viewState.heightOracle.textHeight>>1;for(let $e=0;;$e+=10){let Oe=ae+(Ce+$e)*L,xe=posAtCoords(r,{x:_e,y:Oe},!1,L);if(Oe<le.top||Oe>le.bottom||(L<0?xe<$:xe>$)){let Ne=r.docView.coordsForChar(xe),Ie=!Ne||Oe<Ne.top?-1:1;return EditorSelection.cursor(xe,Ie,void 0,re)}}}function skipAtomicRanges(r,n,g){for(;;){let y=0;for(let $ of r)$.between(n-1,n+1,(L,re,ae)=>{if(n>L&&n<re){let le=y||g||(n-L<re-n?-1:1);n=le<0?L:re,y=le}});if(!y)return n}}function skipAtoms(r,n,g){let y=skipAtomicRanges(r.state.facet(atomicRanges).map($=>$(r)),g.from,n.head>g.from?-1:1);return y==g.from?g:EditorSelection.cursor(y,y<g.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(n,g){this.points=n,this.text="",this.lineSeparator=g.facet(EditorState.lineSeparator)}append(n){this.text+=n}lineBreak(){this.text+=LineBreakPlaceholder}readRange(n,g){if(!n)return this;let y=n.parentNode;for(let $=n;;){this.findPointBefore(y,$);let L=this.text.length;this.readNode($);let re=$.nextSibling;if(re==g)break;let ae=ContentView.get($),le=ContentView.get(re);(ae&&le?ae.breakAfter:(ae?ae.breakAfter:isBlockElement($))||isBlockElement(re)&&($.nodeName!="BR"||$.cmIgnore)&&this.text.length>L)&&this.lineBreak(),$=re}return this.findPointBefore(y,g),this}readTextNode(n){let g=n.nodeValue;for(let y of this.points)y.node==n&&(y.pos=this.text.length+Math.min(y.offset,g.length));for(let y=0,$=this.lineSeparator?null:/\r\n?|\n/g;;){let L=-1,re=1,ae;if(this.lineSeparator?(L=g.indexOf(this.lineSeparator,y),re=this.lineSeparator.length):(ae=$.exec(g))&&(L=ae.index,re=ae[0].length),this.append(g.slice(y,L<0?g.length:L)),L<0)break;if(this.lineBreak(),re>1)for(let le of this.points)le.node==n&&le.pos>this.text.length&&(le.pos-=re-1);y=L+re}}readNode(n){if(n.cmIgnore)return;let g=ContentView.get(n),y=g&&g.overrideDOMText;if(y!=null){this.findPointInside(n,y.length);for(let $=y.iter();!$.next().done;)$.lineBreak?this.lineBreak():this.append($.value)}else n.nodeType==3?this.readTextNode(n):n.nodeName=="BR"?n.nextSibling&&this.lineBreak():n.nodeType==1&&this.readRange(n.firstChild,null)}findPointBefore(n,g){for(let y of this.points)y.node==n&&n.childNodes[y.offset]==g&&(y.pos=this.text.length)}findPointInside(n,g){for(let y of this.points)(n.nodeType==3?y.node==n:n.contains(y.node))&&(y.pos=this.text.length+(isAtEnd(n,y.node,y.offset)?g:0))}}function isAtEnd(r,n,g){for(;;){if(!n||g<maxOffset(n))return!1;if(n==r)return!0;g=domIndex(n)+1,n=n.parentNode}}class DOMPoint{constructor(n,g){this.node=n,this.offset=g,this.pos=-1}}class DOMChange{constructor(n,g,y,$){this.typeOver=$,this.bounds=null,this.text="",this.domChanged=g>-1;let{impreciseHead:L,impreciseAnchor:re}=n.docView;if(n.state.readOnly&&g>-1)this.newSel=null;else if(g>-1&&(this.bounds=n.docView.domBoundsAround(g,y,0))){let ae=L||re?[]:selectionPoints(n),le=new DOMReader(ae,n.state);le.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=le.text,this.newSel=selectionFromPoints(ae,this.bounds.from)}else{let ae=n.observer.selectionRange,le=L&&L.node==ae.focusNode&&L.offset==ae.focusOffset||!contains$1(n.contentDOM,ae.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(ae.focusNode,ae.focusOffset),ue=re&&re.node==ae.anchorNode&&re.offset==ae.anchorOffset||!contains$1(n.contentDOM,ae.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(ae.anchorNode,ae.anchorOffset),he=n.viewport;if((browser.ios||browser.chrome)&&n.state.selection.main.empty&&le!=ue&&(he.from>0||he.to<n.state.doc.length)){let _e=Math.min(le,ue),Ce=Math.max(le,ue),$e=he.from-_e,Oe=he.to-Ce;($e==0||$e==1||_e==0)&&(Oe==0||Oe==-1||Ce==n.state.doc.length)&&(le=0,ue=n.state.doc.length)}this.newSel=EditorSelection.single(ue,le)}}}function applyDOMChange(r,n){let g,{newSel:y}=n,$=r.state.selection.main,L=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(n.bounds){let{from:re,to:ae}=n.bounds,le=$.from,ue=null;(L===8||browser.android&&n.text.length<ae-re)&&(le=$.to,ue="end");let he=findDiff(r.state.doc.sliceString(re,ae,LineBreakPlaceholder),n.text,le-re,ue);he&&(browser.chrome&&L==13&&he.toB==he.from+2&&n.text.slice(he.from,he.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&he.toB--,g={from:re+he.from,to:re+he.toA,insert:Text.of(n.text.slice(he.from,he.toB).split(LineBreakPlaceholder))})}else y&&(!r.hasFocus&&r.state.facet(editable)||y.main.eq($))&&(y=null);if(!g&&!y)return!1;if(!g&&n.typeOver&&!$.empty&&y&&y.main.empty?g={from:$.from,to:$.to,insert:r.state.doc.slice($.from,$.to)}:(browser.mac||browser.android)&&g&&g.from==g.to&&g.from==$.head-1&&/^\. ?$/.test(g.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(y&&g.insert.length==2&&(y=EditorSelection.single(y.main.anchor-1,y.main.head-1)),g={from:g.from,to:g.to,insert:Text.of([g.insert.toString().replace("."," ")])}):g&&g.from>=$.from&&g.to<=$.to&&(g.from!=$.from||g.to!=$.to)&&$.to-$.from-(g.to-g.from)<=4?g={from:$.from,to:$.to,insert:r.state.doc.slice($.from,g.from).append(g.insert).append(r.state.doc.slice(g.to,$.to))}:browser.chrome&&g&&g.from==g.to&&g.from==$.head&&g.insert.toString()==`
 `&&r.lineWrapping&&(y&&(y=EditorSelection.single(y.main.anchor-1,y.main.head-1)),g={from:$.from,to:$.to,insert:Text.of([" "])}),g)return applyDOMChangeInner(r,g,y,L);if(y&&!y.main.eq($)){let re=!1,ae="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(re=!0),ae=r.inputState.lastSelectionOrigin),r.dispatch({selection:y,scrollIntoView:re,userEvent:ae}),!0}else return!1}function applyDOMChangeInner(r,n,g,y=-1){if(browser.ios&&r.inputState.flushIOSKey(n))return!0;let $=r.state.selection.main;if(browser.android&&(n.to==$.to&&(n.from==$.from||n.from==$.from-1&&r.state.sliceDoc(n.from,$.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&dispatchKey(r.contentDOM,"Enter",13)||(n.from==$.from-1&&n.to==$.to&&n.insert.length==0||y==8&&n.insert.length<n.to-n.from&&n.to>$.head)&&dispatchKey(r.contentDOM,"Backspace",8)||n.from==$.from&&n.to==$.to+1&&n.insert.length==0&&dispatchKey(r.contentDOM,"Delete",46)))return!0;let L=n.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let re,ae=()=>re||(re=applyDefaultInsert(r,n,g));return r.state.facet(inputHandler$1).some(le=>le(r,n.from,n.to,L,ae))||r.dispatch(ae()),!0}function applyDefaultInsert(r,n,g){let y,$=r.state,L=$.selection.main;if(n.from>=L.from&&n.to<=L.to&&n.to-n.from>=(L.to-L.from)/3&&(!g||g.main.empty&&g.main.from==n.from+n.insert.length)&&r.inputState.composing<0){let ae=L.from<n.from?$.sliceDoc(L.from,n.from):"",le=L.to>n.to?$.sliceDoc(n.to,L.to):"";y=$.replaceSelection(r.state.toText(ae+n.insert.sliceString(0,void 0,r.state.lineBreak)+le))}else{let ae=$.changes(n),le=g&&g.main.to<=ae.newLength?g.main:void 0;if($.selection.ranges.length>1&&r.inputState.composing>=0&&n.to<=L.to&&n.to>=L.to-10){let ue=r.state.sliceDoc(n.from,n.to),he,_e=g&&findCompositionNode(r,g.main.head);if(_e){let Oe=n.insert.length-(n.to-n.from);he={from:_e.from,to:_e.to-Oe}}else he=r.state.doc.lineAt(L.head);let Ce=L.to-n.to,$e=L.to-L.from;y=$.changeByRange(Oe=>{if(Oe.from==L.from&&Oe.to==L.to)return{changes:ae,range:le||Oe.map(ae)};let xe=Oe.to-Ce,Ne=xe-ue.length;if(Oe.to-Oe.from!=$e||r.state.sliceDoc(Ne,xe)!=ue||Oe.to>=he.from&&Oe.from<=he.to)return{range:Oe};let Ie=$.changes({from:Ne,to:xe,insert:n.insert}),Fe=Oe.to-L.to;return{changes:Ie,range:le?EditorSelection.range(Math.max(0,le.anchor+Fe),Math.max(0,le.head+Fe)):Oe.map(Ie)}})}else y={changes:ae,selection:le&&$.selection.replaceRange(le)}}let re="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,re+=".compose",r.inputState.compositionFirstChange&&(re+=".start",r.inputState.compositionFirstChange=!1)),$.update(y,{userEvent:re,scrollIntoView:!0})}function findDiff(r,n,g,y){let $=Math.min(r.length,n.length),L=0;for(;L<$&&r.charCodeAt(L)==n.charCodeAt(L);)L++;if(L==$&&r.length==n.length)return null;let re=r.length,ae=n.length;for(;re>0&&ae>0&&r.charCodeAt(re-1)==n.charCodeAt(ae-1);)re--,ae--;if(y=="end"){let le=Math.max(0,L-Math.min(re,ae));g-=re+le-L}if(re<L&&r.length<n.length){let le=g<=L&&g>=re?L-g:0;L-=le,ae=L+(ae-re),re=L}else if(ae<L){let le=g<=L&&g>=ae?L-g:0;L-=le,re=L+(re-ae),ae=L}return{from:L,toA:re,toB:ae}}function selectionPoints(r){let n=[];if(r.root.activeElement!=r.contentDOM)return n;let{anchorNode:g,anchorOffset:y,focusNode:$,focusOffset:L}=r.observer.selectionRange;return g&&(n.push(new DOMPoint(g,y)),($!=g||L!=y)&&n.push(new DOMPoint($,L))),n}function selectionFromPoints(r,n){if(r.length==0)return null;let g=r[0].pos,y=r.length==2?r[1].pos:g;return g>-1&&y>-1?EditorSelection.single(g+n,y+n):null}class InputState{setSelectionOrigin(n){this.lastSelectionOrigin=n,this.lastSelectionTime=Date.now()}constructor(n){this.view=n,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=n.hasFocus,browser.safari&&n.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(n.contentDOM.ownerDocument)}handleEvent(n){!eventBelongsToEditor(this.view,n)||this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(n)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(n.type,n)):this.runHandlers(n.type,n))}runHandlers(n,g){let y=this.handlers[n];if(y){for(let $ of y.observers)$(this.view,g);for(let $ of y.handlers){if(g.defaultPrevented)break;if($(this.view,g)){g.preventDefault();break}}}}ensureHandlers(n){let g=computeHandlers(n),y=this.handlers,$=this.view.contentDOM;for(let L in g)if(L!="scroll"){let re=!g[L].handlers.length,ae=y[L];ae&&re!=!ae.handlers.length&&($.removeEventListener(L,this.handleEvent),ae=null),ae||$.addEventListener(L,this.handleEvent,{passive:re})}for(let L in y)L!="scroll"&&!g[L]&&$.removeEventListener(L,this.handleEvent);this.handlers=g}keydown(n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&n.keyCode!=27&&modifierCodes.indexOf(n.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return this.view.observer.delayAndroidKey(n.key,n.keyCode),!0;let g;return browser.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((g=PendingKeys.find(y=>y.keyCode==n.keyCode))&&!n.ctrlKey||EmacsyPendingKeys.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=g||n,setTimeout(()=>this.flushIOSKey(),250),!0):(n.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(n){let g=this.pendingIOSKey;return!g||g.key=="Enter"&&n&&n.from<n.to&&/^\S+$/.test(n.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,g.key,g.keyCode,g instanceof KeyboardEvent?g:void 0))}ignoreDuringComposition(n){return/^key/.test(n.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=n}update(n){this.view.observer.update(n),this.mouseSelection&&this.mouseSelection.update(n),this.draggedContent&&n.docChanged&&(this.draggedContent=this.draggedContent.map(n.changes)),n.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(r,n){return(g,y)=>{try{return n.call(r,y,g)}catch($){logException(g.state,$)}}}function computeHandlers(r){let n=Object.create(null);function g(y){return n[y]||(n[y]={observers:[],handlers:[]})}for(let y of r){let $=y.spec;if($&&$.domEventHandlers)for(let L in $.domEventHandlers){let re=$.domEventHandlers[L];re&&g(L).handlers.push(bindHandler(y.value,re))}if($&&$.domEventObservers)for(let L in $.domEventObservers){let re=$.domEventObservers[L];re&&g(L).observers.push(bindHandler(y.value,re))}}for(let y in handlers)g(y).handlers.push(handlers[y]);for(let y in observers)g(y).observers.push(observers[y]);return n}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(r){return Math.max(0,r)*.7+8}function dist(r,n){return Math.max(Math.abs(r.clientX-n.clientX),Math.abs(r.clientY-n.clientY))}class MouseSelection{constructor(n,g,y,$){this.view=n,this.startEvent=g,this.style=y,this.mustSelect=$,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=g,this.scrollParents=scrollableParents(n.contentDOM),this.atoms=n.state.facet(atomicRanges).map(re=>re(n));let L=n.contentDOM.ownerDocument;L.addEventListener("mousemove",this.move=this.move.bind(this)),L.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=g.shiftKey,this.multiple=n.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(n,g),this.dragging=isInPrimarySelection(n,g)&&getClickType(g)==1?null:!1}start(n){this.dragging===!1&&this.select(n)}move(n){if(n.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,n)<10)return;this.select(this.lastEvent=n);let g=0,y=0,$=0,L=0,re=this.view.win.innerWidth,ae=this.view.win.innerHeight;this.scrollParents.x&&({left:$,right:re}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:L,bottom:ae}=this.scrollParents.y.getBoundingClientRect());let le=getScrollMargins(this.view);n.clientX-le.left<=$+dragScrollMargin?g=-dragScrollSpeed($-n.clientX):n.clientX+le.right>=re-dragScrollMargin&&(g=dragScrollSpeed(n.clientX-re)),n.clientY-le.top<=L+dragScrollMargin?y=-dragScrollSpeed(L-n.clientY):n.clientY+le.bottom>=ae-dragScrollMargin&&(y=dragScrollSpeed(n.clientY-ae)),this.setScrollSpeed(g,y)}up(n){this.dragging==null&&this.select(this.lastEvent),this.dragging||n.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let n=this.view.contentDOM.ownerDocument;n.removeEventListener("mousemove",this.move),n.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(n,g){this.scrollSpeed={x:n,y:g},n||g?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:n,y:g}=this.scrollSpeed;n&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=n,n=0),g&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=g,g=0),(n||g)&&this.view.win.scrollBy(n,g),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(n){let g=null;for(let y=0;y<n.ranges.length;y++){let $=n.ranges[y],L=null;if($.empty){let re=skipAtomicRanges(this.atoms,$.from,0);re!=$.from&&(L=EditorSelection.cursor(re,-1))}else{let re=skipAtomicRanges(this.atoms,$.from,-1),ae=skipAtomicRanges(this.atoms,$.to,1);(re!=$.from||ae!=$.to)&&(L=EditorSelection.range($.from==$.anchor?re:ae,$.from==$.head?re:ae))}L&&(g||(g=n.ranges.slice()),g[y]=L)}return g?EditorSelection.create(g,n.mainIndex):n}select(n){let{view:g}=this,y=this.skipAtoms(this.style.get(n,this.extend,this.multiple));(this.mustSelect||!y.eq(g.state.selection,this.dragging===!1))&&this.view.dispatch({selection:y,userEvent:"select.pointer"}),this.mustSelect=!1}update(n){n.transactions.some(g=>g.isUserEvent("input.type"))?this.destroy():this.style.update(n)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(r,n){let g=r.state.facet(clickAddsSelectionRange);return g.length?g[0](n):browser.mac?n.metaKey:n.ctrlKey}function dragMovesSelection(r,n){let g=r.state.facet(dragMovesSelection$1);return g.length?g[0](n):browser.mac?!n.altKey:!n.ctrlKey}function isInPrimarySelection(r,n){let{main:g}=r.state.selection;if(g.empty)return!1;let y=getSelection(r.root);if(!y||y.rangeCount==0)return!0;let $=y.getRangeAt(0).getClientRects();for(let L=0;L<$.length;L++){let re=$[L];if(re.left<=n.clientX&&re.right>=n.clientX&&re.top<=n.clientY&&re.bottom>=n.clientY)return!0}return!1}function eventBelongsToEditor(r,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let g=n.target,y;g!=r.contentDOM;g=g.parentNode)if(!g||g.nodeType==11||(y=ContentView.get(g))&&y.ignoreEvent(n))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(r){let n=r.dom.parentNode;if(!n)return;let g=n.appendChild(document.createElement("textarea"));g.style.cssText="position: fixed; left: -10000px; top: 10px",g.focus(),setTimeout(()=>{r.focus(),g.remove(),doPaste(r,g.value)},50)}function textFilter(r,n,g){for(let y of r.facet(n))g=y(g,r);return g}function doPaste(r,n){n=textFilter(r.state,clipboardInputFilter,n);let{state:g}=r,y,$=1,L=g.toText(n),re=L.lines==g.selection.ranges.length;if(lastLinewiseCopy!=null&&g.selection.ranges.every(le=>le.empty)&&lastLinewiseCopy==L.toString()){let le=-1;y=g.changeByRange(ue=>{let he=g.doc.lineAt(ue.from);if(he.from==le)return{range:ue};le=he.from;let _e=g.toText((re?L.line($++).text:n)+g.lineBreak);return{changes:{from:he.from,insert:_e},range:EditorSelection.cursor(ue.from+_e.length)}})}else re?y=g.changeByRange(le=>{let ue=L.line($++);return{changes:{from:le.from,to:le.to,insert:ue.text},range:EditorSelection.cursor(le.from+ue.length)}}):y=g.replaceSelection(L);r.dispatch(y,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};handlers.keydown=(r,n)=>(r.inputState.setSelectionOrigin("select"),n.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(r,n)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(r,n)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let g=null;for(let y of r.state.facet(mouseSelectionStyle))if(g=y(r,n),g)break;if(!g&&n.button==0&&(g=basicMouseSelection(r,n)),g){let y=!r.hasFocus;r.inputState.startMouseSelection(new MouseSelection(r,n,g,y)),y&&r.observer.ignore(()=>{focusPreventScroll(r.contentDOM);let L=r.root.activeElement;L&&!L.contains(r.contentDOM)&&L.blur()});let $=r.inputState.mouseSelection;if($)return $.start(n),$.dragging===!1}return!1};function rangeForClick(r,n,g,y){if(y==1)return EditorSelection.cursor(n,g);if(y==2)return groupAt(r.state,n,g);{let $=LineView.find(r.docView,n),L=r.state.doc.lineAt($?$.posAtEnd:n),re=$?$.posAtStart:L.from,ae=$?$.posAtEnd:L.to;return ae<r.state.doc.length&&ae==L.to&&ae++,EditorSelection.range(re,ae)}}let inside=(r,n,g)=>n>=g.top&&n<=g.bottom&&r>=g.left&&r<=g.right;function findPositionSide(r,n,g,y){let $=LineView.find(r.docView,n);if(!$)return 1;let L=n-$.posAtStart;if(L==0)return 1;if(L==$.length)return-1;let re=$.coordsAt(L,-1);if(re&&inside(g,y,re))return-1;let ae=$.coordsAt(L,1);return ae&&inside(g,y,ae)?1:re&&re.bottom>=y?-1:1}function queryPos(r,n){let g=r.posAtCoords({x:n.clientX,y:n.clientY},!1);return{pos:g,bias:findPositionSide(r,g,n.clientX,n.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(r){if(!BadMouseDetail)return r.detail;let n=lastMouseDown,g=lastMouseDownTime;return lastMouseDown=r,lastMouseDownTime=Date.now(),lastMouseDownCount=!n||g>Date.now()-400&&Math.abs(n.clientX-r.clientX)<2&&Math.abs(n.clientY-r.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(r,n){let g=queryPos(r,n),y=getClickType(n),$=r.state.selection;return{update(L){L.docChanged&&(g.pos=L.changes.mapPos(g.pos),$=$.map(L.changes))},get(L,re,ae){let le=queryPos(r,L),ue,he=rangeForClick(r,le.pos,le.bias,y);if(g.pos!=le.pos&&!re){let _e=rangeForClick(r,g.pos,g.bias,y),Ce=Math.min(_e.from,he.from),$e=Math.max(_e.to,he.to);he=Ce<he.from?EditorSelection.range(Ce,$e):EditorSelection.range($e,Ce)}return re?$.replaceRange($.main.extend(he.from,he.to)):ae&&y==1&&$.ranges.length>1&&(ue=removeRangeAround($,le.pos))?ue:ae?$.addRange(he):EditorSelection.create([he])}}}function removeRangeAround(r,n){for(let g=0;g<r.ranges.length;g++){let{from:y,to:$}=r.ranges[g];if(y<=n&&$>=n)return EditorSelection.create(r.ranges.slice(0,g).concat(r.ranges.slice(g+1)),r.mainIndex==g?0:r.mainIndex-(r.mainIndex>g?1:0))}return null}handlers.dragstart=(r,n)=>{let{selection:{main:g}}=r.state;if(n.target.draggable){let $=r.docView.nearest(n.target);if($&&$.isWidget){let L=$.posAtStart,re=L+$.length;(L>=g.to||re<=g.from)&&(g=EditorSelection.range(L,re))}}let{inputState:y}=r;return y.mouseSelection&&(y.mouseSelection.dragging=!0),y.draggedContent=g,n.dataTransfer&&(n.dataTransfer.setData("Text",textFilter(r.state,clipboardOutputFilter,r.state.sliceDoc(g.from,g.to))),n.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=r=>(r.inputState.draggedContent=null,!1);function dropText(r,n,g,y){if(g=textFilter(r.state,clipboardInputFilter,g),!g)return;let $=r.posAtCoords({x:n.clientX,y:n.clientY},!1),{draggedContent:L}=r.inputState,re=y&&L&&dragMovesSelection(r,n)?{from:L.from,to:L.to}:null,ae={from:$,insert:g},le=r.state.changes(re?[re,ae]:ae);r.focus(),r.dispatch({changes:le,selection:{anchor:le.mapPos($,-1),head:le.mapPos($,1)},userEvent:re?"move.drop":"input.drop"}),r.inputState.draggedContent=null}handlers.drop=(r,n)=>{if(!n.dataTransfer)return!1;if(r.state.readOnly)return!0;let g=n.dataTransfer.files;if(g&&g.length){let y=Array(g.length),$=0,L=()=>{++$==g.length&&dropText(r,n,y.filter(re=>re!=null).join(r.state.lineBreak),!1)};for(let re=0;re<g.length;re++){let ae=new FileReader;ae.onerror=L,ae.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(ae.result)||(y[re]=ae.result),L()},ae.readAsText(g[re])}return!0}else{let y=n.dataTransfer.getData("Text");if(y)return dropText(r,n,y,!0),!0}return!1};handlers.paste=(r,n)=>{if(r.state.readOnly)return!0;r.observer.flush();let g=brokenClipboardAPI?null:n.clipboardData;return g?(doPaste(r,g.getData("text/plain")||g.getData("text/uri-list")),!0):(capturePaste(r),!1)};function captureCopy(r,n){let g=r.dom.parentNode;if(!g)return;let y=g.appendChild(document.createElement("textarea"));y.style.cssText="position: fixed; left: -10000px; top: 10px",y.value=n,y.focus(),y.selectionEnd=n.length,y.selectionStart=0,setTimeout(()=>{y.remove(),r.focus()},50)}function copiedRange(r){let n=[],g=[],y=!1;for(let $ of r.selection.ranges)$.empty||(n.push(r.sliceDoc($.from,$.to)),g.push($));if(!n.length){let $=-1;for(let{from:L}of r.selection.ranges){let re=r.doc.lineAt(L);re.number>$&&(n.push(re.text),g.push({from:re.from,to:Math.min(r.doc.length,re.to+1)})),$=re.number}y=!0}return{text:textFilter(r,clipboardOutputFilter,n.join(r.lineBreak)),ranges:g,linewise:y}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(r,n)=>{let{text:g,ranges:y,linewise:$}=copiedRange(r.state);if(!g&&!$)return!1;lastLinewiseCopy=$?g:null,n.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:y,scrollIntoView:!0,userEvent:"delete.cut"});let L=brokenClipboardAPI?null:n.clipboardData;return L?(L.clearData(),L.setData("text/plain",g),!0):(captureCopy(r,g),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(r,n){let g=[];for(let y of r.facet(focusChangeEffect)){let $=y(r,n);$&&g.push($)}return g?r.update({effects:g,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(r){setTimeout(()=>{let n=r.hasFocus;if(n!=r.inputState.notifiedFocused){let g=focusChangeTransaction(r.state,n);g?r.dispatch(g):r.update([])}},10)}observers.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),updateForFocusChange(r)};observers.blur=r=>{r.observer.clearSelectionRange(),updateForFocusChange(r)};observers.compositionstart=observers.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};observers.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,browser.chrome&&browser.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};observers.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(r,n)=>{var g,y;if(n.inputType=="insertReplacementText"&&r.observer.editContext){let L=(g=n.dataTransfer)===null||g===void 0?void 0:g.getData("text/plain"),re=n.getTargetRanges();if(L&&re.length){let ae=re[0],le=r.posAtDOM(ae.startContainer,ae.startOffset),ue=r.posAtDOM(ae.endContainer,ae.endOffset);return applyDOMChangeInner(r,{from:le,to:ue,insert:r.state.toText(L)},null),!0}}let $;if(browser.chrome&&browser.android&&($=PendingKeys.find(L=>L.inputType==n.inputType))&&(r.observer.delayAndroidKey($.key,$.keyCode),$.key=="Backspace"||$.key=="Delete")){let L=((y=window.visualViewport)===null||y===void 0?void 0:y.height)||0;setTimeout(()=>{var re;(((re=window.visualViewport)===null||re===void 0?void 0:re.height)||0)>L+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return browser.ios&&n.inputType=="deleteContentForward"&&r.observer.flushSoon(),browser.safari&&n.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>observers.compositionend(r,n),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(r){appliedFirefoxHack.has(r)||(appliedFirefoxHack.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(n){this.lineWrapping=n,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(n,g){let y=this.doc.lineAt(g).number-this.doc.lineAt(n).number+1;return this.lineWrapping&&(y+=Math.max(0,Math.ceil((g-n-y*this.lineLength*.5)/this.lineLength))),this.lineHeight*y}heightForLine(n){return this.lineWrapping?(1+Math.max(0,Math.ceil((n-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(n){return this.doc=n,this}mustRefreshForWrapping(n){return wrappingWhiteSpace.indexOf(n)>-1!=this.lineWrapping}mustRefreshForHeights(n){let g=!1;for(let y=0;y<n.length;y++){let $=n[y];$<0?y++:this.heightSamples[Math.floor($*10)]||(g=!0,this.heightSamples[Math.floor($*10)]=!0)}return g}refresh(n,g,y,$,L,re){let ae=wrappingWhiteSpace.indexOf(n)>-1,le=Math.round(g)!=Math.round(this.lineHeight)||this.lineWrapping!=ae;if(this.lineWrapping=ae,this.lineHeight=g,this.charWidth=y,this.textHeight=$,this.lineLength=L,le){this.heightSamples={};for(let ue=0;ue<re.length;ue++){let he=re[ue];he<0?ue++:this.heightSamples[Math.floor(he*10)]=!0}}return le}}class MeasuredHeights{constructor(n,g){this.from=n,this.heights=g,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(n,g,y,$,L){this.from=n,this.length=g,this.top=y,this.height=$,this._content=L}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(n){let g=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(n._content)?n._content:[n]);return new BlockInfo(this.from,this.length+n.length,this.top,this.height+n.height,g)}}var QueryType$1=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(n,g,y=2){this.length=n,this.height=g,this.flags=y}get outdated(){return(this.flags&2)>0}set outdated(n){this.flags=(n?2:0)|this.flags&-3}setHeight(n){this.height!=n&&(Math.abs(this.height-n)>Epsilon&&(heightChangeFlag=!0),this.height=n)}replace(n,g,y){return HeightMap.of(y)}decomposeLeft(n,g){g.push(this)}decomposeRight(n,g){g.push(this)}applyChanges(n,g,y,$){let L=this,re=y.doc;for(let ae=$.length-1;ae>=0;ae--){let{fromA:le,toA:ue,fromB:he,toB:_e}=$[ae],Ce=L.lineAt(le,QueryType$1.ByPosNoHeight,y.setDoc(g),0,0),$e=Ce.to>=ue?Ce:L.lineAt(ue,QueryType$1.ByPosNoHeight,y,0,0);for(_e+=$e.to-ue,ue=$e.to;ae>0&&Ce.from<=$[ae-1].toA;)le=$[ae-1].fromA,he=$[ae-1].fromB,ae--,le<Ce.from&&(Ce=L.lineAt(le,QueryType$1.ByPosNoHeight,y,0,0));he+=Ce.from-le,le=Ce.from;let Oe=NodeBuilder.build(y.setDoc(re),n,he,_e);L=replace(L,L.replace(le,ue,Oe))}return L.updateHeight(y,0)}static empty(){return new HeightMapText(0,0)}static of(n){if(n.length==1)return n[0];let g=0,y=n.length,$=0,L=0;for(;;)if(g==y)if($>L*2){let ae=n[g-1];ae.break?n.splice(--g,1,ae.left,null,ae.right):n.splice(--g,1,ae.left,ae.right),y+=1+ae.break,$-=ae.size}else if(L>$*2){let ae=n[y];ae.break?n.splice(y,1,ae.left,null,ae.right):n.splice(y,1,ae.left,ae.right),y+=2+ae.break,L-=ae.size}else break;else if($<L){let ae=n[g++];ae&&($+=ae.size)}else{let ae=n[--y];ae&&(L+=ae.size)}let re=0;return n[g-1]==null?(re=1,g--):n[g]==null&&(re=1,y++),new HeightMapBranch(HeightMap.of(n.slice(0,g)),re,HeightMap.of(n.slice(y)))}}function replace(r,n){return r==n?r:(r.constructor!=n.constructor&&(heightChangeFlag=!0),n)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(n,g,y){super(n,g),this.deco=y}blockAt(n,g,y,$){return new BlockInfo($,this.length,y,this.height,this.deco||0)}lineAt(n,g,y,$,L){return this.blockAt(0,y,$,L)}forEachLine(n,g,y,$,L,re){n<=L+this.length&&g>=L&&re(this.blockAt(0,y,$,L))}updateHeight(n,g=0,y=!1,$){return $&&$.from<=g&&$.more&&this.setHeight($.heights[$.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(n,g){super(n,g,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(n,g,y,$){return new BlockInfo($,this.length,y,this.height,this.breaks)}replace(n,g,y){let $=y[0];return y.length==1&&($ instanceof HeightMapText||$ instanceof HeightMapGap&&$.flags&4)&&Math.abs(this.length-$.length)<10?($ instanceof HeightMapGap?$=new HeightMapText($.length,this.height):$.height=this.height,this.outdated||($.outdated=!1),$):HeightMap.of(y)}updateHeight(n,g=0,y=!1,$){return $&&$.from<=g&&$.more?this.setHeight($.heights[$.index++]):(y||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,n.heightForLine(this.length-this.collapsed))+this.breaks*n.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(n){super(n,0)}heightMetrics(n,g){let y=n.doc.lineAt(g).number,$=n.doc.lineAt(g+this.length).number,L=$-y+1,re,ae=0;if(n.lineWrapping){let le=Math.min(this.height,n.lineHeight*L);re=le/L,this.length>L+1&&(ae=(this.height-le)/(this.length-L-1))}else re=this.height/L;return{firstLine:y,lastLine:$,perLine:re,perChar:ae}}blockAt(n,g,y,$){let{firstLine:L,lastLine:re,perLine:ae,perChar:le}=this.heightMetrics(g,$);if(g.lineWrapping){let ue=$+(n<g.lineHeight?0:Math.round(Math.max(0,Math.min(1,(n-y)/this.height))*this.length)),he=g.doc.lineAt(ue),_e=ae+he.length*le,Ce=Math.max(y,n-_e/2);return new BlockInfo(he.from,he.length,Ce,_e,0)}else{let ue=Math.max(0,Math.min(re-L,Math.floor((n-y)/ae))),{from:he,length:_e}=g.doc.line(L+ue);return new BlockInfo(he,_e,y+ae*ue,ae,0)}}lineAt(n,g,y,$,L){if(g==QueryType$1.ByHeight)return this.blockAt(n,y,$,L);if(g==QueryType$1.ByPosNoHeight){let{from:$e,to:Oe}=y.doc.lineAt(n);return new BlockInfo($e,Oe-$e,0,0,0)}let{firstLine:re,perLine:ae,perChar:le}=this.heightMetrics(y,L),ue=y.doc.lineAt(n),he=ae+ue.length*le,_e=ue.number-re,Ce=$+ae*_e+le*(ue.from-L-_e);return new BlockInfo(ue.from,ue.length,Math.max($,Math.min(Ce,$+this.height-he)),he,0)}forEachLine(n,g,y,$,L,re){n=Math.max(n,L),g=Math.min(g,L+this.length);let{firstLine:ae,perLine:le,perChar:ue}=this.heightMetrics(y,L);for(let he=n,_e=$;he<=g;){let Ce=y.doc.lineAt(he);if(he==n){let Oe=Ce.number-ae;_e+=le*Oe+ue*(n-L-Oe)}let $e=le+ue*Ce.length;re(new BlockInfo(Ce.from,Ce.length,_e,$e,0)),_e+=$e,he=Ce.to+1}}replace(n,g,y){let $=this.length-g;if($>0){let L=y[y.length-1];L instanceof HeightMapGap?y[y.length-1]=new HeightMapGap(L.length+$):y.push(null,new HeightMapGap($-1))}if(n>0){let L=y[0];L instanceof HeightMapGap?y[0]=new HeightMapGap(n+L.length):y.unshift(new HeightMapGap(n-1),null)}return HeightMap.of(y)}decomposeLeft(n,g){g.push(new HeightMapGap(n-1),null)}decomposeRight(n,g){g.push(null,new HeightMapGap(this.length-n-1))}updateHeight(n,g=0,y=!1,$){let L=g+this.length;if($&&$.from<=g+this.length&&$.more){let re=[],ae=Math.max(g,$.from),le=-1;for($.from>g&&re.push(new HeightMapGap($.from-g-1).updateHeight(n,g));ae<=L&&$.more;){let he=n.doc.lineAt(ae).length;re.length&&re.push(null);let _e=$.heights[$.index++];le==-1?le=_e:Math.abs(_e-le)>=Epsilon&&(le=-2);let Ce=new HeightMapText(he,_e);Ce.outdated=!1,re.push(Ce),ae+=he+1}ae<=L&&re.push(null,new HeightMapGap(L-ae).updateHeight(n,ae));let ue=HeightMap.of(re);return(le<0||Math.abs(ue.height-this.height)>=Epsilon||Math.abs(le-this.heightMetrics(n,g).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,ue)}else(y||this.outdated)&&(this.setHeight(n.heightForGap(g,g+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(n,g,y){super(n.length+g+y.length,n.height+y.height,g|(n.outdated||y.outdated?2:0)),this.left=n,this.right=y,this.size=n.size+y.size}get break(){return this.flags&1}blockAt(n,g,y,$){let L=y+this.left.height;return n<L?this.left.blockAt(n,g,y,$):this.right.blockAt(n,g,L,$+this.left.length+this.break)}lineAt(n,g,y,$,L){let re=$+this.left.height,ae=L+this.left.length+this.break,le=g==QueryType$1.ByHeight?n<re:n<ae,ue=le?this.left.lineAt(n,g,y,$,L):this.right.lineAt(n,g,y,re,ae);if(this.break||(le?ue.to<ae:ue.from>ae))return ue;let he=g==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return le?ue.join(this.right.lineAt(ae,he,y,re,ae)):this.left.lineAt(ae,he,y,$,L).join(ue)}forEachLine(n,g,y,$,L,re){let ae=$+this.left.height,le=L+this.left.length+this.break;if(this.break)n<le&&this.left.forEachLine(n,g,y,$,L,re),g>=le&&this.right.forEachLine(n,g,y,ae,le,re);else{let ue=this.lineAt(le,QueryType$1.ByPos,y,$,L);n<ue.from&&this.left.forEachLine(n,ue.from-1,y,$,L,re),ue.to>=n&&ue.from<=g&&re(ue),g>ue.to&&this.right.forEachLine(ue.to+1,g,y,ae,le,re)}}replace(n,g,y){let $=this.left.length+this.break;if(g<$)return this.balanced(this.left.replace(n,g,y),this.right);if(n>this.left.length)return this.balanced(this.left,this.right.replace(n-$,g-$,y));let L=[];n>0&&this.decomposeLeft(n,L);let re=L.length;for(let ae of y)L.push(ae);if(n>0&&mergeGaps(L,re-1),g<this.length){let ae=L.length;this.decomposeRight(g,L),mergeGaps(L,ae)}return HeightMap.of(L)}decomposeLeft(n,g){let y=this.left.length;if(n<=y)return this.left.decomposeLeft(n,g);g.push(this.left),this.break&&(y++,n>=y&&g.push(null)),n>y&&this.right.decomposeLeft(n-y,g)}decomposeRight(n,g){let y=this.left.length,$=y+this.break;if(n>=$)return this.right.decomposeRight(n-$,g);n<y&&this.left.decomposeRight(n,g),this.break&&n<$&&g.push(null),g.push(this.right)}balanced(n,g){return n.size>2*g.size||g.size>2*n.size?HeightMap.of(this.break?[n,null,g]:[n,g]):(this.left=replace(this.left,n),this.right=replace(this.right,g),this.setHeight(n.height+g.height),this.outdated=n.outdated||g.outdated,this.size=n.size+g.size,this.length=n.length+this.break+g.length,this)}updateHeight(n,g=0,y=!1,$){let{left:L,right:re}=this,ae=g+L.length+this.break,le=null;return $&&$.from<=g+L.length&&$.more?le=L=L.updateHeight(n,g,y,$):L.updateHeight(n,g,y),$&&$.from<=ae+re.length&&$.more?le=re=re.updateHeight(n,ae,y,$):re.updateHeight(n,ae,y),le?this.balanced(L,re):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(r,n){let g,y;r[n]==null&&(g=r[n-1])instanceof HeightMapGap&&(y=r[n+1])instanceof HeightMapGap&&r.splice(n-1,3,new HeightMapGap(g.length+1+y.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(n,g){this.pos=n,this.oracle=g,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=n}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(n,g){if(this.lineStart>-1){let y=Math.min(g,this.lineEnd),$=this.nodes[this.nodes.length-1];$ instanceof HeightMapText?$.length+=y-this.pos:(y>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(y-this.pos,-1)),this.writtenTo=y,g>y&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=g}point(n,g,y){if(n<g||y.heightRelevant){let $=y.widget?y.widget.estimatedHeight:0,L=y.widget?y.widget.lineBreaks:0;$<0&&($=this.oracle.lineHeight);let re=g-n;y.block?this.addBlock(new HeightMapBlock(re,$,y)):(re||L||$>=relevantWidgetHeight)&&this.addLineDeco($,L,re)}else g>n&&this.span(n,g);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:n,to:g}=this.oracle.doc.lineAt(this.pos);this.lineStart=n,this.lineEnd=g,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new HeightMapText(this.pos-n,-1)),this.writtenTo=this.pos}blankContent(n,g){let y=new HeightMapGap(g-n);return this.oracle.doc.lineAt(n).to==g&&(y.flags|=4),y}ensureLine(){this.enterLine();let n=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(n instanceof HeightMapText)return n;let g=new HeightMapText(0,-1);return this.nodes.push(g),g}addBlock(n){this.enterLine();let g=n.deco;g&&g.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(n),this.writtenTo=this.pos=this.pos+n.length,g&&g.endSide>0&&(this.covering=n)}addLineDeco(n,g,y){let $=this.ensureLine();$.length+=y,$.collapsed+=y,$.widgetHeight=Math.max($.widgetHeight,n),$.breaks+=g,this.writtenTo=this.pos=this.pos+y}finish(n){let g=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(g instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||g==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let y=n;for(let $ of this.nodes)$ instanceof HeightMapText&&$.updateHeight(this.oracle,y),y+=$?$.length:1;return this.nodes}static build(n,g,y,$){let L=new NodeBuilder(y,n);return RangeSet.spans(g,y,$,L,0),L.finish(y)}}function heightRelevantDecoChanges(r,n,g){let y=new DecorationComparator;return RangeSet.compare(r,n,g,y,0),y.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(n,g,y,$){(n<g||y&&y.heightRelevant||$&&$.heightRelevant)&&addRange(n,g,this.changes,5)}}function visiblePixelRange(r,n){let g=r.getBoundingClientRect(),y=r.ownerDocument,$=y.defaultView||window,L=Math.max(0,g.left),re=Math.min($.innerWidth,g.right),ae=Math.max(0,g.top),le=Math.min($.innerHeight,g.bottom);for(let ue=r.parentNode;ue&&ue!=y.body;)if(ue.nodeType==1){let he=ue,_e=window.getComputedStyle(he);if((he.scrollHeight>he.clientHeight||he.scrollWidth>he.clientWidth)&&_e.overflow!="visible"){let Ce=he.getBoundingClientRect();L=Math.max(L,Ce.left),re=Math.min(re,Ce.right),ae=Math.max(ae,Ce.top),le=Math.min(ue==r.parentNode?$.innerHeight:le,Ce.bottom)}ue=_e.position=="absolute"||_e.position=="fixed"?he.offsetParent:he.parentNode}else if(ue.nodeType==11)ue=ue.host;else break;return{left:L-g.left,right:Math.max(L,re)-g.left,top:ae-(g.top+n),bottom:Math.max(ae,le)-(g.top+n)}}function inWindow(r){let n=r.getBoundingClientRect(),g=r.ownerDocument.defaultView||window;return n.left<g.innerWidth&&n.right>0&&n.top<g.innerHeight&&n.bottom>0}function fullPixelRange(r,n){let g=r.getBoundingClientRect();return{left:0,right:g.right-g.left,top:n,bottom:g.bottom-(g.top+n)}}class LineGap{constructor(n,g,y,$){this.from=n,this.to=g,this.size=y,this.displaySize=$}static same(n,g){if(n.length!=g.length)return!1;for(let y=0;y<n.length;y++){let $=n[y],L=g[y];if($.from!=L.from||$.to!=L.to||$.size!=L.size)return!1}return!0}draw(n,g){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(g?n.scaleY:n.scaleX),g)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(n,g){super(),this.size=n,this.vertical=g}eq(n){return n.size==this.size&&n.vertical==this.vertical}toDOM(){let n=document.createElement("div");return this.vertical?n.style.height=this.size+"px":(n.style.width=this.size+"px",n.style.height="2px",n.style.display="inline-block"),n}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(n){this.state=n,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let g=n.facet(contentAttributes).some(y=>typeof y!="function"&&y.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(g),this.stateDeco=n.facet(decorations).filter(y=>typeof y!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(n.doc),[new ChangedRange(0,0,0,n.doc.length)]);for(let y=0;y<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());y++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(y=>y.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let n=[this.viewport],{main:g}=this.state.selection;for(let y=0;y<=1;y++){let $=y?g.head:g.anchor;if(!n.some(({from:L,to:re})=>$>=L&&$<=re)){let{from:L,to:re}=this.lineBlockAt($);n.push(new Viewport(L,re))}}return this.viewports=n.sort((y,$)=>y.from-$.from),this.updateScaler()}updateScaler(){let n=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),n.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,n=>{this.viewportLines.push(scaleBlock(n,this.scaler))})}update(n,g=null){this.state=n.state;let y=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(he=>typeof he!="function");let $=n.changedRanges,L=ChangedRange.extendWithRanges($,heightRelevantDecoChanges(y,this.stateDeco,n?n.changes:ChangeSet.empty(this.state.doc.length))),re=this.heightMap.height,ae=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,n.startState.doc,this.heightOracle.setDoc(this.state.doc),L),(this.heightMap.height!=re||heightChangeFlag)&&(n.flags|=2),ae?(this.scrollAnchorPos=n.changes.mapPos(ae.from,-1),this.scrollAnchorHeight=ae.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let le=L.length?this.mapViewport(this.viewport,n.changes):this.viewport;(g&&(g.range.head<le.from||g.range.head>le.to)||!this.viewportIsAppropriate(le))&&(le=this.getViewport(0,g));let ue=le.from!=this.viewport.from||le.to!=this.viewport.to;this.viewport=le,n.flags|=this.updateForViewport(),(ue||!n.changes.empty||n.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,n.changes))),n.flags|=this.computeVisibleRanges(n.changes),g&&(this.scrollTarget=g),!this.mustEnforceCursorAssoc&&n.selectionSet&&n.view.lineWrapping&&n.state.selection.main.empty&&n.state.selection.main.assoc&&!n.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(n){let g=n.contentDOM,y=window.getComputedStyle(g),$=this.heightOracle,L=y.whiteSpace;this.defaultTextDirection=y.direction=="rtl"?Direction.RTL:Direction.LTR;let re=this.heightOracle.mustRefreshForWrapping(L),ae=g.getBoundingClientRect(),le=re||this.mustMeasureContent||this.contentDOMHeight!=ae.height;this.contentDOMHeight=ae.height,this.mustMeasureContent=!1;let ue=0,he=0;if(ae.width&&ae.height){let{scaleX:ze,scaleY:Ue}=getScale(g,ae);(ze>.005&&Math.abs(this.scaleX-ze)>.005||Ue>.005&&Math.abs(this.scaleY-Ue)>.005)&&(this.scaleX=ze,this.scaleY=Ue,ue|=16,re=le=!0)}let _e=(parseInt(y.paddingTop)||0)*this.scaleY,Ce=(parseInt(y.paddingBottom)||0)*this.scaleY;(this.paddingTop!=_e||this.paddingBottom!=Ce)&&(this.paddingTop=_e,this.paddingBottom=Ce,ue|=18),this.editorWidth!=n.scrollDOM.clientWidth&&($.lineWrapping&&(le=!0),this.editorWidth=n.scrollDOM.clientWidth,ue|=16);let $e=n.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=$e&&(this.scrollAnchorHeight=-1,this.scrollTop=$e),this.scrolledToBottom=isScrolledToBottom(n.scrollDOM);let Oe=(this.printing?fullPixelRange:visiblePixelRange)(g,this.paddingTop),xe=Oe.top-this.pixelViewport.top,Ne=Oe.bottom-this.pixelViewport.bottom;this.pixelViewport=Oe;let Ie=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Ie!=this.inView&&(this.inView=Ie,Ie&&(le=!0)),!this.inView&&!this.scrollTarget&&!inWindow(n.dom))return 0;let Fe=ae.width;if((this.contentDOMWidth!=Fe||this.editorHeight!=n.scrollDOM.clientHeight)&&(this.contentDOMWidth=ae.width,this.editorHeight=n.scrollDOM.clientHeight,ue|=16),le){let ze=n.docView.measureVisibleLineHeights(this.viewport);if($.mustRefreshForHeights(ze)&&(re=!0),re||$.lineWrapping&&Math.abs(Fe-this.contentDOMWidth)>$.charWidth){let{lineHeight:Ue,charWidth:qe,textHeight:kt}=n.docView.measureTextSize();re=Ue>0&&$.refresh(L,Ue,qe,kt,Fe/qe,ze),re&&(n.docView.minWidth=0,ue|=16)}xe>0&&Ne>0?he=Math.max(xe,Ne):xe<0&&Ne<0&&(he=Math.min(xe,Ne)),clearHeightChangeFlag();for(let Ue of this.viewports){let qe=Ue.from==this.viewport.from?ze:n.docView.measureVisibleLineHeights(Ue);this.heightMap=(re?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,n.state.doc.length)]):this.heightMap).updateHeight($,0,re,new MeasuredHeights(Ue.from,qe))}heightChangeFlag&&(ue|=2)}let Ve=!this.viewportIsAppropriate(this.viewport,he)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Ve&&(ue&2&&(ue|=this.updateScaler()),this.viewport=this.getViewport(he,this.scrollTarget),ue|=this.updateForViewport()),(ue&2||Ve)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(re?[]:this.lineGaps,n)),ue|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,n.docView.enforceCursorAssoc()),ue}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(n,g){let y=.5-Math.max(-.5,Math.min(.5,n/1e3/2)),$=this.heightMap,L=this.heightOracle,{visibleTop:re,visibleBottom:ae}=this,le=new Viewport($.lineAt(re-y*1e3,QueryType$1.ByHeight,L,0,0).from,$.lineAt(ae+(1-y)*1e3,QueryType$1.ByHeight,L,0,0).to);if(g){let{head:ue}=g.range;if(ue<le.from||ue>le.to){let he=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),_e=$.lineAt(ue,QueryType$1.ByPos,L,0,0),Ce;g.y=="center"?Ce=(_e.top+_e.bottom)/2-he/2:g.y=="start"||g.y=="nearest"&&ue<le.from?Ce=_e.top:Ce=_e.bottom-he,le=new Viewport($.lineAt(Ce-1e3/2,QueryType$1.ByHeight,L,0,0).from,$.lineAt(Ce+he+1e3/2,QueryType$1.ByHeight,L,0,0).to)}}return le}mapViewport(n,g){let y=g.mapPos(n.from,-1),$=g.mapPos(n.to,1);return new Viewport(this.heightMap.lineAt(y,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt($,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:n,to:g},y=0){if(!this.inView)return!0;let{top:$}=this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:L}=this.heightMap.lineAt(g,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:re,visibleBottom:ae}=this;return(n==0||$<=re-Math.max(10,Math.min(-y,250)))&&(g==this.state.doc.length||L>=ae+Math.max(10,Math.min(y,250)))&&$>re-2*1e3&&L<ae+2*1e3}mapLineGaps(n,g){if(!n.length||g.empty)return n;let y=[];for(let $ of n)g.touchesRange($.from,$.to)||y.push(new LineGap(g.mapPos($.from),g.mapPos($.to),$.size,$.displaySize));return y}ensureLineGaps(n,g){let y=this.heightOracle.lineWrapping,$=y?1e4:2e3,L=$>>1,re=$<<1;if(this.defaultTextDirection!=Direction.LTR&&!y)return[];let ae=[],le=(he,_e,Ce,$e)=>{if(_e-he<L)return;let Oe=this.state.selection.main,xe=[Oe.from];Oe.empty||xe.push(Oe.to);for(let Ie of xe)if(Ie>he&&Ie<_e){le(he,Ie-10,Ce,$e),le(Ie+10,_e,Ce,$e);return}let Ne=find(n,Ie=>Ie.from>=Ce.from&&Ie.to<=Ce.to&&Math.abs(Ie.from-he)<L&&Math.abs(Ie.to-_e)<L&&!xe.some(Fe=>Ie.from<Fe&&Ie.to>Fe));if(!Ne){if(_e<Ce.to&&g&&y&&g.visibleRanges.some(Ve=>Ve.from<=_e&&Ve.to>=_e)){let Ve=g.moveToLineBoundary(EditorSelection.cursor(_e),!1,!0).head;Ve>he&&(_e=Ve)}let Ie=this.gapSize(Ce,he,_e,$e),Fe=y||Ie<2e6?Ie:2e6;Ne=new LineGap(he,_e,Ie,Fe)}ae.push(Ne)},ue=he=>{if(he.length<re||he.type!=BlockType.Text)return;let _e=lineStructure(he.from,he.to,this.stateDeco);if(_e.total<re)return;let Ce=this.scrollTarget?this.scrollTarget.range.head:null,$e,Oe;if(y){let xe=$/this.heightOracle.lineLength*this.heightOracle.lineHeight,Ne,Ie;if(Ce!=null){let Fe=findFraction(_e,Ce),Ve=((this.visibleBottom-this.visibleTop)/2+xe)/he.height;Ne=Fe-Ve,Ie=Fe+Ve}else Ne=(this.visibleTop-he.top-xe)/he.height,Ie=(this.visibleBottom-he.top+xe)/he.height;$e=findPosition(_e,Ne),Oe=findPosition(_e,Ie)}else{let xe=_e.total*this.heightOracle.charWidth,Ne=$*this.heightOracle.charWidth,Ie=0;if(xe>2e6)for(let qe of n)qe.from>=he.from&&qe.from<he.to&&qe.size!=qe.displaySize&&qe.from*this.heightOracle.charWidth+Ie<this.pixelViewport.left&&(Ie=qe.size-qe.displaySize);let Fe=this.pixelViewport.left+Ie,Ve=this.pixelViewport.right+Ie,ze,Ue;if(Ce!=null){let qe=findFraction(_e,Ce),kt=((Ve-Fe)/2+Ne)/xe;ze=qe-kt,Ue=qe+kt}else ze=(Fe-Ne)/xe,Ue=(Ve+Ne)/xe;$e=findPosition(_e,ze),Oe=findPosition(_e,Ue)}$e>he.from&&le(he.from,$e,he,_e),Oe<he.to&&le(Oe,he.to,he,_e)};for(let he of this.viewportLines)Array.isArray(he.type)?he.type.forEach(ue):ue(he);return ae}gapSize(n,g,y,$){let L=findFraction($,y)-findFraction($,g);return this.heightOracle.lineWrapping?n.height*L:$.total*this.heightOracle.charWidth*L}updateLineGaps(n){LineGap.same(n,this.lineGaps)||(this.lineGaps=n,this.lineGapDeco=Decoration.set(n.map(g=>g.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(n){let g=this.stateDeco;this.lineGaps.length&&(g=g.concat(this.lineGapDeco));let y=[];RangeSet.spans(g,this.viewport.from,this.viewport.to,{span(L,re){y.push({from:L,to:re})},point(){}},20);let $=0;if(y.length!=this.visibleRanges.length)$=12;else for(let L=0;L<y.length&&!($&8);L++){let re=this.visibleRanges[L],ae=y[L];(re.from!=ae.from||re.to!=ae.to)&&($|=4,n&&n.mapPos(re.from,-1)==ae.from&&n.mapPos(re.to,1)==ae.to||($|=8))}return this.visibleRanges=y,$}lineBlockAt(n){return n>=this.viewport.from&&n<=this.viewport.to&&this.viewportLines.find(g=>g.from<=n&&g.to>=n)||scaleBlock(this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(n){return n>=this.viewportLines[0].top&&n<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(g=>g.top<=n&&g.bottom>=n)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(n),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(n){let g=this.lineBlockAtHeight(n+8);return g.from>=this.viewport.from||this.viewportLines[0].top-n>200?g:this.viewportLines[0]}elementAtHeight(n){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(n),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(n,g){this.from=n,this.to=g}}function lineStructure(r,n,g){let y=[],$=r,L=0;return RangeSet.spans(g,r,n,{span(){},point(re,ae){re>$&&(y.push({from:$,to:re}),L+=re-$),$=ae}},20),$<n&&(y.push({from:$,to:n}),L+=n-$),{total:L,ranges:y}}function findPosition({total:r,ranges:n},g){if(g<=0)return n[0].from;if(g>=1)return n[n.length-1].to;let y=Math.floor(r*g);for(let $=0;;$++){let{from:L,to:re}=n[$],ae=re-L;if(y<=ae)return L+y;y-=ae}}function findFraction(r,n){let g=0;for(let{from:y,to:$}of r.ranges){if(n<=$){g+=n-y;break}g+=$-y}return g/r.total}function find(r,n){for(let g of r)if(n(g))return g}const IdScaler={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class BigScaler{constructor(n,g,y){let $=0,L=0,re=0;this.viewports=y.map(({from:ae,to:le})=>{let ue=g.lineAt(ae,QueryType$1.ByPos,n,0,0).top,he=g.lineAt(le,QueryType$1.ByPos,n,0,0).bottom;return $+=he-ue,{from:ae,to:le,top:ue,bottom:he,domTop:0,domBottom:0}}),this.scale=(7e6-$)/(g.height-$);for(let ae of this.viewports)ae.domTop=re+(ae.top-L)*this.scale,re=ae.domBottom=ae.domTop+(ae.bottom-ae.top),L=ae.bottom}toDOM(n){for(let g=0,y=0,$=0;;g++){let L=g<this.viewports.length?this.viewports[g]:null;if(!L||n<L.top)return $+(n-y)*this.scale;if(n<=L.bottom)return L.domTop+(n-L.top);y=L.bottom,$=L.domBottom}}fromDOM(n){for(let g=0,y=0,$=0;;g++){let L=g<this.viewports.length?this.viewports[g]:null;if(!L||n<L.domTop)return y+(n-$)/this.scale;if(n<=L.domBottom)return L.top+(n-L.domTop);y=L.bottom,$=L.domBottom}}eq(n){return n instanceof BigScaler?this.scale==n.scale&&this.viewports.length==n.viewports.length&&this.viewports.every((g,y)=>g.from==n.viewports[y].from&&g.to==n.viewports[y].to):!1}}function scaleBlock(r,n){if(n.scale==1)return r;let g=n.toDOM(r.top),y=n.toDOM(r.bottom);return new BlockInfo(r.from,r.length,g,y-g,Array.isArray(r._content)?r._content.map($=>scaleBlock($,n)):r._content)}const theme=Facet.define({combine:r=>r.join(" ")}),darkTheme=Facet.define({combine:r=>r.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(r,n,g){return new StyleModule(n,{finish(y){return/&/.test(y)?y.replace(/&\w*/,$=>{if($=="&")return r;if(!g||!g[$])throw new RangeError(`Unsupported selector: ${$}`);return g[$]}):r+" "+y}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(n){this.view=n,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(g=>{for(let y of g)this.queue.push(y);(browser.ie&&browser.ie_version<=11||browser.ios&&n.composing)&&g.some(y=>y.type=="childList"&&y.removedNodes.length||y.type=="characterData"&&y.oldValue.length>y.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&n.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(n),n.state.facet(editable)&&(n.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=g=>{this.queue.push({target:g.target,type:"characterData",oldValue:g.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var g;((g=this.view.docView)===null||g===void 0?void 0:g.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM)),this.addWindowListeners(this.win=n.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(g=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),g.length>0&&g[g.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(g=>{g.length>0&&g[g.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(n){this.view.inputState.runHandlers("scroll",n),this.intersecting&&this.view.measure()}onScroll(n){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(n)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(n){(n.type=="change"||!n.type)&&!n.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((g,y)=>g!=n[y]))){this.gapIntersection.disconnect();for(let g of n)this.gapIntersection.observe(g);this.gaps=n}}onSelectionChange(n){let g=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:y}=this,$=this.selectionRange;if(y.state.facet(editable)?y.root.activeElement!=this.dom:!hasSelection(this.dom,$))return;let L=$.anchorNode&&y.docView.nearest($.anchorNode);if(L&&L.ignoreEvent(n)){g||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!y.state.selection.main.empty&&$.focusNode&&isEquivalentPosition($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:n}=this,g=getSelection(n.root);if(!g)return!1;let y=browser.safari&&n.root.nodeType==11&&n.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,g)||g;if(!y||this.selectionRange.eq(y))return!1;let $=hasSelection(this.dom,y);return $&&!this.selectionChanged&&n.inputState.lastFocusTime>Date.now()-200&&n.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,y)?(this.view.inputState.lastFocusTime=0,n.docView.updateSelection(),!1):(this.selectionRange.setRange(y),$&&(this.selectionChanged=!0),!0)}setSelectionRange(n,g){this.selectionRange.set(n.node,n.offset,g.node,g.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let n=0,g=null;for(let y=this.dom;y;)if(y.nodeType==1)!g&&n<this.scrollTargets.length&&this.scrollTargets[n]==y?n++:g||(g=this.scrollTargets.slice(0,n)),g&&g.push(y),y=y.assignedSlot||y.parentNode;else if(y.nodeType==11)y=y.host;else break;if(n<this.scrollTargets.length&&!g&&(g=this.scrollTargets.slice(0,n)),g){for(let y of this.scrollTargets)y.removeEventListener("scroll",this.onScroll);for(let y of this.scrollTargets=g)y.addEventListener("scroll",this.onScroll)}}ignore(n){if(!this.active)return n();try{return this.stop(),n()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(n,g){var y;if(!this.delayedAndroidKey){let $=()=>{let L=this.delayedAndroidKey;L&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=L.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&L.force&&dispatchKey(this.dom,L.key,L.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame($)}(!this.delayedAndroidKey||n=="Enter")&&(this.delayedAndroidKey={key:n,keyCode:g,force:this.lastChange<Date.now()-50||!!(!((y=this.delayedAndroidKey)===null||y===void 0)&&y.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}processRecords(){let n=this.pendingRecords();n.length&&(this.queue=[]);let g=-1,y=-1,$=!1;for(let L of n){let re=this.readMutation(L);re&&(re.typeOver&&($=!0),g==-1?{from:g,to:y}=re:(g=Math.min(re.from,g),y=Math.max(re.to,y)))}return{from:g,to:y,typeOver:$}}readChange(){let{from:n,to:g,typeOver:y}=this.processRecords(),$=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(n<0&&!$)return null;n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let L=new DOMChange(this.view,n,g,y);return this.view.docView.domChanged={newSel:L.newSel?L.newSel.main:null},L}flush(n=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;n&&this.readSelectionRange();let g=this.readChange();if(!g)return this.view.requestMeasure(),!1;let y=this.view.state,$=applyDOMChange(this.view,g);return this.view.state==y&&(g.domChanged||g.newSel&&!g.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),$}readMutation(n){let g=this.view.docView.nearest(n.target);if(!g||g.ignoreMutation(n))return null;if(g.markDirty(n.type=="attributes"),n.type=="attributes"&&(g.flags|=4),n.type=="childList"){let y=findChild(g,n.previousSibling||n.target.previousSibling,-1),$=findChild(g,n.nextSibling||n.target.nextSibling,1);return{from:y?g.posAfter(y):g.posAtStart,to:$?g.posBefore($):g.posAtEnd,typeOver:!1}}else return n.type=="characterData"?{from:g.posAtStart,to:g.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}:null}setWindow(n){n!=this.win&&(this.removeWindowListeners(this.win),this.win=n,this.addWindowListeners(this.win))}addWindowListeners(n){n.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):n.addEventListener("beforeprint",this.onPrint),n.addEventListener("scroll",this.onScroll),n.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(n){n.removeEventListener("scroll",this.onScroll),n.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):n.removeEventListener("beforeprint",this.onPrint),n.document.removeEventListener("selectionchange",this.onSelectionChange)}update(n){this.editContext&&(this.editContext.update(n),n.startState.facet(editable)!=n.state.facet(editable)&&(n.view.contentDOM.editContext=n.state.facet(editable)?this.editContext.editContext:null))}destroy(){var n,g,y;this.stop(),(n=this.intersection)===null||n===void 0||n.disconnect(),(g=this.gapIntersection)===null||g===void 0||g.disconnect(),(y=this.resizeScroll)===null||y===void 0||y.disconnect();for(let $ of this.scrollTargets)$.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(r,n,g){for(;n;){let y=ContentView.get(n);if(y&&y.parent==r)return y;let $=n.parentNode;n=$!=r.dom?$:g>0?n.nextSibling:n.previousSibling}return null}function buildSelectionRangeFromRange(r,n){let g=n.startContainer,y=n.startOffset,$=n.endContainer,L=n.endOffset,re=r.docView.domAtPos(r.state.selection.main.anchor);return isEquivalentPosition(re.node,re.offset,$,L)&&([g,y,$,L]=[$,L,g,y]),{anchorNode:g,anchorOffset:y,focusNode:$,focusOffset:L}}function safariSelectionRangeHack(r,n){if(n.getComposedRanges){let $=n.getComposedRanges(r.root)[0];if($)return buildSelectionRangeFromRange(r,$)}let g=null;function y($){$.preventDefault(),$.stopImmediatePropagation(),g=$.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",y,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",y,!0),g?buildSelectionRangeFromRange(r,g):null}class EditContextManager{constructor(n){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(n.state);let g=this.editContext=new window.EditContext({text:n.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,n.state.selection.main.anchor))),selectionEnd:this.toContextPos(n.state.selection.main.head)});this.handlers.textupdate=y=>{let $=n.state.selection.main,{anchor:L,head:re}=$,ae=this.toEditorPos(y.updateRangeStart),le=this.toEditorPos(y.updateRangeEnd);n.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:y.updateRangeStart,editorBase:ae,drifted:!1});let ue={from:ae,to:le,insert:Text.of(y.text.split(`
`))};if(ue.from==this.from&&L<this.from?ue.from=L:ue.to==this.to&&L>this.to&&(ue.to=L),ue.from==ue.to&&!ue.insert.length){let he=EditorSelection.single(this.toEditorPos(y.selectionStart),this.toEditorPos(y.selectionEnd));he.main.eq($)||n.dispatch({selection:he,userEvent:"select"});return}if((browser.mac||browser.android)&&ue.from==re-1&&/^\. ?$/.test(y.text)&&n.contentDOM.getAttribute("autocorrect")=="off"&&(ue={from:ae,to:le,insert:Text.of([y.text.replace("."," ")])}),this.pendingContextChange=ue,!n.state.readOnly){let he=this.to-this.from+(ue.to-ue.from+ue.insert.length);applyDOMChangeInner(n,ue,EditorSelection.single(this.toEditorPos(y.selectionStart,he),this.toEditorPos(y.selectionEnd,he)))}this.pendingContextChange&&(this.revertPending(n.state),this.setSelection(n.state))},this.handlers.characterboundsupdate=y=>{let $=[],L=null;for(let re=this.toEditorPos(y.rangeStart),ae=this.toEditorPos(y.rangeEnd);re<ae;re++){let le=n.coordsForChar(re);L=le&&new DOMRect(le.left,le.top,le.right-le.left,le.bottom-le.top)||L||new DOMRect,$.push(L)}g.updateCharacterBounds(y.rangeStart,$)},this.handlers.textformatupdate=y=>{let $=[];for(let L of y.getTextFormats()){let re=L.underlineStyle,ae=L.underlineThickness;if(re!="None"&&ae!="None"){let le=this.toEditorPos(L.rangeStart),ue=this.toEditorPos(L.rangeEnd);if(le<ue){let he=`text-decoration: underline ${re=="Dashed"?"dashed ":re=="Squiggle"?"wavy ":""}${ae=="Thin"?1:2}px`;$.push(Decoration.mark({attributes:{style:he}}).range(le,ue))}}}n.dispatch({effects:setEditContextFormatting.of(Decoration.set($))})},this.handlers.compositionstart=()=>{n.inputState.composing<0&&(n.inputState.composing=0,n.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(n.inputState.composing=-1,n.inputState.compositionFirstChange=null,this.composing){let{drifted:y}=this.composing;this.composing=null,y&&this.reset(n.state)}};for(let y in this.handlers)g.addEventListener(y,this.handlers[y]);this.measureReq={read:y=>{this.editContext.updateControlBounds(y.contentDOM.getBoundingClientRect());let $=getSelection(y.root);$&&$.rangeCount&&this.editContext.updateSelectionBounds($.getRangeAt(0).getBoundingClientRect())}}}applyEdits(n){let g=0,y=!1,$=this.pendingContextChange;return n.changes.iterChanges((L,re,ae,le,ue)=>{if(y)return;let he=ue.length-(re-L);if($&&re>=$.to)if($.from==L&&$.to==re&&$.insert.eq(ue)){$=this.pendingContextChange=null,g+=he,this.to+=he;return}else $=null,this.revertPending(n.state);if(L+=g,re+=g,re<=this.from)this.from+=he,this.to+=he;else if(L<this.to){if(L<this.from||re>this.to||this.to-this.from+ue.length>3e4){y=!0;return}this.editContext.updateText(this.toContextPos(L),this.toContextPos(re),ue.toString()),this.to+=he}g+=he}),$&&!y&&this.revertPending(n.state),!y}update(n){let g=this.pendingContextChange,y=n.startState.selection.main;this.composing&&(this.composing.drifted||!n.changes.touchesRange(y.from,y.to)&&n.transactions.some($=>!$.isUserEvent("input.type")&&$.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=n.changes.mapPos(this.composing.editorBase)):!this.applyEdits(n)||!this.rangeIsValid(n.state)?(this.pendingContextChange=null,this.reset(n.state)):(n.docChanged||n.selectionSet||g)&&this.setSelection(n.state),(n.geometryChanged||n.docChanged||n.selectionSet)&&n.view.requestMeasure(this.measureReq)}resetRange(n){let{head:g}=n.selection.main;this.from=Math.max(0,g-1e4),this.to=Math.min(n.doc.length,g+1e4)}reset(n){this.resetRange(n),this.editContext.updateText(0,this.editContext.text.length,n.doc.sliceString(this.from,this.to)),this.setSelection(n)}revertPending(n){let g=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(g.from),this.toContextPos(g.from+g.insert.length),n.doc.sliceString(g.from,g.to))}setSelection(n){let{main:g}=n.selection,y=this.toContextPos(Math.max(this.from,Math.min(this.to,g.anchor))),$=this.toContextPos(g.head);(this.editContext.selectionStart!=y||this.editContext.selectionEnd!=$)&&this.editContext.updateSelection(y,$)}rangeIsValid(n){let{head:g}=n.selection.main;return!(this.from>0&&g-this.from<500||this.to<n.doc.length&&this.to-g<500||this.to-this.from>1e4*3)}toEditorPos(n,g=this.to-this.from){n=Math.min(n,g);let y=this.composing;return y&&y.drifted?y.editorBase+(n-y.contextBase):n+this.from}toContextPos(n){let g=this.composing;return g&&g.drifted?g.contextBase+(n-g.editorBase):n-this.from}destroy(){for(let n in this.handlers)this.editContext.removeEventListener(n,this.handlers[n])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(n={}){var g;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),n.parent&&n.parent.appendChild(this.dom);let{dispatch:y}=n;this.dispatchTransactions=n.dispatchTransactions||y&&($=>$.forEach(L=>y(L,this)))||($=>this.update($)),this.dispatch=this.dispatch.bind(this),this._root=n.root||getRoot(n.parent)||document,this.viewState=new ViewState(n.state||EditorState.create(n)),n.scrollTo&&n.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=n.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map($=>new PluginInstance($));for(let $ of this.plugins)$.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((g=document.fonts)===null||g===void 0)&&g.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...n){let g=n.length==1&&n[0]instanceof Transaction?n:n.length==1&&Array.isArray(n[0])?n[0]:[this.state.update(...n)];this.dispatchTransactions(g,this)}update(n){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let g=!1,y=!1,$,L=this.state;for(let Ce of n){if(Ce.startState!=L)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");L=Ce.state}if(this.destroyed){this.viewState.state=L;return}let re=this.hasFocus,ae=0,le=null;n.some(Ce=>Ce.annotation(isFocusChange))?(this.inputState.notifiedFocused=re,ae=1):re!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=re,le=focusChangeTransaction(L,re),le||(ae=1));let ue=this.observer.delayedAndroidKey,he=null;if(ue?(this.observer.clearDelayedAndroidKey(),he=this.observer.readChange(),(he&&!this.state.doc.eq(L.doc)||!this.state.selection.eq(L.selection))&&(he=null)):this.observer.clear(),L.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(L);$=ViewUpdate.create(this,L,n),$.flags|=ae;let _e=this.viewState.scrollTarget;try{this.updateState=2;for(let Ce of n){if(_e&&(_e=_e.map(Ce.changes)),Ce.scrollIntoView){let{main:$e}=Ce.state.selection;_e=new ScrollTarget($e.empty?$e:EditorSelection.cursor($e.head,$e.head>$e.anchor?-1:1))}for(let $e of Ce.effects)$e.is(scrollIntoView$1)&&(_e=$e.value.clip(this.state))}this.viewState.update($,_e),this.bidiCache=CachedOrder.update(this.bidiCache,$.changes),$.empty||(this.updatePlugins($),this.inputState.update($)),g=this.docView.update($),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),y=this.updateAttrs(),this.showAnnouncements(n),this.docView.updateSelection(g,n.some(Ce=>Ce.isUserEvent("select.pointer")))}finally{this.updateState=0}if($.startState.facet(theme)!=$.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(g||y||_e||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),g&&this.docViewUpdate(),!$.empty)for(let Ce of this.state.facet(updateListener))try{Ce($)}catch($e){logException(this.state,$e,"update listener")}(le||he)&&Promise.resolve().then(()=>{le&&this.state==le.startState&&this.dispatch(le),he&&!applyDOMChange(this,he)&&ue.force&&dispatchKey(this.contentDOM,ue.key,ue.keyCode)})}setState(n){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=n;return}this.updateState=2;let g=this.hasFocus;try{for(let y of this.plugins)y.destroy(this);this.viewState=new ViewState(n),this.plugins=n.facet(viewPlugin).map(y=>new PluginInstance(y)),this.pluginMap.clear();for(let y of this.plugins)y.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}g&&this.focus(),this.requestMeasure()}updatePlugins(n){let g=n.startState.facet(viewPlugin),y=n.state.facet(viewPlugin);if(g!=y){let $=[];for(let L of y){let re=g.indexOf(L);if(re<0)$.push(new PluginInstance(L));else{let ae=this.plugins[re];ae.mustUpdate=n,$.push(ae)}}for(let L of this.plugins)L.mustUpdate!=n&&L.destroy(this);this.plugins=$,this.pluginMap.clear()}else for(let $ of this.plugins)$.mustUpdate=n;for(let $=0;$<this.plugins.length;$++)this.plugins[$].update(this);g!=y&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let n of this.plugins){let g=n.value;if(g&&g.docViewUpdate)try{g.docViewUpdate(this)}catch(y){logException(this.state,y,"doc view update listener")}}}measure(n=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,n&&this.observer.forceFlush();let g=null,y=this.scrollDOM,$=y.scrollTop*this.scaleY,{scrollAnchorPos:L,scrollAnchorHeight:re}=this.viewState;Math.abs($-this.viewState.scrollTop)>1&&(re=-1),this.viewState.scrollAnchorHeight=-1;try{for(let ae=0;;ae++){if(re<0)if(isScrolledToBottom(y))L=-1,re=this.viewState.heightMap.height;else{let $e=this.viewState.scrollAnchorAt($);L=$e.from,re=$e.top}this.updateState=1;let le=this.viewState.measure(this);if(!le&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(ae>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let ue=[];le&4||([this.measureRequests,ue]=[ue,this.measureRequests]);let he=ue.map($e=>{try{return $e.read(this)}catch(Oe){return logException(this.state,Oe),BadMeasure}}),_e=ViewUpdate.create(this,this.state,[]),Ce=!1;_e.flags|=le,g?g.flags|=le:g=_e,this.updateState=2,_e.empty||(this.updatePlugins(_e),this.inputState.update(_e),this.updateAttrs(),Ce=this.docView.update(_e),Ce&&this.docViewUpdate());for(let $e=0;$e<ue.length;$e++)if(he[$e]!=BadMeasure)try{let Oe=ue[$e];Oe.write&&Oe.write(he[$e],this)}catch(Oe){logException(this.state,Oe)}if(Ce&&this.docView.updateSelection(!0),!_e.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,re=-1;continue}else{let Oe=(L<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(L).top)-re;if(Oe>1||Oe<-1){$=$+Oe,y.scrollTop=$/this.scaleY,re=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(g&&!g.empty)for(let ae of this.state.facet(updateListener))ae(g)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let n=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),g={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(g["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,g);let y=this.observer.ignore(()=>{let $=updateAttrs(this.contentDOM,this.contentAttrs,g),L=updateAttrs(this.dom,this.editorAttrs,n);return $||L});return this.editorAttrs=n,this.contentAttrs=g,y}showAnnouncements(n){let g=!0;for(let y of n)for(let $ of y.effects)if($.is(EditorView.announce)){g&&(this.announceDOM.textContent=""),g=!1;let L=this.announceDOM.appendChild(document.createElement("div"));L.textContent=$.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let n=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),n?{nonce:n}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(n){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),n){if(this.measureRequests.indexOf(n)>-1)return;if(n.key!=null){for(let g=0;g<this.measureRequests.length;g++)if(this.measureRequests[g].key===n.key){this.measureRequests[g]=n;return}}this.measureRequests.push(n)}}plugin(n){let g=this.pluginMap.get(n);return(g===void 0||g&&g.spec!=n)&&this.pluginMap.set(n,g=this.plugins.find(y=>y.spec==n)||null),g&&g.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(n){return this.readMeasured(),this.viewState.elementAtHeight(n)}lineBlockAtHeight(n){return this.readMeasured(),this.viewState.lineBlockAtHeight(n)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(n){return this.viewState.lineBlockAt(n)}get contentHeight(){return this.viewState.contentHeight}moveByChar(n,g,y){return skipAtoms(this,n,moveByChar(this,n,g,y))}moveByGroup(n,g){return skipAtoms(this,n,moveByChar(this,n,g,y=>byGroup(this,n.head,y)))}visualLineSide(n,g){let y=this.bidiSpans(n),$=this.textDirectionAt(n.from),L=y[g?y.length-1:0];return EditorSelection.cursor(L.side(g,$)+n.from,L.forward(!g,$)?1:-1)}moveToLineBoundary(n,g,y=!0){return moveToLineBoundary(this,n,g,y)}moveVertically(n,g,y){return skipAtoms(this,n,moveVertically(this,n,g,y))}domAtPos(n){return this.docView.domAtPos(n)}posAtDOM(n,g=0){return this.docView.posFromDOM(n,g)}posAtCoords(n,g=!0){return this.readMeasured(),posAtCoords(this,n,g)}coordsAtPos(n,g=1){this.readMeasured();let y=this.docView.coordsAt(n,g);if(!y||y.left==y.right)return y;let $=this.state.doc.lineAt(n),L=this.bidiSpans($),re=L[BidiSpan.find(L,n-$.from,-1,g)];return flattenRect(y,re.dir==Direction.LTR==g>0)}coordsForChar(n){return this.readMeasured(),this.docView.coordsForChar(n)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(n){return!this.state.facet(perLineTextDirection)||n<this.viewport.from||n>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(n))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(n){if(n.length>MaxBidiLine)return trivialOrder(n.length);let g=this.textDirectionAt(n.from),y;for(let L of this.bidiCache)if(L.from==n.from&&L.dir==g&&(L.fresh||isolatesEq(L.isolates,y=getIsolatedRanges(this,n))))return L.order;y||(y=getIsolatedRanges(this,n));let $=computeOrder(n.text,g,y);return this.bidiCache.push(new CachedOrder(n.from,n.to,g,y,!0,$)),$}get hasFocus(){var n;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((n=this.inputState)===null||n===void 0?void 0:n.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(n){this._root!=n&&(this._root=n,this.observer.setWindow((n.nodeType==9?n:n.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let n of this.plugins)n.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(n,g={}){return scrollIntoView$1.of(new ScrollTarget(typeof n=="number"?EditorSelection.cursor(n):n,g.y,g.x,g.yMargin,g.xMargin))}scrollSnapshot(){let{scrollTop:n,scrollLeft:g}=this.scrollDOM,y=this.viewState.scrollAnchorAt(n);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(y.from),"start","start",y.top-n,g,!0))}setTabFocusMode(n){n==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof n=="boolean"?this.inputState.tabFocusMode=n?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+n)}static domEventHandlers(n){return ViewPlugin.define(()=>({}),{eventHandlers:n})}static domEventObservers(n){return ViewPlugin.define(()=>({}),{eventObservers:n})}static theme(n,g){let y=StyleModule.newName(),$=[theme.of(y),styleModule.of(buildTheme(`.${y}`,n))];return g&&g.dark&&$.push(darkTheme.of(!0)),$}static baseTheme(n){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,n,lightDarkIDs)))}static findFromDOM(n){var g;let y=n.querySelector(".cm-content"),$=y&&ContentView.get(y)||ContentView.get(n);return((g=$==null?void 0:$.rootView)===null||g===void 0?void 0:g.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:r=>r.length?r[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(n,g,y,$,L,re){this.from=n,this.to=g,this.dir=y,this.isolates=$,this.fresh=L,this.order=re}static update(n,g){if(g.empty&&!n.some(L=>L.fresh))return n;let y=[],$=n.length?n[n.length-1].dir:Direction.LTR;for(let L=Math.max(0,n.length-10);L<n.length;L++){let re=n[L];re.dir==$&&!g.touchesRange(re.from,re.to)&&y.push(new CachedOrder(g.mapPos(re.from,1),g.mapPos(re.to,-1),re.dir,re.isolates,!1,re.order))}return y}}function attrsFromFacet(r,n,g){for(let y=r.state.facet(n),$=y.length-1;$>=0;$--){let L=y[$],re=typeof L=="function"?L(r):L;re&&combineAttrs(re,g)}return g}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(r,n){const g=r.split(/-(?!$)/);let y=g[g.length-1];y=="Space"&&(y=" ");let $,L,re,ae;for(let le=0;le<g.length-1;++le){const ue=g[le];if(/^(cmd|meta|m)$/i.test(ue))ae=!0;else if(/^a(lt)?$/i.test(ue))$=!0;else if(/^(c|ctrl|control)$/i.test(ue))L=!0;else if(/^s(hift)?$/i.test(ue))re=!0;else if(/^mod$/i.test(ue))n=="mac"?ae=!0:L=!0;else throw new Error("Unrecognized modifier name: "+ue)}return $&&(y="Alt-"+y),L&&(y="Ctrl-"+y),ae&&(y="Meta-"+y),re&&(y="Shift-"+y),y}function modifiers(r,n,g){return n.altKey&&(r="Alt-"+r),n.ctrlKey&&(r="Ctrl-"+r),n.metaKey&&(r="Meta-"+r),g!==!1&&n.shiftKey&&(r="Shift-"+r),r}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(r,n){return runHandlers(getKeymap(n.state),r,n,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(r){let n=r.facet(keymap),g=Keymaps.get(n);return g||Keymaps.set(n,g=buildKeymap(n.reduce((y,$)=>y.concat($),[]))),g}function runScopeHandlers(r,n,g){return runHandlers(getKeymap(r.state),n,r,g)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(r,n=currentPlatform){let g=Object.create(null),y=Object.create(null),$=(re,ae)=>{let le=y[re];if(le==null)y[re]=ae;else if(le!=ae)throw new Error("Key binding "+re+" is used both as a regular binding and as a multi-stroke prefix")},L=(re,ae,le,ue,he)=>{var _e,Ce;let $e=g[re]||(g[re]=Object.create(null)),Oe=ae.split(/ (?!$)/).map(Ie=>normalizeKeyName(Ie,n));for(let Ie=1;Ie<Oe.length;Ie++){let Fe=Oe.slice(0,Ie).join(" ");$(Fe,!0),$e[Fe]||($e[Fe]={preventDefault:!0,stopPropagation:!1,run:[Ve=>{let ze=storedPrefix={view:Ve,prefix:Fe,scope:re};return setTimeout(()=>{storedPrefix==ze&&(storedPrefix=null)},PrefixTimeout),!0}]})}let xe=Oe.join(" ");$(xe,!1);let Ne=$e[xe]||($e[xe]={preventDefault:!1,stopPropagation:!1,run:((Ce=(_e=$e._any)===null||_e===void 0?void 0:_e.run)===null||Ce===void 0?void 0:Ce.slice())||[]});le&&Ne.run.push(le),ue&&(Ne.preventDefault=!0),he&&(Ne.stopPropagation=!0)};for(let re of r){let ae=re.scope?re.scope.split(" "):["editor"];if(re.any)for(let ue of ae){let he=g[ue]||(g[ue]=Object.create(null));he._any||(he._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:_e}=re;for(let Ce in he)he[Ce].run.push($e=>_e($e,currentKeyEvent))}let le=re[n]||re.key;if(le)for(let ue of ae)L(ue,le,re.run,re.preventDefault,re.stopPropagation),re.shift&&L(ue,"Shift-"+le,re.shift,re.preventDefault,re.stopPropagation)}return g}let currentKeyEvent=null;function runHandlers(r,n,g,y){currentKeyEvent=n;let $=keyName(n),L=codePointAt($,0),re=codePointSize(L)==$.length&&$!=" ",ae="",le=!1,ue=!1,he=!1;storedPrefix&&storedPrefix.view==g&&storedPrefix.scope==y&&(ae=storedPrefix.prefix+" ",modifierCodes.indexOf(n.keyCode)<0&&(ue=!0,storedPrefix=null));let _e=new Set,Ce=Ne=>{if(Ne){for(let Ie of Ne.run)if(!_e.has(Ie)&&(_e.add(Ie),Ie(g)))return Ne.stopPropagation&&(he=!0),!0;Ne.preventDefault&&(Ne.stopPropagation&&(he=!0),ue=!0)}return!1},$e=r[y],Oe,xe;return $e&&(Ce($e[ae+modifiers($,n,!re)])?le=!0:re&&(n.altKey||n.metaKey||n.ctrlKey)&&!(browser.windows&&n.ctrlKey&&n.altKey)&&(Oe=base[n.keyCode])&&Oe!=$?(Ce($e[ae+modifiers(Oe,n,!0)])||n.shiftKey&&(xe=shift[n.keyCode])!=$&&xe!=Oe&&Ce($e[ae+modifiers(xe,n,!1)]))&&(le=!0):re&&n.shiftKey&&Ce($e[ae+modifiers($,n,!0)])&&(le=!0),!le&&Ce($e._any)&&(le=!0)),ue&&(le=!0),le&&he&&n.stopPropagation(),currentKeyEvent=null,le}class RectangleMarker{constructor(n,g,y,$,L){this.className=n,this.left=g,this.top=y,this.width=$,this.height=L}draw(){let n=document.createElement("div");return n.className=this.className,this.adjust(n),n}update(n,g){return g.className!=this.className?!1:(this.adjust(n),!0)}adjust(n){n.style.left=this.left+"px",n.style.top=this.top+"px",this.width!=null&&(n.style.width=this.width+"px"),n.style.height=this.height+"px"}eq(n){return this.left==n.left&&this.top==n.top&&this.width==n.width&&this.height==n.height&&this.className==n.className}static forRange(n,g,y){if(y.empty){let $=n.coordsAtPos(y.head,y.assoc||1);if(!$)return[];let L=getBase(n);return[new RectangleMarker(g,$.left-L.left,$.top-L.top,null,$.bottom-$.top)]}else return rectanglesForRange(n,g,y)}}function getBase(r){let n=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Direction.LTR?n.left:n.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:n.top-r.scrollDOM.scrollTop*r.scaleY}}function wrappedLine(r,n,g,y){let $=r.coordsAtPos(n,g*2);if(!$)return y;let L=r.dom.getBoundingClientRect(),re=($.top+$.bottom)/2,ae=r.posAtCoords({x:L.left+1,y:re}),le=r.posAtCoords({x:L.right-1,y:re});return ae==null||le==null?y:{from:Math.max(y.from,Math.min(ae,le)),to:Math.min(y.to,Math.max(ae,le))}}function rectanglesForRange(r,n,g){if(g.to<=r.viewport.from||g.from>=r.viewport.to)return[];let y=Math.max(g.from,r.viewport.from),$=Math.min(g.to,r.viewport.to),L=r.textDirection==Direction.LTR,re=r.contentDOM,ae=re.getBoundingClientRect(),le=getBase(r),ue=re.querySelector(".cm-line"),he=ue&&window.getComputedStyle(ue),_e=ae.left+(he?parseInt(he.paddingLeft)+Math.min(0,parseInt(he.textIndent)):0),Ce=ae.right-(he?parseInt(he.paddingRight):0),$e=blockAt(r,y),Oe=blockAt(r,$),xe=$e.type==BlockType.Text?$e:null,Ne=Oe.type==BlockType.Text?Oe:null;if(xe&&(r.lineWrapping||$e.widgetLineBreaks)&&(xe=wrappedLine(r,y,1,xe)),Ne&&(r.lineWrapping||Oe.widgetLineBreaks)&&(Ne=wrappedLine(r,$,-1,Ne)),xe&&Ne&&xe.from==Ne.from&&xe.to==Ne.to)return Fe(Ve(g.from,g.to,xe));{let Ue=xe?Ve(g.from,null,xe):ze($e,!1),qe=Ne?Ve(null,g.to,Ne):ze(Oe,!0),kt=[];return(xe||$e).to<(Ne||Oe).from-(xe&&Ne?1:0)||$e.widgetLineBreaks>1&&Ue.bottom+r.defaultLineHeight/2<qe.top?kt.push(Ie(_e,Ue.bottom,Ce,qe.top)):Ue.bottom<qe.top&&r.elementAtHeight((Ue.bottom+qe.top)/2).type==BlockType.Text&&(Ue.bottom=qe.top=(Ue.bottom+qe.top)/2),Fe(Ue).concat(kt).concat(Fe(qe))}function Ie(Ue,qe,kt,Et){return new RectangleMarker(n,Ue-le.left,qe-le.top,kt-Ue,Et-qe)}function Fe({top:Ue,bottom:qe,horizontal:kt}){let Et=[];for(let Pt=0;Pt<kt.length;Pt+=2)Et.push(Ie(kt[Pt],Ue,kt[Pt+1],qe));return Et}function Ve(Ue,qe,kt){let Et=1e9,Pt=-1e9,At=[];function Dt(_n,vn,jt,$n,Sn){let bn=r.coordsAtPos(_n,_n==kt.to?-2:2),wn=r.coordsAtPos(jt,jt==kt.from?2:-2);!bn||!wn||(Et=Math.min(bn.top,wn.top,Et),Pt=Math.max(bn.bottom,wn.bottom,Pt),Sn==Direction.LTR?At.push(L&&vn?_e:bn.left,L&&$n?Ce:wn.right):At.push(!L&&$n?_e:wn.left,!L&&vn?Ce:bn.right))}let Lt=Ue??kt.from,hn=qe??kt.to;for(let _n of r.visibleRanges)if(_n.to>Lt&&_n.from<hn)for(let vn=Math.max(_n.from,Lt),jt=Math.min(_n.to,hn);;){let $n=r.state.doc.lineAt(vn);for(let Sn of r.bidiSpans($n)){let bn=Sn.from+$n.from,wn=Sn.to+$n.from;if(bn>=jt)break;wn>vn&&Dt(Math.max(bn,vn),Ue==null&&bn<=Lt,Math.min(wn,jt),qe==null&&wn>=hn,Sn.dir)}if(vn=$n.to+1,vn>=jt)break}return At.length==0&&Dt(Lt,Ue==null,hn,qe==null,r.textDirection),{top:Et,bottom:Pt,horizontal:At}}function ze(Ue,qe){let kt=ae.top+(qe?Ue.top:Ue.bottom);return{top:kt,bottom:kt,horizontal:[]}}}function sameMarker(r,n){return r.constructor==n.constructor&&r.eq(n)}class LayerView{constructor(n,g){this.view=n,this.layer=g,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=n.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),g.above&&this.dom.classList.add("cm-layer-above"),g.class&&this.dom.classList.add(g.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(n.state),n.requestMeasure(this.measureReq),g.mount&&g.mount(this.dom,n)}update(n){n.startState.facet(layerOrder)!=n.state.facet(layerOrder)&&this.setOrder(n.state),(this.layer.update(n,this.dom)||n.geometryChanged)&&(this.scale(),n.view.requestMeasure(this.measureReq))}docViewUpdate(n){this.layer.updateOnDocViewUpdate!==!1&&n.requestMeasure(this.measureReq)}setOrder(n){let g=0,y=n.facet(layerOrder);for(;g<y.length&&y[g]!=this.layer;)g++;this.dom.style.zIndex=String((this.layer.above?150:-1)-g)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:n,scaleY:g}=this.view;(n!=this.scaleX||g!=this.scaleY)&&(this.scaleX=n,this.scaleY=g,this.dom.style.transform=`scale(${1/n}, ${1/g})`)}draw(n){if(n.length!=this.drawn.length||n.some((g,y)=>!sameMarker(g,this.drawn[y]))){let g=this.dom.firstChild,y=0;for(let $ of n)$.update&&g&&$.constructor&&this.drawn[y].constructor&&$.update(g,this.drawn[y])?(g=g.nextSibling,y++):this.dom.insertBefore($.draw(),g);for(;g;){let $=g.nextSibling;g.remove(),g=$}this.drawn=n}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(r){return[ViewPlugin.define(n=>new LayerView(n,r)),layerOrder.of(r)]}const selectionConfig=Facet.define({combine(r){return combineConfig(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(n,g)=>Math.min(n,g),drawRangeCursor:(n,g)=>n||g})}});function drawSelection(r={}){return[selectionConfig.of(r),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(r){return r.startState.facet(selectionConfig)!=r.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(r){let{state:n}=r,g=n.facet(selectionConfig),y=[];for(let $ of n.selection.ranges){let L=$==n.selection.main;if($.empty||g.drawRangeCursor){let re=L?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",ae=$.empty?$:EditorSelection.cursor($.head,$.head>$.anchor?-1:1);for(let le of RectangleMarker.forRange(r,re,ae))y.push(le)}}return y},update(r,n){r.transactions.some(y=>y.selection)&&(n.style.animationName=n.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let g=configChanged(r);return g&&setBlinkRate(r.state,n),r.docChanged||r.selectionSet||g},mount(r,n){setBlinkRate(n.state,r)},class:"cm-cursorLayer"});function setBlinkRate(r,n){n.style.animationDuration=r.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(r){return r.state.selection.ranges.map(n=>n.empty?[]:RectangleMarker.forRange(r,"cm-selectionBackground",n)).reduce((n,g)=>n.concat(g))},update(r,n){return r.docChanged||r.selectionSet||r.viewportChanged||configChanged(r)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(r,n){return r==null?null:n.mapPos(r)}}),dropCursorPos=StateField.define({create(){return null},update(r,n){return r!=null&&(r=n.changes.mapPos(r)),n.effects.reduce((g,y)=>y.is(setDropCursorPos)?y.value:g,r)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var n;let g=r.state.field(dropCursorPos);g==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(dropCursorPos)!=g||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,n=r.state.field(dropCursorPos),g=n!=null&&r.coordsAtPos(n);if(!g)return null;let y=r.scrollDOM.getBoundingClientRect();return{left:g.left-y.left+r.scrollDOM.scrollLeft*r.scaleX,top:g.top-y.top+r.scrollDOM.scrollTop*r.scaleY,height:g.bottom-g.top}}drawCursor(r){if(this.cursor){let{scaleX:n,scaleY:g}=this.view;r?(this.cursor.style.left=r.left/n+"px",this.cursor.style.top=r.top/g+"px",this.cursor.style.height=r.height/g+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(dropCursorPos)!=r&&this.view.dispatch({effects:setDropCursorPos.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(r,n,g,y,$){n.lastIndex=0;for(let L=r.iterRange(g,y),re=g,ae;!L.next().done;re+=L.value.length)if(!L.lineBreak)for(;ae=n.exec(L.value);)$(re+ae.index,ae)}function matchRanges(r,n){let g=r.visibleRanges;if(g.length==1&&g[0].from==r.viewport.from&&g[0].to==r.viewport.to)return g;let y=[];for(let{from:$,to:L}of g)$=Math.max(r.state.doc.lineAt($).from,$-n),L=Math.min(r.state.doc.lineAt(L).to,L+n),y.length&&y[y.length-1].to>=$?y[y.length-1].to=L:y.push({from:$,to:L});return y}class MatchDecorator{constructor(n){const{regexp:g,decoration:y,decorate:$,boundary:L,maxLength:re=1e3}=n;if(!g.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=g,$)this.addMatch=(ae,le,ue,he)=>$(he,ue,ue+ae[0].length,ae,le);else if(typeof y=="function")this.addMatch=(ae,le,ue,he)=>{let _e=y(ae,le,ue);_e&&he(ue,ue+ae[0].length,_e)};else if(y)this.addMatch=(ae,le,ue,he)=>he(ue,ue+ae[0].length,y);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=L,this.maxLength=re}createDeco(n){let g=new RangeSetBuilder,y=g.add.bind(g);for(let{from:$,to:L}of matchRanges(n,this.maxLength))iterMatches(n.state.doc,this.regexp,$,L,(re,ae)=>this.addMatch(ae,n,re,y));return g.finish()}updateDeco(n,g){let y=1e9,$=-1;return n.docChanged&&n.changes.iterChanges((L,re,ae,le)=>{le>=n.view.viewport.from&&ae<=n.view.viewport.to&&(y=Math.min(ae,y),$=Math.max(le,$))}),n.viewportMoved||$-y>1e3?this.createDeco(n.view):$>-1?this.updateRange(n.view,g.map(n.changes),y,$):g}updateRange(n,g,y,$){for(let L of n.visibleRanges){let re=Math.max(L.from,y),ae=Math.min(L.to,$);if(ae>re){let le=n.state.doc.lineAt(re),ue=le.to<ae?n.state.doc.lineAt(ae):le,he=Math.max(L.from,le.from),_e=Math.min(L.to,ue.to);if(this.boundary){for(;re>le.from;re--)if(this.boundary.test(le.text[re-1-le.from])){he=re;break}for(;ae<ue.to;ae++)if(this.boundary.test(ue.text[ae-ue.from])){_e=ae;break}}let Ce=[],$e,Oe=(xe,Ne,Ie)=>Ce.push(Ie.range(xe,Ne));if(le==ue)for(this.regexp.lastIndex=he-le.from;($e=this.regexp.exec(le.text))&&$e.index<_e-le.from;)this.addMatch($e,n,$e.index+le.from,Oe);else iterMatches(n.state.doc,this.regexp,he,_e,(xe,Ne)=>this.addMatch(Ne,n,xe,Oe));g=g.update({filterFrom:he,filterTo:_e,filter:(xe,Ne)=>xe<he||Ne>_e,add:Ce})}}return g}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var r;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let n=document.body.style;_supportsTabSize=((r=n.tabSize)!==null&&r!==void 0?r:n.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(r){let n=combineConfig(r,{render:null,specialChars:Specials,addSpecialChars:null});return(n.replaceTabs=!supportsTabSize())&&(n.specialChars=new RegExp("	|"+n.specialChars.source,UnicodeRegexpSupport)),n.addSpecialChars&&(n.specialChars=new RegExp(n.specialChars.source+"|"+n.addSpecialChars.source,UnicodeRegexpSupport)),n}});function highlightSpecialChars(r={}){return[specialCharConfig.of(r),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new MatchDecorator({regexp:r.specialChars,decoration:(n,g,y)=>{let{doc:$}=g.state,L=codePointAt(n[0],0);if(L==9){let re=$.lineAt(y),ae=g.state.tabSize,le=countColumn(re.text,ae,y-re.from);return Decoration.replace({widget:new TabWidget((ae-le%ae)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[L]||(this.decorationCache[L]=Decoration.replace({widget:new SpecialCharWidget(r,L)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let n=r.state.facet(specialCharConfig);r.startState.facet(specialCharConfig)!=n?(this.decorator=this.makeDecorator(n),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const DefaultPlaceholder="";function placeholder$1(r){return r>=32?DefaultPlaceholder:r==10?"":String.fromCharCode(9216+r)}class SpecialCharWidget extends WidgetType{constructor(n,g){super(),this.options=n,this.code=g}eq(n){return n.code==this.code}toDOM(n){let g=placeholder$1(this.code),y=n.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),$=this.options.render&&this.options.render(this.code,y,g);if($)return $;let L=document.createElement("span");return L.textContent=g,L.title=y,L.setAttribute("aria-label",y),L.className="cm-specialChar",L}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(n){super(),this.width=n}eq(n){return n.width==this.width}toDOM(){let n=document.createElement("span");return n.textContent="	",n.className="cm-tab",n.style.width=this.width+"px",n}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let n=-1,g=[];for(let y of r.state.selection.ranges){let $=r.lineBlockAt(y.head);$.from>n&&(g.push(lineDeco.range($.from)),n=$.from)}return Decoration.set(g)}},{decorations:r=>r.decorations}),MaxOff=2e3;function rectangleFor(r,n,g){let y=Math.min(n.line,g.line),$=Math.max(n.line,g.line),L=[];if(n.off>MaxOff||g.off>MaxOff||n.col<0||g.col<0){let re=Math.min(n.off,g.off),ae=Math.max(n.off,g.off);for(let le=y;le<=$;le++){let ue=r.doc.line(le);ue.length<=ae&&L.push(EditorSelection.range(ue.from+re,ue.to+ae))}}else{let re=Math.min(n.col,g.col),ae=Math.max(n.col,g.col);for(let le=y;le<=$;le++){let ue=r.doc.line(le),he=findColumn(ue.text,re,r.tabSize,!0);if(he<0)L.push(EditorSelection.cursor(ue.to));else{let _e=findColumn(ue.text,ae,r.tabSize);L.push(EditorSelection.range(ue.from+he,ue.from+_e))}}}return L}function absoluteColumn(r,n){let g=r.coordsAtPos(r.viewport.from);return g?Math.round(Math.abs((g.left-n)/r.defaultCharacterWidth)):-1}function getPos(r,n){let g=r.posAtCoords({x:n.clientX,y:n.clientY},!1),y=r.state.doc.lineAt(g),$=g-y.from,L=$>MaxOff?-1:$==y.length?absoluteColumn(r,n.clientX):countColumn(y.text,r.state.tabSize,g-y.from);return{line:y.number,col:L,off:$}}function rectangleSelectionStyle(r,n){let g=getPos(r,n),y=r.state.selection;return g?{update($){if($.docChanged){let L=$.changes.mapPos($.startState.doc.line(g.line).from),re=$.state.doc.lineAt(L);g={line:re.number,col:g.col,off:Math.min(g.off,re.length)},y=y.map($.changes)}},get($,L,re){let ae=getPos(r,$);if(!ae)return y;let le=rectangleFor(r.state,g,ae);return le.length?re?EditorSelection.create(le.concat(y.ranges)):EditorSelection.create(le):y}}:null}function rectangularSelection(r){let n=g=>g.altKey&&g.button==0;return EditorView.mouseSelectionStyle.of((g,y)=>n(y)?rectangleSelectionStyle(g,y):null)}const keys={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(r={}){let[n,g]=keys[r.key||"Alt"],y=ViewPlugin.fromClass(class{constructor($){this.view=$,this.isDown=!1}set($){this.isDown!=$&&(this.isDown=$,this.view.update([]))}},{eventObservers:{keydown($){this.set($.keyCode==n||g($))},keyup($){($.keyCode==n||!g($))&&this.set(!1)},mousemove($){this.set(g($))}}});return[y,EditorView.contentAttributes.of($=>{var L;return!((L=$.plugin(y))===null||L===void 0)&&L.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(n,g,y,$){this.facet=g,this.createTooltipView=y,this.removeTooltipView=$,this.input=n.state.facet(g),this.tooltips=this.input.filter(re=>re);let L=null;this.tooltipViews=this.tooltips.map(re=>L=y(re,L))}update(n,g){var y;let $=n.state.facet(this.facet),L=$.filter(le=>le);if($===this.input){for(let le of this.tooltipViews)le.update&&le.update(n);return!1}let re=[],ae=g?[]:null;for(let le=0;le<L.length;le++){let ue=L[le],he=-1;if(ue){for(let _e=0;_e<this.tooltips.length;_e++){let Ce=this.tooltips[_e];Ce&&Ce.create==ue.create&&(he=_e)}if(he<0)re[le]=this.createTooltipView(ue,le?re[le-1]:null),ae&&(ae[le]=!!ue.above);else{let _e=re[le]=this.tooltipViews[he];ae&&(ae[le]=g[he]),_e.update&&_e.update(n)}}}for(let le of this.tooltipViews)re.indexOf(le)<0&&(this.removeTooltipView(le),(y=le.destroy)===null||y===void 0||y.call(le));return g&&(ae.forEach((le,ue)=>g[ue]=le),g.length=ae.length),this.input=$,this.tooltips=L,this.tooltipViews=re,!0}}function windowSpace(r){let n=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:n.clientHeight,right:n.clientWidth}}const tooltipConfig=Facet.define({combine:r=>{var n,g,y;return{position:browser.ios?"absolute":((n=r.find($=>$.position))===null||n===void 0?void 0:n.position)||"fixed",parent:((g=r.find($=>$.parent))===null||g===void 0?void 0:g.parent)||null,tooltipSpace:((y=r.find($=>$.tooltipSpace))===null||y===void 0?void 0:y.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let n=r.state.facet(tooltipConfig);this.position=n.position,this.parent=n.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(r,showTooltip,(g,y)=>this.createTooltip(g,y),g=>{this.resizeObserver&&this.resizeObserver.unobserve(g.dom),g.dom.remove()}),this.above=this.manager.tooltips.map(g=>!!g.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(g=>{Date.now()>this.lastTransaction-50&&g.length>0&&g[g.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(r,this.above);n&&this.observeIntersection();let g=n||r.geometryChanged,y=r.state.facet(tooltipConfig);if(y.position!=this.position&&!this.madeAbsolute){this.position=y.position;for(let $ of this.manager.tooltipViews)$.dom.style.position=this.position;g=!0}if(y.parent!=this.parent){this.parent&&this.container.remove(),this.parent=y.parent,this.createContainer();for(let $ of this.manager.tooltipViews)this.container.appendChild($.dom);g=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);g&&this.maybeMeasure()}createTooltip(r,n){let g=r.create(this.view),y=n?n.dom:null;if(g.dom.classList.add("cm-tooltip"),r.arrow&&!g.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let $=document.createElement("div");$.className="cm-tooltip-arrow",g.dom.appendChild($)}return g.dom.style.position=this.position,g.dom.style.top=Outside,g.dom.style.left="0px",this.container.insertBefore(g.dom,y),g.mount&&g.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(g.dom),g}destroy(){var r,n,g;this.view.win.removeEventListener("resize",this.measureSoon);for(let y of this.manager.tooltipViews)y.dom.remove(),(r=y.destroy)===null||r===void 0||r.call(y);this.parent&&this.container.remove(),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),(g=this.intersectionObserver)===null||g===void 0||g.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,n=1,g=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:L}=this.manager.tooltipViews[0];if(browser.gecko)g=L.offsetParent!=this.container.ownerDocument.body;else if(L.style.top==Outside&&L.style.left=="0px"){let re=L.getBoundingClientRect();g=Math.abs(re.top+1e4)>1||Math.abs(re.left)>1}}if(g||this.position=="absolute")if(this.parent){let L=this.parent.getBoundingClientRect();L.width&&L.height&&(r=L.width/this.parent.offsetWidth,n=L.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:n}=this.view.viewState);let y=this.view.scrollDOM.getBoundingClientRect(),$=getScrollMargins(this.view);return{visible:{left:y.left+$.left,top:y.top+$.top,right:y.right-$.right,bottom:y.bottom-$.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((L,re)=>{let ae=this.manager.tooltipViews[re];return ae.getCoords?ae.getCoords(L.pos):this.view.coordsAtPos(L.pos)}),size:this.manager.tooltipViews.map(({dom:L})=>L.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:r,scaleY:n,makeAbsolute:g}}writeMeasure(r){var n;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let ae of this.manager.tooltipViews)ae.dom.style.position="absolute"}let{visible:g,space:y,scaleX:$,scaleY:L}=r,re=[];for(let ae=0;ae<this.manager.tooltips.length;ae++){let le=this.manager.tooltips[ae],ue=this.manager.tooltipViews[ae],{dom:he}=ue,_e=r.pos[ae],Ce=r.size[ae];if(!_e||le.clip!==!1&&(_e.bottom<=Math.max(g.top,y.top)||_e.top>=Math.min(g.bottom,y.bottom)||_e.right<Math.max(g.left,y.left)-.1||_e.left>Math.min(g.right,y.right)+.1)){he.style.top=Outside;continue}let $e=le.arrow?ue.dom.querySelector(".cm-tooltip-arrow"):null,Oe=$e?7:0,xe=Ce.right-Ce.left,Ne=(n=knownHeight.get(ue))!==null&&n!==void 0?n:Ce.bottom-Ce.top,Ie=ue.offset||noOffset,Fe=this.view.textDirection==Direction.LTR,Ve=Ce.width>y.right-y.left?Fe?y.left:y.right-Ce.width:Fe?Math.max(y.left,Math.min(_e.left-($e?14:0)+Ie.x,y.right-xe)):Math.min(Math.max(y.left,_e.left-xe+($e?14:0)-Ie.x),y.right-xe),ze=this.above[ae];!le.strictSide&&(ze?_e.top-Ne-Oe-Ie.y<y.top:_e.bottom+Ne+Oe+Ie.y>y.bottom)&&ze==y.bottom-_e.bottom>_e.top-y.top&&(ze=this.above[ae]=!ze);let Ue=(ze?_e.top-y.top:y.bottom-_e.bottom)-Oe;if(Ue<Ne&&ue.resize!==!1){if(Ue<this.view.defaultLineHeight){he.style.top=Outside;continue}knownHeight.set(ue,Ne),he.style.height=(Ne=Ue)/L+"px"}else he.style.height&&(he.style.height="");let qe=ze?_e.top-Ne-Oe-Ie.y:_e.bottom+Oe+Ie.y,kt=Ve+xe;if(ue.overlap!==!0)for(let Et of re)Et.left<kt&&Et.right>Ve&&Et.top<qe+Ne&&Et.bottom>qe&&(qe=ze?Et.top-Ne-2-Oe:Et.bottom+Oe+2);if(this.position=="absolute"?(he.style.top=(qe-r.parent.top)/L+"px",setLeftStyle(he,(Ve-r.parent.left)/$)):(he.style.top=qe/L+"px",setLeftStyle(he,Ve/$)),$e){let Et=_e.left+(Fe?Ie.x:-Ie.x)-(Ve+14-7);$e.style.left=Et/$+"px"}ue.overlap!==!0&&re.push({left:Ve,top:qe,right:kt,bottom:qe+Ne}),he.classList.toggle("cm-tooltip-above",ze),he.classList.toggle("cm-tooltip-below",!ze),ue.positioned&&ue.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(r,n){let g=parseInt(r.style.left,10);(isNaN(g)||Math.abs(n-g)>1)&&(r.style.left=n+"px")}const baseTheme$6=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$6]}),showHoverTooltip=Facet.define({combine:r=>r.reduce((n,g)=>n.concat(g),[])});class HoverTooltipHost{static create(n){return new HoverTooltipHost(n)}constructor(n){this.view=n,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(n,showHoverTooltip,(g,y)=>this.createHostedView(g,y),g=>g.dom.remove())}createHostedView(n,g){let y=n.create(this.view);return y.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(y.dom,g?g.dom.nextSibling:this.dom.firstChild),this.mounted&&y.mount&&y.mount(this.view),y}mount(n){for(let g of this.manager.tooltipViews)g.mount&&g.mount(n);this.mounted=!0}positioned(n){for(let g of this.manager.tooltipViews)g.positioned&&g.positioned(n)}update(n){this.manager.update(n)}destroy(){var n;for(let g of this.manager.tooltipViews)(n=g.destroy)===null||n===void 0||n.call(g)}passProp(n){let g;for(let y of this.manager.tooltipViews){let $=y[n];if($!==void 0){if(g===void 0)g=$;else if(g!==$)return}}return g}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],r=>{let n=r.facet(showHoverTooltip);return n.length===0?null:{pos:Math.min(...n.map(g=>g.pos)),end:Math.max(...n.map(g=>{var y;return(y=g.end)!==null&&y!==void 0?y:g.pos})),create:HoverTooltipHost.create,above:n[0].above,arrow:n.some(g=>g.arrow)}});class HoverPlugin{constructor(n,g,y,$,L){this.view=n,this.source=g,this.field=y,this.setHover=$,this.hoverTime=L,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:n.dom,time:0},this.checkHover=this.checkHover.bind(this),n.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),n.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let n=Date.now()-this.lastMove.time;n<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-n):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:n,lastMove:g}=this,y=n.docView.nearest(g.target);if(!y)return;let $,L=1;if(y instanceof WidgetView)$=y.posAtStart;else{if($=n.posAtCoords(g),$==null)return;let ae=n.coordsAtPos($);if(!ae||g.y<ae.top||g.y>ae.bottom||g.x<ae.left-n.defaultCharacterWidth||g.x>ae.right+n.defaultCharacterWidth)return;let le=n.bidiSpans(n.state.doc.lineAt($)).find(he=>he.from<=$&&he.to>=$),ue=le&&le.dir==Direction.RTL?-1:1;L=g.x<ae.left?-ue:ue}let re=this.source(n,$,L);if(re!=null&&re.then){let ae=this.pending={pos:$};re.then(le=>{this.pending==ae&&(this.pending=null,le&&!(Array.isArray(le)&&!le.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(le)?le:[le])}))},le=>logException(n.state,le,"hover tooltip"))}else re&&!(Array.isArray(re)&&!re.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(re)?re:[re])})}get tooltip(){let n=this.view.plugin(tooltipPlugin),g=n?n.manager.tooltips.findIndex(y=>y.create==HoverTooltipHost.create):-1;return g>-1?n.manager.tooltipViews[g]:null}mousemove(n){var g,y;this.lastMove={x:n.clientX,y:n.clientY,target:n.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:$,tooltip:L}=this;if($.length&&L&&!isInTooltip(L.dom,n)||this.pending){let{pos:re}=$[0]||this.pending,ae=(y=(g=$[0])===null||g===void 0?void 0:g.end)!==null&&y!==void 0?y:re;(re==ae?this.view.posAtCoords(this.lastMove)!=re:!isOverRange(this.view,re,ae,n.clientX,n.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(n){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:g}=this;if(g.length){let{tooltip:y}=this;y&&y.dom.contains(n.relatedTarget)?this.watchTooltipLeave(y.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(n){let g=y=>{n.removeEventListener("mouseleave",g),this.active.length&&!this.view.dom.contains(y.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};n.addEventListener("mouseleave",g)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(r,n){let{left:g,right:y,top:$,bottom:L}=r.getBoundingClientRect(),re;if(re=r.querySelector(".cm-tooltip-arrow")){let ae=re.getBoundingClientRect();$=Math.min(ae.top,$),L=Math.max(ae.bottom,L)}return n.clientX>=g-tooltipMargin&&n.clientX<=y+tooltipMargin&&n.clientY>=$-tooltipMargin&&n.clientY<=L+tooltipMargin}function isOverRange(r,n,g,y,$,L){let re=r.scrollDOM.getBoundingClientRect(),ae=r.documentTop+r.documentPadding.top+r.contentHeight;if(re.left>y||re.right<y||re.top>$||Math.min(re.bottom,ae)<$)return!1;let le=r.posAtCoords({x:y,y:$},!1);return le>=n&&le<=g}function hoverTooltip(r,n={}){let g=StateEffect.define(),y=StateField.define({create(){return[]},update($,L){if($.length&&(n.hideOnChange&&(L.docChanged||L.selection)?$=[]:n.hideOn&&($=$.filter(re=>!n.hideOn(L,re))),L.docChanged)){let re=[];for(let ae of $){let le=L.changes.mapPos(ae.pos,-1,MapMode.TrackDel);if(le!=null){let ue=Object.assign(Object.create(null),ae);ue.pos=le,ue.end!=null&&(ue.end=L.changes.mapPos(ue.end)),re.push(ue)}}$=re}for(let re of L.effects)re.is(g)&&($=re.value),re.is(closeHoverTooltipEffect)&&($=[]);return $},provide:$=>showHoverTooltip.from($)});return{active:y,extension:[y,ViewPlugin.define($=>new HoverPlugin($,r,y,g,n.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(r,n){let g=r.plugin(tooltipPlugin);if(!g)return null;let y=g.manager.tooltips.indexOf(n);return y<0?null:g.manager.tooltipViews[y]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(r){let n,g;for(let y of r)n=n||y.topContainer,g=g||y.bottomContainer;return{topContainer:n,bottomContainer:g}}});function getPanel(r,n){let g=r.plugin(panelPlugin),y=g?g.specs.indexOf(n):-1;return y>-1?g.panels[y]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(r){this.input=r.state.facet(showPanel),this.specs=this.input.filter(g=>g),this.panels=this.specs.map(g=>g(r));let n=r.state.facet(panelConfig);this.top=new PanelGroup(r,!0,n.topContainer),this.bottom=new PanelGroup(r,!1,n.bottomContainer),this.top.sync(this.panels.filter(g=>g.top)),this.bottom.sync(this.panels.filter(g=>!g.top));for(let g of this.panels)g.dom.classList.add("cm-panel"),g.mount&&g.mount()}update(r){let n=r.state.facet(panelConfig);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new PanelGroup(r.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(r.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let g=r.state.facet(showPanel);if(g!=this.input){let y=g.filter(le=>le),$=[],L=[],re=[],ae=[];for(let le of y){let ue=this.specs.indexOf(le),he;ue<0?(he=le(r.view),ae.push(he)):(he=this.panels[ue],he.update&&he.update(r)),$.push(he),(he.top?L:re).push(he)}this.specs=y,this.panels=$,this.top.sync(L),this.bottom.sync(re);for(let le of ae)le.dom.classList.add("cm-panel"),le.mount&&le.mount()}else for(let y of this.panels)y.update&&y.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>EditorView.scrollMargins.of(n=>{let g=n.plugin(r);return g&&{top:g.top.scrollMargin(),bottom:g.bottom.scrollMargin()}})});class PanelGroup{constructor(n,g,y){this.view=n,this.top=g,this.container=y,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(n){for(let g of this.panels)g.destroy&&n.indexOf(g)<0&&g.destroy();this.panels=n,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let g=this.container||this.view.dom;g.insertBefore(this.dom,this.top?g.firstChild:null)}let n=this.dom.firstChild;for(let g of this.panels)if(g.dom.parentNode==this.dom){for(;n!=g.dom;)n=rm(n);n=n.nextSibling}else this.dom.insertBefore(g.dom,n);for(;n;)n=rm(n)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let n of this.classes.split(" "))n&&this.container.classList.remove(n);for(let n of(this.classes=this.view.themeClasses).split(" "))n&&this.container.classList.add(n)}}}function rm(r){let n=r.nextSibling;return r.remove(),n}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}eq(n){return!1}destroy(n){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(r){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),r))]}const unfixGutters=Facet.define({combine:r=>r.some(n=>n)});function gutters(r){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(activeGutters).map(n=>new SingleGutterView(r,n));for(let n of this.gutters)this.dom.appendChild(n.dom);this.fixed=!r.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let n=this.prevViewport,g=r.view.viewport,y=Math.min(n.to,g.to)-Math.max(n.from,g.from);this.syncGutters(y<(g.to-g.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let n=this.dom.nextSibling;r&&this.dom.remove();let g=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),y=[],$=this.gutters.map(L=>new UpdateContext(L,this.view.viewport,-this.view.documentPadding.top));for(let L of this.view.viewportLineBlocks)if(y.length&&(y=[]),Array.isArray(L.type)){let re=!0;for(let ae of L.type)if(ae.type==BlockType.Text&&re){advanceCursor(g,y,ae.from);for(let le of $)le.line(this.view,ae,y);re=!1}else if(ae.widget)for(let le of $)le.widget(this.view,ae)}else if(L.type==BlockType.Text){advanceCursor(g,y,L.from);for(let re of $)re.line(this.view,L,y)}else if(L.widget)for(let re of $)re.widget(this.view,L);for(let L of $)L.finish();r&&this.view.scrollDOM.insertBefore(this.dom,n)}updateGutters(r){let n=r.startState.facet(activeGutters),g=r.state.facet(activeGutters),y=r.docChanged||r.heightChanged||r.viewportChanged||!RangeSet.eq(r.startState.facet(gutterLineClass),r.state.facet(gutterLineClass),r.view.viewport.from,r.view.viewport.to);if(n==g)for(let $ of this.gutters)$.update(r)&&(y=!0);else{y=!0;let $=[];for(let L of g){let re=n.indexOf(L);re<0?$.push(new SingleGutterView(this.view,L)):(this.gutters[re].update(r),$.push(this.gutters[re]))}for(let L of this.gutters)L.dom.remove(),$.indexOf(L)<0&&L.destroy();for(let L of $)this.dom.appendChild(L.dom);this.gutters=$}return y}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>EditorView.scrollMargins.of(n=>{let g=n.plugin(r);return!g||g.gutters.length==0||!g.fixed?null:n.textDirection==Direction.LTR?{left:g.dom.offsetWidth*n.scaleX}:{right:g.dom.offsetWidth*n.scaleX}})});function asArray$1(r){return Array.isArray(r)?r:[r]}function advanceCursor(r,n,g){for(;r.value&&r.from<=g;)r.from==g&&n.push(r.value),r.next()}class UpdateContext{constructor(n,g,y){this.gutter=n,this.height=y,this.i=0,this.cursor=RangeSet.iter(n.markers,g.from)}addElement(n,g,y){let{gutter:$}=this,L=(g.top-this.height)/n.scaleY,re=g.height/n.scaleY;if(this.i==$.elements.length){let ae=new GutterElement(n,re,L,y);$.elements.push(ae),$.dom.appendChild(ae.dom)}else $.elements[this.i].update(n,re,L,y);this.height=g.bottom,this.i++}line(n,g,y){let $=[];advanceCursor(this.cursor,$,g.from),y.length&&($=$.concat(y));let L=this.gutter.config.lineMarker(n,g,$);L&&$.unshift(L);let re=this.gutter;$.length==0&&!re.config.renderEmptyElements||this.addElement(n,g,$)}widget(n,g){let y=this.gutter.config.widgetMarker(n,g.widget,g),$=y?[y]:null;for(let L of n.state.facet(gutterWidgetClass)){let re=L(n,g.widget,g);re&&($||($=[])).push(re)}$&&this.addElement(n,g,$)}finish(){let n=this.gutter;for(;n.elements.length>this.i;){let g=n.elements.pop();n.dom.removeChild(g.dom),g.destroy()}}}class SingleGutterView{constructor(n,g){this.view=n,this.config=g,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let y in g.domEventHandlers)this.dom.addEventListener(y,$=>{let L=$.target,re;if(L!=this.dom&&this.dom.contains(L)){for(;L.parentNode!=this.dom;)L=L.parentNode;let le=L.getBoundingClientRect();re=(le.top+le.bottom)/2}else re=$.clientY;let ae=n.lineBlockAtHeight(re-n.documentTop);g.domEventHandlers[y](n,ae,$)&&$.preventDefault()});this.markers=asArray$1(g.markers(n)),g.initialSpacer&&(this.spacer=new GutterElement(n,0,0,[g.initialSpacer(n)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(n){let g=this.markers;if(this.markers=asArray$1(this.config.markers(n.view)),this.spacer&&this.config.updateSpacer){let $=this.config.updateSpacer(this.spacer.markers[0],n);$!=this.spacer.markers[0]&&this.spacer.update(n.view,0,0,[$])}let y=n.view.viewport;return!RangeSet.eq(this.markers,g,y.from,y.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(n):!1)}destroy(){for(let n of this.elements)n.destroy()}}class GutterElement{constructor(n,g,y,$){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(n,g,y,$)}update(n,g,y,$){this.height!=g&&(this.height=g,this.dom.style.height=g+"px"),this.above!=y&&(this.dom.style.marginTop=(this.above=y)?y+"px":""),sameMarkers(this.markers,$)||this.setMarkers(n,$)}setMarkers(n,g){let y="cm-gutterElement",$=this.dom.firstChild;for(let L=0,re=0;;){let ae=re,le=L<g.length?g[L++]:null,ue=!1;if(le){let he=le.elementClass;he&&(y+=" "+he);for(let _e=re;_e<this.markers.length;_e++)if(this.markers[_e].compare(le)){ae=_e,ue=!0;break}}else ae=this.markers.length;for(;re<ae;){let he=this.markers[re++];if(he.toDOM){he.destroy($);let _e=$.nextSibling;$.remove(),$=_e}}if(!le)break;le.toDOM&&(ue?$=$.nextSibling:this.dom.insertBefore(le.toDOM(n),$)),ue&&re++}this.dom.className=y,this.markers=g}destroy(){this.setMarkers(null,[])}}function sameMarkers(r,n){if(r.length!=n.length)return!1;for(let g=0;g<r.length;g++)if(!r[g].compare(n[g]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(r){return combineConfig(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(n,g){let y=Object.assign({},n);for(let $ in g){let L=y[$],re=g[$];y[$]=L?(ae,le,ue)=>L(ae,le,ue)||re(ae,le,ue):re}return y}})}});class NumberMarker extends GutterMarker{constructor(n){super(),this.number=n}eq(n){return this.number==n.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(r,n){return r.state.facet(lineNumberConfig).formatNumber(n,r.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(n){return n.state.facet(lineNumberMarkers)},lineMarker(n,g,y){return y.some($=>$.toDOM)?null:new NumberMarker(formatNumber(n,n.state.doc.lineAt(g.from).number))},widgetMarker:(n,g,y)=>{for(let $ of n.state.facet(lineNumberWidgetMarker)){let L=$(n,g,y);if(L)return L}return null},lineMarkerChange:n=>n.startState.facet(lineNumberConfig)!=n.state.facet(lineNumberConfig),initialSpacer(n){return new NumberMarker(formatNumber(n,maxLineNumber(n.state.doc.lines)))},updateSpacer(n,g){let y=formatNumber(g.view,maxLineNumber(g.view.state.doc.lines));return y==n.number?n:new NumberMarker(y)},domEventHandlers:r.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(r={}){return[lineNumberConfig.of(r),gutters(),lineNumberGutter]}function maxLineNumber(r){let n=9;for(;n<r;)n=n*10+9;return n}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],r=>{let n=[],g=-1;for(let y of r.selection.ranges){let $=r.doc.lineAt(y.head).from;$>g&&(g=$,n.push(activeLineGutterMarker.range($)))}return RangeSet.of(n)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength$2=1024;let nextPropID$2=0,Range$2=class{constructor(n,g){this.from=n,this.to=g}},NodeProp$2=class{constructor(n={}){this.id=nextPropID$2++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=NodeType$2.match(n)),g=>{let y=n(g);return y===void 0?null:[this,y]}}};NodeProp$2.closedBy=new NodeProp$2({deserialize:r=>r.split(" ")});NodeProp$2.openedBy=new NodeProp$2({deserialize:r=>r.split(" ")});NodeProp$2.group=new NodeProp$2({deserialize:r=>r.split(" ")});NodeProp$2.isolate=new NodeProp$2({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});NodeProp$2.contextHash=new NodeProp$2({perNode:!0});NodeProp$2.lookAhead=new NodeProp$2({perNode:!0});NodeProp$2.mounted=new NodeProp$2({perNode:!0});let MountedTree$2=class{constructor(n,g,y){this.tree=n,this.overlay=g,this.parser=y}static get(n){return n&&n.props&&n.props[NodeProp$2.mounted.id]}};const noProps$2=Object.create(null);let NodeType$2=class Na{constructor(n,g,y,$=0){this.name=n,this.props=g,this.id=y,this.flags=$}static define(n){let g=n.props&&n.props.length?Object.create(null):noProps$2,y=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),$=new Na(n.name||"",g,n.id,y);if(n.props){for(let L of n.props)if(Array.isArray(L)||(L=L($)),L){if(L[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");g[L[0].id]=L[1]}}return $}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let g=this.prop(NodeProp$2.group);return g?g.indexOf(n)>-1:!1}return this.id==n}static match(n){let g=Object.create(null);for(let y in n)for(let $ of y.split(" "))g[$]=n[y];return y=>{for(let $=y.prop(NodeProp$2.group),L=-1;L<($?$.length:0);L++){let re=g[L<0?y.name:$[L]];if(re)return re}}}};NodeType$2.none=new NodeType$2("",Object.create(null),0,8);const CachedNode$2=new WeakMap,CachedInnerNode$2=new WeakMap;var IterMode$2;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode$2||(IterMode$2={}));let Tree$2=class ma{constructor(n,g,y,$,L){if(this.type=n,this.children=g,this.positions=y,this.length=$,this.props=null,L&&L.length){this.props=Object.create(null);for(let[re,ae]of L)this.props[typeof re=="number"?re:re.id]=ae}}toString(){let n=MountedTree$2.get(this);if(n&&!n.overlay)return n.tree.toString();let g="";for(let y of this.children){let $=y.toString();$&&(g&&(g+=","),g+=$)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(g.length?"("+g+")":""):g}cursor(n=0){return new TreeCursor$2(this.topNode,n)}cursorAt(n,g=0,y=0){let $=CachedNode$2.get(this)||this.topNode,L=new TreeCursor$2($);return L.moveTo(n,g),CachedNode$2.set(this,L._tree),L}get topNode(){return new TreeNode$2(this,0,0,null)}resolve(n,g=0){let y=resolveNode$2(CachedNode$2.get(this)||this.topNode,n,g,!1);return CachedNode$2.set(this,y),y}resolveInner(n,g=0){let y=resolveNode$2(CachedInnerNode$2.get(this)||this.topNode,n,g,!0);return CachedInnerNode$2.set(this,y),y}resolveStack(n,g=0){return stackIterator$2(this,n,g)}iterate(n){let{enter:g,leave:y,from:$=0,to:L=this.length}=n,re=n.mode||0,ae=(re&IterMode$2.IncludeAnonymous)>0;for(let le=this.cursor(re|IterMode$2.IncludeAnonymous);;){let ue=!1;if(le.from<=L&&le.to>=$&&(!ae&&le.type.isAnonymous||g(le)!==!1)){if(le.firstChild())continue;ue=!0}for(;ue&&y&&(ae||!le.type.isAnonymous)&&y(le),!le.nextSibling();){if(!le.parent())return;ue=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let g in this.props)n.push([+g,this.props[g]]);return n}balance(n={}){return this.children.length<=8?this:balanceRange$2(NodeType$2.none,this.children,this.positions,0,this.children.length,0,this.length,(g,y,$)=>new ma(this.type,g,y,$,this.propValues),n.makeTree||((g,y,$)=>new ma(NodeType$2.none,g,y,$)))}static build(n){return buildTree$2(n)}};Tree$2.empty=new Tree$2(NodeType$2.none,[],[],0);let FlatBufferCursor$2=class Ia{constructor(n,g){this.buffer=n,this.index=g}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ia(this.buffer,this.index)}},TreeBuffer$2=class Da{constructor(n,g,y){this.buffer=n,this.length=g,this.set=y}get type(){return NodeType$2.none}toString(){let n=[];for(let g=0;g<this.buffer.length;)n.push(this.childString(g)),g=this.buffer[g+3];return n.join(",")}childString(n){let g=this.buffer[n],y=this.buffer[n+3],$=this.set.types[g],L=$.name;if(/\W/.test(L)&&!$.isError&&(L=JSON.stringify(L)),n+=4,y==n)return L;let re=[];for(;n<y;)re.push(this.childString(n)),n=this.buffer[n+3];return L+"("+re.join(",")+")"}findChild(n,g,y,$,L){let{buffer:re}=this,ae=-1;for(let le=n;le!=g&&!(checkSide$2(L,$,re[le+1],re[le+2])&&(ae=le,y>0));le=re[le+3]);return ae}slice(n,g,y){let $=this.buffer,L=new Uint16Array(g-n),re=0;for(let ae=n,le=0;ae<g;){L[le++]=$[ae++],L[le++]=$[ae++]-y;let ue=L[le++]=$[ae++]-y;L[le++]=$[ae++]-n,re=Math.max(re,ue)}return new Da(L,re,this.set)}};function checkSide$2(r,n,g,y){switch(r){case-2:return g<n;case-1:return y>=n&&g<n;case 0:return g<n&&y>n;case 1:return g<=n&&y>n;case 2:return y>n;case 4:return!0}}function resolveNode$2(r,n,g,y){for(var $;r.from==r.to||(g<1?r.from>=n:r.from>n)||(g>-1?r.to<=n:r.to<n);){let re=!y&&r instanceof TreeNode$2&&r.index<0?null:r.parent;if(!re)return r;r=re}let L=y?0:IterMode$2.IgnoreOverlays;if(y)for(let re=r,ae=re.parent;ae;re=ae,ae=re.parent)re instanceof TreeNode$2&&re.index<0&&(($=ae.enter(n,g,L))===null||$===void 0?void 0:$.from)!=re.from&&(r=ae);for(;;){let re=r.enter(n,g,L);if(!re)return r;r=re}}let BaseNode$2=class{cursor(n=0){return new TreeCursor$2(this,n)}getChild(n,g=null,y=null){let $=getChildren$3(this,n,g,y);return $.length?$[0]:null}getChildren(n,g=null,y=null){return getChildren$3(this,n,g,y)}resolve(n,g=0){return resolveNode$2(this,n,g,!1)}resolveInner(n,g=0){return resolveNode$2(this,n,g,!0)}matchContext(n){return matchNodeContext$2(this.parent,n)}enterUnfinishedNodesBefore(n){let g=this.childBefore(n),y=this;for(;g;){let $=g.lastChild;if(!$||$.to!=g.to)break;$.type.isError&&$.from==$.to?(y=g,g=$.prevSibling):g=$}return y}get node(){return this}get next(){return this.parent}},TreeNode$2=class ea extends BaseNode$2{constructor(n,g,y,$){super(),this._tree=n,this.from=g,this.index=y,this._parent=$}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,g,y,$,L=0){for(let re=this;;){for(let{children:ae,positions:le}=re._tree,ue=g>0?ae.length:-1;n!=ue;n+=g){let he=ae[n],_e=le[n]+re.from;if(checkSide$2($,y,_e,_e+he.length)){if(he instanceof TreeBuffer$2){if(L&IterMode$2.ExcludeBuffers)continue;let Ce=he.findChild(0,he.buffer.length,g,y-_e,$);if(Ce>-1)return new BufferNode$2(new BufferContext$2(re,he,n,_e),null,Ce)}else if(L&IterMode$2.IncludeAnonymous||!he.type.isAnonymous||hasChild$2(he)){let Ce;if(!(L&IterMode$2.IgnoreMounts)&&(Ce=MountedTree$2.get(he))&&!Ce.overlay)return new ea(Ce.tree,_e,n,re);let $e=new ea(he,_e,n,re);return L&IterMode$2.IncludeAnonymous||!$e.type.isAnonymous?$e:$e.nextChild(g<0?he.children.length-1:0,g,y,$)}}}if(L&IterMode$2.IncludeAnonymous||!re.type.isAnonymous||(re.index>=0?n=re.index+g:n=g<0?-1:re._parent._tree.children.length,re=re._parent,!re))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,g,y=0){let $;if(!(y&IterMode$2.IgnoreOverlays)&&($=MountedTree$2.get(this._tree))&&$.overlay){let L=n-this.from;for(let{from:re,to:ae}of $.overlay)if((g>0?re<=L:re<L)&&(g<0?ae>=L:ae>L))return new ea($.tree,$.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,g,y)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function getChildren$3(r,n,g,y){let $=r.cursor(),L=[];if(!$.firstChild())return L;if(g!=null){for(let re=!1;!re;)if(re=$.type.is(g),!$.nextSibling())return L}for(;;){if(y!=null&&$.type.is(y))return L;if($.type.is(n)&&L.push($.node),!$.nextSibling())return y==null?L:[]}}function matchNodeContext$2(r,n,g=n.length-1){for(let y=r;g>=0;y=y.parent){if(!y)return!1;if(!y.type.isAnonymous){if(n[g]&&n[g]!=y.name)return!1;g--}}return!0}let BufferContext$2=class{constructor(n,g,y,$){this.parent=n,this.buffer=g,this.index=y,this.start=$}},BufferNode$2=class Qr extends BaseNode$2{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,g,y){super(),this.context=n,this._parent=g,this.index=y,this.type=n.buffer.set.types[n.buffer.buffer[y]]}child(n,g,y){let{buffer:$}=this.context,L=$.findChild(this.index+4,$.buffer[this.index+3],n,g-this.context.start,y);return L<0?null:new Qr(this.context,this,L)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,g,y=0){if(y&IterMode$2.ExcludeBuffers)return null;let{buffer:$}=this.context,L=$.findChild(this.index+4,$.buffer[this.index+3],g>0?1:-1,n-this.context.start,g);return L<0?null:new Qr(this.context,this,L)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,g=n.buffer[this.index+3];return g<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new Qr(this.context,this._parent,g):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,g=this._parent?this._parent.index+4:0;return this.index==g?this.externalSibling(-1):new Qr(this.context,this._parent,n.findChild(g,this.index,-1,0,4))}get tree(){return null}toTree(){let n=[],g=[],{buffer:y}=this.context,$=this.index+4,L=y.buffer[this.index+3];if(L>$){let re=y.buffer[this.index+1];n.push(y.slice($,L,re)),g.push(0)}return new Tree$2(this.type,n,g,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function iterStack$2(r){if(!r.length)return null;let n=0,g=r[0];for(let L=1;L<r.length;L++){let re=r[L];(re.from>g.from||re.to<g.to)&&(g=re,n=L)}let y=g instanceof TreeNode$2&&g.index<0?null:g.parent,$=r.slice();return y?$[n]=y:$.splice(n,1),new StackIterator$2($,g)}let StackIterator$2=class{constructor(n,g){this.heads=n,this.node=g}get next(){return iterStack$2(this.heads)}};function stackIterator$2(r,n,g){let y=r.resolveInner(n,g),$=null;for(let L=y instanceof TreeNode$2?y:y.context.parent;L;L=L.parent)if(L.index<0){let re=L.parent;($||($=[y])).push(re.resolve(n,g)),L=re}else{let re=MountedTree$2.get(L.tree);if(re&&re.overlay&&re.overlay[0].from<=n&&re.overlay[re.overlay.length-1].to>=n){let ae=new TreeNode$2(re.tree,re.overlay[0].from+L.from,-1,L);($||($=[y])).push(resolveNode$2(ae,n,g,!1))}}return $?iterStack$2($):y}let TreeCursor$2=class{get name(){return this.type.name}constructor(n,g=0){if(this.mode=g,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof TreeNode$2)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let y=n._parent;y;y=y._parent)this.stack.unshift(y.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,g){this.index=n;let{start:y,buffer:$}=this.buffer;return this.type=g||$.set.types[$.buffer[n]],this.from=y+$.buffer[n+1],this.to=y+$.buffer[n+2],!0}yield(n){return n?n instanceof TreeNode$2?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,g,y){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,g,y,this.mode));let{buffer:$}=this.buffer,L=$.findChild(this.index+4,$.buffer[this.index+3],n,g-this.buffer.start,y);return L<0?!1:(this.stack.push(this.index),this.yieldBuf(L))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,g,y=this.mode){return this.buffer?y&IterMode$2.ExcludeBuffers?!1:this.enterChild(1,n,g):this.yield(this._tree.enter(n,g,y))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode$2.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&IterMode$2.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:g}=this.buffer,y=this.stack.length-1;if(n<0){let $=y<0?0:this.stack[y]+4;if(this.index!=$)return this.yieldBuf(g.findChild($,this.index,-1,0,4))}else{let $=g.buffer[this.index+3];if($<(y<0?g.buffer.length:g.buffer[this.stack[y]+3]))return this.yieldBuf($)}return y<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let g,y,{buffer:$}=this;if($){if(n>0){if(this.index<$.buffer.buffer.length)return!1}else for(let L=0;L<this.index;L++)if($.buffer.buffer[L+3]<this.index)return!1;({index:g,parent:y}=$)}else({index:g,_parent:y}=this._tree);for(;y;{index:g,_parent:y}=y)if(g>-1)for(let L=g+n,re=n<0?-1:y._tree.children.length;L!=re;L+=n){let ae=y._tree.children[L];if(this.mode&IterMode$2.IncludeAnonymous||ae instanceof TreeBuffer$2||!ae.type.isAnonymous||hasChild$2(ae))return!1}return!0}move(n,g){if(g&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,g=0){for(;(this.from==this.to||(g<1?this.from>=n:this.from>n)||(g>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,g););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,g=null,y=0;if(n&&n.context==this.buffer)e:for(let $=this.index,L=this.stack.length;L>=0;){for(let re=n;re;re=re._parent)if(re.index==$){if($==this.index)return re;g=re,y=L+1;break e}$=this.stack[--L]}for(let $=y;$<this.stack.length;$++)g=new BufferNode$2(this.buffer,g,this.stack[$]);return this.bufferNode=new BufferNode$2(this.buffer,g,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,g){for(let y=0;;){let $=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){y++;continue}this.type.isAnonymous||($=!0)}for(;;){if($&&g&&g(this),$=this.type.isAnonymous,!y)return;if(this.nextSibling())break;this.parent(),y--,$=!0}}}matchContext(n){if(!this.buffer)return matchNodeContext$2(this.node.parent,n);let{buffer:g}=this.buffer,{types:y}=g.set;for(let $=n.length-1,L=this.stack.length-1;$>=0;L--){if(L<0)return matchNodeContext$2(this._tree,n,$);let re=y[g.buffer[this.stack[L]]];if(!re.isAnonymous){if(n[$]&&n[$]!=re.name)return!1;$--}}return!0}};function hasChild$2(r){return r.children.some(n=>n instanceof TreeBuffer$2||!n.type.isAnonymous||hasChild$2(n))}function buildTree$2(r){var n;let{buffer:g,nodeSet:y,maxBufferLength:$=DefaultBufferLength$2,reused:L=[],minRepeatType:re=y.types.length}=r,ae=Array.isArray(g)?new FlatBufferCursor$2(g,g.length):g,le=y.types,ue=0,he=0;function _e(Ue,qe,kt,Et,Pt,At){let{id:Dt,start:Lt,end:hn,size:_n}=ae,vn=he,jt=ue;for(;_n<0;)if(ae.next(),_n==-1){let On=L[Dt];kt.push(On),Et.push(Lt-Ue);return}else if(_n==-3){ue=Dt;return}else if(_n==-4){he=Dt;return}else throw new RangeError(`Unrecognized record size: ${_n}`);let $n=le[Dt],Sn,bn,wn=Lt-Ue;if(hn-Lt<=$&&(bn=Ne(ae.pos-qe,Pt))){let On=new Uint16Array(bn.size-bn.skip),Tn=ae.pos-bn.size,xn=On.length;for(;ae.pos>Tn;)xn=Ie(bn.start,On,xn);Sn=new TreeBuffer$2(On,hn-bn.start,y),wn=bn.start-Ue}else{let On=ae.pos-_n;ae.next();let Tn=[],xn=[],Pn=Dt>=re?Dt:-1,An=0,Rn=hn;for(;ae.pos>On;)Pn>=0&&ae.id==Pn&&ae.size>=0?(ae.end<=Rn-$&&(Oe(Tn,xn,Lt,An,ae.end,Rn,Pn,vn,jt),An=Tn.length,Rn=ae.end),ae.next()):At>2500?Ce(Lt,On,Tn,xn):_e(Lt,On,Tn,xn,Pn,At+1);if(Pn>=0&&An>0&&An<Tn.length&&Oe(Tn,xn,Lt,An,Lt,Rn,Pn,vn,jt),Tn.reverse(),xn.reverse(),Pn>-1&&An>0){let Nn=$e($n,jt);Sn=balanceRange$2($n,Tn,xn,0,Tn.length,0,hn-Lt,Nn,Nn)}else Sn=xe($n,Tn,xn,hn-Lt,vn-hn,jt)}kt.push(Sn),Et.push(wn)}function Ce(Ue,qe,kt,Et){let Pt=[],At=0,Dt=-1;for(;ae.pos>qe;){let{id:Lt,start:hn,end:_n,size:vn}=ae;if(vn>4)ae.next();else{if(Dt>-1&&hn<Dt)break;Dt<0&&(Dt=_n-$),Pt.push(Lt,hn,_n),At++,ae.next()}}if(At){let Lt=new Uint16Array(At*4),hn=Pt[Pt.length-2];for(let _n=Pt.length-3,vn=0;_n>=0;_n-=3)Lt[vn++]=Pt[_n],Lt[vn++]=Pt[_n+1]-hn,Lt[vn++]=Pt[_n+2]-hn,Lt[vn++]=vn;kt.push(new TreeBuffer$2(Lt,Pt[2]-hn,y)),Et.push(hn-Ue)}}function $e(Ue,qe){return(kt,Et,Pt)=>{let At=0,Dt=kt.length-1,Lt,hn;if(Dt>=0&&(Lt=kt[Dt])instanceof Tree$2){if(!Dt&&Lt.type==Ue&&Lt.length==Pt)return Lt;(hn=Lt.prop(NodeProp$2.lookAhead))&&(At=Et[Dt]+Lt.length+hn)}return xe(Ue,kt,Et,Pt,At,qe)}}function Oe(Ue,qe,kt,Et,Pt,At,Dt,Lt,hn){let _n=[],vn=[];for(;Ue.length>Et;)_n.push(Ue.pop()),vn.push(qe.pop()+kt-Pt);Ue.push(xe(y.types[Dt],_n,vn,At-Pt,Lt-At,hn)),qe.push(Pt-kt)}function xe(Ue,qe,kt,Et,Pt,At,Dt){if(At){let Lt=[NodeProp$2.contextHash,At];Dt=Dt?[Lt].concat(Dt):[Lt]}if(Pt>25){let Lt=[NodeProp$2.lookAhead,Pt];Dt=Dt?[Lt].concat(Dt):[Lt]}return new Tree$2(Ue,qe,kt,Et,Dt)}function Ne(Ue,qe){let kt=ae.fork(),Et=0,Pt=0,At=0,Dt=kt.end-$,Lt={size:0,start:0,skip:0};e:for(let hn=kt.pos-Ue;kt.pos>hn;){let _n=kt.size;if(kt.id==qe&&_n>=0){Lt.size=Et,Lt.start=Pt,Lt.skip=At,At+=4,Et+=4,kt.next();continue}let vn=kt.pos-_n;if(_n<0||vn<hn||kt.start<Dt)break;let jt=kt.id>=re?4:0,$n=kt.start;for(kt.next();kt.pos>vn;){if(kt.size<0)if(kt.size==-3)jt+=4;else break e;else kt.id>=re&&(jt+=4);kt.next()}Pt=$n,Et+=_n,At+=jt}return(qe<0||Et==Ue)&&(Lt.size=Et,Lt.start=Pt,Lt.skip=At),Lt.size>4?Lt:void 0}function Ie(Ue,qe,kt){let{id:Et,start:Pt,end:At,size:Dt}=ae;if(ae.next(),Dt>=0&&Et<re){let Lt=kt;if(Dt>4){let hn=ae.pos-(Dt-4);for(;ae.pos>hn;)kt=Ie(Ue,qe,kt)}qe[--kt]=Lt,qe[--kt]=At-Ue,qe[--kt]=Pt-Ue,qe[--kt]=Et}else Dt==-3?ue=Et:Dt==-4&&(he=Et);return kt}let Fe=[],Ve=[];for(;ae.pos>0;)_e(r.start||0,r.bufferStart||0,Fe,Ve,-1,0);let ze=(n=r.length)!==null&&n!==void 0?n:Fe.length?Ve[0]+Fe[0].length:0;return new Tree$2(le[r.topID],Fe.reverse(),Ve.reverse(),ze)}const nodeSizeCache$2=new WeakMap;function nodeSize$2(r,n){if(!r.isAnonymous||n instanceof TreeBuffer$2||n.type!=r)return 1;let g=nodeSizeCache$2.get(n);if(g==null){g=1;for(let y of n.children){if(y.type!=r||!(y instanceof Tree$2)){g=1;break}g+=nodeSize$2(r,y)}nodeSizeCache$2.set(n,g)}return g}function balanceRange$2(r,n,g,y,$,L,re,ae,le){let ue=0;for(let Oe=y;Oe<$;Oe++)ue+=nodeSize$2(r,n[Oe]);let he=Math.ceil(ue*1.5/8),_e=[],Ce=[];function $e(Oe,xe,Ne,Ie,Fe){for(let Ve=Ne;Ve<Ie;){let ze=Ve,Ue=xe[Ve],qe=nodeSize$2(r,Oe[Ve]);for(Ve++;Ve<Ie;Ve++){let kt=nodeSize$2(r,Oe[Ve]);if(qe+kt>=he)break;qe+=kt}if(Ve==ze+1){if(qe>he){let kt=Oe[ze];$e(kt.children,kt.positions,0,kt.children.length,xe[ze]+Fe);continue}_e.push(Oe[ze])}else{let kt=xe[Ve-1]+Oe[Ve-1].length-Ue;_e.push(balanceRange$2(r,Oe,xe,ze,Ve,Ue,kt,null,le))}Ce.push(Ue+Fe-L)}}return $e(n,g,y,$,0),(ae||le)(_e,Ce,re)}let TreeFragment$1=class ga{constructor(n,g,y,$,L=!1,re=!1){this.from=n,this.to=g,this.tree=y,this.offset=$,this.open=(L?1:0)|(re?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(n,g=[],y=!1){let $=[new ga(0,n.length,n,0,!1,y)];for(let L of g)L.to>n.length&&$.push(L);return $}static applyChanges(n,g,y=128){if(!g.length)return n;let $=[],L=1,re=n.length?n[0]:null;for(let ae=0,le=0,ue=0;;ae++){let he=ae<g.length?g[ae]:null,_e=he?he.fromA:1e9;if(_e-le>=y)for(;re&&re.from<_e;){let Ce=re;if(le>=Ce.from||_e<=Ce.to||ue){let $e=Math.max(Ce.from,le)-ue,Oe=Math.min(Ce.to,_e)-ue;Ce=$e>=Oe?null:new ga($e,Oe,Ce.tree,Ce.offset+ue,ae>0,!!he)}if(Ce&&$.push(Ce),re.to>_e)break;re=L<n.length?n[L++]:null}if(!he)break;le=he.toA,ue=he.toA-he.toB}return $}},Parser$2=class{startParse(n,g,y){return typeof n=="string"&&(n=new StringInput$2(n)),y=y?y.length?y.map($=>new Range$2($.from,$.to)):[new Range$2(0,0)]:[new Range$2(0,n.length)],this.createParse(n,g||[],y)}parse(n,g,y){let $=this.startParse(n,g,y);for(;;){let L=$.advance();if(L)return L}}},StringInput$2=class{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,g){return this.string.slice(n,g)}};new NodeProp$2({perNode:!0});let nextTagID$2=0,Tag$2=class va{constructor(n,g,y,$){this.name=n,this.set=g,this.base=y,this.modified=$,this.id=nextTagID$2++}toString(){let{name:n}=this;for(let g of this.modified)g.name&&(n=`${g.name}(${n})`);return n}static define(n,g){let y=typeof n=="string"?n:"?";if(n instanceof va&&(g=n),g!=null&&g.base)throw new Error("Can not derive from a modified tag");let $=new va(y,[],null,[]);if($.set.push($),g)for(let L of g.set)$.set.push(L);return $}static defineModifier(n){let g=new Modifier$2(n);return y=>y.modified.indexOf(g)>-1?y:Modifier$2.get(y.base||y,y.modified.concat(g).sort(($,L)=>$.id-L.id))}},nextModifierID$2=0,Modifier$2=class La{constructor(n){this.name=n,this.instances=[],this.id=nextModifierID$2++}static get(n,g){if(!g.length)return n;let y=g[0].instances.find(ae=>ae.base==n&&sameArray$2(g,ae.modified));if(y)return y;let $=[],L=new Tag$2(n.name,$,n,g);for(let ae of g)ae.instances.push(L);let re=powerSet$2(g);for(let ae of n.set)if(!ae.modified.length)for(let le of re)$.push(La.get(ae,le));return L}};function sameArray$2(r,n){return r.length==n.length&&r.every((g,y)=>g==n[y])}function powerSet$2(r){let n=[[]];for(let g=0;g<r.length;g++)for(let y=0,$=n.length;y<$;y++)n.push(n[y].concat(r[g]));return n.sort((g,y)=>y.length-g.length)}function styleTags$2(r){let n=Object.create(null);for(let g in r){let y=r[g];Array.isArray(y)||(y=[y]);for(let $ of g.split(" "))if($){let L=[],re=2,ae=$;for(let _e=0;;){if(ae=="..."&&_e>0&&_e+3==$.length){re=1;break}let Ce=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(ae);if(!Ce)throw new RangeError("Invalid path: "+$);if(L.push(Ce[0]=="*"?"":Ce[0][0]=='"'?JSON.parse(Ce[0]):Ce[0]),_e+=Ce[0].length,_e==$.length)break;let $e=$[_e++];if(_e==$.length&&$e=="!"){re=0;break}if($e!="/")throw new RangeError("Invalid path: "+$);ae=$.slice(_e)}let le=L.length-1,ue=L[le];if(!ue)throw new RangeError("Invalid path: "+$);let he=new Rule$2(y,re,le>0?L.slice(0,le):null);n[ue]=he.sort(n[ue])}}return ruleNodeProp$2.add(n)}const ruleNodeProp$2=new NodeProp$2;let Rule$2=class{constructor(n,g,y,$){this.tags=n,this.mode=g,this.context=y,this.next=$}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}};Rule$2.empty=new Rule$2([],2,null);function tagHighlighter$2(r,n){let g=Object.create(null);for(let L of r)if(!Array.isArray(L.tag))g[L.tag.id]=L.class;else for(let re of L.tag)g[re.id]=L.class;let{scope:y,all:$=null}=n||{};return{style:L=>{let re=$;for(let ae of L)for(let le of ae.set){let ue=g[le.id];if(ue){re=re?re+" "+ue:ue;break}}return re},scope:y}}function highlightTags(r,n){let g=null;for(let y of r){let $=y.style(n);$&&(g=g?g+" "+$:$)}return g}function highlightTree(r,n,g,y=0,$=r.length){let L=new HighlightBuilder(y,Array.isArray(n)?n:[n],g);L.highlightRange(r.cursor(),y,$,"",L.highlighters),L.flush($)}class HighlightBuilder{constructor(n,g,y){this.at=n,this.highlighters=g,this.span=y,this.class=""}startSpan(n,g){g!=this.class&&(this.flush(n),n>this.at&&(this.at=n),this.class=g)}flush(n){n>this.at&&this.class&&this.span(this.at,n,this.class)}highlightRange(n,g,y,$,L){let{type:re,from:ae,to:le}=n;if(ae>=y||le<=g)return;re.isTop&&(L=this.highlighters.filter($e=>!$e.scope||$e.scope(re)));let ue=$,he=getStyleTags(n)||Rule$2.empty,_e=highlightTags(L,he.tags);if(_e&&(ue&&(ue+=" "),ue+=_e,he.mode==1&&($+=($?" ":"")+_e)),this.startSpan(Math.max(g,ae),ue),he.opaque)return;let Ce=n.tree&&n.tree.prop(NodeProp$2.mounted);if(Ce&&Ce.overlay){let $e=n.node.enter(Ce.overlay[0].from+ae,1),Oe=this.highlighters.filter(Ne=>!Ne.scope||Ne.scope(Ce.tree.type)),xe=n.firstChild();for(let Ne=0,Ie=ae;;Ne++){let Fe=Ne<Ce.overlay.length?Ce.overlay[Ne]:null,Ve=Fe?Fe.from+ae:le,ze=Math.max(g,Ie),Ue=Math.min(y,Ve);if(ze<Ue&&xe)for(;n.from<Ue&&(this.highlightRange(n,ze,Ue,$,L),this.startSpan(Math.min(Ue,n.to),ue),!(n.to>=Ve||!n.nextSibling())););if(!Fe||Ve>y)break;Ie=Fe.to+ae,Ie>g&&(this.highlightRange($e.cursor(),Math.max(g,Fe.from+ae),Math.min(y,Ie),"",Oe),this.startSpan(Math.min(y,Ie),ue))}xe&&n.parent()}else if(n.firstChild()){Ce&&($="");do if(!(n.to<=g)){if(n.from>=y)break;this.highlightRange(n,g,y,$,L),this.startSpan(Math.min(y,n.to),ue)}while(n.nextSibling());n.parent()}}}function getStyleTags(r){let n=r.type.prop(ruleNodeProp$2);for(;n&&n.context&&!r.matchContext(n.context);)n=n.next;return n||null}const t$2=Tag$2.define,comment$2=t$2(),name$2=t$2(),typeName$2=t$2(name$2),propertyName$2=t$2(name$2),literal$2=t$2(),string$2=t$2(literal$2),number$2=t$2(literal$2),content$2=t$2(),heading$2=t$2(content$2),keyword$2=t$2(),operator$2=t$2(),punctuation$2=t$2(),bracket$2=t$2(punctuation$2),meta$2=t$2(),tags$2={comment:comment$2,lineComment:t$2(comment$2),blockComment:t$2(comment$2),docComment:t$2(comment$2),name:name$2,variableName:t$2(name$2),typeName:typeName$2,tagName:t$2(typeName$2),propertyName:propertyName$2,attributeName:t$2(propertyName$2),className:t$2(name$2),labelName:t$2(name$2),namespace:t$2(name$2),macroName:t$2(name$2),literal:literal$2,string:string$2,docString:t$2(string$2),character:t$2(string$2),attributeValue:t$2(string$2),number:number$2,integer:t$2(number$2),float:t$2(number$2),bool:t$2(literal$2),regexp:t$2(literal$2),escape:t$2(literal$2),color:t$2(literal$2),url:t$2(literal$2),keyword:keyword$2,self:t$2(keyword$2),null:t$2(keyword$2),atom:t$2(keyword$2),unit:t$2(keyword$2),modifier:t$2(keyword$2),operatorKeyword:t$2(keyword$2),controlKeyword:t$2(keyword$2),definitionKeyword:t$2(keyword$2),moduleKeyword:t$2(keyword$2),operator:operator$2,derefOperator:t$2(operator$2),arithmeticOperator:t$2(operator$2),logicOperator:t$2(operator$2),bitwiseOperator:t$2(operator$2),compareOperator:t$2(operator$2),updateOperator:t$2(operator$2),definitionOperator:t$2(operator$2),typeOperator:t$2(operator$2),controlOperator:t$2(operator$2),punctuation:punctuation$2,separator:t$2(punctuation$2),bracket:bracket$2,angleBracket:t$2(bracket$2),squareBracket:t$2(bracket$2),paren:t$2(bracket$2),brace:t$2(bracket$2),content:content$2,heading:heading$2,heading1:t$2(heading$2),heading2:t$2(heading$2),heading3:t$2(heading$2),heading4:t$2(heading$2),heading5:t$2(heading$2),heading6:t$2(heading$2),contentSeparator:t$2(content$2),list:t$2(content$2),quote:t$2(content$2),emphasis:t$2(content$2),strong:t$2(content$2),link:t$2(content$2),monospace:t$2(content$2),strikethrough:t$2(content$2),inserted:t$2(),deleted:t$2(),changed:t$2(),invalid:t$2(),meta:meta$2,documentMeta:t$2(meta$2),annotation:t$2(meta$2),processingInstruction:t$2(meta$2),definition:Tag$2.defineModifier("definition"),constant:Tag$2.defineModifier("constant"),function:Tag$2.defineModifier("function"),standard:Tag$2.defineModifier("standard"),local:Tag$2.defineModifier("local"),special:Tag$2.defineModifier("special")};for(let r in tags$2){let n=tags$2[r];n instanceof Tag$2&&(n.name=r)}tagHighlighter$2([{tag:tags$2.link,class:"tok-link"},{tag:tags$2.heading,class:"tok-heading"},{tag:tags$2.emphasis,class:"tok-emphasis"},{tag:tags$2.strong,class:"tok-strong"},{tag:tags$2.keyword,class:"tok-keyword"},{tag:tags$2.atom,class:"tok-atom"},{tag:tags$2.bool,class:"tok-bool"},{tag:tags$2.url,class:"tok-url"},{tag:tags$2.labelName,class:"tok-labelName"},{tag:tags$2.inserted,class:"tok-inserted"},{tag:tags$2.deleted,class:"tok-deleted"},{tag:tags$2.literal,class:"tok-literal"},{tag:tags$2.string,class:"tok-string"},{tag:tags$2.number,class:"tok-number"},{tag:[tags$2.regexp,tags$2.escape,tags$2.special(tags$2.string)],class:"tok-string2"},{tag:tags$2.variableName,class:"tok-variableName"},{tag:tags$2.local(tags$2.variableName),class:"tok-variableName tok-local"},{tag:tags$2.definition(tags$2.variableName),class:"tok-variableName tok-definition"},{tag:tags$2.special(tags$2.variableName),class:"tok-variableName2"},{tag:tags$2.definition(tags$2.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$2.typeName,class:"tok-typeName"},{tag:tags$2.namespace,class:"tok-namespace"},{tag:tags$2.className,class:"tok-className"},{tag:tags$2.macroName,class:"tok-macroName"},{tag:tags$2.propertyName,class:"tok-propertyName"},{tag:tags$2.operator,class:"tok-operator"},{tag:tags$2.comment,class:"tok-comment"},{tag:tags$2.meta,class:"tok-meta"},{tag:tags$2.invalid,class:"tok-invalid"},{tag:tags$2.punctuation,class:"tok-punctuation"}]);var _a$1;const languageDataProp$1=new NodeProp$2,sublanguageProp$1=new NodeProp$2;let Language$1=class{constructor(n,g,y=[],$=""){this.data=n,this.name=$,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree$1(this)}}),this.parser=g,this.extension=[language$1.of(this),EditorState.languageData.of((L,re,ae)=>{let le=topNodeAt$1(L,re,ae),ue=le.type.prop(languageDataProp$1);if(!ue)return[];let he=L.facet(ue),_e=le.type.prop(sublanguageProp$1);if(_e){let Ce=le.resolve(re-le.from,ae);for(let $e of _e)if($e.test(Ce,L)){let Oe=L.facet($e.facet);return $e.type=="replace"?Oe:Oe.concat(he)}}return he})].concat(y)}isActiveAt(n,g,y=-1){return topNodeAt$1(n,g,y).type.prop(languageDataProp$1)==this.data}findRegions(n){let g=n.facet(language$1);if((g==null?void 0:g.data)==this.data)return[{from:0,to:n.doc.length}];if(!g||!g.allowsNesting)return[];let y=[],$=(L,re)=>{if(L.prop(languageDataProp$1)==this.data){y.push({from:re,to:re+L.length});return}let ae=L.prop(NodeProp$2.mounted);if(ae){if(ae.tree.prop(languageDataProp$1)==this.data){if(ae.overlay)for(let le of ae.overlay)y.push({from:le.from+re,to:le.to+re});else y.push({from:re,to:re+L.length});return}else if(ae.overlay){let le=y.length;if($(ae.tree,ae.overlay[0].from+re),y.length>le)return}}for(let le=0;le<L.children.length;le++){let ue=L.children[le];ue instanceof Tree$2&&$(ue,L.positions[le]+re)}};return $(syntaxTree$1(n),0),y}get allowsNesting(){return!0}};Language$1.setState=StateEffect.define();function topNodeAt$1(r,n,g){let y=r.facet(language$1),$=syntaxTree$1(r).topNode;if(!y||y.allowsNesting)for(let L=$;L;L=L.enter(n,g,IterMode$2.ExcludeBuffers))L.type.isTop&&($=L);return $}function syntaxTree$1(r){let n=r.field(Language$1.state,!1);return n?n.tree:Tree$2.empty}let DocInput$1=class{constructor(n){this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}get length(){return this.doc.length}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,g){let y=this.cursorPos-this.string.length;return n<y||g>=this.cursorPos?this.doc.sliceString(n,g):this.string.slice(n-y,g-y)}},currentContext$1=null,ParseContext$1=class ya{constructor(n,g,y=[],$,L,re,ae,le){this.parser=n,this.state=g,this.fragments=y,this.tree=$,this.treeLen=L,this.viewport=re,this.skipped=ae,this.scheduleOn=le,this.parse=null,this.tempSkipped=[]}static create(n,g,y){return new ya(n,g,[],Tree$2.empty,0,y,[],null)}startParse(){return this.parser.startParse(new DocInput$1(this.state.doc),this.fragments)}work(n,g){return g!=null&&g>=this.state.doc.length&&(g=void 0),this.tree!=Tree$2.empty&&this.isDone(g??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var y;if(typeof n=="number"){let $=Date.now()+n;n=()=>Date.now()>$}for(this.parse||(this.parse=this.startParse()),g!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>g)&&g<this.state.doc.length&&this.parse.stopAt(g);;){let $=this.parse.advance();if($)if(this.fragments=this.withoutTempSkipped(TreeFragment$1.addTree($,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(y=this.parse.stoppedAt)!==null&&y!==void 0?y:this.state.doc.length,this.tree=$,this.parse=null,this.treeLen<(g??this.state.doc.length))this.parse=this.startParse();else return!0;if(n())return!1}})}takeTree(){let n,g;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(g=this.parse.advance()););}),this.treeLen=n,this.tree=g,this.fragments=this.withoutTempSkipped(TreeFragment$1.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let g=currentContext$1;currentContext$1=this;try{return n()}finally{currentContext$1=g}}withoutTempSkipped(n){for(let g;g=this.tempSkipped.pop();)n=cutFragments$1(n,g.from,g.to);return n}changes(n,g){let{fragments:y,tree:$,treeLen:L,viewport:re,skipped:ae}=this;if(this.takeTree(),!n.empty){let le=[];if(n.iterChangedRanges((ue,he,_e,Ce)=>le.push({fromA:ue,toA:he,fromB:_e,toB:Ce})),y=TreeFragment$1.applyChanges(y,le),$=Tree$2.empty,L=0,re={from:n.mapPos(re.from,-1),to:n.mapPos(re.to,1)},this.skipped.length){ae=[];for(let ue of this.skipped){let he=n.mapPos(ue.from,1),_e=n.mapPos(ue.to,-1);he<_e&&ae.push({from:he,to:_e})}}}return new ya(this.parser,g,y,$,L,re,ae,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let g=this.skipped.length;for(let y=0;y<this.skipped.length;y++){let{from:$,to:L}=this.skipped[y];$<n.to&&L>n.from&&(this.fragments=cutFragments$1(this.fragments,$,L),this.skipped.splice(y--,1))}return this.skipped.length>=g?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,g){this.skipped.push({from:n,to:g})}static getSkippingParser(n){return new class extends Parser$2{createParse(g,y,$){let L=$[0].from,re=$[$.length-1].to;return{parsedPos:L,advance(){let le=currentContext$1;if(le){for(let ue of $)le.tempSkipped.push(ue);n&&(le.scheduleOn=le.scheduleOn?Promise.all([le.scheduleOn,n]):n)}return this.parsedPos=re,new Tree$2(NodeType$2.none,[],[],re-L)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let g=this.fragments;return this.treeLen>=n&&g.length&&g[0].from==0&&g[0].to>=n}static get(){return currentContext$1}};function cutFragments$1(r,n,g){return TreeFragment$1.applyChanges(r,[{fromA:n,toA:g,fromB:n,toB:g}])}let LanguageState$1=class ba{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let g=this.context.changes(n.changes,n.state),y=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),g.viewport.to);return g.work(20,y)||g.takeTree(),new ba(g)}static init(n){let g=Math.min(3e3,n.doc.length),y=ParseContext$1.create(n.facet(language$1).parser,n,{from:0,to:g});return y.work(20,g)||y.takeTree(),new ba(y)}};Language$1.state=StateField.define({create:LanguageState$1.init,update(r,n){for(let g of n.effects)if(g.is(Language$1.setState))return g.value;return n.startState.facet(language$1)!=n.state.facet(language$1)?LanguageState$1.init(n.state):r.apply(n)}});let requestIdle$1=r=>{let n=setTimeout(()=>r(),500);return()=>clearTimeout(n)};typeof requestIdleCallback<"u"&&(requestIdle$1=r=>{let n=-1,g=setTimeout(()=>{n=requestIdleCallback(r,{timeout:400})},100);return()=>n<0?clearTimeout(g):cancelIdleCallback(n)});const isInputPending$1=typeof navigator<"u"&&(!((_a$1=navigator.scheduling)===null||_a$1===void 0)&&_a$1.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker$1=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(n){let g=this.view.state.field(Language$1.state).context;(g.updateViewport(n.view.viewport)||this.view.viewport.to>g.treeLen)&&this.scheduleWork(),(n.docChanged||n.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(g)}scheduleWork(){if(this.working)return;let{state:n}=this.view,g=n.field(Language$1.state);(g.tree!=g.context.tree||!g.context.isDone(n.doc.length))&&(this.working=requestIdle$1(this.work))}work(n){this.working=null;let g=Date.now();if(this.chunkEnd<g&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=g+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:y,viewport:{to:$}}=this.view,L=y.field(Language$1.state);if(L.tree==L.context.tree&&L.context.isDone($+1e5))return;let re=Date.now()+Math.min(this.chunkBudget,100,n&&!isInputPending$1?Math.max(25,n.timeRemaining()-5):1e9),ae=L.context.treeLen<$&&y.doc.length>$+1e3,le=L.context.work(()=>isInputPending$1&&isInputPending$1()||Date.now()>re,$+(ae?0:1e5));this.chunkBudget-=Date.now()-g,(le||this.chunkBudget<=0)&&(L.context.takeTree(),this.view.dispatch({effects:Language$1.setState.of(new LanguageState$1(L.context))})),this.chunkBudget>0&&!(le&&!ae)&&this.scheduleWork(),this.checkAsyncSchedule(L.context)}checkAsyncSchedule(n){n.scheduleOn&&(this.workScheduled++,n.scheduleOn.then(()=>this.scheduleWork()).catch(g=>logException(this.view.state,g)).then(()=>this.workScheduled--),n.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language$1=Facet.define({combine(r){return r.length?r[0]:null},enables:r=>[Language$1.state,parseWorker$1,EditorView.contentAttributes.compute([r],n=>{let g=n.facet(r);return g&&g.name?{"data-language":g.name}:{}})]}),indentService=Facet.define(),indentUnit$1=Facet.define({combine:r=>{if(!r.length)return"  ";let n=r[0];if(!n||/\S/.test(n)||Array.from(n).some(g=>g!=n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return n}});function getIndentUnit(r){let n=r.facet(indentUnit$1);return n.charCodeAt(0)==9?r.tabSize*n.length:n.length}function indentString(r,n){let g="",y=r.tabSize,$=r.facet(indentUnit$1)[0];if($=="	"){for(;n>=y;)g+="	",n-=y;$=" "}for(let L=0;L<n;L++)g+=$;return g}function getIndentation(r,n){r instanceof EditorState&&(r=new IndentContext(r));for(let y of r.state.facet(indentService)){let $=y(r,n);if($!==void 0)return $}let g=syntaxTree$1(r.state);return g.length>=n?syntaxIndentation(r,g,n):null}class IndentContext{constructor(n,g={}){this.state=n,this.options=g,this.unit=getIndentUnit(n)}lineAt(n,g=1){let y=this.state.doc.lineAt(n),{simulateBreak:$,simulateDoubleBreak:L}=this.options;return $!=null&&$>=y.from&&$<=y.to?L&&$==n?{text:"",from:n}:(g<0?$<n:$<=n)?{text:y.text.slice($-y.from),from:$}:{text:y.text.slice(0,$-y.from),from:y.from}:y}textAfterPos(n,g=1){if(this.options.simulateDoubleBreak&&n==this.options.simulateBreak)return"";let{text:y,from:$}=this.lineAt(n,g);return y.slice(n-$,Math.min(y.length,n+100-$))}column(n,g=1){let{text:y,from:$}=this.lineAt(n,g),L=this.countColumn(y,n-$),re=this.options.overrideIndentation?this.options.overrideIndentation($):-1;return re>-1&&(L+=re-this.countColumn(y,y.search(/\S|$/))),L}countColumn(n,g=n.length){return countColumn(n,this.state.tabSize,g)}lineIndent(n,g=1){let{text:y,from:$}=this.lineAt(n,g),L=this.options.overrideIndentation;if(L){let re=L($);if(re>-1)return re}return this.countColumn(y,y.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp$1=new NodeProp$2;function syntaxIndentation(r,n,g){let y=n.resolveStack(g),$=n.resolveInner(g,-1).resolve(g,0).enterUnfinishedNodesBefore(g);if($!=y.node){let L=[];for(let re=$;re&&!(re.from==y.node.from&&re.type==y.node.type);re=re.parent)L.push(re);for(let re=L.length-1;re>=0;re--)y={node:L[re],next:y}}return indentFor(y,r,g)}function indentFor(r,n,g){for(let y=r;y;y=y.next){let $=indentStrategy(y.node);if($)return $(TreeIndentContext.create(n,g,y))}return 0}function ignoreClosed(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function indentStrategy(r){let n=r.type.prop(indentNodeProp$1);if(n)return n;let g=r.firstChild,y;if(g&&(y=g.type.prop(NodeProp$2.closedBy))){let $=r.lastChild,L=$&&y.indexOf($.name)>-1;return re=>delimitedStrategy$1(re,!0,1,void 0,L&&!ignoreClosed(re)?$.from:void 0)}return r.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(n,g,y){super(n.state,n.options),this.base=n,this.pos=g,this.context=y}get node(){return this.context.node}static create(n,g,y){return new TreeIndentContext(n,g,y)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(n){let g=this.state.doc.lineAt(n.from);for(;;){let y=n.resolve(g.from);for(;y.parent&&y.parent.from==y.from;)y=y.parent;if(isParent(y,n))break;g=this.state.doc.lineAt(y.from)}return this.lineIndent(g.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(r,n){for(let g=n;g;g=g.parent)if(r==g)return!0;return!1}function bracketedAligned$1(r){let n=r.node,g=n.childAfter(n.from),y=n.lastChild;if(!g)return null;let $=r.options.simulateBreak,L=r.state.doc.lineAt(g.from),re=$==null||$<=L.from?L.to:Math.min(L.to,$);for(let ae=g.to;;){let le=n.childAfter(ae);if(!le||le==y)return null;if(!le.type.isSkipped){if(le.from>=re)return null;let ue=/^ */.exec(L.text.slice(g.to-L.from))[0].length;return{from:g.from,to:g.to+ue}}ae=le.to}}function delimitedStrategy$1(r,n,g,y,$){let L=r.textAfter,re=L.match(/^\s*/)[0].length,ae=$==r.pos+re,le=bracketedAligned$1(r);return le?ae?r.column(le.from):r.column(le.to):r.baseIndent+(ae?0:r.unit*g)}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let n=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!n.length)return r;let g=r.newDoc,{head:y}=r.newSelection.main,$=g.lineAt(y);if(y>$.from+DontIndentBeyond)return r;let L=g.sliceString($.from,y);if(!n.some(ue=>ue.test(L)))return r;let{state:re}=r,ae=-1,le=[];for(let{head:ue}of re.selection.ranges){let he=re.doc.lineAt(ue);if(he.from==ae)continue;ae=he.from;let _e=getIndentation(re,he.from);if(_e==null)continue;let Ce=/^\s*/.exec(he.text)[0],$e=indentString(re,_e);Ce!=$e&&le.push({from:he.from,to:he.from+Ce.length,insert:$e})}return le.length?[r,{changes:le,sequential:!0}]:r})}const foldService=Facet.define(),foldNodeProp$1=new NodeProp$2;function syntaxFolding(r,n,g){let y=syntaxTree$1(r);if(y.length<g)return null;let $=y.resolveStack(g,1),L=null;for(let re=$;re;re=re.next){let ae=re.node;if(ae.to<=g||ae.from>g)continue;if(L&&ae.from<n)break;let le=ae.type.prop(foldNodeProp$1);if(le&&(ae.to<y.length-50||y.length==r.doc.length||!isUnfinished(ae))){let ue=le(ae,r);ue&&ue.from<=g&&ue.from>=n&&ue.to>g&&(L=ue)}}return L}function isUnfinished(r){let n=r.lastChild;return n&&n.to==r.to&&n.type.isError}function foldable(r,n,g){for(let y of r.facet(foldService)){let $=y(r,n,g);if($)return $}return syntaxFolding(r,n,g)}function mapRange(r,n){let g=n.mapPos(r.from,1),y=n.mapPos(r.to,-1);return g>=y?void 0:{from:g,to:y}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(r){let n=[];for(let{head:g}of r.state.selection.ranges)n.some(y=>y.from<=g&&y.to>=g)||n.push(r.lineBlockAt(g));return n}const foldState=StateField.define({create(){return Decoration.none},update(r,n){r=r.map(n.changes);for(let g of n.effects)if(g.is(foldEffect)&&!foldExists(r,g.value.from,g.value.to)){let{preparePlaceholder:y}=n.state.facet(foldConfig),$=y?Decoration.replace({widget:new PreparedFoldWidget(y(n.state,g.value))}):foldWidget;r=r.update({add:[$.range(g.value.from,g.value.to)]})}else g.is(unfoldEffect)&&(r=r.update({filter:(y,$)=>g.value.from!=y||g.value.to!=$,filterFrom:g.value.from,filterTo:g.value.to}));if(n.selection){let g=!1,{head:y}=n.selection.main;r.between(y,y,($,L)=>{$<y&&L>y&&(g=!0)}),g&&(r=r.update({filterFrom:y,filterTo:y,filter:($,L)=>L<=y||$>=y}))}return r},provide:r=>EditorView.decorations.from(r),toJSON(r,n){let g=[];return r.between(0,n.doc.length,(y,$)=>{g.push(y,$)}),g},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let n=[];for(let g=0;g<r.length;){let y=r[g++],$=r[g++];if(typeof y!="number"||typeof $!="number")throw new RangeError("Invalid JSON for fold state");n.push(foldWidget.range(y,$))}return Decoration.set(n,!0)}});function findFold(r,n,g){var y;let $=null;return(y=r.field(foldState,!1))===null||y===void 0||y.between(n,g,(L,re)=>{(!$||$.from>L)&&($={from:L,to:re})}),$}function foldExists(r,n,g){let y=!1;return r.between(n,n,($,L)=>{$==n&&L==g&&(y=!0)}),y}function maybeEnable(r,n){return r.field(foldState,!1)?n:n.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=r=>{for(let n of selectedLines(r)){let g=foldable(r.state,n.from,n.to);if(g)return r.dispatch({effects:maybeEnable(r.state,[foldEffect.of(g),announceFold(r,g)])}),!0}return!1},unfoldCode=r=>{if(!r.state.field(foldState,!1))return!1;let n=[];for(let g of selectedLines(r)){let y=findFold(r.state,g.from,g.to);y&&n.push(unfoldEffect.of(y),announceFold(r,y,!1))}return n.length&&r.dispatch({effects:n}),n.length>0};function announceFold(r,n,g=!0){let y=r.state.doc.lineAt(n.from).number,$=r.state.doc.lineAt(n.to).number;return EditorView.announce.of(`${r.state.phrase(g?"Folded lines":"Unfolded lines")} ${y} ${r.state.phrase("to")} ${$}.`)}const foldAll=r=>{let{state:n}=r,g=[];for(let y=0;y<n.doc.length;){let $=r.lineBlockAt(y),L=foldable(n,$.from,$.to);L&&g.push(foldEffect.of(L)),y=(L?r.lineBlockAt(L.to):$).to+1}return g.length&&r.dispatch({effects:maybeEnable(r.state,g)}),!!g.length},unfoldAll=r=>{let n=r.state.field(foldState,!1);if(!n||!n.size)return!1;let g=[];return n.between(0,r.state.doc.length,(y,$)=>{g.push(unfoldEffect.of({from:y,to:$}))}),r.dispatch({effects:g}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(r){return combineConfig(r,defaultConfig)}});function codeFolding(r){return[foldState,baseTheme$1$2]}function widgetToDOM(r,n){let{state:g}=r,y=g.facet(foldConfig),$=re=>{let ae=r.lineBlockAt(r.posAtDOM(re.target)),le=findFold(r.state,ae.from,ae.to);le&&r.dispatch({effects:unfoldEffect.of(le)}),re.preventDefault()};if(y.placeholderDOM)return y.placeholderDOM(r,$,n);let L=document.createElement("span");return L.textContent=y.placeholderText,L.setAttribute("aria-label",g.phrase("folded code")),L.title=g.phrase("unfold"),L.className="cm-foldPlaceholder",L.onclick=$,L}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(r){return widgetToDOM(r,null)}}});class PreparedFoldWidget extends WidgetType{constructor(n){super(),this.value=n}eq(n){return this.value==n.value}toDOM(n){return widgetToDOM(n,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(n,g){super(),this.config=n,this.open=g}eq(n){return this.config==n.config&&this.open==n.open}toDOM(n){if(this.config.markerDOM)return this.config.markerDOM(this.open);let g=document.createElement("span");return g.textContent=this.open?this.config.openText:this.config.closedText,g.title=n.state.phrase(this.open?"Fold line":"Unfold line"),g}}function foldGutter(r={}){let n=Object.assign(Object.assign({},foldGutterDefaults),r),g=new FoldMarker(n,!0),y=new FoldMarker(n,!1),$=ViewPlugin.fromClass(class{constructor(re){this.from=re.viewport.from,this.markers=this.buildMarkers(re)}update(re){(re.docChanged||re.viewportChanged||re.startState.facet(language$1)!=re.state.facet(language$1)||re.startState.field(foldState,!1)!=re.state.field(foldState,!1)||syntaxTree$1(re.startState)!=syntaxTree$1(re.state)||n.foldingChanged(re))&&(this.markers=this.buildMarkers(re.view))}buildMarkers(re){let ae=new RangeSetBuilder;for(let le of re.viewportLineBlocks){let ue=findFold(re.state,le.from,le.to)?y:foldable(re.state,le.from,le.to)?g:null;ue&&ae.add(le.from,le.from,ue)}return ae.finish()}}),{domEventHandlers:L}=n;return[$,gutter({class:"cm-foldGutter",markers(re){var ae;return((ae=re.plugin($))===null||ae===void 0?void 0:ae.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(n,!1)},domEventHandlers:Object.assign(Object.assign({},L),{click:(re,ae,le)=>{if(L.click&&L.click(re,ae,le))return!0;let ue=findFold(re.state,ae.from,ae.to);if(ue)return re.dispatch({effects:unfoldEffect.of(ue)}),!0;let he=foldable(re.state,ae.from,ae.to);return he?(re.dispatch({effects:foldEffect.of(he)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let HighlightStyle$1=class Ra{constructor(n,g){this.specs=n;let y;function $(ae){let le=StyleModule.newName();return(y||(y=Object.create(null)))["."+le]=ae,le}const L=typeof g.all=="string"?g.all:g.all?$(g.all):void 0,re=g.scope;this.scope=re instanceof Language$1?ae=>ae.prop(languageDataProp$1)==re.data:re?ae=>ae==re:void 0,this.style=tagHighlighter$2(n.map(ae=>({tag:ae.tag,class:ae.class||$(Object.assign({},ae,{tag:null}))})),{all:L}).style,this.module=y?new StyleModule(y):null,this.themeType=g.themeType}static define(n,g){return new Ra(n,g||{})}};const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(r){return r.length?[r[0]]:null}});function getHighlighters(r){let n=r.facet(highlighterFacet);return n.length?n:r.facet(fallbackHighlighter)}function syntaxHighlighting(r,n){let g=[treeHighlighter],y;return r instanceof HighlightStyle$1&&(r.module&&g.push(EditorView.styleModule.of(r.module)),y=r.themeType),n!=null&&n.fallback?g.push(fallbackHighlighter.of(r)):y?g.push(highlighterFacet.computeN([EditorView.darkTheme],$=>$.facet(EditorView.darkTheme)==(y=="dark")?[r]:[])):g.push(highlighterFacet.of(r)),g}class TreeHighlighter{constructor(n){this.markCache=Object.create(null),this.tree=syntaxTree$1(n.state),this.decorations=this.buildDeco(n,getHighlighters(n.state)),this.decoratedTo=n.viewport.to}update(n){let g=syntaxTree$1(n.state),y=getHighlighters(n.state),$=y!=getHighlighters(n.startState),{viewport:L}=n.view,re=n.changes.mapPos(this.decoratedTo,1);g.length<L.to&&!$&&g.type==this.tree.type&&re>=L.to?(this.decorations=this.decorations.map(n.changes),this.decoratedTo=re):(g!=this.tree||n.viewportChanged||$)&&(this.tree=g,this.decorations=this.buildDeco(n.view,y),this.decoratedTo=L.to)}buildDeco(n,g){if(!g||!this.tree.length)return Decoration.none;let y=new RangeSetBuilder;for(let{from:$,to:L}of n.visibleRanges)highlightTree(this.tree,g,(re,ae,le)=>{y.add(re,ae,this.markCache[le]||(this.markCache[le]=Decoration.mark({class:le})))},$,L);return y.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:r=>r.decorations})),defaultHighlightStyle=HighlightStyle$1.define([{tag:tags$2.meta,color:"#404740"},{tag:tags$2.link,textDecoration:"underline"},{tag:tags$2.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags$2.emphasis,fontStyle:"italic"},{tag:tags$2.strong,fontWeight:"bold"},{tag:tags$2.strikethrough,textDecoration:"line-through"},{tag:tags$2.keyword,color:"#708"},{tag:[tags$2.atom,tags$2.bool,tags$2.url,tags$2.contentSeparator,tags$2.labelName],color:"#219"},{tag:[tags$2.literal,tags$2.inserted],color:"#164"},{tag:[tags$2.string,tags$2.deleted],color:"#a11"},{tag:[tags$2.regexp,tags$2.escape,tags$2.special(tags$2.string)],color:"#e40"},{tag:tags$2.definition(tags$2.variableName),color:"#00f"},{tag:tags$2.local(tags$2.variableName),color:"#30a"},{tag:[tags$2.typeName,tags$2.namespace],color:"#085"},{tag:tags$2.className,color:"#167"},{tag:[tags$2.special(tags$2.variableName),tags$2.macroName],color:"#256"},{tag:tags$2.definition(tags$2.propertyName),color:"#00c"},{tag:tags$2.comment,color:"#940"},{tag:tags$2.invalid,color:"#f00"}]),baseTheme$5=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(r){return combineConfig(r,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(r){let n=[],g=r.matched?matchingMark:nonmatchingMark;return n.push(g.range(r.start.from,r.start.to)),r.end&&n.push(g.range(r.end.from,r.end.to)),n}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(r,n){if(!n.docChanged&&!n.selection)return r;let g=[],y=n.state.facet(bracketMatchingConfig);for(let $ of n.state.selection.ranges){if(!$.empty)continue;let L=matchBrackets(n.state,$.head,-1,y)||$.head>0&&matchBrackets(n.state,$.head-1,1,y)||y.afterCursor&&(matchBrackets(n.state,$.head,1,y)||$.head<n.state.doc.length&&matchBrackets(n.state,$.head+1,-1,y));L&&(g=g.concat(y.renderMatch(L,n.state)))}return Decoration.set(g,!0)},provide:r=>EditorView.decorations.from(r)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$5];function bracketMatching(r={}){return[bracketMatchingConfig.of(r),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp$2;function matchingNodes(r,n,g){let y=r.prop(n<0?NodeProp$2.openedBy:NodeProp$2.closedBy);if(y)return y;if(r.name.length==1){let $=g.indexOf(r.name);if($>-1&&$%2==(n<0?1:0))return[g[$+n]]}return null}function findHandle(r){let n=r.type.prop(bracketMatchingHandle);return n?n(r.node):r}function matchBrackets(r,n,g,y={}){let $=y.maxScanDistance||DefaultScanDist,L=y.brackets||DefaultBrackets,re=syntaxTree$1(r),ae=re.resolveInner(n,g);for(let le=ae;le;le=le.parent){let ue=matchingNodes(le.type,g,L);if(ue&&le.from<le.to){let he=findHandle(le);if(he&&(g>0?n>=he.from&&n<he.to:n>he.from&&n<=he.to))return matchMarkedBrackets(r,n,g,le,he,ue,L)}}return matchPlainBrackets(r,n,g,re,ae.type,$,L)}function matchMarkedBrackets(r,n,g,y,$,L,re){let ae=y.parent,le={from:$.from,to:$.to},ue=0,he=ae==null?void 0:ae.cursor();if(he&&(g<0?he.childBefore(y.from):he.childAfter(y.to)))do if(g<0?he.to<=y.from:he.from>=y.to){if(ue==0&&L.indexOf(he.type.name)>-1&&he.from<he.to){let _e=findHandle(he);return{start:le,end:_e?{from:_e.from,to:_e.to}:void 0,matched:!0}}else if(matchingNodes(he.type,g,re))ue++;else if(matchingNodes(he.type,-g,re)){if(ue==0){let _e=findHandle(he);return{start:le,end:_e&&_e.from<_e.to?{from:_e.from,to:_e.to}:void 0,matched:!1}}ue--}}while(g<0?he.prevSibling():he.nextSibling());return{start:le,matched:!1}}function matchPlainBrackets(r,n,g,y,$,L,re){let ae=g<0?r.sliceDoc(n-1,n):r.sliceDoc(n,n+1),le=re.indexOf(ae);if(le<0||le%2==0!=g>0)return null;let ue={from:g<0?n-1:n,to:g>0?n+1:n},he=r.doc.iterRange(n,g>0?r.doc.length:0),_e=0;for(let Ce=0;!he.next().done&&Ce<=L;){let $e=he.value;g<0&&(Ce+=$e.length);let Oe=n+Ce*g;for(let xe=g>0?0:$e.length-1,Ne=g>0?$e.length:-1;xe!=Ne;xe+=g){let Ie=re.indexOf($e[xe]);if(!(Ie<0||y.resolveInner(Oe+xe,1).type!=$))if(Ie%2==0==g>0)_e++;else{if(_e==1)return{start:ue,end:{from:Oe+xe,to:Oe+xe+1},matched:Ie>>1==le>>1};_e--}}g>0&&(Ce+=$e.length)}return he.done?{start:ue,matched:!1}:null}const noTokens$1=Object.create(null),typeArray$1=[NodeType$2.none],warned$1=[],byTag$1=Object.create(null),defaultTable$1=Object.create(null);for(let[r,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable$1[r]=createTokenType$1(noTokens$1,n);function warnForPart$1(r,n){warned$1.indexOf(r)>-1||(warned$1.push(r),console.warn(n))}function createTokenType$1(r,n){let g=[];for(let ae of n.split(" ")){let le=[];for(let ue of ae.split(".")){let he=r[ue]||tags$2[ue];he?typeof he=="function"?le.length?le=le.map(he):warnForPart$1(ue,`Modifier ${ue} used at start of tag`):le.length?warnForPart$1(ue,`Tag ${ue} used as modifier`):le=Array.isArray(he)?he:[he]:warnForPart$1(ue,`Unknown highlighting tag ${ue}`)}for(let ue of le)g.push(ue)}if(!g.length)return 0;let y=n.replace(/ /g,"_"),$=y+" "+g.map(ae=>ae.id),L=byTag$1[$];if(L)return L.id;let re=byTag$1[$]=NodeType$2.define({id:typeArray$1.length,name:y,props:[styleTags$2({[y]:g})]});return typeArray$1.push(re),re.id}Direction.RTL,Direction.LTR;const toggleComment=r=>{let{state:n}=r,g=n.doc.lineAt(n.selection.main.from),y=getConfig(r.state,g.from);return y.line?toggleLineComment(r):y.block?toggleBlockCommentByLine(r):!1};function command(r,n){return({state:g,dispatch:y})=>{if(g.readOnly)return!1;let $=r(n,g);return $?(y(g.update($)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((r,n)=>changeBlockComment(r,n,selectedLineRanges(n)),0);function getConfig(r,n){let g=r.languageDataAt("commentTokens",n,1);return g.length?g[0]:{}}const SearchMargin=50;function findBlockComment(r,{open:n,close:g},y,$){let L=r.sliceDoc(y-SearchMargin,y),re=r.sliceDoc($,$+SearchMargin),ae=/\s*$/.exec(L)[0].length,le=/^\s*/.exec(re)[0].length,ue=L.length-ae;if(L.slice(ue-n.length,ue)==n&&re.slice(le,le+g.length)==g)return{open:{pos:y-ae,margin:ae&&1},close:{pos:$+le,margin:le&&1}};let he,_e;$-y<=2*SearchMargin?he=_e=r.sliceDoc(y,$):(he=r.sliceDoc(y,y+SearchMargin),_e=r.sliceDoc($-SearchMargin,$));let Ce=/^\s*/.exec(he)[0].length,$e=/\s*$/.exec(_e)[0].length,Oe=_e.length-$e-g.length;return he.slice(Ce,Ce+n.length)==n&&_e.slice(Oe,Oe+g.length)==g?{open:{pos:y+Ce+n.length,margin:/\s/.test(he.charAt(Ce+n.length))?1:0},close:{pos:$-$e-g.length,margin:/\s/.test(_e.charAt(Oe-1))?1:0}}:null}function selectedLineRanges(r){let n=[];for(let g of r.selection.ranges){let y=r.doc.lineAt(g.from),$=g.to<=y.to?y:r.doc.lineAt(g.to);$.from>y.from&&$.from==g.to&&($=g.to==y.to+1?y:r.doc.lineAt(g.to-1));let L=n.length-1;L>=0&&n[L].to>y.from?n[L].to=$.to:n.push({from:y.from+/^\s*/.exec(y.text)[0].length,to:$.to})}return n}function changeBlockComment(r,n,g=n.selection.ranges){let y=g.map(L=>getConfig(n,L.from).block);if(!y.every(L=>L))return null;let $=g.map((L,re)=>findBlockComment(n,y[re],L.from,L.to));if(r!=2&&!$.every(L=>L))return{changes:n.changes(g.map((L,re)=>$[re]?[]:[{from:L.from,insert:y[re].open+" "},{from:L.to,insert:" "+y[re].close}]))};if(r!=1&&$.some(L=>L)){let L=[];for(let re=0,ae;re<$.length;re++)if(ae=$[re]){let le=y[re],{open:ue,close:he}=ae;L.push({from:ue.pos-le.open.length,to:ue.pos+ue.margin},{from:he.pos-he.margin,to:he.pos+le.close.length})}return{changes:L}}return null}function changeLineComment(r,n,g=n.selection.ranges){let y=[],$=-1;for(let{from:L,to:re}of g){let ae=y.length,le=1e9,ue=getConfig(n,L).line;if(ue){for(let he=L;he<=re;){let _e=n.doc.lineAt(he);if(_e.from>$&&(L==re||re>_e.from)){$=_e.from;let Ce=/^\s*/.exec(_e.text)[0].length,$e=Ce==_e.length,Oe=_e.text.slice(Ce,Ce+ue.length)==ue?Ce:-1;Ce<_e.text.length&&Ce<le&&(le=Ce),y.push({line:_e,comment:Oe,token:ue,indent:Ce,empty:$e,single:!1})}he=_e.to+1}if(le<1e9)for(let he=ae;he<y.length;he++)y[he].indent<y[he].line.text.length&&(y[he].indent=le);y.length==ae+1&&(y[ae].single=!0)}}if(r!=2&&y.some(L=>L.comment<0&&(!L.empty||L.single))){let L=[];for(let{line:ae,token:le,indent:ue,empty:he,single:_e}of y)(_e||!he)&&L.push({from:ae.from+ue,insert:le+" "});let re=n.changes(L);return{changes:re,selection:n.selection.map(re,1)}}else if(r!=1&&y.some(L=>L.comment>=0)){let L=[];for(let{line:re,comment:ae,token:le}of y)if(ae>=0){let ue=re.from+ae,he=ue+le.length;re.text[he-re.from]==" "&&he++,L.push({from:ue,to:he})}return{changes:L}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(r){return combineConfig(r,{minDepth:100,newGroupDelay:500,joinToEvent:(n,g)=>g},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,g)=>(y,$)=>n(y,$)||g(y,$)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(r,n){let g=n.state.facet(historyConfig),y=n.annotation(fromHistory);if(y){let le=HistEvent.fromTransaction(n,y.selection),ue=y.side,he=ue==0?r.undone:r.done;return le?he=updateBranch(he,he.length,g.minDepth,le):he=addSelection(he,n.startState.selection),new HistoryState(ue==0?y.rest:he,ue==0?he:y.rest)}let $=n.annotation(isolateHistory);if(($=="full"||$=="before")&&(r=r.isolate()),n.annotation(Transaction.addToHistory)===!1)return n.changes.empty?r:r.addMapping(n.changes.desc);let L=HistEvent.fromTransaction(n),re=n.annotation(Transaction.time),ae=n.annotation(Transaction.userEvent);return L?r=r.addChanges(L,re,ae,g,n):n.selection&&(r=r.addSelection(n.startState.selection,re,ae,g.newGroupDelay)),($=="full"||$=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(n=>n.toJSON()),undone:r.undone.map(n=>n.toJSON())}},fromJSON(r){return new HistoryState(r.done.map(HistEvent.fromJSON),r.undone.map(HistEvent.fromJSON))}});function history(r={}){return[historyField_,historyConfig.of(r),EditorView.domEventHandlers({beforeinput(n,g){let y=n.inputType=="historyUndo"?undo:n.inputType=="historyRedo"?redo:null;return y?(n.preventDefault(),y(g)):!1}})]}function cmd(r,n){return function({state:g,dispatch:y}){if(!n&&g.readOnly)return!1;let $=g.field(historyField_,!1);if(!$)return!1;let L=$.pop(r,g,n);return L?(y(L),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(n,g,y,$,L){this.changes=n,this.effects=g,this.mapped=y,this.startSelection=$,this.selectionsAfter=L}setSelAfter(n){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,g,y;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(g=this.mapped)===null||g===void 0?void 0:g.toJSON(),startSelection:(y=this.startSelection)===null||y===void 0?void 0:y.toJSON(),selectionsAfter:this.selectionsAfter.map($=>$.toJSON())}}static fromJSON(n){return new HistEvent(n.changes&&ChangeSet.fromJSON(n.changes),[],n.mapped&&ChangeDesc.fromJSON(n.mapped),n.startSelection&&EditorSelection.fromJSON(n.startSelection),n.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(n,g){let y=none$1;for(let $ of n.startState.facet(invertedEffects)){let L=$(n);L.length&&(y=y.concat(L))}return!y.length&&n.changes.empty?null:new HistEvent(n.changes.invert(n.startState.doc),y,void 0,g||n.startState.selection,none$1)}static selection(n){return new HistEvent(void 0,none$1,void 0,void 0,n)}}function updateBranch(r,n,g,y){let $=n+1>g+20?n-g-1:0,L=r.slice($,n);return L.push(y),L}function isAdjacent(r,n){let g=[],y=!1;return r.iterChangedRanges(($,L)=>g.push($,L)),n.iterChangedRanges(($,L,re,ae)=>{for(let le=0;le<g.length;){let ue=g[le++],he=g[le++];ae>=ue&&re<=he&&(y=!0)}}),y}function eqSelectionShape(r,n){return r.ranges.length==n.ranges.length&&r.ranges.filter((g,y)=>g.empty!=n.ranges[y].empty).length===0}function conc(r,n){return r.length?n.length?r.concat(n):r:n}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(r,n){if(r.length){let g=r[r.length-1],y=g.selectionsAfter.slice(Math.max(0,g.selectionsAfter.length-MaxSelectionsPerEvent));return y.length&&y[y.length-1].eq(n)?r:(y.push(n),updateBranch(r,r.length-1,1e9,g.setSelAfter(y)))}else return[HistEvent.selection([n])]}function popSelection(r){let n=r[r.length-1],g=r.slice();return g[r.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),g}function addMappingToBranch(r,n){if(!r.length)return r;let g=r.length,y=none$1;for(;g;){let $=mapEvent(r[g-1],n,y);if($.changes&&!$.changes.empty||$.effects.length){let L=r.slice(0,g);return L[g-1]=$,L}else n=$.mapped,g--,y=$.selectionsAfter}return y.length?[HistEvent.selection(y)]:none$1}function mapEvent(r,n,g){let y=conc(r.selectionsAfter.length?r.selectionsAfter.map(ae=>ae.map(n)):none$1,g);if(!r.changes)return HistEvent.selection(y);let $=r.changes.map(n),L=n.mapDesc(r.changes,!0),re=r.mapped?r.mapped.composeDesc(L):L;return new HistEvent($,StateEffect.mapEffects(r.effects,n),re,r.startSelection.map(L),y)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(n,g,y=0,$=void 0){this.done=n,this.undone=g,this.prevTime=y,this.prevUserEvent=$}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(n,g,y,$,L){let re=this.done,ae=re[re.length-1];return ae&&ae.changes&&!ae.changes.empty&&n.changes&&(!y||joinableUserEvent.test(y))&&(!ae.selectionsAfter.length&&g-this.prevTime<$.newGroupDelay&&$.joinToEvent(L,isAdjacent(ae.changes,n.changes))||y=="input.type.compose")?re=updateBranch(re,re.length-1,$.minDepth,new HistEvent(n.changes.compose(ae.changes),conc(StateEffect.mapEffects(n.effects,ae.changes),ae.effects),ae.mapped,ae.startSelection,none$1)):re=updateBranch(re,re.length,$.minDepth,n),new HistoryState(re,none$1,g,y)}addSelection(n,g,y,$){let L=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return L.length>0&&g-this.prevTime<$&&y==this.prevUserEvent&&y&&/^select($|\.)/.test(y)&&eqSelectionShape(L[L.length-1],n)?this:new HistoryState(addSelection(this.done,n),this.undone,g,y)}addMapping(n){return new HistoryState(addMappingToBranch(this.done,n),addMappingToBranch(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,g,y){let $=n==0?this.done:this.undone;if($.length==0)return null;let L=$[$.length-1],re=L.selectionsAfter[0]||g.selection;if(y&&L.selectionsAfter.length)return g.update({selection:L.selectionsAfter[L.selectionsAfter.length-1],annotations:fromHistory.of({side:n,rest:popSelection($),selection:re}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(L.changes){let ae=$.length==1?none$1:$.slice(0,$.length-1);return L.mapped&&(ae=addMappingToBranch(ae,L.mapped)),g.update({changes:L.changes,selection:L.startSelection,effects:L.effects,annotations:fromHistory.of({side:n,rest:ae,selection:re}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(r,n){return EditorSelection.create(r.ranges.map(n),r.mainIndex)}function setSel(r,n){return r.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:r,dispatch:n},g){let y=updateSel(r.selection,g);return y.eq(r.selection,!0)?!1:(n(setSel(r,y)),!0)}function rangeEnd(r,n){return EditorSelection.cursor(n?r.to:r.from)}function cursorByChar(r,n){return moveSel(r,g=>g.empty?r.moveByChar(g,n):rangeEnd(g,n))}function ltrAtCursor(r){return r.textDirectionAt(r.state.selection.main.head)==Direction.LTR}const cursorCharLeft=r=>cursorByChar(r,!ltrAtCursor(r)),cursorCharRight=r=>cursorByChar(r,ltrAtCursor(r));function cursorByGroup(r,n){return moveSel(r,g=>g.empty?r.moveByGroup(g,n):rangeEnd(g,n))}const cursorGroupLeft=r=>cursorByGroup(r,!ltrAtCursor(r)),cursorGroupRight=r=>cursorByGroup(r,ltrAtCursor(r));function interestingNode(r,n,g){if(n.type.prop(g))return!0;let y=n.to-n.from;return y&&(y>2||/[^\s,.;:]/.test(r.sliceDoc(n.from,n.to)))||n.firstChild}function moveBySyntax(r,n,g){let y=syntaxTree$1(r).resolveInner(n.head),$=g?NodeProp$2.closedBy:NodeProp$2.openedBy;for(let le=n.head;;){let ue=g?y.childAfter(le):y.childBefore(le);if(!ue)break;interestingNode(r,ue,$)?y=ue:le=g?ue.to:ue.from}let L=y.type.prop($),re,ae;return L&&(re=g?matchBrackets(r,y.from,1):matchBrackets(r,y.to,-1))&&re.matched?ae=g?re.end.to:re.end.from:ae=g?y.to:y.from,EditorSelection.cursor(ae,g?-1:1)}const cursorSyntaxLeft=r=>moveSel(r,n=>moveBySyntax(r.state,n,!ltrAtCursor(r))),cursorSyntaxRight=r=>moveSel(r,n=>moveBySyntax(r.state,n,ltrAtCursor(r)));function cursorByLine(r,n){return moveSel(r,g=>{if(!g.empty)return rangeEnd(g,n);let y=r.moveVertically(g,n);return y.head!=g.head?y:r.moveToLineBoundary(g,n)})}const cursorLineUp=r=>cursorByLine(r,!1),cursorLineDown=r=>cursorByLine(r,!0);function pageInfo(r){let n=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,g=0,y=0,$;if(n){for(let L of r.state.facet(EditorView.scrollMargins)){let re=L(r);re!=null&&re.top&&(g=Math.max(re==null?void 0:re.top,g)),re!=null&&re.bottom&&(y=Math.max(re==null?void 0:re.bottom,y))}$=r.scrollDOM.clientHeight-g-y}else $=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:g,marginBottom:y,selfScroll:n,height:Math.max(r.defaultLineHeight,$-5)}}function cursorByPage(r,n){let g=pageInfo(r),{state:y}=r,$=updateSel(y.selection,re=>re.empty?r.moveVertically(re,n,g.height):rangeEnd(re,n));if($.eq(y.selection))return!1;let L;if(g.selfScroll){let re=r.coordsAtPos(y.selection.main.head),ae=r.scrollDOM.getBoundingClientRect(),le=ae.top+g.marginTop,ue=ae.bottom-g.marginBottom;re&&re.top>le&&re.bottom<ue&&(L=EditorView.scrollIntoView($.main.head,{y:"start",yMargin:re.top-le}))}return r.dispatch(setSel(y,$),{effects:L}),!0}const cursorPageUp=r=>cursorByPage(r,!1),cursorPageDown=r=>cursorByPage(r,!0);function moveByLineBoundary(r,n,g){let y=r.lineBlockAt(n.head),$=r.moveToLineBoundary(n,g);if($.head==n.head&&$.head!=(g?y.to:y.from)&&($=r.moveToLineBoundary(n,g,!1)),!g&&$.head==y.from&&y.length){let L=/^\s*/.exec(r.state.sliceDoc(y.from,Math.min(y.from+100,y.to)))[0].length;L&&n.head!=y.from+L&&($=EditorSelection.cursor(y.from+L))}return $}const cursorLineBoundaryForward=r=>moveSel(r,n=>moveByLineBoundary(r,n,!0)),cursorLineBoundaryBackward=r=>moveSel(r,n=>moveByLineBoundary(r,n,!1)),cursorLineBoundaryLeft=r=>moveSel(r,n=>moveByLineBoundary(r,n,!ltrAtCursor(r))),cursorLineBoundaryRight=r=>moveSel(r,n=>moveByLineBoundary(r,n,ltrAtCursor(r))),cursorLineStart=r=>moveSel(r,n=>EditorSelection.cursor(r.lineBlockAt(n.head).from,1)),cursorLineEnd=r=>moveSel(r,n=>EditorSelection.cursor(r.lineBlockAt(n.head).to,-1));function toMatchingBracket(r,n,g){let y=!1,$=updateSel(r.selection,L=>{let re=matchBrackets(r,L.head,-1)||matchBrackets(r,L.head,1)||L.head>0&&matchBrackets(r,L.head-1,1)||L.head<r.doc.length&&matchBrackets(r,L.head+1,-1);if(!re||!re.end)return L;y=!0;let ae=re.start.from==L.head?re.end.to:re.end.from;return EditorSelection.cursor(ae)});return y?(n(setSel(r,$)),!0):!1}const cursorMatchingBracket=({state:r,dispatch:n})=>toMatchingBracket(r,n);function extendSel(r,n){let g=updateSel(r.state.selection,y=>{let $=n(y);return EditorSelection.range(y.anchor,$.head,$.goalColumn,$.bidiLevel||void 0)});return g.eq(r.state.selection)?!1:(r.dispatch(setSel(r.state,g)),!0)}function selectByChar(r,n){return extendSel(r,g=>r.moveByChar(g,n))}const selectCharLeft=r=>selectByChar(r,!ltrAtCursor(r)),selectCharRight=r=>selectByChar(r,ltrAtCursor(r));function selectByGroup(r,n){return extendSel(r,g=>r.moveByGroup(g,n))}const selectGroupLeft=r=>selectByGroup(r,!ltrAtCursor(r)),selectGroupRight=r=>selectByGroup(r,ltrAtCursor(r)),selectSyntaxLeft=r=>extendSel(r,n=>moveBySyntax(r.state,n,!ltrAtCursor(r))),selectSyntaxRight=r=>extendSel(r,n=>moveBySyntax(r.state,n,ltrAtCursor(r)));function selectByLine(r,n){return extendSel(r,g=>r.moveVertically(g,n))}const selectLineUp=r=>selectByLine(r,!1),selectLineDown=r=>selectByLine(r,!0);function selectByPage(r,n){return extendSel(r,g=>r.moveVertically(g,n,pageInfo(r).height))}const selectPageUp=r=>selectByPage(r,!1),selectPageDown=r=>selectByPage(r,!0),selectLineBoundaryForward=r=>extendSel(r,n=>moveByLineBoundary(r,n,!0)),selectLineBoundaryBackward=r=>extendSel(r,n=>moveByLineBoundary(r,n,!1)),selectLineBoundaryLeft=r=>extendSel(r,n=>moveByLineBoundary(r,n,!ltrAtCursor(r))),selectLineBoundaryRight=r=>extendSel(r,n=>moveByLineBoundary(r,n,ltrAtCursor(r))),selectLineStart=r=>extendSel(r,n=>EditorSelection.cursor(r.lineBlockAt(n.head).from)),selectLineEnd=r=>extendSel(r,n=>EditorSelection.cursor(r.lineBlockAt(n.head).to)),cursorDocStart=({state:r,dispatch:n})=>(n(setSel(r,{anchor:0})),!0),cursorDocEnd=({state:r,dispatch:n})=>(n(setSel(r,{anchor:r.doc.length})),!0),selectDocStart=({state:r,dispatch:n})=>(n(setSel(r,{anchor:r.selection.main.anchor,head:0})),!0),selectDocEnd=({state:r,dispatch:n})=>(n(setSel(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),selectAll=({state:r,dispatch:n})=>(n(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),selectLine=({state:r,dispatch:n})=>{let g=selectedLineBlocks(r).map(({from:y,to:$})=>EditorSelection.range(y,Math.min($+1,r.doc.length)));return n(r.update({selection:EditorSelection.create(g),userEvent:"select"})),!0},selectParentSyntax=({state:r,dispatch:n})=>{let g=updateSel(r.selection,y=>{let $=syntaxTree$1(r),L=$.resolveStack(y.from,1);if(y.empty){let re=$.resolveStack(y.from,-1);re.node.from>=L.node.from&&re.node.to<=L.node.to&&(L=re)}for(let re=L;re;re=re.next){let{node:ae}=re;if((ae.from<y.from&&ae.to>=y.to||ae.to>y.to&&ae.from<=y.from)&&re.next)return EditorSelection.range(ae.to,ae.from)}return y});return g.eq(r.selection)?!1:(n(setSel(r,g)),!0)},simplifySelection=({state:r,dispatch:n})=>{let g=r.selection,y=null;return g.ranges.length>1?y=EditorSelection.create([g.main]):g.main.empty||(y=EditorSelection.create([EditorSelection.cursor(g.main.head)])),y?(n(setSel(r,y)),!0):!1};function deleteBy(r,n){if(r.state.readOnly)return!1;let g="delete.selection",{state:y}=r,$=y.changeByRange(L=>{let{from:re,to:ae}=L;if(re==ae){let le=n(L);le<re?(g="delete.backward",le=skipAtomic(r,le,!1)):le>re&&(g="delete.forward",le=skipAtomic(r,le,!0)),re=Math.min(re,le),ae=Math.max(ae,le)}else re=skipAtomic(r,re,!1),ae=skipAtomic(r,ae,!0);return re==ae?{range:L}:{changes:{from:re,to:ae},range:EditorSelection.cursor(re,re<L.head?-1:1)}});return $.changes.empty?!1:(r.dispatch(y.update($,{scrollIntoView:!0,userEvent:g,effects:g=="delete.selection"?EditorView.announce.of(y.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(r,n,g){if(r instanceof EditorView)for(let y of r.state.facet(EditorView.atomicRanges).map($=>$(r)))y.between(n,n,($,L)=>{$<n&&L>n&&(n=g?L:$)});return n}const deleteByChar=(r,n,g)=>deleteBy(r,y=>{let $=y.from,{state:L}=r,re=L.doc.lineAt($),ae,le;if(g&&!n&&$>re.from&&$<re.from+200&&!/[^ \t]/.test(ae=re.text.slice(0,$-re.from))){if(ae[ae.length-1]=="	")return $-1;let ue=countColumn(ae,L.tabSize),he=ue%getIndentUnit(L)||getIndentUnit(L);for(let _e=0;_e<he&&ae[ae.length-1-_e]==" ";_e++)$--;le=$}else le=findClusterBreak(re.text,$-re.from,n,n)+re.from,le==$&&re.number!=(n?L.doc.lines:1)?le+=n?1:-1:!n&&/[\ufe00-\ufe0f]/.test(re.text.slice(le-re.from,$-re.from))&&(le=findClusterBreak(re.text,le-re.from,!1,!1)+re.from);return le}),deleteCharBackward=r=>deleteByChar(r,!1,!0),deleteCharForward=r=>deleteByChar(r,!0,!1),deleteByGroup=(r,n)=>deleteBy(r,g=>{let y=g.head,{state:$}=r,L=$.doc.lineAt(y),re=$.charCategorizer(y);for(let ae=null;;){if(y==(n?L.to:L.from)){y==g.head&&L.number!=(n?$.doc.lines:1)&&(y+=n?1:-1);break}let le=findClusterBreak(L.text,y-L.from,n)+L.from,ue=L.text.slice(Math.min(y,le)-L.from,Math.max(y,le)-L.from),he=re(ue);if(ae!=null&&he!=ae)break;(ue!=" "||y!=g.head)&&(ae=he),y=le}return y}),deleteGroupBackward=r=>deleteByGroup(r,!1),deleteGroupForward=r=>deleteByGroup(r,!0),deleteToLineEnd=r=>deleteBy(r,n=>{let g=r.lineBlockAt(n.head).to;return n.head<g?g:Math.min(r.state.doc.length,n.head+1)}),deleteLineBoundaryBackward=r=>deleteBy(r,n=>{let g=r.moveToLineBoundary(n,!1).head;return n.head>g?g:Math.max(0,n.head-1)}),deleteLineBoundaryForward=r=>deleteBy(r,n=>{let g=r.moveToLineBoundary(n,!0).head;return n.head<g?g:Math.min(r.state.doc.length,n.head+1)}),splitLine=({state:r,dispatch:n})=>{if(r.readOnly)return!1;let g=r.changeByRange(y=>({changes:{from:y.from,to:y.to,insert:Text.of(["",""])},range:EditorSelection.cursor(y.from)}));return n(r.update(g,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:r,dispatch:n})=>{if(r.readOnly)return!1;let g=r.changeByRange(y=>{if(!y.empty||y.from==0||y.from==r.doc.length)return{range:y};let $=y.from,L=r.doc.lineAt($),re=$==L.from?$-1:findClusterBreak(L.text,$-L.from,!1)+L.from,ae=$==L.to?$+1:findClusterBreak(L.text,$-L.from,!0)+L.from;return{changes:{from:re,to:ae,insert:r.doc.slice($,ae).append(r.doc.slice(re,$))},range:EditorSelection.cursor(ae)}});return g.changes.empty?!1:(n(r.update(g,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(r){let n=[],g=-1;for(let y of r.selection.ranges){let $=r.doc.lineAt(y.from),L=r.doc.lineAt(y.to);if(!y.empty&&y.to==L.from&&(L=r.doc.lineAt(y.to-1)),g>=$.number){let re=n[n.length-1];re.to=L.to,re.ranges.push(y)}else n.push({from:$.from,to:L.to,ranges:[y]});g=L.number+1}return n}function moveLine(r,n,g){if(r.readOnly)return!1;let y=[],$=[];for(let L of selectedLineBlocks(r)){if(g?L.to==r.doc.length:L.from==0)continue;let re=r.doc.lineAt(g?L.to+1:L.from-1),ae=re.length+1;if(g){y.push({from:L.to,to:re.to},{from:L.from,insert:re.text+r.lineBreak});for(let le of L.ranges)$.push(EditorSelection.range(Math.min(r.doc.length,le.anchor+ae),Math.min(r.doc.length,le.head+ae)))}else{y.push({from:re.from,to:L.from},{from:L.to,insert:r.lineBreak+re.text});for(let le of L.ranges)$.push(EditorSelection.range(le.anchor-ae,le.head-ae))}}return y.length?(n(r.update({changes:y,scrollIntoView:!0,selection:EditorSelection.create($,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:r,dispatch:n})=>moveLine(r,n,!1),moveLineDown=({state:r,dispatch:n})=>moveLine(r,n,!0);function copyLine(r,n,g){if(r.readOnly)return!1;let y=[];for(let $ of selectedLineBlocks(r))g?y.push({from:$.from,insert:r.doc.slice($.from,$.to)+r.lineBreak}):y.push({from:$.to,insert:r.lineBreak+r.doc.slice($.from,$.to)});return n(r.update({changes:y,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:r,dispatch:n})=>copyLine(r,n,!1),copyLineDown=({state:r,dispatch:n})=>copyLine(r,n,!0),deleteLine=r=>{if(r.state.readOnly)return!1;let{state:n}=r,g=n.changes(selectedLineBlocks(n).map(({from:$,to:L})=>($>0?$--:L<n.doc.length&&L++,{from:$,to:L}))),y=updateSel(n.selection,$=>{let L;if(r.lineWrapping){let re=r.lineBlockAt($.head),ae=r.coordsAtPos($.head,$.assoc||1);ae&&(L=re.bottom+r.documentTop-ae.bottom+r.defaultLineHeight/2)}return r.moveVertically($,!0,L)}).map(g);return r.dispatch({changes:g,selection:y,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(r,n){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(n-1,n+1)))return{from:n,to:n};let g=syntaxTree$1(r).resolveInner(n),y=g.childBefore(n),$=g.childAfter(n),L;return y&&$&&y.to<=n&&$.from>=n&&(L=y.type.prop(NodeProp$2.closedBy))&&L.indexOf($.name)>-1&&r.doc.lineAt(y.to).from==r.doc.lineAt($.from).from&&!/\S/.test(r.sliceDoc(y.to,$.from))?{from:y.to,to:$.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(r){return({state:n,dispatch:g})=>{if(n.readOnly)return!1;let y=n.changeByRange($=>{let{from:L,to:re}=$,ae=n.doc.lineAt(L),le=!r&&L==re&&isBetweenBrackets(n,L);r&&(L=re=(re<=ae.to?ae:n.doc.lineAt(re)).to);let ue=new IndentContext(n,{simulateBreak:L,simulateDoubleBreak:!!le}),he=getIndentation(ue,L);for(he==null&&(he=countColumn(/^\s*/.exec(n.doc.lineAt(L).text)[0],n.tabSize));re<ae.to&&/\s/.test(ae.text[re-ae.from]);)re++;le?{from:L,to:re}=le:L>ae.from&&L<ae.from+100&&!/\S/.test(ae.text.slice(0,L))&&(L=ae.from);let _e=["",indentString(n,he)];return le&&_e.push(indentString(n,ue.lineIndent(ae.from,-1))),{changes:{from:L,to:re,insert:Text.of(_e)},range:EditorSelection.cursor(L+1+_e[1].length)}});return g(n.update(y,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(r,n){let g=-1;return r.changeByRange(y=>{let $=[];for(let re=y.from;re<=y.to;){let ae=r.doc.lineAt(re);ae.number>g&&(y.empty||y.to>ae.from)&&(n(ae,$,y),g=ae.number),re=ae.to+1}let L=r.changes($);return{changes:$,range:EditorSelection.range(L.mapPos(y.anchor,1),L.mapPos(y.head,1))}})}const indentSelection=({state:r,dispatch:n})=>{if(r.readOnly)return!1;let g=Object.create(null),y=new IndentContext(r,{overrideIndentation:L=>{let re=g[L];return re??-1}}),$=changeBySelectedLine(r,(L,re,ae)=>{let le=getIndentation(y,L.from);if(le==null)return;/\S/.test(L.text)||(le=0);let ue=/^\s*/.exec(L.text)[0],he=indentString(r,le);(ue!=he||ae.from<L.from+ue.length)&&(g[L.from]=le,re.push({from:L.from,to:L.from+ue.length,insert:he}))});return $.changes.empty||n(r.update($,{userEvent:"indent"})),!0},indentMore=({state:r,dispatch:n})=>r.readOnly?!1:(n(r.update(changeBySelectedLine(r,(g,y)=>{y.push({from:g.from,insert:r.facet(indentUnit$1)})}),{userEvent:"input.indent"})),!0),indentLess=({state:r,dispatch:n})=>r.readOnly?!1:(n(r.update(changeBySelectedLine(r,(g,y)=>{let $=/^\s*/.exec(g.text)[0];if(!$)return;let L=countColumn($,r.tabSize),re=0,ae=indentString(r,Math.max(0,L-getIndentUnit(r)));for(;re<$.length&&re<ae.length&&$.charCodeAt(re)==ae.charCodeAt(re);)re++;y.push({from:g.from+re,to:g.from+$.length,insert:ae.slice(re)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=r=>(r.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap);function crelt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var n=1,g=arguments[1];if(g&&typeof g=="object"&&g.nodeType==null&&!Array.isArray(g)){for(var y in g)if(Object.prototype.hasOwnProperty.call(g,y)){var $=g[y];typeof $=="string"?r.setAttribute(y,$):$!=null&&(r[y]=$)}n++}for(;n<arguments.length;n++)add(r,arguments[n]);return r}function add(r,n){if(typeof n=="string")r.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)r.appendChild(n);else if(Array.isArray(n))for(var g=0;g<n.length;g++)add(r,n[g]);else throw new RangeError("Unsupported child node: "+n)}const basicNormalize=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class SearchCursor{constructor(n,g,y=0,$=n.length,L,re){this.test=re,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange(y,$),this.bufferStart=y,this.normalize=L?ae=>L(basicNormalize(ae)):basicNormalize,this.query=this.normalize(g)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let g=fromCodePoint(n),y=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(n);let $=this.normalize(g);if($.length)for(let L=0,re=y;;L++){let ae=$.charCodeAt(L),le=this.match(ae,re,this.bufferPos+this.bufferStart);if(L==$.length-1){if(le)return this.value=le,this;break}re==y&&L<g.length&&g.charCodeAt(L)==ae&&re++}}}match(n,g,y){let $=null;for(let L=0;L<this.matches.length;L+=2){let re=this.matches[L],ae=!1;this.query.charCodeAt(re)==n&&(re==this.query.length-1?$={from:this.matches[L+1],to:y}:(this.matches[L]++,ae=!0)),ae||(this.matches.splice(L,2),L-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?$={from:g,to:y}:this.matches.push(1,g)),$&&this.test&&!this.test($.from,$.to,this.buffer,this.bufferStart)&&($=null),$}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(n,g,y,$=0,L=n.length){if(this.text=n,this.to=L,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(g))return new MultilineRegExpCursor(n,g,y,$,L);this.re=new RegExp(g,baseFlags+(y!=null&&y.ignoreCase?"i":"")),this.test=y==null?void 0:y.test,this.iter=n.iter();let re=n.lineAt($);this.curLineStart=re.from,this.matchPos=toCharEnd(n,$),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let g=this.matchPos<=this.to&&this.re.exec(this.curLine);if(g){let y=this.curLineStart+g.index,$=y+g[0].length;if(this.matchPos=toCharEnd(this.text,$+(y==$?1:0)),y==this.curLineStart+this.curLine.length&&this.nextLine(),(y<$||y>this.value.to)&&(!this.test||this.test(y,$,g)))return this.value={from:y,to:$,match:g},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(n,g){this.from=n,this.text=g}get to(){return this.from+this.text.length}static get(n,g,y){let $=flattened.get(n);if(!$||$.from>=y||$.to<=g){let ae=new FlattenedDoc(g,n.sliceString(g,y));return flattened.set(n,ae),ae}if($.from==g&&$.to==y)return $;let{text:L,from:re}=$;return re>g&&(L=n.sliceString(g,re)+L,re=g),$.to<y&&(L+=n.sliceString($.to,y)),flattened.set(n,new FlattenedDoc(re,L)),new FlattenedDoc(g,L.slice(g-re,y-re))}}class MultilineRegExpCursor{constructor(n,g,y,$,L){this.text=n,this.to=L,this.done=!1,this.value=empty,this.matchPos=toCharEnd(n,$),this.re=new RegExp(g,baseFlags+(y!=null&&y.ignoreCase?"i":"")),this.test=y==null?void 0:y.test,this.flat=FlattenedDoc.get(n,$,this.chunkEnd($+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,g=this.re.exec(this.flat.text);if(g&&!g[0]&&g.index==n&&(this.re.lastIndex=n+1,g=this.re.exec(this.flat.text)),g){let y=this.flat.from+g.index,$=y+g[0].length;if((this.flat.to>=this.to||g.index+g[0].length<=this.flat.text.length-10)&&(!this.test||this.test(y,$,g)))return this.value={from:y,to:$,match:g},this.matchPos=toCharEnd(this.text,$+(y==$?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(r){try{return new RegExp(r,baseFlags),!0}catch{return!1}}function toCharEnd(r,n){if(n>=r.length)return n;let g=r.lineAt(n),y;for(;n<g.to&&(y=g.text.charCodeAt(n-g.from))>=56320&&y<57344;)n++;return n}function createLineDialog(r){let n=String(r.state.doc.lineAt(r.state.selection.main.head).number),g=crelt("input",{class:"cm-textfield",name:"line",value:n}),y=crelt("form",{class:"cm-gotoLine",onkeydown:L=>{L.keyCode==27?(L.preventDefault(),r.dispatch({effects:dialogEffect.of(!1)}),r.focus()):L.keyCode==13&&(L.preventDefault(),$())},onsubmit:L=>{L.preventDefault(),$()}},crelt("label",r.state.phrase("Go to line"),": ",g)," ",crelt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{r.dispatch({effects:dialogEffect.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function $(){let L=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(g.value);if(!L)return;let{state:re}=r,ae=re.doc.lineAt(re.selection.main.head),[,le,ue,he,_e]=L,Ce=he?+he.slice(1):0,$e=ue?+ue:ae.number;if(ue&&_e){let Ne=$e/100;le&&(Ne=Ne*(le=="-"?-1:1)+ae.number/re.doc.lines),$e=Math.round(re.doc.lines*Ne)}else ue&&le&&($e=$e*(le=="-"?-1:1)+ae.number);let Oe=re.doc.line(Math.max(1,Math.min(re.doc.lines,$e))),xe=EditorSelection.cursor(Oe.from+Math.max(0,Math.min(Ce,Oe.length)));r.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(xe.from,{y:"center"})],selection:xe}),r.focus()}return{dom:y}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(r,n){for(let g of n.effects)g.is(dialogEffect)&&(r=g.value);return r},provide:r=>showPanel.from(r,n=>n?createLineDialog:null)}),gotoLine=r=>{let n=getPanel(r,createLineDialog);if(!n){let g=[dialogEffect.of(!0)];r.state.field(dialogField,!1)==null&&g.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),r.dispatch({effects:g}),n=getPanel(r,createLineDialog)}return n&&n.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(r){return combineConfig(r,defaultHighlightOptions,{highlightWordAroundCursor:(n,g)=>n||g,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(r){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(r,n,g,y){return(g==0||r(n.sliceDoc(g-1,g))!=CharCategory.Word)&&(y==n.doc.length||r(n.sliceDoc(y,y+1))!=CharCategory.Word)}function insideWord(r,n,g,y){return r(n.sliceDoc(g,g+1))==CharCategory.Word&&r(n.sliceDoc(y-1,y))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let n=r.state.facet(highlightConfig),{state:g}=r,y=g.selection;if(y.ranges.length>1)return Decoration.none;let $=y.main,L,re=null;if($.empty){if(!n.highlightWordAroundCursor)return Decoration.none;let le=g.wordAt($.head);if(!le)return Decoration.none;re=g.charCategorizer($.head),L=g.sliceDoc(le.from,le.to)}else{let le=$.to-$.from;if(le<n.minSelectionLength||le>200)return Decoration.none;if(n.wholeWords){if(L=g.sliceDoc($.from,$.to),re=g.charCategorizer($.head),!(insideWordBoundaries(re,g,$.from,$.to)&&insideWord(re,g,$.from,$.to)))return Decoration.none}else if(L=g.sliceDoc($.from,$.to),!L)return Decoration.none}let ae=[];for(let le of r.visibleRanges){let ue=new SearchCursor(g.doc,L,le.from,le.to);for(;!ue.next().done;){let{from:he,to:_e}=ue.value;if((!re||insideWordBoundaries(re,g,he,_e))&&($.empty&&he<=$.from&&_e>=$.to?ae.push(mainMatchDeco.range(he,_e)):(he>=$.to||_e<=$.from)&&ae.push(matchDeco.range(he,_e)),ae.length>n.maxMatches))return Decoration.none}}return Decoration.set(ae)}},{decorations:r=>r.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:r,dispatch:n})=>{let{selection:g}=r,y=EditorSelection.create(g.ranges.map($=>r.wordAt($.head)||EditorSelection.cursor($.head)),g.mainIndex);return y.eq(g)?!1:(n(r.update({selection:y})),!0)};function findNextOccurrence(r,n){let{main:g,ranges:y}=r.selection,$=r.wordAt(g.head),L=$&&$.from==g.from&&$.to==g.to;for(let re=!1,ae=new SearchCursor(r.doc,n,y[y.length-1].to);;)if(ae.next(),ae.done){if(re)return null;ae=new SearchCursor(r.doc,n,0,Math.max(0,y[y.length-1].from-1)),re=!0}else{if(re&&y.some(le=>le.from==ae.value.from))continue;if(L){let le=r.wordAt(ae.value.from);if(!le||le.from!=ae.value.from||le.to!=ae.value.to)continue}return ae.value}}const selectNextOccurrence=({state:r,dispatch:n})=>{let{ranges:g}=r.selection;if(g.some(L=>L.from===L.to))return selectWord({state:r,dispatch:n});let y=r.sliceDoc(g[0].from,g[0].to);if(r.selection.ranges.some(L=>r.sliceDoc(L.from,L.to)!=y))return!1;let $=findNextOccurrence(r,y);return $?(n(r.update({selection:r.selection.addRange(EditorSelection.range($.from,$.to),!1),effects:EditorView.scrollIntoView($.to)})),!0):!1},searchConfigFacet=Facet.define({combine(r){return combineConfig(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:n=>new SearchPanel(n),scrollToMatch:n=>EditorView.scrollIntoView(n)})}});class SearchQuery{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(g,y)=>y=="n"?`
`:y=="r"?"\r":y=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(n,g=0,y){let $=n.doc?n:EditorState.create({doc:n});return y==null&&(y=$.doc.length),this.regexp?regexpCursor(this,$,g,y):stringCursor(this,$,g,y)}}class QueryType{constructor(n){this.spec=n}}function stringCursor(r,n,g,y){return new SearchCursor(n.doc,r.unquoted,g,y,r.caseSensitive?void 0:$=>$.toLowerCase(),r.wholeWord?stringWordTest(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function stringWordTest(r,n){return(g,y,$,L)=>((L>g||L+$.length<y)&&(L=Math.max(0,g-2),$=r.sliceString(L,Math.min(r.length,y+2))),(n(charBefore($,g-L))!=CharCategory.Word||n(charAfter($,g-L))!=CharCategory.Word)&&(n(charAfter($,y-L))!=CharCategory.Word||n(charBefore($,y-L))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(n){super(n)}nextMatch(n,g,y){let $=stringCursor(this.spec,n,y,n.doc.length).nextOverlapping();if($.done){let L=Math.min(n.doc.length,g+this.spec.unquoted.length);$=stringCursor(this.spec,n,0,L).nextOverlapping()}return $.done||$.value.from==g&&$.value.to==y?null:$.value}prevMatchInRange(n,g,y){for(let $=y;;){let L=Math.max(g,$-1e4-this.spec.unquoted.length),re=stringCursor(this.spec,n,L,$),ae=null;for(;!re.nextOverlapping().done;)ae=re.value;if(ae)return ae;if(L==g)return null;$-=1e4}}prevMatch(n,g,y){let $=this.prevMatchInRange(n,0,g);return $||($=this.prevMatchInRange(n,Math.max(0,y-this.spec.unquoted.length),n.doc.length)),$&&($.from!=g||$.to!=y)?$:null}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,g){let y=stringCursor(this.spec,n,0,n.doc.length),$=[];for(;!y.next().done;){if($.length>=g)return null;$.push(y.value)}return $}highlight(n,g,y,$){let L=stringCursor(this.spec,n,Math.max(0,g-this.spec.unquoted.length),Math.min(y+this.spec.unquoted.length,n.doc.length));for(;!L.next().done;)$(L.value.from,L.value.to)}}function regexpCursor(r,n,g,y){return new RegExpCursor(n.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?regexpWordTest(n.charCategorizer(n.selection.main.head)):void 0},g,y)}function charBefore(r,n){return r.slice(findClusterBreak(r,n,!1),n)}function charAfter(r,n){return r.slice(n,findClusterBreak(r,n))}function regexpWordTest(r){return(n,g,y)=>!y[0].length||(r(charBefore(y.input,y.index))!=CharCategory.Word||r(charAfter(y.input,y.index))!=CharCategory.Word)&&(r(charAfter(y.input,y.index+y[0].length))!=CharCategory.Word||r(charBefore(y.input,y.index+y[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(n,g,y){let $=regexpCursor(this.spec,n,y,n.doc.length).next();return $.done&&($=regexpCursor(this.spec,n,0,g).next()),$.done?null:$.value}prevMatchInRange(n,g,y){for(let $=1;;$++){let L=Math.max(g,y-$*1e4),re=regexpCursor(this.spec,n,L,y),ae=null;for(;!re.next().done;)ae=re.value;if(ae&&(L==g||ae.from>L+10))return ae;if(L==g)return null}}prevMatch(n,g,y){return this.prevMatchInRange(n,0,g)||this.prevMatchInRange(n,y,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(g,y)=>{if(y=="&")return n.match[0];if(y=="$")return"$";for(let $=y.length;$>0;$--){let L=+y.slice(0,$);if(L>0&&L<n.match.length)return n.match[L]+y.slice($)}return g})}matchAll(n,g){let y=regexpCursor(this.spec,n,0,n.doc.length),$=[];for(;!y.next().done;){if($.length>=g)return null;$.push(y.value)}return $}highlight(n,g,y,$){let L=regexpCursor(this.spec,n,Math.max(0,g-250),Math.min(y+250,n.doc.length));for(;!L.next().done;)$(L.value.from,L.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(r){return new SearchState(defaultQuery(r).create(),null)},update(r,n){for(let g of n.effects)g.is(setSearchQuery)?r=new SearchState(g.value.create(),r.panel):g.is(togglePanel$1)&&(r=new SearchState(r.query,g.value?createSearchPanel:null));return r},provide:r=>showPanel.from(r,n=>n.panel)});class SearchState{constructor(n,g){this.query=n,this.panel=g}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(searchState))}update(r){let n=r.state.field(searchState);(n!=r.startState.field(searchState)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:r,panel:n}){if(!n||!r.spec.valid)return Decoration.none;let{view:g}=this,y=new RangeSetBuilder;for(let $=0,L=g.visibleRanges,re=L.length;$<re;$++){let{from:ae,to:le}=L[$];for(;$<re-1&&le>L[$+1].from-2*250;)le=L[++$].to;r.highlight(g.state,ae,le,(ue,he)=>{let _e=g.state.selection.ranges.some(Ce=>Ce.from==ue&&Ce.to==he);y.add(ue,he,_e?selectedMatchMark:matchMark)})}return y.finish()}},{decorations:r=>r.decorations});function searchCommand(r){return n=>{let g=n.state.field(searchState,!1);return g&&g.query.spec.valid?r(n,g):openSearchPanel(n)}}const findNext=searchCommand((r,{query:n})=>{let{to:g}=r.state.selection.main,y=n.nextMatch(r.state,g,g);if(!y)return!1;let $=EditorSelection.single(y.from,y.to),L=r.state.facet(searchConfigFacet);return r.dispatch({selection:$,effects:[announceMatch(r,y),L.scrollToMatch($.main,r)],userEvent:"select.search"}),selectSearchInput(r),!0}),findPrevious=searchCommand((r,{query:n})=>{let{state:g}=r,{from:y}=g.selection.main,$=n.prevMatch(g,y,y);if(!$)return!1;let L=EditorSelection.single($.from,$.to),re=r.state.facet(searchConfigFacet);return r.dispatch({selection:L,effects:[announceMatch(r,$),re.scrollToMatch(L.main,r)],userEvent:"select.search"}),selectSearchInput(r),!0}),selectMatches=searchCommand((r,{query:n})=>{let g=n.matchAll(r.state,1e3);return!g||!g.length?!1:(r.dispatch({selection:EditorSelection.create(g.map(y=>EditorSelection.range(y.from,y.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:r,dispatch:n})=>{let g=r.selection;if(g.ranges.length>1||g.main.empty)return!1;let{from:y,to:$}=g.main,L=[],re=0;for(let ae=new SearchCursor(r.doc,r.sliceDoc(y,$));!ae.next().done;){if(L.length>1e3)return!1;ae.value.from==y&&(re=L.length),L.push(EditorSelection.range(ae.value.from,ae.value.to))}return n(r.update({selection:EditorSelection.create(L,re),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((r,{query:n})=>{let{state:g}=r,{from:y,to:$}=g.selection.main;if(g.readOnly)return!1;let L=n.nextMatch(g,y,y);if(!L)return!1;let re=L,ae=[],le,ue,he=[];if(re.from==y&&re.to==$&&(ue=g.toText(n.getReplacement(re)),ae.push({from:re.from,to:re.to,insert:ue}),re=n.nextMatch(g,re.from,re.to),he.push(EditorView.announce.of(g.phrase("replaced match on line $",g.doc.lineAt(y).number)+"."))),re){let _e=ae.length==0||ae[0].from>=L.to?0:L.to-L.from-ue.length;le=EditorSelection.single(re.from-_e,re.to-_e),he.push(announceMatch(r,re)),he.push(g.facet(searchConfigFacet).scrollToMatch(le.main,r))}return r.dispatch({changes:ae,selection:le,effects:he,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((r,{query:n})=>{if(r.state.readOnly)return!1;let g=n.matchAll(r.state,1e9).map($=>{let{from:L,to:re}=$;return{from:L,to:re,insert:n.getReplacement($)}});if(!g.length)return!1;let y=r.state.phrase("replaced $ matches",g.length)+".";return r.dispatch({changes:g,effects:EditorView.announce.of(y),userEvent:"input.replace.all"}),!0});function createSearchPanel(r){return r.state.facet(searchConfigFacet).createPanel(r)}function defaultQuery(r,n){var g,y,$,L,re;let ae=r.selection.main,le=ae.empty||ae.to>ae.from+100?"":r.sliceDoc(ae.from,ae.to);if(n&&!le)return n;let ue=r.facet(searchConfigFacet);return new SearchQuery({search:((g=n==null?void 0:n.literal)!==null&&g!==void 0?g:ue.literal)?le:le.replace(/\n/g,"\\n"),caseSensitive:(y=n==null?void 0:n.caseSensitive)!==null&&y!==void 0?y:ue.caseSensitive,literal:($=n==null?void 0:n.literal)!==null&&$!==void 0?$:ue.literal,regexp:(L=n==null?void 0:n.regexp)!==null&&L!==void 0?L:ue.regexp,wholeWord:(re=n==null?void 0:n.wholeWord)!==null&&re!==void 0?re:ue.wholeWord})}function getSearchInput(r){let n=getPanel(r,createSearchPanel);return n&&n.dom.querySelector("[main-field]")}function selectSearchInput(r){let n=getSearchInput(r);n&&n==r.root.activeElement&&n.select()}const openSearchPanel=r=>{let n=r.state.field(searchState,!1);if(n&&n.panel){let g=getSearchInput(r);if(g&&g!=r.root.activeElement){let y=defaultQuery(r.state,n.query.spec);y.valid&&r.dispatch({effects:setSearchQuery.of(y)}),g.focus(),g.select()}}else r.dispatch({effects:[togglePanel$1.of(!0),n?setSearchQuery.of(defaultQuery(r.state,n.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=r=>{let n=r.state.field(searchState,!1);if(!n||!n.panel)return!1;let g=getPanel(r,createSearchPanel);return g&&g.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(n){this.view=n;let g=this.query=n.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:g.search,placeholder:phrase(n,"Find"),"aria-label":phrase(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:g.replace,placeholder:phrase(n,"Replace"),"aria-label":phrase(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:g.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:g.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:g.wholeWord,onchange:this.commit});function y($,L,re){return crelt("button",{class:"cm-button",name:$,onclick:L,type:"button"},re)}this.dom=crelt("div",{onkeydown:$=>this.keydown($),class:"cm-search"},[this.searchField,y("next",()=>findNext(n),[phrase(n,"next")]),y("prev",()=>findPrevious(n),[phrase(n,"previous")]),y("select",()=>selectMatches(n),[phrase(n,"all")]),crelt("label",null,[this.caseField,phrase(n,"match case")]),crelt("label",null,[this.reField,phrase(n,"regexp")]),crelt("label",null,[this.wordField,phrase(n,"by word")]),...n.state.readOnly?[]:[crelt("br"),this.replaceField,y("replace",()=>replaceNext(n),[phrase(n,"replace")]),y("replaceAll",()=>replaceAll(n),[phrase(n,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(n),"aria-label":phrase(n,"close"),type:"button"},[""])])}commit(){let n=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:setSearchQuery.of(n)}))}keydown(n){runScopeHandlers(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?findPrevious:findNext)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),replaceNext(this.view))}update(n){for(let g of n.transactions)for(let y of g.effects)y.is(setSearchQuery)&&!y.value.eq(this.query)&&this.setQuery(y.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(r,n){return r.state.phrase(n)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(r,{from:n,to:g}){let y=r.state.doc.lineAt(n),$=r.state.doc.lineAt(g).to,L=Math.max(y.from,n-AnnounceMargin),re=Math.min($,g+AnnounceMargin),ae=r.state.sliceDoc(L,re);if(L!=y.from){for(let le=0;le<AnnounceMargin;le++)if(!Break.test(ae[le+1])&&Break.test(ae[le])){ae=ae.slice(le);break}}if(re!=$){for(let le=ae.length-1;le>ae.length-AnnounceMargin;le--)if(!Break.test(ae[le-1])&&Break.test(ae[le])){ae=ae.slice(0,le);break}}return EditorView.announce.of(`${r.state.phrase("current match")}. ${ae} ${r.state.phrase("on line")} ${y.number}.`)}const baseTheme$4=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$4];class CompletionContext{constructor(n,g,y,$){this.state=n,this.pos=g,this.explicit=y,this.view=$,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(n){let g=syntaxTree$1(this.state).resolveInner(this.pos,-1);for(;g&&n.indexOf(g.name)<0;)g=g.parent;return g?{from:g.from,to:this.pos,text:this.state.sliceDoc(g.from,this.pos),type:g.type}:null}matchBefore(n){let g=this.state.doc.lineAt(this.pos),y=Math.max(g.from,this.pos-250),$=g.text.slice(y-g.from,this.pos-g.from),L=$.search(ensureAnchor(n,!1));return L<0?null:{from:y+L,to:this.pos,text:$.slice(L)}}get aborted(){return this.abortListeners==null}addEventListener(n,g,y){n=="abort"&&this.abortListeners&&(this.abortListeners.push(g),y&&y.onDocChange&&(this.abortOnDocChange=!0))}}function toSet$1(r){let n=Object.keys(r).join(""),g=/\w/.test(n);return g&&(n=n.replace(/\w/g,"")),`[${g?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch$1(r){let n=Object.create(null),g=Object.create(null);for(let{label:$}of r){n[$[0]]=!0;for(let L=1;L<$.length;L++)g[$[L]]=!0}let y=toSet$1(n)+toSet$1(g)+"*$";return[new RegExp("^"+y),new RegExp(y)]}function completeFromList$1(r){let n=r.map($=>typeof $=="string"?{label:$}:$),[g,y]=n.every($=>/^\w+$/.test($.label))?[/\w*$/,/\w+$/]:prefixMatch$1(n);return $=>{let L=$.matchBefore(y);return L||$.explicit?{from:L?L.from:$.pos,options:n,validFor:g}:null}}class Option{constructor(n,g,y,$){this.completion=n,this.source=g,this.match=y,this.score=$}}function cur(r){return r.selection.main.from}function ensureAnchor(r,n){var g;let{source:y}=r,$=n&&y[0]!="^",L=y[y.length-1]!="$";return!$&&!L?r:new RegExp(`${$?"^":""}(?:${y})${L?"$":""}`,(g=r.flags)!==null&&g!==void 0?g:r.ignoreCase?"i":"")}const pickedCompletion$1=Annotation.define();function insertCompletionText(r,n,g,y){let{main:$}=r.selection,L=g-$.from,re=y-$.from;return Object.assign(Object.assign({},r.changeByRange(ae=>{if(ae!=$&&g!=y&&r.sliceDoc(ae.from+L,ae.from+re)!=r.sliceDoc(g,y))return{range:ae};let le=r.toText(n);return{changes:{from:ae.from+L,to:y==$.from?ae.to:ae.from+re,insert:le},range:EditorSelection.cursor(ae.from+L+le.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(r){if(!Array.isArray(r))return r;let n=SourceCache.get(r);return n||SourceCache.set(r,n=completeFromList$1(r)),n}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let g=0;g<n.length;){let y=codePointAt(n,g),$=codePointSize(y);this.chars.push(y);let L=n.slice(g,g+$),re=L.toUpperCase();this.folded.push(codePointAt(re==L?L.toLowerCase():re,0)),g+=$}this.astral=n.length!=this.chars.length}ret(n,g){return this.score=n,this.matched=g,this}match(n){if(this.pattern.length==0)return this.ret(-100,[]);if(n.length<this.pattern.length)return null;let{chars:g,folded:y,any:$,precise:L,byWord:re}=this;if(g.length==1){let Fe=codePointAt(n,0),Ve=codePointSize(Fe),ze=Ve==n.length?0:-100;if(Fe!=g[0])if(Fe==y[0])ze+=-200;else return null;return this.ret(ze,[0,Ve])}let ae=n.indexOf(this.pattern);if(ae==0)return this.ret(n.length==this.pattern.length?0:-100,[0,this.pattern.length]);let le=g.length,ue=0;if(ae<0){for(let Fe=0,Ve=Math.min(n.length,200);Fe<Ve&&ue<le;){let ze=codePointAt(n,Fe);(ze==g[ue]||ze==y[ue])&&($[ue++]=Fe),Fe+=codePointSize(ze)}if(ue<le)return null}let he=0,_e=0,Ce=!1,$e=0,Oe=-1,xe=-1,Ne=/[a-z]/.test(n),Ie=!0;for(let Fe=0,Ve=Math.min(n.length,200),ze=0;Fe<Ve&&_e<le;){let Ue=codePointAt(n,Fe);ae<0&&(he<le&&Ue==g[he]&&(L[he++]=Fe),$e<le&&(Ue==g[$e]||Ue==y[$e]?($e==0&&(Oe=Fe),xe=Fe+1,$e++):$e=0));let qe,kt=Ue<255?Ue>=48&&Ue<=57||Ue>=97&&Ue<=122?2:Ue>=65&&Ue<=90?1:0:(qe=fromCodePoint(Ue))!=qe.toLowerCase()?1:qe!=qe.toUpperCase()?2:0;(!Fe||kt==1&&Ne||ze==0&&kt!=0)&&(g[_e]==Ue||y[_e]==Ue&&(Ce=!0)?re[_e++]=Fe:re.length&&(Ie=!1)),ze=kt,Fe+=codePointSize(Ue)}return _e==le&&re[0]==0&&Ie?this.result(-100+(Ce?-200:0),re,n):$e==le&&Oe==0?this.ret(-200-n.length+(xe==n.length?0:-100),[0,xe]):ae>-1?this.ret(-700-n.length,[ae,ae+this.pattern.length]):$e==le?this.ret(-900-n.length,[Oe,xe]):_e==le?this.result(-100+(Ce?-200:0)+-700+(Ie?0:-1100),re,n):g.length==2?null:this.result(($[0]?-700:0)+-200+-1100,$,n)}result(n,g,y){let $=[],L=0;for(let re of g){let ae=re+(this.astral?codePointSize(codePointAt(y,re)):1);L&&$[L-1]==re?$[L-1]=ae:($[L++]=re,$[L++]=ae)}return this.ret(n-y.length,$)}}class StrictMatcher{constructor(n){this.pattern=n,this.matched=[],this.score=0,this.folded=n.toLowerCase()}match(n){if(n.length<this.pattern.length)return null;let g=n.slice(0,this.pattern.length),y=g==this.pattern?0:g.toLowerCase()==this.folded?-200:null;return y==null?null:(this.matched=[0,g.length],this.score=y+(n.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(r){return combineConfig(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(n,g)=>n.label.localeCompare(g.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(n,g)=>n&&g,closeOnBlur:(n,g)=>n&&g,icons:(n,g)=>n&&g,tooltipClass:(n,g)=>y=>joinClass(n(y),g(y)),optionClass:(n,g)=>y=>joinClass(n(y),g(y)),addToOptions:(n,g)=>n.concat(g),filterStrict:(n,g)=>n||g})}});function joinClass(r,n){return r?n?r+" "+n:r:n}function defaultPositionInfo(r,n,g,y,$,L){let re=r.textDirection==Direction.RTL,ae=re,le=!1,ue="top",he,_e,Ce=n.left-$.left,$e=$.right-n.right,Oe=y.right-y.left,xe=y.bottom-y.top;if(ae&&Ce<Math.min(Oe,$e)?ae=!1:!ae&&$e<Math.min(Oe,Ce)&&(ae=!0),Oe<=(ae?Ce:$e))he=Math.max($.top,Math.min(g.top,$.bottom-xe))-n.top,_e=Math.min(400,ae?Ce:$e);else{le=!0,_e=Math.min(400,(re?n.right:$.right-n.left)-30);let Fe=$.bottom-n.bottom;Fe>=xe||Fe>n.top?he=g.bottom-n.top:(ue="bottom",he=n.bottom-g.top)}let Ne=(n.bottom-n.top)/L.offsetHeight,Ie=(n.right-n.left)/L.offsetWidth;return{style:`${ue}: ${he/Ne}px; max-width: ${_e/Ie}px`,class:"cm-completionInfo-"+(le?re?"left-narrow":"right-narrow":ae?"left":"right")}}function optionContent(r){let n=r.addToOptions.slice();return r.icons&&n.push({render(g){let y=document.createElement("div");return y.classList.add("cm-completionIcon"),g.type&&y.classList.add(...g.type.split(/\s+/g).map($=>"cm-completionIcon-"+$)),y.setAttribute("aria-hidden","true"),y},position:20}),n.push({render(g,y,$,L){let re=document.createElement("span");re.className="cm-completionLabel";let ae=g.displayLabel||g.label,le=0;for(let ue=0;ue<L.length;){let he=L[ue++],_e=L[ue++];he>le&&re.appendChild(document.createTextNode(ae.slice(le,he)));let Ce=re.appendChild(document.createElement("span"));Ce.appendChild(document.createTextNode(ae.slice(he,_e))),Ce.className="cm-completionMatchedText",le=_e}return le<ae.length&&re.appendChild(document.createTextNode(ae.slice(le))),re},position:50},{render(g){if(!g.detail)return null;let y=document.createElement("span");return y.className="cm-completionDetail",y.textContent=g.detail,y},position:80}),n.sort((g,y)=>g.position-y.position).map(g=>g.render)}function rangeAroundSelected(r,n,g){if(r<=g)return{from:0,to:r};if(n<0&&(n=0),n<=r>>1){let $=Math.floor(n/g);return{from:$*g,to:($+1)*g}}let y=Math.floor((r-n)/g);return{from:r-(y+1)*g,to:r-y*g}}class CompletionTooltip{constructor(n,g,y){this.view=n,this.stateField=g,this.applyCompletion=y,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:le=>this.placeInfo(le),key:this},this.space=null,this.currentClass="";let $=n.state.field(g),{options:L,selected:re}=$.open,ae=n.state.facet(completionConfig);this.optionContent=optionContent(ae),this.optionClass=ae.optionClass,this.tooltipClass=ae.tooltipClass,this.range=rangeAroundSelected(L.length,re,ae.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",le=>{let{options:ue}=n.state.field(g).open;for(let he=le.target,_e;he&&he!=this.dom;he=he.parentNode)if(he.nodeName=="LI"&&(_e=/-(\d+)$/.exec(he.id))&&+_e[1]<ue.length){this.applyCompletion(n,ue[+_e[1]]),le.preventDefault();return}}),this.dom.addEventListener("focusout",le=>{let ue=n.state.field(this.stateField,!1);ue&&ue.tooltip&&n.state.facet(completionConfig).closeOnBlur&&le.relatedTarget!=n.contentDOM&&n.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(L,$.id)}mount(){this.updateSel()}showOptions(n,g){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n,g,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(n){var g;let y=n.state.field(this.stateField),$=n.startState.field(this.stateField);if(this.updateTooltipClass(n.state),y!=$){let{options:L,selected:re,disabled:ae}=y.open;(!$.open||$.open.options!=L)&&(this.range=rangeAroundSelected(L.length,re,n.state.facet(completionConfig).maxRenderedOptions),this.showOptions(L,y.id)),this.updateSel(),ae!=((g=$.open)===null||g===void 0?void 0:g.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!ae)}}updateTooltipClass(n){let g=this.tooltipClass(n);if(g!=this.currentClass){for(let y of this.currentClass.split(" "))y&&this.dom.classList.remove(y);for(let y of g.split(" "))y&&this.dom.classList.add(y);this.currentClass=g}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let n=this.view.state.field(this.stateField),g=n.open;if((g.selected>-1&&g.selected<this.range.from||g.selected>=this.range.to)&&(this.range=rangeAroundSelected(g.options.length,g.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(g.options,n.id)),this.updateSelectedOption(g.selected)){this.destroyInfo();let{completion:y}=g.options[g.selected],{info:$}=y;if(!$)return;let L=typeof $=="string"?document.createTextNode($):$(y);if(!L)return;"then"in L?L.then(re=>{re&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(re,y)}).catch(re=>logException(this.view.state,re,"completion info")):this.addInfoPane(L,y)}}addInfoPane(n,g){this.destroyInfo();let y=this.info=document.createElement("div");if(y.className="cm-tooltip cm-completionInfo",n.nodeType!=null)y.appendChild(n),this.infoDestroy=null;else{let{dom:$,destroy:L}=n;y.appendChild($),this.infoDestroy=L||null}this.dom.appendChild(y),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(n){let g=null;for(let y=this.list.firstChild,$=this.range.from;y;y=y.nextSibling,$++)y.nodeName!="LI"||!y.id?$--:$==n?y.hasAttribute("aria-selected")||(y.setAttribute("aria-selected","true"),g=y):y.hasAttribute("aria-selected")&&y.removeAttribute("aria-selected");return g&&scrollIntoView(this.list,g),g}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let g=this.dom.getBoundingClientRect(),y=this.info.getBoundingClientRect(),$=n.getBoundingClientRect(),L=this.space;if(!L){let re=this.dom.ownerDocument.documentElement;L={left:0,top:0,right:re.clientWidth,bottom:re.clientHeight}}return $.top>Math.min(L.bottom,g.bottom)-10||$.bottom<Math.max(L.top,g.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,g,$,y,L,this.dom)}placeInfo(n){this.info&&(n?(n.style&&(this.info.style.cssText=n.style),this.info.className="cm-tooltip cm-completionInfo "+(n.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(n,g,y){const $=document.createElement("ul");$.id=g,$.setAttribute("role","listbox"),$.setAttribute("aria-expanded","true"),$.setAttribute("aria-label",this.view.state.phrase("Completions")),$.addEventListener("mousedown",re=>{re.target==$&&re.preventDefault()});let L=null;for(let re=y.from;re<y.to;re++){let{completion:ae,match:le}=n[re],{section:ue}=ae;if(ue){let Ce=typeof ue=="string"?ue:ue.name;if(Ce!=L&&(re>y.from||y.from==0))if(L=Ce,typeof ue!="string"&&ue.header)$.appendChild(ue.header(ue));else{let $e=$.appendChild(document.createElement("completion-section"));$e.textContent=Ce}}const he=$.appendChild(document.createElement("li"));he.id=g+"-"+re,he.setAttribute("role","option");let _e=this.optionClass(ae);_e&&(he.className=_e);for(let Ce of this.optionContent){let $e=Ce(ae,this.view.state,this.view,le);$e&&he.appendChild($e)}}return y.from&&$.classList.add("cm-completionListIncompleteTop"),y.to<n.length&&$.classList.add("cm-completionListIncompleteBottom"),$}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(r,n){return g=>new CompletionTooltip(g,r,n)}function scrollIntoView(r,n){let g=r.getBoundingClientRect(),y=n.getBoundingClientRect(),$=g.height/r.offsetHeight;y.top<g.top?r.scrollTop-=(g.top-y.top)/$:y.bottom>g.bottom&&(r.scrollTop+=(y.bottom-g.bottom)/$)}function score(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function sortOptions(r,n){let g=[],y=null,$=ue=>{g.push(ue);let{section:he}=ue.completion;if(he){y||(y=[]);let _e=typeof he=="string"?he:he.name;y.some(Ce=>Ce.name==_e)||y.push(typeof he=="string"?{name:_e}:he)}},L=n.facet(completionConfig);for(let ue of r)if(ue.hasResult()){let he=ue.result.getMatch;if(ue.result.filter===!1)for(let _e of ue.result.options)$(new Option(_e,ue.source,he?he(_e):[],1e9-g.length));else{let _e=n.sliceDoc(ue.from,ue.to),Ce,$e=L.filterStrict?new StrictMatcher(_e):new FuzzyMatcher(_e);for(let Oe of ue.result.options)if(Ce=$e.match(Oe.label)){let xe=Oe.displayLabel?he?he(Oe,Ce.matched):[]:Ce.matched;$(new Option(Oe,ue.source,xe,Ce.score+(Oe.boost||0)))}}}if(y){let ue=Object.create(null),he=0,_e=(Ce,$e)=>{var Oe,xe;return((Oe=Ce.rank)!==null&&Oe!==void 0?Oe:1e9)-((xe=$e.rank)!==null&&xe!==void 0?xe:1e9)||(Ce.name<$e.name?-1:1)};for(let Ce of y.sort(_e))he-=1e5,ue[Ce.name]=he;for(let Ce of g){let{section:$e}=Ce.completion;$e&&(Ce.score+=ue[typeof $e=="string"?$e:$e.name])}}let re=[],ae=null,le=L.compareCompletions;for(let ue of g.sort((he,_e)=>_e.score-he.score||le(he.completion,_e.completion))){let he=ue.completion;!ae||ae.label!=he.label||ae.detail!=he.detail||ae.type!=null&&he.type!=null&&ae.type!=he.type||ae.apply!=he.apply||ae.boost!=he.boost?re.push(ue):score(ue.completion)>score(ae)&&(re[re.length-1]=ue),ae=ue.completion}return re}class CompletionDialog{constructor(n,g,y,$,L,re){this.options=n,this.attrs=g,this.tooltip=y,this.timestamp=$,this.selected=L,this.disabled=re}setSelected(n,g){return n==this.selected||n>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(g,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,g,y,$,L,re){if($&&!re&&n.some(ue=>ue.isPending))return $.setDisabled();let ae=sortOptions(n,g);if(!ae.length)return $&&n.some(ue=>ue.isPending)?$.setDisabled():null;let le=g.facet(completionConfig).selectOnOpen?0:-1;if($&&$.selected!=le&&$.selected!=-1){let ue=$.options[$.selected].completion;for(let he=0;he<ae.length;he++)if(ae[he].completion==ue){le=he;break}}return new CompletionDialog(ae,makeAttrs(y,le),{pos:n.reduce((ue,he)=>he.hasResult()?Math.min(ue,he.from):ue,1e8),create:createTooltip,above:L.aboveCursor},$?$.timestamp:Date.now(),le,!1)}map(n){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(n,g,y){this.active=n,this.id=g,this.open=y}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:g}=n,y=g.facet(completionConfig),L=(y.override||g.languageDataAt("autocomplete",cur(g)).map(asSource)).map(le=>(this.active.find(he=>he.source==le)||new ActiveSource(le,this.active.some(he=>he.state!=0)?1:0)).update(n,y));L.length==this.active.length&&L.every((le,ue)=>le==this.active[ue])&&(L=this.active);let re=this.open,ae=n.effects.some(le=>le.is(setActiveEffect));re&&n.docChanged&&(re=re.map(n.changes)),n.selection||L.some(le=>le.hasResult()&&n.changes.touchesRange(le.from,le.to))||!sameResults(L,this.active)||ae?re=CompletionDialog.build(L,g,this.id,re,y,ae):re&&re.disabled&&!L.some(le=>le.isPending)&&(re=null),!re&&L.every(le=>!le.isPending)&&L.some(le=>le.hasResult())&&(L=L.map(le=>le.hasResult()?new ActiveSource(le.source,0):le));for(let le of n.effects)le.is(setSelectedEffect)&&(re=re&&re.setSelected(le.value,this.id));return L==this.active&&re==this.open?this:new CompletionState(L,this.id,re)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(r,n){if(r==n)return!0;for(let g=0,y=0;;){for(;g<r.length&&!r[g].hasResult();)g++;for(;y<n.length&&!n[y].hasResult();)y++;let $=g==r.length,L=y==n.length;if($||L)return $==L;if(r[g++].result!=n[y++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(r,n){let g={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return n>-1&&(g["aria-activedescendant"]=r+"-"+n),g}const none=[];function getUpdateType(r,n){if(r.isUserEvent("input.complete")){let y=r.annotation(pickedCompletion$1);if(y&&n.activateOnCompletion(y))return 12}let g=r.isUserEvent("input.type");return g&&n.activateOnTyping?5:g?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class ActiveSource{constructor(n,g,y=!1){this.source=n,this.state=g,this.explicit=y}hasResult(){return!1}get isPending(){return this.state==1}update(n,g){let y=getUpdateType(n,g),$=this;(y&8||y&16&&this.touches(n))&&($=new ActiveSource($.source,0)),y&4&&$.state==0&&($=new ActiveSource(this.source,1)),$=$.updateFor(n,y);for(let L of n.effects)if(L.is(startCompletionEffect))$=new ActiveSource($.source,1,L.value);else if(L.is(closeCompletionEffect))$=new ActiveSource($.source,0);else if(L.is(setActiveEffect))for(let re of L.value)re.source==$.source&&($=re);return $}updateFor(n,g){return this.map(n.changes)}map(n){return this}touches(n){return n.changes.touchesRange(cur(n.state))}}class ActiveResult extends ActiveSource{constructor(n,g,y,$,L,re){super(n,3,g),this.limit=y,this.result=$,this.from=L,this.to=re}hasResult(){return!0}updateFor(n,g){var y;if(!(g&3))return this.map(n.changes);let $=this.result;$.map&&!n.changes.empty&&($=$.map($,n.changes));let L=n.changes.mapPos(this.from),re=n.changes.mapPos(this.to,1),ae=cur(n.state);if(ae>re||!$||g&2&&(cur(n.startState)==this.from||ae<this.limit))return new ActiveSource(this.source,g&4?1:0);let le=n.changes.mapPos(this.limit);return checkValid($.validFor,n.state,L,re)?new ActiveResult(this.source,this.explicit,le,$,L,re):$.update&&($=$.update($,L,re,new CompletionContext(n.state,ae,!1)))?new ActiveResult(this.source,this.explicit,le,$,$.from,(y=$.to)!==null&&y!==void 0?y:cur(n.state)):new ActiveSource(this.source,1,this.explicit)}map(n){return n.empty?this:(this.result.map?this.result.map(this.result,n):this.result)?new ActiveResult(this.source,this.explicit,n.mapPos(this.limit),this.result,n.mapPos(this.from),n.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(n){return n.changes.touchesRange(this.from,this.to)}}function checkValid(r,n,g,y){if(!r)return!1;let $=n.sliceDoc(g,y);return typeof r=="function"?r($,g,y,n):ensureAnchor(r,!0).test($)}const setActiveEffect=StateEffect.define({map(r,n){return r.map(g=>g.map(n))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(r,n){return r.update(n)},provide:r=>[showTooltip.from(r,n=>n.tooltip),EditorView.contentAttributes.from(r,n=>n.attrs)]});function applyCompletion(r,n){const g=n.completion.apply||n.completion.label;let y=r.state.field(completionState).active.find($=>$.source==n.source);return y instanceof ActiveResult?(typeof g=="string"?r.dispatch(Object.assign(Object.assign({},insertCompletionText(r.state,g,y.from,y.to)),{annotations:pickedCompletion$1.of(n.completion)})):g(r,n.completion,y.from,y.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(r,n="option"){return g=>{let y=g.state.field(completionState,!1);if(!y||!y.open||y.open.disabled||Date.now()-y.open.timestamp<g.state.facet(completionConfig).interactionDelay)return!1;let $=1,L;n=="page"&&(L=getTooltip(g,y.open.tooltip))&&($=Math.max(2,Math.floor(L.dom.offsetHeight/L.dom.querySelector("li").offsetHeight)-1));let{length:re}=y.open.options,ae=y.open.selected>-1?y.open.selected+$*(r?1:-1):r?0:re-1;return ae<0?ae=n=="page"?0:re-1:ae>=re&&(ae=n=="page"?re-1:0),g.dispatch({effects:setSelectedEffect.of(ae)}),!0}}const acceptCompletion=r=>{let n=r.state.field(completionState,!1);return r.state.readOnly||!n||!n.open||n.open.selected<0||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(completionConfig).interactionDelay?!1:applyCompletion(r,n.open.options[n.open.selected])},startCompletion=r=>r.state.field(completionState,!1)?(r.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=r=>{let n=r.state.field(completionState,!1);return!n||!n.active.some(g=>g.state!=0)?!1:(r.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(n,g){this.active=n,this.context=g,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let n of r.state.field(completionState).active)n.isPending&&this.startQuery(n)}update(r){let n=r.state.field(completionState),g=r.state.facet(completionConfig);if(!r.selectionSet&&!r.docChanged&&r.startState.field(completionState)==n)return;let y=r.transactions.some(L=>{let re=getUpdateType(L,g);return re&8||(L.selection||L.docChanged)&&!(re&3)});for(let L=0;L<this.running.length;L++){let re=this.running[L];if(y||re.context.abortOnDocChange&&r.docChanged||re.updates.length+r.transactions.length>MaxUpdateCount&&Date.now()-re.time>MinAbortTime){for(let ae of re.context.abortListeners)try{ae()}catch(le){logException(this.view.state,le)}re.context.abortListeners=null,this.running.splice(L--,1)}else re.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(L=>L.effects.some(re=>re.is(startCompletionEffect)))&&(this.pendingStart=!0);let $=this.pendingStart?50:g.activateOnTypingDelay;if(this.debounceUpdate=n.active.some(L=>L.isPending&&!this.running.some(re=>re.active.source==L.source))?setTimeout(()=>this.startUpdate(),$):-1,this.composing!=0)for(let L of r.transactions)L.isUserEvent("input.type")?this.composing=2:this.composing==2&&L.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,n=r.field(completionState);for(let g of n.active)g.isPending&&!this.running.some(y=>y.active.source==g.source)&&this.startQuery(g);this.running.length&&n.open&&n.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(r){let{state:n}=this.view,g=cur(n),y=new CompletionContext(n,g,r.explicit,this.view),$=new RunningQuery(r,y);this.running.push($),Promise.resolve(r.source(y)).then(L=>{$.context.aborted||($.done=L||null,this.scheduleAccept())},L=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,L)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],g=this.view.state.facet(completionConfig),y=this.view.state.field(completionState);for(let $=0;$<this.running.length;$++){let L=this.running[$];if(L.done===void 0)continue;if(this.running.splice($--,1),L.done){let ae=cur(L.updates.length?L.updates[0].startState:this.view.state),le=Math.min(ae,L.done.from+(L.active.explicit?0:1)),ue=new ActiveResult(L.active.source,L.active.explicit,le,L.done,L.done.from,(r=L.done.to)!==null&&r!==void 0?r:ae);for(let he of L.updates)ue=ue.update(he,g);if(ue.hasResult()){n.push(ue);continue}}let re=y.active.find(ae=>ae.source==L.active.source);if(re&&re.isPending)if(L.done==null){let ae=new ActiveSource(L.active.source,0);for(let le of L.updates)ae=ae.update(le,g);ae.isPending||n.push(ae)}else this.startQuery(re)}(n.length||y.open&&y.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(n)})}},{eventHandlers:{blur(r){let n=this.view.state.field(completionState,!1);if(n&&n.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let g=n.open&&getTooltip(this.view,n.open.tooltip);(!g||!g.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(r,n){let g=n.state.field(completionState,!1);if(!g||!g.open||g.open.disabled||g.open.selected<0||r.key.length>1||r.ctrlKey&&!(windows&&r.altKey)||r.metaKey)return!1;let y=g.open.options[g.open.selected],$=g.active.find(re=>re.source==y.source),L=y.completion.commitCharacters||$.result.commitCharacters;return L&&L.indexOf(r.key)>-1&&applyCompletion(n,y),!1}})),baseTheme$3=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(r,n){let g=n.mapPos(r,-1,MapMode.TrackAfter);return g??void 0}}),closedBracket$1=new class extends RangeValue{};closedBracket$1.startSide=1;closedBracket$1.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(r,n){if(r=r.map(n.changes),n.selection){let g=n.state.doc.lineAt(n.selection.main.head);r=r.update({filter:y=>y>=g.from&&y<=g.to})}for(let g of n.effects)g.is(closeBracketEffect)&&(r=r.update({add:[closedBracket$1.range(g.value,g.value+1)]}));return r}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(r){for(let n=0;n<definedClosing.length;n+=2)if(definedClosing.charCodeAt(n)==r)return definedClosing.charAt(n+1);return fromCodePoint(r<128?r:r+1)}function config(r,n){return r.languageDataAt("closeBrackets",n)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((r,n,g,y)=>{if((android$1?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let $=r.state.selection.main;if(y.length>2||y.length==2&&codePointSize(codePointAt(y,0))==1||n!=$.from||g!=$.to)return!1;let L=insertBracket(r.state,y);return L?(r.dispatch(L),!0):!1}),deleteBracketPair=({state:r,dispatch:n})=>{if(r.readOnly)return!1;let y=config(r,r.selection.main.head).brackets||defaults.brackets,$=null,L=r.changeByRange(re=>{if(re.empty){let ae=prevChar(r.doc,re.head);for(let le of y)if(le==ae&&nextChar(r.doc,re.head)==closing(codePointAt(le,0)))return{changes:{from:re.head-le.length,to:re.head+le.length},range:EditorSelection.cursor(re.head-le.length)}}return{range:$=re}});return $||n(r.update(L,{scrollIntoView:!0,userEvent:"delete.backward"})),!$},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(r,n){let g=config(r,r.selection.main.head),y=g.brackets||defaults.brackets;for(let $ of y){let L=closing(codePointAt($,0));if(n==$)return L==$?handleSame(r,$,y.indexOf($+$+$)>-1,g):handleOpen(r,$,L,g.before||defaults.before);if(n==L&&closedBracketAt(r,r.selection.main.from))return handleClose(r,$,L)}return null}function closedBracketAt(r,n){let g=!1;return r.field(bracketState).between(0,r.doc.length,y=>{y==n&&(g=!0)}),g}function nextChar(r,n){let g=r.sliceString(n,n+2);return g.slice(0,codePointSize(codePointAt(g,0)))}function prevChar(r,n){let g=r.sliceString(n-2,n);return codePointSize(codePointAt(g,0))==g.length?g:g.slice(1)}function handleOpen(r,n,g,y){let $=null,L=r.changeByRange(re=>{if(!re.empty)return{changes:[{insert:n,from:re.from},{insert:g,from:re.to}],effects:closeBracketEffect.of(re.to+n.length),range:EditorSelection.range(re.anchor+n.length,re.head+n.length)};let ae=nextChar(r.doc,re.head);return!ae||/\s/.test(ae)||y.indexOf(ae)>-1?{changes:{insert:n+g,from:re.head},effects:closeBracketEffect.of(re.head+n.length),range:EditorSelection.cursor(re.head+n.length)}:{range:$=re}});return $?null:r.update(L,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(r,n,g){let y=null,$=r.changeByRange(L=>L.empty&&nextChar(r.doc,L.head)==g?{changes:{from:L.head,to:L.head+g.length,insert:g},range:EditorSelection.cursor(L.head+g.length)}:y={range:L});return y?null:r.update($,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(r,n,g,y){let $=y.stringPrefixes||defaults.stringPrefixes,L=null,re=r.changeByRange(ae=>{if(!ae.empty)return{changes:[{insert:n,from:ae.from},{insert:n,from:ae.to}],effects:closeBracketEffect.of(ae.to+n.length),range:EditorSelection.range(ae.anchor+n.length,ae.head+n.length)};let le=ae.head,ue=nextChar(r.doc,le),he;if(ue==n){if(nodeStart(r,le))return{changes:{insert:n+n,from:le},effects:closeBracketEffect.of(le+n.length),range:EditorSelection.cursor(le+n.length)};if(closedBracketAt(r,le)){let Ce=g&&r.sliceDoc(le,le+n.length*3)==n+n+n?n+n+n:n;return{changes:{from:le,to:le+Ce.length,insert:Ce},range:EditorSelection.cursor(le+Ce.length)}}}else{if(g&&r.sliceDoc(le-2*n.length,le)==n+n&&(he=canStartStringAt(r,le-2*n.length,$))>-1&&nodeStart(r,he))return{changes:{insert:n+n+n+n,from:le},effects:closeBracketEffect.of(le+n.length),range:EditorSelection.cursor(le+n.length)};if(r.charCategorizer(le)(ue)!=CharCategory.Word&&canStartStringAt(r,le,$)>-1&&!probablyInString(r,le,n,$))return{changes:{insert:n+n,from:le},effects:closeBracketEffect.of(le+n.length),range:EditorSelection.cursor(le+n.length)}}return{range:L=ae}});return L?null:r.update(re,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(r,n){let g=syntaxTree$1(r).resolveInner(n+1);return g.parent&&g.from==n}function probablyInString(r,n,g,y){let $=syntaxTree$1(r).resolveInner(n,-1),L=y.reduce((re,ae)=>Math.max(re,ae.length),0);for(let re=0;re<5;re++){let ae=r.sliceDoc($.from,Math.min($.to,$.from+g.length+L)),le=ae.indexOf(g);if(!le||le>-1&&y.indexOf(ae.slice(0,le))>-1){let he=$.firstChild;for(;he&&he.from==$.from&&he.to-he.from>g.length+le;){if(r.sliceDoc(he.to-g.length,he.to)==g)return!1;he=he.firstChild}return!0}let ue=$.to==n&&$.parent;if(!ue)break;$=ue}return!1}function canStartStringAt(r,n,g){let y=r.charCategorizer(n);if(y(r.sliceDoc(n-1,n))!=CharCategory.Word)return n;for(let $ of g){let L=n-$.length;if(r.sliceDoc(L,n)==$&&y(r.sliceDoc(L-1,L))!=CharCategory.Word)return L}return-1}function autocompletion(r={}){return[commitCharacters,completionState,completionConfig.of(r),completionPlugin,completionKeymapExt,baseTheme$3]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],r=>r.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(n,g,y){this.from=n,this.to=g,this.diagnostic=y}}class LintState{constructor(n,g,y){this.diagnostics=n,this.panel=g,this.selected=y}static init(n,g,y){let $=y.facet(lintConfig).markerFilter;$&&(n=$(n,y));let L=n.slice().sort((he,_e)=>he.from-_e.from||he.to-_e.to),re=new RangeSetBuilder,ae=[],le=0;for(let he=0;;){let _e=he==L.length?null:L[he];if(!_e&&!ae.length)break;let Ce,$e;for(ae.length?(Ce=le,$e=ae.reduce((xe,Ne)=>Math.min(xe,Ne.to),_e&&_e.from>Ce?_e.from:1e8)):(Ce=_e.from,$e=_e.to,ae.push(_e),he++);he<L.length;){let xe=L[he];if(xe.from==Ce&&(xe.to>xe.from||xe.to==Ce))ae.push(xe),he++,$e=Math.min(xe.to,$e);else{$e=Math.min(xe.from,$e);break}}let Oe=maxSeverity(ae);if(ae.some(xe=>xe.from==xe.to||xe.from==xe.to-1&&y.doc.lineAt(xe.from).to==xe.from))re.add(Ce,Ce,Decoration.widget({widget:new DiagnosticWidget(Oe),diagnostics:ae.slice()}));else{let xe=ae.reduce((Ne,Ie)=>Ie.markClass?Ne+" "+Ie.markClass:Ne,"");re.add(Ce,$e,Decoration.mark({class:"cm-lintRange cm-lintRange-"+Oe+xe,diagnostics:ae.slice(),inclusiveEnd:ae.some(Ne=>Ne.to>$e)}))}le=$e;for(let xe=0;xe<ae.length;xe++)ae[xe].to<=le&&ae.splice(xe--,1)}let ue=re.finish();return new LintState(ue,g,findDiagnostic(ue))}}function findDiagnostic(r,n=null,g=0){let y=null;return r.between(g,1e9,($,L,{spec:re})=>{if(!(n&&re.diagnostics.indexOf(n)<0))if(!y)y=new SelectedDiagnostic($,L,n||re.diagnostics[0]);else{if(re.diagnostics.indexOf(y.diagnostic)<0)return!1;y=new SelectedDiagnostic(y.from,L,y.diagnostic)}}),y}function hideTooltip(r,n){let g=n.pos,y=n.end||g,$=r.state.facet(lintConfig).hideOn(r,g,y);if($!=null)return $;let L=r.startState.doc.lineAt(n.pos);return!!(r.effects.some(re=>re.is(setDiagnosticsEffect))||r.changes.touchesRange(L.from,Math.max(L.to,y)))}function maybeEnableLint(r,n){return r.field(lintState,!1)?n:n.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(r,n){if(n.docChanged&&r.diagnostics.size){let g=r.diagnostics.map(n.changes),y=null,$=r.panel;if(r.selected){let L=n.changes.mapPos(r.selected.from,1);y=findDiagnostic(g,r.selected.diagnostic,L)||findDiagnostic(g,null,L)}!g.size&&$&&n.state.facet(lintConfig).autoPanel&&($=null),r=new LintState(g,$,y)}for(let g of n.effects)if(g.is(setDiagnosticsEffect)){let y=n.state.facet(lintConfig).autoPanel?g.value.length?LintPanel.open:null:r.panel;r=LintState.init(g.value,y,n.state)}else g.is(togglePanel)?r=new LintState(r.diagnostics,g.value?LintPanel.open:null,r.selected):g.is(movePanelSelection)&&(r=new LintState(r.diagnostics,r.panel,g.value));return r},provide:r=>[showPanel.from(r,n=>n.panel),EditorView.decorations.from(r,n=>n.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(r,n,g){let{diagnostics:y}=r.state.field(lintState),$,L=-1,re=-1;y.between(n-(g<0?1:0),n+(g>0?1:0),(le,ue,{spec:he})=>{if(n>=le&&n<=ue&&(le==ue||(n>le||g>0)&&(n<ue||g<0)))return $=he.diagnostics,L=le,re=ue,!1});let ae=r.state.facet(lintConfig).tooltipFilter;return $&&ae&&($=ae($,r.state)),$?{pos:L,end:re,above:r.state.doc.lineAt(L).to<re,create(){return{dom:diagnosticsTooltip(r,$)}}}:null}function diagnosticsTooltip(r,n){return crelt("ul",{class:"cm-tooltip-lint"},n.map(g=>renderDiagnostic(r,g,!1)))}const openLintPanel=r=>{let n=r.state.field(lintState,!1);(!n||!n.panel)&&r.dispatch({effects:maybeEnableLint(r.state,[togglePanel.of(!0)])});let g=getPanel(r,LintPanel.open);return g&&g.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=r=>{let n=r.state.field(lintState,!1);return!n||!n.panel?!1:(r.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=r=>{let n=r.state.field(lintState,!1);if(!n)return!1;let g=r.state.selection.main,y=n.diagnostics.iter(g.to+1);return!y.value&&(y=n.diagnostics.iter(0),!y.value||y.from==g.from&&y.to==g.to)?!1:(r.dispatch({selection:{anchor:y.from,head:y.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(r){return Object.assign({sources:r.map(n=>n.source).filter(n=>n!=null)},combineConfig(r.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(n,g)=>n?g?y=>n(y)||g(y):n:g}))}});function assignKeys(r){let n=[];if(r)e:for(let{name:g}of r){for(let y=0;y<g.length;y++){let $=g[y];if(/[a-zA-Z]/.test($)&&!n.some(L=>L.toLowerCase()==$.toLowerCase())){n.push($);continue e}}n.push("")}return n}function renderDiagnostic(r,n,g){var y;let $=g?assignKeys(n.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},crelt("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage(r):n.message),(y=n.actions)===null||y===void 0?void 0:y.map((L,re)=>{let ae=!1,le=Ce=>{if(Ce.preventDefault(),ae)return;ae=!0;let $e=findDiagnostic(r.state.field(lintState).diagnostics,n);$e&&L.apply(r,$e.from,$e.to)},{name:ue}=L,he=$[re]?ue.indexOf($[re]):-1,_e=he<0?ue:[ue.slice(0,he),crelt("u",ue.slice(he,he+1)),ue.slice(he+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:le,onmousedown:le,"aria-label":` Action: ${ue}${he<0?"":` (access key "${$[re]})"`}.`},_e)}),n.source&&crelt("div",{class:"cm-diagnosticSource"},n.source))}class DiagnosticWidget extends WidgetType{constructor(n){super(),this.sev=n}eq(n){return n.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(n,g){this.diagnostic=g,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(n,g,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(n){this.view=n,this.items=[];let g=$=>{if($.keyCode==27)closeLintPanel(this.view),this.view.focus();else if($.keyCode==38||$.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if($.keyCode==40||$.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if($.keyCode==36)this.moveSelection(0);else if($.keyCode==35)this.moveSelection(this.items.length-1);else if($.keyCode==13)this.view.focus();else if($.keyCode>=65&&$.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:L}=this.items[this.selectedIndex],re=assignKeys(L.actions);for(let ae=0;ae<re.length;ae++)if(re[ae].toUpperCase().charCodeAt(0)==$.keyCode){let le=findDiagnostic(this.view.state.field(lintState).diagnostics,L);le&&L.actions[ae].apply(n,le.from,le.to)}}else return;$.preventDefault()},y=$=>{for(let L=0;L<this.items.length;L++)this.items[L].dom.contains($.target)&&this.moveSelection(L)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:g,onclick:y}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let n=this.view.state.field(lintState).selected;if(!n)return-1;for(let g=0;g<this.items.length;g++)if(this.items[g].diagnostic==n.diagnostic)return g;return-1}update(){let{diagnostics:n,selected:g}=this.view.state.field(lintState),y=0,$=!1,L=null,re=new Set;for(n.between(0,this.view.state.doc.length,(ae,le,{spec:ue})=>{for(let he of ue.diagnostics){if(re.has(he))continue;re.add(he);let _e=-1,Ce;for(let $e=y;$e<this.items.length;$e++)if(this.items[$e].diagnostic==he){_e=$e;break}_e<0?(Ce=new PanelItem(this.view,he),this.items.splice(y,0,Ce),$=!0):(Ce=this.items[_e],_e>y&&(this.items.splice(y,_e-y),$=!0)),g&&Ce.diagnostic==g.diagnostic?Ce.dom.hasAttribute("aria-selected")||(Ce.dom.setAttribute("aria-selected","true"),L=Ce):Ce.dom.hasAttribute("aria-selected")&&Ce.dom.removeAttribute("aria-selected"),y++}});y<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)$=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),$=!0),L?(this.list.setAttribute("aria-activedescendant",L.id),this.view.requestMeasure({key:this,read:()=>({sel:L.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:ae,panel:le})=>{let ue=le.height/this.list.offsetHeight;ae.top<le.top?this.list.scrollTop-=(le.top-ae.top)/ue:ae.bottom>le.bottom&&(this.list.scrollTop+=(ae.bottom-le.bottom)/ue)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),$&&this.sync()}sync(){let n=this.list.firstChild;function g(){let y=n;n=y.nextSibling,y.remove()}for(let y of this.items)if(y.dom.parentNode==this.list){for(;n!=y.dom;)g();n=y.dom.nextSibling}else this.list.insertBefore(y.dom,n);for(;n;)g()}moveSelection(n){if(this.selectedIndex<0)return;let g=this.view.state.field(lintState),y=findDiagnostic(g.diagnostics,this.items[n].diagnostic);y&&this.view.dispatch({selection:{anchor:y.from,head:y.to},scrollIntoView:!0,effects:movePanelSelection.of(y)})}static open(n){return new LintPanel(n)}}function svg(r,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(r)}</svg>')`}function underline(r){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme$2=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function maxSeverity(r){let n="hint",g=1;for(let y of r){let $=severityWeight(y.severity);$>g&&(g=$,n=y.severity)}return n}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],r=>{let{selected:n,panel:g}=r.field(lintState);return!n||!g||n.from==n.to?Decoration.none:Decoration.set([activeMark.range(n.from,n.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme$2],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])],DefaultBufferLength$1=1024;let nextPropID$1=0,Range$1=class{constructor(n,g){this.from=n,this.to=g}},NodeProp$1=class{constructor(n={}){this.id=nextPropID$1++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=NodeType$1.match(n)),g=>{let y=n(g);return y===void 0?null:[this,y]}}};NodeProp$1.closedBy=new NodeProp$1({deserialize:r=>r.split(" ")});NodeProp$1.openedBy=new NodeProp$1({deserialize:r=>r.split(" ")});NodeProp$1.group=new NodeProp$1({deserialize:r=>r.split(" ")});NodeProp$1.isolate=new NodeProp$1({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});NodeProp$1.contextHash=new NodeProp$1({perNode:!0});NodeProp$1.lookAhead=new NodeProp$1({perNode:!0});NodeProp$1.mounted=new NodeProp$1({perNode:!0});let MountedTree$1=class{constructor(n,g,y){this.tree=n,this.overlay=g,this.parser=y}static get(n){return n&&n.props&&n.props[NodeProp$1.mounted.id]}};const noProps$1=Object.create(null);let NodeType$1=class Ba{constructor(n,g,y,$=0){this.name=n,this.props=g,this.id=y,this.flags=$}static define(n){let g=n.props&&n.props.length?Object.create(null):noProps$1,y=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),$=new Ba(n.name||"",g,n.id,y);if(n.props){for(let L of n.props)if(Array.isArray(L)||(L=L($)),L){if(L[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");g[L[0].id]=L[1]}}return $}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let g=this.prop(NodeProp$1.group);return g?g.indexOf(n)>-1:!1}return this.id==n}static match(n){let g=Object.create(null);for(let y in n)for(let $ of y.split(" "))g[$]=n[y];return y=>{for(let $=y.prop(NodeProp$1.group),L=-1;L<($?$.length:0);L++){let re=g[L<0?y.name:$[L]];if(re)return re}}}};NodeType$1.none=new NodeType$1("",Object.create(null),0,8);class NodeSet{constructor(n){this.types=n;for(let g=0;g<n.length;g++)if(n[g].id!=g)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...n){let g=[];for(let y of this.types){let $=null;for(let L of n){let re=L(y);re&&($||($=Object.assign({},y.props)),$[re[0].id]=re[1])}g.push($?new NodeType$1(y.name,$,y.id,y.flags):y)}return new NodeSet(g)}}const CachedNode$1=new WeakMap,CachedInnerNode$1=new WeakMap;var IterMode$1;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode$1||(IterMode$1={}));let Tree$1=class Sa{constructor(n,g,y,$,L){if(this.type=n,this.children=g,this.positions=y,this.length=$,this.props=null,L&&L.length){this.props=Object.create(null);for(let[re,ae]of L)this.props[typeof re=="number"?re:re.id]=ae}}toString(){let n=MountedTree$1.get(this);if(n&&!n.overlay)return n.tree.toString();let g="";for(let y of this.children){let $=y.toString();$&&(g&&(g+=","),g+=$)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(g.length?"("+g+")":""):g}cursor(n=0){return new TreeCursor$1(this.topNode,n)}cursorAt(n,g=0,y=0){let $=CachedNode$1.get(this)||this.topNode,L=new TreeCursor$1($);return L.moveTo(n,g),CachedNode$1.set(this,L._tree),L}get topNode(){return new TreeNode$1(this,0,0,null)}resolve(n,g=0){let y=resolveNode$1(CachedNode$1.get(this)||this.topNode,n,g,!1);return CachedNode$1.set(this,y),y}resolveInner(n,g=0){let y=resolveNode$1(CachedInnerNode$1.get(this)||this.topNode,n,g,!0);return CachedInnerNode$1.set(this,y),y}resolveStack(n,g=0){return stackIterator$1(this,n,g)}iterate(n){let{enter:g,leave:y,from:$=0,to:L=this.length}=n,re=n.mode||0,ae=(re&IterMode$1.IncludeAnonymous)>0;for(let le=this.cursor(re|IterMode$1.IncludeAnonymous);;){let ue=!1;if(le.from<=L&&le.to>=$&&(!ae&&le.type.isAnonymous||g(le)!==!1)){if(le.firstChild())continue;ue=!0}for(;ue&&y&&(ae||!le.type.isAnonymous)&&y(le),!le.nextSibling();){if(!le.parent())return;ue=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let g in this.props)n.push([+g,this.props[g]]);return n}balance(n={}){return this.children.length<=8?this:balanceRange$1(NodeType$1.none,this.children,this.positions,0,this.children.length,0,this.length,(g,y,$)=>new Sa(this.type,g,y,$,this.propValues),n.makeTree||((g,y,$)=>new Sa(NodeType$1.none,g,y,$)))}static build(n){return buildTree$1(n)}};Tree$1.empty=new Tree$1(NodeType$1.none,[],[],0);let FlatBufferCursor$1=class Va{constructor(n,g){this.buffer=n,this.index=g}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Va(this.buffer,this.index)}},TreeBuffer$1=class Fa{constructor(n,g,y){this.buffer=n,this.length=g,this.set=y}get type(){return NodeType$1.none}toString(){let n=[];for(let g=0;g<this.buffer.length;)n.push(this.childString(g)),g=this.buffer[g+3];return n.join(",")}childString(n){let g=this.buffer[n],y=this.buffer[n+3],$=this.set.types[g],L=$.name;if(/\W/.test(L)&&!$.isError&&(L=JSON.stringify(L)),n+=4,y==n)return L;let re=[];for(;n<y;)re.push(this.childString(n)),n=this.buffer[n+3];return L+"("+re.join(",")+")"}findChild(n,g,y,$,L){let{buffer:re}=this,ae=-1;for(let le=n;le!=g&&!(checkSide$1(L,$,re[le+1],re[le+2])&&(ae=le,y>0));le=re[le+3]);return ae}slice(n,g,y){let $=this.buffer,L=new Uint16Array(g-n),re=0;for(let ae=n,le=0;ae<g;){L[le++]=$[ae++],L[le++]=$[ae++]-y;let ue=L[le++]=$[ae++]-y;L[le++]=$[ae++]-n,re=Math.max(re,ue)}return new Fa(L,re,this.set)}};function checkSide$1(r,n,g,y){switch(r){case-2:return g<n;case-1:return y>=n&&g<n;case 0:return g<n&&y>n;case 1:return g<=n&&y>n;case 2:return y>n;case 4:return!0}}function resolveNode$1(r,n,g,y){for(var $;r.from==r.to||(g<1?r.from>=n:r.from>n)||(g>-1?r.to<=n:r.to<n);){let re=!y&&r instanceof TreeNode$1&&r.index<0?null:r.parent;if(!re)return r;r=re}let L=y?0:IterMode$1.IgnoreOverlays;if(y)for(let re=r,ae=re.parent;ae;re=ae,ae=re.parent)re instanceof TreeNode$1&&re.index<0&&(($=ae.enter(n,g,L))===null||$===void 0?void 0:$.from)!=re.from&&(r=ae);for(;;){let re=r.enter(n,g,L);if(!re)return r;r=re}}let BaseNode$1=class{cursor(n=0){return new TreeCursor$1(this,n)}getChild(n,g=null,y=null){let $=getChildren$2(this,n,g,y);return $.length?$[0]:null}getChildren(n,g=null,y=null){return getChildren$2(this,n,g,y)}resolve(n,g=0){return resolveNode$1(this,n,g,!1)}resolveInner(n,g=0){return resolveNode$1(this,n,g,!0)}matchContext(n){return matchNodeContext$1(this.parent,n)}enterUnfinishedNodesBefore(n){let g=this.childBefore(n),y=this;for(;g;){let $=g.lastChild;if(!$||$.to!=g.to)break;$.type.isError&&$.from==$.to?(y=g,g=$.prevSibling):g=$}return y}get node(){return this}get next(){return this.parent}},TreeNode$1=class ta extends BaseNode$1{constructor(n,g,y,$){super(),this._tree=n,this.from=g,this.index=y,this._parent=$}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,g,y,$,L=0){for(let re=this;;){for(let{children:ae,positions:le}=re._tree,ue=g>0?ae.length:-1;n!=ue;n+=g){let he=ae[n],_e=le[n]+re.from;if(checkSide$1($,y,_e,_e+he.length)){if(he instanceof TreeBuffer$1){if(L&IterMode$1.ExcludeBuffers)continue;let Ce=he.findChild(0,he.buffer.length,g,y-_e,$);if(Ce>-1)return new BufferNode$1(new BufferContext$1(re,he,n,_e),null,Ce)}else if(L&IterMode$1.IncludeAnonymous||!he.type.isAnonymous||hasChild$1(he)){let Ce;if(!(L&IterMode$1.IgnoreMounts)&&(Ce=MountedTree$1.get(he))&&!Ce.overlay)return new ta(Ce.tree,_e,n,re);let $e=new ta(he,_e,n,re);return L&IterMode$1.IncludeAnonymous||!$e.type.isAnonymous?$e:$e.nextChild(g<0?he.children.length-1:0,g,y,$)}}}if(L&IterMode$1.IncludeAnonymous||!re.type.isAnonymous||(re.index>=0?n=re.index+g:n=g<0?-1:re._parent._tree.children.length,re=re._parent,!re))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,g,y=0){let $;if(!(y&IterMode$1.IgnoreOverlays)&&($=MountedTree$1.get(this._tree))&&$.overlay){let L=n-this.from;for(let{from:re,to:ae}of $.overlay)if((g>0?re<=L:re<L)&&(g<0?ae>=L:ae>L))return new ta($.tree,$.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,g,y)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function getChildren$2(r,n,g,y){let $=r.cursor(),L=[];if(!$.firstChild())return L;if(g!=null){for(let re=!1;!re;)if(re=$.type.is(g),!$.nextSibling())return L}for(;;){if(y!=null&&$.type.is(y))return L;if($.type.is(n)&&L.push($.node),!$.nextSibling())return y==null?L:[]}}function matchNodeContext$1(r,n,g=n.length-1){for(let y=r;g>=0;y=y.parent){if(!y)return!1;if(!y.type.isAnonymous){if(n[g]&&n[g]!=y.name)return!1;g--}}return!0}let BufferContext$1=class{constructor(n,g,y,$){this.parent=n,this.buffer=g,this.index=y,this.start=$}},BufferNode$1=class Ur extends BaseNode$1{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,g,y){super(),this.context=n,this._parent=g,this.index=y,this.type=n.buffer.set.types[n.buffer.buffer[y]]}child(n,g,y){let{buffer:$}=this.context,L=$.findChild(this.index+4,$.buffer[this.index+3],n,g-this.context.start,y);return L<0?null:new Ur(this.context,this,L)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,g,y=0){if(y&IterMode$1.ExcludeBuffers)return null;let{buffer:$}=this.context,L=$.findChild(this.index+4,$.buffer[this.index+3],g>0?1:-1,n-this.context.start,g);return L<0?null:new Ur(this.context,this,L)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,g=n.buffer[this.index+3];return g<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new Ur(this.context,this._parent,g):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,g=this._parent?this._parent.index+4:0;return this.index==g?this.externalSibling(-1):new Ur(this.context,this._parent,n.findChild(g,this.index,-1,0,4))}get tree(){return null}toTree(){let n=[],g=[],{buffer:y}=this.context,$=this.index+4,L=y.buffer[this.index+3];if(L>$){let re=y.buffer[this.index+1];n.push(y.slice($,L,re)),g.push(0)}return new Tree$1(this.type,n,g,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function iterStack$1(r){if(!r.length)return null;let n=0,g=r[0];for(let L=1;L<r.length;L++){let re=r[L];(re.from>g.from||re.to<g.to)&&(g=re,n=L)}let y=g instanceof TreeNode$1&&g.index<0?null:g.parent,$=r.slice();return y?$[n]=y:$.splice(n,1),new StackIterator$1($,g)}let StackIterator$1=class{constructor(n,g){this.heads=n,this.node=g}get next(){return iterStack$1(this.heads)}};function stackIterator$1(r,n,g){let y=r.resolveInner(n,g),$=null;for(let L=y instanceof TreeNode$1?y:y.context.parent;L;L=L.parent)if(L.index<0){let re=L.parent;($||($=[y])).push(re.resolve(n,g)),L=re}else{let re=MountedTree$1.get(L.tree);if(re&&re.overlay&&re.overlay[0].from<=n&&re.overlay[re.overlay.length-1].to>=n){let ae=new TreeNode$1(re.tree,re.overlay[0].from+L.from,-1,L);($||($=[y])).push(resolveNode$1(ae,n,g,!1))}}return $?iterStack$1($):y}let TreeCursor$1=class{get name(){return this.type.name}constructor(n,g=0){if(this.mode=g,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof TreeNode$1)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let y=n._parent;y;y=y._parent)this.stack.unshift(y.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,g){this.index=n;let{start:y,buffer:$}=this.buffer;return this.type=g||$.set.types[$.buffer[n]],this.from=y+$.buffer[n+1],this.to=y+$.buffer[n+2],!0}yield(n){return n?n instanceof TreeNode$1?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,g,y){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,g,y,this.mode));let{buffer:$}=this.buffer,L=$.findChild(this.index+4,$.buffer[this.index+3],n,g-this.buffer.start,y);return L<0?!1:(this.stack.push(this.index),this.yieldBuf(L))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,g,y=this.mode){return this.buffer?y&IterMode$1.ExcludeBuffers?!1:this.enterChild(1,n,g):this.yield(this._tree.enter(n,g,y))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode$1.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&IterMode$1.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:g}=this.buffer,y=this.stack.length-1;if(n<0){let $=y<0?0:this.stack[y]+4;if(this.index!=$)return this.yieldBuf(g.findChild($,this.index,-1,0,4))}else{let $=g.buffer[this.index+3];if($<(y<0?g.buffer.length:g.buffer[this.stack[y]+3]))return this.yieldBuf($)}return y<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let g,y,{buffer:$}=this;if($){if(n>0){if(this.index<$.buffer.buffer.length)return!1}else for(let L=0;L<this.index;L++)if($.buffer.buffer[L+3]<this.index)return!1;({index:g,parent:y}=$)}else({index:g,_parent:y}=this._tree);for(;y;{index:g,_parent:y}=y)if(g>-1)for(let L=g+n,re=n<0?-1:y._tree.children.length;L!=re;L+=n){let ae=y._tree.children[L];if(this.mode&IterMode$1.IncludeAnonymous||ae instanceof TreeBuffer$1||!ae.type.isAnonymous||hasChild$1(ae))return!1}return!0}move(n,g){if(g&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,g=0){for(;(this.from==this.to||(g<1?this.from>=n:this.from>n)||(g>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,g););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,g=null,y=0;if(n&&n.context==this.buffer)e:for(let $=this.index,L=this.stack.length;L>=0;){for(let re=n;re;re=re._parent)if(re.index==$){if($==this.index)return re;g=re,y=L+1;break e}$=this.stack[--L]}for(let $=y;$<this.stack.length;$++)g=new BufferNode$1(this.buffer,g,this.stack[$]);return this.bufferNode=new BufferNode$1(this.buffer,g,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,g){for(let y=0;;){let $=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){y++;continue}this.type.isAnonymous||($=!0)}for(;;){if($&&g&&g(this),$=this.type.isAnonymous,!y)return;if(this.nextSibling())break;this.parent(),y--,$=!0}}}matchContext(n){if(!this.buffer)return matchNodeContext$1(this.node.parent,n);let{buffer:g}=this.buffer,{types:y}=g.set;for(let $=n.length-1,L=this.stack.length-1;$>=0;L--){if(L<0)return matchNodeContext$1(this._tree,n,$);let re=y[g.buffer[this.stack[L]]];if(!re.isAnonymous){if(n[$]&&n[$]!=re.name)return!1;$--}}return!0}};function hasChild$1(r){return r.children.some(n=>n instanceof TreeBuffer$1||!n.type.isAnonymous||hasChild$1(n))}function buildTree$1(r){var n;let{buffer:g,nodeSet:y,maxBufferLength:$=DefaultBufferLength$1,reused:L=[],minRepeatType:re=y.types.length}=r,ae=Array.isArray(g)?new FlatBufferCursor$1(g,g.length):g,le=y.types,ue=0,he=0;function _e(Ue,qe,kt,Et,Pt,At){let{id:Dt,start:Lt,end:hn,size:_n}=ae,vn=he,jt=ue;for(;_n<0;)if(ae.next(),_n==-1){let On=L[Dt];kt.push(On),Et.push(Lt-Ue);return}else if(_n==-3){ue=Dt;return}else if(_n==-4){he=Dt;return}else throw new RangeError(`Unrecognized record size: ${_n}`);let $n=le[Dt],Sn,bn,wn=Lt-Ue;if(hn-Lt<=$&&(bn=Ne(ae.pos-qe,Pt))){let On=new Uint16Array(bn.size-bn.skip),Tn=ae.pos-bn.size,xn=On.length;for(;ae.pos>Tn;)xn=Ie(bn.start,On,xn);Sn=new TreeBuffer$1(On,hn-bn.start,y),wn=bn.start-Ue}else{let On=ae.pos-_n;ae.next();let Tn=[],xn=[],Pn=Dt>=re?Dt:-1,An=0,Rn=hn;for(;ae.pos>On;)Pn>=0&&ae.id==Pn&&ae.size>=0?(ae.end<=Rn-$&&(Oe(Tn,xn,Lt,An,ae.end,Rn,Pn,vn,jt),An=Tn.length,Rn=ae.end),ae.next()):At>2500?Ce(Lt,On,Tn,xn):_e(Lt,On,Tn,xn,Pn,At+1);if(Pn>=0&&An>0&&An<Tn.length&&Oe(Tn,xn,Lt,An,Lt,Rn,Pn,vn,jt),Tn.reverse(),xn.reverse(),Pn>-1&&An>0){let Nn=$e($n,jt);Sn=balanceRange$1($n,Tn,xn,0,Tn.length,0,hn-Lt,Nn,Nn)}else Sn=xe($n,Tn,xn,hn-Lt,vn-hn,jt)}kt.push(Sn),Et.push(wn)}function Ce(Ue,qe,kt,Et){let Pt=[],At=0,Dt=-1;for(;ae.pos>qe;){let{id:Lt,start:hn,end:_n,size:vn}=ae;if(vn>4)ae.next();else{if(Dt>-1&&hn<Dt)break;Dt<0&&(Dt=_n-$),Pt.push(Lt,hn,_n),At++,ae.next()}}if(At){let Lt=new Uint16Array(At*4),hn=Pt[Pt.length-2];for(let _n=Pt.length-3,vn=0;_n>=0;_n-=3)Lt[vn++]=Pt[_n],Lt[vn++]=Pt[_n+1]-hn,Lt[vn++]=Pt[_n+2]-hn,Lt[vn++]=vn;kt.push(new TreeBuffer$1(Lt,Pt[2]-hn,y)),Et.push(hn-Ue)}}function $e(Ue,qe){return(kt,Et,Pt)=>{let At=0,Dt=kt.length-1,Lt,hn;if(Dt>=0&&(Lt=kt[Dt])instanceof Tree$1){if(!Dt&&Lt.type==Ue&&Lt.length==Pt)return Lt;(hn=Lt.prop(NodeProp$1.lookAhead))&&(At=Et[Dt]+Lt.length+hn)}return xe(Ue,kt,Et,Pt,At,qe)}}function Oe(Ue,qe,kt,Et,Pt,At,Dt,Lt,hn){let _n=[],vn=[];for(;Ue.length>Et;)_n.push(Ue.pop()),vn.push(qe.pop()+kt-Pt);Ue.push(xe(y.types[Dt],_n,vn,At-Pt,Lt-At,hn)),qe.push(Pt-kt)}function xe(Ue,qe,kt,Et,Pt,At,Dt){if(At){let Lt=[NodeProp$1.contextHash,At];Dt=Dt?[Lt].concat(Dt):[Lt]}if(Pt>25){let Lt=[NodeProp$1.lookAhead,Pt];Dt=Dt?[Lt].concat(Dt):[Lt]}return new Tree$1(Ue,qe,kt,Et,Dt)}function Ne(Ue,qe){let kt=ae.fork(),Et=0,Pt=0,At=0,Dt=kt.end-$,Lt={size:0,start:0,skip:0};e:for(let hn=kt.pos-Ue;kt.pos>hn;){let _n=kt.size;if(kt.id==qe&&_n>=0){Lt.size=Et,Lt.start=Pt,Lt.skip=At,At+=4,Et+=4,kt.next();continue}let vn=kt.pos-_n;if(_n<0||vn<hn||kt.start<Dt)break;let jt=kt.id>=re?4:0,$n=kt.start;for(kt.next();kt.pos>vn;){if(kt.size<0)if(kt.size==-3)jt+=4;else break e;else kt.id>=re&&(jt+=4);kt.next()}Pt=$n,Et+=_n,At+=jt}return(qe<0||Et==Ue)&&(Lt.size=Et,Lt.start=Pt,Lt.skip=At),Lt.size>4?Lt:void 0}function Ie(Ue,qe,kt){let{id:Et,start:Pt,end:At,size:Dt}=ae;if(ae.next(),Dt>=0&&Et<re){let Lt=kt;if(Dt>4){let hn=ae.pos-(Dt-4);for(;ae.pos>hn;)kt=Ie(Ue,qe,kt)}qe[--kt]=Lt,qe[--kt]=At-Ue,qe[--kt]=Pt-Ue,qe[--kt]=Et}else Dt==-3?ue=Et:Dt==-4&&(he=Et);return kt}let Fe=[],Ve=[];for(;ae.pos>0;)_e(r.start||0,r.bufferStart||0,Fe,Ve,-1,0);let ze=(n=r.length)!==null&&n!==void 0?n:Fe.length?Ve[0]+Fe[0].length:0;return new Tree$1(le[r.topID],Fe.reverse(),Ve.reverse(),ze)}const nodeSizeCache$1=new WeakMap;function nodeSize$1(r,n){if(!r.isAnonymous||n instanceof TreeBuffer$1||n.type!=r)return 1;let g=nodeSizeCache$1.get(n);if(g==null){g=1;for(let y of n.children){if(y.type!=r||!(y instanceof Tree$1)){g=1;break}g+=nodeSize$1(r,y)}nodeSizeCache$1.set(n,g)}return g}function balanceRange$1(r,n,g,y,$,L,re,ae,le){let ue=0;for(let Oe=y;Oe<$;Oe++)ue+=nodeSize$1(r,n[Oe]);let he=Math.ceil(ue*1.5/8),_e=[],Ce=[];function $e(Oe,xe,Ne,Ie,Fe){for(let Ve=Ne;Ve<Ie;){let ze=Ve,Ue=xe[Ve],qe=nodeSize$1(r,Oe[Ve]);for(Ve++;Ve<Ie;Ve++){let kt=nodeSize$1(r,Oe[Ve]);if(qe+kt>=he)break;qe+=kt}if(Ve==ze+1){if(qe>he){let kt=Oe[ze];$e(kt.children,kt.positions,0,kt.children.length,xe[ze]+Fe);continue}_e.push(Oe[ze])}else{let kt=xe[Ve-1]+Oe[Ve-1].length-Ue;_e.push(balanceRange$1(r,Oe,xe,ze,Ve,Ue,kt,null,le))}Ce.push(Ue+Fe-L)}}return $e(n,g,y,$,0),(ae||le)(_e,Ce,re)}let Parser$1=class{startParse(n,g,y){return typeof n=="string"&&(n=new StringInput$1(n)),y=y?y.length?y.map($=>new Range$1($.from,$.to)):[new Range$1(0,0)]:[new Range$1(0,n.length)],this.createParse(n,g||[],y)}parse(n,g,y){let $=this.startParse(n,g,y);for(;;){let L=$.advance();if(L)return L}}},StringInput$1=class{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,g){return this.string.slice(n,g)}};new NodeProp$1({perNode:!0});var define_process_env_default={};class Stack{constructor(n,g,y,$,L,re,ae,le,ue,he=0,_e){this.p=n,this.stack=g,this.state=y,this.reducePos=$,this.pos=L,this.score=re,this.buffer=ae,this.bufferBase=le,this.curContext=ue,this.lookAhead=he,this.parent=_e}toString(){return`[${this.stack.filter((n,g)=>g%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(n,g,y=0){let $=n.parser.context;return new Stack(n,[],g,y,y,0,[],0,$?new StackContext($,$.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(n,g){this.stack.push(this.state,g,this.bufferBase+this.buffer.length),this.state=n}reduce(n){var g;let y=n>>19,$=n&65535,{parser:L}=this.p,re=this.reducePos<this.pos-25;re&&this.setLookAhead(this.pos);let ae=L.dynamicPrecedence($);if(ae&&(this.score+=ae),y==0){this.pushState(L.getGoto(this.state,$,!0),this.reducePos),$<L.minRepeatTerm&&this.storeNode($,this.reducePos,this.reducePos,re?8:4,!0),this.reduceContext($,this.reducePos);return}let le=this.stack.length-(y-1)*3-(n&262144?6:0),ue=le?this.stack[le-2]:this.p.ranges[0].from,he=this.reducePos-ue;he>=2e3&&!(!((g=this.p.parser.nodeSet.types[$])===null||g===void 0)&&g.isAnonymous)&&(ue==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=he):this.p.lastBigReductionSize<he&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=ue,this.p.lastBigReductionSize=he));let _e=le?this.stack[le-1]:0,Ce=this.bufferBase+this.buffer.length-_e;if($<L.minRepeatTerm||n&131072){let $e=L.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode($,ue,$e,Ce+4,!0)}if(n&262144)this.state=this.stack[le];else{let $e=this.stack[le-3];this.state=L.getGoto($e,$,!0)}for(;this.stack.length>le;)this.stack.pop();this.reduceContext($,ue)}storeNode(n,g,y,$=4,L=!1){if(n==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let re=this,ae=this.buffer.length;if(ae==0&&re.parent&&(ae=re.bufferBase-re.parent.bufferBase,re=re.parent),ae>0&&re.buffer[ae-4]==0&&re.buffer[ae-1]>-1){if(g==y)return;if(re.buffer[ae-2]>=g){re.buffer[ae-2]=y;return}}}if(!L||this.pos==y)this.buffer.push(n,g,y,$);else{let re=this.buffer.length;if(re>0&&this.buffer[re-4]!=0){let ae=!1;for(let le=re;le>0&&this.buffer[le-2]>y;le-=4)if(this.buffer[le-1]>=0){ae=!0;break}if(ae)for(;re>0&&this.buffer[re-2]>y;)this.buffer[re]=this.buffer[re-4],this.buffer[re+1]=this.buffer[re-3],this.buffer[re+2]=this.buffer[re-2],this.buffer[re+3]=this.buffer[re-1],re-=4,$>4&&($-=4)}this.buffer[re]=n,this.buffer[re+1]=g,this.buffer[re+2]=y,this.buffer[re+3]=$}}shift(n,g,y,$){if(n&131072)this.pushState(n&65535,this.pos);else if(n&262144)this.pos=$,this.shiftContext(g,y),g<=this.p.parser.maxNode&&this.buffer.push(g,y,$,4);else{let L=n,{parser:re}=this.p;($>this.pos||g<=re.maxNode)&&(this.pos=$,re.stateFlag(L,1)||(this.reducePos=$)),this.pushState(L,y),this.shiftContext(g,y),g<=re.maxNode&&this.buffer.push(g,y,$,4)}}apply(n,g,y,$){n&65536?this.reduce(n):this.shift(n,g,y,$)}useNode(n,g){let y=this.p.reused.length-1;(y<0||this.p.reused[y]!=n)&&(this.p.reused.push(n),y++);let $=this.pos;this.reducePos=this.pos=$+n.length,this.pushState(g,$),this.buffer.push(y,$,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,n,this,this.p.stream.reset(this.pos-n.length)))}split(){let n=this,g=n.buffer.length;for(;g>0&&n.buffer[g-2]>n.reducePos;)g-=4;let y=n.buffer.slice(g),$=n.bufferBase+g;for(;n&&$==n.bufferBase;)n=n.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,y,$,this.curContext,this.lookAhead,n)}recoverByDelete(n,g){let y=n<=this.p.parser.maxNode;y&&this.storeNode(n,this.pos,g,4),this.storeNode(0,this.pos,g,y?8:4),this.pos=this.reducePos=g,this.score-=190}canShift(n){for(let g=new SimulatedStack(this);;){let y=this.p.parser.stateSlot(g.state,4)||this.p.parser.hasAction(g.state,n);if(y==0)return!1;if(!(y&65536))return!0;g.reduce(y)}}recoverByInsert(n){if(this.stack.length>=300)return[];let g=this.p.parser.nextStates(this.state);if(g.length>8||this.stack.length>=120){let $=[];for(let L=0,re;L<g.length;L+=2)(re=g[L+1])!=this.state&&this.p.parser.hasAction(re,n)&&$.push(g[L],re);if(this.stack.length<120)for(let L=0;$.length<8&&L<g.length;L+=2){let re=g[L+1];$.some((ae,le)=>le&1&&ae==re)||$.push(g[L],re)}g=$}let y=[];for(let $=0;$<g.length&&y.length<4;$+=2){let L=g[$+1];if(L==this.state)continue;let re=this.split();re.pushState(L,this.pos),re.storeNode(0,re.pos,re.pos,4,!0),re.shiftContext(g[$],this.pos),re.reducePos=this.pos,re.score-=200,y.push(re)}return y}forceReduce(){let{parser:n}=this.p,g=n.stateSlot(this.state,5);if(!(g&65536))return!1;if(!n.validAction(this.state,g)){let y=g>>19,$=g&65535,L=this.stack.length-y*3;if(L<0||n.getGoto(this.stack[L],$,!1)<0){let re=this.findForcedReduction();if(re==null)return!1;g=re}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(g),!0}findForcedReduction(){let{parser:n}=this.p,g=[],y=($,L)=>{if(!g.includes($))return g.push($),n.allActions($,re=>{if(!(re&393216))if(re&65536){let ae=(re>>19)-L;if(ae>1){let le=re&65535,ue=this.stack.length-ae*3;if(ue>=0&&n.getGoto(this.stack[ue],le,!1)>=0)return ae<<19|65536|le}}else{let ae=y(re,L+1);if(ae!=null)return ae}})};return y(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:n}=this.p;return n.data[n.stateSlot(this.state,1)]==65535&&!n.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(n){if(this.state!=n.state||this.stack.length!=n.stack.length)return!1;for(let g=0;g<this.stack.length;g+=3)if(this.stack[g]!=n.stack[g])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(n){return this.p.parser.dialect.flags[n]}shiftContext(n,g){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,n,this,this.p.stream.reset(g)))}reduceContext(n,g){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,n,this,this.p.stream.reset(g)))}emitContext(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(n){if(n!=this.curContext.context){let g=new StackContext(this.curContext.tracker,n);g.hash!=this.curContext.hash&&this.emitContext(),this.curContext=g}}setLookAhead(n){n>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=n)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(n,g){this.tracker=n,this.context=g,this.hash=n.strict?n.hash(g):0}}class SimulatedStack{constructor(n){this.start=n,this.state=n.state,this.stack=n.stack,this.base=this.stack.length}reduce(n){let g=n&65535,y=n>>19;y==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(y-1)*3;let $=this.start.p.parser.getGoto(this.stack[this.base-3],g,!0);this.state=$}}class StackBufferCursor{constructor(n,g,y){this.stack=n,this.pos=g,this.index=y,this.buffer=n.buffer,this.index==0&&this.maybeNext()}static create(n,g=n.bufferBase+n.buffer.length){return new StackBufferCursor(n,g,g-n.bufferBase)}maybeNext(){let n=this.stack.parent;n!=null&&(this.index=this.stack.bufferBase-n.bufferBase,this.stack=n,this.buffer=n.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(r,n=Uint16Array){if(typeof r!="string")return r;let g=null;for(let y=0,$=0;y<r.length;){let L=0;for(;;){let re=r.charCodeAt(y++),ae=!1;if(re==126){L=65535;break}re>=92&&re--,re>=34&&re--;let le=re-32;if(le>=46&&(le-=46,ae=!0),L+=le,ae)break;L*=46}g?g[$++]=L:g=new n(L)}return g}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(n,g){this.input=n,this.ranges=g,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=g[0].from,this.range=g[0],this.end=g[g.length-1].to,this.readNext()}resolveOffset(n,g){let y=this.range,$=this.rangeIndex,L=this.pos+n;for(;L<y.from;){if(!$)return null;let re=this.ranges[--$];L-=y.from-re.to,y=re}for(;g<0?L>y.to:L>=y.to;){if($==this.ranges.length-1)return null;let re=this.ranges[++$];L+=re.from-y.to,y=re}return L}clipPos(n){if(n>=this.range.from&&n<this.range.to)return n;for(let g of this.ranges)if(g.to>n)return Math.max(n,g.from);return this.end}peek(n){let g=this.chunkOff+n,y,$;if(g>=0&&g<this.chunk.length)y=this.pos+n,$=this.chunk.charCodeAt(g);else{let L=this.resolveOffset(n,1);if(L==null)return-1;if(y=L,y>=this.chunk2Pos&&y<this.chunk2Pos+this.chunk2.length)$=this.chunk2.charCodeAt(y-this.chunk2Pos);else{let re=this.rangeIndex,ae=this.range;for(;ae.to<=y;)ae=this.ranges[++re];this.chunk2=this.input.chunk(this.chunk2Pos=y),y+this.chunk2.length>ae.to&&(this.chunk2=this.chunk2.slice(0,ae.to-y)),$=this.chunk2.charCodeAt(0)}}return y>=this.token.lookAhead&&(this.token.lookAhead=y+1),$}acceptToken(n,g=0){let y=g?this.resolveOffset(g,-1):this.pos;if(y==null||y<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=n,this.token.end=y}acceptTokenTo(n,g){this.token.value=n,this.token.end=g}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:n,chunkPos:g}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=n,this.chunk2Pos=g,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let n=this.input.chunk(this.pos),g=this.pos+n.length;this.chunk=g>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(n=1){for(this.chunkOff+=n;this.pos+n>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=n,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(n,g){if(g?(this.token=g,g.start=n,g.lookAhead=n+1,g.value=g.extended=-1):this.token=nullToken,this.pos!=n){if(this.pos=n,n==this.end)return this.setDone(),this;for(;n<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;n>=this.range.to;)this.range=this.ranges[++this.rangeIndex];n>=this.chunkPos&&n<this.chunkPos+this.chunk.length?this.chunkOff=n-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(n,g){if(n>=this.chunkPos&&g<=this.chunkPos+this.chunk.length)return this.chunk.slice(n-this.chunkPos,g-this.chunkPos);if(n>=this.chunk2Pos&&g<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(n-this.chunk2Pos,g-this.chunk2Pos);if(n>=this.range.from&&g<=this.range.to)return this.input.read(n,g);let y="";for(let $ of this.ranges){if($.from>=g)break;$.to>n&&(y+=this.input.read(Math.max($.from,n),Math.min($.to,g)))}return y}}class TokenGroup{constructor(n,g){this.data=n,this.id=g}token(n,g){let{parser:y}=g.p;readToken(this.data,n,g,this.id,y.data,y.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(n,g,y){this.precTable=g,this.elseToken=y,this.data=typeof n=="string"?decodeArray(n):n}token(n,g){let y=n.pos,$=0;for(;;){let L=n.next<0,re=n.resolveOffset(1,1);if(readToken(this.data,n,g,0,this.data,this.precTable),n.token.value>-1)break;if(this.elseToken==null)return;if(L||$++,re==null)break;n.reset(re,n.token)}$&&(n.reset(y,n.token),n.acceptToken(this.elseToken,$))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(n,g={}){this.token=n,this.contextual=!!g.contextual,this.fallback=!!g.fallback,this.extend=!!g.extend}}function readToken(r,n,g,y,$,L){let re=0,ae=1<<y,{dialect:le}=g.p.parser;e:for(;ae&r[re];){let ue=r[re+1];for(let $e=re+3;$e<ue;$e+=2)if((r[$e+1]&ae)>0){let Oe=r[$e];if(le.allows(Oe)&&(n.token.value==-1||n.token.value==Oe||overrides(Oe,n.token.value,$,L))){n.acceptToken(Oe);break}}let he=n.next,_e=0,Ce=r[re+2];if(n.next<0&&Ce>_e&&r[ue+Ce*3-3]==65535){re=r[ue+Ce*3-1];continue e}for(;_e<Ce;){let $e=_e+Ce>>1,Oe=ue+$e+($e<<1),xe=r[Oe],Ne=r[Oe+1]||65536;if(he<xe)Ce=$e;else if(he>=Ne)_e=$e+1;else{re=r[Oe+2],n.advance();continue e}}break}}function findOffset(r,n,g){for(let y=n,$;($=r[y])!=65535;y++)if($==g)return y-n;return-1}function overrides(r,n,g,y){let $=findOffset(g,y,n);return $<0||findOffset(g,y,r)<$}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(r,n,g){let y=r.cursor(IterMode$1.IncludeAnonymous);for(y.moveTo(n);;)if(!(g<0?y.childBefore(n):y.childAfter(n)))for(;;){if((g<0?y.to<n:y.from>n)&&!y.type.isError)return g<0?Math.max(0,Math.min(y.to-1,n-25)):Math.min(r.length,Math.max(y.from+1,n+25));if(g<0?y.prevSibling():y.nextSibling())break;if(!y.parent())return g<0?0:r.length}}class FragmentCursor{constructor(n,g){this.fragments=n,this.nodeSet=g,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let n=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(n){for(this.safeFrom=n.openStart?cutAt(n.tree,n.from+n.offset,1)-n.offset:n.from,this.safeTo=n.openEnd?cutAt(n.tree,n.to+n.offset,-1)-n.offset:n.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(n.tree),this.start.push(-n.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(n){if(n<this.nextStart)return null;for(;this.fragment&&this.safeTo<=n;)this.nextFragment();if(!this.fragment)return null;for(;;){let g=this.trees.length-1;if(g<0)return this.nextFragment(),null;let y=this.trees[g],$=this.index[g];if($==y.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let L=y.children[$],re=this.start[g]+y.positions[$];if(re>n)return this.nextStart=re,null;if(L instanceof Tree$1){if(re==n){if(re<this.safeFrom)return null;let ae=re+L.length;if(ae<=this.safeTo){let le=L.prop(NodeProp$1.lookAhead);if(!le||ae+le<this.fragment.to)return L}}this.index[g]++,re+L.length>=Math.max(this.safeFrom,n)&&(this.trees.push(L),this.start.push(re),this.index.push(0))}else this.index[g]++,this.nextStart=re+L.length}}}class TokenCache{constructor(n,g){this.stream=g,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=n.tokenizers.map(y=>new CachedToken)}getActions(n){let g=0,y=null,{parser:$}=n.p,{tokenizers:L}=$,re=$.stateSlot(n.state,3),ae=n.curContext?n.curContext.hash:0,le=0;for(let ue=0;ue<L.length;ue++){if(!(1<<ue&re))continue;let he=L[ue],_e=this.tokens[ue];if(!(y&&!he.fallback)&&((he.contextual||_e.start!=n.pos||_e.mask!=re||_e.context!=ae)&&(this.updateCachedToken(_e,he,n),_e.mask=re,_e.context=ae),_e.lookAhead>_e.end+25&&(le=Math.max(_e.lookAhead,le)),_e.value!=0)){let Ce=g;if(_e.extended>-1&&(g=this.addActions(n,_e.extended,_e.end,g)),g=this.addActions(n,_e.value,_e.end,g),!he.extend&&(y=_e,g>Ce))break}}for(;this.actions.length>g;)this.actions.pop();return le&&n.setLookAhead(le),!y&&n.pos==this.stream.end&&(y=new CachedToken,y.value=n.p.parser.eofTerm,y.start=y.end=n.pos,g=this.addActions(n,y.value,y.end,g)),this.mainToken=y,this.actions}getMainToken(n){if(this.mainToken)return this.mainToken;let g=new CachedToken,{pos:y,p:$}=n;return g.start=y,g.end=Math.min(y+1,$.stream.end),g.value=y==$.stream.end?$.parser.eofTerm:0,g}updateCachedToken(n,g,y){let $=this.stream.clipPos(y.pos);if(g.token(this.stream.reset($,n),y),n.value>-1){let{parser:L}=y.p;for(let re=0;re<L.specialized.length;re++)if(L.specialized[re]==n.value){let ae=L.specializers[re](this.stream.read(n.start,n.end),y);if(ae>=0&&y.p.parser.dialect.allows(ae>>1)){ae&1?n.extended=ae>>1:n.value=ae>>1;break}}}else n.value=0,n.end=this.stream.clipPos($+1)}putAction(n,g,y,$){for(let L=0;L<$;L+=3)if(this.actions[L]==n)return $;return this.actions[$++]=n,this.actions[$++]=g,this.actions[$++]=y,$}addActions(n,g,y,$){let{state:L}=n,{parser:re}=n.p,{data:ae}=re;for(let le=0;le<2;le++)for(let ue=re.stateSlot(L,le?2:1);;ue+=3){if(ae[ue]==65535)if(ae[ue+1]==1)ue=pair(ae,ue+2);else{$==0&&ae[ue+1]==2&&($=this.putAction(pair(ae,ue+2),g,y,$));break}ae[ue]==g&&($=this.putAction(pair(ae,ue+1),g,y,$))}return $}}class Parse{constructor(n,g,y,$){this.parser=n,this.input=g,this.ranges=$,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(g,$),this.tokens=new TokenCache(n,this.stream),this.topTerm=n.top[1];let{from:L}=$[0];this.stacks=[Stack.start(this,n.top[0],L)],this.fragments=y.length&&this.stream.end-L>n.bufferLength*4?new FragmentCursor(y,n.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let n=this.stacks,g=this.minStackPos,y=this.stacks=[],$,L;if(this.bigReductionCount>300&&n.length==1){let[re]=n;for(;re.forceReduce()&&re.stack.length&&re.stack[re.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let re=0;re<n.length;re++){let ae=n[re];for(;;){if(this.tokens.mainToken=null,ae.pos>g)y.push(ae);else{if(this.advanceStack(ae,y,n))continue;{$||($=[],L=[]),$.push(ae);let le=this.tokens.getMainToken(ae);L.push(le.value,le.end)}}break}}if(!y.length){let re=$&&findFinished($);if(re)return verbose&&console.log("Finish with "+this.stackID(re)),this.stackToTree(re);if(this.parser.strict)throw verbose&&$&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+g);this.recovering||(this.recovering=5)}if(this.recovering&&$){let re=this.stoppedAt!=null&&$[0].pos>this.stoppedAt?$[0]:this.runRecovery($,L,y);if(re)return verbose&&console.log("Force-finish "+this.stackID(re)),this.stackToTree(re.forceAll())}if(this.recovering){let re=this.recovering==1?1:this.recovering*3;if(y.length>re)for(y.sort((ae,le)=>le.score-ae.score);y.length>re;)y.pop();y.some(ae=>ae.reducePos>g)&&this.recovering--}else if(y.length>1){e:for(let re=0;re<y.length-1;re++){let ae=y[re];for(let le=re+1;le<y.length;le++){let ue=y[le];if(ae.sameState(ue)||ae.buffer.length>500&&ue.buffer.length>500)if((ae.score-ue.score||ae.buffer.length-ue.buffer.length)>0)y.splice(le--,1);else{y.splice(re--,1);continue e}}}y.length>12&&y.splice(12,y.length-12)}this.minStackPos=y[0].pos;for(let re=1;re<y.length;re++)y[re].pos<this.minStackPos&&(this.minStackPos=y[re].pos);return null}stopAt(n){if(this.stoppedAt!=null&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}advanceStack(n,g,y){let $=n.pos,{parser:L}=this,re=verbose?this.stackID(n)+" -> ":"";if(this.stoppedAt!=null&&$>this.stoppedAt)return n.forceReduce()?n:null;if(this.fragments){let ue=n.curContext&&n.curContext.tracker.strict,he=ue?n.curContext.hash:0;for(let _e=this.fragments.nodeAt($);_e;){let Ce=this.parser.nodeSet.types[_e.type.id]==_e.type?L.getGoto(n.state,_e.type.id):-1;if(Ce>-1&&_e.length&&(!ue||(_e.prop(NodeProp$1.contextHash)||0)==he))return n.useNode(_e,Ce),verbose&&console.log(re+this.stackID(n)+` (via reuse of ${L.getName(_e.type.id)})`),!0;if(!(_e instanceof Tree$1)||_e.children.length==0||_e.positions[0]>0)break;let $e=_e.children[0];if($e instanceof Tree$1&&_e.positions[0]==0)_e=$e;else break}}let ae=L.stateSlot(n.state,4);if(ae>0)return n.reduce(ae),verbose&&console.log(re+this.stackID(n)+` (via always-reduce ${L.getName(ae&65535)})`),!0;if(n.stack.length>=8400)for(;n.stack.length>6e3&&n.forceReduce(););let le=this.tokens.getActions(n);for(let ue=0;ue<le.length;){let he=le[ue++],_e=le[ue++],Ce=le[ue++],$e=ue==le.length||!y,Oe=$e?n:n.split(),xe=this.tokens.mainToken;if(Oe.apply(he,_e,xe?xe.start:Oe.pos,Ce),verbose&&console.log(re+this.stackID(Oe)+` (via ${he&65536?`reduce of ${L.getName(he&65535)}`:"shift"} for ${L.getName(_e)} @ ${$}${Oe==n?"":", split"})`),$e)return!0;Oe.pos>$?g.push(Oe):y.push(Oe)}return!1}advanceFully(n,g){let y=n.pos;for(;;){if(!this.advanceStack(n,null,null))return!1;if(n.pos>y)return pushStackDedup(n,g),!0}}runRecovery(n,g,y){let $=null,L=!1;for(let re=0;re<n.length;re++){let ae=n[re],le=g[re<<1],ue=g[(re<<1)+1],he=verbose?this.stackID(ae)+" -> ":"";if(ae.deadEnd&&(L||(L=!0,ae.restart(),verbose&&console.log(he+this.stackID(ae)+" (restarted)"),this.advanceFully(ae,y))))continue;let _e=ae.split(),Ce=he;for(let $e=0;_e.forceReduce()&&$e<10&&(verbose&&console.log(Ce+this.stackID(_e)+" (via force-reduce)"),!this.advanceFully(_e,y));$e++)verbose&&(Ce=this.stackID(_e)+" -> ");for(let $e of ae.recoverByInsert(le))verbose&&console.log(he+this.stackID($e)+" (via recover-insert)"),this.advanceFully($e,y);this.stream.end>ae.pos?(ue==ae.pos&&(ue++,le=0),ae.recoverByDelete(le,ue),verbose&&console.log(he+this.stackID(ae)+` (via recover-delete ${this.parser.getName(le)})`),pushStackDedup(ae,y)):(!$||$.score<ae.score)&&($=ae)}return $}stackToTree(n){return n.close(),Tree$1.build({buffer:StackBufferCursor.create(n),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:n.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(n){let g=(stackIDs||(stackIDs=new WeakMap)).get(n);return g||stackIDs.set(n,g=String.fromCodePoint(this.nextStackID++)),g+n}}function pushStackDedup(r,n){for(let g=0;g<n.length;g++){let y=n[g];if(y.pos==r.pos&&y.sameState(r)){n[g].score<r.score&&(n[g]=r);return}}n.push(r)}class Dialect{constructor(n,g,y){this.source=n,this.flags=g,this.disabled=y}allows(n){return!this.disabled||this.disabled[n]==0}}const id=r=>r;class ContextTracker{constructor(n){this.start=n.start,this.shift=n.shift||id,this.reduce=n.reduce||id,this.reuse=n.reuse||id,this.hash=n.hash||(()=>0),this.strict=n.strict!==!1}}class LRParser extends Parser$1{constructor(n){if(super(),this.wrappers=[],n.version!=14)throw new RangeError(`Parser version (${n.version}) doesn't match runtime version (14)`);let g=n.nodeNames.split(" ");this.minRepeatTerm=g.length;for(let ae=0;ae<n.repeatNodeCount;ae++)g.push("");let y=Object.keys(n.topRules).map(ae=>n.topRules[ae][1]),$=[];for(let ae=0;ae<g.length;ae++)$.push([]);function L(ae,le,ue){$[ae].push([le,le.deserialize(String(ue))])}if(n.nodeProps)for(let ae of n.nodeProps){let le=ae[0];typeof le=="string"&&(le=NodeProp$1[le]);for(let ue=1;ue<ae.length;){let he=ae[ue++];if(he>=0)L(he,le,ae[ue++]);else{let _e=ae[ue+-he];for(let Ce=-he;Ce>0;Ce--)L(ae[ue++],le,_e);ue++}}}this.nodeSet=new NodeSet(g.map((ae,le)=>NodeType$1.define({name:le>=this.minRepeatTerm?void 0:ae,id:le,props:$[le],top:y.indexOf(le)>-1,error:le==0,skipped:n.skippedNodes&&n.skippedNodes.indexOf(le)>-1}))),n.propSources&&(this.nodeSet=this.nodeSet.extend(...n.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength$1;let re=decodeArray(n.tokenData);this.context=n.context,this.specializerSpecs=n.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let ae=0;ae<this.specializerSpecs.length;ae++)this.specialized[ae]=this.specializerSpecs[ae].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(n.states,Uint32Array),this.data=decodeArray(n.stateData),this.goto=decodeArray(n.goto),this.maxTerm=n.maxTerm,this.tokenizers=n.tokenizers.map(ae=>typeof ae=="number"?new TokenGroup(re,ae):ae),this.topRules=n.topRules,this.dialects=n.dialects||{},this.dynamicPrecedences=n.dynamicPrecedences||null,this.tokenPrecTable=n.tokenPrec,this.termNames=n.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(n,g,y){let $=new Parse(this,n,g,y);for(let L of this.wrappers)$=L($,n,g,y);return $}getGoto(n,g,y=!1){let $=this.goto;if(g>=$[0])return-1;for(let L=$[g+1];;){let re=$[L++],ae=re&1,le=$[L++];if(ae&&y)return le;for(let ue=L+(re>>1);L<ue;L++)if($[L]==n)return le;if(ae)return-1}}hasAction(n,g){let y=this.data;for(let $=0;$<2;$++)for(let L=this.stateSlot(n,$?2:1),re;;L+=3){if((re=y[L])==65535)if(y[L+1]==1)re=y[L=pair(y,L+2)];else{if(y[L+1]==2)return pair(y,L+2);break}if(re==g||re==0)return pair(y,L+1)}return 0}stateSlot(n,g){return this.states[n*6+g]}stateFlag(n,g){return(this.stateSlot(n,0)&g)>0}validAction(n,g){return!!this.allActions(n,y=>y==g?!0:null)}allActions(n,g){let y=this.stateSlot(n,4),$=y?g(y):void 0;for(let L=this.stateSlot(n,1);$==null;L+=3){if(this.data[L]==65535)if(this.data[L+1]==1)L=pair(this.data,L+2);else break;$=g(pair(this.data,L+1))}return $}nextStates(n){let g=[];for(let y=this.stateSlot(n,1);;y+=3){if(this.data[y]==65535)if(this.data[y+1]==1)y=pair(this.data,y+2);else break;if(!(this.data[y+2]&1)){let $=this.data[y+1];g.some((L,re)=>re&1&&L==$)||g.push(this.data[y],$)}}return g}configure(n){let g=Object.assign(Object.create(LRParser.prototype),this);if(n.props&&(g.nodeSet=this.nodeSet.extend(...n.props)),n.top){let y=this.topRules[n.top];if(!y)throw new RangeError(`Invalid top rule name ${n.top}`);g.top=y}return n.tokenizers&&(g.tokenizers=this.tokenizers.map(y=>{let $=n.tokenizers.find(L=>L.from==y);return $?$.to:y})),n.specializers&&(g.specializers=this.specializers.slice(),g.specializerSpecs=this.specializerSpecs.map((y,$)=>{let L=n.specializers.find(ae=>ae.from==y.external);if(!L)return y;let re=Object.assign(Object.assign({},y),{external:L.to});return g.specializers[$]=getSpecializer(re),re})),n.contextTracker&&(g.context=n.contextTracker),n.dialect&&(g.dialect=this.parseDialect(n.dialect)),n.strict!=null&&(g.strict=n.strict),n.wrap&&(g.wrappers=g.wrappers.concat(n.wrap)),n.bufferLength!=null&&(g.bufferLength=n.bufferLength),g}hasWrappers(){return this.wrappers.length>0}getName(n){return this.termNames?this.termNames[n]:String(n<=this.maxNode&&this.nodeSet.types[n].name||n)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(n){let g=this.dynamicPrecedences;return g==null?0:g[n]||0}parseDialect(n){let g=Object.keys(this.dialects),y=g.map(()=>!1);if(n)for(let L of n.split(" ")){let re=g.indexOf(L);re>=0&&(y[re]=!0)}let $=null;for(let L=0;L<g.length;L++)if(!y[L])for(let re=this.dialects[g[L]],ae;(ae=this.data[re++])!=65535;)($||($=new Uint8Array(this.maxTerm+1)))[ae]=1;return new Dialect(n,y,$)}static deserialize(n){return new LRParser(n)}}function pair(r,n){return r[n]|r[n+1]<<16}function findFinished(r){let n=null;for(let g of r){let y=g.p.stoppedAt;(g.pos==g.p.stream.end||y!=null&&g.pos>y)&&g.p.parser.stateFlag(g.state,2)&&(!n||n.score<g.score)&&(n=g)}return n}function getSpecializer(r){if(r.external){let n=r.extend?1:0;return(g,y)=>r.external(g,y)<<1|n}return r.get}let nextTagID$1=0,Tag$1=class Ca{constructor(n,g,y,$){this.name=n,this.set=g,this.base=y,this.modified=$,this.id=nextTagID$1++}toString(){let{name:n}=this;for(let g of this.modified)g.name&&(n=`${g.name}(${n})`);return n}static define(n,g){let y=typeof n=="string"?n:"?";if(n instanceof Ca&&(g=n),g!=null&&g.base)throw new Error("Can not derive from a modified tag");let $=new Ca(y,[],null,[]);if($.set.push($),g)for(let L of g.set)$.set.push(L);return $}static defineModifier(n){let g=new Modifier$1(n);return y=>y.modified.indexOf(g)>-1?y:Modifier$1.get(y.base||y,y.modified.concat(g).sort(($,L)=>$.id-L.id))}},nextModifierID$1=0,Modifier$1=class za{constructor(n){this.name=n,this.instances=[],this.id=nextModifierID$1++}static get(n,g){if(!g.length)return n;let y=g[0].instances.find(ae=>ae.base==n&&sameArray$1(g,ae.modified));if(y)return y;let $=[],L=new Tag$1(n.name,$,n,g);for(let ae of g)ae.instances.push(L);let re=powerSet$1(g);for(let ae of n.set)if(!ae.modified.length)for(let le of re)$.push(za.get(ae,le));return L}};function sameArray$1(r,n){return r.length==n.length&&r.every((g,y)=>g==n[y])}function powerSet$1(r){let n=[[]];for(let g=0;g<r.length;g++)for(let y=0,$=n.length;y<$;y++)n.push(n[y].concat(r[g]));return n.sort((g,y)=>y.length-g.length)}function styleTags$1(r){let n=Object.create(null);for(let g in r){let y=r[g];Array.isArray(y)||(y=[y]);for(let $ of g.split(" "))if($){let L=[],re=2,ae=$;for(let _e=0;;){if(ae=="..."&&_e>0&&_e+3==$.length){re=1;break}let Ce=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(ae);if(!Ce)throw new RangeError("Invalid path: "+$);if(L.push(Ce[0]=="*"?"":Ce[0][0]=='"'?JSON.parse(Ce[0]):Ce[0]),_e+=Ce[0].length,_e==$.length)break;let $e=$[_e++];if(_e==$.length&&$e=="!"){re=0;break}if($e!="/")throw new RangeError("Invalid path: "+$);ae=$.slice(_e)}let le=L.length-1,ue=L[le];if(!ue)throw new RangeError("Invalid path: "+$);let he=new Rule$1(y,re,le>0?L.slice(0,le):null);n[ue]=he.sort(n[ue])}}return ruleNodeProp$1.add(n)}const ruleNodeProp$1=new NodeProp$1;let Rule$1=class{constructor(n,g,y,$){this.tags=n,this.mode=g,this.context=y,this.next=$}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}};Rule$1.empty=new Rule$1([],2,null);function tagHighlighter$1(r,n){let g=Object.create(null);for(let L of r)if(!Array.isArray(L.tag))g[L.tag.id]=L.class;else for(let re of L.tag)g[re.id]=L.class;let{scope:y,all:$=null}={};return{style:L=>{let re=$;for(let ae of L)for(let le of ae.set){let ue=g[le.id];if(ue){re=re?re+" "+ue:ue;break}}return re},scope:y}}const t$1=Tag$1.define,comment$1=t$1(),name$1=t$1(),typeName$1=t$1(name$1),propertyName$1=t$1(name$1),literal$1=t$1(),string$1=t$1(literal$1),number$1=t$1(literal$1),content$1=t$1(),heading$1=t$1(content$1),keyword$1=t$1(),operator$1=t$1(),punctuation$1=t$1(),bracket$1=t$1(punctuation$1),meta$1=t$1(),tags$1={comment:comment$1,lineComment:t$1(comment$1),blockComment:t$1(comment$1),docComment:t$1(comment$1),name:name$1,variableName:t$1(name$1),typeName:typeName$1,tagName:t$1(typeName$1),propertyName:propertyName$1,attributeName:t$1(propertyName$1),className:t$1(name$1),labelName:t$1(name$1),namespace:t$1(name$1),macroName:t$1(name$1),literal:literal$1,string:string$1,docString:t$1(string$1),character:t$1(string$1),attributeValue:t$1(string$1),number:number$1,integer:t$1(number$1),float:t$1(number$1),bool:t$1(literal$1),regexp:t$1(literal$1),escape:t$1(literal$1),color:t$1(literal$1),url:t$1(literal$1),keyword:keyword$1,self:t$1(keyword$1),null:t$1(keyword$1),atom:t$1(keyword$1),unit:t$1(keyword$1),modifier:t$1(keyword$1),operatorKeyword:t$1(keyword$1),controlKeyword:t$1(keyword$1),definitionKeyword:t$1(keyword$1),moduleKeyword:t$1(keyword$1),operator:operator$1,derefOperator:t$1(operator$1),arithmeticOperator:t$1(operator$1),logicOperator:t$1(operator$1),bitwiseOperator:t$1(operator$1),compareOperator:t$1(operator$1),updateOperator:t$1(operator$1),definitionOperator:t$1(operator$1),typeOperator:t$1(operator$1),controlOperator:t$1(operator$1),punctuation:punctuation$1,separator:t$1(punctuation$1),bracket:bracket$1,angleBracket:t$1(bracket$1),squareBracket:t$1(bracket$1),paren:t$1(bracket$1),brace:t$1(bracket$1),content:content$1,heading:heading$1,heading1:t$1(heading$1),heading2:t$1(heading$1),heading3:t$1(heading$1),heading4:t$1(heading$1),heading5:t$1(heading$1),heading6:t$1(heading$1),contentSeparator:t$1(content$1),list:t$1(content$1),quote:t$1(content$1),emphasis:t$1(content$1),strong:t$1(content$1),link:t$1(content$1),monospace:t$1(content$1),strikethrough:t$1(content$1),inserted:t$1(),deleted:t$1(),changed:t$1(),invalid:t$1(),meta:meta$1,documentMeta:t$1(meta$1),annotation:t$1(meta$1),processingInstruction:t$1(meta$1),definition:Tag$1.defineModifier("definition"),constant:Tag$1.defineModifier("constant"),function:Tag$1.defineModifier("function"),standard:Tag$1.defineModifier("standard"),local:Tag$1.defineModifier("local"),special:Tag$1.defineModifier("special")};for(let r in tags$1){let n=tags$1[r];n instanceof Tag$1&&(n.name=r)}tagHighlighter$1([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);const noSemi=315,noSemiType=316,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=317,spaces=319,newline=320,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(r,n){return n==LineComment||n==BlockComment||n==spaces?r:n==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((r,n)=>{let{next:g}=r;(g==braceR||g==-1||n.context)&&r.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((r,n)=>{let{next:g}=r,y;space.indexOf(g)>-1||g==slash&&((y=r.peek(1))==slash||y==star)||g!=braceR&&g!=semicolon&&g!=-1&&!n.context&&r.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((r,n)=>{r.next==bracketL&&!n.context&&r.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((r,n)=>{let{next:g}=r;if(g==plus||g==minus){if(r.advance(),g==r.next){r.advance();let y=!n.context&&n.canShift(incdec);r.acceptToken(y?incdec:incdecPrefix)}}else g==question&&r.peek(1)==dot&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(questionDot))},{contextual:!0});function identifierChar(r,n){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!n&&r>=48&&r<=57}const jsx=new ExternalTokenizer((r,n)=>{if(r.next!=lt||!n.dialectEnabled(Dialect_jsx)||(r.advance(),r.next==slash))return;let g=0;for(;space.indexOf(r.next)>-1;)r.advance(),g++;if(identifierChar(r.next,!0)){for(r.advance(),g++;identifierChar(r.next,!1);)r.advance(),g++;for(;space.indexOf(r.next)>-1;)r.advance(),g++;if(r.next==comma)return;for(let y=0;;y++){if(y==7){if(!identifierChar(r.next,!0))return;break}if(r.next!="extends".charCodeAt(y))break;r.advance(),g++}}r.acceptToken(JSXStartTag,-g)}),jsHighlight=styleTags$1({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case":tags$1.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags$1.operatorKeyword,"let var const using function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),"NewExpression/VariableName":tags$1.className,PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,"LineComment Hashbang":tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer asserts":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new LocalTokenGroup("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:r=>spec_identifier[r]||-1},{term:342,get:r=>spec_word[r]||-1},{term:95,get:r=>spec_LessThan[r]||-1}],tokenPrec:15124}),DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(n,g){this.from=n,this.to=g}}class NodeProp{constructor(n={}){this.id=nextPropID++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=NodeType.match(n)),g=>{let y=n(g);return y===void 0?null:[this,y]}}}NodeProp.closedBy=new NodeProp({deserialize:r=>r.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:r=>r.split(" ")});NodeProp.group=new NodeProp({deserialize:r=>r.split(" ")});NodeProp.isolate=new NodeProp({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(n,g,y){this.tree=n,this.overlay=g,this.parser=y}static get(n){return n&&n.props&&n.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(n,g,y,$=0){this.name=n,this.props=g,this.id=y,this.flags=$}static define(n){let g=n.props&&n.props.length?Object.create(null):noProps,y=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),$=new NodeType(n.name||"",g,n.id,y);if(n.props){for(let L of n.props)if(Array.isArray(L)||(L=L($)),L){if(L[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");g[L[0].id]=L[1]}}return $}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let g=this.prop(NodeProp.group);return g?g.indexOf(n)>-1:!1}return this.id==n}static match(n){let g=Object.create(null);for(let y in n)for(let $ of y.split(" "))g[$]=n[y];return y=>{for(let $=y.prop(NodeProp.group),L=-1;L<($?$.length:0);L++){let re=g[L<0?y.name:$[L]];if(re)return re}}}}NodeType.none=new NodeType("",Object.create(null),0,8);const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(n,g,y,$,L){if(this.type=n,this.children=g,this.positions=y,this.length=$,this.props=null,L&&L.length){this.props=Object.create(null);for(let[re,ae]of L)this.props[typeof re=="number"?re:re.id]=ae}}toString(){let n=MountedTree.get(this);if(n&&!n.overlay)return n.tree.toString();let g="";for(let y of this.children){let $=y.toString();$&&(g&&(g+=","),g+=$)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(g.length?"("+g+")":""):g}cursor(n=0){return new TreeCursor(this.topNode,n)}cursorAt(n,g=0,y=0){let $=CachedNode.get(this)||this.topNode,L=new TreeCursor($);return L.moveTo(n,g),CachedNode.set(this,L._tree),L}get topNode(){return new TreeNode(this,0,0,null)}resolve(n,g=0){let y=resolveNode(CachedNode.get(this)||this.topNode,n,g,!1);return CachedNode.set(this,y),y}resolveInner(n,g=0){let y=resolveNode(CachedInnerNode.get(this)||this.topNode,n,g,!0);return CachedInnerNode.set(this,y),y}resolveStack(n,g=0){return stackIterator(this,n,g)}iterate(n){let{enter:g,leave:y,from:$=0,to:L=this.length}=n,re=n.mode||0,ae=(re&IterMode.IncludeAnonymous)>0;for(let le=this.cursor(re|IterMode.IncludeAnonymous);;){let ue=!1;if(le.from<=L&&le.to>=$&&(!ae&&le.type.isAnonymous||g(le)!==!1)){if(le.firstChild())continue;ue=!0}for(;ue&&y&&(ae||!le.type.isAnonymous)&&y(le),!le.nextSibling();){if(!le.parent())return;ue=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let g in this.props)n.push([+g,this.props[g]]);return n}balance(n={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(g,y,$)=>new Tree(this.type,g,y,$,this.propValues),n.makeTree||((g,y,$)=>new Tree(NodeType.none,g,y,$)))}static build(n){return buildTree(n)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(n,g){this.buffer=n,this.index=g}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(n,g,y){this.buffer=n,this.length=g,this.set=y}get type(){return NodeType.none}toString(){let n=[];for(let g=0;g<this.buffer.length;)n.push(this.childString(g)),g=this.buffer[g+3];return n.join(",")}childString(n){let g=this.buffer[n],y=this.buffer[n+3],$=this.set.types[g],L=$.name;if(/\W/.test(L)&&!$.isError&&(L=JSON.stringify(L)),n+=4,y==n)return L;let re=[];for(;n<y;)re.push(this.childString(n)),n=this.buffer[n+3];return L+"("+re.join(",")+")"}findChild(n,g,y,$,L){let{buffer:re}=this,ae=-1;for(let le=n;le!=g&&!(checkSide(L,$,re[le+1],re[le+2])&&(ae=le,y>0));le=re[le+3]);return ae}slice(n,g,y){let $=this.buffer,L=new Uint16Array(g-n),re=0;for(let ae=n,le=0;ae<g;){L[le++]=$[ae++],L[le++]=$[ae++]-y;let ue=L[le++]=$[ae++]-y;L[le++]=$[ae++]-n,re=Math.max(re,ue)}return new TreeBuffer(L,re,this.set)}}function checkSide(r,n,g,y){switch(r){case-2:return g<n;case-1:return y>=n&&g<n;case 0:return g<n&&y>n;case 1:return g<=n&&y>n;case 2:return y>n;case 4:return!0}}function resolveNode(r,n,g,y){for(var $;r.from==r.to||(g<1?r.from>=n:r.from>n)||(g>-1?r.to<=n:r.to<n);){let re=!y&&r instanceof TreeNode&&r.index<0?null:r.parent;if(!re)return r;r=re}let L=y?0:IterMode.IgnoreOverlays;if(y)for(let re=r,ae=re.parent;ae;re=ae,ae=re.parent)re instanceof TreeNode&&re.index<0&&(($=ae.enter(n,g,L))===null||$===void 0?void 0:$.from)!=re.from&&(r=ae);for(;;){let re=r.enter(n,g,L);if(!re)return r;r=re}}class BaseNode{cursor(n=0){return new TreeCursor(this,n)}getChild(n,g=null,y=null){let $=getChildren$1(this,n,g,y);return $.length?$[0]:null}getChildren(n,g=null,y=null){return getChildren$1(this,n,g,y)}resolve(n,g=0){return resolveNode(this,n,g,!1)}resolveInner(n,g=0){return resolveNode(this,n,g,!0)}matchContext(n){return matchNodeContext(this.parent,n)}enterUnfinishedNodesBefore(n){let g=this.childBefore(n),y=this;for(;g;){let $=g.lastChild;if(!$||$.to!=g.to)break;$.type.isError&&$.from==$.to?(y=g,g=$.prevSibling):g=$}return y}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(n,g,y,$){super(),this._tree=n,this.from=g,this.index=y,this._parent=$}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,g,y,$,L=0){for(let re=this;;){for(let{children:ae,positions:le}=re._tree,ue=g>0?ae.length:-1;n!=ue;n+=g){let he=ae[n],_e=le[n]+re.from;if(checkSide($,y,_e,_e+he.length)){if(he instanceof TreeBuffer){if(L&IterMode.ExcludeBuffers)continue;let Ce=he.findChild(0,he.buffer.length,g,y-_e,$);if(Ce>-1)return new BufferNode(new BufferContext(re,he,n,_e),null,Ce)}else if(L&IterMode.IncludeAnonymous||!he.type.isAnonymous||hasChild(he)){let Ce;if(!(L&IterMode.IgnoreMounts)&&(Ce=MountedTree.get(he))&&!Ce.overlay)return new TreeNode(Ce.tree,_e,n,re);let $e=new TreeNode(he,_e,n,re);return L&IterMode.IncludeAnonymous||!$e.type.isAnonymous?$e:$e.nextChild(g<0?he.children.length-1:0,g,y,$)}}}if(L&IterMode.IncludeAnonymous||!re.type.isAnonymous||(re.index>=0?n=re.index+g:n=g<0?-1:re._parent._tree.children.length,re=re._parent,!re))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}enter(n,g,y=0){let $;if(!(y&IterMode.IgnoreOverlays)&&($=MountedTree.get(this._tree))&&$.overlay){let L=n-this.from;for(let{from:re,to:ae}of $.overlay)if((g>0?re<=L:re<L)&&(g<0?ae>=L:ae>L))return new TreeNode($.tree,$.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,g,y)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren$1(r,n,g,y){let $=r.cursor(),L=[];if(!$.firstChild())return L;if(g!=null){for(let re=!1;!re;)if(re=$.type.is(g),!$.nextSibling())return L}for(;;){if(y!=null&&$.type.is(y))return L;if($.type.is(n)&&L.push($.node),!$.nextSibling())return y==null?L:[]}}function matchNodeContext(r,n,g=n.length-1){for(let y=r;g>=0;y=y.parent){if(!y)return!1;if(!y.type.isAnonymous){if(n[g]&&n[g]!=y.name)return!1;g--}}return!0}class BufferContext{constructor(n,g,y,$){this.parent=n,this.buffer=g,this.index=y,this.start=$}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,g,y){super(),this.context=n,this._parent=g,this.index=y,this.type=n.buffer.set.types[n.buffer.buffer[y]]}child(n,g,y){let{buffer:$}=this.context,L=$.findChild(this.index+4,$.buffer[this.index+3],n,g-this.context.start,y);return L<0?null:new BufferNode(this.context,this,L)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}enter(n,g,y=0){if(y&IterMode.ExcludeBuffers)return null;let{buffer:$}=this.context,L=$.findChild(this.index+4,$.buffer[this.index+3],g>0?1:-1,n-this.context.start,g);return L<0?null:new BufferNode(this.context,this,L)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,g=n.buffer[this.index+3];return g<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new BufferNode(this.context,this._parent,g):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,g=this._parent?this._parent.index+4:0;return this.index==g?this.externalSibling(-1):new BufferNode(this.context,this._parent,n.findChild(g,this.index,-1,0,4))}get tree(){return null}toTree(){let n=[],g=[],{buffer:y}=this.context,$=this.index+4,L=y.buffer[this.index+3];if(L>$){let re=y.buffer[this.index+1];n.push(y.slice($,L,re)),g.push(0)}return new Tree(this.type,n,g,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(r){if(!r.length)return null;let n=0,g=r[0];for(let L=1;L<r.length;L++){let re=r[L];(re.from>g.from||re.to<g.to)&&(g=re,n=L)}let y=g instanceof TreeNode&&g.index<0?null:g.parent,$=r.slice();return y?$[n]=y:$.splice(n,1),new StackIterator($,g)}class StackIterator{constructor(n,g){this.heads=n,this.node=g}get next(){return iterStack(this.heads)}}function stackIterator(r,n,g){let y=r.resolveInner(n,g),$=null;for(let L=y instanceof TreeNode?y:y.context.parent;L;L=L.parent)if(L.index<0){let re=L.parent;($||($=[y])).push(re.resolve(n,g)),L=re}else{let re=MountedTree.get(L.tree);if(re&&re.overlay&&re.overlay[0].from<=n&&re.overlay[re.overlay.length-1].to>=n){let ae=new TreeNode(re.tree,re.overlay[0].from+L.from,-1,L);($||($=[y])).push(resolveNode(ae,n,g,!1))}}return $?iterStack($):y}class TreeCursor{get name(){return this.type.name}constructor(n,g=0){if(this.mode=g,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof TreeNode)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let y=n._parent;y;y=y._parent)this.stack.unshift(y.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,g){this.index=n;let{start:y,buffer:$}=this.buffer;return this.type=g||$.set.types[$.buffer[n]],this.from=y+$.buffer[n+1],this.to=y+$.buffer[n+2],!0}yield(n){return n?n instanceof TreeNode?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,g,y){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,g,y,this.mode));let{buffer:$}=this.buffer,L=$.findChild(this.index+4,$.buffer[this.index+3],n,g-this.buffer.start,y);return L<0?!1:(this.stack.push(this.index),this.yieldBuf(L))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,g,y=this.mode){return this.buffer?y&IterMode.ExcludeBuffers?!1:this.enterChild(1,n,g):this.yield(this._tree.enter(n,g,y))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:g}=this.buffer,y=this.stack.length-1;if(n<0){let $=y<0?0:this.stack[y]+4;if(this.index!=$)return this.yieldBuf(g.findChild($,this.index,-1,0,4))}else{let $=g.buffer[this.index+3];if($<(y<0?g.buffer.length:g.buffer[this.stack[y]+3]))return this.yieldBuf($)}return y<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let g,y,{buffer:$}=this;if($){if(n>0){if(this.index<$.buffer.buffer.length)return!1}else for(let L=0;L<this.index;L++)if($.buffer.buffer[L+3]<this.index)return!1;({index:g,parent:y}=$)}else({index:g,_parent:y}=this._tree);for(;y;{index:g,_parent:y}=y)if(g>-1)for(let L=g+n,re=n<0?-1:y._tree.children.length;L!=re;L+=n){let ae=y._tree.children[L];if(this.mode&IterMode.IncludeAnonymous||ae instanceof TreeBuffer||!ae.type.isAnonymous||hasChild(ae))return!1}return!0}move(n,g){if(g&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,g=0){for(;(this.from==this.to||(g<1?this.from>=n:this.from>n)||(g>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,g););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,g=null,y=0;if(n&&n.context==this.buffer)e:for(let $=this.index,L=this.stack.length;L>=0;){for(let re=n;re;re=re._parent)if(re.index==$){if($==this.index)return re;g=re,y=L+1;break e}$=this.stack[--L]}for(let $=y;$<this.stack.length;$++)g=new BufferNode(this.buffer,g,this.stack[$]);return this.bufferNode=new BufferNode(this.buffer,g,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,g){for(let y=0;;){let $=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){y++;continue}this.type.isAnonymous||($=!0)}for(;;){if($&&g&&g(this),$=this.type.isAnonymous,!y)return;if(this.nextSibling())break;this.parent(),y--,$=!0}}}matchContext(n){if(!this.buffer)return matchNodeContext(this.node.parent,n);let{buffer:g}=this.buffer,{types:y}=g.set;for(let $=n.length-1,L=this.stack.length-1;$>=0;L--){if(L<0)return matchNodeContext(this._tree,n,$);let re=y[g.buffer[this.stack[L]]];if(!re.isAnonymous){if(n[$]&&n[$]!=re.name)return!1;$--}}return!0}}function hasChild(r){return r.children.some(n=>n instanceof TreeBuffer||!n.type.isAnonymous||hasChild(n))}function buildTree(r){var n;let{buffer:g,nodeSet:y,maxBufferLength:$=DefaultBufferLength,reused:L=[],minRepeatType:re=y.types.length}=r,ae=Array.isArray(g)?new FlatBufferCursor(g,g.length):g,le=y.types,ue=0,he=0;function _e(Ue,qe,kt,Et,Pt,At){let{id:Dt,start:Lt,end:hn,size:_n}=ae,vn=he,jt=ue;for(;_n<0;)if(ae.next(),_n==-1){let On=L[Dt];kt.push(On),Et.push(Lt-Ue);return}else if(_n==-3){ue=Dt;return}else if(_n==-4){he=Dt;return}else throw new RangeError(`Unrecognized record size: ${_n}`);let $n=le[Dt],Sn,bn,wn=Lt-Ue;if(hn-Lt<=$&&(bn=Ne(ae.pos-qe,Pt))){let On=new Uint16Array(bn.size-bn.skip),Tn=ae.pos-bn.size,xn=On.length;for(;ae.pos>Tn;)xn=Ie(bn.start,On,xn);Sn=new TreeBuffer(On,hn-bn.start,y),wn=bn.start-Ue}else{let On=ae.pos-_n;ae.next();let Tn=[],xn=[],Pn=Dt>=re?Dt:-1,An=0,Rn=hn;for(;ae.pos>On;)Pn>=0&&ae.id==Pn&&ae.size>=0?(ae.end<=Rn-$&&(Oe(Tn,xn,Lt,An,ae.end,Rn,Pn,vn,jt),An=Tn.length,Rn=ae.end),ae.next()):At>2500?Ce(Lt,On,Tn,xn):_e(Lt,On,Tn,xn,Pn,At+1);if(Pn>=0&&An>0&&An<Tn.length&&Oe(Tn,xn,Lt,An,Lt,Rn,Pn,vn,jt),Tn.reverse(),xn.reverse(),Pn>-1&&An>0){let Nn=$e($n,jt);Sn=balanceRange($n,Tn,xn,0,Tn.length,0,hn-Lt,Nn,Nn)}else Sn=xe($n,Tn,xn,hn-Lt,vn-hn,jt)}kt.push(Sn),Et.push(wn)}function Ce(Ue,qe,kt,Et){let Pt=[],At=0,Dt=-1;for(;ae.pos>qe;){let{id:Lt,start:hn,end:_n,size:vn}=ae;if(vn>4)ae.next();else{if(Dt>-1&&hn<Dt)break;Dt<0&&(Dt=_n-$),Pt.push(Lt,hn,_n),At++,ae.next()}}if(At){let Lt=new Uint16Array(At*4),hn=Pt[Pt.length-2];for(let _n=Pt.length-3,vn=0;_n>=0;_n-=3)Lt[vn++]=Pt[_n],Lt[vn++]=Pt[_n+1]-hn,Lt[vn++]=Pt[_n+2]-hn,Lt[vn++]=vn;kt.push(new TreeBuffer(Lt,Pt[2]-hn,y)),Et.push(hn-Ue)}}function $e(Ue,qe){return(kt,Et,Pt)=>{let At=0,Dt=kt.length-1,Lt,hn;if(Dt>=0&&(Lt=kt[Dt])instanceof Tree){if(!Dt&&Lt.type==Ue&&Lt.length==Pt)return Lt;(hn=Lt.prop(NodeProp.lookAhead))&&(At=Et[Dt]+Lt.length+hn)}return xe(Ue,kt,Et,Pt,At,qe)}}function Oe(Ue,qe,kt,Et,Pt,At,Dt,Lt,hn){let _n=[],vn=[];for(;Ue.length>Et;)_n.push(Ue.pop()),vn.push(qe.pop()+kt-Pt);Ue.push(xe(y.types[Dt],_n,vn,At-Pt,Lt-At,hn)),qe.push(Pt-kt)}function xe(Ue,qe,kt,Et,Pt,At,Dt){if(At){let Lt=[NodeProp.contextHash,At];Dt=Dt?[Lt].concat(Dt):[Lt]}if(Pt>25){let Lt=[NodeProp.lookAhead,Pt];Dt=Dt?[Lt].concat(Dt):[Lt]}return new Tree(Ue,qe,kt,Et,Dt)}function Ne(Ue,qe){let kt=ae.fork(),Et=0,Pt=0,At=0,Dt=kt.end-$,Lt={size:0,start:0,skip:0};e:for(let hn=kt.pos-Ue;kt.pos>hn;){let _n=kt.size;if(kt.id==qe&&_n>=0){Lt.size=Et,Lt.start=Pt,Lt.skip=At,At+=4,Et+=4,kt.next();continue}let vn=kt.pos-_n;if(_n<0||vn<hn||kt.start<Dt)break;let jt=kt.id>=re?4:0,$n=kt.start;for(kt.next();kt.pos>vn;){if(kt.size<0)if(kt.size==-3)jt+=4;else break e;else kt.id>=re&&(jt+=4);kt.next()}Pt=$n,Et+=_n,At+=jt}return(qe<0||Et==Ue)&&(Lt.size=Et,Lt.start=Pt,Lt.skip=At),Lt.size>4?Lt:void 0}function Ie(Ue,qe,kt){let{id:Et,start:Pt,end:At,size:Dt}=ae;if(ae.next(),Dt>=0&&Et<re){let Lt=kt;if(Dt>4){let hn=ae.pos-(Dt-4);for(;ae.pos>hn;)kt=Ie(Ue,qe,kt)}qe[--kt]=Lt,qe[--kt]=At-Ue,qe[--kt]=Pt-Ue,qe[--kt]=Et}else Dt==-3?ue=Et:Dt==-4&&(he=Et);return kt}let Fe=[],Ve=[];for(;ae.pos>0;)_e(r.start||0,r.bufferStart||0,Fe,Ve,-1,0);let ze=(n=r.length)!==null&&n!==void 0?n:Fe.length?Ve[0]+Fe[0].length:0;return new Tree(le[r.topID],Fe.reverse(),Ve.reverse(),ze)}const nodeSizeCache=new WeakMap;function nodeSize(r,n){if(!r.isAnonymous||n instanceof TreeBuffer||n.type!=r)return 1;let g=nodeSizeCache.get(n);if(g==null){g=1;for(let y of n.children){if(y.type!=r||!(y instanceof Tree)){g=1;break}g+=nodeSize(r,y)}nodeSizeCache.set(n,g)}return g}function balanceRange(r,n,g,y,$,L,re,ae,le){let ue=0;for(let Oe=y;Oe<$;Oe++)ue+=nodeSize(r,n[Oe]);let he=Math.ceil(ue*1.5/8),_e=[],Ce=[];function $e(Oe,xe,Ne,Ie,Fe){for(let Ve=Ne;Ve<Ie;){let ze=Ve,Ue=xe[Ve],qe=nodeSize(r,Oe[Ve]);for(Ve++;Ve<Ie;Ve++){let kt=nodeSize(r,Oe[Ve]);if(qe+kt>=he)break;qe+=kt}if(Ve==ze+1){if(qe>he){let kt=Oe[ze];$e(kt.children,kt.positions,0,kt.children.length,xe[ze]+Fe);continue}_e.push(Oe[ze])}else{let kt=xe[Ve-1]+Oe[Ve-1].length-Ue;_e.push(balanceRange(r,Oe,xe,ze,Ve,Ue,kt,null,le))}Ce.push(Ue+Fe-L)}}return $e(n,g,y,$,0),(ae||le)(_e,Ce,re)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(n,g,y){let $=this.map.get(n);$||this.map.set(n,$=new Map),$.set(g,y)}getBuffer(n,g){let y=this.map.get(n);return y&&y.get(g)}set(n,g){n instanceof BufferNode?this.setBuffer(n.context.buffer,n.index,g):n instanceof TreeNode&&this.map.set(n.tree,g)}get(n){return n instanceof BufferNode?this.getBuffer(n.context.buffer,n.index):n instanceof TreeNode?this.map.get(n.tree):void 0}cursorSet(n,g){n.buffer?this.setBuffer(n.buffer.buffer,n.index,g):this.map.set(n.tree,g)}cursorGet(n){return n.buffer?this.getBuffer(n.buffer.buffer,n.index):this.map.get(n.tree)}}class TreeFragment{constructor(n,g,y,$,L=!1,re=!1){this.from=n,this.to=g,this.tree=y,this.offset=$,this.open=(L?1:0)|(re?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(n,g=[],y=!1){let $=[new TreeFragment(0,n.length,n,0,!1,y)];for(let L of g)L.to>n.length&&$.push(L);return $}static applyChanges(n,g,y=128){if(!g.length)return n;let $=[],L=1,re=n.length?n[0]:null;for(let ae=0,le=0,ue=0;;ae++){let he=ae<g.length?g[ae]:null,_e=he?he.fromA:1e9;if(_e-le>=y)for(;re&&re.from<_e;){let Ce=re;if(le>=Ce.from||_e<=Ce.to||ue){let $e=Math.max(Ce.from,le)-ue,Oe=Math.min(Ce.to,_e)-ue;Ce=$e>=Oe?null:new TreeFragment($e,Oe,Ce.tree,Ce.offset+ue,ae>0,!!he)}if(Ce&&$.push(Ce),re.to>_e)break;re=L<n.length?n[L++]:null}if(!he)break;le=he.toA,ue=he.toA-he.toB}return $}}class Parser{startParse(n,g,y){return typeof n=="string"&&(n=new StringInput(n)),y=y?y.length?y.map($=>new Range($.from,$.to)):[new Range(0,0)]:[new Range(0,n.length)],this.createParse(n,g||[],y)}parse(n,g,y){let $=this.startParse(n,g,y);for(;;){let L=$.advance();if(L)return L}}}class StringInput{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,g){return this.string.slice(n,g)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(n,g,y,$){this.name=n,this.set=g,this.base=y,this.modified=$,this.id=nextTagID++}toString(){let{name:n}=this;for(let g of this.modified)g.name&&(n=`${g.name}(${n})`);return n}static define(n,g){let y=typeof n=="string"?n:"?";if(n instanceof Tag&&(g=n),g!=null&&g.base)throw new Error("Can not derive from a modified tag");let $=new Tag(y,[],null,[]);if($.set.push($),g)for(let L of g.set)$.set.push(L);return $}static defineModifier(n){let g=new Modifier(n);return y=>y.modified.indexOf(g)>-1?y:Modifier.get(y.base||y,y.modified.concat(g).sort(($,L)=>$.id-L.id))}}let nextModifierID=0;class Modifier{constructor(n){this.name=n,this.instances=[],this.id=nextModifierID++}static get(n,g){if(!g.length)return n;let y=g[0].instances.find(ae=>ae.base==n&&sameArray(g,ae.modified));if(y)return y;let $=[],L=new Tag(n.name,$,n,g);for(let ae of g)ae.instances.push(L);let re=powerSet(g);for(let ae of n.set)if(!ae.modified.length)for(let le of re)$.push(Modifier.get(ae,le));return L}}function sameArray(r,n){return r.length==n.length&&r.every((g,y)=>g==n[y])}function powerSet(r){let n=[[]];for(let g=0;g<r.length;g++)for(let y=0,$=n.length;y<$;y++)n.push(n[y].concat(r[g]));return n.sort((g,y)=>y.length-g.length)}function styleTags(r){let n=Object.create(null);for(let g in r){let y=r[g];Array.isArray(y)||(y=[y]);for(let $ of g.split(" "))if($){let L=[],re=2,ae=$;for(let _e=0;;){if(ae=="..."&&_e>0&&_e+3==$.length){re=1;break}let Ce=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(ae);if(!Ce)throw new RangeError("Invalid path: "+$);if(L.push(Ce[0]=="*"?"":Ce[0][0]=='"'?JSON.parse(Ce[0]):Ce[0]),_e+=Ce[0].length,_e==$.length)break;let $e=$[_e++];if(_e==$.length&&$e=="!"){re=0;break}if($e!="/")throw new RangeError("Invalid path: "+$);ae=$.slice(_e)}let le=L.length-1,ue=L[le];if(!ue)throw new RangeError("Invalid path: "+$);let he=new Rule(y,re,le>0?L.slice(0,le):null);n[ue]=he.sort(n[ue])}}return ruleNodeProp.add(n)}const ruleNodeProp=new NodeProp;class Rule{constructor(n,g,y,$){this.tags=n,this.mode=g,this.context=y,this.next=$}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(r,n){let g=Object.create(null);for(let L of r)if(!Array.isArray(L.tag))g[L.tag.id]=L.class;else for(let re of L.tag)g[re.id]=L.class;let{scope:y,all:$=null}=n||{};return{style:L=>{let re=$;for(let ae of L)for(let le of ae.set){let ue=g[le.id];if(ue){re=re?re+" "+ue:ue;break}}return re},scope:y}}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let r in tags){let n=tags[r];n instanceof Tag&&(n.name=r)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(r){return Facet.define({combine:r?n=>n.concat(r):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(n,g,y=[],$=""){this.data=n,this.name=$,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=g,this.extension=[language.of(this),EditorState.languageData.of((L,re,ae)=>{let le=topNodeAt(L,re,ae),ue=le.type.prop(languageDataProp);if(!ue)return[];let he=L.facet(ue),_e=le.type.prop(sublanguageProp);if(_e){let Ce=le.resolve(re-le.from,ae);for(let $e of _e)if($e.test(Ce,L)){let Oe=L.facet($e.facet);return $e.type=="replace"?Oe:Oe.concat(he)}}return he})].concat(y)}isActiveAt(n,g,y=-1){return topNodeAt(n,g,y).type.prop(languageDataProp)==this.data}findRegions(n){let g=n.facet(language);if((g==null?void 0:g.data)==this.data)return[{from:0,to:n.doc.length}];if(!g||!g.allowsNesting)return[];let y=[],$=(L,re)=>{if(L.prop(languageDataProp)==this.data){y.push({from:re,to:re+L.length});return}let ae=L.prop(NodeProp.mounted);if(ae){if(ae.tree.prop(languageDataProp)==this.data){if(ae.overlay)for(let le of ae.overlay)y.push({from:le.from+re,to:le.to+re});else y.push({from:re,to:re+L.length});return}else if(ae.overlay){let le=y.length;if($(ae.tree,ae.overlay[0].from+re),y.length>le)return}}for(let le=0;le<L.children.length;le++){let ue=L.children[le];ue instanceof Tree&&$(ue,L.positions[le]+re)}};return $(syntaxTree(n),0),y}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(r,n,g){let y=r.facet(language),$=syntaxTree(r).topNode;if(!y||y.allowsNesting)for(let L=$;L;L=L.enter(n,g,IterMode.ExcludeBuffers))L.type.isTop&&($=L);return $}class LRLanguage extends Language{constructor(n,g,y){super(n,g,[],y),this.parser=g}static define(n){let g=defineLanguageFacet(n.languageData);return new LRLanguage(g,n.parser.configure({props:[languageDataProp.add(y=>y.isTop?g:void 0)]}),n.name)}configure(n,g){return new LRLanguage(this.data,this.parser.configure(n),g||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(r){let n=r.field(Language.state,!1);return n?n.tree:Tree.empty}class DocInput{constructor(n){this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}get length(){return this.doc.length}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,g){let y=this.cursorPos-this.string.length;return n<y||g>=this.cursorPos?this.doc.sliceString(n,g):this.string.slice(n-y,g-y)}}let currentContext=null;class ParseContext{constructor(n,g,y=[],$,L,re,ae,le){this.parser=n,this.state=g,this.fragments=y,this.tree=$,this.treeLen=L,this.viewport=re,this.skipped=ae,this.scheduleOn=le,this.parse=null,this.tempSkipped=[]}static create(n,g,y){return new ParseContext(n,g,[],Tree.empty,0,y,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(n,g){return g!=null&&g>=this.state.doc.length&&(g=void 0),this.tree!=Tree.empty&&this.isDone(g??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var y;if(typeof n=="number"){let $=Date.now()+n;n=()=>Date.now()>$}for(this.parse||(this.parse=this.startParse()),g!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>g)&&g<this.state.doc.length&&this.parse.stopAt(g);;){let $=this.parse.advance();if($)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree($,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(y=this.parse.stoppedAt)!==null&&y!==void 0?y:this.state.doc.length,this.tree=$,this.parse=null,this.treeLen<(g??this.state.doc.length))this.parse=this.startParse();else return!0;if(n())return!1}})}takeTree(){let n,g;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(g=this.parse.advance()););}),this.treeLen=n,this.tree=g,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let g=currentContext;currentContext=this;try{return n()}finally{currentContext=g}}withoutTempSkipped(n){for(let g;g=this.tempSkipped.pop();)n=cutFragments(n,g.from,g.to);return n}changes(n,g){let{fragments:y,tree:$,treeLen:L,viewport:re,skipped:ae}=this;if(this.takeTree(),!n.empty){let le=[];if(n.iterChangedRanges((ue,he,_e,Ce)=>le.push({fromA:ue,toA:he,fromB:_e,toB:Ce})),y=TreeFragment.applyChanges(y,le),$=Tree.empty,L=0,re={from:n.mapPos(re.from,-1),to:n.mapPos(re.to,1)},this.skipped.length){ae=[];for(let ue of this.skipped){let he=n.mapPos(ue.from,1),_e=n.mapPos(ue.to,-1);he<_e&&ae.push({from:he,to:_e})}}}return new ParseContext(this.parser,g,y,$,L,re,ae,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let g=this.skipped.length;for(let y=0;y<this.skipped.length;y++){let{from:$,to:L}=this.skipped[y];$<n.to&&L>n.from&&(this.fragments=cutFragments(this.fragments,$,L),this.skipped.splice(y--,1))}return this.skipped.length>=g?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,g){this.skipped.push({from:n,to:g})}static getSkippingParser(n){return new class extends Parser{createParse(g,y,$){let L=$[0].from,re=$[$.length-1].to;return{parsedPos:L,advance(){let le=currentContext;if(le){for(let ue of $)le.tempSkipped.push(ue);n&&(le.scheduleOn=le.scheduleOn?Promise.all([le.scheduleOn,n]):n)}return this.parsedPos=re,new Tree(NodeType.none,[],[],re-L)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let g=this.fragments;return this.treeLen>=n&&g.length&&g[0].from==0&&g[0].to>=n}static get(){return currentContext}}function cutFragments(r,n,g){return TreeFragment.applyChanges(r,[{fromA:n,toA:g,fromB:n,toB:g}])}class LanguageState{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let g=this.context.changes(n.changes,n.state),y=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),g.viewport.to);return g.work(20,y)||g.takeTree(),new LanguageState(g)}static init(n){let g=Math.min(3e3,n.doc.length),y=ParseContext.create(n.facet(language).parser,n,{from:0,to:g});return y.work(20,g)||y.takeTree(),new LanguageState(y)}}Language.state=StateField.define({create:LanguageState.init,update(r,n){for(let g of n.effects)if(g.is(Language.setState))return g.value;return n.startState.facet(language)!=n.state.facet(language)?LanguageState.init(n.state):r.apply(n)}});let requestIdle=r=>{let n=setTimeout(()=>r(),500);return()=>clearTimeout(n)};typeof requestIdleCallback<"u"&&(requestIdle=r=>{let n=-1,g=setTimeout(()=>{n=requestIdleCallback(r,{timeout:400})},100);return()=>n<0?clearTimeout(g):cancelIdleCallback(n)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(n){this.view=n,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(n){let g=this.view.state.field(Language.state).context;(g.updateViewport(n.view.viewport)||this.view.viewport.to>g.treeLen)&&this.scheduleWork(),(n.docChanged||n.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(g)}scheduleWork(){if(this.working)return;let{state:n}=this.view,g=n.field(Language.state);(g.tree!=g.context.tree||!g.context.isDone(n.doc.length))&&(this.working=requestIdle(this.work))}work(n){this.working=null;let g=Date.now();if(this.chunkEnd<g&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=g+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:y,viewport:{to:$}}=this.view,L=y.field(Language.state);if(L.tree==L.context.tree&&L.context.isDone($+1e5))return;let re=Date.now()+Math.min(this.chunkBudget,100,n&&!isInputPending?Math.max(25,n.timeRemaining()-5):1e9),ae=L.context.treeLen<$&&y.doc.length>$+1e3,le=L.context.work(()=>isInputPending&&isInputPending()||Date.now()>re,$+(ae?0:1e5));this.chunkBudget-=Date.now()-g,(le||this.chunkBudget<=0)&&(L.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(L.context))})),this.chunkBudget>0&&!(le&&!ae)&&this.scheduleWork(),this.checkAsyncSchedule(L.context)}checkAsyncSchedule(n){n.scheduleOn&&(this.workScheduled++,n.scheduleOn.then(()=>this.scheduleWork()).catch(g=>logException(this.view.state,g)).then(()=>this.workScheduled--),n.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(r){return r.length?r[0]:null},enables:r=>[Language.state,parseWorker,EditorView.contentAttributes.compute([r],n=>{let g=n.facet(r);return g&&g.name?{"data-language":g.name}:{}})]});class LanguageSupport{constructor(n,g=[]){this.language=n,this.support=g,this.extension=[n,g]}}const indentUnit=Facet.define({combine:r=>{if(!r.length)return"  ";let n=r[0];if(!n||/\S/.test(n)||Array.from(n).some(g=>g!=n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return n}}),indentNodeProp=new NodeProp;function bracketedAligned(r){let n=r.node,g=n.childAfter(n.from),y=n.lastChild;if(!g)return null;let $=r.options.simulateBreak,L=r.state.doc.lineAt(g.from),re=$==null||$<=L.from?L.to:Math.min(L.to,$);for(let ae=g.to;;){let le=n.childAfter(ae);if(!le||le==y)return null;if(!le.type.isSkipped){if(le.from>=re)return null;let ue=/^ */.exec(L.text.slice(g.to-L.from))[0].length;return{from:g.from,to:g.to+ue}}ae=le.to}}function delimitedIndent({closing:r,align:n=!0,units:g=1}){return y=>delimitedStrategy(y,n,g,r)}function delimitedStrategy(r,n,g,y,$){let L=r.textAfter,re=L.match(/^\s*/)[0].length,ae=y&&L.slice(re,re+y.length)==y||$==r.pos+re,le=n?bracketedAligned(r):null;return le?ae?r.column(le.from):r.column(le.to):r.baseIndent+(ae?0:r.unit*g)}const flatIndent=r=>r.baseIndent;function continuedIndent({except:r,units:n=1}={}){return g=>{let y=r&&r.test(g.textAfter);return g.baseIndent+(y?0:n*g.unit)}}const foldNodeProp=new NodeProp;function foldInside(r){let n=r.firstChild,g=r.lastChild;return n&&n.to<g.from?{from:n.to,to:g.type.isError?r.to:g.from}:null}class HighlightStyle{constructor(n,g){this.specs=n;let y;function $(ae){let le=StyleModule.newName();return(y||(y=Object.create(null)))["."+le]=ae,le}const L=typeof g.all=="string"?g.all:g.all?$(g.all):void 0,re=g.scope;this.scope=re instanceof Language?ae=>ae.prop(languageDataProp)==re.data:re?ae=>ae==re:void 0,this.style=tagHighlighter(n.map(ae=>({tag:ae.tag,class:ae.class||$(Object.assign({},ae,{tag:null}))})),{all:L}).style,this.module=y?new StyleModule(y):null,this.themeType=g.themeType}static define(n,g){return new HighlightStyle(n,g||{})}}tags.meta,tags.link,tags.heading,tags.emphasis,tags.strong,tags.strikethrough,tags.keyword,tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName,tags.literal,tags.inserted,tags.string,tags.deleted,tags.regexp,tags.escape,tags.string,tags.variableName,tags.variableName,tags.typeName,tags.namespace,tags.className,tags.variableName,tags.macroName,tags.propertyName,tags.comment,tags.invalid;const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[r,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[r]=createTokenType(noTokens,n);function warnForPart(r,n){warned.indexOf(r)>-1||(warned.push(r),console.warn(n))}function createTokenType(r,n){let g=[];for(let ae of n.split(" ")){let le=[];for(let ue of ae.split(".")){let he=r[ue]||tags[ue];he?typeof he=="function"?le.length?le=le.map(he):warnForPart(ue,`Modifier ${ue} used at start of tag`):le.length?warnForPart(ue,`Tag ${ue} used as modifier`):le=Array.isArray(he)?he:[he]:warnForPart(ue,`Unknown highlighting tag ${ue}`)}for(let ue of le)g.push(ue)}if(!g.length)return 0;let y=n.replace(/ /g,"_"),$=y+" "+g.map(ae=>ae.id),L=byTag[$];if(L)return L.id;let re=byTag[$]=NodeType.define({id:typeArray.length,name:y,props:[styleTags({[y]:g})]});return typeArray.push(re),re.id}Direction.RTL,Direction.LTR;function toSet(r){let n=Object.keys(r).join(""),g=/\w/.test(n);return g&&(n=n.replace(/\w/g,"")),`[${g?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(r){let n=Object.create(null),g=Object.create(null);for(let{label:$}of r){n[$[0]]=!0;for(let L=1;L<$.length;L++)g[$[L]]=!0}let y=toSet(n)+toSet(g)+"*$";return[new RegExp("^"+y),new RegExp(y)]}function completeFromList(r){let n=r.map($=>typeof $=="string"?{label:$}:$),[g,y]=n.every($=>/^\w+$/.test($.label))?[/\w*$/,/\w+$/]:prefixMatch(n);return $=>{let L=$.matchBefore(y);return L||$.explicit?{from:L?L.from:$.pos,options:n,validFor:g}:null}}function ifNotIn(r,n){return g=>{for(let y=syntaxTree(g.state).resolveInner(g.pos,-1);y;y=y.parent){if(r.indexOf(y.name)>-1)return null;if(y.type.isTop)break}return n(g)}}const pickedCompletion=Annotation.define(),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(n,g,y,$){this.field=n,this.line=g,this.from=y,this.to=$}}class FieldRange{constructor(n,g,y){this.field=n,this.from=g,this.to=y}map(n){let g=n.mapPos(this.from,-1,MapMode.TrackDel),y=n.mapPos(this.to,1,MapMode.TrackDel);return g==null||y==null?null:new FieldRange(this.field,g,y)}}class Snippet{constructor(n,g){this.lines=n,this.fieldPositions=g}instantiate(n,g){let y=[],$=[g],L=n.doc.lineAt(g),re=/^\s*/.exec(L.text)[0];for(let le of this.lines){if(y.length){let ue=re,he=/^\t*/.exec(le)[0].length;for(let _e=0;_e<he;_e++)ue+=n.facet(indentUnit);$.push(g+ue.length-he),le=ue+le.slice(he)}y.push(le),g+=le.length+1}let ae=this.fieldPositions.map(le=>new FieldRange(le.field,$[le.line]+le.from,$[le.line]+le.to));return{text:y,ranges:ae}}static parse(n){let g=[],y=[],$=[],L;for(let re of n.split(/\r\n?|\n/)){for(;L=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(re);){let ae=L[1]?+L[1]:null,le=L[2]||L[3]||"",ue=-1,he=le.replace(/\\[{}]/g,_e=>_e[1]);for(let _e=0;_e<g.length;_e++)(ae!=null?g[_e].seq==ae:he&&g[_e].name==he)&&(ue=_e);if(ue<0){let _e=0;for(;_e<g.length&&(ae==null||g[_e].seq!=null&&g[_e].seq<ae);)_e++;g.splice(_e,0,{seq:ae,name:he}),ue=_e;for(let Ce of $)Ce.field>=ue&&Ce.field++}$.push(new FieldPos(ue,y.length,L.index,L.index+he.length)),re=re.slice(0,L.index)+le+re.slice(L.index+L[0].length)}re=re.replace(/\\([{}])/g,(ae,le,ue)=>{for(let he of $)he.line==y.length&&he.from>ue&&(he.from--,he.to--);return le}),y.push(re)}return new Snippet(y,$)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(n,g){this.ranges=n,this.active=g,this.deco=Decoration.set(n.map(y=>(y.from==y.to?fieldMarker:fieldRange).range(y.from,y.to)))}map(n){let g=[];for(let y of this.ranges){let $=y.map(n);if(!$)return null;g.push($)}return new ActiveSnippet(g,this.active)}selectionInsideField(n){return n.ranges.every(g=>this.ranges.some(y=>y.field==this.active&&y.from<=g.from&&y.to>=g.to))}}const setActive=StateEffect.define({map(r,n){return r&&r.map(n)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(r,n){for(let g of n.effects){if(g.is(setActive))return g.value;if(g.is(moveToField)&&r)return new ActiveSnippet(r.ranges,g.value)}return r&&n.docChanged&&(r=r.map(n.changes)),r&&n.selection&&!r.selectionInsideField(n.selection)&&(r=null),r},provide:r=>EditorView.decorations.from(r,n=>n?n.deco:Decoration.none)});function fieldSelection(r,n){return EditorSelection.create(r.filter(g=>g.field==n).map(g=>EditorSelection.range(g.from,g.to)))}function snippet(r){let n=Snippet.parse(r);return(g,y,$,L)=>{let{text:re,ranges:ae}=n.instantiate(g.state,$),{main:le}=g.state.selection,ue={changes:{from:$,to:L==le.from?le.to:L,insert:Text.of(re)},scrollIntoView:!0,annotations:y?[pickedCompletion.of(y),Transaction.userEvent.of("input.complete")]:void 0};if(ae.length&&(ue.selection=fieldSelection(ae,0)),ae.some(he=>he.field>0)){let he=new ActiveSnippet(ae,0),_e=ue.effects=[setActive.of(he)];g.state.field(snippetState,!1)===void 0&&_e.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}g.dispatch(g.state.update(ue))}}function moveField(r){return({state:n,dispatch:g})=>{let y=n.field(snippetState,!1);if(!y||r<0&&y.active==0)return!1;let $=y.active+r,L=r>0&&!y.ranges.some(re=>re.field==$+r);return g(n.update({selection:fieldSelection(y.ranges,$),effects:setActive.of(L?null:new ActiveSnippet(y.ranges,$)),scrollIntoView:!0})),!0}}const clearSnippet=({state:r,dispatch:n})=>r.field(snippetState,!1)?(n(r.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(r){return r.length?r[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],r=>r.facet(snippetKeymap)));function snippetCompletion(r,n){return Object.assign(Object.assign({},n),{apply:snippet(r)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(r,n){let g=n.state.field(snippetState,!1),y;if(!g||(y=n.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let $=g.ranges.find(L=>L.from<=y&&L.to>=y);return!$||$.field==g.active?!1:(n.dispatch({selection:fieldSelection(g.ranges,$.field),effects:setActive.of(g.ranges.some(L=>L.field>$.field)?new ActiveSnippet(g.ranges,$.field):null),scrollIntoView:!0}),!0)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(r){return(n,g)=>{let y=n.node.getChild("VariableDefinition");return y&&g(y,r),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(r,n){r.matchContext(functionContext)||n(r,"variable")},TypeDefinition(r,n){n(r,"type")},__proto__:null};function getScope(r,n){let g=cache.get(n);if(g)return g;let y=[],$=!0;function L(re,ae){let le=r.sliceString(re.from,re.to);y.push({label:le,type:ae})}return n.cursor(IterMode.IncludeAnonymous).iterate(re=>{if($)$=!1;else if(re.name){let ae=gatherCompletions[re.name];if(ae&&ae(re,L)||ScopeNodes.has(re.name))return!1}else if(re.to-re.from>8192){for(let ae of getScope(r,re.node))y.push(ae);return!1}}),cache.set(n,y),y}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(r){let n=syntaxTree(r.state).resolveInner(r.pos,-1);if(dontComplete.indexOf(n.name)>-1)return null;let g=n.name=="VariableName"||n.to-n.from<20&&Identifier.test(r.state.sliceDoc(n.from,n.to));if(!g&&!r.explicit)return null;let y=[];for(let $=n;$;$=$.parent)ScopeNodes.has($.name)&&(y=y.concat(getScope(r.state.doc,$)));return{options:y,from:g?n.from:r.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:r=>{let n=r.textAfter,g=/^\s*\}/.test(n),y=/^\s*(case|default)\b/.test(n);return r.baseIndent+(g?0:y?1:2)*r.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(r){let n=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(n?0:r.unit)},JSXEscape(r){let n=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(n?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:r=>/^JSX/.test(r.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(r=>r.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(r=>r.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=r=>({label:r,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(r={}){let n=r.jsx?r.typescript?tsxLanguage:jsxLanguage:r.typescript?typescriptLanguage:javascriptLanguage,g=r.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(n,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(g))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),r.jsx?autoCloseTags:[]])}function findOpenTag(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function elementName(r,n,g=r.length){for(let y=n==null?void 0:n.firstChild;y;y=y.nextSibling)if(y.name=="JSXIdentifier"||y.name=="JSXBuiltin"||y.name=="JSXNamespacedName"||y.name=="JSXMemberExpression")return r.sliceString(y.from,Math.min(y.to,g));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((r,n,g,y,$)=>{if((android?r.composing:r.compositionStarted)||r.state.readOnly||n!=g||y!=">"&&y!="/"||!javascriptLanguage.isActiveAt(r.state,n,-1))return!1;let L=$(),{state:re}=L,ae=re.changeByRange(le=>{var ue;let{head:he}=le,_e=syntaxTree(re).resolveInner(he-1,-1),Ce;if(_e.name=="JSXStartTag"&&(_e=_e.parent),!(re.doc.sliceString(he-1,he)!=y||_e.name=="JSXAttributeValue"&&_e.to>he)){if(y==">"&&_e.name=="JSXFragmentTag")return{range:le,changes:{from:he,insert:"</>"}};if(y=="/"&&_e.name=="JSXStartCloseTag"){let $e=_e.parent,Oe=$e.parent;if(Oe&&$e.from==he-2&&((Ce=elementName(re.doc,Oe.firstChild,he))||((ue=Oe.firstChild)===null||ue===void 0?void 0:ue.name)=="JSXFragmentTag")){let xe=`${Ce}>`;return{range:EditorSelection.cursor(he+xe.length,-1),changes:{from:he,insert:xe}}}}else if(y==">"){let $e=findOpenTag(_e);if($e&&$e.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(re.doc.sliceString(he,he+2))&&(Ce=elementName(re.doc,$e,he)))return{range:le,changes:{from:he,insert:`</${Ce}>`}}}}return{range:le}});return ae.changes.empty?!1:(r.dispatch([L,re.update(ae,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),baseTheme=EditorView.theme({}),placeholders=()=>{class r extends WidgetType{constructor(y){super(),this.text=y}eq(y){return this.text==y.text}toDOM(){let y=document.createElement("span");if(!this.text)return y;const[...$]=this.text.split(".");console.log($);let L=null;return $.length===2?L=`<div class="editable-tag-box">
                        <div class="tag-name">
                          ${$[0]}
                        </div>
                        <div class="arrow1"></div>
                        <div class="arrow2"></div>
                        <div class="field-name">
                         ${$[1]}
                        </div>
                      </div>`:L=$[0],y.innerHTML=L,y}ignoreEvent(){return!0}}const n=new MatchDecorator({regexp:/\[\[(.+?)\]\]/g,decoration:g=>Decoration.replace({widget:new r(g[1])})});return ViewPlugin.fromClass(class{constructor(g){this.placeholders=n.createDeco(g)}update(g){this.placeholders=n.updateDeco(g,this.placeholders)}},{decorations:g=>g.placeholders,provide:g=>EditorView.atomicRanges.of(y=>{var $;return(($=y.plugin(g))==null?void 0:$.placeholders)||Decoration.none})})},_sfc_main$2=Object.assign({name:"AjmerCode"},{__name:"index",props:{modelValue:{type:String,default:()=>""}},emits:["update:modelValue"],setup(r,{expose:n,emit:g}){const y=r,$=g,L=ref$1(null);let re=ref$1(null);const ae=()=>re.value.state.doc.toString()||"",le=()=>{let _e={name:"",id:"error"};re.value&&re.value.dispatch({changes:{from:re.value.state.selection.main.head,to:re.value.state.selection.main.head,insert:`[[${_e.name}.${_e.id}]]`},selection:{anchor:re.value.state.selection.main.head+_e.name.length+5+_e.id.length}})};function ue(_e=!1,Ce=""){re.value.dispatch({changes:{from:_e?re.value.state.selection.main.head:0,to:re.value.state.doc.length,insert:Ce}})}function he(_e=""){re.value.scrollDOM.scrollTop;const Ce=re.value.scrollDOM.scrollLeft;console.log(re.value),re.value.dispatch({changes:{from:0,to:re.value.state.doc.length,insert:_e},selection:{anchor:re.value.state.selection.main.head,head:re.value.state.selection.main.head}}),re.value.scrollDOM.scrollTop=90,re.value.scrollDOM.scrollLeft=Ce}return watch$1(()=>y.modelValue,()=>{he(y.modelValue)},{deep:!0}),onMounted(()=>{L.value&&(re.value=new EditorView({state:EditorState.create({doc:y.modelValue,extensions:[basicSetup,javascript(),baseTheme,placeholders(),EditorView.updateListener.of(_e=>{_e.docChanged&&$("update:modelValue",_e.state.doc.toString())})]}),parent:L.value}))}),n({clearEditorContent:ue,updatePrice:he,addText:le,getValue:ae}),(_e,Ce)=>(openBlock(),createElementBlock("div",{ref_key:"codeMirror",ref:L,class:"ReCode"},null,512))}}),AjmerCode=_export_sfc$1(_sfc_main$2,[["__scopeId","data-v-bc3a904f"]]);AjmerCode.install=r=>{r.component(AjmerCode.name,AjmerCode)};const _sfc_main$1=Object.assign({name:"AjmerImageVerify"},{__name:"index",props:{code:{type:String,default:"abcd"}},emits:["update:code"],setup(r,{expose:n,emit:g}){const y=r,$=g,L=ref$1(),re=ref$1("");function ae(Ce){re.value=Ce}function le(Ce,$e){return Math.floor(Math.random()*($e-Ce)+Ce)}function ue(Ce,$e){const Oe=le(Ce,$e),xe=le(Ce,$e),Ne=le(Ce,$e);return`rgb(${Oe},${xe},${Ne})`}function he(Ce,$e,Oe){let xe="";const Ne="0123456789",Ie=Ce.getContext("2d");if(!Ie)return xe;Ie.fillStyle=ue(180,230),Ie.fillRect(0,0,$e,Oe);for(let Fe=0;Fe<4;Fe+=1){const Ve=Ne[le(0,Ne.length)];xe+=Ve;const ze=le(18,41),Ue=le(-30,30);Ie.font=`${ze}px Simhei`,Ie.textBaseline="top",Ie.fillStyle=ue(80,150),Ie.save(),Ie.translate(30*Fe+15,15),Ie.rotate(Ue*Math.PI/180),Ie.fillText(Ve,-10,-15),Ie.restore()}for(let Fe=0;Fe<5;Fe+=1)Ie.beginPath(),Ie.moveTo(le(0,$e),le(0,Oe)),Ie.lineTo(le(0,$e),le(0,Oe)),Ie.strokeStyle=ue(180,230),Ie.closePath(),Ie.stroke();for(let Fe=0;Fe<41;Fe+=1)Ie.beginPath(),Ie.arc(le(0,$e),le(0,Oe),1,0,2*Math.PI),Ie.closePath(),Ie.fillStyle=ue(150,200),Ie.fill();return xe}function _e(){L.value&&(re.value=he(L.value,120,40))}return onMounted(()=>{_e()}),watch$1(()=>y.code,Ce=>{ae(Ce)}),watch$1(re,Ce=>{$("update:code",Ce)}),n({getImgCode:_e}),(Ce,$e)=>(openBlock(),createElementBlock("canvas",{ref_key:"domRef",ref:L,width:"120",height:"40",class:"cursor-pointer",onClick:_e},null,512))}});_sfc_main$1.install=r=>{r.component(_sfc_main$1.name,_sfc_main$1)};const isArray=r=>Array.isArray(r),asArray=r=>isArray(r)?r:[r];let Queue=function(r){let n=function(Oe){return asArray(Oe).forEach(xe=>{var Ne;return $e.set(Symbol((Ne=xe.char)==null?void 0:Ne.innerText),$({...xe}))}),this},g=()=>le().filter(Oe=>Oe.typeable),y=function(Oe,xe){let Ne=[...$e.keys()];$e.set(Ne[Oe],$(xe))},$=Oe=>(Oe.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},Oe),L=function(){$e.forEach(Oe=>delete Oe.done)},re=function(){$e=new Map,n(r)},ae=()=>$e,le=()=>Array.from($e.values()),ue=Oe=>$e.delete(Oe),he=()=>{const Oe=[];for(let[,xe]of ae())xe.done||Oe.push(xe);return Oe},_e=(Oe=!1)=>Oe?le():le().filter(xe=>!xe.done),Ce=(Oe,xe=!1)=>xe?$e.delete(Oe):$e.get(Oe).done=!0,$e=new Map;return n(r),{add:n,set:y,wipe:re,done:Ce,reset:L,destroy:ue,getItems:_e,getQueue:ae,getTypeable:g,getPendingQueueItems:he}};const DATA_ATTRIBUTE="data-typeit-id",CURSOR_CLASS="ti-cursor",END="END",DEFAULT_STATUSES={started:!1,completed:!1,frozen:!1,destroyed:!1},DEFAULT_OPTIONS$1={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(r=>({opacity:r})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},PLACEHOLDER_CSS=`[${DATA_ATTRIBUTE}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,createElement=r=>document.createElement(r),createTextNode=r=>document.createTextNode(r),appendStyleBlock=(r,n="")=>{let g=createElement("style");g.id=n,g.appendChild(createTextNode(r)),document.head.appendChild(g)},calculateDelay=r=>(isArray(r)||(r=[r/2,r/2]),r),randomInRange=(r,n)=>Math.abs(Math.random()*(r+n-(r-n))+(r-n));let range=r=>r/2;function calculatePace(r){let{speed:n,deleteSpeed:g,lifeLike:y}=r;return g=g!==null?g:n/3,y?[randomInRange(n,range(n)),randomInRange(g,range(g))]:[n,g]}const toArray=r=>Array.from(r);let expandTextNodes=r=>([...r.childNodes].forEach(n=>{if(n.nodeValue){[...n.nodeValue].forEach(g=>{n.parentNode.insertBefore(createTextNode(g),n)}),n.remove();return}expandTextNodes(n)}),r);const getParsedBody=r=>{let n=document.implementation.createHTMLDocument();return n.body.innerHTML=r,expandTextNodes(n.body)};function walkElementNodes(r,n=!1,g=!1){let y=r.querySelector(`.${CURSOR_CLASS}`),$=document.createTreeWalker(r,NodeFilter.SHOW_ALL,{acceptNode:ae=>{var le,ue;if(y&&g){if((le=ae.classList)!=null&&le.contains(CURSOR_CLASS))return NodeFilter.FILTER_ACCEPT;if(y.contains(ae))return NodeFilter.FILTER_REJECT}return(ue=ae.classList)!=null&&ue.contains(CURSOR_CLASS)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),L,re=[];for(;L=$.nextNode();)L.originalParent||(L.originalParent=L.parentNode),re.push(L);return n?re.reverse():re}function chunkStringAsHtml(r){return walkElementNodes(getParsedBody(r))}function maybeChunkStringAsHtml(r,n=!0){return n?chunkStringAsHtml(r):toArray(r).map(createTextNode)}const cleanUpSkipped=({index:r,newIndex:n,queueItems:g,cleanUp:y})=>{for(let $=r+1;$<n+1;$++)y(g[$][0])},isNumber=r=>Number.isInteger(r),countStepsToSelector=({queueItems:r,selector:n,cursorPosition:g,to:y})=>{if(isNumber(n))return n*-1;let $=new RegExp(END,"i").test(y),L=n?[...r].reverse().findIndex(({char:ae})=>{let le=ae.parentElement,ue=le.matches(n);return $&&ue?!0:ue&&le.firstChild.isSameNode(ae)}):-1;L<0&&(L=$?0:r.length-1);let re=$?0:1;return L-g+re},destroyTimeouts=r=>(r.forEach(clearTimeout),[]),duplicate=(r,n)=>new Array(n).fill(r);let beforePaint=r=>new Promise(n=>{requestAnimationFrame(async()=>{n(await r())})}),getAnimationFromElement=r=>r==null?void 0:r.getAnimations().find(n=>n.id===r.dataset.tiAnimationId),setCursorAnimation=({cursor:r,frames:n,options:g})=>{let y=r.animate(n,g);return y.pause(),y.id=r.dataset.tiAnimationId,beforePaint(()=>{beforePaint(()=>{y.play()})}),y},rebuildCursorAnimation=({cursor:r,options:n,cursorOptions:g})=>{if(!r||!g)return;let y=getAnimationFromElement(r),$;y&&(n.delay=y.effect.getComputedTiming().delay,$=y.currentTime,y.cancel());let L=setCursorAnimation({cursor:r,frames:g.animation.frames,options:n});return $&&(L.currentTime=$),L},execute=r=>{var n;return(n=r.func)==null?void 0:n.call(null)},fireItem=async({index:r,queueItems:n,wait:g,cursor:y,cursorOptions:$})=>{let L=n[r][1],re=[],ae=r,le=L,ue=()=>le&&!le.delay,he=L.shouldPauseCursor()&&$.autoPause;for(;ue();)re.push(le),ue()&&ae++,le=n[ae]?n[ae][1]:null;if(re.length)return await beforePaint(async()=>{for(let $e of re)await execute($e)}),ae-1;let _e=getAnimationFromElement(y),Ce;return _e&&(Ce={..._e.effect.getComputedTiming(),delay:he?$.autoPauseDelay:0}),await g(async()=>{_e&&he&&_e.cancel(),await beforePaint(()=>{execute(L)})},L.delay),await rebuildCursorAnimation({cursor:y,options:Ce,cursorOptions:$}),r};const fireWhenVisible=(r,n)=>{new IntersectionObserver((y,$)=>{y.forEach(L=>{L.isIntersecting&&(n(),$.unobserve(r))})},{threshold:1}).observe(r)},generateHash=()=>Math.random().toString().substring(2,9),isInput=r=>"value"in r;let getAllChars=r=>isInput(r)?toArray(r.value):walkElementNodes(r,!0).filter(n=>!(n.childNodes.length>0)),handleFunctionalArg=r=>typeof r=="function"?r():r,select=(r,n=document,g=!1)=>n[`querySelector${g?"All":""}`](r),isBodyElement=r=>/body/i.test(r==null?void 0:r.tagName),insertIntoElement=(r,n)=>{if(isInput(r)){r.value=`${r.value}${n.textContent}`;return}n.innerHTML="";let g=isBodyElement(n.originalParent)?r:n.originalParent||r,y=select("."+CURSOR_CLASS,g)||null;y&&y.parentElement!==g&&(g=y.parentElement),g.insertBefore(n,y)};const isNonVoidElement=r=>/<(.+)>(.*?)<\/(.+)>/.test(r.outerHTML),merge=(r,n)=>Object.assign({},r,n);let processCursorOptions=r=>{var n,g;if(typeof r=="object"){let y={},{frames:$,options:L}=DEFAULT_OPTIONS$1.cursor.animation;return y.animation=r.animation||{},y.animation.frames=((n=r.animation)==null?void 0:n.frames)||$,y.animation.options=merge(L,((g=r.animation)==null?void 0:g.options)||{}),y.autoPause=r.autoPause??DEFAULT_OPTIONS$1.cursor.autoPause,y.autoPauseDelay=r.autoPauseDelay||DEFAULT_OPTIONS$1.cursor.autoPauseDelay,y}return r===!0?DEFAULT_OPTIONS$1.cursor:r};const removeNode=(r,n)=>{if(!r)return;let g=r.parentNode;(g.childNodes.length>1||g.isSameNode(n)?r:g).remove()},repositionCursor=(r,n,g)=>{let y=n[g-1],$=select(`.${CURSOR_CLASS}`,r);r=(y==null?void 0:y.parentNode)||r,r.insertBefore($,y||null)};function selectorToElement(r){return typeof r=="string"?select(r):r}let cursorFontStyles={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},setCursorStyles=(r,n)=>{let y=`${`[${DATA_ATTRIBUTE}='${r}']`} .${CURSOR_CLASS}`,$=getComputedStyle(n),L=Object.entries(cursorFontStyles).reduce((re,[ae,le])=>`${re} ${ae}: var(--ti-cursor-${ae}, ${le||$[ae]});`,"");appendStyleBlock(`${y} { display: inline-block; width: 0; ${L} }`,r)};function splitOnBreak(r){return r.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let updateCursorPosition=(r,n,g)=>Math.min(Math.max(n+r,0),g.length),wait=(r,n,g)=>new Promise(y=>{let $=async()=>{await r(),y()};g.push(setTimeout($,n||0))});var er,Ha,Wr,$a,Ga,wa,Oa,xa,na,Ir,Qa,jr,Yr,Ua,ia,Wa,ja,Ta,ra,Zr,aa,zr,qr,Kr,ka,Dr;class TypeIt{constructor(n,g={}){ha(this,er);Pr(this,"element");Pr(this,"timeouts");Pr(this,"cursorPosition");Pr(this,"predictedCursorPosition");Pr(this,"statuses",{started:!1,completed:!1,frozen:!1,destroyed:!1,firing:!1});Pr(this,"opts");Pr(this,"id");Pr(this,"queue");Pr(this,"cursor");Pr(this,"flushCallback",null);Pr(this,"unfreeze",()=>{});Pr(this,"is",function(n){return this.statuses[n]});ha(this,ia,n=>{this.opts.cursor=processCursorOptions(n.cursor??DEFAULT_OPTIONS$1.cursor),this.opts.strings=ur(this,er,Wa).call(this,asArray(this.opts.strings)),this.opts=merge(this.opts,{html:!xr(this,er,Kr)&&this.opts.html,nextStringDelay:calculateDelay(this.opts.nextStringDelay),loopDelay:calculateDelay(this.opts.loopDelay)})});this.opts=merge(DEFAULT_OPTIONS$1,g),this.element=selectorToElement(n),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=merge({},DEFAULT_STATUSES),this.id=generateHash(),this.queue=Queue([{delay:this.opts.startDelay}]),xr(this,ia).call(this,g),this.cursor=ur(this,er,ja).call(this),this.element.dataset.typeitId=this.id,appendStyleBlock(PLACEHOLDER_CSS),this.opts.strings.length&&ur(this,er,Ua).call(this)}go(){return this.statuses.started?this:(ur(this,er,xa).call(this),this.opts.waitUntilVisible?(fireWhenVisible(this.element,ur(this,er,Wr).bind(this)),this):(ur(this,er,Wr).call(this),this))}destroy(n=!0){this.timeouts=destroyTimeouts(this.timeouts),handleFunctionalArg(n)&&this.cursor&&ur(this,er,aa).call(this,this.cursor),this.statuses.destroyed=!0}reset(n){!this.is("destroyed")&&this.destroy(),n?(this.queue.wipe(),n(this)):this.queue.reset(),this.cursorPosition=0;for(let g in this.statuses)this.statuses[g]=!1;return this.element[ur(this,er,na).call(this)?"value":"innerHTML"]="",this}type(n,g={}){n=handleFunctionalArg(n);let{instant:y}=g,$=ur(this,er,jr).call(this,g),re=maybeChunkStringAsHtml(n,this.opts.html).map(le=>({func:()=>ur(this,er,ra).call(this,le),char:le,delay:y||isNonVoidElement(le)?0:ur(this,er,zr).call(this),typeable:le.nodeType===Node.TEXT_NODE})),ae=[$[0],{func:async()=>await this.opts.beforeString(n,this)},...re,{func:async()=>await this.opts.afterString(n,this)},$[1]];return ur(this,er,Ir).call(this,ae,g)}break(n={}){return ur(this,er,Ir).call(this,{func:()=>ur(this,er,ra).call(this,createElement("BR")),typeable:!0},n)}move(n,g={}){n=handleFunctionalArg(n);let y=ur(this,er,jr).call(this,g),{instant:$,to:L}=g,re=countStepsToSelector({queueItems:this.queue.getTypeable(),selector:n===null?"":n,to:L,cursorPosition:xr(this,er,qr)}),ae=re<0?-1:1;return this.predictedCursorPosition=xr(this,er,qr)+re,ur(this,er,Ir).call(this,[y[0],...duplicate({func:()=>ur(this,er,$a).call(this,ae),delay:$?0:ur(this,er,zr).call(this),cursorable:!0},Math.abs(re)),y[1]],g)}exec(n,g={}){let y=ur(this,er,jr).call(this,g);return ur(this,er,Ir).call(this,[y[0],{func:()=>n(this)},y[1]],g)}options(n,g={}){return n=handleFunctionalArg(n),ur(this,er,Yr).call(this,n),ur(this,er,Ir).call(this,{},g)}pause(n,g={}){return ur(this,er,Ir).call(this,{delay:handleFunctionalArg(n)},g)}delete(n=null,g={}){n=handleFunctionalArg(n);let y=ur(this,er,jr).call(this,g),$=n,{instant:L,to:re}=g,ae=this.queue.getTypeable(),le=$===null?ae.length:isNumber($)?$:countStepsToSelector({queueItems:ae,selector:$,cursorPosition:xr(this,er,qr),to:re});return ur(this,er,Ir).call(this,[y[0],...duplicate({func:ur(this,er,Zr).bind(this),delay:L?0:ur(this,er,zr).call(this,1),deletable:!0},le),y[1]],g)}freeze(){this.statuses.frozen=!0}flush(n=null){return this.flushCallback=n||this.flushCallback,this.statuses.firing?this:(ur(this,er,xa).call(this),ur(this,er,Wr).call(this,!1).then(()=>{if(this.queue.getPendingQueueItems().length>0)return this.flush();this.flushCallback(),this.flushCallback=null}),this)}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(n){return ur(this,er,Yr).call(this,n)}getElement(){return this.element}empty(n={}){return ur(this,er,Ir).call(this,{func:ur(this,er,Ha).bind(this)},n)}}er=new WeakSet,Ha=async function(){if(ur(this,er,na).call(this)){this.element.value="";return}xr(this,er,Dr).forEach(ur(this,er,aa).bind(this))},Wr=async function(n=!0){this.statuses.started=!0,this.statuses.firing=!0;let g=y=>{this.queue.done(y,!n)};try{let y=[...this.queue.getQueue()];for(let L=0;L<y.length;L++){let[re,ae]=y[L];if(!ae.done){if(!ae.deletable||ae.deletable&&xr(this,er,Dr).length){let le=await ur(this,er,wa).call(this,L,y);cleanUpSkipped({index:L,newIndex:le,queueItems:y,cleanUp:g}),L=le}g(re)}}if(!n)return this.statuses.firing=!1,this;if(this.statuses.completed=!0,this.statuses.firing=!1,await this.opts.afterComplete(this),!this.opts.loop)throw"";let $=this.opts.loopDelay;ur(this,er,Oa).call(this,async()=>{await ur(this,er,Ga).call(this,$[0]),ur(this,er,Wr).call(this)},$[1])}catch{}return this.statuses.firing=!1,this},$a=async function(n){this.cursorPosition=updateCursorPosition(n,this.cursorPosition,xr(this,er,Dr)),repositionCursor(this.element,xr(this,er,Dr),this.cursorPosition)},Ga=async function(n){let g=xr(this,er,qr);g&&await ur(this,er,$a).call(this,{value:g});let y=xr(this,er,Dr).map($=>[Symbol(),{func:ur(this,er,Zr).bind(this),delay:ur(this,er,zr).call(this,1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let $=0;$<y.length;$++)await ur(this,er,wa).call(this,$,y);this.queue.reset(),this.queue.set(0,{delay:n})},wa=function(n,g){return fireItem({index:n,queueItems:g,wait:ur(this,er,Oa).bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})},Oa=async function(n,g,y=!1){this.statuses.frozen&&await new Promise($=>{this.unfreeze=()=>{this.statuses.frozen=!1,$()}}),y||await this.opts.beforeStep(this),await wait(n,g,this.timeouts),y||await this.opts.afterStep(this)},xa=async function(){if(!ur(this,er,na).call(this)&&this.cursor&&this.element.appendChild(this.cursor),xr(this,er,ka)){setCursorStyles(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:n}=this.opts.cursor,{frames:g,options:y}=n;setCursorAnimation({frames:g,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...y}})}},na=function(){return isInput(this.element)},Ir=function(n,g){return this.queue.add(n),ur(this,er,Qa).call(this,g),this},Qa=function(n={}){let g=n.delay;g&&this.queue.add({delay:g})},jr=function(n={}){return[{func:()=>ur(this,er,Yr).call(this,n)},{func:()=>ur(this,er,Yr).call(this,this.opts)}]},Yr=async function(n){this.opts=merge(this.opts,n)},Ua=function(){let n=this.opts.strings.filter(g=>!!g);n.forEach((g,y)=>{if(this.type(g),y+1===n.length)return;let $=this.opts.breakLines?[{func:()=>ur(this,er,ra).call(this,createElement("BR")),typeable:!0}]:duplicate({func:ur(this,er,Zr).bind(this),delay:ur(this,er,zr).call(this,1)},this.queue.getTypeable().length);ur(this,er,Ta).call(this,$)})},ia=new WeakMap,Wa=function(n){let g=this.element.innerHTML;return g?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=g,expandTextNodes(this.element),ur(this,er,Ta).call(this,duplicate({func:ur(this,er,Zr).bind(this),delay:ur(this,er,zr).call(this,1),deletable:!0},xr(this,er,Dr).length)),n):splitOnBreak(g).concat(n)):n},ja=function(){if(xr(this,er,Kr))return null;let n=createElement("span");return n.className=CURSOR_CLASS,xr(this,er,ka)?(n.innerHTML=getParsedBody(this.opts.cursorChar).innerHTML,n):(n.style.visibility="hidden",n)},Ta=function(n){let g=this.opts.nextStringDelay;this.queue.add([{delay:g[0]},...n,{delay:g[1]}])},ra=function(n){insertIntoElement(this.element,n)},Zr=function(){xr(this,er,Dr).length&&(xr(this,er,Kr)?this.element.value=this.element.value.slice(0,-1):ur(this,er,aa).call(this,xr(this,er,Dr)[this.cursorPosition]))},aa=function(n){removeNode(n,this.element)},zr=function(n=0){return calculatePace(this.opts)[n]},qr=function(){return this.predictedCursorPosition??this.cursorPosition},Kr=function(){return isInput(this.element)},ka=function(){return!!this.opts.cursor&&!xr(this,er,Kr)},Dr=function(){return getAllChars(this.element)};const AjmerTypeit=defineComponent({name:"AjmerTypeit",props:{options:{type:Object,default:()=>({})}},setup(r,{slots:n,expose:g}){function y(re){throw new TypeError(re)}function $(){return navigator.language}const L=ref$1(null);return onMounted(()=>{const re=L.value.querySelector(".type-it");if(!re){const le=$()==="zh-CN"?"class 'type-it' ":"Please make sure that there is only one element with a Class attribute with 'type-it'";y(le)}const ae=new TypeIt(re,r.options).go();g({typeIt:ae})}),()=>h$1("div",{ref:L},n.default?n.default():h$1("span",{class:"type-it"}))}});AjmerTypeit.install=r=>{r.component(AjmerTypeit.name,AjmerTypeit)};/*!
  * vue-tippy v6.7.0
  * (c) 2025 
  * @license MIT
  */var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(r,n){return r.concat([n+"-"+start,n+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(r,n){return r.concat([n,n+"-"+start,n+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(r){return r?(r.nodeName||"").toLowerCase():null}function getWindow(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function isElement(r){var n=getWindow(r).Element;return r instanceof n||r instanceof Element}function isHTMLElement(r){var n=getWindow(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function isShadowRoot(r){if(typeof ShadowRoot>"u")return!1;var n=getWindow(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function applyStyles(r){var n=r.state;Object.keys(n.elements).forEach(function(g){var y=n.styles[g]||{},$=n.attributes[g]||{},L=n.elements[g];!isHTMLElement(L)||!getNodeName(L)||(Object.assign(L.style,y),Object.keys($).forEach(function(re){var ae=$[re];ae===!1?L.removeAttribute(re):L.setAttribute(re,ae===!0?"":ae)}))})}function effect(r){var n=r.state,g={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,g.popper),n.styles=g,n.elements.arrow&&Object.assign(n.elements.arrow.style,g.arrow),function(){Object.keys(n.elements).forEach(function(y){var $=n.elements[y],L=n.attributes[y]||{},re=Object.keys(n.styles.hasOwnProperty(y)?n.styles[y]:g[y]),ae=re.reduce(function(le,ue){return le[ue]="",le},{});!isHTMLElement($)||!getNodeName($)||(Object.assign($.style,ae),Object.keys(L).forEach(function(le){$.removeAttribute(le)}))})}}var applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect,requires:["computeStyles"]};function getBasePlacement(r){return r.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getBoundingClientRect(r,n){n===void 0&&(n=!1);var g=r.getBoundingClientRect(),y=1,$=1;if(isHTMLElement(r)&&n){var L=r.offsetHeight,re=r.offsetWidth;re>0&&(y=round(g.width)/re||1),L>0&&($=round(g.height)/L||1)}return{width:g.width/y,height:g.height/$,top:g.top/$,right:g.right/y,bottom:g.bottom/$,left:g.left/y,x:g.left/y,y:g.top/$}}function getLayoutRect(r){var n=getBoundingClientRect(r),g=r.offsetWidth,y=r.offsetHeight;return Math.abs(n.width-g)<=1&&(g=n.width),Math.abs(n.height-y)<=1&&(y=n.height),{x:r.offsetLeft,y:r.offsetTop,width:g,height:y}}function contains(r,n){var g=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(g&&isShadowRoot(g)){var y=n;do{if(y&&r.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function getComputedStyle$1(r){return getWindow(r).getComputedStyle(r)}function isTableElement(r){return["table","td","th"].indexOf(getNodeName(r))>=0}function getDocumentElement(r){return((isElement(r)?r.ownerDocument:r.document)||window.document).documentElement}function getParentNode(r){return getNodeName(r)==="html"?r:r.assignedSlot||r.parentNode||(isShadowRoot(r)?r.host:null)||getDocumentElement(r)}function getTrueOffsetParent(r){return!isHTMLElement(r)||getComputedStyle$1(r).position==="fixed"?null:r.offsetParent}function getContainingBlock(r){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,g=navigator.userAgent.indexOf("Trident")!==-1;if(g&&isHTMLElement(r)){var y=getComputedStyle$1(r);if(y.position==="fixed")return null}for(var $=getParentNode(r);isHTMLElement($)&&["html","body"].indexOf(getNodeName($))<0;){var L=getComputedStyle$1($);if(L.transform!=="none"||L.perspective!=="none"||L.contain==="paint"||["transform","perspective"].indexOf(L.willChange)!==-1||n&&L.willChange==="filter"||n&&L.filter&&L.filter!=="none")return $;$=$.parentNode}return null}function getOffsetParent(r){for(var n=getWindow(r),g=getTrueOffsetParent(r);g&&isTableElement(g)&&getComputedStyle$1(g).position==="static";)g=getTrueOffsetParent(g);return g&&(getNodeName(g)==="html"||getNodeName(g)==="body"&&getComputedStyle$1(g).position==="static")?n:g||getContainingBlock(r)||n}function getMainAxisFromPlacement(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function within(r,n,g){return max(r,min(n,g))}function withinMaxClamp(r,n,g){var y=within(r,n,g);return y>g?g:y}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(r){return Object.assign({},getFreshSideObject(),r)}function expandToHashMap(r,n){return n.reduce(function(g,y){return g[y]=r,g},{})}var toPaddingObject=function r(n,g){return n=typeof n=="function"?n(Object.assign({},g.rects,{placement:g.placement})):n,mergePaddingObject(typeof n!="number"?n:expandToHashMap(n,basePlacements))};function arrow(r){var n,g=r.state,y=r.name,$=r.options,L=g.elements.arrow,re=g.modifiersData.popperOffsets,ae=getBasePlacement(g.placement),le=getMainAxisFromPlacement(ae),ue=[left,right].indexOf(ae)>=0,he=ue?"height":"width";if(!(!L||!re)){var _e=toPaddingObject($.padding,g),Ce=getLayoutRect(L),$e=le==="y"?top:left,Oe=le==="y"?bottom:right,xe=g.rects.reference[he]+g.rects.reference[le]-re[le]-g.rects.popper[he],Ne=re[le]-g.rects.reference[le],Ie=getOffsetParent(L),Fe=Ie?le==="y"?Ie.clientHeight||0:Ie.clientWidth||0:0,Ve=xe/2-Ne/2,ze=_e[$e],Ue=Fe-Ce[he]-_e[Oe],qe=Fe/2-Ce[he]/2+Ve,kt=within(ze,qe,Ue),Et=le;g.modifiersData[y]=(n={},n[Et]=kt,n.centerOffset=kt-qe,n)}}function effect$1(r){var n=r.state,g=r.options,y=g.element,$=y===void 0?"[data-popper-arrow]":y;$!=null&&(typeof $=="string"&&($=n.elements.popper.querySelector($),!$)||contains(n.elements.popper,$)&&(n.elements.arrow=$))}var arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(r){return r.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(r){var n=r.x,g=r.y,y=window,$=y.devicePixelRatio||1;return{x:round(n*$)/$||0,y:round(g*$)/$||0}}function mapToStyles(r){var n,g=r.popper,y=r.popperRect,$=r.placement,L=r.variation,re=r.offsets,ae=r.position,le=r.gpuAcceleration,ue=r.adaptive,he=r.roundOffsets,_e=r.isFixed,Ce=he===!0?roundOffsetsByDPR(re):typeof he=="function"?he(re):re,$e=Ce.x,Oe=$e===void 0?0:$e,xe=Ce.y,Ne=xe===void 0?0:xe,Ie=re.hasOwnProperty("x"),Fe=re.hasOwnProperty("y"),Ve=left,ze=top,Ue=window;if(ue){var qe=getOffsetParent(g),kt="clientHeight",Et="clientWidth";if(qe===getWindow(g)&&(qe=getDocumentElement(g),getComputedStyle$1(qe).position!=="static"&&ae==="absolute"&&(kt="scrollHeight",Et="scrollWidth")),qe=qe,$===top||($===left||$===right)&&L===end){ze=bottom;var Pt=_e&&Ue.visualViewport?Ue.visualViewport.height:qe[kt];Ne-=Pt-y.height,Ne*=le?1:-1}if($===left||($===top||$===bottom)&&L===end){Ve=right;var At=_e&&Ue.visualViewport?Ue.visualViewport.width:qe[Et];Oe-=At-y.width,Oe*=le?1:-1}}var Dt=Object.assign({position:ae},ue&&unsetSides);if(le){var Lt;return Object.assign({},Dt,(Lt={},Lt[ze]=Fe?"0":"",Lt[Ve]=Ie?"0":"",Lt.transform=(Ue.devicePixelRatio||1)<=1?"translate("+Oe+"px, "+Ne+"px)":"translate3d("+Oe+"px, "+Ne+"px, 0)",Lt))}return Object.assign({},Dt,(n={},n[ze]=Fe?Ne+"px":"",n[Ve]=Ie?Oe+"px":"",n.transform="",n))}function computeStyles(r){var n=r.state,g=r.options,y=g.gpuAcceleration,$=y===void 0?!0:y,L=g.adaptive,re=L===void 0?!0:L,ae=g.roundOffsets,le=ae===void 0?!0:ae,ue={placement:getBasePlacement(n.placement),variation:getVariation(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:$,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,mapToStyles(Object.assign({},ue,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:re,roundOffsets:le})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,mapToStyles(Object.assign({},ue,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:le})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}},passive={passive:!0};function effect$2(r){var n=r.state,g=r.instance,y=r.options,$=y.scroll,L=$===void 0?!0:$,re=y.resize,ae=re===void 0?!0:re,le=getWindow(n.elements.popper),ue=[].concat(n.scrollParents.reference,n.scrollParents.popper);return L&&ue.forEach(function(he){he.addEventListener("scroll",g.update,passive)}),ae&&le.addEventListener("resize",g.update,passive),function(){L&&ue.forEach(function(he){he.removeEventListener("scroll",g.update,passive)}),ae&&le.removeEventListener("resize",g.update,passive)}}var eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function r(){},effect:effect$2,data:{}},hash={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(r){return r.replace(/left|right|bottom|top/g,function(n){return hash[n]})}var hash$1={start:"end",end:"start"};function getOppositeVariationPlacement(r){return r.replace(/start|end/g,function(n){return hash$1[n]})}function getWindowScroll(r){var n=getWindow(r),g=n.pageXOffset,y=n.pageYOffset;return{scrollLeft:g,scrollTop:y}}function getWindowScrollBarX(r){return getBoundingClientRect(getDocumentElement(r)).left+getWindowScroll(r).scrollLeft}function getViewportRect(r){var n=getWindow(r),g=getDocumentElement(r),y=n.visualViewport,$=g.clientWidth,L=g.clientHeight,re=0,ae=0;return y&&($=y.width,L=y.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(re=y.offsetLeft,ae=y.offsetTop)),{width:$,height:L,x:re+getWindowScrollBarX(r),y:ae}}function getDocumentRect(r){var n,g=getDocumentElement(r),y=getWindowScroll(r),$=(n=r.ownerDocument)==null?void 0:n.body,L=max(g.scrollWidth,g.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),re=max(g.scrollHeight,g.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),ae=-y.scrollLeft+getWindowScrollBarX(r),le=-y.scrollTop;return getComputedStyle$1($||g).direction==="rtl"&&(ae+=max(g.clientWidth,$?$.clientWidth:0)-L),{width:L,height:re,x:ae,y:le}}function isScrollParent(r){var n=getComputedStyle$1(r),g=n.overflow,y=n.overflowX,$=n.overflowY;return/auto|scroll|overlay|hidden/.test(g+$+y)}function getScrollParent(r){return["html","body","#document"].indexOf(getNodeName(r))>=0?r.ownerDocument.body:isHTMLElement(r)&&isScrollParent(r)?r:getScrollParent(getParentNode(r))}function listScrollParents(r,n){var g;n===void 0&&(n=[]);var y=getScrollParent(r),$=y===((g=r.ownerDocument)==null?void 0:g.body),L=getWindow(y),re=$?[L].concat(L.visualViewport||[],isScrollParent(y)?y:[]):y,ae=n.concat(re);return $?ae:ae.concat(listScrollParents(getParentNode(re)))}function rectToClientRect(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function getInnerBoundingClientRect(r){var n=getBoundingClientRect(r);return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function getClientRectFromMixedType(r,n){return n===viewport?rectToClientRect(getViewportRect(r)):isElement(n)?getInnerBoundingClientRect(n):rectToClientRect(getDocumentRect(getDocumentElement(r)))}function getClippingParents(r){var n=listScrollParents(getParentNode(r)),g=["absolute","fixed"].indexOf(getComputedStyle$1(r).position)>=0,y=g&&isHTMLElement(r)?getOffsetParent(r):r;return isElement(y)?n.filter(function($){return isElement($)&&contains($,y)&&getNodeName($)!=="body"&&(g?getComputedStyle$1($).position!=="static":!0)}):[]}function getClippingRect(r,n,g){var y=n==="clippingParents"?getClippingParents(r):[].concat(n),$=[].concat(y,[g]),L=$[0],re=$.reduce(function(ae,le){var ue=getClientRectFromMixedType(r,le);return ae.top=max(ue.top,ae.top),ae.right=min(ue.right,ae.right),ae.bottom=min(ue.bottom,ae.bottom),ae.left=max(ue.left,ae.left),ae},getClientRectFromMixedType(r,L));return re.width=re.right-re.left,re.height=re.bottom-re.top,re.x=re.left,re.y=re.top,re}function computeOffsets(r){var n=r.reference,g=r.element,y=r.placement,$=y?getBasePlacement(y):null,L=y?getVariation(y):null,re=n.x+n.width/2-g.width/2,ae=n.y+n.height/2-g.height/2,le;switch($){case top:le={x:re,y:n.y-g.height};break;case bottom:le={x:re,y:n.y+n.height};break;case right:le={x:n.x+n.width,y:ae};break;case left:le={x:n.x-g.width,y:ae};break;default:le={x:n.x,y:n.y}}var ue=$?getMainAxisFromPlacement($):null;if(ue!=null){var he=ue==="y"?"height":"width";switch(L){case start:le[ue]=le[ue]-(n[he]/2-g[he]/2);break;case end:le[ue]=le[ue]+(n[he]/2-g[he]/2);break}}return le}function detectOverflow(r,n){n===void 0&&(n={});var g=n,y=g.placement,$=y===void 0?r.placement:y,L=g.boundary,re=L===void 0?clippingParents:L,ae=g.rootBoundary,le=ae===void 0?viewport:ae,ue=g.elementContext,he=ue===void 0?popper:ue,_e=g.altBoundary,Ce=_e===void 0?!1:_e,$e=g.padding,Oe=$e===void 0?0:$e,xe=mergePaddingObject(typeof Oe!="number"?Oe:expandToHashMap(Oe,basePlacements)),Ne=he===popper?reference:popper,Ie=r.rects.popper,Fe=r.elements[Ce?Ne:he],Ve=getClippingRect(isElement(Fe)?Fe:Fe.contextElement||getDocumentElement(r.elements.popper),re,le),ze=getBoundingClientRect(r.elements.reference),Ue=computeOffsets({reference:ze,element:Ie,strategy:"absolute",placement:$}),qe=rectToClientRect(Object.assign({},Ie,Ue)),kt=he===popper?qe:ze,Et={top:Ve.top-kt.top+xe.top,bottom:kt.bottom-Ve.bottom+xe.bottom,left:Ve.left-kt.left+xe.left,right:kt.right-Ve.right+xe.right},Pt=r.modifiersData.offset;if(he===popper&&Pt){var At=Pt[$];Object.keys(Et).forEach(function(Dt){var Lt=[right,bottom].indexOf(Dt)>=0?1:-1,hn=[top,bottom].indexOf(Dt)>=0?"y":"x";Et[Dt]+=At[hn]*Lt})}return Et}function computeAutoPlacement(r,n){n===void 0&&(n={});var g=n,y=g.placement,$=g.boundary,L=g.rootBoundary,re=g.padding,ae=g.flipVariations,le=g.allowedAutoPlacements,ue=le===void 0?placements:le,he=getVariation(y),_e=he?ae?variationPlacements:variationPlacements.filter(function(Oe){return getVariation(Oe)===he}):basePlacements,Ce=_e.filter(function(Oe){return ue.indexOf(Oe)>=0});Ce.length===0&&(Ce=_e);var $e=Ce.reduce(function(Oe,xe){return Oe[xe]=detectOverflow(r,{placement:xe,boundary:$,rootBoundary:L,padding:re})[getBasePlacement(xe)],Oe},{});return Object.keys($e).sort(function(Oe,xe){return $e[Oe]-$e[xe]})}function getExpandedFallbackPlacements(r){if(getBasePlacement(r)===auto)return[];var n=getOppositePlacement(r);return[getOppositeVariationPlacement(r),n,getOppositeVariationPlacement(n)]}function flip(r){var n=r.state,g=r.options,y=r.name;if(!n.modifiersData[y]._skip){for(var $=g.mainAxis,L=$===void 0?!0:$,re=g.altAxis,ae=re===void 0?!0:re,le=g.fallbackPlacements,ue=g.padding,he=g.boundary,_e=g.rootBoundary,Ce=g.altBoundary,$e=g.flipVariations,Oe=$e===void 0?!0:$e,xe=g.allowedAutoPlacements,Ne=n.options.placement,Ie=getBasePlacement(Ne),Fe=Ie===Ne,Ve=le||(Fe||!Oe?[getOppositePlacement(Ne)]:getExpandedFallbackPlacements(Ne)),ze=[Ne].concat(Ve).reduce(function(Pn,An){return Pn.concat(getBasePlacement(An)===auto?computeAutoPlacement(n,{placement:An,boundary:he,rootBoundary:_e,padding:ue,flipVariations:Oe,allowedAutoPlacements:xe}):An)},[]),Ue=n.rects.reference,qe=n.rects.popper,kt=new Map,Et=!0,Pt=ze[0],At=0;At<ze.length;At++){var Dt=ze[At],Lt=getBasePlacement(Dt),hn=getVariation(Dt)===start,_n=[top,bottom].indexOf(Lt)>=0,vn=_n?"width":"height",jt=detectOverflow(n,{placement:Dt,boundary:he,rootBoundary:_e,altBoundary:Ce,padding:ue}),$n=_n?hn?right:left:hn?bottom:top;Ue[vn]>qe[vn]&&($n=getOppositePlacement($n));var Sn=getOppositePlacement($n),bn=[];if(L&&bn.push(jt[Lt]<=0),ae&&bn.push(jt[$n]<=0,jt[Sn]<=0),bn.every(function(Pn){return Pn})){Pt=Dt,Et=!1;break}kt.set(Dt,bn)}if(Et)for(var wn=Oe?3:1,On=function(An){var Rn=ze.find(function(Nn){var Dn=kt.get(Nn);if(Dn)return Dn.slice(0,An).every(function(In){return In})});if(Rn)return Pt=Rn,"break"},Tn=wn;Tn>0;Tn--){var xn=On(Tn);if(xn==="break")break}n.placement!==Pt&&(n.modifiersData[y]._skip=!0,n.placement=Pt,n.reset=!0)}}var flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(r,n,g){return g===void 0&&(g={x:0,y:0}),{top:r.top-n.height-g.y,right:r.right-n.width+g.x,bottom:r.bottom-n.height+g.y,left:r.left-n.width-g.x}}function isAnySideFullyClipped(r){return[top,right,bottom,left].some(function(n){return r[n]>=0})}function hide(r){var n=r.state,g=r.name,y=n.rects.reference,$=n.rects.popper,L=n.modifiersData.preventOverflow,re=detectOverflow(n,{elementContext:"reference"}),ae=detectOverflow(n,{altBoundary:!0}),le=getSideOffsets(re,y),ue=getSideOffsets(ae,$,L),he=isAnySideFullyClipped(le),_e=isAnySideFullyClipped(ue);n.modifiersData[g]={referenceClippingOffsets:le,popperEscapeOffsets:ue,isReferenceHidden:he,hasPopperEscaped:_e},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":he,"data-popper-escaped":_e})}var hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(r,n,g){var y=getBasePlacement(r),$=[left,top].indexOf(y)>=0?-1:1,L=typeof g=="function"?g(Object.assign({},n,{placement:r})):g,re=L[0],ae=L[1];return re=re||0,ae=(ae||0)*$,[left,right].indexOf(y)>=0?{x:ae,y:re}:{x:re,y:ae}}function offset(r){var n=r.state,g=r.options,y=r.name,$=g.offset,L=$===void 0?[0,0]:$,re=placements.reduce(function(he,_e){return he[_e]=distanceAndSkiddingToXY(_e,n.rects,L),he},{}),ae=re[n.placement],le=ae.x,ue=ae.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=le,n.modifiersData.popperOffsets.y+=ue),n.modifiersData[y]=re}var offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(r){var n=r.state,g=r.name;n.modifiersData[g]=computeOffsets({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(r){return r==="x"?"y":"x"}function preventOverflow(r){var n=r.state,g=r.options,y=r.name,$=g.mainAxis,L=$===void 0?!0:$,re=g.altAxis,ae=re===void 0?!1:re,le=g.boundary,ue=g.rootBoundary,he=g.altBoundary,_e=g.padding,Ce=g.tether,$e=Ce===void 0?!0:Ce,Oe=g.tetherOffset,xe=Oe===void 0?0:Oe,Ne=detectOverflow(n,{boundary:le,rootBoundary:ue,padding:_e,altBoundary:he}),Ie=getBasePlacement(n.placement),Fe=getVariation(n.placement),Ve=!Fe,ze=getMainAxisFromPlacement(Ie),Ue=getAltAxis(ze),qe=n.modifiersData.popperOffsets,kt=n.rects.reference,Et=n.rects.popper,Pt=typeof xe=="function"?xe(Object.assign({},n.rects,{placement:n.placement})):xe,At=typeof Pt=="number"?{mainAxis:Pt,altAxis:Pt}:Object.assign({mainAxis:0,altAxis:0},Pt),Dt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Lt={x:0,y:0};if(qe){if(L){var hn,_n=ze==="y"?top:left,vn=ze==="y"?bottom:right,jt=ze==="y"?"height":"width",$n=qe[ze],Sn=$n+Ne[_n],bn=$n-Ne[vn],wn=$e?-Et[jt]/2:0,On=Fe===start?kt[jt]:Et[jt],Tn=Fe===start?-Et[jt]:-kt[jt],xn=n.elements.arrow,Pn=$e&&xn?getLayoutRect(xn):{width:0,height:0},An=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Rn=An[_n],Nn=An[vn],Dn=within(0,kt[jt],Pn[jt]),In=Ve?kt[jt]/2-wn-Dn-Rn-At.mainAxis:On-Dn-Rn-At.mainAxis,Fn=Ve?-kt[jt]/2+wn+Dn+Nn+At.mainAxis:Tn+Dn+Nn+At.mainAxis,Bn=n.elements.arrow&&getOffsetParent(n.elements.arrow),Mn=Bn?ze==="y"?Bn.clientTop||0:Bn.clientLeft||0:0,Hn=(hn=Dt==null?void 0:Dt[ze])!=null?hn:0,Yn=$n+In-Hn-Mn,qn=$n+Fn-Hn,Xn=within($e?min(Sn,Yn):Sn,$n,$e?max(bn,qn):bn);qe[ze]=Xn,Lt[ze]=Xn-$n}if(ae){var jn,Zn=ze==="x"?top:left,Un=ze==="x"?bottom:right,Jn=qe[Ue],tr=Ue==="y"?"height":"width",sr=Jn+Ne[Zn],or=Jn-Ne[Un],Qn=[top,left].indexOf(Ie)!==-1,rr=(jn=Dt==null?void 0:Dt[Ue])!=null?jn:0,cr=Qn?sr:Jn-kt[tr]-Et[tr]-rr+At.altAxis,vr=Qn?Jn+kt[tr]+Et[tr]-rr-At.altAxis:or,hr=$e&&Qn?withinMaxClamp(cr,Jn,vr):within($e?cr:sr,Jn,$e?vr:or);qe[Ue]=hr,Lt[Ue]=hr-Jn}n.modifiersData[y]=Lt}}var preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function getNodeScroll(r){return r===getWindow(r)||!isHTMLElement(r)?getWindowScroll(r):getHTMLElementScroll(r)}function isElementScaled(r){var n=r.getBoundingClientRect(),g=round(n.width)/r.offsetWidth||1,y=round(n.height)/r.offsetHeight||1;return g!==1||y!==1}function getCompositeRect(r,n,g){g===void 0&&(g=!1);var y=isHTMLElement(n),$=isHTMLElement(n)&&isElementScaled(n),L=getDocumentElement(n),re=getBoundingClientRect(r,$),ae={scrollLeft:0,scrollTop:0},le={x:0,y:0};return(y||!y&&!g)&&((getNodeName(n)!=="body"||isScrollParent(L))&&(ae=getNodeScroll(n)),isHTMLElement(n)?(le=getBoundingClientRect(n,!0),le.x+=n.clientLeft,le.y+=n.clientTop):L&&(le.x=getWindowScrollBarX(L))),{x:re.left+ae.scrollLeft-le.x,y:re.top+ae.scrollTop-le.y,width:re.width,height:re.height}}function order(r){var n=new Map,g=new Set,y=[];r.forEach(function(L){n.set(L.name,L)});function $(L){g.add(L.name);var re=[].concat(L.requires||[],L.requiresIfExists||[]);re.forEach(function(ae){if(!g.has(ae)){var le=n.get(ae);le&&$(le)}}),y.push(L)}return r.forEach(function(L){g.has(L.name)||$(L)}),y}function orderModifiers(r){var n=order(r);return modifierPhases.reduce(function(g,y){return g.concat(n.filter(function($){return $.phase===y}))},[])}function debounce(r){var n;return function(){return n||(n=new Promise(function(g){Promise.resolve().then(function(){n=void 0,g(r())})})),n}}function mergeByName(r){var n=r.reduce(function(g,y){var $=g[y.name];return g[y.name]=$?Object.assign({},$,y,{options:Object.assign({},$.options,y.options),data:Object.assign({},$.data,y.data)}):y,g},{});return Object.keys(n).map(function(g){return n[g]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var r=arguments.length,n=new Array(r),g=0;g<r;g++)n[g]=arguments[g];return!n.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function popperGenerator(r){r===void 0&&(r={});var n=r,g=n.defaultModifiers,y=g===void 0?[]:g,$=n.defaultOptions,L=$===void 0?DEFAULT_OPTIONS:$;return function(ae,le,ue){ue===void 0&&(ue=L);var he={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,L),modifiersData:{},elements:{reference:ae,popper:le},attributes:{},styles:{}},_e=[],Ce=!1,$e={state:he,setOptions:function(Ie){var Fe=typeof Ie=="function"?Ie(he.options):Ie;xe(),he.options=Object.assign({},L,he.options,Fe),he.scrollParents={reference:isElement(ae)?listScrollParents(ae):ae.contextElement?listScrollParents(ae.contextElement):[],popper:listScrollParents(le)};var Ve=orderModifiers(mergeByName([].concat(y,he.options.modifiers)));return he.orderedModifiers=Ve.filter(function(ze){return ze.enabled}),Oe(),$e.update()},forceUpdate:function(){if(!Ce){var Ie=he.elements,Fe=Ie.reference,Ve=Ie.popper;if(areValidElements(Fe,Ve)){he.rects={reference:getCompositeRect(Fe,getOffsetParent(Ve),he.options.strategy==="fixed"),popper:getLayoutRect(Ve)},he.reset=!1,he.placement=he.options.placement,he.orderedModifiers.forEach(function(At){return he.modifiersData[At.name]=Object.assign({},At.data)});for(var ze=0;ze<he.orderedModifiers.length;ze++){if(he.reset===!0){he.reset=!1,ze=-1;continue}var Ue=he.orderedModifiers[ze],qe=Ue.fn,kt=Ue.options,Et=kt===void 0?{}:kt,Pt=Ue.name;typeof qe=="function"&&(he=qe({state:he,options:Et,name:Pt,instance:$e})||he)}}}},update:debounce(function(){return new Promise(function(Ne){$e.forceUpdate(),Ne(he)})}),destroy:function(){xe(),Ce=!0}};if(!areValidElements(ae,le))return $e;$e.setOptions(ue).then(function(Ne){!Ce&&ue.onFirstUpdate&&ue.onFirstUpdate(Ne)});function Oe(){he.orderedModifiers.forEach(function(Ne){var Ie=Ne.name,Fe=Ne.options,Ve=Fe===void 0?{}:Fe,ze=Ne.effect;if(typeof ze=="function"){var Ue=ze({state:he,name:Ie,instance:$e,options:Ve}),qe=function(){};_e.push(Ue||qe)}})}function xe(){_e.forEach(function(Ne){return Ne()}),_e=[]}return $e}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function r(){return document.body};function getValueAtIndexOrReturn(r,n,g){if(Array.isArray(r)){var y=r[n];return y??(Array.isArray(g)?g[n]:g)}return r}function isType(r,n){var g={}.toString.call(r);return g.indexOf("[object")===0&&g.indexOf(n+"]")>-1}function invokeWithArgsOrReturn(r,n){return typeof r=="function"?r.apply(void 0,n):r}function debounce$1(r,n){if(n===0)return r;var g;return function(y){clearTimeout(g),g=setTimeout(function(){r(y)},n)}}function splitBySpaces(r){return r.split(/\s+/).filter(Boolean)}function normalizeToArray(r){return[].concat(r)}function pushIfUnique(r,n){r.indexOf(n)===-1&&r.push(n)}function unique(r){return r.filter(function(n,g){return r.indexOf(n)===g})}function getBasePlacement$1(r){return r.split("-")[0]}function arrayFrom(r){return[].slice.call(r)}function removeUndefinedProps(r){return Object.keys(r).reduce(function(n,g){return r[g]!==void 0&&(n[g]=r[g]),n},{})}function div(){return document.createElement("div")}function isElement$1(r){return["Element","Fragment"].some(function(n){return isType(r,n)})}function isNodeList(r){return isType(r,"NodeList")}function isMouseEvent(r){return isType(r,"MouseEvent")}function isReferenceElement(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function getArrayOfElements(r){return isElement$1(r)?[r]:isNodeList(r)?arrayFrom(r):Array.isArray(r)?r:arrayFrom(document.querySelectorAll(r))}function setTransitionDuration(r,n){r.forEach(function(g){g&&(g.style.transitionDuration=n+"ms")})}function setVisibilityState(r,n){r.forEach(function(g){g&&g.setAttribute("data-state",n)})}function getOwnerDocument(r){var n,g=normalizeToArray(r),y=g[0];return y!=null&&(n=y.ownerDocument)!=null&&n.body?y.ownerDocument:document}function isCursorOutsideInteractiveBorder(r,n){var g=n.clientX,y=n.clientY;return r.every(function($){var L=$.popperRect,re=$.popperState,ae=$.props,le=ae.interactiveBorder,ue=getBasePlacement$1(re.placement),he=re.modifiersData.offset;if(!he)return!0;var _e=ue==="bottom"?he.top.y:0,Ce=ue==="top"?he.bottom.y:0,$e=ue==="right"?he.left.x:0,Oe=ue==="left"?he.right.x:0,xe=L.top-y+_e>le,Ne=y-L.bottom-Ce>le,Ie=L.left-g+$e>le,Fe=g-L.right-Oe>le;return xe||Ne||Ie||Fe})}function updateTransitionEndListener(r,n,g){var y=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function($){r[y]($,g)})}function actualContains(r,n){for(var g=n;g;){var y;if(r.contains(g))return!0;g=g.getRootNode==null||(y=g.getRootNode())==null?void 0:y.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var r=performance.now();r-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=r}function onWindowBlur(){var r=document.activeElement;if(isReferenceElement(r)){var n=r._tippy;r.blur&&!n.state.isVisible&&r.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser=typeof window<"u"&&typeof document<"u",isIE11=isBrowser?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function r(){},onBeforeUpdate:function r(){},onCreate:function r(){},onDestroy:function r(){},onHidden:function r(){},onHide:function r(){},onMount:function r(){},onShow:function r(){},onShown:function r(){},onTrigger:function r(){},onUntrigger:function r(){},onClickOutside:function r(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function r(n){var g=Object.keys(n);g.forEach(function(y){defaultProps[y]=n[y]})};function getExtendedPassedProps(r){var n=r.plugins||[],g=n.reduce(function(y,$){var L=$.name,re=$.defaultValue;if(L){var ae;y[L]=r[L]!==void 0?r[L]:(ae=defaultProps[L])!=null?ae:re}return y},{});return Object.assign({},r,g)}function getDataAttributeProps(r,n){var g=n?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:n}))):defaultKeys,y=g.reduce(function($,L){var re=(r.getAttribute("data-tippy-"+L)||"").trim();if(!re)return $;if(L==="content")$[L]=re;else try{$[L]=JSON.parse(re)}catch{$[L]=re}return $},{});return y}function evaluateProps(r,n){var g=Object.assign({},n,{content:invokeWithArgsOrReturn(n.content,[r])},n.ignoreAttributes?{}:getDataAttributeProps(r,n.plugins));return g.aria=Object.assign({},defaultProps.aria,g.aria),g.aria={expanded:g.aria.expanded==="auto"?n.interactive:g.aria.expanded,content:g.aria.content==="auto"?n.interactive?null:"describedby":g.aria.content},g}var innerHTML=function r(){return"innerHTML"};function dangerouslySetInnerHTML(r,n){r[innerHTML()]=n}function createArrowElement(r){var n=div();return r===!0?n.className=ARROW_CLASS:(n.className=SVG_ARROW_CLASS,isElement$1(r)?n.appendChild(r):dangerouslySetInnerHTML(n,r)),n}function setContent(r,n){isElement$1(n.content)?(dangerouslySetInnerHTML(r,""),r.appendChild(n.content)):typeof n.content!="function"&&(n.allowHTML?dangerouslySetInnerHTML(r,n.content):r.textContent=n.content)}function getChildren(r){var n=r.firstElementChild,g=arrayFrom(n.children);return{box:n,content:g.find(function(y){return y.classList.contains(CONTENT_CLASS)}),arrow:g.find(function(y){return y.classList.contains(ARROW_CLASS)||y.classList.contains(SVG_ARROW_CLASS)}),backdrop:g.find(function(y){return y.classList.contains(BACKDROP_CLASS)})}}function render(r){var n=div(),g=div();g.className=BOX_CLASS,g.setAttribute("data-state","hidden"),g.setAttribute("tabindex","-1");var y=div();y.className=CONTENT_CLASS,y.setAttribute("data-state","hidden"),setContent(y,r.props),n.appendChild(g),g.appendChild(y),$(r.props,r.props);function $(L,re){var ae=getChildren(n),le=ae.box,ue=ae.content,he=ae.arrow;re.theme?le.setAttribute("data-theme",re.theme):le.removeAttribute("data-theme"),typeof re.animation=="string"?le.setAttribute("data-animation",re.animation):le.removeAttribute("data-animation"),re.inertia?le.setAttribute("data-inertia",""):le.removeAttribute("data-inertia"),le.style.maxWidth=typeof re.maxWidth=="number"?re.maxWidth+"px":re.maxWidth,re.role?le.setAttribute("role",re.role):le.removeAttribute("role"),(L.content!==re.content||L.allowHTML!==re.allowHTML)&&setContent(ue,r.props),re.arrow?he?L.arrow!==re.arrow&&(le.removeChild(he),le.appendChild(createArrowElement(re.arrow))):le.appendChild(createArrowElement(re.arrow)):he&&le.removeChild(he)}return{popper:n,onUpdate:$}}render.$$tippy=!0;var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(r,n){var g=evaluateProps(r,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(n)))),y,$,L,re=!1,ae=!1,le=!1,ue=!1,he,_e,Ce,$e=[],Oe=debounce$1(Yn,g.interactiveDebounce),xe,Ne=idCounter++,Ie=null,Fe=unique(g.plugins),Ve={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},ze={id:Ne,reference:r,popper:div(),popperInstance:Ie,props:g,state:Ve,plugins:Fe,clearDelayTimeouts:cr,setProps:vr,setContent:hr,show:br,hide:pr,hideWithInteractivity:Tr,enable:Qn,disable:rr,unmount:_r,destroy:Vn};if(!g.render)return ze;var Ue=g.render(ze),qe=Ue.popper,kt=Ue.onUpdate;qe.setAttribute("data-tippy-root",""),qe.id="tippy-"+ze.id,ze.popper=qe,r._tippy=ze,qe._tippy=ze;var Et=Fe.map(function(kn){return kn.fn(ze)}),Pt=r.hasAttribute("aria-expanded");return Bn(),wn(),$n(),Sn("onCreate",[ze]),g.showOnCreate&&sr(),qe.addEventListener("mouseenter",function(){ze.props.interactive&&ze.state.isVisible&&ze.clearDelayTimeouts()}),qe.addEventListener("mouseleave",function(){ze.props.interactive&&ze.props.trigger.indexOf("mouseenter")>=0&&_n().addEventListener("mousemove",Oe)}),ze;function At(){var kn=ze.props.touch;return Array.isArray(kn)?kn:[kn,0]}function Dt(){return At()[0]==="hold"}function Lt(){var kn;return!!((kn=ze.props.render)!=null&&kn.$$tippy)}function hn(){return xe||r}function _n(){var kn=hn().parentNode;return kn?getOwnerDocument(kn):document}function vn(){return getChildren(qe)}function jt(kn){return ze.state.isMounted&&!ze.state.isVisible||currentInput.isTouch||he&&he.type==="focus"?0:getValueAtIndexOrReturn(ze.props.delay,kn?0:1,defaultProps.delay)}function $n(kn){kn===void 0&&(kn=!1),qe.style.pointerEvents=ze.props.interactive&&!kn?"":"none",qe.style.zIndex=""+ze.props.zIndex}function Sn(kn,Ln,En){if(En===void 0&&(En=!0),Et.forEach(function(Kn){Kn[kn]&&Kn[kn].apply(Kn,Ln)}),En){var zn;(zn=ze.props)[kn].apply(zn,Ln)}}function bn(){var kn=ze.props.aria;if(kn.content){var Ln="aria-"+kn.content,En=qe.id,zn=normalizeToArray(ze.props.triggerTarget||r);zn.forEach(function(Kn){var ir=Kn.getAttribute(Ln);if(ze.state.isVisible)Kn.setAttribute(Ln,ir?ir+" "+En:En);else{var fr=ir&&ir.replace(En,"").trim();fr?Kn.setAttribute(Ln,fr):Kn.removeAttribute(Ln)}})}}function wn(){if(!(Pt||!ze.props.aria.expanded)){var kn=normalizeToArray(ze.props.triggerTarget||r);kn.forEach(function(Ln){ze.props.interactive?Ln.setAttribute("aria-expanded",ze.state.isVisible&&Ln===hn()?"true":"false"):Ln.removeAttribute("aria-expanded")})}}function On(){_n().removeEventListener("mousemove",Oe),mouseMoveListeners=mouseMoveListeners.filter(function(kn){return kn!==Oe})}function Tn(kn){if(!(currentInput.isTouch&&(le||kn.type==="mousedown"))){var Ln=kn.composedPath&&kn.composedPath()[0]||kn.target;if(!(ze.props.interactive&&actualContains(qe,Ln))){if(normalizeToArray(ze.props.triggerTarget||r).some(function(En){return actualContains(En,Ln)})){if(currentInput.isTouch||ze.state.isVisible&&ze.props.trigger.indexOf("click")>=0)return}else Sn("onClickOutside",[ze,kn]);ze.props.hideOnClick===!0&&(ze.clearDelayTimeouts(),ze.hide(),ae=!0,setTimeout(function(){ae=!1}),ze.state.isMounted||Rn())}}}function xn(){le=!0}function Pn(){le=!1}function An(){var kn=_n();kn.addEventListener("mousedown",Tn,!0),kn.addEventListener("touchend",Tn,TOUCH_OPTIONS),kn.addEventListener("touchstart",Pn,TOUCH_OPTIONS),kn.addEventListener("touchmove",xn,TOUCH_OPTIONS)}function Rn(){var kn=_n();kn.removeEventListener("mousedown",Tn,!0),kn.removeEventListener("touchend",Tn,TOUCH_OPTIONS),kn.removeEventListener("touchstart",Pn,TOUCH_OPTIONS),kn.removeEventListener("touchmove",xn,TOUCH_OPTIONS)}function Nn(kn,Ln){In(kn,function(){!ze.state.isVisible&&qe.parentNode&&qe.parentNode.contains(qe)&&Ln()})}function Dn(kn,Ln){In(kn,Ln)}function In(kn,Ln){var En=vn().box;function zn(Kn){Kn.target===En&&(updateTransitionEndListener(En,"remove",zn),Ln())}if(kn===0)return Ln();updateTransitionEndListener(En,"remove",_e),updateTransitionEndListener(En,"add",zn),_e=zn}function Fn(kn,Ln,En){En===void 0&&(En=!1);var zn=normalizeToArray(ze.props.triggerTarget||r);zn.forEach(function(Kn){Kn.addEventListener(kn,Ln,En),$e.push({node:Kn,eventType:kn,handler:Ln,options:En})})}function Bn(){Dt()&&(Fn("touchstart",Hn,{passive:!0}),Fn("touchend",qn,{passive:!0})),splitBySpaces(ze.props.trigger).forEach(function(kn){if(kn!=="manual")switch(Fn(kn,Hn),kn){case"mouseenter":Fn("mouseleave",qn);break;case"focus":Fn(isIE11?"focusout":"blur",Xn);break;case"focusin":Fn("focusout",Xn);break}})}function Mn(){$e.forEach(function(kn){var Ln=kn.node,En=kn.eventType,zn=kn.handler,Kn=kn.options;Ln.removeEventListener(En,zn,Kn)}),$e=[]}function Hn(kn){var Ln,En=!1;if(!(!ze.state.isEnabled||jn(kn)||ae)){var zn=((Ln=he)==null?void 0:Ln.type)==="focus";he=kn,xe=kn.currentTarget,wn(),!ze.state.isVisible&&isMouseEvent(kn)&&mouseMoveListeners.forEach(function(Kn){return Kn(kn)}),kn.type==="click"&&(ze.props.trigger.indexOf("mouseenter")<0||re)&&ze.props.hideOnClick!==!1&&ze.state.isVisible?En=!0:sr(kn),kn.type==="click"&&(re=!En),En&&!zn&&or(kn)}}function Yn(kn){var Ln=kn.target,En=hn().contains(Ln)||qe.contains(Ln);if(!(kn.type==="mousemove"&&En)){var zn=tr().concat(qe).map(function(Kn){var ir,fr=Kn._tippy,Sr=(ir=fr.popperInstance)==null?void 0:ir.state;return Sr?{popperRect:Kn.getBoundingClientRect(),popperState:Sr,props:g}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(zn,kn)&&(On(),or(kn))}}function qn(kn){var Ln=jn(kn)||ze.props.trigger.indexOf("click")>=0&&re;if(!Ln){if(ze.props.interactive){ze.hideWithInteractivity(kn);return}or(kn)}}function Xn(kn){ze.props.trigger.indexOf("focusin")<0&&kn.target!==hn()||ze.props.interactive&&kn.relatedTarget&&qe.contains(kn.relatedTarget)||or(kn)}function jn(kn){return currentInput.isTouch?Dt()!==kn.type.indexOf("touch")>=0:!1}function Zn(){Un();var kn=ze.props,Ln=kn.popperOptions,En=kn.placement,zn=kn.offset,Kn=kn.getReferenceClientRect,ir=kn.moveTransition,fr=Lt()?getChildren(qe).arrow:null,Sr=Kn?{getBoundingClientRect:Kn,contextElement:Kn.contextElement||hn()}:r,Cr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(yr){var wr=yr.state;if(Lt()){var Lr=vn(),Rr=Lr.box;["placement","reference-hidden","escaped"].forEach(function(Ar){Ar==="placement"?Rr.setAttribute("data-placement",wr.placement):wr.attributes.popper["data-popper-"+Ar]?Rr.setAttribute("data-"+Ar,""):Rr.removeAttribute("data-"+Ar)}),wr.attributes.popper={}}}},mr=[{name:"offset",options:{offset:zn}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ir}},Cr];Lt()&&fr&&mr.push({name:"arrow",options:{element:fr,padding:3}}),mr.push.apply(mr,(Ln==null?void 0:Ln.modifiers)||[]),ze.popperInstance=createPopper(Sr,qe,Object.assign({},Ln,{placement:En,onFirstUpdate:Ce,modifiers:mr}))}function Un(){ze.popperInstance&&(ze.popperInstance.destroy(),ze.popperInstance=null)}function Jn(){var kn=ze.props.appendTo,Ln,En=hn();ze.props.interactive&&kn===TIPPY_DEFAULT_APPEND_TO||kn==="parent"?Ln=En.parentNode:Ln=invokeWithArgsOrReturn(kn,[En]),Ln.contains(qe)||Ln.appendChild(qe),ze.state.isMounted=!0,Zn()}function tr(){return arrayFrom(qe.querySelectorAll("[data-tippy-root]"))}function sr(kn){ze.clearDelayTimeouts(),kn&&Sn("onTrigger",[ze,kn]),An();var Ln=jt(!0),En=At(),zn=En[0],Kn=En[1];currentInput.isTouch&&zn==="hold"&&Kn&&(Ln=Kn),Ln?y=setTimeout(function(){ze.show()},Ln):ze.show()}function or(kn){if(ze.clearDelayTimeouts(),Sn("onUntrigger",[ze,kn]),!ze.state.isVisible){Rn();return}if(!(ze.props.trigger.indexOf("mouseenter")>=0&&ze.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(kn.type)>=0&&re)){var Ln=jt(!1);Ln?$=setTimeout(function(){ze.state.isVisible&&ze.hide()},Ln):L=requestAnimationFrame(function(){ze.hide()})}}function Qn(){ze.state.isEnabled=!0}function rr(){ze.hide(),ze.state.isEnabled=!1}function cr(){clearTimeout(y),clearTimeout($),cancelAnimationFrame(L)}function vr(kn){if(!ze.state.isDestroyed){Sn("onBeforeUpdate",[ze,kn]),Mn();var Ln=ze.props,En=evaluateProps(r,Object.assign({},Ln,removeUndefinedProps(kn),{ignoreAttributes:!0}));ze.props=En,Bn(),Ln.interactiveDebounce!==En.interactiveDebounce&&(On(),Oe=debounce$1(Yn,En.interactiveDebounce)),Ln.triggerTarget&&!En.triggerTarget?normalizeToArray(Ln.triggerTarget).forEach(function(zn){zn.removeAttribute("aria-expanded")}):En.triggerTarget&&r.removeAttribute("aria-expanded"),wn(),$n(),kt&&kt(Ln,En),ze.popperInstance&&(Zn(),tr().forEach(function(zn){requestAnimationFrame(zn._tippy.popperInstance.forceUpdate)})),Sn("onAfterUpdate",[ze,kn])}}function hr(kn){ze.setProps({content:kn})}function br(){var kn=ze.state.isVisible,Ln=ze.state.isDestroyed,En=!ze.state.isEnabled,zn=currentInput.isTouch&&!ze.props.touch,Kn=getValueAtIndexOrReturn(ze.props.duration,0,defaultProps.duration);if(!(kn||Ln||En||zn)&&!hn().hasAttribute("disabled")&&(Sn("onShow",[ze],!1),ze.props.onShow(ze)!==!1)){if(ze.state.isVisible=!0,Lt()&&(qe.style.visibility="visible"),$n(),An(),ze.state.isMounted||(qe.style.transition="none"),Lt()){var ir=vn(),fr=ir.box,Sr=ir.content;setTransitionDuration([fr,Sr],0)}Ce=function(){var mr;if(!(!ze.state.isVisible||ue)){if(ue=!0,qe.offsetHeight,qe.style.transition=ze.props.moveTransition,Lt()&&ze.props.animation){var $r=vn(),yr=$r.box,wr=$r.content;setTransitionDuration([yr,wr],Kn),setVisibilityState([yr,wr],"visible")}bn(),wn(),pushIfUnique(mountedInstances,ze),(mr=ze.popperInstance)==null||mr.forceUpdate(),Sn("onMount",[ze]),ze.props.animation&&Lt()&&Dn(Kn,function(){ze.state.isShown=!0,Sn("onShown",[ze])})}},Jn()}}function pr(){var kn=!ze.state.isVisible,Ln=ze.state.isDestroyed,En=!ze.state.isEnabled,zn=getValueAtIndexOrReturn(ze.props.duration,1,defaultProps.duration);if(!(kn||Ln||En)&&(Sn("onHide",[ze],!1),ze.props.onHide(ze)!==!1)){if(ze.state.isVisible=!1,ze.state.isShown=!1,ue=!1,re=!1,Lt()&&(qe.style.visibility="hidden"),On(),Rn(),$n(!0),Lt()){var Kn=vn(),ir=Kn.box,fr=Kn.content;ze.props.animation&&(setTransitionDuration([ir,fr],zn),setVisibilityState([ir,fr],"hidden"))}bn(),wn(),ze.props.animation?Lt()&&Nn(zn,ze.unmount):ze.unmount()}}function Tr(kn){_n().addEventListener("mousemove",Oe),pushIfUnique(mouseMoveListeners,Oe),Oe(kn)}function _r(){ze.state.isVisible&&ze.hide(),ze.state.isMounted&&(Un(),tr().forEach(function(kn){kn._tippy.unmount()}),qe.parentNode&&qe.parentNode.removeChild(qe),mountedInstances=mountedInstances.filter(function(kn){return kn!==ze}),ze.state.isMounted=!1,Sn("onHidden",[ze]))}function Vn(){ze.state.isDestroyed||(ze.clearDelayTimeouts(),ze.unmount(),Mn(),delete r._tippy,ze.state.isDestroyed=!0,Sn("onDestroy",[ze]))}}function tippy(r,n){n===void 0&&(n={});var g=defaultProps.plugins.concat(n.plugins||[]);bindGlobalEventListeners();var y=Object.assign({},n,{plugins:g}),$=getArrayOfElements(r),L=$.reduce(function(re,ae){var le=ae&&createTippy(ae,y);return le&&re.push(le),re},[]);return isElement$1(r)?L[0]:L}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function r(n){var g=n.state,y={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(g.elements.popper.style,y.popper),g.styles=y,g.elements.arrow&&Object.assign(g.elements.arrow.style,y.arrow)}});var animateFill={name:"animateFill",defaultValue:!1,fn:function r(n){var g;if(!((g=n.props.render)!=null&&g.$$tippy))return{};var y=getChildren(n.popper),$=y.box,L=y.content,re=n.props.animateFill?createBackdropElement():null;return{onCreate:function(){re&&($.insertBefore(re,$.firstElementChild),$.setAttribute("data-animatefill",""),$.style.overflow="hidden",n.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(re){var le=$.style.transitionDuration,ue=Number(le.replace("ms",""));L.style.transitionDelay=Math.round(ue/10)+"ms",re.style.transitionDuration=le,setVisibilityState([re],"visible")}},onShow:function(){re&&(re.style.transitionDuration="0ms")},onHide:function(){re&&setVisibilityState([re],"hidden")}}}};function createBackdropElement(){var r=div();return r.className=BACKDROP_CLASS,setVisibilityState([r],"hidden"),r}var mouseCoords={clientX:0,clientY:0},activeInstances=[];function storeMouseCoords(r){var n=r.clientX,g=r.clientY;mouseCoords={clientX:n,clientY:g}}function addMouseCoordsListener(r){r.addEventListener("mousemove",storeMouseCoords)}function removeMouseCoordsListener(r){r.removeEventListener("mousemove",storeMouseCoords)}var followCursor={name:"followCursor",defaultValue:!1,fn:function r(n){var g=n.reference,y=getOwnerDocument(n.props.triggerTarget||g),$=!1,L=!1,re=!0,ae=n.props;function le(){return n.props.followCursor==="initial"&&n.state.isVisible}function ue(){y.addEventListener("mousemove",Ce)}function he(){y.removeEventListener("mousemove",Ce)}function _e(){$=!0,n.setProps({getReferenceClientRect:null}),$=!1}function Ce(xe){var Ne=xe.target?g.contains(xe.target):!0,Ie=n.props.followCursor,Fe=xe.clientX,Ve=xe.clientY,ze=g.getBoundingClientRect(),Ue=Fe-ze.left,qe=Ve-ze.top;(Ne||!n.props.interactive)&&n.setProps({getReferenceClientRect:function(){var Et=g.getBoundingClientRect(),Pt=Fe,At=Ve;Ie==="initial"&&(Pt=Et.left+Ue,At=Et.top+qe);var Dt=Ie==="horizontal"?Et.top:At,Lt=Ie==="vertical"?Et.right:Pt,hn=Ie==="horizontal"?Et.bottom:At,_n=Ie==="vertical"?Et.left:Pt;return{width:Lt-_n,height:hn-Dt,top:Dt,right:Lt,bottom:hn,left:_n}}})}function $e(){n.props.followCursor&&(activeInstances.push({instance:n,doc:y}),addMouseCoordsListener(y))}function Oe(){activeInstances=activeInstances.filter(function(xe){return xe.instance!==n}),activeInstances.filter(function(xe){return xe.doc===y}).length===0&&removeMouseCoordsListener(y)}return{onCreate:$e,onDestroy:Oe,onBeforeUpdate:function(){ae=n.props},onAfterUpdate:function(Ne,Ie){var Fe=Ie.followCursor;$||Fe!==void 0&&ae.followCursor!==Fe&&(Oe(),Fe?($e(),n.state.isMounted&&!L&&!le()&&ue()):(he(),_e()))},onMount:function(){n.props.followCursor&&!L&&(re&&(Ce(mouseCoords),re=!1),le()||ue())},onTrigger:function(Ne,Ie){isMouseEvent(Ie)&&(mouseCoords={clientX:Ie.clientX,clientY:Ie.clientY}),L=Ie.type==="focus"},onHidden:function(){n.props.followCursor&&(_e(),he(),re=!0)}}}};function getProps(r,n){var g;return{popperOptions:Object.assign({},r.popperOptions,{modifiers:[].concat((((g=r.popperOptions)==null?void 0:g.modifiers)||[]).filter(function(y){var $=y.name;return $!==n.name}),[n])})}}var inlinePositioning={name:"inlinePositioning",defaultValue:!1,fn:function r(n){var g=n.reference;function y(){return!!n.props.inlinePositioning}var $,L=-1,re=!1,ae=[],le={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function($e){var Oe=$e.state;y()&&(ae.indexOf(Oe.placement)!==-1&&(ae=[]),$!==Oe.placement&&ae.indexOf(Oe.placement)===-1&&(ae.push(Oe.placement),n.setProps({getReferenceClientRect:function(){return ue(Oe.placement)}})),$=Oe.placement)}};function ue(Ce){return getInlineBoundingClientRect(getBasePlacement$1(Ce),g.getBoundingClientRect(),arrayFrom(g.getClientRects()),L)}function he(Ce){re=!0,n.setProps(Ce),re=!1}function _e(){re||he(getProps(n.props,le))}return{onCreate:_e,onAfterUpdate:_e,onTrigger:function($e,Oe){if(isMouseEvent(Oe)){var xe=arrayFrom(n.reference.getClientRects()),Ne=xe.find(function(Fe){return Fe.left-2<=Oe.clientX&&Fe.right+2>=Oe.clientX&&Fe.top-2<=Oe.clientY&&Fe.bottom+2>=Oe.clientY}),Ie=xe.indexOf(Ne);L=Ie>-1?Ie:L}},onHidden:function(){L=-1}}}};function getInlineBoundingClientRect(r,n,g,y){if(g.length<2||r===null)return n;if(g.length===2&&y>=0&&g[0].left>g[1].right)return g[y]||n;switch(r){case"top":case"bottom":{var $=g[0],L=g[g.length-1],re=r==="top",ae=$.top,le=L.bottom,ue=re?$.left:L.left,he=re?$.right:L.right,_e=he-ue,Ce=le-ae;return{top:ae,bottom:le,left:ue,right:he,width:_e,height:Ce}}case"left":case"right":{var $e=Math.min.apply(Math,g.map(function(qe){return qe.left})),Oe=Math.max.apply(Math,g.map(function(qe){return qe.right})),xe=g.filter(function(qe){return r==="left"?qe.left===$e:qe.right===Oe}),Ne=xe[0].top,Ie=xe[xe.length-1].bottom,Fe=$e,Ve=Oe,ze=Ve-Fe,Ue=Ie-Ne;return{top:Ne,bottom:Ie,left:Fe,right:Ve,width:ze,height:Ue}}default:return n}}var sticky={name:"sticky",defaultValue:!1,fn:function r(n){var g=n.reference,y=n.popper;function $(){return n.popperInstance?n.popperInstance.state.elements.reference:g}function L(ue){return n.props.sticky===!0||n.props.sticky===ue}var re=null,ae=null;function le(){var ue=L("reference")?$().getBoundingClientRect():null,he=L("popper")?y.getBoundingClientRect():null;(ue&&areRectsDifferent(re,ue)||he&&areRectsDifferent(ae,he))&&n.popperInstance&&n.popperInstance.update(),re=ue,ae=he,n.state.isMounted&&requestAnimationFrame(le)}return{onMount:function(){n.props.sticky&&le()}}}};function areRectsDifferent(r,n){return r&&n?r.top!==n.top||r.right!==n.right||r.bottom!==n.bottom||r.left!==n.left:!0}tippy.setDefaultProps({render});tippy.setDefaultProps({onShow:r=>{if(!r.props.content)return!1}});const isComponentInstance=r=>r instanceof Object&&"$"in r&&"$el"in r;function useTippy(r,n={},g={mount:!0,appName:"Tippy"}){g=Object.assign({mount:!0,appName:"Tippy"},g);const y=getCurrentInstance(),$=ref$1(),L=ref$1({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),re=shallowRef();let ae=null;const le=()=>ae||(ae=document.createDocumentFragment(),ae),ue=kt=>{let Et,Pt=isRef(kt)?kt.value:kt;return isVNode(Pt)?(re.value||(re.value=createApp({name:g.appName,setup:()=>()=>isRef(kt)?kt.value:kt}),y&&Object.assign(re.value._context,y.appContext),re.value.mount(le())),Et=()=>le()):typeof Pt=="object"?(re.value||(re.value=createApp({name:g.appName,setup:()=>()=>h$1(isRef(kt)?kt.value:kt)}),y&&Object.assign(re.value._context,y.appContext),re.value.mount(le())),Et=()=>le()):Et=Pt,Et},he=kt=>{let Et={};return isRef(kt)?Et=kt.value||{}:isReactive(kt)?Et={...kt}:Et={...kt},Et.content&&(Et.content=ue(Et.content)),Et.triggerTarget&&(Et.triggerTarget=isRef(Et.triggerTarget)?Et.triggerTarget.value:Et.triggerTarget),(!Et.plugins||!Array.isArray(Et.plugins))&&(Et.plugins=[]),Et.plugins=Et.plugins.filter(Pt=>Pt.name!=="vueTippyReactiveState"),Et.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){L.value.isEnabled=!0},onMount(){L.value.isMounted=!0},onShow(){L.value.isMounted=!0,L.value.isVisible=!0},onShown(){L.value.isShown=!0},onHide(){L.value.isMounted=!1,L.value.isVisible=!1},onHidden(){L.value.isShown=!1},onUnmounted(){L.value.isMounted=!1},onDestroy(){L.value.isDestroyed=!0}})}),Et},_e=()=>{$.value&&$.value.setProps(he(n))},Ce=()=>{!$.value||!n.content||$.value.setContent(ue(n.content))},$e=kt=>{var Et;(Et=$.value)===null||Et===void 0||Et.setContent(ue(kt))},Oe=kt=>{var Et;(Et=$.value)===null||Et===void 0||Et.setProps(he(kt))},xe=()=>{var kt;$.value&&($.value.destroy(),$.value=void 0),ae=null,(kt=re.value)===null||kt===void 0||kt.unmount(),re.value=void 0},Ne=()=>{var kt;(kt=$.value)===null||kt===void 0||kt.show()},Ie=()=>{var kt;(kt=$.value)===null||kt===void 0||kt.hide()},Fe=()=>{var kt;(kt=$.value)===null||kt===void 0||kt.disable(),L.value.isEnabled=!1},Ve=()=>{var kt;(kt=$.value)===null||kt===void 0||kt.enable(),L.value.isEnabled=!0},ze=()=>{var kt;(kt=$.value)===null||kt===void 0||kt.unmount()},Ue=()=>{if(!r)return;let kt=isRef(r)?r.value:r;typeof kt=="function"&&(kt=kt()),isComponentInstance(kt)&&(kt=kt.$el),kt&&($.value=tippy(kt,he(n)),kt.$tippy=qe)},qe={tippy:$,refresh:_e,refreshContent:Ce,setContent:$e,setProps:Oe,destroy:xe,hide:Ie,show:Ne,disable:Fe,enable:Ve,unmount:ze,mount:Ue,state:L};return g.mount&&(y?y.isMounted?Ue():onMounted(Ue):Ue()),y&&onUnmounted(()=>{xe()}),isRef(n)||isReactive(n)?watch$1(n,_e,{immediate:!1}):isRef(n.content)&&watch$1(n.content,Ce,{immediate:!1}),qe}const booleanProps=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let props={};Object.keys(tippy.defaultProps).forEach(r=>{booleanProps.includes(r)?props[r]={type:Boolean,default:function(){return tippy.defaultProps[r]}}:props[r]={default:function(){return tippy.defaultProps[r]}}});const setDefaultProps$1=tippy.setDefaultProps;setDefaultProps$1({ignoreAttributes:!0,plugins:[sticky,inlinePositioning,followCursor,animateFill]});const _sfc_main=Object.assign({name:"AjmerText"},{__name:"index",props:{lineClamp:{type:Number},tippyProps:{type:Object,default:()=>({})}},setup(r){const n=r,g=useSlots(),y=ref$1(),$=ref$1(),L=le=>n.lineClamp?le.scrollHeight>le.clientHeight:le.scrollWidth>le.clientWidth,re=()=>({content:h$1(g.content||g.default),...n.tippyProps});function ae(le){L(le.target)?($.value.setProps(re()),$.value.enable()):$.value.disable()}return onMounted(()=>{var le;$.value=useTippy((le=y.value)==null?void 0:le.$el,re())}),(le,ue)=>{const he=resolveComponent("el-text");return openBlock(),createBlock(he,mergeProps({truncated:!r.lineClamp,lineClamp:r.lineClamp,...le.$attrs},{ref_key:"textRef",ref:y,onMouseover:withModifiers(ae,["self"])}),{default:withCtx(()=>[renderSlot(le.$slots,"default")]),_:3},16)}}});_sfc_main.install=r=>{r.component(_sfc_main.name,_sfc_main)};const components={AjmerFontIcon,AjmerIconifyIconOffline,AjmerIconifyIconOnline,AjmerLoading,AjmerMotion,AjmerQuery,AjmerTable,AjmerUpDown,AjmerRender,AjmerForm:_sfc_main$5,AjmerIconSelect,AjmerECharts:_sfc_main$3,AjmerCode,AjmerImageVerify:_sfc_main$1,AjmerTypeit,AjmerText:_sfc_main};let install=r=>{for(const n in components)r.use(components[n])};typeof window<"u"&&window.Vue&&install(window.Vue);const RawTheme={...theme$2,enhanceApp(r){theme$2.enhanceApp(r),useComponents(r.app),r.app.use(installer,{locale:zhCn}),r.app.use(install)}};export{AjmerIconifyIconOnline as A,Cn as C,ElPopconfirm as E,RawTheme as R,W$1 as W,ElButton as a,ElDialog as b,useTimeoutFn$1 as c,useData as d,createSearchTranslate as e,ro as r,useVModel$1 as u,z};
